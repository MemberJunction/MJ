{
  "version": "1.0.0",
  "summary": {
    "createdAt": "2025-11-09T03:52:24.633Z",
    "lastModified": "2025-11-09T03:53:40.502Z",
    "totalIterations": 1,
    "totalPromptsRun": 28,
    "totalInputTokens": 0,
    "totalOutputTokens": 0,
    "totalTokens": 77239,
    "totalSchemas": 2,
    "totalTables": 20,
    "totalColumns": 162,
    "estimatedCost": 0
  },
  "database": {
    "name": "LousyDB",
    "server": "localhost",
    "analyzedAt": "2025-11-09T03:52:24.633Z"
  },
  "phases": {
    "descriptionGeneration": [
      {
        "runId": "run_1762660353331_3eiq482md",
        "startedAt": "2025-11-09T03:52:33.331Z",
        "status": "in_progress",
        "levelsProcessed": 1,
        "iterationsPerformed": 1,
        "backpropagationCount": 1,
        "sanityCheckCount": 1,
        "converged": false,
        "modelUsed": "openai/gpt-oss-120b",
        "vendor": "GroqLLM",
        "temperature": 0.1,
        "totalTokensUsed": 77239,
        "estimatedCost": 0,
        "warnings": [
          "[Level 0] MEDIUM: inv_adj - The column **usr** references a user/employee who performed the adjustment, but no user (or employee) table is defined in the dependency level, leaving the foreign‑key relationship undefined.",
          "[Level 0] MEDIUM: inv_cnt - The **usr** column records who performed the count, yet no user table exists, making the reference ambiguous.",
          "[Level 0] LOW: inv_cat - Top‑level categories are described as having **prnt_id** either NULL *or* the same as **cat_id**. Using the same ID as its own parent contradicts typical hierarchical design where NULL denotes a root.",
          "[Level 0] HIGH: inv_po_line - Purchase order line items track **rcv_qty**, but the goods receipt table (**inv_rcv**) only stores **po_id** and **whs_id**, with no reference to the specific line items or product IDs, preventing accurate receipt‑to‑line reconciliation.",
          "[Level 0] HIGH: inv_rcv - See issue for inv_po_line – the receipt table lacks product‑level detail, breaking the expected foreign‑key relationship to purchase order lines.",
          "[Level 0] MEDIUM: sales_cst - The **rep_id** column references a sales representative, but no sales‑rep (or employee) table is defined, leaving the relationship undefined.",
          "[Level 0] LOW: sales_ord_hdr - The **ship_amt** column is limited to values (0, 15, 25) while the purchase order header’s **ship_amt** allows (0, 150). The differing business rules for shipping charges across purchasing and sales are not explained, which may cause confusion."
        ],
        "errors": [],
        "processingLog": [
          {
            "level": 0,
            "schema": "inv",
            "table": "adj",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3045,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:52:35.863Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 300\n\n\n## Columns\n\n- **adj_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 300 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [258,129,278,276,120,286,142,280,99,227,66,106,253,54,64,269,71,260,290,40]\n\n- **prd_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [142,122,89,21,127,163,167,69,90,80,11,146,137,128,15,159,179,43,6,58]\n\n- **whs_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 5, 4, 3, 2, 8, 7, 6, 1\n  \n  \n  - Sample Values: [8,4,3,1,3,6,6,8,8,7,5,6,4,7,3,2,1,6,1,7]\n\n- **adj_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 300 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-04-25T00:00:00.000Z\",\"2024-05-24T00:00:00.000Z\",\"2024-04-16T00:00:00.000Z\",\"2024-06-28T00:00:00.000Z\",\"2024-06-17T00:00:00.000Z\",\"2024-12-15T00:00:00.000Z\",\"2024-11-16T00:00:00.000Z\",\"2024-12-11T00:00:00.000Z\",\"2024-05-26T00:00:00.000Z\",\"2024-07-23T00:00:00.000Z\",\"2024-06-06T00:00:00.000Z\",\"2024-09-12T00:00:00.000Z\",\"2024-08-21T00:00:00.000Z\",\"2024-09-09T00:00:00.000Z\",\"2024-04-24T00:00:00.000Z\",\"2024-06-07T00:00:00.000Z\",\"2024-10-31T00:00:00.000Z\",\"2024-12-29T00:00:00.000Z\",\"2024-12-10T00:00:00.000Z\",\"2024-07-19T00:00:00.000Z\"]\n\n- **qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 40 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [18,-1,16,-11,-7,-2,24,-2,-10,-9,-18,-15,14,-15,22,-18,-14,-9,34,-1]\n\n- **rsn** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: STL, EXP, DAM, COR\n  \n  - Avg Length: 3 chars\n  - Sample Values: [\"DAM\",\"DAM\",\"EXP\",\"COR\",\"COR\",\"STL\",\"DAM\",\"DAM\",\"EXP\",\"DAM\",\"STL\",\"EXP\",\"EXP\",\"COR\",\"DAM\",\"COR\",\"COR\",\"DAM\",\"COR\",\"EXP\"]\n\n- **usr** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 297 (100% unique)\n  \n  \n  \n  - Avg Length: 13 chars\n  - Sample Values: [\"Frank Scott\",\"Christine Martinez\",\"Dennis Hernandez\",\"Shirley Cook\",\"Sharon Chavez\",\"Catherine Castillo\",\"Jessica Mitchell\",\"Matthew Diaz\",\"Ashley Ward\",\"Andrew Allen\",\"Brandon Martin\",\"Andrew Gutierrez\",\"Timothy Hill\",\"Joseph Robinson\",\"Maria Castillo\",\"Michelle Roberts\",\"Richard Edwards\",\"Sarah Williams\",\"Amy Cox\",\"Joseph Williams\"]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: Products expired and removed from stock, Items damaged during warehouse operations, Inventory shrinkage detected during audit, Inventory count correction after cycle count\n  \n  - Avg Length: 41 chars\n  - Sample Values: [\"Products expired and removed from stock\",\"Products expired and removed from stock\",\"Items damaged during warehouse operations\",\"Products expired and removed from stock\",\"Inventory count correction after cycle count\",\"Inventory count correction after cycle count\",\"Inventory shrinkage detected during audit\",\"Items damaged during warehouse operations\",\"Inventory shrinkage detected during audit\",\"Items damaged during warehouse operations\",\"Inventory count correction after cycle count\",\"Products expired and removed from stock\",\"Items damaged during warehouse operations\",\"Inventory shrinkage detected during audit\",\"Inventory count correction after cycle count\",\"Items damaged during warehouse operations\",\"Inventory count correction after cycle count\",\"Inventory shrinkage detected during audit\",\"Inventory shrinkage detected during audit\",\"Inventory count correction after cycle count\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"The table stores inventory adjustment records, capturing changes to product stock levels at specific warehouses, including the quantity adjusted, reason for the adjustment, date, responsible user, and optional notes.\",\"reasoning\":\"Column names adj_id, prd_id, whs_id, adj_dt, qty, rsn, usr, and notes together describe a transaction that modifies inventory. adj_id is a unique primary key. prd_id and whs_id have low cardinality and match typical product and warehouse identifiers, suggesting foreign keys to inv.prd and inv.whs. qty contains both positive and negative integers, indicating stock additions or subtractions. rsn contains four distinct codes (STL, EXP, DAM, COR) that map to common inventory adjustment reasons (stolen, expired, damaged, correction). usr holds employee names, and notes provides explanatory text. The table has no declared foreign keys but its pattern fits the inv.adj table listed among allowed names.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"adj_id\",\"description\":\"Unique identifier for each inventory adjustment record\",\"reasoning\":\"Primary key with 300 distinct values matching row count, indicating a surrogate key.\"},{\"columnName\":\"prd_id\",\"description\":\"Identifier of the product whose inventory is being adjusted\",\"reasoning\":\"Integer column with 200 distinct values, typical of a product reference; likely foreign key to inv.prd.\"},{\"columnName\":\"whs_id\",\"description\":\"Identifier of the warehouse where the adjustment took place\",\"reasoning\":\"Only 8 distinct values (1‑8), matching typical warehouse IDs; likely foreign key to inv.whs.\"},{\"columnName\":\"adj_dt\",\"description\":\"Date the inventory adjustment was recorded\",\"reasoning\":\"Date column with 300 distinct values, one per row, representing when each adjustment occurred.\"},{\"columnName\":\"qty\",\"description\":\"Quantity change applied to the product stock (positive for increase, negative for decrease)\",\"reasoning\":\"Integer values include both positive and negative numbers, reflecting stock additions and deductions.\"},{\"columnName\":\"rsn\",\"description\":\"Reason code for the adjustment (STL=Stolen, EXP=Expired, DAM=Damaged, COR=Correction)\",\"reasoning\":\"Low‑cardinality char column with four known values, typical enumeration of adjustment reasons.\"},{\"columnName\":\"usr\",\"description\":\"Name of the user/employee who performed the adjustment\",\"reasoning\":\"Distinct employee names, high cardinality, indicating who recorded the transaction.\"},{\"columnName\":\"notes\",\"description\":\"Free‑text comment providing additional context for the adjustment\",\"reasoning\":\"Limited set of descriptive sentences matching the reason codes, used for audit trails.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[{\"parentTable\":\"inv.prd\",\"insight\":\"Product IDs referenced here confirm that inv.prd uses integer primary keys and that the product catalog likely contains at least 200 distinct items.\",\"confidence\":0.85},{\"parentTable\":\"inv.whs\",\"insight\":\"Warehouse IDs range from 1 to 8, indicating the organization operates eight distinct warehouse locations tracked in inv.whs.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "cat",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2643,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:52:38.133Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 20\n\n\n## Columns\n\n- **cat_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 20 (100% unique)\n  \n  - Possible Values: 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [6,1,19,11,8,9,16,7,4,12,17,14,15,2,3,5,18,13,20,10]\n\n- **prnt_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 6 (0% unique)\n  \n  - Possible Values: 7, 4, 1, 16, 10, 19\n  \n  \n  - Sample Values: [4,10,4,7,1,19,16,1,4,7,7,16,1,10]\n\n- **nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 20 (100% unique)\n  \n  - Possible Values: Writing, Supplies, Storage, Scanners, Safety, Printers, PPE, Peripherals, Paper, Kitchen, Furniture, Folders, Equipment, Electronics, Desks, Computers, Cleaning, Chairs, Breakroom, Accessories\n  \n  - Avg Length: 7 chars\n  - Sample Values: [\"Scanners\",\"Breakroom\",\"Equipment\",\"Computers\",\"Storage\",\"Chairs\",\"Cleaning\",\"Writing\",\"Supplies\",\"Desks\",\"Electronics\",\"Safety\",\"Folders\",\"Paper\",\"Printers\",\"Peripherals\",\"Kitchen\",\"Accessories\",\"Furniture\",\"PPE\"]\n\n- **dsc** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 20 (100% unique)\n  \n  - Possible Values: Storage furniture and cabinets, Safety equipment, Printers and copiers, Personal protective equipment, Pens, pencils, and markers, Paper products and stationery, Office supplies and materials, Office equipment and machines, Office desks and workstations, Office chairs and seating, Office and home furniture, Kitchen appliances and supplies, File folders and binders, Electronic devices and accessories, Electronic accessories and cables, Document scanners, Desktop and laptop computers, Computer peripherals and accessories, Cleaning supplies, Breakroom supplies\n  \n  - Avg Length: 26 chars\n  - Sample Values: [\"Printers and copiers\",\"Office supplies and materials\",\"Cleaning supplies\",\"Electronic devices and accessories\",\"Personal protective equipment\",\"Paper products and stationery\",\"Breakroom supplies\",\"Office chairs and seating\",\"Safety equipment\",\"Office equipment and machines\",\"Office and home furniture\",\"Kitchen appliances and supplies\",\"Computer peripherals and accessories\",\"File folders and binders\",\"Desktop and laptop computers\",\"Document scanners\",\"Office desks and workstations\",\"Storage furniture and cabinets\",\"Electronic accessories and cables\",\"Pens, pencils, and markers\"]\n\n- **lvl** (int)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: 2, 1\n  \n  \n  - Sample Values: [2,2,1,2,2,2,1,2,2,1,2,1,1,2,2,2,1,2,2,2]\n\n- **seq** (int)\n  \n  \n  \n  \n  - Distinct Values: 6 (100% unique)\n  \n  - Possible Values: 1, 2, 3, 6, 5, 4\n  \n  \n  - Sample Values: [6,1,1,4,2,3,2,3,1,3,5,2,1,2,1,2,1,1,2,3]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"A hierarchical lookup table storing inventory categories and sub‑categories, defining each category's identifier, parent relationship, name, description, level in the hierarchy, and display order.\",\"reasoning\":\"The columns cat_id (unique int) and prnt_id (int referencing another cat_id) form a self‑referencing hierarchy. The lvl column has only values 1 and 2, confirming two hierarchy levels (parent and child). The nm column lists distinct category names such as \\\"Writing\\\", \\\"Supplies\\\", \\\"Scanners\\\", etc., and dsc provides human‑readable descriptions. The seq column contains a small set of integers (1‑6) used for ordering categories under the same parent. All evidence points to a category lookup table, matching the typical purpose of inv.cat in an inventory system.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"cat_id\",\"description\":\"Primary key that uniquely identifies each category record\",\"reasoning\":\"Distinct values equal row count (20) and values range 1‑20, typical of an identifier column.\"},{\"columnName\":\"prnt_id\",\"description\":\"Self‑referencing foreign key to cat_id indicating the parent category; null or same as cat_id for top‑level categories\",\"reasoning\":\"Only six distinct values (1,4,7,10,16,19) and repeats across rows, typical of a parent reference in a hierarchy.\"},{\"columnName\":\"nm\",\"description\":\"Name of the category (e.g., \\\"Writing\\\", \\\"Supplies\\\", \\\"Scanners\\\")\",\"reasoning\":\"Distinct 20 values, short strings, clearly human‑readable names.\"},{\"columnName\":\"dsc\",\"description\":\"Longer textual description of the category\",\"reasoning\":\"Distinct 20 values, average length 26 characters, matches descriptive text for each category.\"},{\"columnName\":\"lvl\",\"description\":\"Hierarchy level of the category (1 = top level, 2 = sub‑category)\",\"reasoning\":\"Only two distinct values (1 and 2) align with a two‑level category structure.\"},{\"columnName\":\"seq\",\"description\":\"Display order of the category within its parent grouping\",\"reasoning\":\"Six distinct sequential integers (1‑6) used to order categories under the same parent.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "cnt",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2797,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:52:40.479Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 250\n\n\n## Columns\n\n- **cnt_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 250 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [44,150,6,229,114,230,198,195,55,247,204,159,68,56,106,141,161,169,199,45]\n\n- **whs_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 3, 2, 1, 8, 7, 6, 5, 4\n  \n  \n  - Sample Values: [6,5,3,8,2,6,4,7,6,3,7,1,6,5,4,1,4,5,1,6]\n\n- **cnt_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 180 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-11-29T00:00:00.000Z\",\"2024-12-04T00:00:00.000Z\",\"2024-08-11T00:00:00.000Z\",\"2024-09-28T00:00:00.000Z\",\"2024-09-23T00:00:00.000Z\",\"2024-11-11T00:00:00.000Z\",\"2024-11-08T00:00:00.000Z\",\"2024-07-13T00:00:00.000Z\",\"2024-08-05T00:00:00.000Z\",\"2024-11-05T00:00:00.000Z\",\"2024-11-15T00:00:00.000Z\",\"2024-11-13T00:00:00.000Z\",\"2024-09-30T00:00:00.000Z\",\"2024-08-29T00:00:00.000Z\",\"2024-12-22T00:00:00.000Z\",\"2024-11-09T00:00:00.000Z\",\"2024-09-20T00:00:00.000Z\",\"2024-12-02T00:00:00.000Z\",\"2024-11-22T00:00:00.000Z\",\"2024-09-11T00:00:00.000Z\"]\n\n- **prd_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [16,191,15,2,13,188,19,88,64,159,72,68,28,162,104,105,37,59,20,4]\n\n- **exp_qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 250 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [293,249,105,147,143,89,155,74,220,91,79,64,186,212,282,123,159,127,122,240]\n\n- **act_qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 226 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [171,199,156,110,232,162,147,154,80,226,153,202,117,186,152,73,238,270,90,273]\n\n- **var** (int)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: 0, -5, 5, -10\n  \n  \n  - Sample Values: [0,0,0,0,-5,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0]\n\n- **usr** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 248 (100% unique)\n  \n  \n  \n  - Avg Length: 13 chars\n  - Sample Values: [\"Carolyn Scott\",\"Barbara Williams\",\"Joshua Rogers\",\"Scott Martin\",\"Justin Castillo\",\"Amy Morgan\",\"Catherine Carter\",\"Jeffrey Harris\",\"Charles Morris\",\"Michael Morgan\",\"Matthew Sanders\",\"Samuel Edwards\",\"Nancy King\",\"Margaret Jimenez\",\"Timothy Campbell\",\"Jessica Miller\",\"Donald Torres\",\"Barbara Watson\",\"Laura Scott\",\"Sandra Brown\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores inventory count records capturing the expected system quantity versus the physically counted quantity for each product at each warehouse on a specific date, including the variance and the user who performed the count.\",\"reasoning\":\"Column names cnt_id, whs_id, cnt_dt, prd_id, exp_qty, act_qty, var, usr together describe a stock‑taking event. cnt_id is a unique identifier (250 distinct values). whs_id has 8 distinct values matching typical warehouse IDs. cnt_dt is a date of the count. prd_id references a product (200 distinct values). exp_qty and act_qty hold quantities, and var holds the difference (0, -5, 5, -10). usr stores the name of the employee performing the count. No foreign keys are declared, but the pattern matches an inventory count table (inv.cnt).\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"cnt_id\",\"description\":\"Unique identifier for each inventory count record\",\"reasoning\":\"250 distinct values equal to row count, indicating a primary key.\"},{\"columnName\":\"whs_id\",\"description\":\"Identifier of the warehouse where the count was performed\",\"reasoning\":\"Only 8 distinct values, typical of a limited set of warehouses.\"},{\"columnName\":\"cnt_dt\",\"description\":\"Date on which the inventory count took place\",\"reasoning\":\"Unique per record and stored as date values.\"},{\"columnName\":\"prd_id\",\"description\":\"Identifier of the product being counted\",\"reasoning\":\"200 distinct values, matching a product catalog.\"},{\"columnName\":\"exp_qty\",\"description\":\"Quantity expected according to system records before the count\",\"reasoning\":\"Integer values representing stock levels.\"},{\"columnName\":\"act_qty\",\"description\":\"Quantity actually counted on the floor\",\"reasoning\":\"Integer values, often differing from exp_qty.\"},{\"columnName\":\"var\",\"description\":\"Variance between expected and actual quantities (act_qty - exp_qty)\",\"reasoning\":\"Low‑cardinality values (0, -5, 5, -10) represent typical small adjustments.\"},{\"columnName\":\"usr\",\"description\":\"Name of the user who performed the count\",\"reasoning\":\"Distinct user names, average length 13 characters, indicating employee identifiers.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "po",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3354,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:52:43.315Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 150\n\n\n## Columns\n\n- **po_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [116,63,29,70,31,43,97,106,26,22,130,118,14,7,132,140,41,108,52,34]\n\n- **sup_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [15,6,4,9,4,6,19,1,14,23,11,11,4,24,1,13,11,5,7,18]\n\n- **po_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-10-10T00:00:00.000Z\",\"2024-09-27T00:00:00.000Z\",\"2024-08-27T00:00:00.000Z\",\"2024-08-08T00:00:00.000Z\",\"2024-11-10T00:00:00.000Z\",\"2024-12-08T00:00:00.000Z\",\"2024-12-10T00:00:00.000Z\",\"2024-09-02T00:00:00.000Z\",\"2024-12-22T00:00:00.000Z\",\"2024-08-31T00:00:00.000Z\",\"2024-11-02T00:00:00.000Z\",\"2024-09-03T00:00:00.000Z\",\"2024-12-02T00:00:00.000Z\",\"2024-09-29T00:00:00.000Z\",\"2024-10-03T00:00:00.000Z\",\"2024-09-19T00:00:00.000Z\",\"2024-10-13T00:00:00.000Z\",\"2024-12-24T00:00:00.000Z\",\"2024-09-01T00:00:00.000Z\",\"2024-11-23T00:00:00.000Z\"]\n\n- **exp_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-10-01T00:00:00.000Z\",\"2025-01-12T00:00:00.000Z\",\"2024-11-05T00:00:00.000Z\",\"2024-10-14T00:00:00.000Z\",\"2024-10-30T00:00:00.000Z\",\"2024-12-13T00:00:00.000Z\",\"2024-08-24T00:00:00.000Z\",\"2024-10-13T00:00:00.000Z\",\"2024-09-15T00:00:00.000Z\",\"2024-11-25T00:00:00.000Z\",\"2024-10-22T00:00:00.000Z\",\"2024-08-21T00:00:00.000Z\",\"2024-11-17T00:00:00.000Z\",\"2024-10-28T00:00:00.000Z\",\"2024-08-29T00:00:00.000Z\",\"2025-01-13T00:00:00.000Z\",\"2024-11-15T00:00:00.000Z\",\"2024-10-15T00:00:00.000Z\",\"2024-11-09T00:00:00.000Z\",\"2024-10-25T00:00:00.000Z\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: X, S, R, P, A\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"X\",\"R\",\"R\",\"X\",\"S\",\"P\",\"R\",\"P\",\"A\",\"P\",\"R\",\"R\",\"S\",\"A\",\"R\",\"X\",\"A\",\"R\",\"A\",\"R\"]\n\n- **tot** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [8450,15050,5900,2750,5000,4700,5450,11600,9800,5150,11750,3050,11000,2900,3350,5450,16700,8750,16250,15950]\n\n- **ship_amt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: 150, 0\n  \n  \n  - Sample Values: [150,150,0,150,150,150,150,0,0,150,0,150,150,0,0,150,0,150,150,150]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 1 (50% unique)\n  - Nulls: 67.5%\n  - Possible Values: Expedited shipping requested\n  \n  - Avg Length: 28 chars\n  - Sample Values: [\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge and optional notes.\",\"reasoning\":\"Column names po_id (order identifier) and sup_id (supplier identifier) together form a primary key, typical of a purchase‑order header. po_dt and exp_dt are dates for order and expected delivery. sts holds single‑character status codes (X,S,R,P,A) indicating order lifecycle. tot is a monetary total, ship_amt is a fixed shipping fee (0 or 150). notes is a nullable free‑text field, frequently containing \\\"Expedited shipping requested\\\". The pattern matches the inv.po table used for procurement in inventory systems.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"po_id\",\"description\":\"Unique identifier for the purchase order\",\"reasoning\":\"150 distinct values for 150 rows and marked PRIMARY KEY; typical surrogate key for orders.\"},{\"columnName\":\"sup_id\",\"description\":\"Identifier of the supplier that fulfills the order\",\"reasoning\":\"Distinct values 25, likely foreign key to inv.sup; appears in composite primary key with po_id.\"},{\"columnName\":\"po_dt\",\"description\":\"Date the purchase order was created\",\"reasoning\":\"Date type, unique per row, matches order creation timestamps.\"},{\"columnName\":\"exp_dt\",\"description\":\"Expected delivery date for the order\",\"reasoning\":\"Date type, usually later than po_dt; represents promised receipt date.\"},{\"columnName\":\"sts\",\"description\":\"Current status of the purchase order (e.g., X=Cancelled, S=Shipped, R=Received, P=Pending, A=Approved)\",\"reasoning\":\"Single‑character enum with five distinct values, typical status coding.\"},{\"columnName\":\"tot\",\"description\":\"Total monetary value of the order before shipping\",\"reasoning\":\"Decimal with many unique values, aligns with order totals.\"},{\"columnName\":\"ship_amt\",\"description\":\"Shipping charge applied to the order (0 or 150)\",\"reasoning\":\"Only two distinct values, indicating a flat shipping fee applied conditionally.\"},{\"columnName\":\"notes\",\"description\":\"Optional free‑text notes, often indicating expedited shipping requests\",\"reasoning\":\"Nullable nvarchar, 67.5% nulls, single repeated phrase suggests a flag for special handling.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[{\"parentTable\":\"inv.sup\",\"insight\":\"The purchase‑order table references 25 distinct suppliers, implying the supplier master (inv.sup) supports at least 25 active suppliers with varying order frequencies.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "po_dtl",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.93",
            "tokensUsed": 2489,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:52:45.817Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 750\n\n\n## Columns\n\n- **po_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [21,68,60,90,111,147,55,51,100,128,52,84,11,24,82,149,57,88,143,116]\n\n- **seq** (int) NOT NULL\n  \n  \n  \n  \n  - Distinct Values: 7 (100% unique)\n  \n  - Possible Values: 1, 3, 2, 4, 5, 6, 7\n  \n  \n  - Sample Values: [2,5,1,2,5,3,3,1,7,3,3,4,2,5,4,5,2,3,2,4]\n\n- **prd_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [99,138,39,108,79,175,46,77,136,43,34,100,125,131,183,8,52,174,105,86]\n\n- **qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 7 (100% unique)\n  \n  - Possible Values: 100, 200, 150, 250, 300, 350, 400\n  \n  \n  - Sample Values: [150,100,250,100,150,100,250,100,200,350,150,300,200,100,200,150,150,150,200,150]\n\n- **prc** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [815,265,335,845,815,425,795,315,35,625,405,845,615,785,855,195,285,465,405,405]\n\n- **rcv_qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 11 (100% unique)\n  \n  - Possible Values: 150, 200, 100, 250, 300, 350, 80, 400, 290, 160, 330\n  \n  \n  - Sample Values: [350,200,300,400,290,330,300,150,250,150,250,200,150,160,100,80,80,160,300,150]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"This table stores the line‑item details of purchase orders, linking each purchase order (po_id) to the specific product (prd_id) ordered, the quantity requested, the unit price, and the quantity that has been received so far. It enables tracking of order fulfillment at the item level.\",\"reasoning\":\"Column names po_id, seq, prd_id, qty, prc and rcv_qty directly map to typical purchase‑order line‑item attributes. po_id repeats across rows (150 distinct values) while seq ranges 1‑7, indicating multiple lines per order. prd_id has 200 distinct values, matching a product catalog. qty and rcv_qty contain a small set of numeric values typical for quantity enums, and prc is a decimal price. No foreign keys are declared, but the column semantics strongly suggest relationships to inv.po (header) and inv.prd (product).\",\"confidence\":0.93,\"columnDescriptions\":[{\"columnName\":\"po_id\",\"description\":\"Identifier of the purchase order header this line belongs to\",\"reasoning\":\"Unique per order (150 distinct) and named po_id, a common PK in purchase‑order tables.\"},{\"columnName\":\"seq\",\"description\":\"Sequence number of the line item within the purchase order\",\"reasoning\":\"Values 1‑7 and unique per order, typical for ordering line items.\"},{\"columnName\":\"prd_id\",\"description\":\"Identifier of the product being ordered\",\"reasoning\":\"Distinct 200 values, matches a product catalog (inv.prd).\"},{\"columnName\":\"qty\",\"description\":\"Quantity of the product ordered on this line\",\"reasoning\":\"Limited set of values (100‑400) typical for order quantities.\"},{\"columnName\":\"prc\",\"description\":\"Unit price of the product for this line item\",\"reasoning\":\"Decimal column with many unique values, representing price.\"},{\"columnName\":\"rcv_qty\",\"description\":\"Quantity of the product that has been received against this line\",\"reasoning\":\"Limited set of values, tracks fulfillment progress.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"inv.po\",\"insight\":\"The 150 distinct po_id values in this detail table imply that the inv.po header table contains at least 150 purchase orders, each potentially having up to 7 line items as indicated by the seq column.\",\"confidence\":0.85},{\"parentTable\":\"inv.prd\",\"insight\":\"The 200 distinct prd_id values suggest the product catalog (inv.prd) includes at least 200 products referenced by purchase orders.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "prd",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3436,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:52:48.781Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 177\n\n\n## Columns\n\n- **prd_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 177 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [8,172,155,17,59,57,134,5,30,61,88,76,41,18,60,109,89,126,16,122]\n\n- **cat_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 11 (100% unique)\n  \n  - Possible Values: 3, 6, 9, 11, 8, 5, 2, 15, 14, 13, 12\n  \n  \n  - Sample Values: [11,11,5,2,9,14,13,3,3,6,14,5,2,15,8,8,3,3,11,9]\n\n- **sup_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [11,5,13,18,18,15,11,18,19,5,13,12,11,14,5,24,1,11,16,10]\n\n- **sku** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 177 (100% unique)\n  \n  \n  \n  - Avg Length: 8 chars\n  - Sample Values: [\"SKU-0109\",\"SKU-0126\",\"SKU-0152\",\"SKU-0135\",\"SKU-0054\",\"SKU-0081\",\"SKU-0105\",\"SKU-0059\",\"SKU-0108\",\"SKU-0118\",\"SKU-0107\",\"SKU-0001\",\"SKU-0028\",\"SKU-0130\",\"SKU-0088\",\"SKU-0173\",\"SKU-0067\",\"SKU-0076\",\"SKU-0115\",\"SKU-0104\"]\n\n- **nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 177 (100% unique)\n  \n  \n  \n  - Avg Length: 31 chars\n  - Sample Values: [\"HON Ignition 2.0 Chair\",\"Astrobrights Color Paper\",\"HON 4-Drawer File Cabinet - Variant 3\",\"Highlighter Set 6 Colors\",\"Dell UltraSharp 27\\\" Monitor - Variant 2\",\"Herman Miller Aeron Chair - Variant 3\",\"AmazonBasics Office Chair - Variant 3\",\"Avery Tab Dividers 8-Tab - Variant 2\",\"Pentel EnerGel Pens - Variant 3\",\"Southworth Resume Paper - Variant 2\",\"Pilot G2 Pens 12-Pack\",\"Apple MacBook Air M2\",\"HON Preside Conference Table - Variant 2\",\"Laptop Stand Aluminum - Variant 2\",\"Blue Yeti Microphone\",\"Hammermill Premium Paper\",\"Herman Miller Aeron Chair\",\"Blue Yeti Microphone - Variant 3\",\"Smead Hanging File Folders - Variant 3\",\"IKEA KALLAX 4x4 Shelf Unit - Variant 3\"]\n\n- **dsc** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 59 (100% unique)\n  \n  \n  \n  - Avg Length: 33 chars\n  - Sample Values: [\"Classic ballpoint pens 60-count\",\"Rolling file cabinet with drawers\",\"Fine point markers assorted colors\",\"Ultralight laptop for professionals\",\"Monochrome laser printer for office\",\"Chisel tip highlighters assorted\",\"Economical multipurpose paper 5 reams\",\"Plastic 3-drawer organizer\",\"High-performance desktop computer with Intel Core i7 processor\",\"Multifunction laser printer with duplex\",\"Vertical file cabinet letter size\",\"Large conference table for meetings\",\"Bright white paper for presentations\",\"Premium braided USB-C charging cable\",\"Large conference table for meetings\",\"Quick-drying ink pens variety pack\",\"All-in-one color inkjet printer\",\"100-pack manila file folders\",\"Wood veneer bookshelf 72\\\" high\",\"HD webcam for video conferencing\"]\n\n- **prc** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 127 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [298.99,19.49,168.99,9.99,459.99,114.99,2499.99,1494.99,428.99,264.49,168.99,45.99,51.74,218.49,149.49,6.99,172.49,51.99,1125.85,1299.99]\n\n- **cost** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 127 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [379.49,77.99,23.99,542.1,5.39,23.99,26.99,35.09,10.13,17.24,103.49,1499.99,899.99,329.99,311.99,4.19,158.69,1013.99,77.99,5.39]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: A, O, D\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"O\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\"]\n\n- **wgt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 52 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [20,40,5,43,4,23,21,10,28,35,4,43,0.2,25,21,0.5,13,2,0.3,8]\n\n- **uom** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: EA, BX, CS\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"EA\",\"EA\",\"EA\",\"BX\",\"EA\",\"EA\",\"EA\",\"EA\",\"EA\",\"EA\",\"EA\",\"CS\",\"EA\",\"EA\",\"EA\",\"EA\",\"EA\",\"EA\",\"BX\",\"EA\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"The table stores master data for products, linking each product to its category and supplier, and capturing identifying codes, descriptive information, pricing, cost, status, weight and unit of measure. It serves as the central inventory catalog for the system.\",\"reasoning\":\"Column names and types (prd_id, cat_id, sup_id, sku, nm, dsc, prc, cost, sts, wgt, uom) match typical product master attributes. prd_id is a unique integer primary key. cat_id and sup_id have low distinct counts (11 and 25) suggesting foreign keys to category (inv.cat) and supplier (inv.sup) tables. sku, nm and dsc contain unique textual identifiers and descriptions of items such as chairs, monitors, paper, etc. prc and cost are decimal prices. sts holds single‑character status codes (A, O, D). wgt and uom describe physical handling. Sample data aligns with an inventory of office supplies and equipment, confirming a product catalog purpose.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"prd_id\",\"description\":\"Unique product identifier (primary key).\",\"reasoning\":\"Integer, 100% unique across 177 rows, typical surrogate key for a product master.\"},{\"columnName\":\"cat_id\",\"description\":\"Identifier of the product's category, likely a foreign key to inv.cat.\",\"reasoning\":\"Integer with only 11 distinct values, indicating a lookup table of categories.\"},{\"columnName\":\"sup_id\",\"description\":\"Identifier of the product's supplier, likely a foreign key to inv.sup.\",\"reasoning\":\"Integer with 25 distinct values, typical of a supplier reference.\"},{\"columnName\":\"sku\",\"description\":\"Stock Keeping Unit code used for inventory tracking.\",\"reasoning\":\"Unique alphanumeric strings prefixed with \\\"SKU-\\\", one per product.\"},{\"columnName\":\"nm\",\"description\":\"Product name or title.\",\"reasoning\":\"Unique textual values describing each item (e.g., \\\"HON Ignition 2.0 Chair\\\").\"} ,{\"columnName\":\"dsc\",\"description\":\"Short description of the product.\",\"reasoning\":\"Textual field with unique descriptive phrases, longer than name, providing marketing details.\"},{\"columnName\":\"prc\",\"description\":\"Selling price of the product.\",\"reasoning\":\"Decimal values representing the price charged to customers.\"},{\"columnName\":\"cost\",\"description\":\"Cost to acquire or produce the product.\",\"reasoning\":\"Decimal values distinct from price, indicating internal cost basis.\"},{\"columnName\":\"sts\",\"description\":\"Current status of the product (A=Active, O=On order, D=Discontinued).\",\"reasoning\":\"Char field with three possible values, typical status enumeration.\"},{\"columnName\":\"wgt\",\"description\":\"Weight of the product.\",\"reasoning\":\"Decimal values with varied magnitude, used for shipping/handling calculations.\"},{\"columnName\":\"uom\",\"description\":\"Unit of measure for inventory transactions (EA=Each, BX=Box, CS=Case).\",\"reasoning\":\"Char field with three standard inventory UOM codes.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"inv.cat\",\"insight\":\"The product table references 11 distinct category IDs, confirming that the category master (inv.cat) defines a limited set of product categories used across inventory.\",\"confidence\":0.85},{\"parentTable\":\"inv.sup\",\"insight\":\"The product table references 25 distinct supplier IDs, indicating the supplier master (inv.sup) contains at least 25 active suppliers supplying these products.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "rcv",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.93",
            "tokensUsed": 2808,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:52:51.540Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 120\n\n\n## Columns\n\n- **rcv_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 120 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [28,68,107,98,74,104,59,81,2,10,92,110,61,65,78,3,69,88,97,8]\n\n- **po_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 120 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [93,52,104,83,59,38,108,69,105,3,22,91,6,55,120,54,2,78,56,109]\n\n- **rcv_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 120 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-10-21T00:00:00.000Z\",\"2024-09-25T00:00:00.000Z\",\"2024-11-12T00:00:00.000Z\",\"2024-09-21T00:00:00.000Z\",\"2024-12-22T00:00:00.000Z\",\"2024-12-11T00:00:00.000Z\",\"2024-10-22T00:00:00.000Z\",\"2024-10-23T00:00:00.000Z\",\"2024-10-07T00:00:00.000Z\",\"2024-12-30T00:00:00.000Z\",\"2024-09-30T00:00:00.000Z\",\"2024-11-18T00:00:00.000Z\",\"2024-12-29T00:00:00.000Z\",\"2024-12-21T00:00:00.000Z\",\"2024-12-05T00:00:00.000Z\",\"2024-10-28T00:00:00.000Z\",\"2024-10-18T00:00:00.000Z\",\"2024-12-10T00:00:00.000Z\",\"2024-10-15T00:00:00.000Z\",\"2024-12-03T00:00:00.000Z\"]\n\n- **whs_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 8, 7, 6, 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [4,3,8,8,4,2,7,2,7,1,2,3,6,2,8,8,6,1,5,1]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 1 (100% unique)\n  - Nulls: 112%\n  - Possible Values: Partial shipment received - balance on backorder\n  \n  - Avg Length: 48 chars\n  - Sample Values: [\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores records of goods received against purchase orders, capturing each receipt event with its unique identifier, associated purchase order, receipt date, receiving warehouse, and optional notes about partial shipments\",\"reasoning\":\"Column names rcv_id (receipt ID), po_id (purchase order ID), rcv_dt (receipt date), whs_id (warehouse ID) and notes indicating \\\"Partial shipment received - balance on backorder\\\" point to a receiving log for purchase orders. The distinct counts (rcv_id and po_id unique per row, whs_id limited to 8 values) suggest a composite key linking a receipt to a specific PO and warehouse. Sample dates are recent, and the notes column is mostly null, matching typical receipt documentation. No foreign keys are declared, but the column names align with existing tables inv.po and inv.whs, implying logical relationships.\",\"confidence\":0.93,\"columnDescriptions\":[{\"columnName\":\"rcv_id\",\"description\":\"Primary key of the receipt record; uniquely identifies each goods receipt event\",\"reasoning\":\"Unique values (120 distinct) and name imply a receipt identifier\"},{\"columnName\":\"po_id\",\"description\":\"Identifier of the purchase order that the receipt fulfills; links to the purchase order table\",\"reasoning\":\"Name and uniqueness suggest it references inv.po; each receipt is tied to a specific PO\"},{\"columnName\":\"rcv_dt\",\"description\":\"Date the goods were received at the warehouse\",\"reasoning\":\"Date type with distinct values per row and name indicating receipt date\"},{\"columnName\":\"whs_id\",\"description\":\"Identifier of the warehouse where the goods were received; references the warehouse lookup table\",\"reasoning\":\"Low cardinality (8 distinct values 1‑8) matches typical warehouse IDs in inv.whs\"},{\"columnName\":\"notes\",\"description\":\"Optional free‑text comment about the receipt, commonly used for partial‑shipment information\",\"reasoning\":\"String column with a single repeated value about partial shipments and many nulls indicates optional notes\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[{\"parentTable\":\"inv.po\",\"insight\":\"Receipt table confirms that purchase orders are identified by numeric IDs and that each receipt is linked to a single PO, suggesting a one‑to‑many relationship from PO to receipts\",\"confidence\":0.85},{\"parentTable\":\"inv.whs\",\"insight\":\"Eight distinct warehouse IDs appear, indicating the system manages eight receiving locations\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "stk",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3109,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:52:54.003Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 1120\n\n\n## Columns\n\n- **prd_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [166,118,30,178,67,102,22,34,62,29,90,125,86,118,12,91,160,122,192,149]\n\n- **whs_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 8, 2, 5, 4, 1, 7, 6, 3\n  \n  \n  - Sample Values: [8,7,2,5,3,3,8,7,8,5,1,1,6,1,1,1,2,8,7,8]\n\n- **qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 410 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [12220,3870,6490,6380,10560,2100,2380,1400,7120,12090,1260,2520,3960,630,3080,8910,4420,6480,1540,7600]\n\n- **rsv** (int)\n  \n  \n  \n  \n  - Distinct Values: 406 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [64,504,648,640,559,371,1020,161,176,198,192,488,294,638,258,720,434,372,100,595]\n\n- **min_qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 50 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [19,21,16,40,17,45,53,10,48,41,28,38,40,20,19,50,19,53,34,35]\n\n- **max_qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 50 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [1180,680,980,760,980,760,640,1140,560,1000,960,960,820,400,1160,240,520,720,600,680]\n\n- **lst_cnt** (date)\n  \n  \n  \n  \n  - Distinct Values: 63 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-10-19T00:00:00.000Z\",\"2024-10-09T00:00:00.000Z\",\"2024-10-23T00:00:00.000Z\",\"2024-12-02T00:00:00.000Z\",\"2024-12-30T00:00:00.000Z\",\"2024-10-08T00:00:00.000Z\",\"2024-12-28T00:00:00.000Z\",\"2024-10-18T00:00:00.000Z\",\"2024-10-12T00:00:00.000Z\",\"2024-12-07T00:00:00.000Z\",\"2024-12-06T00:00:00.000Z\",\"2024-12-09T00:00:00.000Z\",\"2024-10-18T00:00:00.000Z\",\"2024-11-11T00:00:00.000Z\",\"2024-10-30T00:00:00.000Z\",\"2024-12-20T00:00:00.000Z\",\"2024-10-21T00:00:00.000Z\",\"2024-10-13T00:00:00.000Z\",\"2024-11-26T00:00:00.000Z\",\"2024-11-28T00:00:00.000Z\"]\n\n- **lst_rcv** (date)\n  \n  \n  \n  \n  - Distinct Values: 21 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-12-20T00:00:00.000Z\",\"2024-12-31T00:00:00.000Z\",\"2024-12-06T00:00:00.000Z\",\"2025-01-01T00:00:00.000Z\",\"2024-12-08T00:00:00.000Z\",\"2024-12-17T00:00:00.000Z\",\"2025-01-01T00:00:00.000Z\",\"2024-12-19T00:00:00.000Z\",\"2024-12-29T00:00:00.000Z\",\"2024-12-20T00:00:00.000Z\",\"2024-12-07T00:00:00.000Z\",\"2024-12-10T00:00:00.000Z\",\"2024-12-31T00:00:00.000Z\",\"2024-12-21T00:00:00.000Z\",\"2024-12-21T00:00:00.000Z\",\"2024-12-31T00:00:00.000Z\",\"2024-12-07T00:00:00.000Z\",\"2024-12-30T00:00:00.000Z\",\"2024-12-21T00:00:00.000Z\",\"2024-12-21T00:00:00.000Z\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores inventory levels for each product at each warehouse, including current quantity, reserved quantity, reorder thresholds, and dates of last count and receipt.\",\"reasoning\":\"The composite primary key (prd_id, whs_id) indicates a many‑to‑many relationship between products and warehouses. Columns qty, rsv, min_qty, max_qty are typical stock metrics. lst_cnt and lst_rcv are dates tracking the last physical count and last receipt. Sample values (e.g., product IDs 1‑200, warehouse IDs 1‑8, quantities in the thousands) match inventory data. No foreign keys are declared, but the column names strongly suggest references to inv.prd and inv.whs tables.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"prd_id\",\"description\":\"Identifier of the product; part of the composite primary key and likely a foreign key to inv.prd\",\"reasoning\":\"High cardinality (200 distinct values) and naming convention indicate a product reference.\"},{\"columnName\":\"whs_id\",\"description\":\"Identifier of the warehouse; part of the composite primary key and likely a foreign key to inv.whs\",\"reasoning\":\"Only 8 distinct values, matching typical warehouse count, and naming convention.\"},{\"columnName\":\"qty\",\"description\":\"Current on‑hand quantity of the product at the warehouse\",\"reasoning\":\"Integer values in the thousands, typical for stock levels.\"},{\"columnName\":\"rsv\",\"description\":\"Quantity of the product reserved for pending orders\",\"reasoning\":\"Similar scale to qty and common inventory term 'reserved'.\"},{\"columnName\":\"min_qty\",\"description\":\"Minimum desired stock level (reorder point) for the product at the warehouse\",\"reasoning\":\"Values like 10‑53 suggest threshold levels.\"},{\"columnName\":\"max_qty\",\"description\":\"Maximum allowable stock level (capacity) for the product at the warehouse\",\"reasoning\":\"Values like 400‑1180 indicate upper limits.\"},{\"columnName\":\"lst_cnt\",\"description\":\"Date of the most recent physical inventory count for the product at the warehouse\",\"reasoning\":\"Date column with recent timestamps, typical for count tracking.\"},{\"columnName\":\"lst_rcv\",\"description\":\"Date of the most recent receipt (stock replenishment) for the product at the warehouse\",\"reasoning\":\"Date column with recent timestamps, aligns with receipt tracking.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[{\"parentTable\":\"inv.prd\",\"insight\":\"The product table is used as a master list referenced by this stock table, confirming that each product is uniquely identified by prd_id and participates in inventory tracking across warehouses.\",\"confidence\":0.88},{\"parentTable\":\"inv.whs\",\"insight\":\"The warehouse table provides the location dimension for inventory; the limited distinct whs_id values (1‑8) indicate a small set of physical storage sites.\",\"confidence\":0.87}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "sup",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2818,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:52:56.364Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 25\n\n\n## Columns\n\n- **sup_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [3,18,4,13,6,7,14,10,1,9,20,11,12,16,21,17,15,24,8,25]\n\n- **nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  - Avg Length: 23 chars\n  - Sample Values: [\"Elite Tech Distributors\",\"Discount Supply Warehouse\",\"Reliable Office Equipment\",\"QuickShip Business Supplies\",\"Office Essentials Plus\",\"Wholesale Office Solutions\",\"Tech Solutions Distributors\",\"Nationwide Furniture Co\",\"Corporate Furniture Group\",\"Quality Paper & Supplies\",\"TechPro Supply Chain\",\"Office Plus Supply Co\",\"Furniture Warehouse Direct\",\"Budget Electronics Outlet\",\"Continental Office Supply\",\"Budget Office Furniture\",\"Premium Paper Products\",\"Global Electronics Inc\",\"Metro Electronics Ltd\",\"Premium Furniture Wholesale\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: A, T, S, I\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"T\",\"S\",\"A\",\"A\",\"A\"]\n\n- **pmt_trm** (char)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: N30, N60, N45, N15, COD\n  \n  - Avg Length: 3 chars\n  - Sample Values: [\"N15\",\"N60\",\"N60\",\"N45\",\"N30\",\"N30\",\"COD\",\"N30\",\"COD\",\"N60\",\"N30\",\"N15\",\"N30\",\"N30\",\"N45\",\"N30\",\"N30\",\"N60\",\"N45\",\"N30\"]\n\n- **rtg** (tinyint)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [2,4,5,4,5,5,4,5,4,5,5,4,1,4,5,5,4,5,5,4]\n\n- **cnt_nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  - Avg Length: 13 chars\n  - Sample Values: [\"Barbara Jackson\",\"Susan Harris\",\"David Anderson\",\"Nancy Clark\",\"Christopher Taylor\",\"Robert Williams\",\"Matthew Rodriguez\",\"John Wilson\",\"Charles Garcia\",\"Joseph Martin\",\"James Garcia\",\"Linda Anderson\",\"Sarah Johnson\",\"Michael Thomas\",\"Jessica Thompson\",\"Daniel Robinson\",\"Lisa Thompson\",\"Betty Lewis\",\"Richard White\",\"Anthony Lee\"]\n\n- **cnt_phn** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  - Avg Length: 8 chars\n  - Sample Values: [\"555-0114\",\"555-0119\",\"555-0102\",\"555-0107\",\"555-0122\",\"555-0125\",\"555-0116\",\"555-0105\",\"555-0108\",\"555-0103\",\"555-0124\",\"555-0111\",\"555-0104\",\"555-0112\",\"555-0115\",\"555-0120\",\"555-0106\",\"555-0109\",\"555-0110\",\"555-0113\"]\n\n- **cnt_eml** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  - Avg Length: 22 chars\n  - Sample Values: [\"drobinson@premier.com\",\"jgarcia@reliable.com\",\"ctaylor@corpfurn.com\",\"nclark@nationwide.com\",\"danderson@quickship.com\",\"rwhite@qualitypaper.com\",\"lthompson@premiumpaper.com\",\"mrodriguez@techworld.com\",\"jwilson@elitetech.com\",\"bjackson@metroelec.com\",\"mrodriguez@budgetfurn.com\",\"jmartin@furnwarehouse.com\",\"blewis@continental.com\",\"pmoore@express.com\",\"sharris@prooffice.com\",\"mthomas@natsupply.com\",\"alee@discountsupply.com\",\"sjohnson@officeplus.com\",\"rwilliams@premiumfurn.com\",\"cgarcia@officeess.com\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores master information about suppliers, including their unique identifier, name, status, payment terms, rating, and primary contact details (name, phone, email). This lookup table is used to reference suppliers in purchasing and inventory processes.\",\"reasoning\":\"Column sup_id is a unique integer primary key (25 distinct values for 25 rows). The nm column contains distinct supplier names. sts holds single‑character status codes (A,T,S,I). pmt_trm stores common payment‑term codes (N30,N60,N45,N15,COD). rtg is a numeric rating from 1 to 5. cnt_nm, cnt_phn, and cnt_eml each have unique values matching typical contact person, phone, and email formats. The table has no foreign‑key dependencies, indicating it is a foundational lookup entity, matching the expected purpose of the inv.sup table listed among available tables.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"sup_id\",\"description\":\"Unique supplier identifier (primary key).\",\"reasoning\":\"Integer, NOT NULL, 100% unique across rows.\"},{\"columnName\":\"nm\",\"description\":\"Supplier's legal or trade name.\",\"reasoning\":\"Distinct values equal row count, average length 23 chars, typical company names.\"},{\"columnName\":\"sts\",\"description\":\"Supplier status code (e.g., A=Active, T=Terminated, S=Suspended, I=Inactive).\",\"reasoning\":\"Char(1) with four distinct values matching common status abbreviations.\"},{\"columnName\":\"pmt_trm\",\"description\":\"Standard payment terms for the supplier (Net 15, Net 30, Net 45, Net 60, or Cash on Delivery).\",\"reasoning\":\"Char values N15,N30,N45,N60,COD correspond to industry payment term codes.\"},{\"columnName\":\"rtg\",\"description\":\"Supplier rating on a 1‑5 scale, higher is better.\",\"reasoning\":\"Tinyint with values 1‑5, typical rating enumeration.\"},{\"columnName\":\"cnt_nm\",\"description\":\"Name of the primary contact person at the supplier.\",\"reasoning\":\"Distinct personal names, average length 13 chars, matches contact person field.\"},{\"columnName\":\"cnt_phn\",\"description\":\"Phone number of the primary contact.\",\"reasoning\":\"Distinct 8‑character strings formatted like 555‑####, typical phone format.\"},{\"columnName\":\"cnt_eml\",\"description\":\"Email address of the primary contact.\",\"reasoning\":\"Distinct email strings, average length 22 chars, typical email pattern.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "whs",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2317,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:52:58.250Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 8\n\n\n## Columns\n\n- **whs_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 8, 7, 6, 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [2,5,3,4,8,6,1,7]\n\n- **cd** (char)\n  \n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: SEA, NYC, MIA, LAX, DEN, DAL, CHI, ATL\n  \n  - Avg Length: 3 chars\n  - Sample Values: [\"NYC\",\"LAX\",\"SEA\",\"CHI\",\"MIA\",\"DEN\",\"ATL\",\"DAL\"]\n\n- **nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: Seattle Regional Warehouse, New York Regional Hub, Miami Distribution Center, Los Angeles Distribution, Denver Regional Hub, Dallas Regional Center, Chicago Distribution Center, Atlanta Distribution Hub\n  \n  - Avg Length: 23 chars\n  - Sample Values: [\"Chicago Distribution Center\",\"New York Regional Hub\",\"Denver Regional Hub\",\"Miami Distribution Center\",\"Atlanta Distribution Hub\",\"Los Angeles Distribution\",\"Dallas Regional Center\",\"Seattle Regional Warehouse\"]\n\n- **cty** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: Seattle, New York, Miami, Los Angeles, Denver, Dallas, Chicago, Atlanta\n  \n  - Avg Length: 7 chars\n  - Sample Values: [\"Chicago\",\"Los Angeles\",\"Dallas\",\"New York\",\"Denver\",\"Miami\",\"Seattle\",\"Atlanta\"]\n\n- **st** (char)\n  \n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: WA, TX, NY, IL, GA, FL, CO, CA\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"GA\",\"TX\",\"WA\",\"NY\",\"CA\",\"FL\",\"CO\",\"IL\"]\n\n- **typ** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: R, M, D\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"D\",\"R\",\"R\",\"R\",\"D\",\"R\",\"M\",\"M\"]\n\n- **cap** (int)\n  \n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 250000, 220000, 200000, 180000, 150000, 140000, 120000, 100000\n  \n  \n  - Sample Values: [180000,100000,220000,250000,140000,120000,200000,150000]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: A, M\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"A\",\"A\",\"M\",\"A\",\"A\",\"A\",\"A\",\"A\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"A reference table that stores details of each warehouse used in the inventory system, including its identifier, short code, full name, location (city and state), type, capacity and operational status.\",\"reasoning\":\"The primary key whs_id uniquely identifies each record (8 distinct values for 8 rows). Columns cd, nm, cty, st contain location‑specific information (city codes, full names, state abbreviations) matching known US warehouse locations. The typ column has three distinct single‑letter values (R, M, D) typical of an enum describing warehouse type (e.g., Regional, Manufacturing, Distribution). The cap column holds large integer values consistent with storage capacity. The sts column has two values (A, M) indicating status such as Active or Maintenance. The table name is likely inv.whs as listed among known tables, and there are no foreign keys, confirming it is a foundational lookup table.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"whs_id\",\"description\":\"Unique warehouse identifier (primary key).\",\"reasoning\":\"Primary key with 100% uniqueness and sequential values 1‑8.\"},{\"columnName\":\"cd\",\"description\":\"Short warehouse code or abbreviation (e.g., NYC, LAX).\",\"reasoning\":\"Three‑character codes matching city/airport identifiers, all unique.\"},{\"columnName\":\"nm\",\"description\":\"Full descriptive name of the warehouse or distribution center.\",\"reasoning\":\"Longer strings describing the facility, each unique.\"},{\"columnName\":\"cty\",\"description\":\"City where the warehouse is located.\",\"reasoning\":\"City names correspond to the codes and names, all unique.\"},{\"columnName\":\"st\",\"description\":\"Two‑letter state abbreviation for the warehouse location.\",\"reasoning\":\"Standard US state codes, each unique per warehouse.\"},{\"columnName\":\"typ\",\"description\":\"Warehouse type code (R=Regional, M=Manufacturing, D=Distribution).\",\"reasoning\":\"Three distinct single‑letter values suggest an enum for type.\"},{\"columnName\":\"cap\",\"description\":\"Storage capacity of the warehouse (likely in square feet or units).\",\"reasoning\":\"Large integer values ranging from 100,000 to 250,000, unique per warehouse.\"},{\"columnName\":\"sts\",\"description\":\"Operational status (A=Active, M=Maintenance/Inactive).\",\"reasoning\":\"Two distinct values, typical status flag.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "addr",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2836,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:53:00.677Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 800\n\n\n## Columns\n\n- **addr_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 800 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [213,397,56,419,439,627,339,676,272,228,671,600,421,670,369,326,359,142,681,798]\n\n- **cst_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 476 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [262,292,213,20,279,86,391,44,190,54,16,26,383,68,178,7,64,272,266,9999]\n\n- **typ** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: S, O, B\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"B\",\"B\",\"O\",\"O\",\"B\",\"B\",\"S\",\"B\",\"S\",\"S\",\"S\",\"O\",\"B\",\"S\",\"B\",\"O\",\"O\",\"O\",\"O\",\"B\"]\n\n- **ln1** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 800 (100% unique)\n  \n  \n  \n  - Avg Length: 16 chars\n  - Sample Values: [\"528 Park Boulevard\",\"282 Oak Avenue\",\"491 Main Street\",\"587 Oak Avenue\",\"502 Oak Avenue\",\"378 Park Boulevard\",\"38 Park Boulevard\",\"499 Market Street\",\"728 Park Boulevard\",\"109 Market Street\",\"708 Park Boulevard\",\"570 Industrial Drive\",\"387 Oak Avenue\",\"452 Oak Avenue\",\"90 Industrial Drive\",\"178 Park Boulevard\",\"582 Oak Avenue\",\"567 Oak Avenue\",\"470 Industrial Drive\",\"671 Main Street\"]\n\n- **ln2** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 125 (1562.5% unique)\n  - Nulls: 75%\n  \n  \n  - Avg Length: 8 chars\n  - Sample Values: [\"Suite 241\",\"Suite 169\",\"Suite 213\",\"Suite 165\",\"Suite 21\",\"Suite 81\",\"Suite 465\",\"Suite 129\",\"Suite 281\",\"Suite 369\",\"Suite 493\",\"Suite 125\",\"Suite 273\",\"Suite 81\",\"Suite 145\",\"Suite 53\",\"Suite 137\",\"Suite 17\",\"Suite 277\",\"Suite 97\"]\n\n- **cty** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 29 (100% unique)\n  \n  \n  \n  - Avg Length: 8 chars\n  - Sample Values: [\"Atlanta\",\"Minneapolis\",\"Tampa\",\"Columbus\",\"Houston\",\"Las Vegas\",\"Austin\",\"Phoenix\",\"Portland\",\"Jacksonville\",\"Chicago\",\"San Antonio\",\"Austin\",\"Detroit\",\"Seattle\",\"Dallas\",\"Dallas\",\"Denver\",\"New York\",\"San Antonio\"]\n\n- **st** (char)\n  \n  \n  \n  \n  - Distinct Values: 20 (100% unique)\n  \n  - Possible Values: TX, CA, AZ, FL, IN, PA, IL, MI, MA, OR, TN, MO, MN, OH, NV, NY, GA, CO, WA, NC\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"IN\",\"IN\",\"CO\",\"TX\",\"IN\",\"TX\",\"FL\",\"GA\",\"MN\",\"GA\",\"NV\",\"MO\",\"CA\",\"CA\",\"FL\",\"IN\",\"OR\",\"OR\",\"TX\",\"TX\"]\n\n- **zip** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 800 (100% unique)\n  \n  \n  \n  - Avg Length: 5 chars\n  - Sample Values: [\"10032\",\"10197\",\"10552\",\"10528\",\"10311\",\"10707\",\"10314\",\"10041\",\"10045\",\"10364\",\"10587\",\"10103\",\"10376\",\"10239\",\"10078\",\"10785\",\"10605\",\"10790\",\"10266\",\"10278\"]\n\n- **ctry** (char)\n  \n  \n  \n  \n  - Distinct Values: 1 (100% unique)\n  \n  - Possible Values: US\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\"]\n\n- **dflt** (bit)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: false, true\n  \n  \n  - Sample Values: [false,true,false,false,false,false,true,true,false,true,false,true,true,false,false,true,false,false,true,false]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"tableDescription\": \"Stores mailing and location information for customers, including multiple address lines, city, state, zip, country, address type (e.g., Shipping, Billing, Office) and a flag indicating the default address for a customer.\",\n  \"reasoning\": \"The table contains an address primary key (addr_id) and a customer identifier (cst_id) linking each row to a customer. Columns like ln1, ln2, cty, st, zip, ctry are typical address fields. The 'typ' column has values S, O, B suggesting address categories (Shipping, Office, Billing). The 'dflt' bit marks the default address. Sample data shows US addresses with city and state codes, confirming its role as a customer address lookup table.\",\n  \"confidence\": 0.96,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"addr_id\",\n      \"description\": \"Unique identifier for each address record.\",\n      \"reasoning\": \"Primary key, 800 distinct values matching row count, typical surrogate key.\"\n    },\n    {\n      \"columnName\": \"cst_id\",\n      \"description\": \"Identifier of the customer to which the address belongs.\",\n      \"reasoning\": \"Primary key component, distinct values less than rows, indicates many‑to‑one relationship with a customer table.\"\n    },\n    {\n      \"columnName\": \"typ\",\n      \"description\": \"Address type code (S = Shipping, B = Billing, O = Office).\",\n      \"reasoning\": \"Three distinct single‑character values; common convention for address categories.\"\n    },\n    {\n      \"columnName\": \"ln1\",\n      \"description\": \"First line of the street address (street number and name).\",\n      \"reasoning\": \"Unique values, typical street address format in samples.\"\n    },\n    {\n      \"columnName\": \"ln2\",\n      \"description\": \"Second address line, usually suite or apartment number; optional.\",\n      \"reasoning\": \"High null rate (75%) and values like \\\"Suite 241\\\" indicate supplemental address info.\"\n    },\n    {\n      \"columnName\": \"cty\",\n      \"description\": \"City name of the address.\",\n      \"reasoning\": \"Distinct city names, sample values are US city names.\"\n    },\n    {\n      \"columnName\": \"st\",\n      \"description\": \"Two‑letter US state abbreviation.\",\n      \"reasoning\": \"Limited distinct values (20) matching US state codes.\"\n    },\n    {\n      \"columnName\": \"zip\",\n      \"description\": \"Postal code (ZIP) for the address.\",\n      \"reasoning\": \"Unique per row, 5‑character numeric strings typical of US ZIP codes.\"\n    },\n    {\n      \"columnName\": \"ctry\",\n      \"description\": \"Country code; all rows contain \\\"US\\\".\",\n      \"reasoning\": \"Single distinct value, confirms all addresses are US based.\"\n    },\n    {\n      \"columnName\": \"dflt\",\n      \"description\": \"Flag indicating whether this address is the default for the customer.\",\n      \"reasoning\": \"Bit column with true/false values; typical for selecting primary address.\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"sales.cst\",\n      \"insight\": \"Customers can have multiple addresses of different types, and one address is marked as default, implying the customer table supports multi‑address management.\",\n      \"confidence\": 0.88\n    }\n  ]\n}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "cst",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.93",
            "tokensUsed": 3485,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:53:03.102Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 500\n\n\n## Columns\n\n- **cst_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [131,352,179,325,289,258,160,204,413,498,440,90,380,103,175,469,111,407,397,120]\n\n- **nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 488 (100% unique)\n  \n  \n  \n  - Avg Length: 13 chars\n  - Sample Values: [\"Larry Watson\",\"Heather Brown\",\"Flores Group\",\"Castillo Distributors\",\"Helen Martin\",\"John Cox\",\"George Price\",\"Eric Turner\",\"Gomez Enterprises\",\"Nguyen Ltd\",\"Matthew Richardson\",\"Jessica Rogers\",\"John Williams\",\"Alexander Lopez\",\"Gray Technologies\",\"Betty Collins\",\"Castillo Services\",\"Michelle Anderson\",\"Christine Taylor\",\"Jessica Morris\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: A, S, I, T\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"S\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"S\"]\n\n- **dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-03-06T00:00:00.000Z\",\"2024-08-22T00:00:00.000Z\",\"2023-12-16T00:00:00.000Z\",\"2024-09-30T00:00:00.000Z\",\"2024-11-21T00:00:00.000Z\",\"2024-09-12T00:00:00.000Z\",\"2024-03-22T00:00:00.000Z\",\"2024-04-25T00:00:00.000Z\",\"2023-11-28T00:00:00.000Z\",\"2024-09-15T00:00:00.000Z\",\"2024-11-13T00:00:00.000Z\",\"2024-10-21T00:00:00.000Z\",\"2023-12-30T00:00:00.000Z\",\"2023-11-22T00:00:00.000Z\",\"2024-06-11T00:00:00.000Z\",\"2024-12-18T00:00:00.000Z\",\"2024-03-30T00:00:00.000Z\",\"2023-11-19T00:00:00.000Z\",\"2023-08-26T00:00:00.000Z\",\"2023-09-12T00:00:00.000Z\"]\n\n- **src** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: WB, ST, RF, PH\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"RF\",\"RF\",\"PH\",\"PH\",\"RF\",\"ST\",\"RF\",\"ST\",\"WB\",\"PH\",\"PH\",\"ST\",\"PH\",\"ST\",\"RF\",\"ST\",\"RF\",\"RF\",\"WB\",\"WB\"]\n\n- **rep_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 15 (100% unique)\n  \n  - Possible Values: 6, 5, 4, 3, 2, 1, 15, 14, 13, 12, 11, 10, 9, 8, 7\n  \n  \n  - Sample Values: [10,8,10,9,15,4,13,8,15,11,10,6,6,3,14,12,8,15,3,9]\n\n- **seg** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: W, R, E\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"R\",\"E\",\"W\",\"E\",\"R\",\"R\",\"R\",\"E\",\"W\",\"W\",\"E\",\"W\",\"W\",\"W\",\"W\",\"E\",\"R\",\"W\",\"R\",\"R\"]\n\n- **rtg** (tinyint)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [4,3,4,3,3,5,1,4,1,4,2,2,2,2,1,3,3,1,5,5]\n\n- **bal** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [0,3343.32,0,3747.85,5142.78,0,0,0,0,0,2815.94,2678.4,3180.41,0,1316.94,0,0,0,0,3776.33]\n\n- **cr_lmt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 30 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [9250,32500,90000,9000,31500,50000,22500,6500,7250,6750,9750,6500,26500,26500,32000,71000,7250,6750,51000,31500]\n\n- **lst_ord** (date)\n  \n  \n  \n  \n  - Distinct Values: 292 (5840% unique)\n  - Nulls: 20%\n  \n  \n  \n  - Sample Values: [\"2024-11-15T00:00:00.000Z\",\"2024-09-20T00:00:00.000Z\",\"2024-03-04T00:00:00.000Z\",\"2024-12-19T00:00:00.000Z\",\"2024-09-30T00:00:00.000Z\",\"2024-07-11T00:00:00.000Z\",\"2024-07-08T00:00:00.000Z\",\"2024-08-25T00:00:00.000Z\",\"2024-04-20T00:00:00.000Z\",\"2024-02-12T00:00:00.000Z\",\"2024-12-28T00:00:00.000Z\",\"2024-08-11T00:00:00.000Z\",\"2024-08-15T00:00:00.000Z\",\"2024-08-22T00:00:00.000Z\",\"2024-12-06T00:00:00.000Z\",\"2024-11-11T00:00:00.000Z\",\"2024-07-09T00:00:00.000Z\",\"2024-11-09T00:00:00.000Z\",\"2024-08-28T00:00:00.000Z\",\"2024-11-06T00:00:00.000Z\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"A master customer table storing core information about each customer, including identification, contact name, status, registration date, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit, and date of most recent order.\",\"reasoning\":\"The primary key cst_id uniquely identifies each row (500 distinct values). The nm column holds personal or company names, indicating a customer entity. sts contains single‑letter status codes (A,S,I,T) typical for Active/Suspended/Inactive/Terminated. dt appears to be the registration or creation date. src values (WB,ST,RF,PH) correspond to acquisition channels such as Web, Store, Referral, Phone. rep_id lists a small set of numeric IDs, matching typical sales‑rep identifiers. seg values (W,R,E) map to market segments (Wholesale, Retail, Enterprise). rtg is a 1‑5 rating. bal and cr_lmt are monetary fields for current balance and credit limit. lst_ord records the last order date and is nullable, fitting a customer‑order relationship. No foreign keys are defined, confirming it as a foundational lookup table, likely the sales.cst table listed in the schema.\",\"confidence\":0.93,\"columnDescriptions\":[{\"columnName\":\"cst_id\",\"description\":\"Unique customer identifier (primary key).\",\"reasoning\":\"500 distinct values for 500 rows, typical surrogate key.\"},{\"columnName\":\"nm\",\"description\":\"Customer name – either individual or company name.\",\"reasoning\":\"String values like \\\"Larry Watson\\\" and \\\"Flores Group\\\" with average length 13 characters.\"},{\"columnName\":\"sts\",\"description\":\"Current status of the customer (e.g., A=Active, S=Suspended, I=Inactive, T=Terminated).\",\"reasoning\":\"Single‑character enum with four distinct values.\"},{\"columnName\":\"dt\",\"description\":\"Date the customer record was created or the customer was onboarded.\",\"reasoning\":\"Unique date per row, likely registration date.\"},{\"columnName\":\"src\",\"description\":\"Acquisition source/channel (WB=Web, ST=Store, RF=Referral, PH=Phone).\",\"reasoning\":\"Four distinct two‑character codes matching common lead sources.\"},{\"columnName\":\"rep_id\",\"description\":\"Identifier of the sales representative assigned to the customer.\",\"reasoning\":\"Small set of numeric IDs (1‑15) typical for internal rep keys.\"},{\"columnName\":\"seg\",\"description\":\"Market segment classification (W=Wholesale, R=Retail, E=Enterprise).\",\"reasoning\":\"Three distinct single‑character values representing segment groups.\"},{\"columnName\":\"rtg\",\"description\":\"Customer rating or priority level ranging from 1 (lowest) to 5 (highest).\",\"reasoning\":\"Tinyint with values 1‑5, a classic rating scale.\"},{\"columnName\":\"bal\",\"description\":\"Current account balance for the customer.\",\"reasoning\":\"Decimal values including zeros and positive amounts, indicating monetary balance.\"},{\"columnName\":\"cr_lmt\",\"description\":\"Credit limit assigned to the customer.\",\"reasoning\":\"Decimal values with a limited set of distinct limits, typical for credit policies.\"},{\"columnName\":\"lst_ord\",\"description\":\"Date of the most recent order placed by the customer (nullable).\",\"reasoning\":\"Date field with many distinct values and ~20% nulls, matching optional last‑order information.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "cst_note",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.92",
            "tokensUsed": 2857,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:53:05.241Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 450\n\n\n## Columns\n\n- **note_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 450 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [443,24,187,424,363,215,414,321,53,270,396,185,231,439,80,107,84,416,417,74]\n\n- **cst_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 450 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [233,364,365,302,23,48,95,355,117,265,372,111,59,249,171,92,436,71,159,431]\n\n- **dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 450 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-03-22T00:00:00.000Z\",\"2024-10-13T00:00:00.000Z\",\"2024-07-18T00:00:00.000Z\",\"2024-07-03T00:00:00.000Z\",\"2024-03-11T00:00:00.000Z\",\"2024-09-01T00:00:00.000Z\",\"2024-02-03T00:00:00.000Z\",\"2023-10-19T00:00:00.000Z\",\"2024-12-18T00:00:00.000Z\",\"2024-04-02T00:00:00.000Z\",\"2024-01-28T00:00:00.000Z\",\"2024-04-14T00:00:00.000Z\",\"2023-10-27T00:00:00.000Z\",\"2024-10-06T00:00:00.000Z\",\"2024-05-11T00:00:00.000Z\",\"2023-12-16T00:00:00.000Z\",\"2024-05-08T00:00:00.000Z\",\"2024-02-17T00:00:00.000Z\",\"2024-02-23T00:00:00.000Z\",\"2024-06-15T00:00:00.000Z\"]\n\n- **usr** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 440 (100% unique)\n  \n  \n  \n  - Avg Length: 13 chars\n  - Sample Values: [\"Edward Garcia\",\"Christine Mitchell\",\"Joshua Carter\",\"Kimberly Morales\",\"Heather Foster\",\"Michael Torres\",\"Susan Gonzalez\",\"Matthew Ramos\",\"Frank Smith\",\"Barbara Hughes\",\"Jessica Long\",\"Helen Cooper\",\"Christopher Hernandez\",\"Sarah Martinez\",\"Charles Reed\",\"Janet James\",\"Kathleen Lopez\",\"Ryan Lopez\",\"Dorothy Hall\",\"Mary Anderson\"]\n\n- **txt** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: In-person meeting to discuss bulk pricing and long-term contract opportunities., Email correspondence regarding product specifications and availability for upcoming project., Spoke with customer about order status and delivery timeline. Customer satisfied with explanation., Follow-up regarding account status and payment arrangements for outstanding invoices.\n  \n  - Avg Length: 88 chars\n  - Sample Values: [\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"Follow-up regarding account status and payment arrangements for outstanding invoices.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"Follow-up regarding account status and payment arrangements for outstanding invoices.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"Email correspondence regarding product specifications and availability for upcoming project.\"]\n\n- **typ** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: M, E, O, C\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"C\",\"C\",\"O\",\"M\",\"O\",\"E\",\"E\",\"E\",\"O\",\"M\",\"C\",\"C\",\"M\",\"E\",\"E\",\"O\",\"E\",\"E\",\"O\",\"M\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores individual notes or interaction records linked to customers, capturing when, who, what was communicated and the type of contact.\",\"reasoning\":\"Column names note_id (unique identifier), cst_id (customer identifier), dt (date), usr (user/employee name), txt (note text) and typ (single‑letter type) together describe a log of customer communications. Sample values for txt are typical meeting, email, call notes and typ values (M,E,O,C) map to Meeting, Email, Other, Call. The presence of cst_id suggests a link to the sales.cst table even though no FK was detected.\",\"confidence\":0.92,\"columnDescriptions\":[{\"columnName\":\"note_id\",\"description\":\"Primary key for the note record, uniquely identifies each entry\",\"reasoning\":\"Distinct values equal row count (450) and column is marked PRIMARY KEY.\"},{\"columnName\":\"cst_id\",\"description\":\"Identifier of the customer the note pertains to, likely foreign key to sales.cst\",\"reasoning\":\"Unique per row but logically references a customer; column name and context imply relationship to customer table.\"},{\"columnName\":\"dt\",\"description\":\"Date the note was created or the interaction occurred\",\"reasoning\":\"Date type with unique values per row, sample dates correspond to recent business days.\"},{\"columnName\":\"usr\",\"description\":\"Name of the employee or system user who recorded the note\",\"reasoning\":\"String values are personal names, high uniqueness, average length 13 characters.\"},{\"columnName\":\"txt\",\"description\":\"Text of the note describing the interaction or follow‑up\",\"reasoning\":\"Low cardinality (4 distinct values) with sample sentences describing meetings, emails, calls and follow‑ups.\"},{\"columnName\":\"typ\",\"description\":\"Single‑character code indicating the communication type (M=Meeting, E=Email, O=Other, C=Call)\",\"reasoning\":\"Char column with four distinct values matching typical contact type abbreviations.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"sales.cst\",\"insight\":\"The presence of cst_id confirms that each note is tied to a customer, revealing a one‑to‑many relationship where a customer can have multiple interaction notes recorded in this table.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "eml",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2442,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:53:07.520Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 550\n\n\n## Columns\n\n- **eml_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 550 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [82,471,28,115,311,533,263,496,170,293,483,46,38,438,179,479,547,113,130,150]\n\n- **cst_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [417,483,18,377,9,28,266,13,80,496,388,54,39,93,68,135,328,142,224,251]\n\n- **typ** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: W, P, O\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"O\",\"P\",\"P\",\"W\",\"W\",\"W\",\"P\",\"P\",\"O\",\"P\",\"O\",\"W\",\"W\",\"O\",\"W\",\"O\",\"P\",\"O\",\"P\",\"O\"]\n\n- **adr** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 550 (100% unique)\n  \n  \n  \n  - Avg Length: 27 chars\n  - Sample Values: [\"nicole.young129@business.net\",\"linda.hill207@outlook.com\",\"frank.diaz531@yahoo.com\",\"shirley.castillo489@business.net\",\"susan.roberts95@gmail.com\",\"george.hill249@business.net\",\"joseph.cooper297@outlook.com\",\"susan.hughes179@business.net\",\"dorothy.turner516@yahoo.com\",\"angela.walker142@outlook.com\",\"joseph.patel139@business.net\",\"kimberly.miller426@yahoo.com\",\"shirley.bailey481@yahoo.com\",\"deborah.kelly463@company.com\",\"steven.parker253@company.com\",\"joseph.murphy416@yahoo.com\",\"rachel.sanders474@business.net\",\"jeffrey.hernandez37@outlook.com\",\"michael.taylor231@yahoo.com\",\"ashley.rodriguez491@yahoo.com\"]\n\n- **vrf** (bit)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: true, false\n  \n  \n  - Sample Values: [false,true,false,true,true,true,false,true,true,false,true,false,true,false,true,true,true,true,true,false]\n\n- **dflt** (bit)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: false, true\n  \n  \n  - Sample Values: [false,false,true,false,false,false,false,false,false,false,true,false,true,false,false,false,true,false,true,false]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"tableDescription\": \"Stores email addresses associated with customers, including type, verification status, and default flag for each customer's contact information.\",\n  \"reasoning\": \"The table contains an email ID (eml_id) and a customer ID (cst_id) marked as primary keys, indicating a many‑to‑one relationship where each customer can have multiple email records. The 'adr' column holds email address strings, 'typ' has three distinct single‑character values (W, P, O) likely representing Work, Personal, and Other. The boolean columns 'vrf' and 'dflt' correspond to verification status and whether the email is the default contact for the customer. Sample data shows realistic email formats and verification flags, confirming the table's role as a customer email lookup.\",\n  \"confidence\": 0.96,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"eml_id\",\n      \"description\": \"Unique identifier for each email record.\",\n      \"reasoning\": \"Distinct values equal to row count and marked as primary key; typical surrogate key.\"\n    },\n    {\n      \"columnName\": \"cst_id\",\n      \"description\": \"Foreign key referencing the customer to which the email belongs.\",\n      \"reasoning\": \"Primary key component with fewer distinct values than rows, indicating multiple emails per customer.\"\n    },\n    {\n      \"columnName\": \"typ\",\n      \"description\": \"Category of the email address (e.g., Work, Personal, Other).\",\n      \"reasoning\": \"Char column with three possible values W, P, O, matching common email type classifications.\"\n    },\n    {\n      \"columnName\": \"adr\",\n      \"description\": \"The actual email address string.\",\n      \"reasoning\": \"nvarchar column with typical email formats in sample values.\"\n    },\n    {\n      \"columnName\": \"vrf\",\n      \"description\": \"Flag indicating whether the email address has been verified.\",\n      \"reasoning\": \"Bit column with true/false values; verification is a common attribute for contact emails.\"\n    },\n    {\n      \"columnName\": \"dflt\",\n      \"description\": \"Flag indicating whether this email is the default contact for the customer.\",\n      \"reasoning\": \"Bit column; default email selection is typical in customer contact tables.\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"sales.cst\",\n      \"insight\": \"Customers can have multiple email addresses, each classified by type and verification status, with one marked as the default.\",\n      \"confidence\": 0.88\n    }\n  ]\n}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "oli",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2595,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:53:09.808Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 6998\n\n\n## Columns\n\n- **oli_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 6998 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [5668,2555,4720,6881,6600,1693,6509,5006,2176,5198,1417,3343,201,6133,2168,849,534,3532,1025,357]\n\n- **ord_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 2000 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [1353,1394,29,808,1889,454,1881,1834,1804,1829,577,586,405,1912,23,1720,339,1460,634,369]\n\n- **prd_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [46,145,83,73,76,114,92,113,135,5,50,55,167,82,103,197,143,159,149,128]\n\n- **qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 10 (100% unique)\n  \n  - Possible Values: 7, 6, 3, 9, 8, 2, 5, 4, 10, 1\n  \n  \n  - Sample Values: [4,5,8,9,1,10,2,7,1,3,3,7,10,3,7,8,3,7,7,1]\n\n- **prc** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [50.99,150.99,738.49,313.49,200.99,888.49,625.99,175.99,788.49,163.49,663.49,175.99,1138.49,288.49,338.49,388.49,525.99,1025.99,1175.99,663.49]\n\n- **disc** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 51 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [150.99,0,604.44,0,0,0,0,1150.99,0,200.79,0,0,0,150.99,800.79,0,1024.64,0,462.14,275.99]\n\n- **tax_amt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [198.71,360.57,558.71,251.74,656.74,494.74,18.71,43.08,108.71,188.16,185.4,332.74,85.4,45.24,432.57,88.16,475.63,561.2,72.57,313.63]\n\n- **seq** (int)\n  \n  \n  \n  \n  - Distinct Values: 6 (100% unique)\n  \n  - Possible Values: 1, 2, 3, 4, 5, 6\n  \n  \n  - Sample Values: [4,1,2,3,4,4,1,2,3,4,3,1,1,4,3,1,1,4,2,4]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores each line item of a sales order, linking an order to the product purchased and capturing quantity, price, discount, tax and the line sequence within the order.\",\"reasoning\":\"Column names oli_id (order line item id), ord_id (order id), prd_id (product id) and seq (line sequence) match typical order‑line structures. High uniqueness of oli_id, ord_id and prd_id indicates primary keys. qty values range 1‑10, prc, disc and tax_amt are monetary fields. The seq column only contains values 1‑6, suggesting a maximum of six items per order. The table appears in the provided list as sales.oli, confirming its role in the sales domain.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"oli_id\",\"description\":\"Unique identifier for each order line item\",\"reasoning\":\"Primary key with 6998 distinct values, one per row.\"},{\"columnName\":\"ord_id\",\"description\":\"Identifier of the parent sales order to which the line belongs\",\"reasoning\":\"Primary key component, 2000 distinct values, typical foreign key to sales.ord.\"},{\"columnName\":\"prd_id\",\"description\":\"Identifier of the product being sold on this line\",\"reasoning\":\"Primary key component, 200 distinct values, aligns with product lookup table inv.prd.\"},{\"columnName\":\"qty\",\"description\":\"Quantity of the product ordered on this line\",\"reasoning\":\"Low‑cardinality integer (1‑10) matching typical quantity field.\"},{\"columnName\":\"prc\",\"description\":\"Unit price of the product before discounts and taxes\",\"reasoning\":\"Decimal with 100 distinct values, typical monetary price.\"},{\"columnName\":\"disc\",\"description\":\"Discount amount applied to this line (zero if none)\",\"reasoning\":\"Decimal with many distinct values, sample includes zeros and positive amounts.\"},{\"columnName\":\"tax_amt\",\"description\":\"Tax amount calculated for this line\",\"reasoning\":\"Decimal with many distinct values, reflects tax per line.\"},{\"columnName\":\"seq\",\"description\":\"Sequence number of the line within the order (1‑6)\",\"reasoning\":\"Only six possible values, indicating line order and a maximum of six items per order.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"sales.ord\",\"insight\":\"Orders appear to be limited to a maximum of six line items, as indicated by the seq column values 1‑6 in this child table.\",\"confidence\":0.88}]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "ord",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.93",
            "tokensUsed": 3962,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:53:13.146Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 2000\n\n\n## Columns\n\n- **ord_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 2000 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [59,1532,1522,1332,1155,574,1496,1486,614,1371,670,1086,772,1162,861,373,744,979,1893,1232]\n\n- **cst_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 476 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [358,237,268,22,459,473,9999,439,84,9999,79,128,49,400,451,97,145,140,45,187]\n\n- **ord_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 730 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-11-19T00:00:00.000Z\",\"2024-12-12T00:00:00.000Z\",\"2024-09-02T00:00:00.000Z\",\"2024-01-20T00:00:00.000Z\",\"2023-09-05T00:00:00.000Z\",\"2023-11-26T00:00:00.000Z\",\"2023-07-17T00:00:00.000Z\",\"2023-02-21T00:00:00.000Z\",\"2024-01-17T00:00:00.000Z\",\"2023-05-23T00:00:00.000Z\",\"2023-06-04T00:00:00.000Z\",\"2024-03-26T00:00:00.000Z\",\"2023-03-01T00:00:00.000Z\",\"2023-04-19T00:00:00.000Z\",\"2024-09-29T00:00:00.000Z\",\"2023-01-13T00:00:00.000Z\",\"2023-11-08T00:00:00.000Z\",\"2024-04-29T00:00:00.000Z\",\"2023-05-25T00:00:00.000Z\",\"2023-08-07T00:00:00.000Z\"]\n\n- **ship_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 438 (2190% unique)\n  - Nulls: 40%\n  \n  \n  \n  - Sample Values: [\"2023-03-30T00:00:00.000Z\",\"2024-06-22T00:00:00.000Z\",\"2023-11-27T00:00:00.000Z\",\"2023-12-05T00:00:00.000Z\",\"2024-08-04T00:00:00.000Z\",\"2023-10-18T00:00:00.000Z\",\"2023-12-28T00:00:00.000Z\",\"2023-12-07T00:00:00.000Z\",\"2023-06-30T00:00:00.000Z\",\"2024-09-13T00:00:00.000Z\",\"2024-04-24T00:00:00.000Z\",\"2023-11-06T00:00:00.000Z\",\"2024-02-16T00:00:00.000Z\",\"2023-03-29T00:00:00.000Z\",\"2024-04-23T00:00:00.000Z\",\"2023-07-18T00:00:00.000Z\",\"2023-01-19T00:00:00.000Z\",\"2024-11-17T00:00:00.000Z\",\"2024-12-19T00:00:00.000Z\",\"2024-07-11T00:00:00.000Z\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: D, C, S, P, X\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"X\",\"S\",\"S\",\"C\",\"S\",\"X\",\"X\",\"D\",\"P\",\"S\",\"C\",\"C\",\"C\",\"C\",\"S\",\"C\",\"X\",\"S\",\"C\",\"D\"]\n\n- **tot** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [9602,7015,547.5,1841,8806,3134.5,5224,1542.5,3234,6020,746.5,3134.5,9502.5,7413,7114.5,9900.5,2637,6418,8607,8905.5]\n\n- **tax** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [728.36,465.68,123.4,242.8,545.28,187.08,656.72,616.92,362.2,537.32,433.84,648.76,123.4,35.84,489.56,322.4,362.2,11.96,712.44,314.44]\n\n- **ship_amt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: 0, 25, 15\n  \n  \n  - Sample Values: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n\n- **disc_pct** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: 0, 10\n  \n  \n  - Sample Values: [0,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,10,0]\n\n- **pmt_trm** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: N30, COD, N60, N45\n  \n  - Avg Length: 3 chars\n  - Sample Values: [\"N45\",\"N45\",\"COD\",\"N30\",\"COD\",\"N30\",\"N45\",\"N45\",\"COD\",\"N30\",\"N60\",\"COD\",\"N30\",\"COD\",\"N30\",\"N45\",\"N45\",\"N30\",\"N30\",\"N45\"]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 1 (5% unique)\n  - Nulls: 93.4%\n  - Possible Values: Rush order - expedited shipping\n  \n  - Avg Length: 31 chars\n  - Sample Values: [\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"tableDescription\": \"This table stores order header information, capturing each sales order placed by a customer, its dates, status, monetary totals, shipping details, discounts, payment terms, and optional notes.\",\n  \"reasoning\": \"Column names like ord_id, cst_id, ord_dt, ship_dt, sts, tot, tax, ship_amt, disc_pct, and pmt_trm are typical of an order header. ord_id is unique (2000 distinct values) indicating a primary key. cst_id has many distinct values (476) suggesting a foreign key to a customer table. Dates and status codes (D, C, S, P, X) align with order lifecycle. Monetary columns (tot, tax, ship_amt) and discount percentage match order pricing. The low‑cardinality enums (ship_amt, disc_pct, pmt_trm) describe shipping cost tiers, discount applicability, and payment terms. Notes are mostly null, with a single repeated value indicating a special flag for rush orders.\",\n  \"confidence\": 0.93,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ord_id\",\n      \"description\": \"Unique identifier for each order (order primary key).\",\n      \"reasoning\": \"2000 distinct values for 2000 rows; typical naming convention for order IDs.\"\n    },\n    {\n      \"columnName\": \"cst_id\",\n      \"description\": \"Identifier of the customer who placed the order; likely a foreign key to sales.cst.\",\n      \"reasoning\": \"476 distinct values, non‑unique across orders, matches typical customer key cardinality.\"\n    },\n    {\n      \"columnName\": \"ord_dt\",\n      \"description\": \"Date the order was created.\",\n      \"reasoning\": \"Date column with 730 distinct values (roughly two years of daily orders).\"\n    },\n    {\n      \"columnName\": \"ship_dt\",\n      \"description\": \"Date the order was shipped; nullable because many orders are not yet shipped.\",\n      \"reasoning\": \"40% nulls and 438 distinct dates indicate shipping occurs after order creation.\"\n    },\n    {\n      \"columnName\": \"sts\",\n      \"description\": \"Current status of the order, using single‑letter codes (e.g., D=Deleted, C=Cancelled, S=Shipped, P=Pending, X=Exception).\",\n      \"reasoning\": \"Five distinct single‑character values; common pattern for status enums.\"\n    },\n    {\n      \"columnName\": \"tot\",\n      \"description\": \"Total order amount before tax and discounts.\",\n      \"reasoning\": \"Decimal values with 100 distinct amounts, representing monetary totals.\"\n    },\n    {\n      \"columnName\": \"tax\",\n      \"description\": \"Tax amount applied to the order.\",\n      \"reasoning\": \"Decimal column with values that correspond to typical tax calculations on tot.\"\n    },\n    {\n      \"columnName\": \"ship_amt\",\n      \"description\": \"Shipping charge applied to the order; limited to three possible values (0, 15, 25).\",\n      \"reasoning\": \"Low cardinality enum suggests tiered shipping fees.\"\n    },\n    {\n      \"columnName\": \"disc_pct\",\n      \"description\": \"Discount percentage applied to the order; either 0% or 10%.\",\n      \"reasoning\": \"Only two distinct values, indicating a simple discount rule.\"\n    },\n    {\n      \"columnName\": \"pmt_trm\",\n      \"description\": \"Payment terms for the order (e.g., Net 30, Net 45, Net 60, COD).\",\n      \"reasoning\": \"Four distinct string codes matching common payment term abbreviations.\"\n    },\n    {\n      \"columnName\": \"notes\",\n      \"description\": \"Optional free‑text notes; when present, indicates a rush order with expedited shipping.\",\n      \"reasoning\": \"93.4% nulls, single repeated value 'Rush order - expedited shipping' shows a specific flag.\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"sales.cst\",\n      \"insight\": \"The cst_id values (476 distinct customers) suggest the customer table holds a moderately sized customer base, with an average of about 4 orders per customer in this dataset.\",\n      \"confidence\": 0.85\n    }\n  ]\n}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "phn",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.97",
            "tokensUsed": 2402,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:53:15.432Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 600\n\n\n## Columns\n\n- **phn_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 600 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [166,548,63,58,490,446,227,5,258,151,326,591,449,291,536,296,344,578,558,468]\n\n- **cst_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [93,83,249,4,489,88,327,471,453,465,442,323,295,145,311,147,196,235,201,423]\n\n- **typ** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: W, M, H, F\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"W\",\"W\",\"H\",\"M\",\"W\",\"W\",\"M\",\"H\",\"F\",\"W\",\"M\",\"H\",\"F\",\"H\",\"H\",\"F\",\"M\",\"F\",\"H\",\"F\"]\n\n- **num** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 600 (100% unique)\n  \n  \n  \n  - Avg Length: 12 chars\n  - Sample Values: [\"(394) 394-0294\",\"(238) 238-0138\",\"272-272-0172\",\"(682) 682-0582\",\"131-131-0031\",\"(511) 511-0411\",\"224-224-0124\",\"2552550155\",\"485-485-0385\",\"(103) 103-0003\",\"362-362-0262\",\"3333330233\",\"6186180518\",\"419-419-0319\",\"353-353-0253\",\"644-644-0544\",\"(340) 340-0240\",\"6846840584\",\"227-227-0127\",\"(574) 574-0474\"]\n\n- **ext** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 30 (500% unique)\n  - Nulls: 95%\n  \n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"291\",\"391\",\"11\",\"331\",\"571\",\"51\",\"551\",\"491\",\"411\",\"71\",\"431\",\"371\",\"591\",\"351\",\"31\",\"271\",\"511\",\"191\",\"111\",\"451\"]\n\n- **dflt** (bit)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: false, true\n  \n  \n  - Sample Values: [true,true,false,false,false,true,true,false,true,false,true,true,false,false,false,true,false,true,true,true]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores each customer's phone contact details, including the phone number, its type (work, mobile, home, fax), optional extension, and a flag indicating the default number for the customer.\",\"reasoning\":\"Column names and sample data point to phone information: phn_id is a unique identifier, cst_id links to a customer (likely sales.cst), typ has values W,M,H,F matching common phone type codes, num contains phone-number formatted strings, ext holds short numeric extensions and is mostly null (typical for work phones), and dflt is a boolean marking the primary contact number. The table has no foreign keys defined here but its naming and columns align with a typical sales phone lookup table (sales.phn).\",\"confidence\":0.97,\"columnDescriptions\":[{\"columnName\":\"phn_id\",\"description\":\"Surrogate primary key for the phone record\",\"reasoning\":\"Unique integer, 100% distinct, serves as the row identifier.\"},{\"columnName\":\"cst_id\",\"description\":\"Foreign key to the customer table (sales.cst) identifying which customer the phone belongs to\",\"reasoning\":\"Integer with many distinct values, typical linking column to a customer entity.\"},{\"columnName\":\"typ\",\"description\":\"Phone type code: W=Work, M=Mobile, H=Home, F=Fax\",\"reasoning\":\"Four distinct single‑character values matching common phone type abbreviations.\"},{\"columnName\":\"num\",\"description\":\"The phone number string, stored in various formats (with parentheses, hyphens, or plain digits)\",\"reasoning\":\"nvarchar with 12‑character average length and sample values showing typical phone number patterns.\"},{\"columnName\":\"ext\",\"description\":\"Optional extension number for work phones; mostly null for other types\",\"reasoning\":\"Low cardinality, short numeric strings, 95% null indicating it applies only to a subset of rows.\"},{\"columnName\":\"dflt\",\"description\":\"Boolean flag indicating whether this phone is the customer's default contact number\",\"reasoning\":\"Bit column with true/false values, used to select the primary phone for a customer.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"sales.cst\",\"insight\":\"The presence of a default‑phone flag and multiple phone‑type rows implies that sales.cst allows multiple phone numbers per customer and does not store the primary phone directly, delegating that responsibility to this phone table.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "pmt",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3554,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:53:18.760Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 2200\n\n\n## Columns\n\n- **pmt_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 2200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [444,1156,108,469,871,912,1503,1472,667,915,1296,425,1131,1499,1398,623,1573,1609,721,53]\n\n- **ord_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 1800 (8181.8% unique)\n  - Nulls: 10%\n  \n  \n  \n  - Sample Values: [508,1258,1897,1087,544,1714,122,945,20,882,1422,32,1404,1013,1987,25,328,47,1294,1989]\n\n- **cst_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [353,169,171,360,217,393,187,432,66,221,350,294,432,499,82,70,11,162,280,316]\n\n- **pmt_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 730 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-03-06T00:00:00.000Z\",\"2024-03-20T00:00:00.000Z\",\"2023-09-21T00:00:00.000Z\",\"2023-07-06T00:00:00.000Z\",\"2024-07-17T00:00:00.000Z\",\"2023-05-06T00:00:00.000Z\",\"2024-07-18T00:00:00.000Z\",\"2023-04-07T00:00:00.000Z\",\"2024-08-06T00:00:00.000Z\",\"2023-07-25T00:00:00.000Z\",\"2023-09-12T00:00:00.000Z\",\"2024-09-02T00:00:00.000Z\",\"2024-04-24T00:00:00.000Z\",\"2023-08-26T00:00:00.000Z\",\"2023-09-28T00:00:00.000Z\",\"2024-09-27T00:00:00.000Z\",\"2024-06-10T00:00:00.000Z\",\"2023-03-17T00:00:00.000Z\",\"2024-09-30T00:00:00.000Z\",\"2024-12-25T00:00:00.000Z\"]\n\n- **amt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [7900,3360,7040,7080,8500,320,9480,1000,3560,1760,5260,5000,7460,5340,5840,7520,840,3040,3460,420]\n\n- **mthd** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: WR, CA, CK, CC\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"CK\",\"WR\",\"CA\",\"CA\",\"CK\",\"CA\",\"CC\",\"CC\",\"CK\",\"CC\",\"CC\",\"CA\",\"CA\",\"CA\",\"CC\",\"CC\",\"CC\",\"CK\",\"CA\",\"CK\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: A, F, P, R\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\"]\n\n- **ref** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 2200 (100% unique)\n  \n  \n  \n  - Avg Length: 14 chars\n  - Sample Values: [\"PMT-2024-00198\",\"PMT-2023-01971\",\"PMT-2024-00891\",\"PMT-2024-01697\",\"PMT-2023-00477\",\"PMT-2024-01802\",\"PMT-2024-01826\",\"PMT-2023-00600\",\"PMT-2024-01014\",\"PMT-2023-02181\",\"PMT-2023-01288\",\"PMT-2023-01233\",\"PMT-2024-00908\",\"PMT-2024-00179\",\"PMT-2023-02013\",\"PMT-2024-01058\",\"PMT-2023-00522\",\"PMT-2024-00843\",\"PMT-2024-00821\",\"PMT-2023-01239\"]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 1 (4.5% unique)\n  - Nulls: 90%\n  - Possible Values: Account credit applied\n  \n  - Avg Length: 22 chars\n  - Sample Values: [\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"tableDescription\": \"Stores individual payment transactions made by customers for orders, including payment amount, date, method, status, reference code and optional notes.\",\n  \"reasoning\": \"Column names (pmt_id, ord_id, cst_id, pmt_dt, amt, mthd, sts, ref, notes) and sample values clearly indicate a payment record: unique payment ID, optional order ID, customer ID, payment date, monetary amount, method codes (WR, CA, CK, CC), status codes (A, F, P, R), a formatted reference string, and a note about account credit. The table is listed among the allowed names as sales.pmt, reinforcing the payment context.\",\n  \"confidence\": 0.96,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"pmt_id\",\n      \"description\": \"Primary key uniquely identifying each payment record.\",\n      \"reasoning\": \"Integer, 100% unique across 2200 rows and marked as PRIMARY KEY.\"\n    },\n    {\n      \"columnName\": \"ord_id\",\n      \"description\": \"Identifier of the order associated with the payment; may be null when the payment is not tied to a specific order.\",\n      \"reasoning\": \"Integer, appears in 90% of rows, distinct values exceed row count indicating many-to-one or many-to-many linking to orders.\"\n    },\n    {\n      \"columnName\": \"cst_id\",\n      \"description\": \"Identifier of the customer who made the payment.\",\n      \"reasoning\": \"Integer, 100% unique across 500 distinct customers, typical foreign key to sales.cst.\"\n    },\n    {\n      \"columnName\": \"pmt_dt\",\n      \"description\": \"Date the payment was received or processed.\",\n      \"reasoning\": \"Date type with 730 distinct daily values, covering roughly two years of activity.\"\n    },\n    {\n      \"columnName\": \"amt\",\n      \"description\": \"Monetary amount of the payment.\",\n      \"reasoning\": \"Decimal, 100% unique values matching typical transaction amounts.\"\n    },\n    {\n      \"columnName\": \"mthd\",\n      \"description\": \"Payment method code: WR=Wire Transfer, CA=Cash, CK=Check, CC=Credit Card.\",\n      \"reasoning\": \"Char(2) with four distinct values and sample codes that map to common payment methods.\"\n    },\n    {\n      \"columnName\": \"sts\",\n      \"description\": \"Current status of the payment: A=Approved, F=Failed, P=Pending, R=Refunded.\",\n      \"reasoning\": \"Char(1) with four distinct status codes; all sample values are 'A', indicating most payments are approved.\"\n    },\n    {\n      \"columnName\": \"ref\",\n      \"description\": \"System-generated reference string for the payment, e.g., 'PMT-2024-00198'.\",\n      \"reasoning\": \"NVARCHAR, 100% unique, follows a consistent 'PMT-YYYY-#####' pattern.\"\n    },\n    {\n      \"columnName\": \"notes\",\n      \"description\": \"Optional free‑text note; currently used only for 'Account credit applied'.\",\n      \"reasoning\": \"NVARCHAR with 90% nulls and a single repeated value, indicating a specific use‑case flag.\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"sales.ord\",\n      \"insight\": \"The presence of ord_id (nullable, many distinct values) shows that payments can be linked to orders but are not required, implying that some payments (e.g., account credits) are recorded without an associated order.\",\n      \"confidence\": 0.85\n    },\n    {\n      \"parentTable\": \"sales.cst\",\n      \"insight\": \"cst_id references a customer entity; 500 distinct customers for 2200 payments suggests repeat customers and that the customer table likely stores core contact and billing information.\",\n      \"confidence\": 0.85\n    }\n  ]\n}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "rtn",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3272,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:53:21.712Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 150\n\n\n## Columns\n\n- **rtn_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [84,111,131,139,102,114,10,101,113,37,58,123,53,22,89,25,83,24,95,43]\n\n- **ord_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [1340,670,930,700,350,560,1300,1070,280,1090,1120,490,390,10,270,980,210,50,860,370]\n\n- **oli_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [730,440,890,1210,720,1280,270,630,650,1390,1230,850,1290,1190,1320,470,980,810,540,310]\n\n- **rtn_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-10-01T00:00:00.000Z\",\"2024-12-27T00:00:00.000Z\",\"2024-09-26T00:00:00.000Z\",\"2024-10-24T00:00:00.000Z\",\"2024-12-19T00:00:00.000Z\",\"2024-08-21T00:00:00.000Z\",\"2024-12-10T00:00:00.000Z\",\"2024-12-21T00:00:00.000Z\",\"2024-11-02T00:00:00.000Z\",\"2024-10-11T00:00:00.000Z\",\"2024-12-15T00:00:00.000Z\",\"2024-08-18T00:00:00.000Z\",\"2024-12-16T00:00:00.000Z\",\"2024-11-15T00:00:00.000Z\",\"2024-08-28T00:00:00.000Z\",\"2024-12-06T00:00:00.000Z\",\"2024-09-25T00:00:00.000Z\",\"2024-10-19T00:00:00.000Z\",\"2024-11-17T00:00:00.000Z\",\"2024-11-23T00:00:00.000Z\"]\n\n- **rsn** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: WRG, DOA, DMG, CHG\n  \n  - Avg Length: 3 chars\n  - Sample Values: [\"WRG\",\"WRG\",\"CHG\",\"CHG\",\"WRG\",\"WRG\",\"WRG\",\"DOA\",\"DOA\",\"DMG\",\"DMG\",\"WRG\",\"CHG\",\"DOA\",\"CHG\",\"WRG\",\"WRG\",\"WRG\",\"CHG\",\"DOA\"]\n\n- **qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [5,3,2,5,2,3,3,5,2,1,3,3,1,5,5,3,1,1,2,3]\n\n- **amt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 50 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [240,440,130,340,280,220,70,90,500,120,330,270,360,180,130,500,420,140,150,100]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: A, R, P, C\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"P\",\"A\",\"C\",\"P\",\"R\",\"R\",\"P\",\"P\",\"C\",\"P\",\"R\",\"P\",\"R\",\"A\",\"C\",\"A\",\"R\",\"P\",\"C\",\"P\"]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: Wrong item was shipped, Product defective on arrival, Package arrived damaged during shipping, Customer changed mind\n  \n  - Avg Length: 27 chars\n  - Sample Values: [\"Customer changed mind\",\"Package arrived damaged during shipping\",\"Customer changed mind\",\"Product defective on arrival\",\"Product defective on arrival\",\"Package arrived damaged during shipping\",\"Customer changed mind\",\"Package arrived damaged during shipping\",\"Product defective on arrival\",\"Package arrived damaged during shipping\",\"Product defective on arrival\",\"Customer changed mind\",\"Customer changed mind\",\"Customer changed mind\",\"Product defective on arrival\",\"Customer changed mind\",\"Wrong item was shipped\",\"Product defective on arrival\",\"Package arrived damaged during shipping\",\"Package arrived damaged during shipping\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"tableDescription\": \"Stores individual product return records, linking each return to a specific order and order line item, with details about return date, reason, quantity, refund amount, status, and optional notes.\",\n  \"reasoning\": \"The columns rtn_id, ord_id, and oli_id act as unique identifiers for a return, its originating order, and the specific order line item. rtn_dt is a date, rsn contains limited values (WRG, DOA, DMG, CHG) that map to common return reasons. qty and amt capture the quantity returned and monetary value. sts holds status codes (A, R, P, C) typical for processing stages. notes provides free‑text explanations. The pattern matches a sales return table, and the list of possible parent tables includes sales.rtn, sales.ord, and sales.oli, indicating this is the returns table.\",\n  \"confidence\": 0.96,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"rtn_id\",\n      \"description\": \"Unique identifier for the return transaction.\",\n      \"reasoning\": \"Integer, 100% unique across rows, typical for a primary key.\"\n    },\n    {\n      \"columnName\": \"ord_id\",\n      \"description\": \"Identifier of the original order associated with the return.\",\n      \"reasoning\": \"Integer, unique per row, matches order IDs in sales.ord; links return to its order.\"\n    },\n    {\n      \"columnName\": \"oli_id\",\n      \"description\": \"Identifier of the specific order line item being returned.\",\n      \"reasoning\": \"Integer, unique per row, aligns with line‑item IDs in sales.oli; enables return tracking at item level.\"\n    },\n    {\n      \"columnName\": \"rtn_dt\",\n      \"description\": \"Date when the return was processed or received.\",\n      \"reasoning\": \"Date type with distinct values for each row, typical for transaction timestamps.\"\n    },\n    {\n      \"columnName\": \"rsn\",\n      \"description\": \"Reason code for the return (WRG=Wrong item, DOA=Dead on Arrival, DMG=Damaged, CHG=Customer changed mind).\",\n      \"reasoning\": \"Char column with only four distinct values, matching common return reasons.\"\n    },\n    {\n      \"columnName\": \"qty\",\n      \"description\": \"Quantity of items returned for this line.\",\n      \"reasoning\": \"Integer with values 1‑5, indicating small batch returns per line item.\"\n    },\n    {\n      \"columnName\": \"amt\",\n      \"description\": \"Monetary amount refunded or credited for the returned items.\",\n      \"reasoning\": \"Decimal with many distinct values, correlates with qty and product pricing.\"\n    },\n    {\n      \"columnName\": \"sts\",\n      \"description\": \"Current processing status of the return (P=Pending, A=Approved, R=Rejected, C=Completed).\",\n      \"reasoning\": \"Single‑character enum typical for workflow states.\"\n    },\n    {\n      \"columnName\": \"notes\",\n      \"description\": \"Optional free‑text comment providing additional context about the return.\",\n      \"reasoning\": \"NVARCHAR with a few distinct explanatory phrases matching the rsn codes.\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"sales.ord\",\n      \"insight\": \"The presence of ord_id indicates each return is tied to a specific order, confirming that the order table tracks customer purchases that can later be returned.\",\n      \"confidence\": 0.88\n    },\n    {\n      \"parentTable\": \"sales.oli\",\n      \"insight\": \"The oli_id column shows returns are recorded at the order‑line‑item level, implying the order line item table stores product‑level details needed for accurate return processing.\",\n      \"confidence\": 0.86\n    }\n  ]\n}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "shp",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3658,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T03:53:24.458Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 1500\n\n\n## Columns\n\n- **shp_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 1500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [1008,1200,579,597,295,379,873,260,1226,422,24,1154,100,1315,528,361,759,1258,951,248]\n\n- **ord_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 1500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [1253,430,1292,478,1400,528,1361,1287,168,1051,594,768,175,291,1026,1166,289,489,521,1060]\n\n- **whs_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 2, 5, 4, 3, 8, 1, 7, 6\n  \n  \n  - Sample Values: [2,8,5,7,5,1,3,1,1,2,7,1,4,3,7,4,5,3,8,4]\n\n- **ship_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 730 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2023-05-30T00:00:00.000Z\",\"2023-06-23T00:00:00.000Z\",\"2023-09-09T00:00:00.000Z\",\"2023-01-10T00:00:00.000Z\",\"2023-09-18T00:00:00.000Z\",\"2024-06-01T00:00:00.000Z\",\"2024-05-11T00:00:00.000Z\",\"2024-08-05T00:00:00.000Z\",\"2024-12-10T00:00:00.000Z\",\"2024-06-10T00:00:00.000Z\",\"2024-04-05T00:00:00.000Z\",\"2023-08-01T00:00:00.000Z\",\"2024-06-26T00:00:00.000Z\",\"2023-05-19T00:00:00.000Z\",\"2023-07-11T00:00:00.000Z\",\"2023-09-03T00:00:00.000Z\",\"2024-06-14T00:00:00.000Z\",\"2023-12-25T00:00:00.000Z\",\"2023-03-18T00:00:00.000Z\",\"2023-11-23T00:00:00.000Z\"]\n\n- **dlv_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 292 (1946.7% unique)\n  - Nulls: 60%\n  \n  \n  \n  - Sample Values: [\"2023-06-01T00:00:00.000Z\",\"2023-08-01T00:00:00.000Z\",\"2025-01-07T00:00:00.000Z\",\"2024-06-16T00:00:00.000Z\",\"2024-08-20T00:00:00.000Z\",\"2024-02-12T00:00:00.000Z\",\"2023-07-27T00:00:00.000Z\",\"2024-12-23T00:00:00.000Z\",\"2023-06-16T00:00:00.000Z\",\"2023-08-31T00:00:00.000Z\",\"2023-10-15T00:00:00.000Z\",\"2024-05-11T00:00:00.000Z\",\"2024-05-22T00:00:00.000Z\",\"2023-07-02T00:00:00.000Z\",\"2024-08-10T00:00:00.000Z\",\"2023-07-16T00:00:00.000Z\",\"2024-09-13T00:00:00.000Z\",\"2024-08-09T00:00:00.000Z\",\"2024-12-03T00:00:00.000Z\",\"2023-04-03T00:00:00.000Z\"]\n\n- **carr** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: USPS Priority, DHL Express, FedEx Ground, UPS Next Day\n  \n  - Avg Length: 12 chars\n  - Sample Values: [\"UPS Next Day\",\"UPS Next Day\",\"USPS Priority\",\"UPS Next Day\",\"DHL Express\",\"DHL Express\",\"FedEx Ground\",\"USPS Priority\",\"USPS Priority\",\"FedEx Ground\",\"USPS Priority\",\"FedEx Ground\",\"UPS Next Day\",\"DHL Express\",\"UPS Next Day\",\"FedEx Ground\",\"DHL Express\",\"DHL Express\",\"USPS Priority\",\"DHL Express\"]\n\n- **trk** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 1500 (100% unique)\n  \n  \n  \n  - Avg Length: 15 chars\n  - Sample Values: [\"TRK202420246784\",\"TRK2023176665536\",\"TRK2024125801664\",\"TRK202497036416\",\"TRK2024113949888\",\"TRK2024181233408\",\"TRK2024108641280\",\"TRK2024183579072\",\"TRK2024115184448\",\"TRK2023141604032\",\"TRK202494814208\",\"TRK2024110616576\",\"TRK2023140246016\",\"TRK2024127653504\",\"TRK20248888832\",\"TRK202420370240\",\"TRK202385555008\",\"TRK2024129628800\",\"TRK202382715520\",\"TRK202358765056\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: D, N, S, P\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"D\",\"P\",\"S\",\"P\",\"P\",\"P\",\"P\",\"P\",\"N\",\"N\",\"P\",\"D\",\"S\",\"N\",\"N\",\"N\",\"N\",\"D\",\"D\",\"N\"]\n\n- **wgt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 50 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [35,45,15,37.5,47.5,35,107.5,80,77.5,80,25,110,57.5,45,102.5,100,77.5,122.5,52.5,57.5]\n\n- **cost** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: 45, 25, 15\n  \n  \n  - Sample Values: [15,25,45,25,15,15,15,25,45,45,45,25,25,25,25,45,45,45,45,45]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"This table records individual shipment instances for sales orders, linking each order to the warehouse it ships from, the shipping and delivery dates, carrier details, tracking number, status, weight and cost.\",\"reasoning\":\"Column names such as shp_id (shipment identifier), ord_id (order reference), whs_id (warehouse identifier), ship_dt and dlv_dt (shipping and delivery dates), carr (carrier), trk (tracking number), sts (status), wgt (weight) and cost (shipping cost) together describe a shipping transaction. Sample values confirm typical shipping data (e.g., carrier values USPS Priority, DHL Express, FedEx Ground, UPS Next Day; status codes D,N,S,P). High cardinality of shp_id, ord_id, trk indicates unique identifiers. The presence of whs_id with only eight distinct values suggests a lookup to a warehouse table. Although no explicit foreign keys are defined, ord_id likely references sales.ord and whs_id references inv.whs, indicating the table’s role in the sales fulfillment process.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"shp_id\",\"description\":\"Unique identifier for each shipment record\",\"reasoning\":\"1500 distinct values for 1500 rows, typical primary key.\"},{\"columnName\":\"ord_id\",\"description\":\"Identifier of the sales order associated with the shipment\",\"reasoning\":\"Unique per row but logically references sales.ord; sample values match order IDs.\"},{\"columnName\":\"whs_id\",\"description\":\"Identifier of the warehouse from which the shipment originated\",\"reasoning\":\"Only eight distinct values (1‑8) matching typical warehouse IDs; listed as possible values.\"},{\"columnName\":\"ship_dt\",\"description\":\"Date the shipment left the warehouse\",\"reasoning\":\"Date values span 2023‑2024 with daily granularity, typical shipping dates.\"},{\"columnName\":\"dlv_dt\",\"description\":\"Actual or expected delivery date; may be null when not yet delivered\",\"reasoning\":\"60% nulls and many distinct dates indicate optional delivery information.\"},{\"columnName\":\"carr\",\"description\":\"Shipping carrier used for the shipment\",\"reasoning\":\"Four distinct carrier names (USPS Priority, DHL Express, FedEx Ground, UPS Next Day).\"},{\"columnName\":\"trk\",\"description\":\"Tracking number assigned by the carrier\",\"reasoning\":\"1500 unique alphanumeric strings prefixed with 'TRK', typical tracking codes.\"},{\"columnName\":\"sts\",\"description\":\"Current status of the shipment (D=Delivered, N=Not shipped, S=Shipped, P=In‑progress)\",\"reasoning\":\"Four single‑character codes with sample values D,P,S,N suggest status enum.\"},{\"columnName\":\"wgt\",\"description\":\"Weight of the shipment (likely in pounds or kilograms)\",\"reasoning\":\"Decimal values ranging from 15 to 122.5, typical for package weights.\"},{\"columnName\":\"cost\",\"description\":\"Shipping cost charged for the shipment\",\"reasoning\":\"Only three possible values (15,25,45) indicating tiered pricing.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"sales.ord\",\"insight\":\"ord_id links each shipment to an order, revealing that a single order can generate multiple shipment rows, implying split shipments across warehouses or carriers.\",\"confidence\":0.85},{\"parentTable\":\"inv.whs\",\"insight\":\"whs_id values correspond to warehouse identifiers, confirming that shipments are sourced from up to eight distinct warehouse locations defined in the inventory warehouse table.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "prd",
            "action": "backpropagate",
            "result": "unchanged",
            "message": "No revision needed",
            "tokensUsed": 1021,
            "timestamp": "2025-11-09T03:53:31.063Z"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "whs",
            "action": "backpropagate",
            "result": "unchanged",
            "message": "No revision needed",
            "tokensUsed": 1068,
            "timestamp": "2025-11-09T03:53:31.903Z"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "sup",
            "action": "backpropagate",
            "result": "unchanged",
            "message": "No revision needed",
            "tokensUsed": 968,
            "timestamp": "2025-11-09T03:53:32.596Z"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "po",
            "action": "backpropagate",
            "result": "changed",
            "message": "Description revised based on child table insights",
            "tokensUsed": 1230,
            "timestamp": "2025-11-09T03:53:33.914Z"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "cat",
            "action": "backpropagate",
            "result": "unchanged",
            "message": "No revision needed",
            "tokensUsed": 901,
            "timestamp": "2025-11-09T03:53:34.568Z"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "cst",
            "action": "backpropagate",
            "result": "changed",
            "message": "Description revised based on child table insights",
            "tokensUsed": 2102,
            "timestamp": "2025-11-09T03:53:37.411Z"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "ord",
            "action": "backpropagate",
            "result": "changed",
            "message": "Description revised based on child table insights",
            "tokensUsed": 1663,
            "timestamp": "2025-11-09T03:53:39.405Z"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "oli",
            "action": "backpropagate",
            "result": "changed",
            "message": "Description revised based on child table insights",
            "tokensUsed": 1105,
            "timestamp": "2025-11-09T03:53:40.502Z"
          }
        ],
        "sanityChecks": [
          {
            "timestamp": "2025-11-09T03:53:30.394Z",
            "checkType": "dependency_level",
            "scope": "level 0",
            "hasMaterialIssues": true,
            "issuesFound": 7,
            "tablesAffected": [
              "inv_adj",
              "inv_cnt",
              "inv_cat",
              "inv_po_line",
              "inv_rcv",
              "sales_cst",
              "sales_ord_hdr"
            ],
            "result": "issues_corrected",
            "tokensUsed": 7302,
            "promptInput": "You are reviewing a group of database tables that were analyzed together at the same dependency level. Your task is to identify **MATERIAL** inconsistencies or logical issues in how these tables are described and related to each other.\n\n## Dependency Level 0\n\nThese tables all have the same dependency level, meaning they depend on the same set of parent tables and are analyzed together as a cohesive group.\n\n### Tables at This Level\n\n\n#### \n\n**Description**: The table stores inventory adjustment records, capturing changes to product stock levels at specific warehouses, including the quantity adjusted, reason for the adjustment, date, responsible user, and optional notes.\n\n**Columns**:\n\n- **adj_id** (): Unique identifier for each inventory adjustment record\n\n- **prd_id** (): Identifier of the product whose inventory is being adjusted\n\n- **whs_id** (): Identifier of the warehouse where the adjustment took place\n\n- **adj_dt** (): Date the inventory adjustment was recorded\n\n- **qty** (): Quantity change applied to the product stock (positive for increase, negative for decrease)\n\n- **rsn** (): Reason code for the adjustment (STL=Stolen, EXP=Expired, DAM=Damaged, COR=Correction)\n\n- **usr** (): Name of the user/employee who performed the adjustment\n\n- **notes** (): Free‑text comment providing additional context for the adjustment\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: A hierarchical lookup table storing inventory categories and sub‑categories, defining each category's identifier, parent relationship, name, description, level in the hierarchy, and display order.\n\n**Columns**:\n\n- **cat_id** (): Primary key that uniquely identifies each category record\n\n- **prnt_id** (): Self‑referencing foreign key to cat_id indicating the parent category; null or same as cat_id for top‑level categories\n\n- **nm** (): Name of the category (e.g., \"Writing\", \"Supplies\", \"Scanners\")\n\n- **dsc** (): Longer textual description of the category\n\n- **lvl** (): Hierarchy level of the category (1 = top level, 2 = sub‑category)\n\n- **seq** (): Display order of the category within its parent grouping\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores inventory count records capturing the expected system quantity versus the physically counted quantity for each product at each warehouse on a specific date, including the variance and the user who performed the count.\n\n**Columns**:\n\n- **cnt_id** (): Unique identifier for each inventory count record\n\n- **whs_id** (): Identifier of the warehouse where the count was performed\n\n- **cnt_dt** (): Date on which the inventory count took place\n\n- **prd_id** (): Identifier of the product being counted\n\n- **exp_qty** (): Quantity expected according to system records before the count\n\n- **act_qty** (): Quantity actually counted on the floor\n\n- **var** (): Variance between expected and actual quantities (act_qty - exp_qty)\n\n- **usr** (): Name of the user who performed the count\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge and optional notes.\n\n**Columns**:\n\n- **po_id** (): Unique identifier for the purchase order\n\n- **sup_id** (): Identifier of the supplier that fulfills the order\n\n- **po_dt** (): Date the purchase order was created\n\n- **exp_dt** (): Expected delivery date for the order\n\n- **sts** (): Current status of the purchase order (e.g., X=Cancelled, S=Shipped, R=Received, P=Pending, A=Approved)\n\n- **tot** (): Total monetary value of the order before shipping\n\n- **ship_amt** (): Shipping charge applied to the order (0 or 150)\n\n- **notes** (): Optional free‑text notes, often indicating expedited shipping requests\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: This table stores the line‑item details of purchase orders, linking each purchase order (po_id) to the specific product (prd_id) ordered, the quantity requested, the unit price, and the quantity that has been received so far. It enables tracking of order fulfillment at the item level.\n\n**Columns**:\n\n- **po_id** (): Identifier of the purchase order header this line belongs to\n\n- **seq** (): Sequence number of the line item within the purchase order\n\n- **prd_id** (): Identifier of the product being ordered\n\n- **qty** (): Quantity of the product ordered on this line\n\n- **prc** (): Unit price of the product for this line item\n\n- **rcv_qty** (): Quantity of the product that has been received against this line\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: The table stores master data for products, linking each product to its category and supplier, and capturing identifying codes, descriptive information, pricing, cost, status, weight and unit of measure. It serves as the central inventory catalog for the system.\n\n**Columns**:\n\n- **prd_id** (): Unique product identifier (primary key).\n\n- **cat_id** (): Identifier of the product's category, likely a foreign key to inv.cat.\n\n- **sup_id** (): Identifier of the product's supplier, likely a foreign key to inv.sup.\n\n- **sku** (): Stock Keeping Unit code used for inventory tracking.\n\n- **nm** (): Product name or title.\n\n- **dsc** (): Short description of the product.\n\n- **prc** (): Selling price of the product.\n\n- **cost** (): Cost to acquire or produce the product.\n\n- **sts** (): Current status of the product (A=Active, O=On order, D=Discontinued).\n\n- **wgt** (): Weight of the product.\n\n- **uom** (): Unit of measure for inventory transactions (EA=Each, BX=Box, CS=Case).\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores records of goods received against purchase orders, capturing each receipt event with its unique identifier, associated purchase order, receipt date, receiving warehouse, and optional notes about partial shipments\n\n**Columns**:\n\n- **rcv_id** (): Primary key of the receipt record; uniquely identifies each goods receipt event\n\n- **po_id** (): Identifier of the purchase order that the receipt fulfills; links to the purchase order table\n\n- **rcv_dt** (): Date the goods were received at the warehouse\n\n- **whs_id** (): Identifier of the warehouse where the goods were received; references the warehouse lookup table\n\n- **notes** (): Optional free‑text comment about the receipt, commonly used for partial‑shipment information\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores inventory levels for each product at each warehouse, including current quantity, reserved quantity, reorder thresholds, and dates of last count and receipt.\n\n**Columns**:\n\n- **prd_id** (): Identifier of the product; part of the composite primary key and likely a foreign key to inv.prd\n\n- **whs_id** (): Identifier of the warehouse; part of the composite primary key and likely a foreign key to inv.whs\n\n- **qty** (): Current on‑hand quantity of the product at the warehouse\n\n- **rsv** (): Quantity of the product reserved for pending orders\n\n- **min_qty** (): Minimum desired stock level (reorder point) for the product at the warehouse\n\n- **max_qty** (): Maximum allowable stock level (capacity) for the product at the warehouse\n\n- **lst_cnt** (): Date of the most recent physical inventory count for the product at the warehouse\n\n- **lst_rcv** (): Date of the most recent receipt (stock replenishment) for the product at the warehouse\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores master information about suppliers, including their unique identifier, name, status, payment terms, rating, and primary contact details (name, phone, email). This lookup table is used to reference suppliers in purchasing and inventory processes.\n\n**Columns**:\n\n- **sup_id** (): Unique supplier identifier (primary key).\n\n- **nm** (): Supplier's legal or trade name.\n\n- **sts** (): Supplier status code (e.g., A=Active, T=Terminated, S=Suspended, I=Inactive).\n\n- **pmt_trm** (): Standard payment terms for the supplier (Net 15, Net 30, Net 45, Net 60, or Cash on Delivery).\n\n- **rtg** (): Supplier rating on a 1‑5 scale, higher is better.\n\n- **cnt_nm** (): Name of the primary contact person at the supplier.\n\n- **cnt_phn** (): Phone number of the primary contact.\n\n- **cnt_eml** (): Email address of the primary contact.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: A reference table that stores details of each warehouse used in the inventory system, including its identifier, short code, full name, location (city and state), type, capacity and operational status.\n\n**Columns**:\n\n- **whs_id** (): Unique warehouse identifier (primary key).\n\n- **cd** (): Short warehouse code or abbreviation (e.g., NYC, LAX).\n\n- **nm** (): Full descriptive name of the warehouse or distribution center.\n\n- **cty** (): City where the warehouse is located.\n\n- **st** (): Two‑letter state abbreviation for the warehouse location.\n\n- **typ** (): Warehouse type code (R=Regional, M=Manufacturing, D=Distribution).\n\n- **cap** (): Storage capacity of the warehouse (likely in square feet or units).\n\n- **sts** (): Operational status (A=Active, M=Maintenance/Inactive).\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores mailing and location information for customers, including multiple address lines, city, state, zip, country, address type (e.g., Shipping, Billing, Office) and a flag indicating the default address for a customer.\n\n**Columns**:\n\n- **addr_id** (): Unique identifier for each address record.\n\n- **cst_id** (): Identifier of the customer to which the address belongs.\n\n- **typ** (): Address type code (S = Shipping, B = Billing, O = Office).\n\n- **ln1** (): First line of the street address (street number and name).\n\n- **ln2** (): Second address line, usually suite or apartment number; optional.\n\n- **cty** (): City name of the address.\n\n- **st** (): Two‑letter US state abbreviation.\n\n- **zip** (): Postal code (ZIP) for the address.\n\n- **ctry** (): Country code; all rows contain \"US\".\n\n- **dflt** (): Flag indicating whether this address is the default for the customer.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: A master customer table storing core information about each customer, including identification, contact name, status, registration date, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit, and date of most recent order.\n\n**Columns**:\n\n- **cst_id** (): Unique customer identifier (primary key).\n\n- **nm** (): Customer name – either individual or company name.\n\n- **sts** (): Current status of the customer (e.g., A=Active, S=Suspended, I=Inactive, T=Terminated).\n\n- **dt** (): Date the customer record was created or the customer was onboarded.\n\n- **src** (): Acquisition source/channel (WB=Web, ST=Store, RF=Referral, PH=Phone).\n\n- **rep_id** (): Identifier of the sales representative assigned to the customer.\n\n- **seg** (): Market segment classification (W=Wholesale, R=Retail, E=Enterprise).\n\n- **rtg** (): Customer rating or priority level ranging from 1 (lowest) to 5 (highest).\n\n- **bal** (): Current account balance for the customer.\n\n- **cr_lmt** (): Credit limit assigned to the customer.\n\n- **lst_ord** (): Date of the most recent order placed by the customer (nullable).\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores individual notes or interaction records linked to customers, capturing when, who, what was communicated and the type of contact.\n\n**Columns**:\n\n- **note_id** (): Primary key for the note record, uniquely identifies each entry\n\n- **cst_id** (): Identifier of the customer the note pertains to, likely foreign key to sales.cst\n\n- **dt** (): Date the note was created or the interaction occurred\n\n- **usr** (): Name of the employee or system user who recorded the note\n\n- **txt** (): Text of the note describing the interaction or follow‑up\n\n- **typ** (): Single‑character code indicating the communication type (M=Meeting, E=Email, O=Other, C=Call)\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores email addresses associated with customers, including type, verification status, and default flag for each customer's contact information.\n\n**Columns**:\n\n- **eml_id** (): Unique identifier for each email record.\n\n- **cst_id** (): Foreign key referencing the customer to which the email belongs.\n\n- **typ** (): Category of the email address (e.g., Work, Personal, Other).\n\n- **adr** (): The actual email address string.\n\n- **vrf** (): Flag indicating whether the email address has been verified.\n\n- **dflt** (): Flag indicating whether this email is the default contact for the customer.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores each line item of a sales order, linking an order to the product purchased and capturing quantity, price, discount, tax and the line sequence within the order.\n\n**Columns**:\n\n- **oli_id** (): Unique identifier for each order line item\n\n- **ord_id** (): Identifier of the parent sales order to which the line belongs\n\n- **prd_id** (): Identifier of the product being sold on this line\n\n- **qty** (): Quantity of the product ordered on this line\n\n- **prc** (): Unit price of the product before discounts and taxes\n\n- **disc** (): Discount amount applied to this line (zero if none)\n\n- **tax_amt** (): Tax amount calculated for this line\n\n- **seq** (): Sequence number of the line within the order (1‑6)\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: This table stores order header information, capturing each sales order placed by a customer, its dates, status, monetary totals, shipping details, discounts, payment terms, and optional notes.\n\n**Columns**:\n\n- **ord_id** (): Unique identifier for each order (order primary key).\n\n- **cst_id** (): Identifier of the customer who placed the order; likely a foreign key to sales.cst.\n\n- **ord_dt** (): Date the order was created.\n\n- **ship_dt** (): Date the order was shipped; nullable because many orders are not yet shipped.\n\n- **sts** (): Current status of the order, using single‑letter codes (e.g., D=Deleted, C=Cancelled, S=Shipped, P=Pending, X=Exception).\n\n- **tot** (): Total order amount before tax and discounts.\n\n- **tax** (): Tax amount applied to the order.\n\n- **ship_amt** (): Shipping charge applied to the order; limited to three possible values (0, 15, 25).\n\n- **disc_pct** (): Discount percentage applied to the order; either 0% or 10%.\n\n- **pmt_trm** (): Payment terms for the order (e.g., Net 30, Net 45, Net 60, COD).\n\n- **notes** (): Optional free‑text notes; when present, indicates a rush order with expedited shipping.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores each customer's phone contact details, including the phone number, its type (work, mobile, home, fax), optional extension, and a flag indicating the default number for the customer.\n\n**Columns**:\n\n- **phn_id** (): Surrogate primary key for the phone record\n\n- **cst_id** (): Foreign key to the customer table (sales.cst) identifying which customer the phone belongs to\n\n- **typ** (): Phone type code: W=Work, M=Mobile, H=Home, F=Fax\n\n- **num** (): The phone number string, stored in various formats (with parentheses, hyphens, or plain digits)\n\n- **ext** (): Optional extension number for work phones; mostly null for other types\n\n- **dflt** (): Boolean flag indicating whether this phone is the customer's default contact number\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores individual payment transactions made by customers for orders, including payment amount, date, method, status, reference code and optional notes.\n\n**Columns**:\n\n- **pmt_id** (): Primary key uniquely identifying each payment record.\n\n- **ord_id** (): Identifier of the order associated with the payment; may be null when the payment is not tied to a specific order.\n\n- **cst_id** (): Identifier of the customer who made the payment.\n\n- **pmt_dt** (): Date the payment was received or processed.\n\n- **amt** (): Monetary amount of the payment.\n\n- **mthd** (): Payment method code: WR=Wire Transfer, CA=Cash, CK=Check, CC=Credit Card.\n\n- **sts** (): Current status of the payment: A=Approved, F=Failed, P=Pending, R=Refunded.\n\n- **ref** (): System-generated reference string for the payment, e.g., 'PMT-2024-00198'.\n\n- **notes** (): Optional free‑text note; currently used only for 'Account credit applied'.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores individual product return records, linking each return to a specific order and order line item, with details about return date, reason, quantity, refund amount, status, and optional notes.\n\n**Columns**:\n\n- **rtn_id** (): Unique identifier for the return transaction.\n\n- **ord_id** (): Identifier of the original order associated with the return.\n\n- **oli_id** (): Identifier of the specific order line item being returned.\n\n- **rtn_dt** (): Date when the return was processed or received.\n\n- **rsn** (): Reason code for the return (WRG=Wrong item, DOA=Dead on Arrival, DMG=Damaged, CHG=Customer changed mind).\n\n- **qty** (): Quantity of items returned for this line.\n\n- **amt** (): Monetary amount refunded or credited for the returned items.\n\n- **sts** (): Current processing status of the return (P=Pending, A=Approved, R=Rejected, C=Completed).\n\n- **notes** (): Optional free‑text comment providing additional context about the return.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: This table records individual shipment instances for sales orders, linking each order to the warehouse it ships from, the shipping and delivery dates, carrier details, tracking number, status, weight and cost.\n\n**Columns**:\n\n- **shp_id** (): Unique identifier for each shipment record\n\n- **ord_id** (): Identifier of the sales order associated with the shipment\n\n- **whs_id** (): Identifier of the warehouse from which the shipment originated\n\n- **ship_dt** (): Date the shipment left the warehouse\n\n- **dlv_dt** (): Actual or expected delivery date; may be null when not yet delivered\n\n- **carr** (): Shipping carrier used for the shipment\n\n- **trk** (): Tracking number assigned by the carrier\n\n- **sts** (): Current status of the shipment (D=Delivered, N=Not shipped, S=Shipped, P=In‑progress)\n\n- **wgt** (): Weight of the shipment (likely in pounds or kilograms)\n\n- **cost** (): Shipping cost charged for the shipment\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n\n## Your Task\n\nReview these tables as a group and identify **MATERIAL** issues only. Focus on:\n\n1. **Relationship Consistency**: Do foreign key descriptions align between parent and child tables?\n2. **Business Logic Coherence**: Do the table descriptions make sense together as a group?\n3. **Terminology Consistency**: Are similar concepts described using consistent terminology?\n4. **Logical Contradictions**: Are there contradictions in how tables relate or what they represent?\n5. **Missing Context**: Are there critical details missing that affect understanding of the group?\n\n## What Counts as MATERIAL\n\n**MATERIAL issues** (flag these):\n- Contradictory descriptions of the same relationship\n- Misidentified business purpose that affects other tables\n- Missing critical information about how tables interact\n- Incorrect understanding of cardinality or relationship types\n- Terminology conflicts that create confusion (e.g., \"member\" means different things)\n\n**NOT material** (ignore these):\n- Minor wording differences\n- Stylistic variations\n- Different levels of detail that don't contradict\n- Grammar or formatting issues\n- Redundant information that's technically correct\n\n## Response Format\n\nGenerate a JSON response with this exact structure:\n\n```json\n{\n  \"hasMaterialIssues\": false,\n  \"overallAssessment\": \"Brief summary of the dependency level's coherence\",\n  \"tableIssues\": [\n    {\n      \"tableName\": \"TableName\",\n      \"issueType\": \"relationship_inconsistency | business_logic | terminology | contradiction | missing_context\",\n      \"severity\": \"high | medium | low\",\n      \"description\": \"Specific description of the material issue\",\n      \"affectedTables\": [\"Table1\", \"Table2\"],\n      \"suggestedFix\": \"What should be corrected in the description\"\n    }\n  ],\n  \"crossTableObservations\": [\n    {\n      \"observation\": \"Broader pattern or insight across multiple tables\",\n      \"tables\": [\"Table1\", \"Table2\", \"Table3\"]\n    }\n  ]\n}\n```\n\n**Guidelines:**\n- Set `hasMaterialIssues: true` ONLY if you found material problems\n- Be specific about which tables and descriptions need correction\n- Focus on issues that would mislead someone trying to understand the database\n- Group related issues together in crossTableObservations when appropriate\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"hasMaterialIssues\": true,\n  \"overallAssessment\": \"The group is broadly coherent but several critical relationship and context gaps exist, notably missing user/rep entities, ambiguous category parent handling, and a lack of product‑level linkage between purchase orders and receipts.\",\n  \"tableIssues\": [\n    {\n      \"tableName\": \"inv_adj\",\n      \"issueType\": \"missing_context\",\n      \"severity\": \"medium\",\n      \"description\": \"The column **usr** references a user/employee who performed the adjustment, but no user (or employee) table is defined in the dependency level, leaving the foreign‑key relationship undefined.\",\n      \"affectedTables\": [\"inv_adj\"],\n      \"suggestedFix\": \"Add a user/employee lookup table (e.g., inv_usr) and document the foreign‑key relationship from inv_adj.usr to that table.\"\n    },\n    {\n      \"tableName\": \"inv_cnt\",\n      \"issueType\": \"missing_context\",\n      \"severity\": \"medium\",\n      \"description\": \"The **usr** column records who performed the count, yet no user table exists, making the reference ambiguous.\",\n      \"affectedTables\": [\"inv_cnt\"],\n      \"suggestedFix\": \"Create a user/employee table and define inv_cnt.usr as a foreign key to it.\"\n    },\n    {\n      \"tableName\": \"inv_cat\",\n      \"issueType\": \"contradiction\",\n      \"severity\": \"low\",\n      \"description\": \"Top‑level categories are described as having **prnt_id** either NULL *or* the same as **cat_id**. Using the same ID as its own parent contradicts typical hierarchical design where NULL denotes a root.\",\n      \"affectedTables\": [\"inv_cat\"],\n      \"suggestedFix\": \"Standardize the representation: use NULL for root categories and enforce that prnt_id ≠ cat_id for all rows.\"\n    },\n    {\n      \"tableName\": \"inv_po_line\",\n      \"issueType\": \"relationship_inconsistency\",\n      \"severity\": \"high\",\n      \"description\": \"Purchase order line items track **rcv_qty**, but the goods receipt table (**inv_rcv**) only stores **po_id** and **whs_id**, with no reference to the specific line items or product IDs, preventing accurate receipt‑to‑line reconciliation.\",\n      \"affectedTables\": [\"inv_po_line\", \"inv_rcv\"],\n      \"suggestedFix\": \"Add **prd_id** (and optionally **seq** or a line‑item identifier) to inv_rcv, or create a receipt‑line table that references inv_po_line.po_id and seq.\"\n    },\n    {\n      \"tableName\": \"inv_rcv\",\n      \"issueType\": \"relationship_inconsistency\",\n      \"severity\": \"high\",\n      \"description\": \"See issue for inv_po_line – the receipt table lacks product‑level detail, breaking the expected foreign‑key relationship to purchase order lines.\",\n      \"affectedTables\": [\"inv_rcv\", \"inv_po_line\"],\n      \"suggestedFix\": \"Include **prd_id** and **seq** (or a receipt‑line identifier) in inv_rcv to link each receipt record to the corresponding purchase order line.\"\n    },\n    {\n      \"tableName\": \"sales_cst\",\n      \"issueType\": \"missing_context\",\n      \"severity\": \"medium\",\n      \"description\": \"The **rep_id** column references a sales representative, but no sales‑rep (or employee) table is defined, leaving the relationship undefined.\",\n      \"affectedTables\": [\"sales_cst\"],\n      \"suggestedFix\": \"Add a sales_rep lookup table and define sales_cst.rep_id as a foreign key to it.\"\n    },\n    {\n      \"tableName\": \"sales_ord_hdr\",\n      \"issueType\": \"terminology\",\n      \"severity\": \"low\",\n      \"description\": \"The **ship_amt** column is limited to values (0, 15, 25) while the purchase order header’s **ship_amt** allows (0, 150). The differing business rules for shipping charges across purchasing and sales are not explained, which may cause confusion.\",\n      \"affectedTables\": [\"sales_ord_hdr\", \"inv_po_hdr\"],\n      \"suggestedFix\": \"Document the distinct shipping‑charge policies for sales vs. purchasing, or align the allowed values if they should be consistent.\"\n    }\n  ],\n  \"crossTableObservations\": [\n    {\n      \"observation\": \"Multiple tables reference actors (users, sales reps) without providing corresponding lookup tables, indicating a systemic omission of employee/user entities.\",\n      \"tables\": [\"inv_adj\", \"inv_cnt\", \"sales_cst\"]\n    },\n    {\n      \"observation\": \"Status code columns (**sts**) appear in many tables but use different enumerations (e.g., purchase order vs. sales order vs. shipment). Without a shared status taxonomy, integration logic may be error‑prone.\",\n      \"tables\": [\"inv_po_hdr\", \"sales_ord_hdr\", \"sales_ship\", \"inv_rcv\", \"inv_adj\", \"inv_cnt\"]\n    },\n    {\n      \"observation\": \"The receipt process lacks granularity: goods receipt records do not tie back to individual PO line items, making it impossible to track which products were received and in what quantities.\",\n      \"tables\": [\"inv_rcv\", \"inv_po_line\"]\n    }\n  ]\n}"
          }
        ]
      }
    ],
    "keyDetection": {
      "triggered": true,
      "triggerReason": "both",
      "triggerDetails": {
        "tablesWithoutPK": 20,
        "expectedFKs": 40,
        "actualFKs": 0,
        "fkDeficitPercentage": 100
      },
      "startedAt": "2025-11-09T03:52:25.712Z",
      "tokenBudget": {
        "allocated": 100000,
        "used": 3653,
        "remaining": 96347
      },
      "iterations": [
        {
          "iteration": 1,
          "phase": "backprop",
          "startedAt": "2025-11-09T03:52:25.712Z",
          "completedAt": "2025-11-09T03:52:33.260Z",
          "tokensUsed": 3653,
          "discoveries": {
            "newPKs": [
              {
                "schemaName": "inv",
                "tableName": "adj",
                "columnNames": [
                  "adj_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 300,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "adj",
                "columnNames": [
                  "adj_id",
                  "prd_id",
                  "whs_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "cat",
                "columnNames": [
                  "cat_id"
                ],
                "confidence": 98,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 20,
                  "dataPattern": "sequential",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "cat",
                "columnNames": [
                  "cat_id",
                  "prnt_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "cnt",
                "columnNames": [
                  "cnt_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 250,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "cnt",
                "columnNames": [
                  "cnt_id",
                  "whs_id",
                  "prd_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "po",
                "columnNames": [
                  "po_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 150,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "po",
                "columnNames": [
                  "po_id",
                  "sup_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "po_dtl",
                "columnNames": [
                  "po_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 150,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "po_dtl",
                "columnNames": [
                  "po_id",
                  "prd_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "prd",
                "columnNames": [
                  "prd_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 177,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "prd",
                "columnNames": [
                  "prd_id",
                  "cat_id",
                  "sup_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "rcv",
                "columnNames": [
                  "rcv_id",
                  "po_id",
                  "whs_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "stk",
                "columnNames": [
                  "prd_id",
                  "whs_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "sup",
                "columnNames": [
                  "sup_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 25,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "whs",
                "columnNames": [
                  "whs_id"
                ],
                "confidence": 98,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 8,
                  "dataPattern": "sequential",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "addr",
                "columnNames": [
                  "addr_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 800,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "addr",
                "columnNames": [
                  "addr_id",
                  "cst_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "cst",
                "columnNames": [
                  "cst_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 500,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "cst",
                "columnNames": [
                  "cst_id",
                  "rep_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "cst_note",
                "columnNames": [
                  "note_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 450,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "cst_note",
                "columnNames": [
                  "cst_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 450,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "cst_note",
                "columnNames": [
                  "note_id",
                  "cst_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "eml",
                "columnNames": [
                  "eml_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 550,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "eml",
                "columnNames": [
                  "eml_id",
                  "cst_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "oli",
                "columnNames": [
                  "oli_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 6998,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "oli",
                "columnNames": [
                  "oli_id",
                  "ord_id",
                  "prd_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "ord",
                "columnNames": [
                  "ord_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 2000,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "ord",
                "columnNames": [
                  "ord_id",
                  "cst_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "phn",
                "columnNames": [
                  "phn_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 600,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "phn",
                "columnNames": [
                  "phn_id",
                  "cst_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "pmt",
                "columnNames": [
                  "ord_id"
                ],
                "confidence": 100,
                "evidence": {
                  "uniqueness": 81.81818181818181,
                  "nullCount": 220,
                  "totalRows": 22,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": [
                    "Column contains NULL values"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "pmt",
                "columnNames": [
                  "pmt_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 2200,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "pmt",
                "columnNames": [
                  "pmt_id",
                  "ord_id",
                  "cst_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "rtn",
                "columnNames": [
                  "rtn_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 150,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "rtn",
                "columnNames": [
                  "rtn_id",
                  "ord_id",
                  "oli_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "shp",
                "columnNames": [
                  "shp_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1500,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "shp",
                "columnNames": [
                  "shp_id",
                  "ord_id",
                  "whs_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              }
            ],
            "newFKs": [],
            "validated": [],
            "rejected": [],
            "confidenceChanges": []
          },
          "backpropTriggered": false
        },
        {
          "iteration": 2,
          "phase": "backprop",
          "startedAt": "2025-11-09T03:52:33.261Z",
          "completedAt": "2025-11-09T03:52:33.326Z",
          "tokensUsed": 0,
          "discoveries": {
            "newPKs": [],
            "newFKs": [],
            "validated": [],
            "rejected": [],
            "confidenceChanges": []
          },
          "backpropTriggered": false
        }
      ],
      "discovered": {
        "primaryKeys": [
          {
            "schemaName": "inv",
            "tableName": "adj",
            "columnNames": [
              "adj_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 300,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "adj",
            "columnNames": [
              "adj_id",
              "prd_id",
              "whs_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "cat",
            "columnNames": [
              "cat_id"
            ],
            "confidence": 98,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 20,
              "dataPattern": "sequential",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "cat",
            "columnNames": [
              "cat_id",
              "prnt_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "cnt",
            "columnNames": [
              "cnt_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 250,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "cnt",
            "columnNames": [
              "cnt_id",
              "whs_id",
              "prd_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "po",
            "columnNames": [
              "po_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 150,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "po",
            "columnNames": [
              "po_id",
              "sup_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "po_dtl",
            "columnNames": [
              "po_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 150,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "po_dtl",
            "columnNames": [
              "po_id",
              "prd_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "prd",
            "columnNames": [
              "prd_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 177,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "prd",
            "columnNames": [
              "prd_id",
              "cat_id",
              "sup_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "rcv",
            "columnNames": [
              "rcv_id",
              "po_id",
              "whs_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "stk",
            "columnNames": [
              "prd_id",
              "whs_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "sup",
            "columnNames": [
              "sup_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 25,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "whs",
            "columnNames": [
              "whs_id"
            ],
            "confidence": 98,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 8,
              "dataPattern": "sequential",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "addr",
            "columnNames": [
              "addr_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 800,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "addr",
            "columnNames": [
              "addr_id",
              "cst_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "cst",
            "columnNames": [
              "cst_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 500,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "cst",
            "columnNames": [
              "cst_id",
              "rep_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "cst_note",
            "columnNames": [
              "note_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 450,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "cst_note",
            "columnNames": [
              "cst_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 450,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "cst_note",
            "columnNames": [
              "note_id",
              "cst_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "eml",
            "columnNames": [
              "eml_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 550,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "eml",
            "columnNames": [
              "eml_id",
              "cst_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "oli",
            "columnNames": [
              "oli_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 6998,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "oli",
            "columnNames": [
              "oli_id",
              "ord_id",
              "prd_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "ord",
            "columnNames": [
              "ord_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 2000,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "ord",
            "columnNames": [
              "ord_id",
              "cst_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "phn",
            "columnNames": [
              "phn_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 600,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "phn",
            "columnNames": [
              "phn_id",
              "cst_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "pmt",
            "columnNames": [
              "ord_id"
            ],
            "confidence": 100,
            "evidence": {
              "uniqueness": 81.81818181818181,
              "nullCount": 220,
              "totalRows": 22,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": [
                "Column contains NULL values"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "pmt",
            "columnNames": [
              "pmt_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 2200,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "pmt",
            "columnNames": [
              "pmt_id",
              "ord_id",
              "cst_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "rtn",
            "columnNames": [
              "rtn_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 150,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "rtn",
            "columnNames": [
              "rtn_id",
              "ord_id",
              "oli_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "shp",
            "columnNames": [
              "shp_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1500,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "shp",
            "columnNames": [
              "shp_id",
              "ord_id",
              "whs_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          }
        ],
        "foreignKeys": [
          {
            "schemaName": "inv",
            "sourceTable": "cat",
            "sourceColumn": "prnt_id",
            "targetSchema": "inv",
            "targetTable": "cat",
            "targetColumn": "cat_id",
            "confidence": 80,
            "evidence": {
              "namingMatch": 0.8,
              "valueOverlap": 0,
              "cardinalityRatio": 0,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 0,
              "orphanCount": 0,
              "warnings": [
                "Created from LLM description insight"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": true,
            "status": "confirmed"
          },
          {
            "schemaName": "inv",
            "sourceTable": "po",
            "sourceColumn": "sup_id",
            "targetSchema": "inv",
            "targetTable": "sup",
            "targetColumn": "sup_id",
            "confidence": 80,
            "evidence": {
              "namingMatch": 0.8,
              "valueOverlap": 0,
              "cardinalityRatio": 0,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 0,
              "orphanCount": 0,
              "warnings": [
                "Created from LLM description insight"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": true,
            "status": "confirmed"
          },
          {
            "schemaName": "sales",
            "sourceTable": "cst_note",
            "sourceColumn": "note_id",
            "targetSchema": "sales",
            "targetTable": "cst_note",
            "targetColumn": "cst_id",
            "confidence": 80,
            "evidence": {
              "namingMatch": 0.8,
              "valueOverlap": 0,
              "cardinalityRatio": 0,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 0,
              "orphanCount": 0,
              "warnings": [
                "Created from LLM description insight"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": true,
            "status": "confirmed"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "sales",
            "targetTable": "ord",
            "targetColumn": "ord_id",
            "confidence": 80,
            "evidence": {
              "namingMatch": 0.8,
              "valueOverlap": 0,
              "cardinalityRatio": 0,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 0,
              "orphanCount": 0,
              "warnings": [
                "Created from LLM description insight"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": true,
            "status": "confirmed"
          }
        ]
      },
      "schemaEnhancements": {
        "pkeysAdded": 0,
        "fkeysAdded": 0,
        "overallConfidence": 83
      },
      "feedbackFromAnalysis": [
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each inventory adjustment record\"",
          "tableName": "adj",
          "columnName": "adj_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product whose inventory is being adjusted\"",
          "tableName": "adj",
          "columnName": "prd_id",
          "affectedCandidates": [
            "PK:inv.adj.prd_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "product",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the warehouse where the adjustment took place\"",
          "tableName": "adj",
          "columnName": "whs_id",
          "affectedCandidates": [
            "PK:inv.adj.whs_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "warehouse",
            "targetColumn": "id"
          }
        },
        {
          "type": "new_relationship",
          "evidence": "Analysis phase description: \"Self‑referencing foreign key to cat_id indicating the parent category; null or same as cat_id for top‑level categories\"",
          "tableName": "cat",
          "columnName": "prnt_id",
          "affectedCandidates": [
            "PK:inv.cat.prnt_id",
            "FK:inv.cat.prnt_id"
          ],
          "recommendation": "add_new",
          "newRelationship": {
            "targetTable": "cat_id",
            "targetColumn": "id"
          },
          "newConfidence": 80
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each inventory count record\"",
          "tableName": "cnt",
          "columnName": "cnt_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the warehouse where the count was performed\"",
          "tableName": "cnt",
          "columnName": "whs_id",
          "affectedCandidates": [
            "PK:inv.cnt.whs_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "warehouse",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product being counted\"",
          "tableName": "cnt",
          "columnName": "prd_id",
          "affectedCandidates": [
            "PK:inv.cnt.prd_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "product",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for the purchase order\"",
          "tableName": "po",
          "columnName": "po_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "purchase",
            "targetColumn": "id"
          }
        },
        {
          "type": "new_relationship",
          "evidence": "Analysis phase description: \"Identifier of the supplier that fulfills the order\"",
          "tableName": "po",
          "columnName": "sup_id",
          "affectedCandidates": [
            "PK:inv.po.sup_id",
            "FK:inv.po.sup_id"
          ],
          "recommendation": "add_new",
          "newRelationship": {
            "targetTable": "supplier",
            "targetColumn": "id"
          },
          "newConfidence": 80
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the purchase order header this line belongs to\"",
          "tableName": "po_dtl",
          "columnName": "po_id",
          "affectedCandidates": [
            "PK:inv.po_dtl.po_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "purchase",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product being ordered\"",
          "tableName": "po_dtl",
          "columnName": "prd_id",
          "affectedCandidates": [
            "PK:inv.po_dtl.prd_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "product",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product's category, likely a foreign key to inv.cat.\"",
          "tableName": "prd",
          "columnName": "cat_id",
          "affectedCandidates": [
            "PK:inv.prd.cat_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "inv",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product's supplier, likely a foreign key to inv.sup.\"",
          "tableName": "prd",
          "columnName": "sup_id",
          "affectedCandidates": [
            "PK:inv.prd.sup_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "inv",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Primary key of the receipt record; uniquely identifies each goods receipt event\"",
          "tableName": "rcv",
          "columnName": "rcv_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "receipt",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the purchase order that the receipt fulfills; links to the purchase order table\"",
          "tableName": "rcv",
          "columnName": "po_id",
          "affectedCandidates": [
            "PK:inv.rcv.po_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "purchase",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the warehouse where the goods were received; references the warehouse lookup table\"",
          "tableName": "rcv",
          "columnName": "whs_id",
          "affectedCandidates": [
            "PK:inv.rcv.whs_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "warehouse",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product; part of the composite primary key and likely a foreign key to inv.prd\"",
          "tableName": "stk",
          "columnName": "prd_id",
          "affectedCandidates": [
            "PK:inv.stk.prd_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "inv",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the warehouse; part of the composite primary key and likely a foreign key to inv.whs\"",
          "tableName": "stk",
          "columnName": "whs_id",
          "affectedCandidates": [
            "PK:inv.stk.whs_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "inv",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each address record.\"",
          "tableName": "addr",
          "columnName": "addr_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the customer to which the address belongs.\"",
          "tableName": "addr",
          "columnName": "cst_id",
          "affectedCandidates": [
            "PK:sales.addr.cst_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "customer",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the sales representative assigned to the customer.\"",
          "tableName": "cst",
          "columnName": "rep_id",
          "affectedCandidates": [
            "PK:sales.cst.rep_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "sales",
            "targetColumn": "id"
          }
        },
        {
          "type": "new_relationship",
          "evidence": "Analysis phase description: \"Primary key for the note record, uniquely identifies each entry\"",
          "tableName": "cst_note",
          "columnName": "note_id",
          "affectedCandidates": [
            "PK:sales.cst_note.note_id",
            "FK:sales.cst_note.note_id"
          ],
          "recommendation": "add_new",
          "newRelationship": {
            "targetTable": "note",
            "targetColumn": "id"
          },
          "newConfidence": 80
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the customer the note pertains to, likely foreign key to sales.cst\"",
          "tableName": "cst_note",
          "columnName": "cst_id",
          "affectedCandidates": [
            "PK:sales.cst_note.cst_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "sales",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each email record.\"",
          "tableName": "eml",
          "columnName": "eml_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Foreign key referencing the customer to which the email belongs.\"",
          "tableName": "eml",
          "columnName": "cst_id",
          "affectedCandidates": [
            "PK:sales.eml.cst_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "customer",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each order line item\"",
          "tableName": "oli",
          "columnName": "oli_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the parent sales order to which the line belongs\"",
          "tableName": "oli",
          "columnName": "ord_id",
          "affectedCandidates": [
            "PK:sales.oli.ord_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "parent",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product being sold on this line\"",
          "tableName": "oli",
          "columnName": "prd_id",
          "affectedCandidates": [
            "PK:sales.oli.prd_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "product",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each order (order primary key).\"",
          "tableName": "ord",
          "columnName": "ord_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the customer who placed the order; likely a foreign key to sales.cst.\"",
          "tableName": "ord",
          "columnName": "cst_id",
          "affectedCandidates": [
            "PK:sales.ord.cst_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "sales",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Surrogate primary key for the phone record\"",
          "tableName": "phn",
          "columnName": "phn_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "phone",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Foreign key to the customer table (sales.cst) identifying which customer the phone belongs to\"",
          "tableName": "phn",
          "columnName": "cst_id",
          "affectedCandidates": [
            "PK:sales.phn.cst_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "customer",
            "targetColumn": "id"
          }
        },
        {
          "type": "new_relationship",
          "evidence": "Analysis phase description: \"Identifier of the order associated with the payment; may be null when the payment is not tied to a specific order.\"",
          "tableName": "pmt",
          "columnName": "ord_id",
          "affectedCandidates": [
            "PK:sales.pmt.ord_id",
            "FK:sales.pmt.ord_id"
          ],
          "recommendation": "add_new",
          "newRelationship": {
            "targetTable": "order",
            "targetColumn": "id"
          },
          "newConfidence": 80
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the customer who made the payment.\"",
          "tableName": "pmt",
          "columnName": "cst_id",
          "affectedCandidates": [
            "PK:sales.pmt.cst_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "customer",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"System-generated reference string for the payment, e.g., 'PMT-2024-00198'.\"",
          "tableName": "pmt",
          "columnName": "ref",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "string",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for the return transaction.\"",
          "tableName": "rtn",
          "columnName": "rtn_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "return",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the original order associated with the return.\"",
          "tableName": "rtn",
          "columnName": "ord_id",
          "affectedCandidates": [
            "PK:sales.rtn.ord_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "original",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the specific order line item being returned.\"",
          "tableName": "rtn",
          "columnName": "oli_id",
          "affectedCandidates": [
            "PK:sales.rtn.oli_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "specific",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each shipment record\"",
          "tableName": "shp",
          "columnName": "shp_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the sales order associated with the shipment\"",
          "tableName": "shp",
          "columnName": "ord_id",
          "affectedCandidates": [
            "PK:sales.shp.ord_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "sales",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the warehouse from which the shipment originated\"",
          "tableName": "shp",
          "columnName": "whs_id",
          "affectedCandidates": [
            "PK:sales.shp.whs_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "warehouse",
            "targetColumn": "id"
          }
        }
      ],
      "summary": {
        "totalTablesAnalyzed": 20,
        "tablesWithDiscoveredPKs": 20,
        "relationshipsDiscovered": 0,
        "averageConfidence": 83,
        "highConfidenceCount": 20,
        "mediumConfidenceCount": 18,
        "lowConfidenceCount": 0,
        "rejectedCount": 0
      },
      "completedAt": "2025-11-09T03:52:33.326Z"
    }
  },
  "schemas": [
    {
      "name": "inv",
      "tables": [
        {
          "name": "adj",
          "rowCount": "300",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "adj_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each inventory adjustment record",
                  "reasoning": "Primary key with 300 distinct values matching row count, indicating a surrogate key.",
                  "generatedAt": "2025-11-09T03:52:35.861Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 300,
                "distinctCount": 300,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  258,
                  129,
                  278,
                  276,
                  120,
                  286,
                  142,
                  280,
                  99,
                  227,
                  66,
                  106,
                  253,
                  54,
                  64,
                  269,
                  71,
                  260,
                  290,
                  40
                ],
                "minValue": 1,
                "maxValue": 300,
                "computedAt": "2025-11-09T03:52:25.715Z",
                "queryTimeMs": 3
              },
              "description": "Unique identifier for each inventory adjustment record"
            },
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product whose inventory is being adjusted",
                  "reasoning": "Integer column with 200 distinct values, typical of a product reference; likely foreign key to inv.prd.",
                  "generatedAt": "2025-11-09T03:52:35.861Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 200,
                "distinctCount": 200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  142,
                  122,
                  89,
                  21,
                  127,
                  163,
                  167,
                  69,
                  90,
                  80,
                  11,
                  146,
                  137,
                  128,
                  15,
                  159,
                  179,
                  43,
                  6,
                  58
                ],
                "minValue": 1,
                "maxValue": 200,
                "computedAt": "2025-11-09T03:52:25.718Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the product whose inventory is being adjusted"
            },
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the warehouse where the adjustment took place",
                  "reasoning": "Only 8 distinct values (1‑8), matching typical warehouse IDs; likely foreign key to inv.whs.",
                  "generatedAt": "2025-11-09T03:52:35.861Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  8,
                  4,
                  3,
                  1,
                  3,
                  6,
                  6,
                  8,
                  8,
                  7,
                  5,
                  6,
                  4,
                  7,
                  3,
                  2,
                  1,
                  6,
                  1,
                  7
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T03:52:25.722Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                5,
                4,
                3,
                2,
                8,
                7,
                6,
                1
              ],
              "description": "Identifier of the warehouse where the adjustment took place"
            },
            {
              "name": "adj_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the inventory adjustment was recorded",
                  "reasoning": "Date column with 300 distinct values, one per row, representing when each adjustment occurred.",
                  "generatedAt": "2025-11-09T03:52:35.861Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 300,
                "distinctCount": 300,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-04-25T00:00:00.000Z",
                  "2024-05-24T00:00:00.000Z",
                  "2024-04-16T00:00:00.000Z",
                  "2024-06-28T00:00:00.000Z",
                  "2024-06-17T00:00:00.000Z",
                  "2024-12-15T00:00:00.000Z",
                  "2024-11-16T00:00:00.000Z",
                  "2024-12-11T00:00:00.000Z",
                  "2024-05-26T00:00:00.000Z",
                  "2024-07-23T00:00:00.000Z",
                  "2024-06-06T00:00:00.000Z",
                  "2024-09-12T00:00:00.000Z",
                  "2024-08-21T00:00:00.000Z",
                  "2024-09-09T00:00:00.000Z",
                  "2024-04-24T00:00:00.000Z",
                  "2024-06-07T00:00:00.000Z",
                  "2024-10-31T00:00:00.000Z",
                  "2024-12-29T00:00:00.000Z",
                  "2024-12-10T00:00:00.000Z",
                  "2024-07-19T00:00:00.000Z"
                ],
                "minValue": "2024-03-07T00:00:00.000Z",
                "maxValue": "2024-12-31T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:25.725Z",
                "queryTimeMs": 3
              },
              "description": "Date the inventory adjustment was recorded"
            },
            {
              "name": "qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity change applied to the product stock (positive for increase, negative for decrease)",
                  "reasoning": "Integer values include both positive and negative numbers, reflecting stock additions and deductions.",
                  "generatedAt": "2025-11-09T03:52:35.861Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 40,
                "distinctCount": 40,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  18,
                  -1,
                  16,
                  -11,
                  -7,
                  -2,
                  24,
                  -2,
                  -10,
                  -9,
                  -18,
                  -15,
                  14,
                  -15,
                  22,
                  -18,
                  -14,
                  -9,
                  34,
                  -1
                ],
                "minValue": -19,
                "maxValue": 50,
                "computedAt": "2025-11-09T03:52:25.729Z",
                "queryTimeMs": 4
              },
              "description": "Quantity change applied to the product stock (positive for increase, negative for decrease)"
            },
            {
              "name": "rsn",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Reason code for the adjustment (STL=Stolen, EXP=Expired, DAM=Damaged, COR=Correction)",
                  "reasoning": "Low‑cardinality char column with four known values, typical enumeration of adjustment reasons.",
                  "generatedAt": "2025-11-09T03:52:35.861Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "DAM",
                  "DAM",
                  "EXP",
                  "COR",
                  "COR",
                  "STL",
                  "DAM",
                  "DAM",
                  "EXP",
                  "DAM",
                  "STL",
                  "EXP",
                  "EXP",
                  "COR",
                  "DAM",
                  "COR",
                  "COR",
                  "DAM",
                  "COR",
                  "EXP"
                ],
                "avgLength": 3,
                "computedAt": "2025-11-09T03:52:25.734Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "STL",
                "EXP",
                "DAM",
                "COR"
              ],
              "description": "Reason code for the adjustment (STL=Stolen, EXP=Expired, DAM=Damaged, COR=Correction)"
            },
            {
              "name": "usr",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Name of the user/employee who performed the adjustment",
                  "reasoning": "Distinct employee names, high cardinality, indicating who recorded the transaction.",
                  "generatedAt": "2025-11-09T03:52:35.861Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 297,
                "distinctCount": 297,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Frank Scott",
                  "Christine Martinez",
                  "Dennis Hernandez",
                  "Shirley Cook",
                  "Sharon Chavez",
                  "Catherine Castillo",
                  "Jessica Mitchell",
                  "Matthew Diaz",
                  "Ashley Ward",
                  "Andrew Allen",
                  "Brandon Martin",
                  "Andrew Gutierrez",
                  "Timothy Hill",
                  "Joseph Robinson",
                  "Maria Castillo",
                  "Michelle Roberts",
                  "Richard Edwards",
                  "Sarah Williams",
                  "Amy Cox",
                  "Joseph Williams"
                ],
                "avgLength": 13,
                "computedAt": "2025-11-09T03:52:25.737Z",
                "queryTimeMs": 3
              },
              "description": "Name of the user/employee who performed the adjustment"
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Free‑text comment providing additional context for the adjustment",
                  "reasoning": "Limited set of descriptive sentences matching the reason codes, used for audit trails.",
                  "generatedAt": "2025-11-09T03:52:35.861Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Products expired and removed from stock",
                  "Products expired and removed from stock",
                  "Items damaged during warehouse operations",
                  "Products expired and removed from stock",
                  "Inventory count correction after cycle count",
                  "Inventory count correction after cycle count",
                  "Inventory shrinkage detected during audit",
                  "Items damaged during warehouse operations",
                  "Inventory shrinkage detected during audit",
                  "Items damaged during warehouse operations",
                  "Inventory count correction after cycle count",
                  "Products expired and removed from stock",
                  "Items damaged during warehouse operations",
                  "Inventory shrinkage detected during audit",
                  "Inventory count correction after cycle count",
                  "Items damaged during warehouse operations",
                  "Inventory count correction after cycle count",
                  "Inventory shrinkage detected during audit",
                  "Inventory shrinkage detected during audit",
                  "Inventory count correction after cycle count"
                ],
                "avgLength": 41,
                "computedAt": "2025-11-09T03:52:25.742Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "Products expired and removed from stock",
                "Items damaged during warehouse operations",
                "Inventory shrinkage detected during audit",
                "Inventory count correction after cycle count"
              ],
              "description": "Free‑text comment providing additional context for the adjustment"
            }
          ],
          "descriptionIterations": [
            {
              "description": "The table stores inventory adjustment records, capturing changes to product stock levels at specific warehouses, including the quantity adjusted, reason for the adjustment, date, responsible user, and optional notes.",
              "reasoning": "Column names adj_id, prd_id, whs_id, adj_dt, qty, rsn, usr, and notes together describe a transaction that modifies inventory. adj_id is a unique primary key. prd_id and whs_id have low cardinality and match typical product and warehouse identifiers, suggesting foreign keys to inv.prd and inv.whs. qty contains both positive and negative integers, indicating stock additions or subtractions. rsn contains four distinct codes (STL, EXP, DAM, COR) that map to common inventory adjustment reasons (stolen, expired, damaged, correction). usr holds employee names, and notes provides explanatory text. The table has no declared foreign keys but its pattern fits the inv.adj table listed among allowed names.",
              "generatedAt": "2025-11-09T03:52:35.861Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "The table stores inventory adjustment records, capturing changes to product stock levels at specific warehouses, including the quantity adjusted, reason for the adjustment, date, responsible user, and optional notes."
        },
        {
          "name": "cat",
          "rowCount": "20",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "cat_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Primary key that uniquely identifies each category record",
                  "reasoning": "Distinct values equal row count (20) and values range 1‑20, typical of an identifier column.",
                  "generatedAt": "2025-11-09T03:52:38.132Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 20,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "sequential",
                "sampleValues": [
                  6,
                  1,
                  19,
                  11,
                  8,
                  9,
                  16,
                  7,
                  4,
                  12,
                  17,
                  14,
                  15,
                  2,
                  3,
                  5,
                  18,
                  13,
                  20,
                  10
                ],
                "minValue": 1,
                "maxValue": 20,
                "computedAt": "2025-11-09T03:52:25.746Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                20,
                19,
                18,
                17,
                16,
                15,
                14,
                13,
                12,
                11,
                10,
                9,
                8,
                7,
                6,
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Primary key that uniquely identifies each category record"
            },
            {
              "name": "prnt_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": true,
              "descriptionIterations": [
                {
                  "description": "Self‑referencing foreign key to cat_id indicating the parent category; null or same as cat_id for top‑level categories",
                  "reasoning": "Only six distinct values (1,4,7,10,16,19) and repeats across rows, typical of a parent reference in a hierarchy.",
                  "generatedAt": "2025-11-09T03:52:38.132Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 0,
                "distinctCount": 6,
                "uniquenessRatio": 0,
                "nullCount": 6,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  4,
                  10,
                  4,
                  7,
                  1,
                  19,
                  16,
                  1,
                  4,
                  7,
                  7,
                  16,
                  1,
                  10
                ],
                "minValue": 1,
                "maxValue": 19,
                "computedAt": "2025-11-09T03:52:25.750Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                7,
                4,
                1,
                16,
                10,
                19
              ],
              "description": "Self‑referencing foreign key to cat_id indicating the parent category; null or same as cat_id for top‑level categories",
              "foreignKeyReferences": {
                "schema": "inv",
                "table": "cat",
                "column": "cat_id",
                "referencedColumn": "cat_id"
              }
            },
            {
              "name": "nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Name of the category (e.g., \"Writing\", \"Supplies\", \"Scanners\")",
                  "reasoning": "Distinct 20 values, short strings, clearly human‑readable names.",
                  "generatedAt": "2025-11-09T03:52:38.132Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 20,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Scanners",
                  "Breakroom",
                  "Equipment",
                  "Computers",
                  "Storage",
                  "Chairs",
                  "Cleaning",
                  "Writing",
                  "Supplies",
                  "Desks",
                  "Electronics",
                  "Safety",
                  "Folders",
                  "Paper",
                  "Printers",
                  "Peripherals",
                  "Kitchen",
                  "Accessories",
                  "Furniture",
                  "PPE"
                ],
                "avgLength": 7,
                "computedAt": "2025-11-09T03:52:25.753Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "Writing",
                "Supplies",
                "Storage",
                "Scanners",
                "Safety",
                "Printers",
                "PPE",
                "Peripherals",
                "Paper",
                "Kitchen",
                "Furniture",
                "Folders",
                "Equipment",
                "Electronics",
                "Desks",
                "Computers",
                "Cleaning",
                "Chairs",
                "Breakroom",
                "Accessories"
              ],
              "description": "Name of the category (e.g., \"Writing\", \"Supplies\", \"Scanners\")"
            },
            {
              "name": "dsc",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Longer textual description of the category",
                  "reasoning": "Distinct 20 values, average length 26 characters, matches descriptive text for each category.",
                  "generatedAt": "2025-11-09T03:52:38.132Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 20,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Printers and copiers",
                  "Office supplies and materials",
                  "Cleaning supplies",
                  "Electronic devices and accessories",
                  "Personal protective equipment",
                  "Paper products and stationery",
                  "Breakroom supplies",
                  "Office chairs and seating",
                  "Safety equipment",
                  "Office equipment and machines",
                  "Office and home furniture",
                  "Kitchen appliances and supplies",
                  "Computer peripherals and accessories",
                  "File folders and binders",
                  "Desktop and laptop computers",
                  "Document scanners",
                  "Office desks and workstations",
                  "Storage furniture and cabinets",
                  "Electronic accessories and cables",
                  "Pens, pencils, and markers"
                ],
                "avgLength": 26,
                "computedAt": "2025-11-09T03:52:25.757Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "Storage furniture and cabinets",
                "Safety equipment",
                "Printers and copiers",
                "Personal protective equipment",
                "Pens, pencils, and markers",
                "Paper products and stationery",
                "Office supplies and materials",
                "Office equipment and machines",
                "Office desks and workstations",
                "Office chairs and seating",
                "Office and home furniture",
                "Kitchen appliances and supplies",
                "File folders and binders",
                "Electronic devices and accessories",
                "Electronic accessories and cables",
                "Document scanners",
                "Desktop and laptop computers",
                "Computer peripherals and accessories",
                "Cleaning supplies",
                "Breakroom supplies"
              ],
              "description": "Longer textual description of the category"
            },
            {
              "name": "lvl",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Hierarchy level of the category (1 = top level, 2 = sub‑category)",
                  "reasoning": "Only two distinct values (1 and 2) align with a two‑level category structure.",
                  "generatedAt": "2025-11-09T03:52:38.132Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  2,
                  2,
                  1,
                  2,
                  2,
                  2,
                  1,
                  2,
                  2,
                  1,
                  2,
                  1,
                  1,
                  2,
                  2,
                  2,
                  1,
                  2,
                  2,
                  2
                ],
                "minValue": 1,
                "maxValue": 2,
                "computedAt": "2025-11-09T03:52:25.760Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                2,
                1
              ],
              "description": "Hierarchy level of the category (1 = top level, 2 = sub‑category)"
            },
            {
              "name": "seq",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Display order of the category within its parent grouping",
                  "reasoning": "Six distinct sequential integers (1‑6) used to order categories under the same parent.",
                  "generatedAt": "2025-11-09T03:52:38.132Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 6,
                "distinctCount": 6,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  6,
                  1,
                  1,
                  4,
                  2,
                  3,
                  2,
                  3,
                  1,
                  3,
                  5,
                  2,
                  1,
                  2,
                  1,
                  2,
                  1,
                  1,
                  2,
                  3
                ],
                "minValue": 1,
                "maxValue": 6,
                "computedAt": "2025-11-09T03:52:25.763Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                1,
                2,
                3,
                6,
                5,
                4
              ],
              "description": "Display order of the category within its parent grouping"
            }
          ],
          "descriptionIterations": [
            {
              "description": "A hierarchical lookup table storing inventory categories and sub‑categories, defining each category's identifier, parent relationship, name, description, level in the hierarchy, and display order.",
              "reasoning": "The columns cat_id (unique int) and prnt_id (int referencing another cat_id) form a self‑referencing hierarchy. The lvl column has only values 1 and 2, confirming two hierarchy levels (parent and child). The nm column lists distinct category names such as \"Writing\", \"Supplies\", \"Scanners\", etc., and dsc provides human‑readable descriptions. The seq column contains a small set of integers (1‑6) used for ordering categories under the same parent. All evidence points to a category lookup table, matching the typical purpose of inv.cat in an inventory system.",
              "generatedAt": "2025-11-09T03:52:38.132Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "A hierarchical lookup table storing inventory categories and sub‑categories, defining each category's identifier, parent relationship, name, description, level in the hierarchy, and display order."
        },
        {
          "name": "cnt",
          "rowCount": "250",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "cnt_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each inventory count record",
                  "reasoning": "250 distinct values equal to row count, indicating a primary key.",
                  "generatedAt": "2025-11-09T03:52:40.479Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 250,
                "distinctCount": 250,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  44,
                  150,
                  6,
                  229,
                  114,
                  230,
                  198,
                  195,
                  55,
                  247,
                  204,
                  159,
                  68,
                  56,
                  106,
                  141,
                  161,
                  169,
                  199,
                  45
                ],
                "minValue": 1,
                "maxValue": 250,
                "computedAt": "2025-11-09T03:52:25.767Z",
                "queryTimeMs": 3
              },
              "description": "Unique identifier for each inventory count record"
            },
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the warehouse where the count was performed",
                  "reasoning": "Only 8 distinct values, typical of a limited set of warehouses.",
                  "generatedAt": "2025-11-09T03:52:40.479Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  6,
                  5,
                  3,
                  8,
                  2,
                  6,
                  4,
                  7,
                  6,
                  3,
                  7,
                  1,
                  6,
                  5,
                  4,
                  1,
                  4,
                  5,
                  1,
                  6
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T03:52:25.771Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                3,
                2,
                1,
                8,
                7,
                6,
                5,
                4
              ],
              "description": "Identifier of the warehouse where the count was performed"
            },
            {
              "name": "cnt_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date on which the inventory count took place",
                  "reasoning": "Unique per record and stored as date values.",
                  "generatedAt": "2025-11-09T03:52:40.479Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 180,
                "distinctCount": 180,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-11-29T00:00:00.000Z",
                  "2024-12-04T00:00:00.000Z",
                  "2024-08-11T00:00:00.000Z",
                  "2024-09-28T00:00:00.000Z",
                  "2024-09-23T00:00:00.000Z",
                  "2024-11-11T00:00:00.000Z",
                  "2024-11-08T00:00:00.000Z",
                  "2024-07-13T00:00:00.000Z",
                  "2024-08-05T00:00:00.000Z",
                  "2024-11-05T00:00:00.000Z",
                  "2024-11-15T00:00:00.000Z",
                  "2024-11-13T00:00:00.000Z",
                  "2024-09-30T00:00:00.000Z",
                  "2024-08-29T00:00:00.000Z",
                  "2024-12-22T00:00:00.000Z",
                  "2024-11-09T00:00:00.000Z",
                  "2024-09-20T00:00:00.000Z",
                  "2024-12-02T00:00:00.000Z",
                  "2024-11-22T00:00:00.000Z",
                  "2024-09-11T00:00:00.000Z"
                ],
                "minValue": "2024-07-06T00:00:00.000Z",
                "maxValue": "2025-01-01T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:25.774Z",
                "queryTimeMs": 3
              },
              "description": "Date on which the inventory count took place"
            },
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product being counted",
                  "reasoning": "200 distinct values, matching a product catalog.",
                  "generatedAt": "2025-11-09T03:52:40.479Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 200,
                "distinctCount": 200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  16,
                  191,
                  15,
                  2,
                  13,
                  188,
                  19,
                  88,
                  64,
                  159,
                  72,
                  68,
                  28,
                  162,
                  104,
                  105,
                  37,
                  59,
                  20,
                  4
                ],
                "minValue": 1,
                "maxValue": 200,
                "computedAt": "2025-11-09T03:52:25.776Z",
                "queryTimeMs": 2
              },
              "description": "Identifier of the product being counted"
            },
            {
              "name": "exp_qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity expected according to system records before the count",
                  "reasoning": "Integer values representing stock levels.",
                  "generatedAt": "2025-11-09T03:52:40.479Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 250,
                "distinctCount": 250,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  293,
                  249,
                  105,
                  147,
                  143,
                  89,
                  155,
                  74,
                  220,
                  91,
                  79,
                  64,
                  186,
                  212,
                  282,
                  123,
                  159,
                  127,
                  122,
                  240
                ],
                "minValue": 51,
                "maxValue": 300,
                "computedAt": "2025-11-09T03:52:25.779Z",
                "queryTimeMs": 3
              },
              "description": "Quantity expected according to system records before the count"
            },
            {
              "name": "act_qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity actually counted on the floor",
                  "reasoning": "Integer values, often differing from exp_qty.",
                  "generatedAt": "2025-11-09T03:52:40.479Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 226,
                "distinctCount": 226,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  171,
                  199,
                  156,
                  110,
                  232,
                  162,
                  147,
                  154,
                  80,
                  226,
                  153,
                  202,
                  117,
                  186,
                  152,
                  73,
                  238,
                  270,
                  90,
                  273
                ],
                "minValue": 50,
                "maxValue": 300,
                "computedAt": "2025-11-09T03:52:25.782Z",
                "queryTimeMs": 3
              },
              "description": "Quantity actually counted on the floor"
            },
            {
              "name": "var",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Variance between expected and actual quantities (act_qty - exp_qty)",
                  "reasoning": "Low‑cardinality values (0, -5, 5, -10) represent typical small adjustments.",
                  "generatedAt": "2025-11-09T03:52:40.479Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  0,
                  0,
                  0,
                  0,
                  -5,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  5,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0
                ],
                "minValue": -10,
                "maxValue": 5,
                "computedAt": "2025-11-09T03:52:25.785Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                0,
                -5,
                5,
                -10
              ],
              "description": "Variance between expected and actual quantities (act_qty - exp_qty)"
            },
            {
              "name": "usr",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Name of the user who performed the count",
                  "reasoning": "Distinct user names, average length 13 characters, indicating employee identifiers.",
                  "generatedAt": "2025-11-09T03:52:40.479Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 248,
                "distinctCount": 248,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Carolyn Scott",
                  "Barbara Williams",
                  "Joshua Rogers",
                  "Scott Martin",
                  "Justin Castillo",
                  "Amy Morgan",
                  "Catherine Carter",
                  "Jeffrey Harris",
                  "Charles Morris",
                  "Michael Morgan",
                  "Matthew Sanders",
                  "Samuel Edwards",
                  "Nancy King",
                  "Margaret Jimenez",
                  "Timothy Campbell",
                  "Jessica Miller",
                  "Donald Torres",
                  "Barbara Watson",
                  "Laura Scott",
                  "Sandra Brown"
                ],
                "avgLength": 13,
                "computedAt": "2025-11-09T03:52:25.788Z",
                "queryTimeMs": 3
              },
              "description": "Name of the user who performed the count"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores inventory count records capturing the expected system quantity versus the physically counted quantity for each product at each warehouse on a specific date, including the variance and the user who performed the count.",
              "reasoning": "Column names cnt_id, whs_id, cnt_dt, prd_id, exp_qty, act_qty, var, usr together describe a stock‑taking event. cnt_id is a unique identifier (250 distinct values). whs_id has 8 distinct values matching typical warehouse IDs. cnt_dt is a date of the count. prd_id references a product (200 distinct values). exp_qty and act_qty hold quantities, and var holds the difference (0, -5, 5, -10). usr stores the name of the employee performing the count. No foreign keys are declared, but the pattern matches an inventory count table (inv.cnt).",
              "generatedAt": "2025-11-09T03:52:40.479Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores inventory count records capturing the expected system quantity versus the physically counted quantity for each product at each warehouse on a specific date, including the variance and the user who performed the count."
        },
        {
          "name": "po",
          "rowCount": "150",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "po_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for the purchase order",
                  "reasoning": "150 distinct values for 150 rows and marked PRIMARY KEY; typical surrogate key for orders.",
                  "generatedAt": "2025-11-09T03:52:43.315Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  116,
                  63,
                  29,
                  70,
                  31,
                  43,
                  97,
                  106,
                  26,
                  22,
                  130,
                  118,
                  14,
                  7,
                  132,
                  140,
                  41,
                  108,
                  52,
                  34
                ],
                "minValue": 1,
                "maxValue": 150,
                "computedAt": "2025-11-09T03:52:25.792Z",
                "queryTimeMs": 3
              },
              "description": "Unique identifier for the purchase order"
            },
            {
              "name": "sup_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": true,
              "descriptionIterations": [
                {
                  "description": "Identifier of the supplier that fulfills the order",
                  "reasoning": "Distinct values 25, likely foreign key to inv.sup; appears in composite primary key with po_id.",
                  "generatedAt": "2025-11-09T03:52:43.315Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  15,
                  6,
                  4,
                  9,
                  4,
                  6,
                  19,
                  1,
                  14,
                  23,
                  11,
                  11,
                  4,
                  24,
                  1,
                  13,
                  11,
                  5,
                  7,
                  18
                ],
                "minValue": 1,
                "maxValue": 25,
                "computedAt": "2025-11-09T03:52:25.795Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the supplier that fulfills the order",
              "foreignKeyReferences": {
                "schema": "inv",
                "table": "sup",
                "column": "sup_id",
                "referencedColumn": "sup_id"
              }
            },
            {
              "name": "po_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the purchase order was created",
                  "reasoning": "Date type, unique per row, matches order creation timestamps.",
                  "generatedAt": "2025-11-09T03:52:43.315Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-10-10T00:00:00.000Z",
                  "2024-09-27T00:00:00.000Z",
                  "2024-08-27T00:00:00.000Z",
                  "2024-08-08T00:00:00.000Z",
                  "2024-11-10T00:00:00.000Z",
                  "2024-12-08T00:00:00.000Z",
                  "2024-12-10T00:00:00.000Z",
                  "2024-09-02T00:00:00.000Z",
                  "2024-12-22T00:00:00.000Z",
                  "2024-08-31T00:00:00.000Z",
                  "2024-11-02T00:00:00.000Z",
                  "2024-09-03T00:00:00.000Z",
                  "2024-12-02T00:00:00.000Z",
                  "2024-09-29T00:00:00.000Z",
                  "2024-10-03T00:00:00.000Z",
                  "2024-09-19T00:00:00.000Z",
                  "2024-10-13T00:00:00.000Z",
                  "2024-12-24T00:00:00.000Z",
                  "2024-09-01T00:00:00.000Z",
                  "2024-11-23T00:00:00.000Z"
                ],
                "minValue": "2024-08-04T00:00:00.000Z",
                "maxValue": "2024-12-31T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:25.798Z",
                "queryTimeMs": 3
              },
              "description": "Date the purchase order was created"
            },
            {
              "name": "exp_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Expected delivery date for the order",
                  "reasoning": "Date type, usually later than po_dt; represents promised receipt date.",
                  "generatedAt": "2025-11-09T03:52:43.315Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-10-01T00:00:00.000Z",
                  "2025-01-12T00:00:00.000Z",
                  "2024-11-05T00:00:00.000Z",
                  "2024-10-14T00:00:00.000Z",
                  "2024-10-30T00:00:00.000Z",
                  "2024-12-13T00:00:00.000Z",
                  "2024-08-24T00:00:00.000Z",
                  "2024-10-13T00:00:00.000Z",
                  "2024-09-15T00:00:00.000Z",
                  "2024-11-25T00:00:00.000Z",
                  "2024-10-22T00:00:00.000Z",
                  "2024-08-21T00:00:00.000Z",
                  "2024-11-17T00:00:00.000Z",
                  "2024-10-28T00:00:00.000Z",
                  "2024-08-29T00:00:00.000Z",
                  "2025-01-13T00:00:00.000Z",
                  "2024-11-15T00:00:00.000Z",
                  "2024-10-15T00:00:00.000Z",
                  "2024-11-09T00:00:00.000Z",
                  "2024-10-25T00:00:00.000Z"
                ],
                "minValue": "2024-08-18T00:00:00.000Z",
                "maxValue": "2025-01-14T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:25.801Z",
                "queryTimeMs": 3
              },
              "description": "Expected delivery date for the order"
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current status of the purchase order (e.g., X=Cancelled, S=Shipped, R=Received, P=Pending, A=Approved)",
                  "reasoning": "Single‑character enum with five distinct values, typical status coding.",
                  "generatedAt": "2025-11-09T03:52:43.315Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "X",
                  "R",
                  "R",
                  "X",
                  "S",
                  "P",
                  "R",
                  "P",
                  "A",
                  "P",
                  "R",
                  "R",
                  "S",
                  "A",
                  "R",
                  "X",
                  "A",
                  "R",
                  "A",
                  "R"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:25.805Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "X",
                "S",
                "R",
                "P",
                "A"
              ],
              "description": "Current status of the purchase order (e.g., X=Cancelled, S=Shipped, R=Received, P=Pending, A=Approved)"
            },
            {
              "name": "tot",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Total monetary value of the order before shipping",
                  "reasoning": "Decimal with many unique values, aligns with order totals.",
                  "generatedAt": "2025-11-09T03:52:43.315Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  8450,
                  15050,
                  5900,
                  2750,
                  5000,
                  4700,
                  5450,
                  11600,
                  9800,
                  5150,
                  11750,
                  3050,
                  11000,
                  2900,
                  3350,
                  5450,
                  16700,
                  8750,
                  16250,
                  15950
                ],
                "minValue": 2000,
                "maxValue": 16850,
                "computedAt": "2025-11-09T03:52:25.811Z",
                "queryTimeMs": 6
              },
              "description": "Total monetary value of the order before shipping"
            },
            {
              "name": "ship_amt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Shipping charge applied to the order (0 or 150)",
                  "reasoning": "Only two distinct values, indicating a flat shipping fee applied conditionally.",
                  "generatedAt": "2025-11-09T03:52:43.315Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  150,
                  150,
                  0,
                  150,
                  150,
                  150,
                  150,
                  0,
                  0,
                  150,
                  0,
                  150,
                  150,
                  0,
                  0,
                  150,
                  0,
                  150,
                  150,
                  150
                ],
                "minValue": 0,
                "maxValue": 150,
                "computedAt": "2025-11-09T03:52:25.816Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                150,
                0
              ],
              "description": "Shipping charge applied to the order (0 or 150)"
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text notes, often indicating expedited shipping requests",
                  "reasoning": "Nullable nvarchar, 67.5% nulls, single repeated phrase suggests a flag for special handling.",
                  "generatedAt": "2025-11-09T03:52:43.315Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 1,
                "uniquenessRatio": 0.5,
                "nullCount": 135,
                "nullPercentage": 67.5,
                "dataPattern": "natural",
                "sampleValues": [
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested"
                ],
                "avgLength": 28,
                "computedAt": "2025-11-09T03:52:25.820Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "Expedited shipping requested"
              ],
              "description": "Optional free‑text notes, often indicating expedited shipping requests"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge and optional notes.",
              "reasoning": "Column names po_id (order identifier) and sup_id (supplier identifier) together form a primary key, typical of a purchase‑order header. po_dt and exp_dt are dates for order and expected delivery. sts holds single‑character status codes (X,S,R,P,A) indicating order lifecycle. tot is a monetary total, ship_amt is a fixed shipping fee (0 or 150). notes is a nullable free‑text field, frequently containing \"Expedited shipping requested\". The pattern matches the inv.po table used for procurement in inventory systems.",
              "generatedAt": "2025-11-09T03:52:43.315Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            },
            {
              "description": "Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge and optional notes. Each po_id serves as the primary key for the header and is referenced by a detail table (with up to 7 line‑item rows per order) and by a receipt table, establishing one‑to‑many relationships from the PO header to its line items and to its receipt records.",
              "reasoning": "The new insights confirm the existence of a detail table with up to 7 line items per po_id and a receipt table linking each receipt to a single PO. This clarifies the PO header's role as a parent entity in one‑to‑many relationships, which was not explicitly stated in the original description. Adding this relationship information improves the accuracy of the description without changing its core purpose.",
              "generatedAt": "2025-11-09T03:53:33.914Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.98,
              "triggeredBy": "backpropagation",
              "changedFrom": "Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge and optional notes."
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge and optional notes. Each po_id serves as the primary key for the header and is referenced by a detail table (with up to 7 line‑item rows per order) and by a receipt table, establishing one‑to‑many relationships from the PO header to its line items and to its receipt records."
        },
        {
          "name": "po_dtl",
          "rowCount": "750",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "po_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the purchase order header this line belongs to",
                  "reasoning": "Unique per order (150 distinct) and named po_id, a common PK in purchase‑order tables.",
                  "generatedAt": "2025-11-09T03:52:45.817Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  21,
                  68,
                  60,
                  90,
                  111,
                  147,
                  55,
                  51,
                  100,
                  128,
                  52,
                  84,
                  11,
                  24,
                  82,
                  149,
                  57,
                  88,
                  143,
                  116
                ],
                "minValue": 1,
                "maxValue": 150,
                "computedAt": "2025-11-09T03:52:25.825Z",
                "queryTimeMs": 4
              },
              "description": "Identifier of the purchase order header this line belongs to"
            },
            {
              "name": "seq",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Sequence number of the line item within the purchase order",
                  "reasoning": "Values 1‑7 and unique per order, typical for ordering line items.",
                  "generatedAt": "2025-11-09T03:52:45.817Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 7,
                "distinctCount": 7,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  2,
                  5,
                  1,
                  2,
                  5,
                  3,
                  3,
                  1,
                  7,
                  3,
                  3,
                  4,
                  2,
                  5,
                  4,
                  5,
                  2,
                  3,
                  2,
                  4
                ],
                "minValue": 1,
                "maxValue": 7,
                "computedAt": "2025-11-09T03:52:25.832Z",
                "queryTimeMs": 7
              },
              "possibleValues": [
                1,
                3,
                2,
                4,
                5,
                6,
                7
              ],
              "description": "Sequence number of the line item within the purchase order"
            },
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product being ordered",
                  "reasoning": "Distinct 200 values, matches a product catalog (inv.prd).",
                  "generatedAt": "2025-11-09T03:52:45.817Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 200,
                "distinctCount": 200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  99,
                  138,
                  39,
                  108,
                  79,
                  175,
                  46,
                  77,
                  136,
                  43,
                  34,
                  100,
                  125,
                  131,
                  183,
                  8,
                  52,
                  174,
                  105,
                  86
                ],
                "minValue": 1,
                "maxValue": 200,
                "computedAt": "2025-11-09T03:52:25.836Z",
                "queryTimeMs": 4
              },
              "description": "Identifier of the product being ordered"
            },
            {
              "name": "qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity of the product ordered on this line",
                  "reasoning": "Limited set of values (100‑400) typical for order quantities.",
                  "generatedAt": "2025-11-09T03:52:45.817Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 7,
                "distinctCount": 7,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  150,
                  100,
                  250,
                  100,
                  150,
                  100,
                  250,
                  100,
                  200,
                  350,
                  150,
                  300,
                  200,
                  100,
                  200,
                  150,
                  150,
                  150,
                  200,
                  150
                ],
                "minValue": 100,
                "maxValue": 400,
                "computedAt": "2025-11-09T03:52:25.842Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                100,
                200,
                150,
                250,
                300,
                350,
                400
              ],
              "description": "Quantity of the product ordered on this line"
            },
            {
              "name": "prc",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unit price of the product for this line item",
                  "reasoning": "Decimal column with many unique values, representing price.",
                  "generatedAt": "2025-11-09T03:52:45.817Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  815,
                  265,
                  335,
                  845,
                  815,
                  425,
                  795,
                  315,
                  35,
                  625,
                  405,
                  845,
                  615,
                  785,
                  855,
                  195,
                  285,
                  465,
                  405,
                  405
                ],
                "minValue": 25,
                "maxValue": 1015,
                "computedAt": "2025-11-09T03:52:25.849Z",
                "queryTimeMs": 7
              },
              "description": "Unit price of the product for this line item"
            },
            {
              "name": "rcv_qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity of the product that has been received against this line",
                  "reasoning": "Limited set of values, tracks fulfillment progress.",
                  "generatedAt": "2025-11-09T03:52:45.817Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 11,
                "distinctCount": 11,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  350,
                  200,
                  300,
                  400,
                  290,
                  330,
                  300,
                  150,
                  250,
                  150,
                  250,
                  200,
                  150,
                  160,
                  100,
                  80,
                  80,
                  160,
                  300,
                  150
                ],
                "minValue": 80,
                "maxValue": 400,
                "computedAt": "2025-11-09T03:52:25.854Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                150,
                200,
                100,
                250,
                300,
                350,
                80,
                400,
                290,
                160,
                330
              ],
              "description": "Quantity of the product that has been received against this line"
            }
          ],
          "descriptionIterations": [
            {
              "description": "This table stores the line‑item details of purchase orders, linking each purchase order (po_id) to the specific product (prd_id) ordered, the quantity requested, the unit price, and the quantity that has been received so far. It enables tracking of order fulfillment at the item level.",
              "reasoning": "Column names po_id, seq, prd_id, qty, prc and rcv_qty directly map to typical purchase‑order line‑item attributes. po_id repeats across rows (150 distinct values) while seq ranges 1‑7, indicating multiple lines per order. prd_id has 200 distinct values, matching a product catalog. qty and rcv_qty contain a small set of numeric values typical for quantity enums, and prc is a decimal price. No foreign keys are declared, but the column semantics strongly suggest relationships to inv.po (header) and inv.prd (product).",
              "generatedAt": "2025-11-09T03:52:45.817Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.93,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "This table stores the line‑item details of purchase orders, linking each purchase order (po_id) to the specific product (prd_id) ordered, the quantity requested, the unit price, and the quantity that has been received so far. It enables tracking of order fulfillment at the item level."
        },
        {
          "name": "prd",
          "rowCount": "177",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique product identifier (primary key).",
                  "reasoning": "Integer, 100% unique across 177 rows, typical surrogate key for a product master.",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 177,
                "distinctCount": 177,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  8,
                  172,
                  155,
                  17,
                  59,
                  57,
                  134,
                  5,
                  30,
                  61,
                  88,
                  76,
                  41,
                  18,
                  60,
                  109,
                  89,
                  126,
                  16,
                  122
                ],
                "minValue": 1,
                "maxValue": 177,
                "computedAt": "2025-11-09T03:52:25.859Z",
                "queryTimeMs": 3
              },
              "description": "Unique product identifier (primary key)."
            },
            {
              "name": "cat_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product's category, likely a foreign key to inv.cat.",
                  "reasoning": "Integer with only 11 distinct values, indicating a lookup table of categories.",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 11,
                "distinctCount": 11,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  11,
                  11,
                  5,
                  2,
                  9,
                  14,
                  13,
                  3,
                  3,
                  6,
                  14,
                  5,
                  2,
                  15,
                  8,
                  8,
                  3,
                  3,
                  11,
                  9
                ],
                "minValue": 2,
                "maxValue": 15,
                "computedAt": "2025-11-09T03:52:25.864Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                3,
                6,
                9,
                11,
                8,
                5,
                2,
                15,
                14,
                13,
                12
              ],
              "description": "Identifier of the product's category, likely a foreign key to inv.cat."
            },
            {
              "name": "sup_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product's supplier, likely a foreign key to inv.sup.",
                  "reasoning": "Integer with 25 distinct values, typical of a supplier reference.",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  11,
                  5,
                  13,
                  18,
                  18,
                  15,
                  11,
                  18,
                  19,
                  5,
                  13,
                  12,
                  11,
                  14,
                  5,
                  24,
                  1,
                  11,
                  16,
                  10
                ],
                "minValue": 1,
                "maxValue": 25,
                "computedAt": "2025-11-09T03:52:25.867Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the product's supplier, likely a foreign key to inv.sup."
            },
            {
              "name": "sku",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Stock Keeping Unit code used for inventory tracking.",
                  "reasoning": "Unique alphanumeric strings prefixed with \"SKU-\", one per product.",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 177,
                "distinctCount": 177,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "SKU-0109",
                  "SKU-0126",
                  "SKU-0152",
                  "SKU-0135",
                  "SKU-0054",
                  "SKU-0081",
                  "SKU-0105",
                  "SKU-0059",
                  "SKU-0108",
                  "SKU-0118",
                  "SKU-0107",
                  "SKU-0001",
                  "SKU-0028",
                  "SKU-0130",
                  "SKU-0088",
                  "SKU-0173",
                  "SKU-0067",
                  "SKU-0076",
                  "SKU-0115",
                  "SKU-0104"
                ],
                "avgLength": 8,
                "computedAt": "2025-11-09T03:52:25.870Z",
                "queryTimeMs": 3
              },
              "description": "Stock Keeping Unit code used for inventory tracking."
            },
            {
              "name": "nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Product name or title.",
                  "reasoning": "Unique textual values describing each item (e.g., \"HON Ignition 2.0 Chair\").",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 177,
                "distinctCount": 177,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "HON Ignition 2.0 Chair",
                  "Astrobrights Color Paper",
                  "HON 4-Drawer File Cabinet - Variant 3",
                  "Highlighter Set 6 Colors",
                  "Dell UltraSharp 27\" Monitor - Variant 2",
                  "Herman Miller Aeron Chair - Variant 3",
                  "AmazonBasics Office Chair - Variant 3",
                  "Avery Tab Dividers 8-Tab - Variant 2",
                  "Pentel EnerGel Pens - Variant 3",
                  "Southworth Resume Paper - Variant 2",
                  "Pilot G2 Pens 12-Pack",
                  "Apple MacBook Air M2",
                  "HON Preside Conference Table - Variant 2",
                  "Laptop Stand Aluminum - Variant 2",
                  "Blue Yeti Microphone",
                  "Hammermill Premium Paper",
                  "Herman Miller Aeron Chair",
                  "Blue Yeti Microphone - Variant 3",
                  "Smead Hanging File Folders - Variant 3",
                  "IKEA KALLAX 4x4 Shelf Unit - Variant 3"
                ],
                "avgLength": 31,
                "computedAt": "2025-11-09T03:52:25.874Z",
                "queryTimeMs": 4
              },
              "description": "Product name or title."
            },
            {
              "name": "dsc",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Short description of the product.",
                  "reasoning": "Textual field with unique descriptive phrases, longer than name, providing marketing details.",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 59,
                "distinctCount": 59,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Classic ballpoint pens 60-count",
                  "Rolling file cabinet with drawers",
                  "Fine point markers assorted colors",
                  "Ultralight laptop for professionals",
                  "Monochrome laser printer for office",
                  "Chisel tip highlighters assorted",
                  "Economical multipurpose paper 5 reams",
                  "Plastic 3-drawer organizer",
                  "High-performance desktop computer with Intel Core i7 processor",
                  "Multifunction laser printer with duplex",
                  "Vertical file cabinet letter size",
                  "Large conference table for meetings",
                  "Bright white paper for presentations",
                  "Premium braided USB-C charging cable",
                  "Large conference table for meetings",
                  "Quick-drying ink pens variety pack",
                  "All-in-one color inkjet printer",
                  "100-pack manila file folders",
                  "Wood veneer bookshelf 72\" high",
                  "HD webcam for video conferencing"
                ],
                "avgLength": 33,
                "computedAt": "2025-11-09T03:52:25.878Z",
                "queryTimeMs": 4
              },
              "description": "Short description of the product."
            },
            {
              "name": "prc",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Selling price of the product.",
                  "reasoning": "Decimal values representing the price charged to customers.",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 127,
                "distinctCount": 127,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  298.99,
                  19.49,
                  168.99,
                  9.99,
                  459.99,
                  114.99,
                  2499.99,
                  1494.99,
                  428.99,
                  264.49,
                  168.99,
                  45.99,
                  51.74,
                  218.49,
                  149.49,
                  6.99,
                  172.49,
                  51.99,
                  1125.85,
                  1299.99
                ],
                "minValue": 6.99,
                "maxValue": 3249.99,
                "computedAt": "2025-11-09T03:52:25.880Z",
                "queryTimeMs": 2
              },
              "description": "Selling price of the product."
            },
            {
              "name": "cost",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Cost to acquire or produce the product.",
                  "reasoning": "Decimal values distinct from price, indicating internal cost basis.",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 127,
                "distinctCount": 127,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  379.49,
                  77.99,
                  23.99,
                  542.1,
                  5.39,
                  23.99,
                  26.99,
                  35.09,
                  10.13,
                  17.24,
                  103.49,
                  1499.99,
                  899.99,
                  329.99,
                  311.99,
                  4.19,
                  158.69,
                  1013.99,
                  77.99,
                  5.39
                ],
                "minValue": 4.19,
                "maxValue": 1949.99,
                "computedAt": "2025-11-09T03:52:25.883Z",
                "queryTimeMs": 3
              },
              "description": "Cost to acquire or produce the product."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current status of the product (A=Active, O=On order, D=Discontinued).",
                  "reasoning": "Char field with three possible values, typical status enumeration.",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "O",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:25.887Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "A",
                "O",
                "D"
              ],
              "description": "Current status of the product (A=Active, O=On order, D=Discontinued)."
            },
            {
              "name": "wgt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Weight of the product.",
                  "reasoning": "Decimal values with varied magnitude, used for shipping/handling calculations.",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 52,
                "distinctCount": 52,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  20,
                  40,
                  5,
                  43,
                  4,
                  23,
                  21,
                  10,
                  28,
                  35,
                  4,
                  43,
                  0.2,
                  25,
                  21,
                  0.5,
                  13,
                  2,
                  0.3,
                  8
                ],
                "minValue": 0.1,
                "maxValue": 47,
                "computedAt": "2025-11-09T03:52:25.891Z",
                "queryTimeMs": 4
              },
              "description": "Weight of the product."
            },
            {
              "name": "uom",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unit of measure for inventory transactions (EA=Each, BX=Box, CS=Case).",
                  "reasoning": "Char field with three standard inventory UOM codes.",
                  "generatedAt": "2025-11-09T03:52:48.781Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "EA",
                  "EA",
                  "EA",
                  "BX",
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "CS",
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "BX",
                  "EA"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T03:52:25.895Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "EA",
                "BX",
                "CS"
              ],
              "description": "Unit of measure for inventory transactions (EA=Each, BX=Box, CS=Case)."
            }
          ],
          "descriptionIterations": [
            {
              "description": "The table stores master data for products, linking each product to its category and supplier, and capturing identifying codes, descriptive information, pricing, cost, status, weight and unit of measure. It serves as the central inventory catalog for the system.",
              "reasoning": "Column names and types (prd_id, cat_id, sup_id, sku, nm, dsc, prc, cost, sts, wgt, uom) match typical product master attributes. prd_id is a unique integer primary key. cat_id and sup_id have low distinct counts (11 and 25) suggesting foreign keys to category (inv.cat) and supplier (inv.sup) tables. sku, nm and dsc contain unique textual identifiers and descriptions of items such as chairs, monitors, paper, etc. prc and cost are decimal prices. sts holds single‑character status codes (A, O, D). wgt and uom describe physical handling. Sample data aligns with an inventory of office supplies and equipment, confirming a product catalog purpose.",
              "generatedAt": "2025-11-09T03:52:48.781Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "The table stores master data for products, linking each product to its category and supplier, and capturing identifying codes, descriptive information, pricing, cost, status, weight and unit of measure. It serves as the central inventory catalog for the system."
        },
        {
          "name": "rcv",
          "rowCount": "120",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "rcv_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Primary key of the receipt record; uniquely identifies each goods receipt event",
                  "reasoning": "Unique values (120 distinct) and name imply a receipt identifier",
                  "generatedAt": "2025-11-09T03:52:51.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 120,
                "distinctCount": 120,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  28,
                  68,
                  107,
                  98,
                  74,
                  104,
                  59,
                  81,
                  2,
                  10,
                  92,
                  110,
                  61,
                  65,
                  78,
                  3,
                  69,
                  88,
                  97,
                  8
                ],
                "minValue": 1,
                "maxValue": 120,
                "computedAt": "2025-11-09T03:52:25.898Z",
                "queryTimeMs": 3
              },
              "description": "Primary key of the receipt record; uniquely identifies each goods receipt event"
            },
            {
              "name": "po_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the purchase order that the receipt fulfills; links to the purchase order table",
                  "reasoning": "Name and uniqueness suggest it references inv.po; each receipt is tied to a specific PO",
                  "generatedAt": "2025-11-09T03:52:51.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 120,
                "distinctCount": 120,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  93,
                  52,
                  104,
                  83,
                  59,
                  38,
                  108,
                  69,
                  105,
                  3,
                  22,
                  91,
                  6,
                  55,
                  120,
                  54,
                  2,
                  78,
                  56,
                  109
                ],
                "minValue": 1,
                "maxValue": 120,
                "computedAt": "2025-11-09T03:52:25.901Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the purchase order that the receipt fulfills; links to the purchase order table"
            },
            {
              "name": "rcv_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the goods were received at the warehouse",
                  "reasoning": "Date type with distinct values per row and name indicating receipt date",
                  "generatedAt": "2025-11-09T03:52:51.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 120,
                "distinctCount": 120,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-10-21T00:00:00.000Z",
                  "2024-09-25T00:00:00.000Z",
                  "2024-11-12T00:00:00.000Z",
                  "2024-09-21T00:00:00.000Z",
                  "2024-12-22T00:00:00.000Z",
                  "2024-12-11T00:00:00.000Z",
                  "2024-10-22T00:00:00.000Z",
                  "2024-10-23T00:00:00.000Z",
                  "2024-10-07T00:00:00.000Z",
                  "2024-12-30T00:00:00.000Z",
                  "2024-09-30T00:00:00.000Z",
                  "2024-11-18T00:00:00.000Z",
                  "2024-12-29T00:00:00.000Z",
                  "2024-12-21T00:00:00.000Z",
                  "2024-12-05T00:00:00.000Z",
                  "2024-10-28T00:00:00.000Z",
                  "2024-10-18T00:00:00.000Z",
                  "2024-12-10T00:00:00.000Z",
                  "2024-10-15T00:00:00.000Z",
                  "2024-12-03T00:00:00.000Z"
                ],
                "minValue": "2024-09-18T00:00:00.000Z",
                "maxValue": "2025-01-15T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:25.903Z",
                "queryTimeMs": 2
              },
              "description": "Date the goods were received at the warehouse"
            },
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the warehouse where the goods were received; references the warehouse lookup table",
                  "reasoning": "Low cardinality (8 distinct values 1‑8) matches typical warehouse IDs in inv.whs",
                  "generatedAt": "2025-11-09T03:52:51.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  4,
                  3,
                  8,
                  8,
                  4,
                  2,
                  7,
                  2,
                  7,
                  1,
                  2,
                  3,
                  6,
                  2,
                  8,
                  8,
                  6,
                  1,
                  5,
                  1
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T03:52:25.907Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                8,
                7,
                6,
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Identifier of the warehouse where the goods were received; references the warehouse lookup table"
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text comment about the receipt, commonly used for partial‑shipment information",
                  "reasoning": "String column with a single repeated value about partial shipments and many nulls indicates optional notes",
                  "generatedAt": "2025-11-09T03:52:51.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 1,
                "distinctCount": 1,
                "uniquenessRatio": 1,
                "nullCount": 112,
                "nullPercentage": 112,
                "dataPattern": "natural",
                "sampleValues": [
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder"
                ],
                "avgLength": 48,
                "computedAt": "2025-11-09T03:52:25.910Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "Partial shipment received - balance on backorder"
              ],
              "description": "Optional free‑text comment about the receipt, commonly used for partial‑shipment information"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores records of goods received against purchase orders, capturing each receipt event with its unique identifier, associated purchase order, receipt date, receiving warehouse, and optional notes about partial shipments",
              "reasoning": "Column names rcv_id (receipt ID), po_id (purchase order ID), rcv_dt (receipt date), whs_id (warehouse ID) and notes indicating \"Partial shipment received - balance on backorder\" point to a receiving log for purchase orders. The distinct counts (rcv_id and po_id unique per row, whs_id limited to 8 values) suggest a composite key linking a receipt to a specific PO and warehouse. Sample dates are recent, and the notes column is mostly null, matching typical receipt documentation. No foreign keys are declared, but the column names align with existing tables inv.po and inv.whs, implying logical relationships.",
              "generatedAt": "2025-11-09T03:52:51.539Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.93,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores records of goods received against purchase orders, capturing each receipt event with its unique identifier, associated purchase order, receipt date, receiving warehouse, and optional notes about partial shipments"
        },
        {
          "name": "stk",
          "rowCount": "1120",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product; part of the composite primary key and likely a foreign key to inv.prd",
                  "reasoning": "High cardinality (200 distinct values) and naming convention indicate a product reference.",
                  "generatedAt": "2025-11-09T03:52:54.003Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 200,
                "distinctCount": 200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  166,
                  118,
                  30,
                  178,
                  67,
                  102,
                  22,
                  34,
                  62,
                  29,
                  90,
                  125,
                  86,
                  118,
                  12,
                  91,
                  160,
                  122,
                  192,
                  149
                ],
                "minValue": 1,
                "maxValue": 200,
                "computedAt": "2025-11-09T03:52:25.914Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the product; part of the composite primary key and likely a foreign key to inv.prd"
            },
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the warehouse; part of the composite primary key and likely a foreign key to inv.whs",
                  "reasoning": "Only 8 distinct values, matching typical warehouse count, and naming convention.",
                  "generatedAt": "2025-11-09T03:52:54.003Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  8,
                  7,
                  2,
                  5,
                  3,
                  3,
                  8,
                  7,
                  8,
                  5,
                  1,
                  1,
                  6,
                  1,
                  1,
                  1,
                  2,
                  8,
                  7,
                  8
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T03:52:25.919Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                8,
                2,
                5,
                4,
                1,
                7,
                6,
                3
              ],
              "description": "Identifier of the warehouse; part of the composite primary key and likely a foreign key to inv.whs"
            },
            {
              "name": "qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current on‑hand quantity of the product at the warehouse",
                  "reasoning": "Integer values in the thousands, typical for stock levels.",
                  "generatedAt": "2025-11-09T03:52:54.003Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 410,
                "distinctCount": 410,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  12220,
                  3870,
                  6490,
                  6380,
                  10560,
                  2100,
                  2380,
                  1400,
                  7120,
                  12090,
                  1260,
                  2520,
                  3960,
                  630,
                  3080,
                  8910,
                  4420,
                  6480,
                  1540,
                  7600
                ],
                "minValue": 60,
                "maxValue": 12870,
                "computedAt": "2025-11-09T03:52:25.923Z",
                "queryTimeMs": 4
              },
              "description": "Current on‑hand quantity of the product at the warehouse"
            },
            {
              "name": "rsv",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity of the product reserved for pending orders",
                  "reasoning": "Similar scale to qty and common inventory term 'reserved'.",
                  "generatedAt": "2025-11-09T03:52:54.003Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 406,
                "distinctCount": 406,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  64,
                  504,
                  648,
                  640,
                  559,
                  371,
                  1020,
                  161,
                  176,
                  198,
                  192,
                  488,
                  294,
                  638,
                  258,
                  720,
                  434,
                  372,
                  100,
                  595
                ],
                "minValue": 0,
                "maxValue": 1287,
                "computedAt": "2025-11-09T03:52:25.927Z",
                "queryTimeMs": 4
              },
              "description": "Quantity of the product reserved for pending orders"
            },
            {
              "name": "min_qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Minimum desired stock level (reorder point) for the product at the warehouse",
                  "reasoning": "Values like 10‑53 suggest threshold levels.",
                  "generatedAt": "2025-11-09T03:52:54.003Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 50,
                "distinctCount": 50,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  19,
                  21,
                  16,
                  40,
                  17,
                  45,
                  53,
                  10,
                  48,
                  41,
                  28,
                  38,
                  40,
                  20,
                  19,
                  50,
                  19,
                  53,
                  34,
                  35
                ],
                "minValue": 10,
                "maxValue": 59,
                "computedAt": "2025-11-09T03:52:25.932Z",
                "queryTimeMs": 5
              },
              "description": "Minimum desired stock level (reorder point) for the product at the warehouse"
            },
            {
              "name": "max_qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Maximum allowable stock level (capacity) for the product at the warehouse",
                  "reasoning": "Values like 400‑1180 indicate upper limits.",
                  "generatedAt": "2025-11-09T03:52:54.003Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 50,
                "distinctCount": 50,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1180,
                  680,
                  980,
                  760,
                  980,
                  760,
                  640,
                  1140,
                  560,
                  1000,
                  960,
                  960,
                  820,
                  400,
                  1160,
                  240,
                  520,
                  720,
                  600,
                  680
                ],
                "minValue": 200,
                "maxValue": 1180,
                "computedAt": "2025-11-09T03:52:25.937Z",
                "queryTimeMs": 5
              },
              "description": "Maximum allowable stock level (capacity) for the product at the warehouse"
            },
            {
              "name": "lst_cnt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date of the most recent physical inventory count for the product at the warehouse",
                  "reasoning": "Date column with recent timestamps, typical for count tracking.",
                  "generatedAt": "2025-11-09T03:52:54.003Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 63,
                "distinctCount": 63,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-10-19T00:00:00.000Z",
                  "2024-10-09T00:00:00.000Z",
                  "2024-10-23T00:00:00.000Z",
                  "2024-12-02T00:00:00.000Z",
                  "2024-12-30T00:00:00.000Z",
                  "2024-10-08T00:00:00.000Z",
                  "2024-12-28T00:00:00.000Z",
                  "2024-10-18T00:00:00.000Z",
                  "2024-10-12T00:00:00.000Z",
                  "2024-12-07T00:00:00.000Z",
                  "2024-12-06T00:00:00.000Z",
                  "2024-12-09T00:00:00.000Z",
                  "2024-10-18T00:00:00.000Z",
                  "2024-11-11T00:00:00.000Z",
                  "2024-10-30T00:00:00.000Z",
                  "2024-12-20T00:00:00.000Z",
                  "2024-10-21T00:00:00.000Z",
                  "2024-10-13T00:00:00.000Z",
                  "2024-11-26T00:00:00.000Z",
                  "2024-11-28T00:00:00.000Z"
                ],
                "minValue": "2024-10-07T00:00:00.000Z",
                "maxValue": "2025-01-01T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:25.941Z",
                "queryTimeMs": 4
              },
              "description": "Date of the most recent physical inventory count for the product at the warehouse"
            },
            {
              "name": "lst_rcv",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date of the most recent receipt (stock replenishment) for the product at the warehouse",
                  "reasoning": "Date column with recent timestamps, aligns with receipt tracking.",
                  "generatedAt": "2025-11-09T03:52:54.003Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 21,
                "distinctCount": 21,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-12-20T00:00:00.000Z",
                  "2024-12-31T00:00:00.000Z",
                  "2024-12-06T00:00:00.000Z",
                  "2025-01-01T00:00:00.000Z",
                  "2024-12-08T00:00:00.000Z",
                  "2024-12-17T00:00:00.000Z",
                  "2025-01-01T00:00:00.000Z",
                  "2024-12-19T00:00:00.000Z",
                  "2024-12-29T00:00:00.000Z",
                  "2024-12-20T00:00:00.000Z",
                  "2024-12-07T00:00:00.000Z",
                  "2024-12-10T00:00:00.000Z",
                  "2024-12-31T00:00:00.000Z",
                  "2024-12-21T00:00:00.000Z",
                  "2024-12-21T00:00:00.000Z",
                  "2024-12-31T00:00:00.000Z",
                  "2024-12-07T00:00:00.000Z",
                  "2024-12-30T00:00:00.000Z",
                  "2024-12-21T00:00:00.000Z",
                  "2024-12-21T00:00:00.000Z"
                ],
                "minValue": "2024-12-06T00:00:00.000Z",
                "maxValue": "2025-01-01T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:25.946Z",
                "queryTimeMs": 5
              },
              "description": "Date of the most recent receipt (stock replenishment) for the product at the warehouse"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores inventory levels for each product at each warehouse, including current quantity, reserved quantity, reorder thresholds, and dates of last count and receipt.",
              "reasoning": "The composite primary key (prd_id, whs_id) indicates a many‑to‑many relationship between products and warehouses. Columns qty, rsv, min_qty, max_qty are typical stock metrics. lst_cnt and lst_rcv are dates tracking the last physical count and last receipt. Sample values (e.g., product IDs 1‑200, warehouse IDs 1‑8, quantities in the thousands) match inventory data. No foreign keys are declared, but the column names strongly suggest references to inv.prd and inv.whs tables.",
              "generatedAt": "2025-11-09T03:52:54.003Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores inventory levels for each product at each warehouse, including current quantity, reserved quantity, reorder thresholds, and dates of last count and receipt."
        },
        {
          "name": "sup",
          "rowCount": "25",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "sup_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique supplier identifier (primary key).",
                  "reasoning": "Integer, NOT NULL, 100% unique across rows.",
                  "generatedAt": "2025-11-09T03:52:56.364Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  3,
                  18,
                  4,
                  13,
                  6,
                  7,
                  14,
                  10,
                  1,
                  9,
                  20,
                  11,
                  12,
                  16,
                  21,
                  17,
                  15,
                  24,
                  8,
                  25
                ],
                "minValue": 1,
                "maxValue": 25,
                "computedAt": "2025-11-09T03:52:25.951Z",
                "queryTimeMs": 4
              },
              "description": "Unique supplier identifier (primary key)."
            },
            {
              "name": "nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Supplier's legal or trade name.",
                  "reasoning": "Distinct values equal row count, average length 23 chars, typical company names.",
                  "generatedAt": "2025-11-09T03:52:56.364Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Elite Tech Distributors",
                  "Discount Supply Warehouse",
                  "Reliable Office Equipment",
                  "QuickShip Business Supplies",
                  "Office Essentials Plus",
                  "Wholesale Office Solutions",
                  "Tech Solutions Distributors",
                  "Nationwide Furniture Co",
                  "Corporate Furniture Group",
                  "Quality Paper & Supplies",
                  "TechPro Supply Chain",
                  "Office Plus Supply Co",
                  "Furniture Warehouse Direct",
                  "Budget Electronics Outlet",
                  "Continental Office Supply",
                  "Budget Office Furniture",
                  "Premium Paper Products",
                  "Global Electronics Inc",
                  "Metro Electronics Ltd",
                  "Premium Furniture Wholesale"
                ],
                "avgLength": 23,
                "computedAt": "2025-11-09T03:52:25.954Z",
                "queryTimeMs": 3
              },
              "description": "Supplier's legal or trade name."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Supplier status code (e.g., A=Active, T=Terminated, S=Suspended, I=Inactive).",
                  "reasoning": "Char(1) with four distinct values matching common status abbreviations.",
                  "generatedAt": "2025-11-09T03:52:56.364Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "T",
                  "S",
                  "A",
                  "A",
                  "A"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:25.957Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "A",
                "T",
                "S",
                "I"
              ],
              "description": "Supplier status code (e.g., A=Active, T=Terminated, S=Suspended, I=Inactive)."
            },
            {
              "name": "pmt_trm",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Standard payment terms for the supplier (Net 15, Net 30, Net 45, Net 60, or Cash on Delivery).",
                  "reasoning": "Char values N15,N30,N45,N60,COD correspond to industry payment term codes.",
                  "generatedAt": "2025-11-09T03:52:56.364Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "N15",
                  "N60",
                  "N60",
                  "N45",
                  "N30",
                  "N30",
                  "COD",
                  "N30",
                  "COD",
                  "N60",
                  "N30",
                  "N15",
                  "N30",
                  "N30",
                  "N45",
                  "N30",
                  "N30",
                  "N60",
                  "N45",
                  "N30"
                ],
                "avgLength": 3,
                "computedAt": "2025-11-09T03:52:25.961Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "N30",
                "N60",
                "N45",
                "N15",
                "COD"
              ],
              "description": "Standard payment terms for the supplier (Net 15, Net 30, Net 45, Net 60, or Cash on Delivery)."
            },
            {
              "name": "rtg",
              "dataType": "tinyint",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Supplier rating on a 1‑5 scale, higher is better.",
                  "reasoning": "Tinyint with values 1‑5, typical rating enumeration.",
                  "generatedAt": "2025-11-09T03:52:56.364Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  2,
                  4,
                  5,
                  4,
                  5,
                  5,
                  4,
                  5,
                  4,
                  5,
                  5,
                  4,
                  1,
                  4,
                  5,
                  5,
                  4,
                  5,
                  5,
                  4
                ],
                "minValue": 1,
                "maxValue": 5,
                "computedAt": "2025-11-09T03:52:25.964Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Supplier rating on a 1‑5 scale, higher is better."
            },
            {
              "name": "cnt_nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Name of the primary contact person at the supplier.",
                  "reasoning": "Distinct personal names, average length 13 chars, matches contact person field.",
                  "generatedAt": "2025-11-09T03:52:56.364Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Barbara Jackson",
                  "Susan Harris",
                  "David Anderson",
                  "Nancy Clark",
                  "Christopher Taylor",
                  "Robert Williams",
                  "Matthew Rodriguez",
                  "John Wilson",
                  "Charles Garcia",
                  "Joseph Martin",
                  "James Garcia",
                  "Linda Anderson",
                  "Sarah Johnson",
                  "Michael Thomas",
                  "Jessica Thompson",
                  "Daniel Robinson",
                  "Lisa Thompson",
                  "Betty Lewis",
                  "Richard White",
                  "Anthony Lee"
                ],
                "avgLength": 13,
                "computedAt": "2025-11-09T03:52:25.967Z",
                "queryTimeMs": 3
              },
              "description": "Name of the primary contact person at the supplier."
            },
            {
              "name": "cnt_phn",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Phone number of the primary contact.",
                  "reasoning": "Distinct 8‑character strings formatted like 555‑####, typical phone format.",
                  "generatedAt": "2025-11-09T03:52:56.364Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "555-0114",
                  "555-0119",
                  "555-0102",
                  "555-0107",
                  "555-0122",
                  "555-0125",
                  "555-0116",
                  "555-0105",
                  "555-0108",
                  "555-0103",
                  "555-0124",
                  "555-0111",
                  "555-0104",
                  "555-0112",
                  "555-0115",
                  "555-0120",
                  "555-0106",
                  "555-0109",
                  "555-0110",
                  "555-0113"
                ],
                "avgLength": 8,
                "computedAt": "2025-11-09T03:52:25.971Z",
                "queryTimeMs": 4
              },
              "description": "Phone number of the primary contact."
            },
            {
              "name": "cnt_eml",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Email address of the primary contact.",
                  "reasoning": "Distinct email strings, average length 22 chars, typical email pattern.",
                  "generatedAt": "2025-11-09T03:52:56.364Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "drobinson@premier.com",
                  "jgarcia@reliable.com",
                  "ctaylor@corpfurn.com",
                  "nclark@nationwide.com",
                  "danderson@quickship.com",
                  "rwhite@qualitypaper.com",
                  "lthompson@premiumpaper.com",
                  "mrodriguez@techworld.com",
                  "jwilson@elitetech.com",
                  "bjackson@metroelec.com",
                  "mrodriguez@budgetfurn.com",
                  "jmartin@furnwarehouse.com",
                  "blewis@continental.com",
                  "pmoore@express.com",
                  "sharris@prooffice.com",
                  "mthomas@natsupply.com",
                  "alee@discountsupply.com",
                  "sjohnson@officeplus.com",
                  "rwilliams@premiumfurn.com",
                  "cgarcia@officeess.com"
                ],
                "avgLength": 22,
                "computedAt": "2025-11-09T03:52:25.975Z",
                "queryTimeMs": 4
              },
              "description": "Email address of the primary contact."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores master information about suppliers, including their unique identifier, name, status, payment terms, rating, and primary contact details (name, phone, email). This lookup table is used to reference suppliers in purchasing and inventory processes.",
              "reasoning": "Column sup_id is a unique integer primary key (25 distinct values for 25 rows). The nm column contains distinct supplier names. sts holds single‑character status codes (A,T,S,I). pmt_trm stores common payment‑term codes (N30,N60,N45,N15,COD). rtg is a numeric rating from 1 to 5. cnt_nm, cnt_phn, and cnt_eml each have unique values matching typical contact person, phone, and email formats. The table has no foreign‑key dependencies, indicating it is a foundational lookup entity, matching the expected purpose of the inv.sup table listed among available tables.",
              "generatedAt": "2025-11-09T03:52:56.364Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores master information about suppliers, including their unique identifier, name, status, payment terms, rating, and primary contact details (name, phone, email). This lookup table is used to reference suppliers in purchasing and inventory processes."
        },
        {
          "name": "whs",
          "rowCount": "8",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique warehouse identifier (primary key).",
                  "reasoning": "Primary key with 100% uniqueness and sequential values 1‑8.",
                  "generatedAt": "2025-11-09T03:52:58.250Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "sequential",
                "sampleValues": [
                  2,
                  5,
                  3,
                  4,
                  8,
                  6,
                  1,
                  7
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T03:52:25.979Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                8,
                7,
                6,
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Unique warehouse identifier (primary key)."
            },
            {
              "name": "cd",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Short warehouse code or abbreviation (e.g., NYC, LAX).",
                  "reasoning": "Three‑character codes matching city/airport identifiers, all unique.",
                  "generatedAt": "2025-11-09T03:52:58.250Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "NYC",
                  "LAX",
                  "SEA",
                  "CHI",
                  "MIA",
                  "DEN",
                  "ATL",
                  "DAL"
                ],
                "avgLength": 3,
                "computedAt": "2025-11-09T03:52:25.982Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "SEA",
                "NYC",
                "MIA",
                "LAX",
                "DEN",
                "DAL",
                "CHI",
                "ATL"
              ],
              "description": "Short warehouse code or abbreviation (e.g., NYC, LAX)."
            },
            {
              "name": "nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Full descriptive name of the warehouse or distribution center.",
                  "reasoning": "Longer strings describing the facility, each unique.",
                  "generatedAt": "2025-11-09T03:52:58.250Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Chicago Distribution Center",
                  "New York Regional Hub",
                  "Denver Regional Hub",
                  "Miami Distribution Center",
                  "Atlanta Distribution Hub",
                  "Los Angeles Distribution",
                  "Dallas Regional Center",
                  "Seattle Regional Warehouse"
                ],
                "avgLength": 23,
                "computedAt": "2025-11-09T03:52:25.985Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "Seattle Regional Warehouse",
                "New York Regional Hub",
                "Miami Distribution Center",
                "Los Angeles Distribution",
                "Denver Regional Hub",
                "Dallas Regional Center",
                "Chicago Distribution Center",
                "Atlanta Distribution Hub"
              ],
              "description": "Full descriptive name of the warehouse or distribution center."
            },
            {
              "name": "cty",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "City where the warehouse is located.",
                  "reasoning": "City names correspond to the codes and names, all unique.",
                  "generatedAt": "2025-11-09T03:52:58.250Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Chicago",
                  "Los Angeles",
                  "Dallas",
                  "New York",
                  "Denver",
                  "Miami",
                  "Seattle",
                  "Atlanta"
                ],
                "avgLength": 7,
                "computedAt": "2025-11-09T03:52:25.989Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "Seattle",
                "New York",
                "Miami",
                "Los Angeles",
                "Denver",
                "Dallas",
                "Chicago",
                "Atlanta"
              ],
              "description": "City where the warehouse is located."
            },
            {
              "name": "st",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Two‑letter state abbreviation for the warehouse location.",
                  "reasoning": "Standard US state codes, each unique per warehouse.",
                  "generatedAt": "2025-11-09T03:52:58.250Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "GA",
                  "TX",
                  "WA",
                  "NY",
                  "CA",
                  "FL",
                  "CO",
                  "IL"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T03:52:25.992Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "WA",
                "TX",
                "NY",
                "IL",
                "GA",
                "FL",
                "CO",
                "CA"
              ],
              "description": "Two‑letter state abbreviation for the warehouse location."
            },
            {
              "name": "typ",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Warehouse type code (R=Regional, M=Manufacturing, D=Distribution).",
                  "reasoning": "Three distinct single‑letter values suggest an enum for type.",
                  "generatedAt": "2025-11-09T03:52:58.250Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "D",
                  "R",
                  "R",
                  "R",
                  "D",
                  "R",
                  "M",
                  "M"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:25.995Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "R",
                "M",
                "D"
              ],
              "description": "Warehouse type code (R=Regional, M=Manufacturing, D=Distribution)."
            },
            {
              "name": "cap",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Storage capacity of the warehouse (likely in square feet or units).",
                  "reasoning": "Large integer values ranging from 100,000 to 250,000, unique per warehouse.",
                  "generatedAt": "2025-11-09T03:52:58.250Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  180000,
                  100000,
                  220000,
                  250000,
                  140000,
                  120000,
                  200000,
                  150000
                ],
                "minValue": 100000,
                "maxValue": 250000,
                "computedAt": "2025-11-09T03:52:25.999Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                250000,
                220000,
                200000,
                180000,
                150000,
                140000,
                120000,
                100000
              ],
              "description": "Storage capacity of the warehouse (likely in square feet or units)."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Operational status (A=Active, M=Maintenance/Inactive).",
                  "reasoning": "Two distinct values, typical status flag.",
                  "generatedAt": "2025-11-09T03:52:58.250Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "A",
                  "A",
                  "M",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.002Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "A",
                "M"
              ],
              "description": "Operational status (A=Active, M=Maintenance/Inactive)."
            }
          ],
          "descriptionIterations": [
            {
              "description": "A reference table that stores details of each warehouse used in the inventory system, including its identifier, short code, full name, location (city and state), type, capacity and operational status.",
              "reasoning": "The primary key whs_id uniquely identifies each record (8 distinct values for 8 rows). Columns cd, nm, cty, st contain location‑specific information (city codes, full names, state abbreviations) matching known US warehouse locations. The typ column has three distinct single‑letter values (R, M, D) typical of an enum describing warehouse type (e.g., Regional, Manufacturing, Distribution). The cap column holds large integer values consistent with storage capacity. The sts column has two values (A, M) indicating status such as Active or Maintenance. The table name is likely inv.whs as listed among known tables, and there are no foreign keys, confirming it is a foundational lookup table.",
              "generatedAt": "2025-11-09T03:52:58.250Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "A reference table that stores details of each warehouse used in the inventory system, including its identifier, short code, full name, location (city and state), type, capacity and operational status."
        }
      ],
      "descriptionIterations": []
    },
    {
      "name": "sales",
      "tables": [
        {
          "name": "addr",
          "rowCount": "800",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "addr_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each address record.",
                  "reasoning": "Primary key, 800 distinct values matching row count, typical surrogate key.",
                  "generatedAt": "2025-11-09T03:53:00.677Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 800,
                "distinctCount": 800,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  213,
                  397,
                  56,
                  419,
                  439,
                  627,
                  339,
                  676,
                  272,
                  228,
                  671,
                  600,
                  421,
                  670,
                  369,
                  326,
                  359,
                  142,
                  681,
                  798
                ],
                "minValue": 1,
                "maxValue": 800,
                "computedAt": "2025-11-09T03:52:26.006Z",
                "queryTimeMs": 4
              },
              "description": "Unique identifier for each address record."
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the customer to which the address belongs.",
                  "reasoning": "Primary key component, distinct values less than rows, indicates many‑to‑one relationship with a customer table.",
                  "generatedAt": "2025-11-09T03:53:00.677Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 476,
                "distinctCount": 476,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  262,
                  292,
                  213,
                  20,
                  279,
                  86,
                  391,
                  44,
                  190,
                  54,
                  16,
                  26,
                  383,
                  68,
                  178,
                  7,
                  64,
                  272,
                  266,
                  9999
                ],
                "minValue": 2,
                "maxValue": 9999,
                "computedAt": "2025-11-09T03:52:26.009Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the customer to which the address belongs."
            },
            {
              "name": "typ",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Address type code (S = Shipping, B = Billing, O = Office).",
                  "reasoning": "Three distinct single‑character values; common convention for address categories.",
                  "generatedAt": "2025-11-09T03:53:00.677Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "B",
                  "B",
                  "O",
                  "O",
                  "B",
                  "B",
                  "S",
                  "B",
                  "S",
                  "S",
                  "S",
                  "O",
                  "B",
                  "S",
                  "B",
                  "O",
                  "O",
                  "O",
                  "O",
                  "B"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.013Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "S",
                "O",
                "B"
              ],
              "description": "Address type code (S = Shipping, B = Billing, O = Office)."
            },
            {
              "name": "ln1",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "First line of the street address (street number and name).",
                  "reasoning": "Unique values, typical street address format in samples.",
                  "generatedAt": "2025-11-09T03:53:00.677Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 800,
                "distinctCount": 800,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "528 Park Boulevard",
                  "282 Oak Avenue",
                  "491 Main Street",
                  "587 Oak Avenue",
                  "502 Oak Avenue",
                  "378 Park Boulevard",
                  "38 Park Boulevard",
                  "499 Market Street",
                  "728 Park Boulevard",
                  "109 Market Street",
                  "708 Park Boulevard",
                  "570 Industrial Drive",
                  "387 Oak Avenue",
                  "452 Oak Avenue",
                  "90 Industrial Drive",
                  "178 Park Boulevard",
                  "582 Oak Avenue",
                  "567 Oak Avenue",
                  "470 Industrial Drive",
                  "671 Main Street"
                ],
                "avgLength": 16,
                "computedAt": "2025-11-09T03:52:26.016Z",
                "queryTimeMs": 3
              },
              "description": "First line of the street address (street number and name)."
            },
            {
              "name": "ln2",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Second address line, usually suite or apartment number; optional.",
                  "reasoning": "High null rate (75%) and values like \"Suite 241\" indicate supplemental address info.",
                  "generatedAt": "2025-11-09T03:53:00.677Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 125,
                "uniquenessRatio": 15.625,
                "nullCount": 600,
                "nullPercentage": 75,
                "dataPattern": "natural",
                "sampleValues": [
                  "Suite 241",
                  "Suite 169",
                  "Suite 213",
                  "Suite 165",
                  "Suite 21",
                  "Suite 81",
                  "Suite 465",
                  "Suite 129",
                  "Suite 281",
                  "Suite 369",
                  "Suite 493",
                  "Suite 125",
                  "Suite 273",
                  "Suite 81",
                  "Suite 145",
                  "Suite 53",
                  "Suite 137",
                  "Suite 17",
                  "Suite 277",
                  "Suite 97"
                ],
                "avgLength": 8,
                "computedAt": "2025-11-09T03:52:26.019Z",
                "queryTimeMs": 3
              },
              "description": "Second address line, usually suite or apartment number; optional."
            },
            {
              "name": "cty",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "City name of the address.",
                  "reasoning": "Distinct city names, sample values are US city names.",
                  "generatedAt": "2025-11-09T03:53:00.677Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 29,
                "distinctCount": 29,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Atlanta",
                  "Minneapolis",
                  "Tampa",
                  "Columbus",
                  "Houston",
                  "Las Vegas",
                  "Austin",
                  "Phoenix",
                  "Portland",
                  "Jacksonville",
                  "Chicago",
                  "San Antonio",
                  "Austin",
                  "Detroit",
                  "Seattle",
                  "Dallas",
                  "Dallas",
                  "Denver",
                  "New York",
                  "San Antonio"
                ],
                "avgLength": 8,
                "computedAt": "2025-11-09T03:52:26.024Z",
                "queryTimeMs": 5
              },
              "description": "City name of the address."
            },
            {
              "name": "st",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Two‑letter US state abbreviation.",
                  "reasoning": "Limited distinct values (20) matching US state codes.",
                  "generatedAt": "2025-11-09T03:53:00.677Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 20,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "IN",
                  "IN",
                  "CO",
                  "TX",
                  "IN",
                  "TX",
                  "FL",
                  "GA",
                  "MN",
                  "GA",
                  "NV",
                  "MO",
                  "CA",
                  "CA",
                  "FL",
                  "IN",
                  "OR",
                  "OR",
                  "TX",
                  "TX"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T03:52:26.029Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "TX",
                "CA",
                "AZ",
                "FL",
                "IN",
                "PA",
                "IL",
                "MI",
                "MA",
                "OR",
                "TN",
                "MO",
                "MN",
                "OH",
                "NV",
                "NY",
                "GA",
                "CO",
                "WA",
                "NC"
              ],
              "description": "Two‑letter US state abbreviation."
            },
            {
              "name": "zip",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Postal code (ZIP) for the address.",
                  "reasoning": "Unique per row, 5‑character numeric strings typical of US ZIP codes.",
                  "generatedAt": "2025-11-09T03:53:00.677Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 800,
                "distinctCount": 800,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "10032",
                  "10197",
                  "10552",
                  "10528",
                  "10311",
                  "10707",
                  "10314",
                  "10041",
                  "10045",
                  "10364",
                  "10587",
                  "10103",
                  "10376",
                  "10239",
                  "10078",
                  "10785",
                  "10605",
                  "10790",
                  "10266",
                  "10278"
                ],
                "avgLength": 5,
                "computedAt": "2025-11-09T03:52:26.032Z",
                "queryTimeMs": 3
              },
              "description": "Postal code (ZIP) for the address."
            },
            {
              "name": "ctry",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Country code; all rows contain \"US\".",
                  "reasoning": "Single distinct value, confirms all addresses are US based.",
                  "generatedAt": "2025-11-09T03:53:00.677Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 1,
                "distinctCount": 1,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T03:52:26.036Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "US"
              ],
              "description": "Country code; all rows contain \"US\"."
            },
            {
              "name": "dflt",
              "dataType": "bit",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Flag indicating whether this address is the default for the customer.",
                  "reasoning": "Bit column with true/false values; typical for selecting primary address.",
                  "generatedAt": "2025-11-09T03:53:00.677Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  false,
                  true,
                  false,
                  false,
                  false,
                  false,
                  true,
                  true,
                  false,
                  true,
                  false,
                  true,
                  true,
                  false,
                  false,
                  true,
                  false,
                  false,
                  true,
                  false
                ],
                "computedAt": "2025-11-09T03:52:26.039Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                false,
                true
              ],
              "description": "Flag indicating whether this address is the default for the customer."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores mailing and location information for customers, including multiple address lines, city, state, zip, country, address type (e.g., Shipping, Billing, Office) and a flag indicating the default address for a customer.",
              "reasoning": "The table contains an address primary key (addr_id) and a customer identifier (cst_id) linking each row to a customer. Columns like ln1, ln2, cty, st, zip, ctry are typical address fields. The 'typ' column has values S, O, B suggesting address categories (Shipping, Office, Billing). The 'dflt' bit marks the default address. Sample data shows US addresses with city and state codes, confirming its role as a customer address lookup table.",
              "generatedAt": "2025-11-09T03:53:00.677Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores mailing and location information for customers, including multiple address lines, city, state, zip, country, address type (e.g., Shipping, Billing, Office) and a flag indicating the default address for a customer."
        },
        {
          "name": "cst",
          "rowCount": "500",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique customer identifier (primary key).",
                  "reasoning": "500 distinct values for 500 rows, typical surrogate key.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  131,
                  352,
                  179,
                  325,
                  289,
                  258,
                  160,
                  204,
                  413,
                  498,
                  440,
                  90,
                  380,
                  103,
                  175,
                  469,
                  111,
                  407,
                  397,
                  120
                ],
                "minValue": 1,
                "maxValue": 500,
                "computedAt": "2025-11-09T03:52:26.044Z",
                "queryTimeMs": 3
              },
              "description": "Unique customer identifier (primary key)."
            },
            {
              "name": "nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Customer name – either individual or company name.",
                  "reasoning": "String values like \"Larry Watson\" and \"Flores Group\" with average length 13 characters.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 488,
                "distinctCount": 488,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Larry Watson",
                  "Heather Brown",
                  "Flores Group",
                  "Castillo Distributors",
                  "Helen Martin",
                  "John Cox",
                  "George Price",
                  "Eric Turner",
                  "Gomez Enterprises",
                  "Nguyen Ltd",
                  "Matthew Richardson",
                  "Jessica Rogers",
                  "John Williams",
                  "Alexander Lopez",
                  "Gray Technologies",
                  "Betty Collins",
                  "Castillo Services",
                  "Michelle Anderson",
                  "Christine Taylor",
                  "Jessica Morris"
                ],
                "avgLength": 13,
                "computedAt": "2025-11-09T03:52:26.047Z",
                "queryTimeMs": 3
              },
              "description": "Customer name – either individual or company name."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current status of the customer (e.g., A=Active, S=Suspended, I=Inactive, T=Terminated).",
                  "reasoning": "Single‑character enum with four distinct values.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "S",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "S"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.051Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "A",
                "S",
                "I",
                "T"
              ],
              "description": "Current status of the customer (e.g., A=Active, S=Suspended, I=Inactive, T=Terminated)."
            },
            {
              "name": "dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the customer record was created or the customer was onboarded.",
                  "reasoning": "Unique date per row, likely registration date.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-03-06T00:00:00.000Z",
                  "2024-08-22T00:00:00.000Z",
                  "2023-12-16T00:00:00.000Z",
                  "2024-09-30T00:00:00.000Z",
                  "2024-11-21T00:00:00.000Z",
                  "2024-09-12T00:00:00.000Z",
                  "2024-03-22T00:00:00.000Z",
                  "2024-04-25T00:00:00.000Z",
                  "2023-11-28T00:00:00.000Z",
                  "2024-09-15T00:00:00.000Z",
                  "2024-11-13T00:00:00.000Z",
                  "2024-10-21T00:00:00.000Z",
                  "2023-12-30T00:00:00.000Z",
                  "2023-11-22T00:00:00.000Z",
                  "2024-06-11T00:00:00.000Z",
                  "2024-12-18T00:00:00.000Z",
                  "2024-03-30T00:00:00.000Z",
                  "2023-11-19T00:00:00.000Z",
                  "2023-08-26T00:00:00.000Z",
                  "2023-09-12T00:00:00.000Z"
                ],
                "minValue": "2023-08-20T00:00:00.000Z",
                "maxValue": "2024-12-31T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:26.054Z",
                "queryTimeMs": 3
              },
              "description": "Date the customer record was created or the customer was onboarded."
            },
            {
              "name": "src",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Acquisition source/channel (WB=Web, ST=Store, RF=Referral, PH=Phone).",
                  "reasoning": "Four distinct two‑character codes matching common lead sources.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "RF",
                  "RF",
                  "PH",
                  "PH",
                  "RF",
                  "ST",
                  "RF",
                  "ST",
                  "WB",
                  "PH",
                  "PH",
                  "ST",
                  "PH",
                  "ST",
                  "RF",
                  "ST",
                  "RF",
                  "RF",
                  "WB",
                  "WB"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T03:52:26.058Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "WB",
                "ST",
                "RF",
                "PH"
              ],
              "description": "Acquisition source/channel (WB=Web, ST=Store, RF=Referral, PH=Phone)."
            },
            {
              "name": "rep_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the sales representative assigned to the customer.",
                  "reasoning": "Small set of numeric IDs (1‑15) typical for internal rep keys.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 15,
                "distinctCount": 15,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  10,
                  8,
                  10,
                  9,
                  15,
                  4,
                  13,
                  8,
                  15,
                  11,
                  10,
                  6,
                  6,
                  3,
                  14,
                  12,
                  8,
                  15,
                  3,
                  9
                ],
                "minValue": 1,
                "maxValue": 15,
                "computedAt": "2025-11-09T03:52:26.061Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                6,
                5,
                4,
                3,
                2,
                1,
                15,
                14,
                13,
                12,
                11,
                10,
                9,
                8,
                7
              ],
              "description": "Identifier of the sales representative assigned to the customer."
            },
            {
              "name": "seg",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Market segment classification (W=Wholesale, R=Retail, E=Enterprise).",
                  "reasoning": "Three distinct single‑character values representing segment groups.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "R",
                  "E",
                  "W",
                  "E",
                  "R",
                  "R",
                  "R",
                  "E",
                  "W",
                  "W",
                  "E",
                  "W",
                  "W",
                  "W",
                  "W",
                  "E",
                  "R",
                  "W",
                  "R",
                  "R"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.066Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "W",
                "R",
                "E"
              ],
              "description": "Market segment classification (W=Wholesale, R=Retail, E=Enterprise)."
            },
            {
              "name": "rtg",
              "dataType": "tinyint",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Customer rating or priority level ranging from 1 (lowest) to 5 (highest).",
                  "reasoning": "Tinyint with values 1‑5, a classic rating scale.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  4,
                  3,
                  4,
                  3,
                  3,
                  5,
                  1,
                  4,
                  1,
                  4,
                  2,
                  2,
                  2,
                  2,
                  1,
                  3,
                  3,
                  1,
                  5,
                  5
                ],
                "minValue": 1,
                "maxValue": 5,
                "computedAt": "2025-11-09T03:52:26.069Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Customer rating or priority level ranging from 1 (lowest) to 5 (highest)."
            },
            {
              "name": "bal",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current account balance for the customer.",
                  "reasoning": "Decimal values including zeros and positive amounts, indicating monetary balance.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  0,
                  3343.32,
                  0,
                  3747.85,
                  5142.78,
                  0,
                  0,
                  0,
                  0,
                  0,
                  2815.94,
                  2678.4,
                  3180.41,
                  0,
                  1316.94,
                  0,
                  0,
                  0,
                  0,
                  3776.33
                ],
                "minValue": 0,
                "maxValue": 5482.22,
                "computedAt": "2025-11-09T03:52:26.072Z",
                "queryTimeMs": 3
              },
              "description": "Current account balance for the customer."
            },
            {
              "name": "cr_lmt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Credit limit assigned to the customer.",
                  "reasoning": "Decimal values with a limited set of distinct limits, typical for credit policies.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 30,
                "distinctCount": 30,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  9250,
                  32500,
                  90000,
                  9000,
                  31500,
                  50000,
                  22500,
                  6500,
                  7250,
                  6750,
                  9750,
                  6500,
                  26500,
                  26500,
                  32000,
                  71000,
                  7250,
                  6750,
                  51000,
                  31500
                ],
                "minValue": 6500,
                "maxValue": 91000,
                "computedAt": "2025-11-09T03:52:26.076Z",
                "queryTimeMs": 4
              },
              "description": "Credit limit assigned to the customer."
            },
            {
              "name": "lst_ord",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date of the most recent order placed by the customer (nullable).",
                  "reasoning": "Date field with many distinct values and ~20% nulls, matching optional last‑order information.",
                  "generatedAt": "2025-11-09T03:53:03.102Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 292,
                "uniquenessRatio": 58.4,
                "nullCount": 100,
                "nullPercentage": 20,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-11-15T00:00:00.000Z",
                  "2024-09-20T00:00:00.000Z",
                  "2024-03-04T00:00:00.000Z",
                  "2024-12-19T00:00:00.000Z",
                  "2024-09-30T00:00:00.000Z",
                  "2024-07-11T00:00:00.000Z",
                  "2024-07-08T00:00:00.000Z",
                  "2024-08-25T00:00:00.000Z",
                  "2024-04-20T00:00:00.000Z",
                  "2024-02-12T00:00:00.000Z",
                  "2024-12-28T00:00:00.000Z",
                  "2024-08-11T00:00:00.000Z",
                  "2024-08-15T00:00:00.000Z",
                  "2024-08-22T00:00:00.000Z",
                  "2024-12-06T00:00:00.000Z",
                  "2024-11-11T00:00:00.000Z",
                  "2024-07-09T00:00:00.000Z",
                  "2024-11-09T00:00:00.000Z",
                  "2024-08-28T00:00:00.000Z",
                  "2024-11-06T00:00:00.000Z"
                ],
                "minValue": "2024-01-03T00:00:00.000Z",
                "maxValue": "2024-12-31T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:26.079Z",
                "queryTimeMs": 3
              },
              "description": "Date of the most recent order placed by the customer (nullable)."
            }
          ],
          "descriptionIterations": [
            {
              "description": "A master customer table storing core information about each customer, including identification, contact name, status, registration date, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit, and date of most recent order.",
              "reasoning": "The primary key cst_id uniquely identifies each row (500 distinct values). The nm column holds personal or company names, indicating a customer entity. sts contains single‑letter status codes (A,S,I,T) typical for Active/Suspended/Inactive/Terminated. dt appears to be the registration or creation date. src values (WB,ST,RF,PH) correspond to acquisition channels such as Web, Store, Referral, Phone. rep_id lists a small set of numeric IDs, matching typical sales‑rep identifiers. seg values (W,R,E) map to market segments (Wholesale, Retail, Enterprise). rtg is a 1‑5 rating. bal and cr_lmt are monetary fields for current balance and credit limit. lst_ord records the last order date and is nullable, fitting a customer‑order relationship. No foreign keys are defined, confirming it as a foundational lookup table, likely the sales.cst table listed in the schema.",
              "generatedAt": "2025-11-09T03:53:03.102Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.93,
              "triggeredBy": "initial"
            },
            {
              "description": "A master customer table storing core information about each customer, including identification, contact name, status, registration date, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit, and date of most recent order. The cst_id primary key is referenced by related tables (addresses, emails, phones, interaction notes, orders, payments), supporting one‑to‑many relationships for multiple contact details with default flags and for transactional records, confirming its role as the central customer entity.",
              "reasoning": "The new insights reveal that cst_id is used as a foreign key in several child tables (addresses, emails, phones, notes, orders, payments), indicating that the customer table is a parent entity for multiple contact and transaction records. While the original description noted it as a foundational lookup table, it did not explicitly mention these relationships. Incorporating this information clarifies the table’s role in the data model and highlights the multi‑address, multi‑email, and multi‑phone capabilities managed via related tables.",
              "generatedAt": "2025-11-09T03:53:37.411Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.97,
              "triggeredBy": "backpropagation",
              "changedFrom": "A master customer table storing core information about each customer, including identification, contact name, status, registration date, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit, and date of most recent order."
            }
          ],
          "dependencyLevel": 0,
          "description": "A master customer table storing core information about each customer, including identification, contact name, status, registration date, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit, and date of most recent order. The cst_id primary key is referenced by related tables (addresses, emails, phones, interaction notes, orders, payments), supporting one‑to‑many relationships for multiple contact details with default flags and for transactional records, confirming its role as the central customer entity."
        },
        {
          "name": "cst_note",
          "rowCount": "450",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "note_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": false,
              "isForeignKey": true,
              "descriptionIterations": [
                {
                  "description": "Primary key for the note record, uniquely identifies each entry",
                  "reasoning": "Distinct values equal row count (450) and column is marked PRIMARY KEY.",
                  "generatedAt": "2025-11-09T03:53:05.241Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 450,
                "distinctCount": 450,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  443,
                  24,
                  187,
                  424,
                  363,
                  215,
                  414,
                  321,
                  53,
                  270,
                  396,
                  185,
                  231,
                  439,
                  80,
                  107,
                  84,
                  416,
                  417,
                  74
                ],
                "minValue": 1,
                "maxValue": 450,
                "computedAt": "2025-11-09T03:52:26.083Z",
                "queryTimeMs": 3
              },
              "description": "Primary key for the note record, uniquely identifies each entry",
              "foreignKeyReferences": {
                "schema": "sales",
                "table": "cst_note",
                "column": "cst_id",
                "referencedColumn": "cst_id"
              }
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the customer the note pertains to, likely foreign key to sales.cst",
                  "reasoning": "Unique per row but logically references a customer; column name and context imply relationship to customer table.",
                  "generatedAt": "2025-11-09T03:53:05.241Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 450,
                "distinctCount": 450,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  233,
                  364,
                  365,
                  302,
                  23,
                  48,
                  95,
                  355,
                  117,
                  265,
                  372,
                  111,
                  59,
                  249,
                  171,
                  92,
                  436,
                  71,
                  159,
                  431
                ],
                "minValue": 2,
                "maxValue": 451,
                "computedAt": "2025-11-09T03:52:26.086Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the customer the note pertains to, likely foreign key to sales.cst"
            },
            {
              "name": "dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the note was created or the interaction occurred",
                  "reasoning": "Date type with unique values per row, sample dates correspond to recent business days.",
                  "generatedAt": "2025-11-09T03:53:05.241Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 450,
                "distinctCount": 450,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-03-22T00:00:00.000Z",
                  "2024-10-13T00:00:00.000Z",
                  "2024-07-18T00:00:00.000Z",
                  "2024-07-03T00:00:00.000Z",
                  "2024-03-11T00:00:00.000Z",
                  "2024-09-01T00:00:00.000Z",
                  "2024-02-03T00:00:00.000Z",
                  "2023-10-19T00:00:00.000Z",
                  "2024-12-18T00:00:00.000Z",
                  "2024-04-02T00:00:00.000Z",
                  "2024-01-28T00:00:00.000Z",
                  "2024-04-14T00:00:00.000Z",
                  "2023-10-27T00:00:00.000Z",
                  "2024-10-06T00:00:00.000Z",
                  "2024-05-11T00:00:00.000Z",
                  "2023-12-16T00:00:00.000Z",
                  "2024-05-08T00:00:00.000Z",
                  "2024-02-17T00:00:00.000Z",
                  "2024-02-23T00:00:00.000Z",
                  "2024-06-15T00:00:00.000Z"
                ],
                "minValue": "2023-10-09T00:00:00.000Z",
                "maxValue": "2024-12-31T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:26.089Z",
                "queryTimeMs": 3
              },
              "description": "Date the note was created or the interaction occurred"
            },
            {
              "name": "usr",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Name of the employee or system user who recorded the note",
                  "reasoning": "String values are personal names, high uniqueness, average length 13 characters.",
                  "generatedAt": "2025-11-09T03:53:05.241Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 440,
                "distinctCount": 440,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Edward Garcia",
                  "Christine Mitchell",
                  "Joshua Carter",
                  "Kimberly Morales",
                  "Heather Foster",
                  "Michael Torres",
                  "Susan Gonzalez",
                  "Matthew Ramos",
                  "Frank Smith",
                  "Barbara Hughes",
                  "Jessica Long",
                  "Helen Cooper",
                  "Christopher Hernandez",
                  "Sarah Martinez",
                  "Charles Reed",
                  "Janet James",
                  "Kathleen Lopez",
                  "Ryan Lopez",
                  "Dorothy Hall",
                  "Mary Anderson"
                ],
                "avgLength": 13,
                "computedAt": "2025-11-09T03:52:26.092Z",
                "queryTimeMs": 3
              },
              "description": "Name of the employee or system user who recorded the note"
            },
            {
              "name": "txt",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Text of the note describing the interaction or follow‑up",
                  "reasoning": "Low cardinality (4 distinct values) with sample sentences describing meetings, emails, calls and follow‑ups.",
                  "generatedAt": "2025-11-09T03:53:05.241Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "Follow-up regarding account status and payment arrangements for outstanding invoices.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "Follow-up regarding account status and payment arrangements for outstanding invoices.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "Email correspondence regarding product specifications and availability for upcoming project."
                ],
                "avgLength": "88",
                "computedAt": "2025-11-09T03:52:26.102Z",
                "queryTimeMs": 10
              },
              "possibleValues": [
                "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                "Email correspondence regarding product specifications and availability for upcoming project.",
                "Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.",
                "Follow-up regarding account status and payment arrangements for outstanding invoices."
              ],
              "description": "Text of the note describing the interaction or follow‑up"
            },
            {
              "name": "typ",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Single‑character code indicating the communication type (M=Meeting, E=Email, O=Other, C=Call)",
                  "reasoning": "Char column with four distinct values matching typical contact type abbreviations.",
                  "generatedAt": "2025-11-09T03:53:05.241Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "C",
                  "C",
                  "O",
                  "M",
                  "O",
                  "E",
                  "E",
                  "E",
                  "O",
                  "M",
                  "C",
                  "C",
                  "M",
                  "E",
                  "E",
                  "O",
                  "E",
                  "E",
                  "O",
                  "M"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.106Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "M",
                "E",
                "O",
                "C"
              ],
              "description": "Single‑character code indicating the communication type (M=Meeting, E=Email, O=Other, C=Call)"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores individual notes or interaction records linked to customers, capturing when, who, what was communicated and the type of contact.",
              "reasoning": "Column names note_id (unique identifier), cst_id (customer identifier), dt (date), usr (user/employee name), txt (note text) and typ (single‑letter type) together describe a log of customer communications. Sample values for txt are typical meeting, email, call notes and typ values (M,E,O,C) map to Meeting, Email, Other, Call. The presence of cst_id suggests a link to the sales.cst table even though no FK was detected.",
              "generatedAt": "2025-11-09T03:53:05.241Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.92,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores individual notes or interaction records linked to customers, capturing when, who, what was communicated and the type of contact."
        },
        {
          "name": "eml",
          "rowCount": "550",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "eml_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each email record.",
                  "reasoning": "Distinct values equal to row count and marked as primary key; typical surrogate key.",
                  "generatedAt": "2025-11-09T03:53:07.519Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 550,
                "distinctCount": 550,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  82,
                  471,
                  28,
                  115,
                  311,
                  533,
                  263,
                  496,
                  170,
                  293,
                  483,
                  46,
                  38,
                  438,
                  179,
                  479,
                  547,
                  113,
                  130,
                  150
                ],
                "minValue": 1,
                "maxValue": 550,
                "computedAt": "2025-11-09T03:52:26.110Z",
                "queryTimeMs": 3
              },
              "description": "Unique identifier for each email record."
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Foreign key referencing the customer to which the email belongs.",
                  "reasoning": "Primary key component with fewer distinct values than rows, indicating multiple emails per customer.",
                  "generatedAt": "2025-11-09T03:53:07.519Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  417,
                  483,
                  18,
                  377,
                  9,
                  28,
                  266,
                  13,
                  80,
                  496,
                  388,
                  54,
                  39,
                  93,
                  68,
                  135,
                  328,
                  142,
                  224,
                  251
                ],
                "minValue": 1,
                "maxValue": 500,
                "computedAt": "2025-11-09T03:52:26.113Z",
                "queryTimeMs": 3
              },
              "description": "Foreign key referencing the customer to which the email belongs."
            },
            {
              "name": "typ",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Category of the email address (e.g., Work, Personal, Other).",
                  "reasoning": "Char column with three possible values W, P, O, matching common email type classifications.",
                  "generatedAt": "2025-11-09T03:53:07.519Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "O",
                  "P",
                  "P",
                  "W",
                  "W",
                  "W",
                  "P",
                  "P",
                  "O",
                  "P",
                  "O",
                  "W",
                  "W",
                  "O",
                  "W",
                  "O",
                  "P",
                  "O",
                  "P",
                  "O"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.117Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "W",
                "P",
                "O"
              ],
              "description": "Category of the email address (e.g., Work, Personal, Other)."
            },
            {
              "name": "adr",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "The actual email address string.",
                  "reasoning": "nvarchar column with typical email formats in sample values.",
                  "generatedAt": "2025-11-09T03:53:07.519Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 550,
                "distinctCount": 550,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "nicole.young129@business.net",
                  "linda.hill207@outlook.com",
                  "frank.diaz531@yahoo.com",
                  "shirley.castillo489@business.net",
                  "susan.roberts95@gmail.com",
                  "george.hill249@business.net",
                  "joseph.cooper297@outlook.com",
                  "susan.hughes179@business.net",
                  "dorothy.turner516@yahoo.com",
                  "angela.walker142@outlook.com",
                  "joseph.patel139@business.net",
                  "kimberly.miller426@yahoo.com",
                  "shirley.bailey481@yahoo.com",
                  "deborah.kelly463@company.com",
                  "steven.parker253@company.com",
                  "joseph.murphy416@yahoo.com",
                  "rachel.sanders474@business.net",
                  "jeffrey.hernandez37@outlook.com",
                  "michael.taylor231@yahoo.com",
                  "ashley.rodriguez491@yahoo.com"
                ],
                "avgLength": 27,
                "computedAt": "2025-11-09T03:52:26.121Z",
                "queryTimeMs": 4
              },
              "description": "The actual email address string."
            },
            {
              "name": "vrf",
              "dataType": "bit",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Flag indicating whether the email address has been verified.",
                  "reasoning": "Bit column with true/false values; verification is a common attribute for contact emails.",
                  "generatedAt": "2025-11-09T03:53:07.519Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  false,
                  true,
                  false,
                  true,
                  true,
                  true,
                  false,
                  true,
                  true,
                  false,
                  true,
                  false,
                  true,
                  false,
                  true,
                  true,
                  true,
                  true,
                  true,
                  false
                ],
                "computedAt": "2025-11-09T03:52:26.124Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                true,
                false
              ],
              "description": "Flag indicating whether the email address has been verified."
            },
            {
              "name": "dflt",
              "dataType": "bit",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Flag indicating whether this email is the default contact for the customer.",
                  "reasoning": "Bit column; default email selection is typical in customer contact tables.",
                  "generatedAt": "2025-11-09T03:53:07.519Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  false,
                  false,
                  true,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  true,
                  false,
                  true,
                  false,
                  false,
                  false,
                  true,
                  false,
                  true,
                  false
                ],
                "computedAt": "2025-11-09T03:52:26.127Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                false,
                true
              ],
              "description": "Flag indicating whether this email is the default contact for the customer."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores email addresses associated with customers, including type, verification status, and default flag for each customer's contact information.",
              "reasoning": "The table contains an email ID (eml_id) and a customer ID (cst_id) marked as primary keys, indicating a many‑to‑one relationship where each customer can have multiple email records. The 'adr' column holds email address strings, 'typ' has three distinct single‑character values (W, P, O) likely representing Work, Personal, and Other. The boolean columns 'vrf' and 'dflt' correspond to verification status and whether the email is the default contact for the customer. Sample data shows realistic email formats and verification flags, confirming the table's role as a customer email lookup.",
              "generatedAt": "2025-11-09T03:53:07.519Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores email addresses associated with customers, including type, verification status, and default flag for each customer's contact information."
        },
        {
          "name": "oli",
          "rowCount": "6998",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "oli_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each order line item",
                  "reasoning": "Primary key with 6998 distinct values, one per row.",
                  "generatedAt": "2025-11-09T03:53:09.807Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 6998,
                "distinctCount": 6998,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  5668,
                  2555,
                  4720,
                  6881,
                  6600,
                  1693,
                  6509,
                  5006,
                  2176,
                  5198,
                  1417,
                  3343,
                  201,
                  6133,
                  2168,
                  849,
                  534,
                  3532,
                  1025,
                  357
                ],
                "minValue": 1,
                "maxValue": 6998,
                "computedAt": "2025-11-09T03:52:26.137Z",
                "queryTimeMs": 9
              },
              "description": "Unique identifier for each order line item"
            },
            {
              "name": "ord_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the parent sales order to which the line belongs",
                  "reasoning": "Primary key component, 2000 distinct values, typical foreign key to sales.ord.",
                  "generatedAt": "2025-11-09T03:53:09.807Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2000,
                "distinctCount": 2000,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1353,
                  1394,
                  29,
                  808,
                  1889,
                  454,
                  1881,
                  1834,
                  1804,
                  1829,
                  577,
                  586,
                  405,
                  1912,
                  23,
                  1720,
                  339,
                  1460,
                  634,
                  369
                ],
                "minValue": 1,
                "maxValue": 2000,
                "computedAt": "2025-11-09T03:52:26.146Z",
                "queryTimeMs": 9
              },
              "description": "Identifier of the parent sales order to which the line belongs"
            },
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product being sold on this line",
                  "reasoning": "Primary key component, 200 distinct values, aligns with product lookup table inv.prd.",
                  "generatedAt": "2025-11-09T03:53:09.807Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 200,
                "distinctCount": 200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  46,
                  145,
                  83,
                  73,
                  76,
                  114,
                  92,
                  113,
                  135,
                  5,
                  50,
                  55,
                  167,
                  82,
                  103,
                  197,
                  143,
                  159,
                  149,
                  128
                ],
                "minValue": 1,
                "maxValue": 200,
                "computedAt": "2025-11-09T03:52:26.155Z",
                "queryTimeMs": 9
              },
              "description": "Identifier of the product being sold on this line"
            },
            {
              "name": "qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity of the product ordered on this line",
                  "reasoning": "Low‑cardinality integer (1‑10) matching typical quantity field.",
                  "generatedAt": "2025-11-09T03:53:09.807Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 10,
                "distinctCount": 10,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  4,
                  5,
                  8,
                  9,
                  1,
                  10,
                  2,
                  7,
                  1,
                  3,
                  3,
                  7,
                  10,
                  3,
                  7,
                  8,
                  3,
                  7,
                  7,
                  1
                ],
                "minValue": 1,
                "maxValue": 10,
                "computedAt": "2025-11-09T03:52:26.165Z",
                "queryTimeMs": 10
              },
              "possibleValues": [
                7,
                6,
                3,
                9,
                8,
                2,
                5,
                4,
                10,
                1
              ],
              "description": "Quantity of the product ordered on this line"
            },
            {
              "name": "prc",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unit price of the product before discounts and taxes",
                  "reasoning": "Decimal with 100 distinct values, typical monetary price.",
                  "generatedAt": "2025-11-09T03:53:09.807Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  50.99,
                  150.99,
                  738.49,
                  313.49,
                  200.99,
                  888.49,
                  625.99,
                  175.99,
                  788.49,
                  163.49,
                  663.49,
                  175.99,
                  1138.49,
                  288.49,
                  338.49,
                  388.49,
                  525.99,
                  1025.99,
                  1175.99,
                  663.49
                ],
                "minValue": 25.99,
                "maxValue": 1263.49,
                "computedAt": "2025-11-09T03:52:26.179Z",
                "queryTimeMs": 14
              },
              "description": "Unit price of the product before discounts and taxes"
            },
            {
              "name": "disc",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Discount amount applied to this line (zero if none)",
                  "reasoning": "Decimal with many distinct values, sample includes zeros and positive amounts.",
                  "generatedAt": "2025-11-09T03:53:09.807Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 51,
                "distinctCount": 51,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  150.99,
                  0,
                  604.44,
                  0,
                  0,
                  0,
                  0,
                  1150.99,
                  0,
                  200.79,
                  0,
                  0,
                  0,
                  150.99,
                  800.79,
                  0,
                  1024.64,
                  0,
                  462.14,
                  275.99
                ],
                "minValue": 0,
                "maxValue": 1150.99,
                "computedAt": "2025-11-09T03:52:26.191Z",
                "queryTimeMs": 12
              },
              "description": "Discount amount applied to this line (zero if none)"
            },
            {
              "name": "tax_amt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Tax amount calculated for this line",
                  "reasoning": "Decimal with many distinct values, reflects tax per line.",
                  "generatedAt": "2025-11-09T03:53:09.807Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  198.71,
                  360.57,
                  558.71,
                  251.74,
                  656.74,
                  494.74,
                  18.71,
                  43.08,
                  108.71,
                  188.16,
                  185.4,
                  332.74,
                  85.4,
                  45.24,
                  432.57,
                  88.16,
                  475.63,
                  561.2,
                  72.57,
                  313.63
                ],
                "minValue": 3.08,
                "maxValue": 828.71,
                "computedAt": "2025-11-09T03:52:26.204Z",
                "queryTimeMs": 13
              },
              "description": "Tax amount calculated for this line"
            },
            {
              "name": "seq",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Sequence number of the line within the order (1‑6)",
                  "reasoning": "Only six possible values, indicating line order and a maximum of six items per order.",
                  "generatedAt": "2025-11-09T03:53:09.807Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 6,
                "distinctCount": 6,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  4,
                  1,
                  2,
                  3,
                  4,
                  4,
                  1,
                  2,
                  3,
                  4,
                  3,
                  1,
                  1,
                  4,
                  3,
                  1,
                  1,
                  4,
                  2,
                  4
                ],
                "minValue": 1,
                "maxValue": 6,
                "computedAt": "2025-11-09T03:52:26.213Z",
                "queryTimeMs": 9
              },
              "possibleValues": [
                1,
                2,
                3,
                4,
                5,
                6
              ],
              "description": "Sequence number of the line within the order (1‑6)"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores each line item of a sales order, linking an order to the product purchased and capturing quantity, price, discount, tax and the line sequence within the order.",
              "reasoning": "Column names oli_id (order line item id), ord_id (order id), prd_id (product id) and seq (line sequence) match typical order‑line structures. High uniqueness of oli_id, ord_id and prd_id indicates primary keys. qty values range 1‑10, prc, disc and tax_amt are monetary fields. The seq column only contains values 1‑6, suggesting a maximum of six items per order. The table appears in the provided list as sales.oli, confirming its role in the sales domain.",
              "generatedAt": "2025-11-09T03:53:09.807Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            },
            {
              "description": "Stores each line item of a sales order, linking an order to the product purchased and capturing quantity, price, discount, tax, and line sequence. Additionally, the table records returns at the order‑line‑item level, providing the product‑level detail needed for accurate return processing.",
              "reasoning": "The new insight that oli_id is used to record returns at the line‑item level extends the table's role beyond merely capturing order details. While the original description correctly identified its function for sales orders, it omitted the return‑processing capability. Incorporating this information clarifies that the table also supports return handling, which is a meaningful addition to its purpose.",
              "generatedAt": "2025-11-09T03:53:40.502Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.97,
              "triggeredBy": "backpropagation",
              "changedFrom": "Stores each line item of a sales order, linking an order to the product purchased and capturing quantity, price, discount, tax and the line sequence within the order."
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores each line item of a sales order, linking an order to the product purchased and capturing quantity, price, discount, tax, and line sequence. Additionally, the table records returns at the order‑line‑item level, providing the product‑level detail needed for accurate return processing."
        },
        {
          "name": "ord",
          "rowCount": "2000",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "ord_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each order (order primary key).",
                  "reasoning": "2000 distinct values for 2000 rows; typical naming convention for order IDs.",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2000,
                "distinctCount": 2000,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  59,
                  1532,
                  1522,
                  1332,
                  1155,
                  574,
                  1496,
                  1486,
                  614,
                  1371,
                  670,
                  1086,
                  772,
                  1162,
                  861,
                  373,
                  744,
                  979,
                  1893,
                  1232
                ],
                "minValue": 1,
                "maxValue": 2000,
                "computedAt": "2025-11-09T03:52:26.219Z",
                "queryTimeMs": 4
              },
              "description": "Unique identifier for each order (order primary key)."
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the customer who placed the order; likely a foreign key to sales.cst.",
                  "reasoning": "476 distinct values, non‑unique across orders, matches typical customer key cardinality.",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 476,
                "distinctCount": 476,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  358,
                  237,
                  268,
                  22,
                  459,
                  473,
                  9999,
                  439,
                  84,
                  9999,
                  79,
                  128,
                  49,
                  400,
                  451,
                  97,
                  145,
                  140,
                  45,
                  187
                ],
                "minValue": 2,
                "maxValue": 9999,
                "computedAt": "2025-11-09T03:52:26.224Z",
                "queryTimeMs": 5
              },
              "description": "Identifier of the customer who placed the order; likely a foreign key to sales.cst."
            },
            {
              "name": "ord_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the order was created.",
                  "reasoning": "Date column with 730 distinct values (roughly two years of daily orders).",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 730,
                "distinctCount": 730,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-11-19T00:00:00.000Z",
                  "2024-12-12T00:00:00.000Z",
                  "2024-09-02T00:00:00.000Z",
                  "2024-01-20T00:00:00.000Z",
                  "2023-09-05T00:00:00.000Z",
                  "2023-11-26T00:00:00.000Z",
                  "2023-07-17T00:00:00.000Z",
                  "2023-02-21T00:00:00.000Z",
                  "2024-01-17T00:00:00.000Z",
                  "2023-05-23T00:00:00.000Z",
                  "2023-06-04T00:00:00.000Z",
                  "2024-03-26T00:00:00.000Z",
                  "2023-03-01T00:00:00.000Z",
                  "2023-04-19T00:00:00.000Z",
                  "2024-09-29T00:00:00.000Z",
                  "2023-01-13T00:00:00.000Z",
                  "2023-11-08T00:00:00.000Z",
                  "2024-04-29T00:00:00.000Z",
                  "2023-05-25T00:00:00.000Z",
                  "2023-08-07T00:00:00.000Z"
                ],
                "minValue": "2023-01-03T00:00:00.000Z",
                "maxValue": "2025-01-01T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:26.228Z",
                "queryTimeMs": 4
              },
              "description": "Date the order was created."
            },
            {
              "name": "ship_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the order was shipped; nullable because many orders are not yet shipped.",
                  "reasoning": "40% nulls and 438 distinct dates indicate shipping occurs after order creation.",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 438,
                "uniquenessRatio": 21.9,
                "nullCount": 800,
                "nullPercentage": 40,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2023-03-30T00:00:00.000Z",
                  "2024-06-22T00:00:00.000Z",
                  "2023-11-27T00:00:00.000Z",
                  "2023-12-05T00:00:00.000Z",
                  "2024-08-04T00:00:00.000Z",
                  "2023-10-18T00:00:00.000Z",
                  "2023-12-28T00:00:00.000Z",
                  "2023-12-07T00:00:00.000Z",
                  "2023-06-30T00:00:00.000Z",
                  "2024-09-13T00:00:00.000Z",
                  "2024-04-24T00:00:00.000Z",
                  "2023-11-06T00:00:00.000Z",
                  "2024-02-16T00:00:00.000Z",
                  "2023-03-29T00:00:00.000Z",
                  "2024-04-23T00:00:00.000Z",
                  "2023-07-18T00:00:00.000Z",
                  "2023-01-19T00:00:00.000Z",
                  "2024-11-17T00:00:00.000Z",
                  "2024-12-19T00:00:00.000Z",
                  "2024-07-11T00:00:00.000Z"
                ],
                "minValue": "2023-01-07T00:00:00.000Z",
                "maxValue": "2025-01-01T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:26.231Z",
                "queryTimeMs": 3
              },
              "description": "Date the order was shipped; nullable because many orders are not yet shipped."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current status of the order, using single‑letter codes (e.g., D=Deleted, C=Cancelled, S=Shipped, P=Pending, X=Exception).",
                  "reasoning": "Five distinct single‑character values; common pattern for status enums.",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "X",
                  "S",
                  "S",
                  "C",
                  "S",
                  "X",
                  "X",
                  "D",
                  "P",
                  "S",
                  "C",
                  "C",
                  "C",
                  "C",
                  "S",
                  "C",
                  "X",
                  "S",
                  "C",
                  "D"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.236Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "D",
                "C",
                "S",
                "P",
                "X"
              ],
              "description": "Current status of the order, using single‑letter codes (e.g., D=Deleted, C=Cancelled, S=Shipped, P=Pending, X=Exception)."
            },
            {
              "name": "tot",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Total order amount before tax and discounts.",
                  "reasoning": "Decimal values with 100 distinct amounts, representing monetary totals.",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  9602,
                  7015,
                  547.5,
                  1841,
                  8806,
                  3134.5,
                  5224,
                  1542.5,
                  3234,
                  6020,
                  746.5,
                  3134.5,
                  9502.5,
                  7413,
                  7114.5,
                  9900.5,
                  2637,
                  6418,
                  8607,
                  8905.5
                ],
                "minValue": 50,
                "maxValue": 9900.5,
                "computedAt": "2025-11-09T03:52:26.243Z",
                "queryTimeMs": 7
              },
              "description": "Total order amount before tax and discounts."
            },
            {
              "name": "tax",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Tax amount applied to the order.",
                  "reasoning": "Decimal column with values that correspond to typical tax calculations on tot.",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  728.36,
                  465.68,
                  123.4,
                  242.8,
                  545.28,
                  187.08,
                  656.72,
                  616.92,
                  362.2,
                  537.32,
                  433.84,
                  648.76,
                  123.4,
                  35.84,
                  489.56,
                  322.4,
                  362.2,
                  11.96,
                  712.44,
                  314.44
                ],
                "minValue": 4,
                "maxValue": 792.04,
                "computedAt": "2025-11-09T03:52:26.249Z",
                "queryTimeMs": 6
              },
              "description": "Tax amount applied to the order."
            },
            {
              "name": "ship_amt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Shipping charge applied to the order; limited to three possible values (0, 15, 25).",
                  "reasoning": "Low cardinality enum suggests tiered shipping fees.",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0
                ],
                "minValue": 0,
                "maxValue": 25,
                "computedAt": "2025-11-09T03:52:26.254Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                0,
                25,
                15
              ],
              "description": "Shipping charge applied to the order; limited to three possible values (0, 15, 25)."
            },
            {
              "name": "disc_pct",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Discount percentage applied to the order; either 0% or 10%.",
                  "reasoning": "Only two distinct values, indicating a simple discount rule.",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  0,
                  0,
                  0,
                  0,
                  0,
                  10,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  10,
                  0
                ],
                "minValue": 0,
                "maxValue": 10,
                "computedAt": "2025-11-09T03:52:26.260Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                0,
                10
              ],
              "description": "Discount percentage applied to the order; either 0% or 10%."
            },
            {
              "name": "pmt_trm",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Payment terms for the order (e.g., Net 30, Net 45, Net 60, COD).",
                  "reasoning": "Four distinct string codes matching common payment term abbreviations.",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "N45",
                  "N45",
                  "COD",
                  "N30",
                  "COD",
                  "N30",
                  "N45",
                  "N45",
                  "COD",
                  "N30",
                  "N60",
                  "COD",
                  "N30",
                  "COD",
                  "N30",
                  "N45",
                  "N45",
                  "N30",
                  "N30",
                  "N45"
                ],
                "avgLength": 3,
                "computedAt": "2025-11-09T03:52:26.265Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "N30",
                "COD",
                "N60",
                "N45"
              ],
              "description": "Payment terms for the order (e.g., Net 30, Net 45, Net 60, COD)."
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text notes; when present, indicates a rush order with expedited shipping.",
                  "reasoning": "93.4% nulls, single repeated value 'Rush order - expedited shipping' shows a specific flag.",
                  "generatedAt": "2025-11-09T03:53:13.146Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 1,
                "uniquenessRatio": 0.05,
                "nullCount": 1867,
                "nullPercentage": 93.35,
                "dataPattern": "natural",
                "sampleValues": [
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping"
                ],
                "avgLength": 31,
                "computedAt": "2025-11-09T03:52:26.269Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "Rush order - expedited shipping"
              ],
              "description": "Optional free‑text notes; when present, indicates a rush order with expedited shipping."
            }
          ],
          "descriptionIterations": [
            {
              "description": "This table stores order header information, capturing each sales order placed by a customer, its dates, status, monetary totals, shipping details, discounts, payment terms, and optional notes.",
              "reasoning": "Column names like ord_id, cst_id, ord_dt, ship_dt, sts, tot, tax, ship_amt, disc_pct, and pmt_trm are typical of an order header. ord_id is unique (2000 distinct values) indicating a primary key. cst_id has many distinct values (476) suggesting a foreign key to a customer table. Dates and status codes (D, C, S, P, X) align with order lifecycle. Monetary columns (tot, tax, ship_amt) and discount percentage match order pricing. The low‑cardinality enums (ship_amt, disc_pct, pmt_trm) describe shipping cost tiers, discount applicability, and payment terms. Notes are mostly null, with a single repeated value indicating a special flag for rush orders.",
              "generatedAt": "2025-11-09T03:53:13.146Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.93,
              "triggeredBy": "initial"
            },
            {
              "description": "This table stores order header information for each sales order placed by a customer, including order dates, status, monetary totals, shipping details, discounts, payment terms, and optional notes. Each order can have up to six line‑item rows, may be linked to multiple shipment records (supporting split shipments), can be associated with payment records though the link is optional (allowing payments without an order), and may have related return records tied to the order.",
              "reasoning": "The new insights reveal relationships not captured in the original description: a child line‑item table limits orders to six items, shipments can be split across multiple rows, payments are optional indicating some payments are recorded without an order, and returns are tied to specific orders. These details refine the purpose and usage of the order table, so the description was updated to include them.",
              "generatedAt": "2025-11-09T03:53:39.405Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "backpropagation",
              "changedFrom": "This table stores order header information, capturing each sales order placed by a customer, its dates, status, monetary totals, shipping details, discounts, payment terms, and optional notes."
            }
          ],
          "dependencyLevel": 0,
          "description": "This table stores order header information for each sales order placed by a customer, including order dates, status, monetary totals, shipping details, discounts, payment terms, and optional notes. Each order can have up to six line‑item rows, may be linked to multiple shipment records (supporting split shipments), can be associated with payment records though the link is optional (allowing payments without an order), and may have related return records tied to the order."
        },
        {
          "name": "phn",
          "rowCount": "600",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "phn_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Surrogate primary key for the phone record",
                  "reasoning": "Unique integer, 100% distinct, serves as the row identifier.",
                  "generatedAt": "2025-11-09T03:53:15.432Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 600,
                "distinctCount": 600,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  166,
                  548,
                  63,
                  58,
                  490,
                  446,
                  227,
                  5,
                  258,
                  151,
                  326,
                  591,
                  449,
                  291,
                  536,
                  296,
                  344,
                  578,
                  558,
                  468
                ],
                "minValue": 1,
                "maxValue": 600,
                "computedAt": "2025-11-09T03:52:26.273Z",
                "queryTimeMs": 3
              },
              "description": "Surrogate primary key for the phone record"
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Foreign key to the customer table (sales.cst) identifying which customer the phone belongs to",
                  "reasoning": "Integer with many distinct values, typical linking column to a customer entity.",
                  "generatedAt": "2025-11-09T03:53:15.432Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  93,
                  83,
                  249,
                  4,
                  489,
                  88,
                  327,
                  471,
                  453,
                  465,
                  442,
                  323,
                  295,
                  145,
                  311,
                  147,
                  196,
                  235,
                  201,
                  423
                ],
                "minValue": 1,
                "maxValue": 500,
                "computedAt": "2025-11-09T03:52:26.276Z",
                "queryTimeMs": 3
              },
              "description": "Foreign key to the customer table (sales.cst) identifying which customer the phone belongs to"
            },
            {
              "name": "typ",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Phone type code: W=Work, M=Mobile, H=Home, F=Fax",
                  "reasoning": "Four distinct single‑character values matching common phone type abbreviations.",
                  "generatedAt": "2025-11-09T03:53:15.432Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "W",
                  "W",
                  "H",
                  "M",
                  "W",
                  "W",
                  "M",
                  "H",
                  "F",
                  "W",
                  "M",
                  "H",
                  "F",
                  "H",
                  "H",
                  "F",
                  "M",
                  "F",
                  "H",
                  "F"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.280Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "W",
                "M",
                "H",
                "F"
              ],
              "description": "Phone type code: W=Work, M=Mobile, H=Home, F=Fax"
            },
            {
              "name": "num",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "The phone number string, stored in various formats (with parentheses, hyphens, or plain digits)",
                  "reasoning": "nvarchar with 12‑character average length and sample values showing typical phone number patterns.",
                  "generatedAt": "2025-11-09T03:53:15.432Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 600,
                "distinctCount": 600,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "(394) 394-0294",
                  "(238) 238-0138",
                  "272-272-0172",
                  "(682) 682-0582",
                  "131-131-0031",
                  "(511) 511-0411",
                  "224-224-0124",
                  "2552550155",
                  "485-485-0385",
                  "(103) 103-0003",
                  "362-362-0262",
                  "3333330233",
                  "6186180518",
                  "419-419-0319",
                  "353-353-0253",
                  "644-644-0544",
                  "(340) 340-0240",
                  "6846840584",
                  "227-227-0127",
                  "(574) 574-0474"
                ],
                "avgLength": 12,
                "computedAt": "2025-11-09T03:52:26.283Z",
                "queryTimeMs": 3
              },
              "description": "The phone number string, stored in various formats (with parentheses, hyphens, or plain digits)"
            },
            {
              "name": "ext",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional extension number for work phones; mostly null for other types",
                  "reasoning": "Low cardinality, short numeric strings, 95% null indicating it applies only to a subset of rows.",
                  "generatedAt": "2025-11-09T03:53:15.432Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 6,
                "distinctCount": 30,
                "uniquenessRatio": 5,
                "nullCount": 570,
                "nullPercentage": 95,
                "dataPattern": "natural",
                "sampleValues": [
                  "291",
                  "391",
                  "11",
                  "331",
                  "571",
                  "51",
                  "551",
                  "491",
                  "411",
                  "71",
                  "431",
                  "371",
                  "591",
                  "351",
                  "31",
                  "271",
                  "511",
                  "191",
                  "111",
                  "451"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T03:52:26.287Z",
                "queryTimeMs": 4
              },
              "description": "Optional extension number for work phones; mostly null for other types"
            },
            {
              "name": "dflt",
              "dataType": "bit",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Boolean flag indicating whether this phone is the customer's default contact number",
                  "reasoning": "Bit column with true/false values, used to select the primary phone for a customer.",
                  "generatedAt": "2025-11-09T03:53:15.432Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  true,
                  true,
                  false,
                  false,
                  false,
                  true,
                  true,
                  false,
                  true,
                  false,
                  true,
                  true,
                  false,
                  false,
                  false,
                  true,
                  false,
                  true,
                  true,
                  true
                ],
                "computedAt": "2025-11-09T03:52:26.291Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                false,
                true
              ],
              "description": "Boolean flag indicating whether this phone is the customer's default contact number"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores each customer's phone contact details, including the phone number, its type (work, mobile, home, fax), optional extension, and a flag indicating the default number for the customer.",
              "reasoning": "Column names and sample data point to phone information: phn_id is a unique identifier, cst_id links to a customer (likely sales.cst), typ has values W,M,H,F matching common phone type codes, num contains phone-number formatted strings, ext holds short numeric extensions and is mostly null (typical for work phones), and dflt is a boolean marking the primary contact number. The table has no foreign keys defined here but its naming and columns align with a typical sales phone lookup table (sales.phn).",
              "generatedAt": "2025-11-09T03:53:15.432Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.97,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores each customer's phone contact details, including the phone number, its type (work, mobile, home, fax), optional extension, and a flag indicating the default number for the customer."
        },
        {
          "name": "pmt",
          "rowCount": "2200",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "pmt_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Primary key uniquely identifying each payment record.",
                  "reasoning": "Integer, 100% unique across 2200 rows and marked as PRIMARY KEY.",
                  "generatedAt": "2025-11-09T03:53:18.760Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2200,
                "distinctCount": 2200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  444,
                  1156,
                  108,
                  469,
                  871,
                  912,
                  1503,
                  1472,
                  667,
                  915,
                  1296,
                  425,
                  1131,
                  1499,
                  1398,
                  623,
                  1573,
                  1609,
                  721,
                  53
                ],
                "minValue": 1,
                "maxValue": 2200,
                "computedAt": "2025-11-09T03:52:26.297Z",
                "queryTimeMs": 5
              },
              "description": "Primary key uniquely identifying each payment record."
            },
            {
              "name": "ord_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": true,
              "descriptionIterations": [
                {
                  "description": "Identifier of the order associated with the payment; may be null when the payment is not tied to a specific order.",
                  "reasoning": "Integer, appears in 90% of rows, distinct values exceed row count indicating many-to-one or many-to-many linking to orders.",
                  "generatedAt": "2025-11-09T03:53:18.760Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 22,
                "distinctCount": 1800,
                "uniquenessRatio": 81.81818181818181,
                "nullCount": 220,
                "nullPercentage": 10,
                "dataPattern": "unknown",
                "sampleValues": [
                  508,
                  1258,
                  1897,
                  1087,
                  544,
                  1714,
                  122,
                  945,
                  20,
                  882,
                  1422,
                  32,
                  1404,
                  1013,
                  1987,
                  25,
                  328,
                  47,
                  1294,
                  1989
                ],
                "minValue": 2,
                "maxValue": 2000,
                "computedAt": "2025-11-09T03:52:26.301Z",
                "queryTimeMs": 4
              },
              "description": "Identifier of the order associated with the payment; may be null when the payment is not tied to a specific order.",
              "foreignKeyReferences": {
                "schema": "sales",
                "table": "ord",
                "column": "ord_id",
                "referencedColumn": "ord_id"
              }
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the customer who made the payment.",
                  "reasoning": "Integer, 100% unique across 500 distinct customers, typical foreign key to sales.cst.",
                  "generatedAt": "2025-11-09T03:53:18.760Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  353,
                  169,
                  171,
                  360,
                  217,
                  393,
                  187,
                  432,
                  66,
                  221,
                  350,
                  294,
                  432,
                  499,
                  82,
                  70,
                  11,
                  162,
                  280,
                  316
                ],
                "minValue": 1,
                "maxValue": 500,
                "computedAt": "2025-11-09T03:52:26.306Z",
                "queryTimeMs": 5
              },
              "description": "Identifier of the customer who made the payment."
            },
            {
              "name": "pmt_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the payment was received or processed.",
                  "reasoning": "Date type with 730 distinct daily values, covering roughly two years of activity.",
                  "generatedAt": "2025-11-09T03:53:18.760Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 730,
                "distinctCount": 730,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-03-06T00:00:00.000Z",
                  "2024-03-20T00:00:00.000Z",
                  "2023-09-21T00:00:00.000Z",
                  "2023-07-06T00:00:00.000Z",
                  "2024-07-17T00:00:00.000Z",
                  "2023-05-06T00:00:00.000Z",
                  "2024-07-18T00:00:00.000Z",
                  "2023-04-07T00:00:00.000Z",
                  "2024-08-06T00:00:00.000Z",
                  "2023-07-25T00:00:00.000Z",
                  "2023-09-12T00:00:00.000Z",
                  "2024-09-02T00:00:00.000Z",
                  "2024-04-24T00:00:00.000Z",
                  "2023-08-26T00:00:00.000Z",
                  "2023-09-28T00:00:00.000Z",
                  "2024-09-27T00:00:00.000Z",
                  "2024-06-10T00:00:00.000Z",
                  "2023-03-17T00:00:00.000Z",
                  "2024-09-30T00:00:00.000Z",
                  "2024-12-25T00:00:00.000Z"
                ],
                "minValue": "2023-01-04T00:00:00.000Z",
                "maxValue": "2025-01-02T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:26.311Z",
                "queryTimeMs": 5
              },
              "description": "Date the payment was received or processed."
            },
            {
              "name": "amt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Monetary amount of the payment.",
                  "reasoning": "Decimal, 100% unique values matching typical transaction amounts.",
                  "generatedAt": "2025-11-09T03:53:18.760Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  7900,
                  3360,
                  7040,
                  7080,
                  8500,
                  320,
                  9480,
                  1000,
                  3560,
                  1760,
                  5260,
                  5000,
                  7460,
                  5340,
                  5840,
                  7520,
                  840,
                  3040,
                  3460,
                  420
                ],
                "minValue": 100,
                "maxValue": 10080,
                "computedAt": "2025-11-09T03:52:26.317Z",
                "queryTimeMs": 6
              },
              "description": "Monetary amount of the payment."
            },
            {
              "name": "mthd",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Payment method code: WR=Wire Transfer, CA=Cash, CK=Check, CC=Credit Card.",
                  "reasoning": "Char(2) with four distinct values and sample codes that map to common payment methods.",
                  "generatedAt": "2025-11-09T03:53:18.760Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "CK",
                  "WR",
                  "CA",
                  "CA",
                  "CK",
                  "CA",
                  "CC",
                  "CC",
                  "CK",
                  "CC",
                  "CC",
                  "CA",
                  "CA",
                  "CA",
                  "CC",
                  "CC",
                  "CC",
                  "CK",
                  "CA",
                  "CK"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T03:52:26.323Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                "WR",
                "CA",
                "CK",
                "CC"
              ],
              "description": "Payment method code: WR=Wire Transfer, CA=Cash, CK=Check, CC=Credit Card."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current status of the payment: A=Approved, F=Failed, P=Pending, R=Refunded.",
                  "reasoning": "Char(1) with four distinct status codes; all sample values are 'A', indicating most payments are approved.",
                  "generatedAt": "2025-11-09T03:53:18.760Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.328Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "A",
                "F",
                "P",
                "R"
              ],
              "description": "Current status of the payment: A=Approved, F=Failed, P=Pending, R=Refunded."
            },
            {
              "name": "ref",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "System-generated reference string for the payment, e.g., 'PMT-2024-00198'.",
                  "reasoning": "NVARCHAR, 100% unique, follows a consistent 'PMT-YYYY-#####' pattern.",
                  "generatedAt": "2025-11-09T03:53:18.760Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2200,
                "distinctCount": 2200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "PMT-2024-00198",
                  "PMT-2023-01971",
                  "PMT-2024-00891",
                  "PMT-2024-01697",
                  "PMT-2023-00477",
                  "PMT-2024-01802",
                  "PMT-2024-01826",
                  "PMT-2023-00600",
                  "PMT-2024-01014",
                  "PMT-2023-02181",
                  "PMT-2023-01288",
                  "PMT-2023-01233",
                  "PMT-2024-00908",
                  "PMT-2024-00179",
                  "PMT-2023-02013",
                  "PMT-2024-01058",
                  "PMT-2023-00522",
                  "PMT-2024-00843",
                  "PMT-2024-00821",
                  "PMT-2023-01239"
                ],
                "avgLength": 14,
                "computedAt": "2025-11-09T03:52:26.333Z",
                "queryTimeMs": 5
              },
              "description": "System-generated reference string for the payment, e.g., 'PMT-2024-00198'."
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text note; currently used only for 'Account credit applied'.",
                  "reasoning": "NVARCHAR with 90% nulls and a single repeated value, indicating a specific use‑case flag.",
                  "generatedAt": "2025-11-09T03:53:18.760Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 22,
                "distinctCount": 1,
                "uniquenessRatio": 0.045454545454545456,
                "nullCount": 1980,
                "nullPercentage": 90,
                "dataPattern": "natural",
                "sampleValues": [
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied"
                ],
                "avgLength": 22,
                "computedAt": "2025-11-09T03:52:26.337Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "Account credit applied"
              ],
              "description": "Optional free‑text note; currently used only for 'Account credit applied'."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores individual payment transactions made by customers for orders, including payment amount, date, method, status, reference code and optional notes.",
              "reasoning": "Column names (pmt_id, ord_id, cst_id, pmt_dt, amt, mthd, sts, ref, notes) and sample values clearly indicate a payment record: unique payment ID, optional order ID, customer ID, payment date, monetary amount, method codes (WR, CA, CK, CC), status codes (A, F, P, R), a formatted reference string, and a note about account credit. The table is listed among the allowed names as sales.pmt, reinforcing the payment context.",
              "generatedAt": "2025-11-09T03:53:18.760Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores individual payment transactions made by customers for orders, including payment amount, date, method, status, reference code and optional notes."
        },
        {
          "name": "rtn",
          "rowCount": "150",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "rtn_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for the return transaction.",
                  "reasoning": "Integer, 100% unique across rows, typical for a primary key.",
                  "generatedAt": "2025-11-09T03:53:21.712Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  84,
                  111,
                  131,
                  139,
                  102,
                  114,
                  10,
                  101,
                  113,
                  37,
                  58,
                  123,
                  53,
                  22,
                  89,
                  25,
                  83,
                  24,
                  95,
                  43
                ],
                "minValue": 1,
                "maxValue": 150,
                "computedAt": "2025-11-09T03:52:26.341Z",
                "queryTimeMs": 3
              },
              "description": "Unique identifier for the return transaction."
            },
            {
              "name": "ord_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the original order associated with the return.",
                  "reasoning": "Integer, unique per row, matches order IDs in sales.ord; links return to its order.",
                  "generatedAt": "2025-11-09T03:53:21.712Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1340,
                  670,
                  930,
                  700,
                  350,
                  560,
                  1300,
                  1070,
                  280,
                  1090,
                  1120,
                  490,
                  390,
                  10,
                  270,
                  980,
                  210,
                  50,
                  860,
                  370
                ],
                "minValue": 10,
                "maxValue": 1500,
                "computedAt": "2025-11-09T03:52:26.344Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the original order associated with the return."
            },
            {
              "name": "oli_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the specific order line item being returned.",
                  "reasoning": "Integer, unique per row, aligns with line‑item IDs in sales.oli; enables return tracking at item level.",
                  "generatedAt": "2025-11-09T03:53:21.712Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  730,
                  440,
                  890,
                  1210,
                  720,
                  1280,
                  270,
                  630,
                  650,
                  1390,
                  1230,
                  850,
                  1290,
                  1190,
                  1320,
                  470,
                  980,
                  810,
                  540,
                  310
                ],
                "minValue": 10,
                "maxValue": 1500,
                "computedAt": "2025-11-09T03:52:26.346Z",
                "queryTimeMs": 2
              },
              "description": "Identifier of the specific order line item being returned."
            },
            {
              "name": "rtn_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date when the return was processed or received.",
                  "reasoning": "Date type with distinct values for each row, typical for transaction timestamps.",
                  "generatedAt": "2025-11-09T03:53:21.712Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-10-01T00:00:00.000Z",
                  "2024-12-27T00:00:00.000Z",
                  "2024-09-26T00:00:00.000Z",
                  "2024-10-24T00:00:00.000Z",
                  "2024-12-19T00:00:00.000Z",
                  "2024-08-21T00:00:00.000Z",
                  "2024-12-10T00:00:00.000Z",
                  "2024-12-21T00:00:00.000Z",
                  "2024-11-02T00:00:00.000Z",
                  "2024-10-11T00:00:00.000Z",
                  "2024-12-15T00:00:00.000Z",
                  "2024-08-18T00:00:00.000Z",
                  "2024-12-16T00:00:00.000Z",
                  "2024-11-15T00:00:00.000Z",
                  "2024-08-28T00:00:00.000Z",
                  "2024-12-06T00:00:00.000Z",
                  "2024-09-25T00:00:00.000Z",
                  "2024-10-19T00:00:00.000Z",
                  "2024-11-17T00:00:00.000Z",
                  "2024-11-23T00:00:00.000Z"
                ],
                "minValue": "2024-08-14T00:00:00.000Z",
                "maxValue": "2025-01-10T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:26.349Z",
                "queryTimeMs": 3
              },
              "description": "Date when the return was processed or received."
            },
            {
              "name": "rsn",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Reason code for the return (WRG=Wrong item, DOA=Dead on Arrival, DMG=Damaged, CHG=Customer changed mind).",
                  "reasoning": "Char column with only four distinct values, matching common return reasons.",
                  "generatedAt": "2025-11-09T03:53:21.712Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "WRG",
                  "WRG",
                  "CHG",
                  "CHG",
                  "WRG",
                  "WRG",
                  "WRG",
                  "DOA",
                  "DOA",
                  "DMG",
                  "DMG",
                  "WRG",
                  "CHG",
                  "DOA",
                  "CHG",
                  "WRG",
                  "WRG",
                  "WRG",
                  "CHG",
                  "DOA"
                ],
                "avgLength": 3,
                "computedAt": "2025-11-09T03:52:26.353Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "WRG",
                "DOA",
                "DMG",
                "CHG"
              ],
              "description": "Reason code for the return (WRG=Wrong item, DOA=Dead on Arrival, DMG=Damaged, CHG=Customer changed mind)."
            },
            {
              "name": "qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity of items returned for this line.",
                  "reasoning": "Integer with values 1‑5, indicating small batch returns per line item.",
                  "generatedAt": "2025-11-09T03:53:21.712Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  5,
                  3,
                  2,
                  5,
                  2,
                  3,
                  3,
                  5,
                  2,
                  1,
                  3,
                  3,
                  1,
                  5,
                  5,
                  3,
                  1,
                  1,
                  2,
                  3
                ],
                "minValue": 1,
                "maxValue": 5,
                "computedAt": "2025-11-09T03:52:26.357Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Quantity of items returned for this line."
            },
            {
              "name": "amt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Monetary amount refunded or credited for the returned items.",
                  "reasoning": "Decimal with many distinct values, correlates with qty and product pricing.",
                  "generatedAt": "2025-11-09T03:53:21.712Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 50,
                "distinctCount": 50,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  240,
                  440,
                  130,
                  340,
                  280,
                  220,
                  70,
                  90,
                  500,
                  120,
                  330,
                  270,
                  360,
                  180,
                  130,
                  500,
                  420,
                  140,
                  150,
                  100
                ],
                "minValue": 50,
                "maxValue": 540,
                "computedAt": "2025-11-09T03:52:26.360Z",
                "queryTimeMs": 3
              },
              "description": "Monetary amount refunded or credited for the returned items."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current processing status of the return (P=Pending, A=Approved, R=Rejected, C=Completed).",
                  "reasoning": "Single‑character enum typical for workflow states.",
                  "generatedAt": "2025-11-09T03:53:21.712Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "P",
                  "A",
                  "C",
                  "P",
                  "R",
                  "R",
                  "P",
                  "P",
                  "C",
                  "P",
                  "R",
                  "P",
                  "R",
                  "A",
                  "C",
                  "A",
                  "R",
                  "P",
                  "C",
                  "P"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.364Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "A",
                "R",
                "P",
                "C"
              ],
              "description": "Current processing status of the return (P=Pending, A=Approved, R=Rejected, C=Completed)."
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text comment providing additional context about the return.",
                  "reasoning": "NVARCHAR with a few distinct explanatory phrases matching the rsn codes.",
                  "generatedAt": "2025-11-09T03:53:21.712Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Customer changed mind",
                  "Package arrived damaged during shipping",
                  "Customer changed mind",
                  "Product defective on arrival",
                  "Product defective on arrival",
                  "Package arrived damaged during shipping",
                  "Customer changed mind",
                  "Package arrived damaged during shipping",
                  "Product defective on arrival",
                  "Package arrived damaged during shipping",
                  "Product defective on arrival",
                  "Customer changed mind",
                  "Customer changed mind",
                  "Customer changed mind",
                  "Product defective on arrival",
                  "Customer changed mind",
                  "Wrong item was shipped",
                  "Product defective on arrival",
                  "Package arrived damaged during shipping",
                  "Package arrived damaged during shipping"
                ],
                "avgLength": 27,
                "computedAt": "2025-11-09T03:52:26.368Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "Wrong item was shipped",
                "Product defective on arrival",
                "Package arrived damaged during shipping",
                "Customer changed mind"
              ],
              "description": "Optional free‑text comment providing additional context about the return."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores individual product return records, linking each return to a specific order and order line item, with details about return date, reason, quantity, refund amount, status, and optional notes.",
              "reasoning": "The columns rtn_id, ord_id, and oli_id act as unique identifiers for a return, its originating order, and the specific order line item. rtn_dt is a date, rsn contains limited values (WRG, DOA, DMG, CHG) that map to common return reasons. qty and amt capture the quantity returned and monetary value. sts holds status codes (A, R, P, C) typical for processing stages. notes provides free‑text explanations. The pattern matches a sales return table, and the list of possible parent tables includes sales.rtn, sales.ord, and sales.oli, indicating this is the returns table.",
              "generatedAt": "2025-11-09T03:53:21.712Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores individual product return records, linking each return to a specific order and order line item, with details about return date, reason, quantity, refund amount, status, and optional notes."
        },
        {
          "name": "shp",
          "rowCount": "1500",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "shp_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each shipment record",
                  "reasoning": "1500 distinct values for 1500 rows, typical primary key.",
                  "generatedAt": "2025-11-09T03:53:24.458Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 1500,
                "distinctCount": 1500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1008,
                  1200,
                  579,
                  597,
                  295,
                  379,
                  873,
                  260,
                  1226,
                  422,
                  24,
                  1154,
                  100,
                  1315,
                  528,
                  361,
                  759,
                  1258,
                  951,
                  248
                ],
                "minValue": 1,
                "maxValue": 1500,
                "computedAt": "2025-11-09T03:52:26.373Z",
                "queryTimeMs": 4
              },
              "description": "Unique identifier for each shipment record"
            },
            {
              "name": "ord_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the sales order associated with the shipment",
                  "reasoning": "Unique per row but logically references sales.ord; sample values match order IDs.",
                  "generatedAt": "2025-11-09T03:53:24.458Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 1500,
                "distinctCount": 1500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1253,
                  430,
                  1292,
                  478,
                  1400,
                  528,
                  1361,
                  1287,
                  168,
                  1051,
                  594,
                  768,
                  175,
                  291,
                  1026,
                  1166,
                  289,
                  489,
                  521,
                  1060
                ],
                "minValue": 1,
                "maxValue": 1500,
                "computedAt": "2025-11-09T03:52:26.377Z",
                "queryTimeMs": 4
              },
              "description": "Identifier of the sales order associated with the shipment"
            },
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the warehouse from which the shipment originated",
                  "reasoning": "Only eight distinct values (1‑8) matching typical warehouse IDs; listed as possible values.",
                  "generatedAt": "2025-11-09T03:53:24.458Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  2,
                  8,
                  5,
                  7,
                  5,
                  1,
                  3,
                  1,
                  1,
                  2,
                  7,
                  1,
                  4,
                  3,
                  7,
                  4,
                  5,
                  3,
                  8,
                  4
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T03:52:26.382Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                2,
                5,
                4,
                3,
                8,
                1,
                7,
                6
              ],
              "description": "Identifier of the warehouse from which the shipment originated"
            },
            {
              "name": "ship_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the shipment left the warehouse",
                  "reasoning": "Date values span 2023‑2024 with daily granularity, typical shipping dates.",
                  "generatedAt": "2025-11-09T03:53:24.458Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 730,
                "distinctCount": 730,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2023-05-30T00:00:00.000Z",
                  "2023-06-23T00:00:00.000Z",
                  "2023-09-09T00:00:00.000Z",
                  "2023-01-10T00:00:00.000Z",
                  "2023-09-18T00:00:00.000Z",
                  "2024-06-01T00:00:00.000Z",
                  "2024-05-11T00:00:00.000Z",
                  "2024-08-05T00:00:00.000Z",
                  "2024-12-10T00:00:00.000Z",
                  "2024-06-10T00:00:00.000Z",
                  "2024-04-05T00:00:00.000Z",
                  "2023-08-01T00:00:00.000Z",
                  "2024-06-26T00:00:00.000Z",
                  "2023-05-19T00:00:00.000Z",
                  "2023-07-11T00:00:00.000Z",
                  "2023-09-03T00:00:00.000Z",
                  "2024-06-14T00:00:00.000Z",
                  "2023-12-25T00:00:00.000Z",
                  "2023-03-18T00:00:00.000Z",
                  "2023-11-23T00:00:00.000Z"
                ],
                "minValue": "2023-01-07T00:00:00.000Z",
                "maxValue": "2025-01-05T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:26.386Z",
                "queryTimeMs": 4
              },
              "description": "Date the shipment left the warehouse"
            },
            {
              "name": "dlv_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Actual or expected delivery date; may be null when not yet delivered",
                  "reasoning": "60% nulls and many distinct dates indicate optional delivery information.",
                  "generatedAt": "2025-11-09T03:53:24.458Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 15,
                "distinctCount": 292,
                "uniquenessRatio": 19.466666666666665,
                "nullCount": 900,
                "nullPercentage": 60,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2023-06-01T00:00:00.000Z",
                  "2023-08-01T00:00:00.000Z",
                  "2025-01-07T00:00:00.000Z",
                  "2024-06-16T00:00:00.000Z",
                  "2024-08-20T00:00:00.000Z",
                  "2024-02-12T00:00:00.000Z",
                  "2023-07-27T00:00:00.000Z",
                  "2024-12-23T00:00:00.000Z",
                  "2023-06-16T00:00:00.000Z",
                  "2023-08-31T00:00:00.000Z",
                  "2023-10-15T00:00:00.000Z",
                  "2024-05-11T00:00:00.000Z",
                  "2024-05-22T00:00:00.000Z",
                  "2023-07-02T00:00:00.000Z",
                  "2024-08-10T00:00:00.000Z",
                  "2023-07-16T00:00:00.000Z",
                  "2024-09-13T00:00:00.000Z",
                  "2024-08-09T00:00:00.000Z",
                  "2024-12-03T00:00:00.000Z",
                  "2023-04-03T00:00:00.000Z"
                ],
                "minValue": "2023-01-12T00:00:00.000Z",
                "maxValue": "2025-01-07T00:00:00.000Z",
                "computedAt": "2025-11-09T03:52:26.389Z",
                "queryTimeMs": 3
              },
              "description": "Actual or expected delivery date; may be null when not yet delivered"
            },
            {
              "name": "carr",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Shipping carrier used for the shipment",
                  "reasoning": "Four distinct carrier names (USPS Priority, DHL Express, FedEx Ground, UPS Next Day).",
                  "generatedAt": "2025-11-09T03:53:24.458Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "UPS Next Day",
                  "UPS Next Day",
                  "USPS Priority",
                  "UPS Next Day",
                  "DHL Express",
                  "DHL Express",
                  "FedEx Ground",
                  "USPS Priority",
                  "USPS Priority",
                  "FedEx Ground",
                  "USPS Priority",
                  "FedEx Ground",
                  "UPS Next Day",
                  "DHL Express",
                  "UPS Next Day",
                  "FedEx Ground",
                  "DHL Express",
                  "DHL Express",
                  "USPS Priority",
                  "DHL Express"
                ],
                "avgLength": 12,
                "computedAt": "2025-11-09T03:52:26.395Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                "USPS Priority",
                "DHL Express",
                "FedEx Ground",
                "UPS Next Day"
              ],
              "description": "Shipping carrier used for the shipment"
            },
            {
              "name": "trk",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Tracking number assigned by the carrier",
                  "reasoning": "1500 unique alphanumeric strings prefixed with 'TRK', typical tracking codes.",
                  "generatedAt": "2025-11-09T03:53:24.458Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 1500,
                "distinctCount": 1500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "TRK202420246784",
                  "TRK2023176665536",
                  "TRK2024125801664",
                  "TRK202497036416",
                  "TRK2024113949888",
                  "TRK2024181233408",
                  "TRK2024108641280",
                  "TRK2024183579072",
                  "TRK2024115184448",
                  "TRK2023141604032",
                  "TRK202494814208",
                  "TRK2024110616576",
                  "TRK2023140246016",
                  "TRK2024127653504",
                  "TRK20248888832",
                  "TRK202420370240",
                  "TRK202385555008",
                  "TRK2024129628800",
                  "TRK202382715520",
                  "TRK202358765056"
                ],
                "avgLength": 15,
                "computedAt": "2025-11-09T03:52:26.400Z",
                "queryTimeMs": 5
              },
              "description": "Tracking number assigned by the carrier"
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current status of the shipment (D=Delivered, N=Not shipped, S=Shipped, P=In‑progress)",
                  "reasoning": "Four single‑character codes with sample values D,P,S,N suggest status enum.",
                  "generatedAt": "2025-11-09T03:53:24.458Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "D",
                  "P",
                  "S",
                  "P",
                  "P",
                  "P",
                  "P",
                  "P",
                  "N",
                  "N",
                  "P",
                  "D",
                  "S",
                  "N",
                  "N",
                  "N",
                  "N",
                  "D",
                  "D",
                  "N"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T03:52:26.404Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "D",
                "N",
                "S",
                "P"
              ],
              "description": "Current status of the shipment (D=Delivered, N=Not shipped, S=Shipped, P=In‑progress)"
            },
            {
              "name": "wgt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Weight of the shipment (likely in pounds or kilograms)",
                  "reasoning": "Decimal values ranging from 15 to 122.5, typical for package weights.",
                  "generatedAt": "2025-11-09T03:53:24.458Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 50,
                "distinctCount": 50,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  35,
                  45,
                  15,
                  37.5,
                  47.5,
                  35,
                  107.5,
                  80,
                  77.5,
                  80,
                  25,
                  110,
                  57.5,
                  45,
                  102.5,
                  100,
                  77.5,
                  122.5,
                  52.5,
                  57.5
                ],
                "minValue": 5,
                "maxValue": 127.5,
                "computedAt": "2025-11-09T03:52:26.410Z",
                "queryTimeMs": 6
              },
              "description": "Weight of the shipment (likely in pounds or kilograms)"
            },
            {
              "name": "cost",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Shipping cost charged for the shipment",
                  "reasoning": "Only three possible values (15,25,45) indicating tiered pricing.",
                  "generatedAt": "2025-11-09T03:53:24.458Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  15,
                  25,
                  45,
                  25,
                  15,
                  15,
                  15,
                  25,
                  45,
                  45,
                  45,
                  25,
                  25,
                  25,
                  25,
                  45,
                  45,
                  45,
                  45,
                  45
                ],
                "minValue": 15,
                "maxValue": 45,
                "computedAt": "2025-11-09T03:52:26.416Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                45,
                25,
                15
              ],
              "description": "Shipping cost charged for the shipment"
            }
          ],
          "descriptionIterations": [
            {
              "description": "This table records individual shipment instances for sales orders, linking each order to the warehouse it ships from, the shipping and delivery dates, carrier details, tracking number, status, weight and cost.",
              "reasoning": "Column names such as shp_id (shipment identifier), ord_id (order reference), whs_id (warehouse identifier), ship_dt and dlv_dt (shipping and delivery dates), carr (carrier), trk (tracking number), sts (status), wgt (weight) and cost (shipping cost) together describe a shipping transaction. Sample values confirm typical shipping data (e.g., carrier values USPS Priority, DHL Express, FedEx Ground, UPS Next Day; status codes D,N,S,P). High cardinality of shp_id, ord_id, trk indicates unique identifiers. The presence of whs_id with only eight distinct values suggests a lookup to a warehouse table. Although no explicit foreign keys are defined, ord_id likely references sales.ord and whs_id references inv.whs, indicating the table’s role in the sales fulfillment process.",
              "generatedAt": "2025-11-09T03:53:24.458Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "This table records individual shipment instances for sales orders, linking each order to the warehouse it ships from, the shipping and delivery dates, carrier details, tracking number, status, weight and cost."
        }
      ],
      "descriptionIterations": []
    }
  ]
}