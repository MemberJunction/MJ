{
  "version": "1.0.0",
  "summary": {
    "createdAt": "2025-11-09T04:07:29.987Z",
    "lastModified": "2025-11-09T04:08:45.971Z",
    "totalIterations": 1,
    "totalPromptsRun": 28,
    "totalInputTokens": 0,
    "totalOutputTokens": 0,
    "totalTokens": 76586,
    "totalSchemas": 2,
    "totalTables": 20,
    "totalColumns": 162,
    "estimatedCost": 0
  },
  "database": {
    "name": "LousyDB",
    "server": "localhost",
    "analyzedAt": "2025-11-09T04:07:29.987Z"
  },
  "phases": {
    "descriptionGeneration": [
      {
        "runId": "run_1762661260222_9itcwmxbf",
        "startedAt": "2025-11-09T04:07:40.222Z",
        "status": "in_progress",
        "levelsProcessed": 1,
        "iterationsPerformed": 1,
        "backpropagationCount": 1,
        "sanityCheckCount": 1,
        "converged": false,
        "modelUsed": "openai/gpt-oss-120b",
        "vendor": "GroqLLM",
        "temperature": 0.1,
        "totalTokensUsed": 76586,
        "estimatedCost": 0,
        "warnings": [
          "[Level 0] HIGH: sales.note - cst_id is said to reference sales.ord.cst_id, but notes belong to a customer, not an order; it should reference sales.cst.",
          "[Level 0] HIGH: sales.oli - prd_id is described as referencing sales.prd, yet the product master exists only as inv.prd; this creates a non‑existent relationship.",
          "[Level 0] HIGH: sales.pmt - ord_id is described as the identifier of the order line the payment is applied to, but the column name suggests a link to the order header; the description and column purpose conflict.",
          "[Level 0] MEDIUM: inv.po - sup_id column exists but no foreign‑key relationship is documented; it should reference the supplier master table."
        ],
        "errors": [],
        "processingLog": [
          {
            "level": 0,
            "schema": "inv",
            "table": "adj",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3058,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:07:42.788Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 300\n\n\n## Columns\n\n- **adj_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 300 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [56,260,210,38,137,236,147,104,129,58,297,92,262,235,283,173,101,124,153,177]\n\n- **prd_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [31,167,198,200,23,17,3,106,66,39,13,32,18,78,180,71,43,77,65,67]\n\n- **whs_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 5, 4, 3, 2, 8, 7, 6, 1\n  \n  \n  - Sample Values: [7,1,7,6,3,3,1,7,4,1,2,2,2,5,6,6,5,6,5,3]\n\n- **adj_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 300 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-12-19T00:00:00.000Z\",\"2024-09-29T00:00:00.000Z\",\"2024-10-18T00:00:00.000Z\",\"2024-12-25T00:00:00.000Z\",\"2024-05-09T00:00:00.000Z\",\"2024-11-01T00:00:00.000Z\",\"2024-09-01T00:00:00.000Z\",\"2024-12-10T00:00:00.000Z\",\"2024-10-27T00:00:00.000Z\",\"2024-04-06T00:00:00.000Z\",\"2024-07-06T00:00:00.000Z\",\"2024-08-31T00:00:00.000Z\",\"2024-05-19T00:00:00.000Z\",\"2024-10-21T00:00:00.000Z\",\"2024-11-17T00:00:00.000Z\",\"2024-07-16T00:00:00.000Z\",\"2024-11-18T00:00:00.000Z\",\"2024-03-29T00:00:00.000Z\",\"2024-08-29T00:00:00.000Z\",\"2024-10-31T00:00:00.000Z\"]\n\n- **qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 40 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [-2,-11,48,-5,-6,38,-17,-13,-7,-19,-15,-6,-11,-2,-11,-15,-2,-15,-2,14]\n\n- **rsn** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: STL, EXP, DAM, COR\n  \n  - Avg Length: 3 chars\n  - Sample Values: [\"EXP\",\"STL\",\"EXP\",\"STL\",\"EXP\",\"STL\",\"EXP\",\"DAM\",\"DAM\",\"STL\",\"COR\",\"EXP\",\"DAM\",\"EXP\",\"STL\",\"EXP\",\"EXP\",\"EXP\",\"STL\",\"STL\"]\n\n- **usr** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 297 (100% unique)\n  \n  \n  \n  - Avg Length: 13 chars\n  - Sample Values: [\"Deborah Lopez\",\"Brandon Flores\",\"Scott Miller\",\"Larry Murphy\",\"George Richardson\",\"Ashley Ward\",\"Samantha Ramos\",\"Brenda Smith\",\"Charles Cruz\",\"Susan Morgan\",\"Donna Clark\",\"Richard Morgan\",\"Ryan Anderson\",\"Nancy Robinson\",\"Paul Nguyen\",\"Shirley Lewis\",\"Kenneth Rodriguez\",\"Mary Castillo\",\"Patrick Sanchez\",\"Kenneth Price\"]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: Products expired and removed from stock, Items damaged during warehouse operations, Inventory shrinkage detected during audit, Inventory count correction after cycle count\n  \n  - Avg Length: 41 chars\n  - Sample Values: [\"Items damaged during warehouse operations\",\"Inventory shrinkage detected during audit\",\"Products expired and removed from stock\",\"Inventory shrinkage detected during audit\",\"Inventory count correction after cycle count\",\"Inventory count correction after cycle count\",\"Inventory shrinkage detected during audit\",\"Inventory count correction after cycle count\",\"Inventory count correction after cycle count\",\"Items damaged during warehouse operations\",\"Items damaged during warehouse operations\",\"Inventory shrinkage detected during audit\",\"Products expired and removed from stock\",\"Items damaged during warehouse operations\",\"Products expired and removed from stock\",\"Inventory count correction after cycle count\",\"Inventory shrinkage detected during audit\",\"Items damaged during warehouse operations\",\"Inventory shrinkage detected during audit\",\"Items damaged during warehouse operations\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"tableDescription\": \"Stores inventory adjustment records, capturing changes to product stock levels in specific warehouses, the reason for the change, the user who performed it, and optional notes.\",\n  \"reasoning\": \"The table contains adj_id (unique adjustment ID), prd_id (product reference), whs_id (warehouse reference), adj_dt (adjustment date), qty (quantity delta, both positive and negative), rsn (reason codes like EXP, STL, DAM, COR), usr (user name) and notes (descriptive text). The combination of product, warehouse, date, quantity and reason aligns with typical inventory adjustment logs. The table name is likely inv.adj based on the provided list of tables.\",\n  \"confidence\": 0.96,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"adj_id\",\n      \"description\": \"Primary key uniquely identifying each inventory adjustment entry.\",\n      \"reasoning\": \"Distinct values equal row count (300) and marked as PRIMARY KEY.\"\n    },\n    {\n      \"columnName\": \"prd_id\",\n      \"description\": \"Identifier of the product whose stock is being adjusted; references the product master table (inv.prd).\",\n      \"reasoning\": \"High cardinality (200 distinct) and typical naming convention for product foreign keys.\"\n    },\n    {\n      \"columnName\": \"whs_id\",\n      \"description\": \"Identifier of the warehouse where the adjustment took place; references the warehouse table (inv.whs).\",\n      \"reasoning\": \"Only 8 distinct values (1‑8) matching typical warehouse IDs.\"\n    },\n    {\n      \"columnName\": \"adj_dt\",\n      \"description\": \"Date the adjustment was recorded.\",\n      \"reasoning\": \"Date type with 100% unique values, matching one adjustment per day per record.\"\n    },\n    {\n      \"columnName\": \"qty\",\n      \"description\": \"Quantity change; positive values increase stock, negative values decrease stock.\",\n      \"reasoning\": \"Integer values include both negatives and positives, typical for stock delta.\"\n    },\n    {\n      \"columnName\": \"rsn\",\n      \"description\": \"Reason code for the adjustment: EXP (expired), STL (stolen), DAM (damaged), COR (correction).\",\n      \"reasoning\": \"Low cardinality (4 distinct) with clearly defined possible values.\"\n    },\n    {\n      \"columnName\": \"usr\",\n      \"description\": \"Name of the user who performed the adjustment.\",\n      \"reasoning\": \"Distinct values nearly equal row count, indicating a user identifier stored as free text.\"\n    },\n    {\n      \"columnName\": \"notes\",\n      \"description\": \"Optional free‑text comment providing additional context for the adjustment.\",\n      \"reasoning\": \"Limited distinct values (4) that are descriptive sentences matching the rsn codes.\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Inventory\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"inv.prd\",\n      \"insight\": \"Presence of prd_id in adjustments confirms that inv.prd holds product master data referenced for stock movements.\",\n      \"confidence\": 0.88\n    },\n    {\n      \"parentTable\": \"inv.whs\",\n      \"insight\": \"whs_id values (1‑8) indicate inv.whs defines a limited set of warehouse locations used for inventory tracking.\",\n      \"confidence\": 0.87\n    }\n  ]\n}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "cat",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2452,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:07:44.713Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 20\n\n\n## Columns\n\n- **cat_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 20 (100% unique)\n  \n  - Possible Values: 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [6,13,11,10,2,16,20,15,19,4,5,7,17,18,1,14,12,8,3,9]\n\n- **prnt_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 6 (0% unique)\n  \n  - Possible Values: 7, 4, 1, 16, 10, 19\n  \n  \n  - Sample Values: [4,1,1,7,7,16,10,4,7,19,10,1,16,4]\n\n- **nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 20 (100% unique)\n  \n  - Possible Values: Writing, Supplies, Storage, Scanners, Safety, Printers, PPE, Peripherals, Paper, Kitchen, Furniture, Folders, Equipment, Electronics, Desks, Computers, Cleaning, Chairs, Breakroom, Accessories\n  \n  - Avg Length: 7 chars\n  - Sample Values: [\"Electronics\",\"Chairs\",\"Breakroom\",\"Supplies\",\"Safety\",\"Equipment\",\"PPE\",\"Printers\",\"Scanners\",\"Storage\",\"Accessories\",\"Kitchen\",\"Desks\",\"Paper\",\"Folders\",\"Writing\",\"Peripherals\",\"Cleaning\",\"Furniture\",\"Computers\"]\n\n- **dsc** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 20 (100% unique)\n  \n  - Possible Values: Storage furniture and cabinets, Safety equipment, Printers and copiers, Personal protective equipment, Pens, pencils, and markers, Paper products and stationery, Office supplies and materials, Office equipment and machines, Office desks and workstations, Office chairs and seating, Office and home furniture, Kitchen appliances and supplies, File folders and binders, Electronic devices and accessories, Electronic accessories and cables, Document scanners, Desktop and laptop computers, Computer peripherals and accessories, Cleaning supplies, Breakroom supplies\n  \n  - Avg Length: 26 chars\n  - Sample Values: [\"Computer peripherals and accessories\",\"Safety equipment\",\"Pens, pencils, and markers\",\"Office and home furniture\",\"File folders and binders\",\"Office equipment and machines\",\"Breakroom supplies\",\"Desktop and laptop computers\",\"Office desks and workstations\",\"Office supplies and materials\",\"Printers and copiers\",\"Electronic devices and accessories\",\"Kitchen appliances and supplies\",\"Storage furniture and cabinets\",\"Paper products and stationery\",\"Office chairs and seating\",\"Cleaning supplies\",\"Personal protective equipment\",\"Document scanners\",\"Electronic accessories and cables\"]\n\n- **lvl** (int)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: 2, 1\n  \n  \n  - Sample Values: [2,2,1,2,1,1,2,2,1,2,2,2,2,1,2,1,2,2,2,2]\n\n- **seq** (int)\n  \n  \n  \n  \n  - Distinct Values: 6 (100% unique)\n  \n  - Possible Values: 1, 2, 3, 6, 5, 4\n  \n  \n  - Sample Values: [1,1,1,3,1,1,3,6,2,2,1,1,2,5,3,2,2,2,4,3]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"A hierarchical lookup table that defines inventory categories and sub‑categories used to classify products and assets within the system.\",\"reasoning\":\"The columns cat_id (unique primary key), prnt_id (references another cat_id as a parent), lvl (values 1 or 2 indicating hierarchy depth), seq (ordering within a parent), and the descriptive fields nm and dsc all point to a classic category tree. Sample values show typical category names (Electronics, Chairs, Supplies) and descriptions. No foreign keys are listed, confirming it is a foundational lookup table, likely the inv.cat table referenced by other inventory objects.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"cat_id\",\"description\":\"Unique identifier for each category record\",\"reasoning\":\"Distinct values equal row count (20) and marked PRIMARY KEY; sample values are sequential integers.\"},{\"columnName\":\"prnt_id\",\"description\":\"Identifier of the parent category, creating a self‑referencing hierarchy\",\"reasoning\":\"Low cardinality (6 distinct values) and typical parent IDs (1,4,7,10,16,19) indicate it points to other cat_id rows.\"},{\"columnName\":\"nm\",\"description\":\"Short name of the category (e.g., Electronics, Chairs)\",\"reasoning\":\"Distinct values equal row count, average length 7 chars, and sample values are clear category names.\"},{\"columnName\":\"dsc\",\"description\":\"Longer textual description of the category’s purpose or contents\",\"reasoning\":\"Distinct values equal row count, average length 26 chars, and samples are descriptive phrases matching the names.\"},{\"columnName\":\"lvl\",\"description\":\"Hierarchy level of the category (1 = top‑level, 2 = sub‑category)\",\"reasoning\":\"Only two distinct values (1 and 2) align with typical depth indicators.\"},{\"columnName\":\"seq\",\"description\":\"Display order of the category within its parent group\",\"reasoning\":\"Six distinct sequential values (1‑6) used to order siblings.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "cnt",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3021,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:07:47.490Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 250\n\n\n## Columns\n\n- **cnt_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 250 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [28,186,64,87,198,30,33,213,238,60,153,244,34,144,56,245,51,6,37,96]\n\n- **whs_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 3, 2, 1, 8, 7, 6, 5, 4\n  \n  \n  - Sample Values: [5,2,4,7,3,5,8,4,8,6,1,8,7,6,4,1,1,4,2,2]\n\n- **cnt_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 180 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-09-24T00:00:00.000Z\",\"2024-08-18T00:00:00.000Z\",\"2024-10-06T00:00:00.000Z\",\"2024-12-24T00:00:00.000Z\",\"2024-12-07T00:00:00.000Z\",\"2024-09-27T00:00:00.000Z\",\"2024-12-01T00:00:00.000Z\",\"2025-01-01T00:00:00.000Z\",\"2024-10-13T00:00:00.000Z\",\"2024-11-07T00:00:00.000Z\",\"2024-07-12T00:00:00.000Z\",\"2024-10-19T00:00:00.000Z\",\"2024-08-20T00:00:00.000Z\",\"2024-09-25T00:00:00.000Z\",\"2024-12-23T00:00:00.000Z\",\"2024-09-10T00:00:00.000Z\",\"2024-10-23T00:00:00.000Z\",\"2024-11-25T00:00:00.000Z\",\"2024-11-27T00:00:00.000Z\",\"2024-12-27T00:00:00.000Z\"]\n\n- **prd_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [66,28,40,114,47,140,136,141,95,19,112,37,28,160,117,23,85,143,189,155]\n\n- **exp_qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 250 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [269,77,180,75,126,287,129,261,241,288,121,153,84,127,277,214,71,116,210,128]\n\n- **act_qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 226 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [293,277,214,163,259,272,69,146,240,94,183,186,153,98,148,154,166,128,287,117]\n\n- **var** (int)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: 0, -5, 5, -10\n  \n  \n  - Sample Values: [0,0,0,0,0,0,0,0,0,-5,0,5,0,-10,0,0,0,0,-5,0]\n\n- **usr** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 248 (100% unique)\n  \n  \n  \n  - Avg Length: 13 chars\n  - Sample Values: [\"Eric Baker\",\"Steven Price\",\"John Cooper\",\"Sandra Hernandez\",\"Laura Williams\",\"Janet Long\",\"Jeffrey Flores\",\"Jeffrey Garcia\",\"Barbara Rogers\",\"Matthew Chavez\",\"Kathleen Wilson\",\"Heather Ross\",\"Rebecca King\",\"Paul Alvarez\",\"Patricia Cruz\",\"Matthew Sanders\",\"Shirley James\",\"Ashley Ortiz\",\"Maria Hill\",\"Sharon Nelson\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"This table stores inventory count (stock‑take) records. Each row captures the expected system quantity versus the physically counted quantity for a specific product in a specific warehouse on a particular date, together with the variance and the user who performed the count.\",\"reasoning\":\"Column names and types point to a stock‑taking process: cnt_id (unique count record), whs_id (warehouse identifier – values 1‑8 match typical warehouse IDs), cnt_dt (date of the count), prd_id (product identifier – many distinct values), exp_qty (expected quantity), act_qty (actual counted quantity), var (variance – small set of values like -10,-5,0,5), usr (name of the employee performing the count). The combination of cnt_id, whs_id, cnt_dt and prd_id is clearly a composite primary key, ensuring each count event is unique. No foreign keys are declared, but the values align with the inv.whs and inv.prd tables listed in the schema, confirming the inventory domain.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"cnt_id\",\"description\":\"Surrogate primary‑key for the count record; uniquely identifies each stock‑take entry.\",\"reasoning\":\"Distinct values equal row count (250) and column is marked PRIMARY KEY.\"},{\"columnName\":\"whs_id\",\"description\":\"Identifier of the warehouse where the count was performed; links to the inv.whs table.\",\"reasoning\":\"Only 8 distinct values (1‑8) typical for a small set of warehouses; marked PRIMARY KEY component.\"},{\"columnName\":\"cnt_dt\",\"description\":\"Date on which the inventory count took place.\",\"reasoning\":\"Date type with 180 distinct values, each row has its own count date; part of the composite key.\"},{\"columnName\":\"prd_id\",\"description\":\"Identifier of the product being counted; links to the inv.prd table.\",\"reasoning\":\"200 distinct values, high cardinality, marked PRIMARY KEY component.\"},{\"columnName\":\"exp_qty\",\"description\":\"Quantity the system expected to have on hand before the physical count.\",\"reasoning\":\"Integer values, unique per row, represents planned stock level.\"},{\"columnName\":\"act_qty\",\"description\":\"Quantity actually observed during the physical count.\",\"reasoning\":\"Integer values, mostly unique, represents counted stock level.\"},{\"columnName\":\"var\",\"description\":\"Variance between expected and actual quantities (exp_qty‑act_qty); limited to a few discrete values.\",\"reasoning\":\"Only four possible values (0, -5, 5, -10) indicating small adjustments.\"},{\"columnName\":\"usr\",\"description\":\"Name of the user/employee who performed the count.\",\"reasoning\":\"NVARCHAR with 248 distinct values, average length 13, typical for employee names.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[{\"parentTable\":\"inv.whs\",\"insight\":\"The warehouse table likely contains exactly 8 warehouse records (IDs 1‑8) as inferred from the distinct whs_id values in this count table.\",\"confidence\":0.88},{\"parentTable\":\"inv.prd\",\"insight\":\"The product table contains at least 200 distinct products (product IDs) as shown by the distinct prd_id values here.\",\"confidence\":0.87}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "po",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.93",
            "tokensUsed": 3191,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:07:49.938Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 150\n\n\n## Columns\n\n- **po_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [114,112,110,127,145,126,128,63,132,2,66,77,52,79,135,88,65,82,93,146]\n\n- **sup_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [9,7,22,9,2,17,7,4,2,17,4,3,25,23,8,16,5,15,15,22]\n\n- **po_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-09-22T00:00:00.000Z\",\"2024-11-05T00:00:00.000Z\",\"2024-09-07T00:00:00.000Z\",\"2024-11-01T00:00:00.000Z\",\"2024-08-25T00:00:00.000Z\",\"2024-08-23T00:00:00.000Z\",\"2024-08-24T00:00:00.000Z\",\"2024-10-27T00:00:00.000Z\",\"2024-09-28T00:00:00.000Z\",\"2024-12-26T00:00:00.000Z\",\"2024-12-14T00:00:00.000Z\",\"2024-10-31T00:00:00.000Z\",\"2024-10-04T00:00:00.000Z\",\"2024-11-17T00:00:00.000Z\",\"2024-08-19T00:00:00.000Z\",\"2024-11-08T00:00:00.000Z\",\"2024-10-13T00:00:00.000Z\",\"2024-09-08T00:00:00.000Z\",\"2024-08-22T00:00:00.000Z\",\"2024-12-30T00:00:00.000Z\"]\n\n- **exp_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-09-01T00:00:00.000Z\",\"2024-10-30T00:00:00.000Z\",\"2024-09-07T00:00:00.000Z\",\"2024-12-06T00:00:00.000Z\",\"2024-12-24T00:00:00.000Z\",\"2024-12-28T00:00:00.000Z\",\"2024-11-28T00:00:00.000Z\",\"2024-12-12T00:00:00.000Z\",\"2024-09-20T00:00:00.000Z\",\"2024-12-10T00:00:00.000Z\",\"2025-01-07T00:00:00.000Z\",\"2024-11-11T00:00:00.000Z\",\"2024-12-26T00:00:00.000Z\",\"2024-08-27T00:00:00.000Z\",\"2024-08-28T00:00:00.000Z\",\"2024-10-20T00:00:00.000Z\",\"2025-01-12T00:00:00.000Z\",\"2024-08-24T00:00:00.000Z\",\"2024-11-22T00:00:00.000Z\",\"2024-09-02T00:00:00.000Z\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: X, S, R, P, A\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"X\",\"P\",\"A\",\"P\",\"P\",\"P\",\"R\",\"S\",\"P\",\"P\",\"X\",\"S\",\"S\",\"R\",\"P\",\"S\",\"R\",\"A\",\"P\",\"X\"]\n\n- **tot** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [3800,6650,13550,6950,13250,14900,11900,8450,9950,2450,2150,2300,7250,5900,6050,11150,3500,11750,2600,3200]\n\n- **ship_amt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: 150, 0\n  \n  \n  - Sample Values: [150,150,0,150,0,0,150,150,0,150,150,150,0,150,0,150,150,0,150,150]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 1 (50% unique)\n  - Nulls: 67.5%\n  - Possible Values: Expedited shipping requested\n  \n  - Avg Length: 28 chars\n  - Sample Values: [\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\",\"Expedited shipping requested\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge and optional notes.\",\"reasoning\":\"Column names po_id (order id) and sup_id (supplier id) together form the primary key, indicating a purchase order record. po_dt and exp_dt are dates typical for order and expected delivery. sts holds single‑character status codes (X,S,R,P,A). tot is a monetary total, ship_amt is a fixed shipping fee (0 or 150). notes is a nullable free‑text field, mostly containing 'Expedited shipping requested'. The pattern matches the inv.po table used for managing supplier purchase orders.\",\"confidence\":0.93,\"columnDescriptions\":[{\"columnName\":\"po_id\",\"description\":\"Unique identifier for the purchase order\",\"reasoning\":\"150 distinct values for 150 rows and named po_id, a classic primary key for order headers.\"},{\"columnName\":\"sup_id\",\"description\":\"Identifier of the supplier associated with the order\",\"reasoning\":\"Typical foreign‑key to inv.sup; distinct values (≈25) suggest multiple suppliers.\"},{\"columnName\":\"po_dt\",\"description\":\"Date the purchase order was created\",\"reasoning\":\"Date column with unique values matching order creation dates.\"},{\"columnName\":\"exp_dt\",\"description\":\"Expected delivery date for the order\",\"reasoning\":\"Date column paired with po_dt, representing when goods are expected.\"},{\"columnName\":\"sts\",\"description\":\"Current status of the purchase order (single‑letter code)\",\"reasoning\":\"Char column with five distinct single‑letter values (X,S,R,P,A) typical for status enums.\"},{\"columnName\":\"tot\",\"description\":\"Total monetary amount of the purchase order\",\"reasoning\":\"Decimal column with many unique values, representing order totals.\"},{\"columnName\":\"ship_amt\",\"description\":\"Shipping charge applied to the order (0 or 150)\",\"reasoning\":\"Decimal with only two possible values, indicating a fixed shipping fee flag.\"},{\"columnName\":\"notes\",\"description\":\"Optional free‑text notes, often indicating expedited shipping\",\"reasoning\":\"Nullable nvarchar with a single repeated phrase, used for special instructions.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"inv.sup\",\"insight\":\"The sup_id values (25 distinct) reveal that the supplier table contains at least 25 active suppliers referenced by purchase orders.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "po_dtl",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.93",
            "tokensUsed": 2874,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:07:53.214Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 750\n\n\n## Columns\n\n- **po_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [135,111,82,141,8,91,19,49,107,148,149,40,38,127,119,50,69,134,124,31]\n\n- **seq** (int) NOT NULL\n  \n  \n  \n  \n  - Distinct Values: 7 (100% unique)\n  \n  - Possible Values: 1, 3, 2, 4, 5, 6, 7\n  \n  \n  - Sample Values: [3,7,6,6,7,1,7,1,2,3,2,3,4,3,3,3,5,1,7,1]\n\n- **prd_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [195,2,141,84,77,104,161,159,109,3,29,122,40,97,151,106,1,37,55,155]\n\n- **qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 7 (100% unique)\n  \n  - Possible Values: 100, 200, 150, 250, 300, 350, 400\n  \n  \n  - Sample Values: [100,250,100,150,100,100,200,100,150,300,100,200,100,350,200,250,200,250,250,300]\n\n- **prc** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [225,525,745,475,365,605,305,155,45,985,465,175,825,605,875,845,185,35,555,655]\n\n- **rcv_qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 11 (100% unique)\n  \n  - Possible Values: 150, 200, 100, 250, 300, 350, 80, 400, 290, 160, 330\n  \n  \n  - Sample Values: [150,300,350,150,200,200,250,100,300,160,350,150,150,100,300,150,80,160,100,100]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores line‑item details for purchase orders, linking each purchase order (po_id) to a product (prd_id) with ordered quantity, unit price and received quantity. Each row represents one product line on a PO.\",\"reasoning\":\"Column names po_id, prd_id, qty, prc and rcv_qty together match typical purchase‑order line‑item data. po_id and prd_id are marked PRIMARY KEY, indicating a composite key. seq has low cardinality (1‑7) suggesting line sequence within a PO. Sample values for qty and rcv_qty are typical order quantities. No foreign keys are declared, but the naming convention aligns with tables inv.po and inv.prd, implying logical relationships.\",\"confidence\":0.93,\"columnDescriptions\":[{\"columnName\":\"po_id\",\"description\":\"Identifier of the purchase order this line belongs to\",\"reasoning\":\"Name and uniqueness (150 distinct values) indicate it is a foreign key to a purchase‑order header table (inv.po).\"},{\"columnName\":\"seq\",\"description\":\"Line sequence number of the item within the purchase order\",\"reasoning\":\"Only 7 distinct values (1‑7) and sample values show ordering, typical for line numbers.\"},{\"columnName\":\"prd_id\",\"description\":\"Identifier of the product being ordered\",\"reasoning\":\"Marked PRIMARY KEY, 200 distinct values, matches product table (inv.prd).\"},{\"columnName\":\"qty\",\"description\":\"Quantity ordered for the product\",\"reasoning\":\"Limited set of possible values (100‑400) typical for order quantities.\"},{\"columnName\":\"prc\",\"description\":\"Unit price of the product at the time of ordering\",\"reasoning\":\"Decimal column with many distinct values, aligns with price information.\"},{\"columnName\":\"rcv_qty\",\"description\":\"Quantity of the product that has been received against the order line\",\"reasoning\":\"Possible values overlap with qty but include variations, indicating receipt tracking.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[{\"parentTable\":\"inv.po\",\"insight\":\"Purchase orders can contain up to 7 line items (seq 1‑7) and each line records ordered and received quantities, suggesting the header table tracks overall order status.\",\"confidence\":0.85},{\"parentTable\":\"inv.prd\",\"insight\":\"Product table likely contains at least 200 distinct products, as referenced by prd_id in this detail table.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "prd",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3464,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:07:56.213Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 177\n\n\n## Columns\n\n- **prd_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 177 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [130,158,141,111,62,144,31,38,110,1,167,149,103,102,163,136,98,30,145,2]\n\n- **cat_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 11 (100% unique)\n  \n  - Possible Values: 3, 6, 9, 11, 8, 5, 2, 15, 14, 13, 12\n  \n  \n  - Sample Values: [2,8,11,5,12,14,14,5,9,6,3,11,6,2,9,15,6,6,2,5]\n\n- **sup_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [14,19,22,21,5,5,6,17,14,7,13,9,19,2,14,3,7,3,16,15]\n\n- **sku** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 177 (100% unique)\n  \n  \n  \n  - Avg Length: 8 chars\n  - Sample Values: [\"SKU-0026\",\"SKU-0152\",\"SKU-0029\",\"SKU-0078\",\"SKU-0137\",\"SKU-0051\",\"SKU-0072\",\"SKU-0115\",\"SKU-0058\",\"SKU-0106\",\"SKU-0143\",\"SKU-0171\",\"SKU-0052\",\"SKU-0092\",\"SKU-0142\",\"SKU-0075\",\"SKU-0010\",\"SKU-0109\",\"SKU-0011\",\"SKU-0094\"]\n\n- **nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 177 (100% unique)\n  \n  \n  \n  - Avg Length: 31 chars\n  - Sample Values: [\"HON Ignition 2.0 Chair\",\"Hammermill Premium Paper - Variant 2\",\"AmazonBasics Manila Folders - Variant 3\",\"Smead Hanging File Folders - Variant 2\",\"Georgia-Pacific Copy Paper - Variant 2\",\"FlexiSpot Electric Desk - Variant 2\",\"Bush Furniture L-Shaped Desk\",\"Sharpie Permanent Markers - Variant 3\",\"Laptop Stand Aluminum - Variant 2\",\"HP OfficeJet Pro 9015e - Variant 3\",\"IKEA BEKANT Desk 63\\\" - Variant 3\",\"Paper Mate Mechanical Pencils - Variant 2\",\"WD 4TB External Hard Drive - Variant 2\",\"HON 4-Drawer File Cabinet\",\"Georgia-Pacific Copy Paper\",\"Lorell 5-Shelf Bookcase - Variant 3\",\"Kensington Laptop Lock\",\"Paper Mate Mechanical Pencils - Variant 3\",\"Microsoft Ergonomic Keyboard - Variant 3\",\"Pendaflex File Folders Letter - Variant 2\"]\n\n- **dsc** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 59 (100% unique)\n  \n  \n  \n  - Avg Length: 33 chars\n  - Sample Values: [\"Premium braided USB-C charging cable\",\"Professional USB microphone for recording\",\"Wood veneer bookshelf 72\\\" high\",\"Quick-drying ink pens variety pack\",\"Cube storage organizer\",\"Flatbed scanner for photos\",\"Heavy-duty view binder\",\"Cartridge-free supertank printer\",\"Insertable dividers for binders\",\"Rolling file cabinet with drawers\",\"Plastic 3-drawer organizer\",\"Premium braided USB-C charging cable\",\"High-performance desktop computer with Intel Core i7 processor\",\"100-pack manila file folders\",\"Economical multipurpose paper 5 reams\",\"Chisel tip highlighters assorted\",\"Business laptop with 14\\\" display and SSD storage\",\"Budget-friendly desk chair\",\"Heavy-duty view binder\",\"Color laser all-in-one printer\"]\n\n- **prc** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 127 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [2874.99,549.99,14.94,329.99,24.99,1943.5,436.99,1724.99,80.49,17.24,39.99,229.99,1494.99,45.99,1299.99,129.99,40.24,14.94,18.39,1272.7]\n\n- **cost** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 127 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [896.99,428.99,8.96,101.39,10.13,77.99,329.99,70.19,275.99,272.99,23.99,701.99,26.99,29.99,7.79,137.99,296.39,17.24,10.34,14.99]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: A, O, D\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"D\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\"]\n\n- **wgt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 52 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [0.1,10,15,28,14,45,0.2,6,9,10,8,47,46,9,7,9,10,5,0.1,44]\n\n- **uom** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: EA, BX, CS\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"EA\",\"EA\",\"EA\",\"EA\",\"EA\",\"EA\",\"EA\",\"CS\",\"EA\",\"EA\",\"EA\",\"BX\",\"EA\",\"BX\",\"EA\",\"CS\",\"EA\",\"EA\",\"BX\",\"CS\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"tableDescription\": \"Master product table storing detailed information for each inventory item, including identifiers, categorization, supplier, SKU, name, description, pricing, cost, status, weight and unit of measure.\",\n  \"reasoning\": \"The presence of a unique primary key (prd_id) together with cat_id and sup_id suggests linkage to category and supplier tables. Columns sku, nm, dsc, prc, cost, sts, wgt, and uom are typical attributes of a product master record. Sample values (e.g., SKU-0026, \\\"HON Ignition 2.0 Chair\\\", price 2874.99, status A) reinforce this interpretation. Although no foreign keys are enforced, the column names and distinct value counts align with expected lookup relationships in an inventory schema.\",\n  \"confidence\": 0.96,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"prd_id\",\n      \"description\": \"Unique product identifier (primary key) for each row.\",\n      \"reasoning\": \"Distinct values equal row count (177) and marked as PRIMARY KEY.\"\n    },\n    {\n      \"columnName\": \"cat_id\",\n      \"description\": \"Identifier of the product's category, likely referencing inv.cat.\",\n      \"reasoning\": \"Low cardinality (11 distinct values) and typical naming convention for category foreign key.\"\n    },\n    {\n      \"columnName\": \"sup_id\",\n      \"description\": \"Identifier of the supplier providing the product, likely referencing inv.sup.\",\n      \"reasoning\": \"Distinct values (25) suggest a lookup to a supplier table; column name follows supplier naming pattern.\"\n    },\n    {\n      \"columnName\": \"sku\",\n      \"description\": \"Stock Keeping Unit code used for inventory tracking.\",\n      \"reasoning\": \"Unique alphanumeric strings prefixed with \\\"SKU-\\\" and 100% uniqueness.\"\n    },\n    {\n      \"columnName\": \"nm\",\n      \"description\": \"Human‑readable product name.\",\n      \"reasoning\": \"Text values describe actual products (chairs, paper, desks) and are unique per product.\"\n    },\n    {\n      \"columnName\": \"dsc\",\n      \"description\": \"Short product description or marketing copy.\",\n      \"reasoning\": \"Text strings provide additional detail; distinct values indicate descriptive field.\"\n    },\n    {\n      \"columnName\": \"prc\",\n      \"description\": \"Selling price of the product.\",\n      \"reasoning\": \"Decimal values with a wide range, typical for retail price.\"\n    },\n    {\n      \"columnName\": \"cost\",\n      \"description\": \"Cost to acquire or produce the product.\",\n      \"reasoning\": \"Decimal values, generally lower than prc, representing internal cost.\"\n    },\n    {\n      \"columnName\": \"sts\",\n      \"description\": \"Product status flag (A=Active, O=On hold?, D=Discontinued).\",\n      \"reasoning\": \"Single‑character column with three possible values; common pattern for status enums.\"\n    },\n    {\n      \"columnName\": \"wgt\",\n      \"description\": \"Weight of the product, measured in the unit defined by uom.\",\n      \"reasoning\": \"Decimal values with varied magnitude; typical for physical weight attribute.\"\n    },\n    {\n      \"columnName\": \"uom\",\n      \"description\": \"Unit of measure for quantity (EA=Each, BX=Box, CS=Case).\",\n      \"reasoning\": \"Char column with three known codes, matching common inventory UOM conventions.\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"inv.cat\",\n      \"insight\": \"The product table uses 11 distinct cat_id values, indicating that inv.cat likely defines 11 product categories.\",\n      \"confidence\": 0.88\n    },\n    {\n      \"parentTable\": \"inv.sup\",\n      \"insight\": \"Suppliers are referenced by sup_id with 25 distinct values, suggesting inv.sup contains at least 25 supplier records.\",\n      \"confidence\": 0.85\n    }\n  ]\n}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "rcv",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.90",
            "tokensUsed": 2511,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:07:58.308Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 120\n\n\n## Columns\n\n- **rcv_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 120 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [24,84,9,63,79,61,39,101,107,51,52,49,28,42,82,111,22,83,58,86]\n\n- **po_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 120 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [51,47,49,29,33,4,79,6,83,82,27,66,52,99,58,120,119,70,19,65]\n\n- **rcv_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 120 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-12-09T00:00:00.000Z\",\"2024-12-19T00:00:00.000Z\",\"2024-09-27T00:00:00.000Z\",\"2024-10-28T00:00:00.000Z\",\"2024-11-18T00:00:00.000Z\",\"2024-10-04T00:00:00.000Z\",\"2024-10-09T00:00:00.000Z\",\"2025-01-04T00:00:00.000Z\",\"2024-12-23T00:00:00.000Z\",\"2024-11-13T00:00:00.000Z\",\"2024-11-15T00:00:00.000Z\",\"2025-01-15T00:00:00.000Z\",\"2024-10-18T00:00:00.000Z\",\"2024-12-02T00:00:00.000Z\",\"2024-09-29T00:00:00.000Z\",\"2024-11-16T00:00:00.000Z\",\"2025-01-02T00:00:00.000Z\",\"2025-01-13T00:00:00.000Z\",\"2024-09-20T00:00:00.000Z\",\"2024-10-25T00:00:00.000Z\"]\n\n- **whs_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 8, 7, 6, 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [6,8,6,8,8,3,5,4,2,4,3,4,8,7,2,6,1,1,4,2]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 1 (100% unique)\n  - Nulls: 112%\n  - Possible Values: Partial shipment received - balance on backorder\n  \n  - Avg Length: 48 chars\n  - Sample Values: [\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\",\"Partial shipment received - balance on backorder\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores records of goods received against purchase orders, capturing when and where each receipt occurred and any notes about partial shipments or backorders.\",\"reasoning\":\"Column names rcv_id (receipt identifier), po_id (purchase order reference), rcv_dt (receipt date), whs_id (warehouse identifier) and notes indicating partial shipment suggest this table logs receipt events. Sample values show unique IDs and dates in the near future, and notes are consistently about partial shipments, implying a receipt of inventory. The likely foreign keys are po_id → inv.po and whs_id → inv.whs, fitting the inventory domain.\",\"confidence\":0.9,\"columnDescriptions\":[{\"columnName\":\"rcv_id\",\"description\":\"Unique identifier for each receipt record\",\"reasoning\":\"Primary key with 100% uniqueness and integer type; sample values are distinct.\"},{\"columnName\":\"po_id\",\"description\":\"Identifier of the purchase order associated with the receipt\",\"reasoning\":\"Primary key flag and unique values; name and sample values match purchase order IDs, likely FK to inv.po.\"},{\"columnName\":\"rcv_dt\",\"description\":\"Date the goods were received\",\"reasoning\":\"Date type with unique values per row; sample values are recent dates.\"},{\"columnName\":\"whs_id\",\"description\":\"Identifier of the warehouse where the receipt was logged\",\"reasoning\":\"Low cardinality (8 distinct values) typical of warehouse enumeration; possible values 1‑8 and likely FK to inv.whs.\"},{\"columnName\":\"notes\",\"description\":\"Optional free‑text notes about the receipt, often indicating partial shipment or backorder\",\"reasoning\":\"String column with high null rate; only observed value is 'Partial shipment received - balance on backorder', indicating its purpose.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[{\"parentTable\":\"inv.po\",\"insight\":\"The frequent note 'Partial shipment received - balance on backorder' reveals that purchase orders in inv.po can be partially fulfilled, implying the PO table tracks backorder quantities.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "stk",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3153,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:00.810Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 1120\n\n\n## Columns\n\n- **prd_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [5,27,141,185,28,100,177,175,185,99,77,57,124,101,98,199,89,159,156,64]\n\n- **whs_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 8, 2, 5, 4, 1, 7, 6, 3\n  \n  \n  - Sample Values: [7,8,6,3,5,5,6,4,2,8,5,4,4,5,7,7,3,5,8,3]\n\n- **qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 410 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [1120,6930,5170,8400,3960,8800,1680,4800,10670,5580,12480,7020,3240,3600,5900,80,520,5400,3600,3240]\n\n- **rsv** (int)\n  \n  \n  \n  \n  - Distinct Values: 406 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [1056,837,117,648,564,24,720,470,498,672,621,513,690,1164,261,810,570,560,712,190]\n\n- **min_qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 50 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [30,53,49,33,33,42,19,36,25,40,30,43,37,15,58,59,56,32,54,37]\n\n- **max_qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 50 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [1020,720,540,780,320,960,520,400,680,1140,300,920,600,1040,600,500,1140,520,1040,920]\n\n- **lst_cnt** (date)\n  \n  \n  \n  \n  - Distinct Values: 63 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-10-31T00:00:00.000Z\",\"2024-12-10T00:00:00.000Z\",\"2024-12-11T00:00:00.000Z\",\"2024-10-21T00:00:00.000Z\",\"2024-11-08T00:00:00.000Z\",\"2024-10-28T00:00:00.000Z\",\"2024-10-27T00:00:00.000Z\",\"2024-12-07T00:00:00.000Z\",\"2024-11-27T00:00:00.000Z\",\"2024-11-26T00:00:00.000Z\",\"2024-12-12T00:00:00.000Z\",\"2024-11-28T00:00:00.000Z\",\"2024-10-28T00:00:00.000Z\",\"2024-10-19T00:00:00.000Z\",\"2024-11-01T00:00:00.000Z\",\"2024-10-17T00:00:00.000Z\",\"2024-12-29T00:00:00.000Z\",\"2024-12-08T00:00:00.000Z\",\"2024-12-17T00:00:00.000Z\",\"2024-12-22T00:00:00.000Z\"]\n\n- **lst_rcv** (date)\n  \n  \n  \n  \n  - Distinct Values: 21 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-12-10T00:00:00.000Z\",\"2024-12-12T00:00:00.000Z\",\"2024-12-20T00:00:00.000Z\",\"2024-12-06T00:00:00.000Z\",\"2024-12-10T00:00:00.000Z\",\"2025-01-01T00:00:00.000Z\",\"2024-12-08T00:00:00.000Z\",\"2024-12-19T00:00:00.000Z\",\"2024-12-18T00:00:00.000Z\",\"2024-12-07T00:00:00.000Z\",\"2024-12-09T00:00:00.000Z\",\"2024-12-27T00:00:00.000Z\",\"2025-01-01T00:00:00.000Z\",\"2024-12-27T00:00:00.000Z\",\"2024-12-19T00:00:00.000Z\",\"2024-12-07T00:00:00.000Z\",\"2024-12-08T00:00:00.000Z\",\"2024-12-28T00:00:00.000Z\",\"2024-12-06T00:00:00.000Z\",\"2024-12-12T00:00:00.000Z\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores inventory levels and stock thresholds for each product at each warehouse, tracking on‑hand quantity, reserved quantity, and recent count/receipt dates.\",\"reasoning\":\"Column names prd_id and whs_id form a composite primary key, indicating a many‑to‑many relationship between products and warehouses. qty and rsv are numeric quantities typical for stock on hand and reserved stock. min_qty and max_qty are typical reorder or safety‑stock limits. lst_cnt and lst_rcv are dates matching inventory count and receipt events. Sample values (e.g., product IDs 5‑199, warehouse IDs 1‑8) and distinct counts support this interpretation. No foreign keys are declared, but the naming aligns with the inv.prd and inv.whs tables in the schema.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"prd_id\",\"description\":\"Identifier of the product; links to inv.prd table\",\"reasoning\":\"Primary key component, integer, 200 distinct values matching typical product catalog size.\"},{\"columnName\":\"whs_id\",\"description\":\"Identifier of the warehouse; links to inv.whs table\",\"reasoning\":\"Primary key component, integer, 8 distinct values representing a small set of warehouse locations.\"},{\"columnName\":\"qty\",\"description\":\"Current on‑hand quantity of the product at the warehouse\",\"reasoning\":\"Integer with many distinct values; sample values are typical stock levels.\"},{\"columnName\":\"rsv\",\"description\":\"Quantity of the product reserved for pending orders\",\"reasoning\":\"Integer similar to qty; represents reserved stock.\"},{\"columnName\":\"min_qty\",\"description\":\"Minimum desired stock level (reorder point) for the product at the warehouse\",\"reasoning\":\"Integer with 50 distinct values; typical for safety‑stock thresholds.\"},{\"columnName\":\"max_qty\",\"description\":\"Maximum allowable stock level for the product at the warehouse\",\"reasoning\":\"Integer with 50 distinct values; complements min_qty as upper threshold.\"},{\"columnName\":\"lst_cnt\",\"description\":\"Date of the last physical inventory count for this product‑warehouse pair\",\"reasoning\":\"Date values in late 2024; aligns with periodic counting cycles.\"},{\"columnName\":\"lst_rcv\",\"description\":\"Date of the most recent stock receipt for this product‑warehouse pair\",\"reasoning\":\"Date values clustered in Dec 2024–Jan 2025, indicating recent replenishment events.\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[{\"parentTable\":\"inv.prd\",\"insight\":\"The presence of prd_id confirms that each product is tracked across multiple warehouses, implying inv.prd holds product master data used here for stock allocation.\",\"confidence\":0.85},{\"parentTable\":\"inv.whs\",\"insight\":\"The whs_id values (1‑8) show a limited set of warehouse locations, indicating inv.whs defines the warehouse entities referenced for inventory tracking.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "sup",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2571,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:02.585Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 25\n\n\n## Columns\n\n- **sup_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [14,21,15,10,12,13,5,4,3,19,20,23,2,1,24,9,18,7,25,11]\n\n- **nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  - Avg Length: 23 chars\n  - Sample Values: [\"Metro Electronics Ltd\",\"Quality Paper & Supplies\",\"Corporate Furniture Group\",\"QuickShip Business Supplies\",\"Furniture Warehouse Direct\",\"Global Electronics Inc\",\"Premium Furniture Wholesale\",\"Reliable Office Equipment\",\"Discount Supply Warehouse\",\"TechWorld Distributors\",\"Tech Solutions Distributors\",\"TechPro Supply Chain\",\"Premium Paper Products\",\"Budget Office Furniture\",\"National Supply Partners\",\"Nationwide Furniture Co\",\"Elite Tech Distributors\",\"Office Essentials Plus\",\"ProOffice Distributors\",\"Wholesale Office Solutions\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: A, T, S, I\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"A\",\"A\",\"A\",\"I\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"S\",\"T\",\"A\"]\n\n- **pmt_trm** (char)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: N30, N60, N45, N15, COD\n  \n  - Avg Length: 3 chars\n  - Sample Values: [\"N30\",\"N30\",\"N60\",\"N30\",\"N30\",\"N30\",\"N30\",\"N30\",\"N15\",\"COD\",\"COD\",\"N60\",\"N30\",\"N30\",\"N60\",\"N60\",\"N60\",\"N45\",\"N15\",\"N45\"]\n\n- **rtg** (tinyint)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [4,4,3,4,2,5,4,4,5,5,4,5,1,4,4,5,5,5,5,4]\n\n- **cnt_nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  - Avg Length: 13 chars\n  - Sample Values: [\"Daniel Robinson\",\"Matthew Rodriguez\",\"James Garcia\",\"Christopher Taylor\",\"Karen Martinez\",\"Michael Chen\",\"Jennifer Martinez\",\"John Wilson\",\"Linda Anderson\",\"Lisa Thompson\",\"Sarah Johnson\",\"Barbara Jackson\",\"David Anderson\",\"Charles Garcia\",\"Susan Harris\",\"Betty Lewis\",\"Robert Williams\",\"Jessica Thompson\",\"Richard White\",\"Patricia Moore\"]\n\n- **cnt_phn** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  - Avg Length: 8 chars\n  - Sample Values: [\"555-0112\",\"555-0106\",\"555-0120\",\"555-0102\",\"555-0125\",\"555-0123\",\"555-0118\",\"555-0115\",\"555-0121\",\"555-0105\",\"555-0104\",\"555-0111\",\"555-0114\",\"555-0117\",\"555-0108\",\"555-0122\",\"555-0116\",\"555-0124\",\"555-0119\",\"555-0107\"]\n\n- **cnt_eml** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 25 (100% unique)\n  \n  \n  \n  - Avg Length: 22 chars\n  - Sample Values: [\"mrodriguez@budgetfurn.com\",\"rwilliams@premiumfurn.com\",\"lthompson@premiumpaper.com\",\"blewis@continental.com\",\"jthompson@techpro.com\",\"jgarcia@reliable.com\",\"mthomas@natsupply.com\",\"alee@discountsupply.com\",\"cgarcia@officeess.com\",\"rwhite@qualitypaper.com\",\"mchen@techsolutions.com\",\"nclark@nationwide.com\",\"sharris@prooffice.com\",\"danderson@quickship.com\",\"jwilson@elitetech.com\",\"pmoore@express.com\",\"landerson@wholesale.com\",\"bjackson@metroelec.com\",\"ctaylor@corpfurn.com\",\"mrodriguez@techworld.com\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores master information about suppliers/vendors that provide products to the company, including their identifier, name, status, payment terms, rating, and primary contact details.\",\"reasoning\":\"The primary key sup_id uniquely identifies each row (25 distinct values for 25 rows). Column nm holds supplier names (e.g., \\\"Metro Electronics Ltd\\\"). sts contains single‑character status codes (A, T, S, I) typical for active/inactive flags. pmt_trm lists payment terms (N30, N60, COD, etc.). rtg is a numeric rating from 1‑5. cnt_nm, cnt_phn, cnt_eml clearly represent the contact person's name, phone, and email. The combination of these fields matches a classic supplier master table, and the list of possible parent tables includes inv.sup, confirming the inference.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"sup_id\",\"description\":\"Unique identifier for each supplier (primary key).\",\"reasoning\":\"Primary key with 100% uniqueness across 25 rows.\"},{\"columnName\":\"nm\",\"description\":\"Legal or trade name of the supplier.\",\"reasoning\":\"String values are company names; distinct for each supplier.\"},{\"columnName\":\"sts\",\"description\":\"Current status of the supplier (e.g., A=Active, I=Inactive, S=Suspended, T=Terminated).\",\"reasoning\":\"Single‑character codes with four distinct values, typical status enumeration.\"},{\"columnName\":\"pmt_trm\",\"description\":\"Standard payment terms offered to the supplier (e.g., Net 30, Net 60, COD).\",\"reasoning\":\"Values like N30, N60, N15, N45, COD indicate payment term codes.\"},{\"columnName\":\"rtg\",\"description\":\"Supplier rating on a scale of 1 (lowest) to 5 (highest).\",\"reasoning\":\"Tinyint with values 1‑5, representing a rating metric.\"},{\"columnName\":\"cnt_nm\",\"description\":\"Name of the primary contact person for the supplier.\",\"reasoning\":\"Distinct personal names, one per supplier.\"},{\"columnName\":\"cnt_phn\",\"description\":\"Phone number of the primary contact.\",\"reasoning\":\"Formatted as 555‑xxxx, unique per supplier.\"},{\"columnName\":\"cnt_eml\",\"description\":\"Email address of the primary contact.\",\"reasoning\":\"Unique email addresses matching contact names and supplier domains.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[]}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "whs",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.97",
            "tokensUsed": 2407,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:04.686Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 8\n\n\n## Columns\n\n- **whs_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 8, 7, 6, 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [3,5,1,7,8,2,4,6]\n\n- **cd** (char)\n  \n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: SEA, NYC, MIA, LAX, DEN, DAL, CHI, ATL\n  \n  - Avg Length: 3 chars\n  - Sample Values: [\"LAX\",\"SEA\",\"DEN\",\"DAL\",\"MIA\",\"NYC\",\"ATL\",\"CHI\"]\n\n- **nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: Seattle Regional Warehouse, New York Regional Hub, Miami Distribution Center, Los Angeles Distribution, Denver Regional Hub, Dallas Regional Center, Chicago Distribution Center, Atlanta Distribution Hub\n  \n  - Avg Length: 23 chars\n  - Sample Values: [\"Denver Regional Hub\",\"Chicago Distribution Center\",\"Atlanta Distribution Hub\",\"Seattle Regional Warehouse\",\"New York Regional Hub\",\"Dallas Regional Center\",\"Los Angeles Distribution\",\"Miami Distribution Center\"]\n\n- **cty** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: Seattle, New York, Miami, Los Angeles, Denver, Dallas, Chicago, Atlanta\n  \n  - Avg Length: 7 chars\n  - Sample Values: [\"Miami\",\"Los Angeles\",\"Atlanta\",\"Denver\",\"Dallas\",\"New York\",\"Seattle\",\"Chicago\"]\n\n- **st** (char)\n  \n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: WA, TX, NY, IL, GA, FL, CO, CA\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"FL\",\"WA\",\"TX\",\"NY\",\"CO\",\"CA\",\"GA\",\"IL\"]\n\n- **typ** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: R, M, D\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"R\",\"R\",\"R\",\"D\",\"R\",\"M\",\"D\",\"M\"]\n\n- **cap** (int)\n  \n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 250000, 220000, 200000, 180000, 150000, 140000, 120000, 100000\n  \n  \n  - Sample Values: [250000,150000,200000,120000,220000,140000,100000,180000]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: A, M\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"M\",\"A\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Master table storing information about each warehouse used in the inventory system, including its identifier, code, name, location, type, capacity and operational status.\",\"reasoning\":\"The primary key whs_id uniquely identifies each record (8 distinct values for 8 rows). The cd column contains three‑letter city/airport codes (e.g., LAX, SEA) matching the cities listed in cty and states in st, indicating a warehouse code. The nm column holds the full descriptive name of the warehouse. cty and st provide city and state locations. typ has three distinct single‑letter values (R, M, D) typical for categorical enums such as Regional, Manufacturing, Distribution. cap holds large integer values consistent with storage capacity. sts contains A and M, a common active/maintenance status flag. No foreign keys are present, confirming it as a foundational lookup table for warehouses (inv.whs).\",\"confidence\":0.97,\"columnDescriptions\":[{\"columnName\":\"whs_id\",\"description\":\"Unique integer identifier for each warehouse record\",\"reasoning\":\"Primary key, 100% unique, values 1‑8\"},{\"columnName\":\"cd\",\"description\":\"Three‑character warehouse code, usually an airport or city abbreviation\",\"reasoning\":\"Char(3) values like LAX, SEA correspond to city/state columns\"},{\"columnName\":\"nm\",\"description\":\"Full descriptive name of the warehouse or distribution center\",\"reasoning\":\"nvarchar values such as 'Seattle Regional Warehouse' provide human‑readable names\"},{\"columnName\":\"cty\",\"description\":\"City where the warehouse is located\",\"reasoning\":\"Distinct city names matching the codes in cd\"},{\"columnName\":\"st\",\"description\":\"Two‑letter state abbreviation for the warehouse location\",\"reasoning\":\"Char(2) values like WA, TX align with city data\"},{\"columnName\":\"typ\",\"description\":\"Warehouse type/category (R=Regional, M=Manufacturing, D=Distribution)\",\"reasoning\":\"Low‑cardinality enum with values R, M, D typical for type classification\"},{\"columnName\":\"cap\",\"description\":\"Storage capacity of the warehouse (e.g., square feet or cubic units)\",\"reasoning\":\"Large integer values ranging from 100,000 to 250,000 suggest capacity metrics\"},{\"columnName\":\"sts\",\"description\":\"Operational status flag (A=Active, M=Maintenance/Closed)\",\"reasoning\":\"Two distinct values, predominantly A, indicating active status\"}],\"inferredBusinessDomain\":\"Inventory\",\"parentTableInsights\":[]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "addr",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2883,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:07.110Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 800\n\n\n## Columns\n\n- **addr_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 800 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [88,400,323,564,576,93,746,269,98,45,528,343,35,708,75,588,539,145,302,235]\n\n- **cst_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 476 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [334,314,245,248,411,467,406,214,172,271,73,422,64,214,269,205,9999,169,9999,255]\n\n- **typ** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: S, O, B\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"B\",\"O\",\"O\",\"S\",\"S\",\"O\",\"S\",\"S\",\"B\",\"S\",\"B\",\"S\",\"B\",\"B\",\"B\",\"B\",\"B\",\"O\",\"O\",\"S\"]\n\n- **ln1** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 800 (100% unique)\n  \n  \n  \n  - Avg Length: 16 chars\n  - Sample Values: [\"92 Oak Avenue\",\"671 Main Street\",\"780 Industrial Drive\",\"701 Main Street\",\"648 Park Boulevard\",\"282 Oak Avenue\",\"80 Industrial Drive\",\"633 Park Boulevard\",\"583 Park Boulevard\",\"690 Industrial Drive\",\"95 Industrial Drive\",\"580 Industrial Drive\",\"224 Market Street\",\"522 Oak Avenue\",\"64 Market Street\",\"721 Main Street\",\"741 Main Street\",\"144 Market Street\",\"407 Oak Avenue\",\"347 Oak Avenue\"]\n\n- **ln2** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 125 (1562.5% unique)\n  - Nulls: 75%\n  \n  \n  - Avg Length: 8 chars\n  - Sample Values: [\"Suite 209\",\"Suite 9\",\"Suite 429\",\"Suite 413\",\"Suite 173\",\"Suite 173\",\"Suite 273\",\"Suite 97\",\"Suite 385\",\"Suite 349\",\"Suite 133\",\"Suite 65\",\"Suite 41\",\"Suite 153\",\"Suite 17\",\"Suite 65\",\"Suite 281\",\"Suite 437\",\"Suite 5\",\"Suite 109\"]\n\n- **cty** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 29 (100% unique)\n  \n  \n  \n  - Avg Length: 8 chars\n  - Sample Values: [\"Chicago\",\"Portland\",\"Minneapolis\",\"San Jose\",\"Denver\",\"Nashville\",\"Fort Worth\",\"San Antonio\",\"Los Angeles\",\"Nashville\",\"San Antonio\",\"St. Louis\",\"Charlotte\",\"San Antonio\",\"Phoenix\",\"Atlanta\",\"Tampa\",\"Dallas\",\"St. Louis\",\"Phoenix\"]\n\n- **st** (char)\n  \n  \n  \n  \n  - Distinct Values: 20 (100% unique)\n  \n  - Possible Values: TX, CA, AZ, FL, IN, PA, IL, MI, MA, OR, TN, MO, MN, OH, NV, NY, GA, CO, WA, NC\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"MA\",\"GA\",\"IN\",\"CA\",\"GA\",\"FL\",\"IL\",\"CO\",\"WA\",\"CA\",\"MA\",\"MO\",\"TX\",\"TN\",\"CA\",\"TX\",\"MI\",\"MA\",\"OR\",\"PA\"]\n\n- **zip** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 800 (100% unique)\n  \n  \n  \n  - Avg Length: 5 chars\n  - Sample Values: [\"10319\",\"10719\",\"10546\",\"10487\",\"10151\",\"10629\",\"10227\",\"10741\",\"10529\",\"10620\",\"10679\",\"10324\",\"10621\",\"10513\",\"10434\",\"10158\",\"10759\",\"10005\",\"10215\",\"10105\"]\n\n- **ctry** (char)\n  \n  \n  \n  \n  - Distinct Values: 1 (100% unique)\n  \n  - Possible Values: US\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\",\"US\"]\n\n- **dflt** (bit)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: false, true\n  \n  \n  - Sample Values: [true,false,true,false,false,false,false,false,false,true,false,false,false,false,false,false,false,false,false,false]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores mailing and contact addresses associated with customers, including address lines, city, state, zip, country, type (shipping, billing, other) and a flag indicating the default address for the customer\",\"reasoning\":\"The table has a composite primary key of addr_id (unique address identifier) and cst_id (customer identifier), typical of a child address table. Columns ln1, ln2, cty, st, zip, ctry hold standard address fields. The typ column with values S, O, B suggests address categories (Shipping, Office/Other, Billing). The dflt bit marks the default address for a customer. No foreign keys are listed, but the presence of cst_id aligns with the sales.cst table, indicating a one‑to‑many relationship from customers to addresses.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"addr_id\",\"description\":\"Surrogate primary key for each address record\",\"reasoning\":\"Unique integer with 800 distinct values matching row count, typical identifier\"},{\"columnName\":\"cst_id\",\"description\":\"Foreign key linking the address to a customer in sales.cst\",\"reasoning\":\"Appears as part of composite PK and contains many repeated values (476 distinct out of 800), indicating multiple addresses per customer\"},{\"columnName\":\"typ\",\"description\":\"Address type code: S=Shipping, B=Billing, O=Other/Office\",\"reasoning\":\"Only three distinct single‑character values, matching common address categories in sales systems\"},{\"columnName\":\"ln1\",\"description\":\"First line of the street address (street number and name)\",\"reasoning\":\"Sample values are typical street addresses and column is fully unique per row\"},{\"columnName\":\"ln2\",\"description\":\"Second line of the address, often a suite or apartment number; optional (75% null)\",\"reasoning\":\"Sample values are suite numbers and high null rate indicates optional secondary line\"},{\"columnName\":\"cty\",\"description\":\"City name for the address\",\"reasoning\":\"Sample values are US city names; low distinct count (29) consistent with city enumeration\"},{\"columnName\":\"st\",\"description\":\"Two‑letter US state abbreviation\",\"reasoning\":\"Possible values list matches US state codes; each row stores a state\"},{\"columnName\":\"zip\",\"description\":\"5‑digit ZIP code for the address\",\"reasoning\":\"Unique per row in sample, typical US postal code format\"},{\"columnName\":\"ctry\",\"description\":\"Country code, always 'US'\",\"reasoning\":\"Only one distinct value, indicating the database is US‑centric\"},{\"columnName\":\"dflt\",\"description\":\"Boolean flag indicating whether this address is the default for the customer (or for its type)\",\"reasoning\":\"Bit column with true/false values, typical for default selection\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"sales.cst\",\"insight\":\"The presence of cst_id in this address table confirms that each customer can have multiple addresses and that the sales.cst table likely serves as the master customer entity; the dflt flag reveals which address the system treats as primary for communications or shipping\",\"confidence\":0.88}]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "cst",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3634,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:09.955Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 500\n\n\n## Columns\n\n- **cst_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [179,181,426,269,431,409,112,259,28,359,424,44,123,2,161,432,237,17,79,208]\n\n- **nm** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 488 (100% unique)\n  \n  \n  \n  - Avg Length: 13 chars\n  - Sample Values: [\"Sarah Hughes\",\"Nancy Anderson\",\"Patricia Lee\",\"Kathleen Castillo\",\"Walker Company\",\"Gutierrez Services\",\"Amanda Martin\",\"Katherine Long\",\"Linda Carter\",\"Amanda Ramirez\",\"Moore Global\",\"Catherine Flores\",\"Ramos Holdings\",\"Robert Brown\",\"Katherine Long\",\"Emily White\",\"Edwards Retail\",\"Dorothy Jones\",\"Jason Wright\",\"Charles Collins\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: A, S, I, T\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\"]\n\n- **dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2023-08-26T00:00:00.000Z\",\"2023-11-06T00:00:00.000Z\",\"2024-03-16T00:00:00.000Z\",\"2023-11-25T00:00:00.000Z\",\"2024-06-25T00:00:00.000Z\",\"2023-10-31T00:00:00.000Z\",\"2024-08-06T00:00:00.000Z\",\"2023-10-27T00:00:00.000Z\",\"2023-11-08T00:00:00.000Z\",\"2024-01-22T00:00:00.000Z\",\"2023-10-17T00:00:00.000Z\",\"2024-09-08T00:00:00.000Z\",\"2023-09-09T00:00:00.000Z\",\"2023-10-08T00:00:00.000Z\",\"2024-11-17T00:00:00.000Z\",\"2023-09-26T00:00:00.000Z\",\"2024-04-20T00:00:00.000Z\",\"2024-08-27T00:00:00.000Z\",\"2024-05-13T00:00:00.000Z\",\"2024-08-15T00:00:00.000Z\"]\n\n- **src** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: WB, ST, RF, PH\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"PH\",\"WB\",\"PH\",\"ST\",\"WB\",\"WB\",\"RF\",\"ST\",\"RF\",\"PH\",\"RF\",\"PH\",\"PH\",\"WB\",\"PH\",\"PH\",\"ST\",\"WB\",\"RF\",\"WB\"]\n\n- **rep_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 15 (100% unique)\n  \n  - Possible Values: 6, 5, 4, 3, 2, 1, 15, 14, 13, 12, 11, 10, 9, 8, 7\n  \n  \n  - Sample Values: [8,3,13,2,8,4,5,8,5,11,2,4,1,8,6,13,5,4,4,14]\n\n- **seg** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: W, R, E\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"W\",\"W\",\"R\",\"W\",\"R\",\"W\",\"W\",\"W\",\"R\",\"R\",\"W\",\"W\",\"R\",\"E\",\"W\",\"W\",\"R\",\"R\",\"R\",\"E\"]\n\n- **rtg** (tinyint)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [2,1,1,5,3,5,2,2,2,1,5,2,4,3,3,3,1,1,5,3]\n\n- **bal** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [0,0,1948.02,0,178.93,0,0,0,0,0,0,2494.09,3185.84,4511.02,0,0,2594.78,0,4260.47,0]\n\n- **cr_lmt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 30 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [50000,22000,9250,91000,21500,6750,7000,31000,27500,90000,31500,9500,80000,60000,9500,26500,31500,32500,21000,21500]\n\n- **lst_ord** (date)\n  \n  \n  \n  \n  - Distinct Values: 292 (5840% unique)\n  - Nulls: 20%\n  \n  \n  \n  - Sample Values: [\"2024-03-31T00:00:00.000Z\",\"2024-11-06T00:00:00.000Z\",\"2024-05-13T00:00:00.000Z\",\"2024-01-25T00:00:00.000Z\",\"2024-09-04T00:00:00.000Z\",\"2024-12-16T00:00:00.000Z\",\"2024-11-23T00:00:00.000Z\",\"2024-06-03T00:00:00.000Z\",\"2024-02-25T00:00:00.000Z\",\"2024-10-26T00:00:00.000Z\",\"2024-10-12T00:00:00.000Z\",\"2024-03-18T00:00:00.000Z\",\"2024-11-04T00:00:00.000Z\",\"2024-08-08T00:00:00.000Z\",\"2024-11-04T00:00:00.000Z\",\"2024-11-18T00:00:00.000Z\",\"2024-08-20T00:00:00.000Z\",\"2024-04-17T00:00:00.000Z\",\"2024-02-15T00:00:00.000Z\",\"2024-08-22T00:00:00.000Z\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores core customer information for the sales domain, including identification, contact name, status, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit and the date of the most recent order.\",\"reasoning\":\"Column names and data types strongly indicate a customer master table: cst_id is a unique integer identifier; nm holds the customer name; sts is a single‑character status flag with values A,S,I,T; dt is a unique date likely representing account creation; src lists acquisition channels (WB,ST,RF,PH); rep_id references a sales representative; seg (W,R,E) matches typical market‑segment codes; rtg (1‑5) is a rating; bal and cr_lmt are monetary fields for balance and credit limit; lst_ord is a nullable last‑order date. The table has no foreign‑key dependencies, matching the pattern of a foundational lookup/parent table such as sales.cst.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"cst_id\",\"description\":\"Unique customer identifier (primary key).\",\"reasoning\":\"Integer, 100% unique across 500 rows, typical for a surrogate key.\"},{\"columnName\":\"nm\",\"description\":\"Customer name – can be an individual or a company name.\",\"reasoning\":\"String values include personal names and company names; high uniqueness suggests it stores the display name.\"},{\"columnName\":\"sts\",\"description\":\"Current status of the customer (e.g., A=Active, S=Suspended, I=Inactive, T=Terminated).\",\"reasoning\":\"Single‑character code with four distinct values, typical for status enums.\"},{\"columnName\":\"dt\",\"description\":\"Date the customer record was created or became effective.\",\"reasoning\":\"Unique date per row, indicating a creation or activation timestamp.\"},{\"columnName\":\"src\",\"description\":\"Acquisition source code (WB=Web, ST=Store, RF=Referral, PH=Phone).\",\"reasoning\":\"Two‑character code with four distinct values matching common lead sources.\"},{\"columnName\":\"rep_id\",\"description\":\"Identifier of the sales representative responsible for the customer.\",\"reasoning\":\"Integer with limited distinct values (15) suggesting a lookup to a representative table; also marked primary key, implying a composite key with cst_id.\"},{\"columnName\":\"seg\",\"description\":\"Market segment classification (W=Wholesale, R=Retail, E=Enterprise).\",\"reasoning\":\"Single‑character code with three values, typical for segment enums.\"},{\"columnName\":\"rtg\",\"description\":\"Customer rating on a scale of 1 to 5.\",\"reasoning\":\"Tinyint with values 1‑5, indicating a rating metric.\"},{\"columnName\":\"bal\",\"description\":\"Current account balance (outstanding amount).\",\"reasoning\":\"Decimal values include zeros and positive amounts, representing monetary balance.\"},{\"columnName\":\"cr_lmt\",\"description\":\"Credit limit assigned to the customer.\",\"reasoning\":\"Decimal with a range of values typical for credit limits.\"},{\"columnName\":\"lst_ord\",\"description\":\"Date of the most recent order placed by the customer (nullable).\",\"reasoning\":\"Date field with many distinct values and ~20% nulls, fitting a last‑order timestamp.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "cst_note",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2880,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:12.198Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 450\n\n\n## Columns\n\n- **note_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 450 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [320,412,304,424,194,252,363,260,264,73,224,295,413,205,210,5,167,332,219,171]\n\n- **cst_id** (int)\n  \n  - **FOREIGN KEY** → sales.ord.cst_id\n  \n  \n  - Distinct Values: 450 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [183,182,336,274,326,414,376,437,170,35,447,360,59,19,63,260,76,348,375,221]\n\n- **dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 450 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2023-12-10T00:00:00.000Z\",\"2024-04-19T00:00:00.000Z\",\"2024-03-25T00:00:00.000Z\",\"2024-08-05T00:00:00.000Z\",\"2024-09-21T00:00:00.000Z\",\"2024-12-21T00:00:00.000Z\",\"2024-06-10T00:00:00.000Z\",\"2024-10-13T00:00:00.000Z\",\"2023-11-26T00:00:00.000Z\",\"2024-10-21T00:00:00.000Z\",\"2024-01-31T00:00:00.000Z\",\"2024-09-04T00:00:00.000Z\",\"2024-09-05T00:00:00.000Z\",\"2024-12-24T00:00:00.000Z\",\"2024-03-21T00:00:00.000Z\",\"2024-11-25T00:00:00.000Z\",\"2024-04-08T00:00:00.000Z\",\"2024-02-01T00:00:00.000Z\",\"2024-04-01T00:00:00.000Z\",\"2023-12-04T00:00:00.000Z\"]\n\n- **usr** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 440 (100% unique)\n  \n  \n  \n  - Avg Length: 13 chars\n  - Sample Values: [\"Susan Perez\",\"Andrew Rodriguez\",\"Michelle Rivera\",\"Jack Bailey\",\"Paul Perez\",\"Heather Foster\",\"Amanda Martinez\",\"Richard Green\",\"Christine Mitchell\",\"Jason Thompson\",\"Elizabeth Hill\",\"Brian Cook\",\"Jessica Long\",\"Elizabeth Thompson\",\"Angela Evans\",\"Cynthia Thomas\",\"Edward Mitchell\",\"Deborah Roberts\",\"Kimberly Morales\",\"Dorothy Rogers\"]\n\n- **txt** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: In-person meeting to discuss bulk pricing and long-term contract opportunities., Email correspondence regarding product specifications and availability for upcoming project., Spoke with customer about order status and delivery timeline. Customer satisfied with explanation., Follow-up regarding account status and payment arrangements for outstanding invoices.\n  \n  - Avg Length: 88 chars\n  - Sample Values: [\"Email correspondence regarding product specifications and availability for upcoming project.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.\",\"Follow-up regarding account status and payment arrangements for outstanding invoices.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"Follow-up regarding account status and payment arrangements for outstanding invoices.\",\"Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"In-person meeting to discuss bulk pricing and long-term contract opportunities.\",\"Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.\",\"Email correspondence regarding product specifications and availability for upcoming project.\",\"Follow-up regarding account status and payment arrangements for outstanding invoices.\",\"Follow-up regarding account status and payment arrangements for outstanding invoices.\",\"Follow-up regarding account status and payment arrangements for outstanding invoices.\",\"Follow-up regarding account status and payment arrangements for outstanding invoices.\"]\n\n- **typ** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: M, E, O, C\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"O\",\"O\",\"M\",\"M\",\"O\",\"E\",\"M\",\"C\",\"C\",\"C\",\"C\",\"E\",\"E\",\"M\",\"M\",\"E\",\"M\",\"E\",\"O\",\"M\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores individual notes or interactions related to customers, capturing when, by whom, and what was communicated, along with a short type code for the interaction\",\"reasoning\":\"The primary key note_id uniquely identifies each entry. cst_id is a foreign key to sales.ord.cst_id, indicating the note is linked to a specific customer (via the order table). The dt column records the date of the interaction. usr contains the employee name who made the note. txt holds the free‑text description of the interaction, and typ is a one‑character code (M,E,O,C) that maps to common interaction types (Meeting, Email, Other, Call). All columns together model a customer‑contact log used by the sales organization.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"note_id\",\"description\":\"Unique identifier for each customer note record\",\"reasoning\":\"Primary key, 100% unique across 450 rows\"},{\"columnName\":\"cst_id\",\"description\":\"Identifier of the customer the note pertains to (foreign key to sales.ord.cst_id)\",\"reasoning\":\"FK points to sales.ord, linking notes to a specific customer\"},{\"columnName\":\"dt\",\"description\":\"Date when the note was created or the interaction occurred\",\"reasoning\":\"Date column with unique values per row, typical for timestamping notes\"},{\"columnName\":\"usr\",\"description\":\"Name of the employee or user who recorded the note\",\"reasoning\":\"String column with personal names, high uniqueness suggests many users\"},{\"columnName\":\"txt\",\"description\":\"Full text of the note describing the interaction or follow‑up\",\"reasoning\":\"Longer nvarchar with only 4 distinct values, representing standard note templates\"},{\"columnName\":\"typ\",\"description\":\"One‑character code indicating the interaction type (M=Meeting, E=Email, O=Other, C=Call)\",\"reasoning\":\"Low‑cardinality char column with values M,E,O,C matching common contact types\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"sales.ord\",\"insight\":\"The presence of cst_id as a foreign key shows that the orders table holds the master customer identifier, and this notes table extends that relationship to capture a chronological log of customer communications across orders\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "eml",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2674,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:15.008Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 550\n\n\n## Columns\n\n- **eml_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 550 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [178,117,156,306,550,327,438,160,363,400,109,260,513,154,424,391,361,388,192,177]\n\n- **cst_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [343,118,128,397,500,432,123,49,277,258,225,29,388,38,370,477,484,156,418,461]\n\n- **typ** (char)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: W, P, O\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"P\",\"W\",\"O\",\"P\",\"O\",\"P\",\"W\",\"W\",\"W\",\"O\",\"W\",\"O\",\"O\",\"P\",\"W\",\"P\",\"P\",\"O\",\"O\",\"W\"]\n\n- **adr** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 550 (100% unique)\n  \n  \n  \n  - Avg Length: 27 chars\n  - Sample Values: [\"helen.patel477@outlook.com\",\"donna.cox187@outlook.com\",\"daniel.watson322@outlook.com\",\"frank.wilson155@gmail.com\",\"george.gomez28@company.com\",\"carolyn.robinson31@yahoo.com\",\"janet.morales318@company.com\",\"larry.davis6@yahoo.com\",\"jack.smith218@company.com\",\"joseph.reyes346@yahoo.com\",\"jacob.williams309@business.net\",\"melissa.price221@yahoo.com\",\"maria.sanders465@gmail.com\",\"angela.williams35@gmail.com\",\"joshua.ramos26@yahoo.com\",\"ashley.hall134@business.net\",\"dorothy.patel82@outlook.com\",\"kevin.diaz73@company.com\",\"edward.johnson548@company.com\",\"andrew.phillips274@business.net\"]\n\n- **vrf** (bit)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: true, false\n  \n  \n  - Sample Values: [true,true,true,true,true,false,true,true,true,true,true,true,true,false,true,false,true,true,true,false]\n\n- **dflt** (bit)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: false, true\n  \n  \n  - Sample Values: [false,true,false,false,false,false,false,false,true,true,false,false,true,false,false,false,true,false,false,true]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores email addresses associated with customers, including type, verification status, and default flag.\",\"reasoning\":\"Column eml_id is a unique identifier (550 distinct values). cst_id links to a customer (500 distinct values). typ has three possible values (W, P, O) indicating email type (work, personal, other). adr contains email strings. vrf is a boolean indicating whether the email has been verified. dflt is a boolean indicating the default email for the customer. Composite primary key (eml_id,cst_id) suggests a one‑to‑many relationship from customers to emails. The table name matches the allowed list sales.eml.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"eml_id\",\"description\":\"Surrogate primary key for each email record\",\"reasoning\":\"Unique integer, 100% distinct, serves as identifier\"},{\"columnName\":\"cst_id\",\"description\":\"Foreign key to the customer (sales.cst) that owns the email\",\"reasoning\":\"Distinct values close to row count, typical of linking many emails to customers\"},{\"columnName\":\"typ\",\"description\":\"Category of email address (W=Work, P=Personal, O=Other)\",\"reasoning\":\"Three distinct single‑character values, matches common email type codes\"},{\"columnName\":\"adr\",\"description\":\"The actual email address string\",\"reasoning\":\"nvarchar with typical email formats in sample values\"},{\"columnName\":\"vrf\",\"description\":\"Flag indicating if the email address has been verified\",\"reasoning\":\"Bit column with true/false values\"},{\"columnName\":\"dflt\",\"description\":\"Flag indicating if this email is the default contact for the customer\",\"reasoning\":\"Bit column, likely used to select primary email\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"sales.cst\",\"insight\":\"Customers can have multiple email records; the presence of a default flag suggests the customer table does not store a single email column but relies on this child table for contact information\",\"confidence\":0.88}]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "oli",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 2753,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:17.539Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 6998\n\n\n## Columns\n\n- **oli_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 6998 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [464,4865,2622,1130,36,1941,2525,6596,4823,6116,82,3178,5190,5116,1883,1146,3286,5308,6625,38]\n\n- **ord_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 2000 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [1462,991,21,1770,1509,17,755,34,1988,743,1346,778,1723,1567,1715,1276,1737,1853,923,1313]\n\n- **prd_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [27,62,96,93,36,63,18,40,197,141,55,85,67,177,121,68,57,131,13,114]\n\n- **qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 10 (100% unique)\n  \n  - Possible Values: 7, 6, 3, 9, 8, 2, 5, 4, 10, 1\n  \n  \n  - Sample Values: [4,10,7,4,9,5,1,1,10,10,9,2,5,1,2,2,6,6,10,6]\n\n- **prc** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [250.99,1150.99,1238.49,1138.49,663.49,275.99,550.99,213.49,25.99,1100.99,750.99,63.49,1213.49,175.99,225.99,1038.49,725.99,988.49,588.49,475.99]\n\n- **disc** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 51 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [0,254.44,0,0,0,0,435.59,429.44,0,200.79,799.64,516.94,510.59,0,0,1000.79,0,600.79,912.14,0]\n\n- **tax_amt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [48.16,246.2,485.4,195.24,13.08,75.24,33.08,313.63,656.74,737.74,28.16,259.63,18.71,235.4,828.71,195.24,170.74,624.2,18.71,720.57]\n\n- **seq** (int)\n  \n  \n  \n  \n  - Distinct Values: 6 (100% unique)\n  \n  - Possible Values: 1, 2, 3, 4, 5, 6\n  \n  \n  - Sample Values: [5,2,1,3,2,2,2,2,2,5,1,2,1,6,3,1,4,2,4,4]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"This table stores individual order line items, linking each product purchased to a specific sales order and capturing the quantity, price, discount, tax and line sequence within the order.\",\"reasoning\":\"Column names (oli_id, ord_id, prd_id, qty, prc, disc, tax_amt, seq) and their data types match a typical order‑line structure. oli_id is a unique surrogate key (6998 distinct values). ord_id and prd_id each have 2000 and 200 distinct values respectively, indicating foreign keys to the orders and products tables. qty has only 10 distinct values (1‑10) and seq only 6 distinct values (1‑6), typical for quantity and line‑item ordering. Sample values for price, discount and tax are monetary, confirming financial transaction data. The lack of declared foreign keys in the metadata does not change the logical relationships inferred from naming conventions and the allowed table list, which includes sales.ord and sales.prd as likely parents.\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"oli_id\",\"description\":\"Surrogate primary key that uniquely identifies each line‑item record.\",\"reasoning\":\"6998 distinct values equal the row count, confirming uniqueness.\"},{\"columnName\":\"ord_id\",\"description\":\"Identifier of the sales order to which the line item belongs (foreign key to sales.ord).\",\"reasoning\":\"Distinct values (2000) are far fewer than rows, indicating many line items per order.\"},{\"columnName\":\"prd_id\",\"description\":\"Identifier of the product being sold (foreign key to sales.prd).\",\"reasoning\":\"200 distinct product IDs across rows suggest a product catalog reference.\"},{\"columnName\":\"qty\",\"description\":\"Quantity of the product ordered on this line.\",\"reasoning\":\"Only 10 distinct integer values ranging 1‑10, typical for quantity counts.\"},{\"columnName\":\"prc\",\"description\":\"Unit price of the product at the time of the order (before discount).\",\"reasoning\":\"Decimal values with two‑digit cents and 100 distinct values, matching monetary pricing.\"},{\"columnName\":\"disc\",\"description\":\"Discount amount applied to this line item (could be zero).\",\"reasoning\":\"Decimal column with many distinct values, some zero, indicating optional discount.\"},{\"columnName\":\"tax_amt\",\"description\":\"Tax amount calculated for this line item.\",\"reasoning\":\"Decimal column with distinct monetary values, consistent with tax calculations.\"},{\"columnName\":\"seq\",\"description\":\"Sequence number of the line item within the order (1‑6).\",\"reasoning\":\"Only six possible values, confirming ordering of lines within an order.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"sales.ord\",\"insight\":\"Orders can contain up to six line items as indicated by the seq column range (1‑6) and the distribution of ord_id values across multiple oli_id rows.\",\"confidence\":0.88}]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "ord",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.94",
            "tokensUsed": 3983,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:20.860Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 2000\n\n\n## Columns\n\n- **ord_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 2000 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [443,1695,284,1294,1682,629,1870,54,59,1970,517,1078,135,732,1684,1921,157,1733,1411,1341]\n\n- **cst_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 476 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [248,442,83,420,160,198,298,493,327,105,466,59,51,150,458,114,249,311,177,396]\n\n- **ord_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 730 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-04-22T00:00:00.000Z\",\"2024-12-30T00:00:00.000Z\",\"2023-12-05T00:00:00.000Z\",\"2023-04-07T00:00:00.000Z\",\"2024-09-19T00:00:00.000Z\",\"2023-10-29T00:00:00.000Z\",\"2024-01-09T00:00:00.000Z\",\"2024-08-12T00:00:00.000Z\",\"2023-08-03T00:00:00.000Z\",\"2024-06-03T00:00:00.000Z\",\"2024-02-23T00:00:00.000Z\",\"2024-12-02T00:00:00.000Z\",\"2024-02-28T00:00:00.000Z\",\"2023-05-08T00:00:00.000Z\",\"2023-02-11T00:00:00.000Z\",\"2024-05-27T00:00:00.000Z\",\"2023-12-18T00:00:00.000Z\",\"2023-05-04T00:00:00.000Z\",\"2024-11-23T00:00:00.000Z\",\"2023-08-21T00:00:00.000Z\"]\n\n- **ship_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 438 (2190% unique)\n  - Nulls: 40%\n  \n  \n  \n  - Sample Values: [\"2023-08-25T00:00:00.000Z\",\"2023-06-29T00:00:00.000Z\",\"2024-01-03T00:00:00.000Z\",\"2024-09-19T00:00:00.000Z\",\"2024-06-02T00:00:00.000Z\",\"2023-08-29T00:00:00.000Z\",\"2023-01-27T00:00:00.000Z\",\"2024-12-21T00:00:00.000Z\",\"2024-02-26T00:00:00.000Z\",\"2024-12-07T00:00:00.000Z\",\"2023-08-16T00:00:00.000Z\",\"2023-04-20T00:00:00.000Z\",\"2023-03-01T00:00:00.000Z\",\"2024-10-08T00:00:00.000Z\",\"2024-11-30T00:00:00.000Z\",\"2024-07-30T00:00:00.000Z\",\"2024-12-08T00:00:00.000Z\",\"2024-07-22T00:00:00.000Z\",\"2023-11-06T00:00:00.000Z\",\"2024-06-14T00:00:00.000Z\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: D, C, S, P, X\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"D\",\"P\",\"S\",\"C\",\"C\",\"X\",\"S\",\"C\",\"S\",\"S\",\"D\",\"X\",\"D\",\"S\",\"D\",\"S\",\"D\",\"D\",\"S\",\"S\"]\n\n- **tot** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [2935.5,2537.5,7313.5,1841,7910.5,4129.5,2338.5,9900.5,4428,2338.5,9104.5,9602,3234,1343.5,9104.5,2637,9303.5,6716.5,4428,7512.5]\n\n- **tax** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 100 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [4,203,601,218.92,83.6,672.64,250.76,4,712.44,728.36,346.28,513.44,433.84,704.48,545.28,274.64,632.84,776.12,75.64,545.28]\n\n- **ship_amt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: 0, 25, 15\n  \n  \n  - Sample Values: [0,0,0,15,0,15,0,0,0,0,0,15,0,0,0,15,0,0,0,0]\n\n- **disc_pct** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: 0, 10\n  \n  \n  - Sample Values: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0]\n\n- **pmt_trm** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: N30, COD, N60, N45\n  \n  - Avg Length: 3 chars\n  - Sample Values: [\"N45\",\"COD\",\"N60\",\"COD\",\"N60\",\"N60\",\"COD\",\"N45\",\"N30\",\"COD\",\"N30\",\"N30\",\"N45\",\"N60\",\"N45\",\"COD\",\"N60\",\"N45\",\"N30\",\"N60\"]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 1 (5% unique)\n  - Nulls: 93.4%\n  - Possible Values: Rush order - expedited shipping\n  \n  - Avg Length: 31 chars\n  - Sample Values: [\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\",\"Rush order - expedited shipping\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"tableDescription\": \"This table stores order header information for sales transactions, capturing each order's unique identifier, associated customer, dates, status, monetary totals, shipping details, payment terms, and optional notes.\",\n  \"reasoning\": \"The presence of an order ID (ord_id) with 100% uniqueness, a customer ID (cst_id) that repeats across rows, order and ship dates, a status code (sts) with values typical for order processing, monetary columns (tot, tax, ship_amt, disc_pct), and payment terms (pmt_trm) all point to a sales order header. The high null rate on ship_dt indicates orders may not yet be shipped. The notes column, rarely populated, contains a rush‑order comment, reinforcing the sales context. The table matches the listed name sales.ord, and although no foreign keys are declared, cst_id logically references the sales.cst customer table.\",\n  \"confidence\": 0.94,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ord_id\",\n      \"description\": \"Unique identifier for each order (primary key component).\",\n      \"reasoning\": \"2000 distinct values for 2000 rows, typical for an order primary key.\"\n    },\n    {\n      \"columnName\": \"cst_id\",\n      \"description\": \"Identifier of the customer who placed the order, linking to the sales.cst table.\",\n      \"reasoning\": \"476 distinct values across 2000 rows suggests many orders per customer; marked as primary key component.\"\n    },\n    {\n      \"columnName\": \"ord_dt\",\n      \"description\": \"Date the order was created.\",\n      \"reasoning\": \"Date column with 730 distinct values (roughly two years of daily orders).\"\n    },\n    {\n      \"columnName\": \"ship_dt\",\n      \"description\": \"Date the order was shipped; null when not yet shipped.\",\n      \"reasoning\": \"40% nulls and many distinct dates indicate optional shipping date.\"\n    },\n    {\n      \"columnName\": \"sts\",\n      \"description\": \"Current status of the order (e.g., D=Delivered, C=Cancelled, S=Shipped, P=Pending, X=Exception).\",\n      \"reasoning\": \"Five distinct single‑character codes typical for order status enums.\"\n    },\n    {\n      \"columnName\": \"tot\",\n      \"description\": \"Total monetary amount of the order before tax and discounts.\",\n      \"reasoning\": \"Decimal column with unique values representing order totals.\"\n    },\n    {\n      \"columnName\": \"tax\",\n      \"description\": \"Tax amount applied to the order.\",\n      \"reasoning\": \"Decimal column with values that align with tax calculations on totals.\"\n    },\n    {\n      \"columnName\": \"ship_amt\",\n      \"description\": \"Shipping charge for the order (0, 15, or 25).\",\n      \"reasoning\": \"Low‑cardinality decimal column with three possible values, typical for fixed shipping fees.\"\n    },\n    {\n      \"columnName\": \"disc_pct\",\n      \"description\": \"Discount percentage applied to the order (0 or 10%).\",\n      \"reasoning\": \"Two possible values indicate a simple discount flag.\"\n    },\n    {\n      \"columnName\": \"pmt_trm\",\n      \"description\": \"Payment terms for the order (e.g., N30 = Net 30 days, COD = Cash on Delivery, N45, N60).\",\n      \"reasoning\": \"Four distinct string codes matching common payment term abbreviations.\"\n    },\n    {\n      \"columnName\": \"notes\",\n      \"description\": \"Optional free‑text notes; when present, indicates a rush order with expedited shipping.\",\n      \"reasoning\": \"93.4% nulls, single repeated value describing rush orders.\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"sales.cst\",\n      \"insight\": \"The presence of cst_id as a primary‑key component here confirms that sales.cst likely uses cst_id as its primary key and stores customer master data referenced by orders.\",\n      \"confidence\": 0.88\n    }\n  ]\n}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "phn",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.97",
            "tokensUsed": 2349,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:22.883Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 600\n\n\n## Columns\n\n- **phn_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 600 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [35,314,141,105,177,292,303,486,464,214,313,153,261,45,121,291,166,410,430,15]\n\n- **cst_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [347,93,139,64,72,284,60,456,121,475,119,418,138,257,397,217,126,26,107,357]\n\n- **typ** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: W, M, H, F\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"F\",\"W\",\"W\",\"H\",\"W\",\"M\",\"F\",\"H\",\"M\",\"W\",\"W\",\"H\",\"W\",\"M\",\"F\",\"M\",\"H\",\"W\",\"F\",\"F\"]\n\n- **num** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 600 (100% unique)\n  \n  \n  \n  - Avg Length: 12 chars\n  - Sample Values: [\"587-587-0487\",\"6396390539\",\"(106) 106-0006\",\"(223) 223-0123\",\"1111110011\",\"347-347-0247\",\"(565) 565-0465\",\"161-161-0061\",\"1471470047\",\"1231230023\",\"245-245-0145\",\"(286) 286-0186\",\"(316) 316-0216\",\"6696690569\",\"143-143-0043\",\"2642640164\",\"(202) 202-0102\",\"(376) 376-0276\",\"(640) 640-0540\",\"(367) 367-0267\"]\n\n- **ext** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 30 (500% unique)\n  - Nulls: 95%\n  \n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"511\",\"51\",\"231\",\"431\",\"471\",\"351\",\"531\",\"551\",\"311\",\"491\",\"91\",\"331\",\"391\",\"151\",\"111\",\"211\",\"191\",\"71\",\"291\",\"571\"]\n\n- **dflt** (bit)\n  \n  \n  \n  \n  - Distinct Values: 2 (100% unique)\n  \n  - Possible Values: false, true\n  \n  \n  - Sample Values: [false,true,true,false,true,true,true,false,false,true,false,false,false,false,false,false,false,false,false,false]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores each customer's phone contact information, including the phone number, its type (work, mobile, home, fax), optional extension, and a flag indicating the default number for the customer.\",\"reasoning\":\"The primary key phn_id uniquely identifies a phone record. cst_id matches the customer table (sales.cst) and is also a primary key, indicating a one‑to‑many relationship (multiple phones per customer). The typ column has four distinct single‑character values (W, M, H, F) that correspond to common phone type codes. The num column contains strings formatted like phone numbers. ext is short, often null, matching typical telephone extensions. dflt is a bit flag marking the default phone for the customer. No foreign keys are listed, but the naming and allowed table list point to sales.cst as the parent.\",\"confidence\":0.97,\"columnDescriptions\":[{\"columnName\":\"phn_id\",\"description\":\"Unique identifier for each phone record\",\"reasoning\":\"Primary key with 600 distinct values matching row count, typical surrogate key.\"},{\"columnName\":\"cst_id\",\"description\":\"Identifier of the customer that owns the phone number\",\"reasoning\":\"Primary key column likely a foreign key to sales.cst; 500 distinct values suggests many customers have multiple phones.\"},{\"columnName\":\"typ\",\"description\":\"Phone type code (W=Work, M=Mobile, H=Home, F=Fax)\",\"reasoning\":\"Four distinct single‑character values matching common phone type abbreviations.\"},{\"columnName\":\"num\",\"description\":\"The phone number itself, stored as a formatted string\",\"reasoning\":\"Sample values show typical phone number patterns, length ~12 characters, all unique.\"},{\"columnName\":\"ext\",\"description\":\"Optional telephone extension, nullable for most rows\",\"reasoning\":\"Low distinct count (30) and 95% nulls, short numeric strings typical of extensions.\"},{\"columnName\":\"dflt\",\"description\":\"Boolean flag indicating whether this is the customer's default phone number\",\"reasoning\":\"Bit column with true/false values, used to pick the primary contact number.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"sales.cst\",\"insight\":\"Customers can have multiple phone numbers distinguished by type, with one marked as default, revealing that the customer entity supports multi‑contact details.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "pmt",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3354,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:25.702Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 2200\n\n\n## Columns\n\n- **pmt_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 2200 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [1036,2002,1809,1195,81,1728,1552,205,122,1704,1764,145,722,1737,950,958,993,1701,522,1001]\n\n- **ord_id** (int)\n  \n  - **FOREIGN KEY** → sales.oli.oli_id\n  \n  \n  - Distinct Values: 1800 (8181.8% unique)\n  - Nulls: 10%\n  \n  \n  \n  - Sample Values: [138,886,1980,847,884,327,583,869,186,180,34,524,68,1824,405,1570,548,13,1188,739]\n\n- **cst_id** (int)\n  \n  - **FOREIGN KEY** → sales.ord.cst_id\n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [420,275,320,305,57,178,132,239,367,139,54,43,472,186,166,31,198,121,403,406]\n\n- **pmt_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 730 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2023-08-30T00:00:00.000Z\",\"2024-02-04T00:00:00.000Z\",\"2024-08-15T00:00:00.000Z\",\"2024-03-25T00:00:00.000Z\",\"2023-11-21T00:00:00.000Z\",\"2023-12-11T00:00:00.000Z\",\"2023-07-09T00:00:00.000Z\",\"2023-01-11T00:00:00.000Z\",\"2023-07-28T00:00:00.000Z\",\"2023-11-03T00:00:00.000Z\",\"2023-10-30T00:00:00.000Z\",\"2023-11-08T00:00:00.000Z\",\"2023-01-30T00:00:00.000Z\",\"2023-01-29T00:00:00.000Z\",\"2024-07-26T00:00:00.000Z\",\"2023-08-17T00:00:00.000Z\",\"2024-11-22T00:00:00.000Z\",\"2023-11-09T00:00:00.000Z\",\"2023-12-23T00:00:00.000Z\",\"2024-12-25T00:00:00.000Z\"]\n\n- **amt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [7600,980,7300,440,1700,6020,6560,5560,4140,4120,5500,3280,1000,2040,2840,6360,520,5540,2160,1520]\n\n- **mthd** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: WR, CA, CK, CC\n  \n  - Avg Length: 2 chars\n  - Sample Values: [\"WR\",\"CC\",\"WR\",\"CK\",\"CK\",\"CK\",\"WR\",\"CK\",\"CA\",\"CA\",\"CA\",\"CK\",\"WR\",\"CC\",\"WR\",\"WR\",\"CK\",\"CK\",\"CA\",\"CA\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: A, F, P, R\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\"]\n\n- **ref** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 2200 (100% unique)\n  \n  \n  \n  - Avg Length: 14 chars\n  - Sample Values: [\"PMT-2024-00236\",\"PMT-2024-00844\",\"PMT-2023-00457\",\"PMT-2023-01392\",\"PMT-2023-01193\",\"PMT-2024-01039\",\"PMT-2024-00813\",\"PMT-2023-01200\",\"PMT-2023-01391\",\"PMT-2024-00967\",\"PMT-2024-00340\",\"PMT-2023-01909\",\"PMT-2024-00852\",\"PMT-2023-02073\",\"PMT-2023-01861\",\"PMT-2024-01777\",\"PMT-2024-00261\",\"PMT-2024-00154\",\"PMT-2023-01965\",\"PMT-2023-01964\"]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 1 (4.5% unique)\n  - Nulls: 90%\n  - Possible Values: Account credit applied\n  \n  - Avg Length: 22 chars\n  - Sample Values: [\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\",\"Account credit applied\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"tableDescription\":\"Stores individual payment transactions made by customers for orders, capturing amount, date, method, status, and reference details.\",\"reasoning\":\"Column names (pmt_id, ord_id, cst_id, pmt_dt, amt, mthd, sts, ref, notes) and data types indicate a payment record. pmt_id is a unique primary key. ord_id links to sales.oli (order line) and is nullable (10% nulls) suggesting some payments are not tied to a specific line (e.g., credits). cst_id links to sales.ord.cst_id, tying each payment to a customer. mthd and sts have low cardinality with defined enums (WR, CA, CK, CC and A, F, P, R). ref is a unique formatted reference. notes is mostly null and contains a fixed phrase, indicating optional credit notes. The table belongs to the sales schema as indicated by allowed table names (sales.pmt).\",\"confidence\":0.96,\"columnDescriptions\":[{\"columnName\":\"pmt_id\",\"description\":\"Unique identifier for each payment record\",\"reasoning\":\"Primary key, 100% unique across 2200 rows.\"},{\"columnName\":\"ord_id\",\"description\":\"Identifier of the order line the payment is applied to (nullable)\",\"reasoning\":\"Foreign key to sales.oli.oli_id; 10% nulls imply some payments are not linked to a specific order line.\"},{\"columnName\":\"cst_id\",\"description\":\"Customer identifier associated with the payment\",\"reasoning\":\"Foreign key to sales.ord.cst_id; distinct 500 values shows many payments per customer.\"},{\"columnName\":\"pmt_dt\",\"description\":\"Date the payment was made\",\"reasoning\":\"Date type with 730 distinct values (daily over two years).\"},{\"columnName\":\"amt\",\"description\":\"Monetary amount of the payment\",\"reasoning\":\"Decimal with 500 distinct values, typical for transaction amounts.\"},{\"columnName\":\"mthd\",\"description\":\"Payment method code (WR=Wire, CA=Cash, CK=Check, CC=Credit Card)\",\"reasoning\":\"Char(2) with 4 distinct enum values.\"},{\"columnName\":\"sts\",\"description\":\"Payment status code (A=Approved, F=Failed, P=Pending, R=Refunded)\",\"reasoning\":\"Char(1) with 4 distinct enum values, all samples show 'A' indicating approved.\"},{\"columnName\":\"ref\",\"description\":\"External reference code for the payment, formatted like PMT-YYYY-NNNNN\",\"reasoning\":\"Unique nvarchar, sample values follow a consistent pattern.\"},{\"columnName\":\"notes\",\"description\":\"Optional free‑text note, primarily used for credit applications\",\"reasoning\":\"90% nulls, single repeated value 'Account credit applied' indicates specific use case.\"}],\"inferredBusinessDomain\":\"Sales\",\"parentTableInsights\":[{\"parentTable\":\"sales.ord\",\"insight\":\"Payments reference orders, confirming a one‑to‑many relationship where an order can have multiple payments; nullable ord_id suggests some payments (e.g., account credits) are recorded without a direct order link.\",\"confidence\":0.85}]}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "rtn",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3299,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:28.716Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 150\n\n\n## Columns\n\n- **rtn_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [110,7,129,53,64,22,41,36,98,30,1,146,35,113,100,66,43,9,90,77]\n\n- **ord_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [700,1410,710,840,1090,390,440,1120,1230,280,330,660,1040,370,620,1450,60,1340,1110,1020]\n\n- **oli_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [230,390,330,1280,80,760,1100,1360,1020,690,450,1390,30,910,840,990,1170,40,1430,210]\n\n- **rtn_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 150 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-11-14T00:00:00.000Z\",\"2024-10-26T00:00:00.000Z\",\"2024-10-20T00:00:00.000Z\",\"2024-08-17T00:00:00.000Z\",\"2024-09-16T00:00:00.000Z\",\"2024-08-30T00:00:00.000Z\",\"2024-11-12T00:00:00.000Z\",\"2025-01-08T00:00:00.000Z\",\"2024-10-28T00:00:00.000Z\",\"2024-12-17T00:00:00.000Z\",\"2024-10-05T00:00:00.000Z\",\"2024-12-31T00:00:00.000Z\",\"2024-10-18T00:00:00.000Z\",\"2024-09-05T00:00:00.000Z\",\"2024-09-20T00:00:00.000Z\",\"2024-10-10T00:00:00.000Z\",\"2024-10-22T00:00:00.000Z\",\"2024-08-28T00:00:00.000Z\",\"2024-12-19T00:00:00.000Z\",\"2024-10-24T00:00:00.000Z\"]\n\n- **rsn** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: WRG, DOA, DMG, CHG\n  \n  - Avg Length: 3 chars\n  - Sample Values: [\"CHG\",\"WRG\",\"CHG\",\"CHG\",\"WRG\",\"CHG\",\"WRG\",\"DOA\",\"CHG\",\"DMG\",\"CHG\",\"DOA\",\"DOA\",\"WRG\",\"DOA\",\"DOA\",\"DOA\",\"WRG\",\"DMG\",\"CHG\"]\n\n- **qty** (int)\n  \n  \n  \n  \n  - Distinct Values: 5 (100% unique)\n  \n  - Possible Values: 5, 4, 3, 2, 1\n  \n  \n  - Sample Values: [4,2,2,3,5,4,1,2,2,2,4,5,1,4,2,4,1,5,4,5]\n\n- **amt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 50 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [210,490,170,340,530,390,440,450,350,70,250,500,510,200,270,440,430,400,320,180]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: A, R, P, C\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"C\",\"A\",\"R\",\"R\",\"C\",\"P\",\"P\",\"R\",\"R\",\"P\",\"C\",\"P\",\"C\",\"C\",\"R\",\"P\",\"C\",\"C\",\"A\",\"A\"]\n\n- **notes** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: Wrong item was shipped, Product defective on arrival, Package arrived damaged during shipping, Customer changed mind\n  \n  - Avg Length: 27 chars\n  - Sample Values: [\"Customer changed mind\",\"Product defective on arrival\",\"Customer changed mind\",\"Package arrived damaged during shipping\",\"Customer changed mind\",\"Package arrived damaged during shipping\",\"Customer changed mind\",\"Package arrived damaged during shipping\",\"Wrong item was shipped\",\"Package arrived damaged during shipping\",\"Wrong item was shipped\",\"Customer changed mind\",\"Customer changed mind\",\"Package arrived damaged during shipping\",\"Package arrived damaged during shipping\",\"Product defective on arrival\",\"Customer changed mind\",\"Package arrived damaged during shipping\",\"Customer changed mind\",\"Product defective on arrival\"]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"tableDescription\": \"Stores individual product return records, linking each return to a specific order and order line item, capturing return date, reason, quantity, refund amount, processing status, and optional notes.\",\n  \"reasoning\": \"The primary key columns rtn_id, ord_id, and oli_id uniquely identify a return and reference an order (ord_id) and its line item (oli_id). The rtn_dt column holds dates, rsn contains limited enum values (WRG, DOA, DMG, CHG) matching typical return reasons. qty and amt represent quantity and monetary value of the return. sts holds status codes (A, R, P, C) common for processing stages. notes contains free‑text explanations of the return. The combination of these fields aligns with a sales return transaction table, which matches the listed table name sales.rtn.\",\n  \"confidence\": 0.96,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"rtn_id\",\n      \"description\": \"Unique identifier for each return transaction.\",\n      \"reasoning\": \"Primary key with 100% uniqueness; typical naming convention for a return ID.\"\n    },\n    {\n      \"columnName\": \"ord_id\",\n      \"description\": \"Identifier of the original order associated with the return.\",\n      \"reasoning\": \"Primary key, unique per row, and matches order IDs in sales.ord; links return to its order.\"\n    },\n    {\n      \"columnName\": \"oli_id\",\n      \"description\": \"Identifier of the specific order line item being returned.\",\n      \"reasoning\": \"Primary key, unique per row, and aligns with line‑item IDs in sales.oli; provides item‑level granularity.\"\n    },\n    {\n      \"columnName\": \"rtn_dt\",\n      \"description\": \"Date the return was processed or received.\",\n      \"reasoning\": \"Date type with unique values per row, typical for transaction timestamps.\"\n    },\n    {\n      \"columnName\": \"rsn\",\n      \"description\": \"Reason code for the return (e.g., Wrong item, Dead on Arrival, Damaged, Changed mind).\",\n      \"reasoning\": \"Char column with four distinct enum values (WRG, DOA, DMG, CHG) matching common return reasons.\"\n    },\n    {\n      \"columnName\": \"qty\",\n      \"description\": \"Quantity of items returned in this transaction.\",\n      \"reasoning\": \"Integer column with values 1‑5, indicating count of returned units.\"\n    },\n    {\n      \"columnName\": \"amt\",\n      \"description\": \"Monetary amount credited or refunded for the return.\",\n      \"reasoning\": \"Decimal column with varied values, consistent with refund amounts.\"\n    },\n    {\n      \"columnName\": \"sts\",\n      \"description\": \"Current processing status of the return (A=Approved, R=Received, P=Pending, C=Completed).\",\n      \"reasoning\": \"Char column with four distinct status codes, typical for workflow tracking.\"\n    },\n    {\n      \"columnName\": \"notes\",\n      \"description\": \"Optional free‑text comment providing additional detail about the return.\",\n      \"reasoning\": \"NVARCHAR column with a small set of distinct explanatory sentences matching the rsn values.\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"sales.ord\",\n      \"insight\": \"The presence of ord_id in this table confirms that returns are directly linked to orders, indicating that every return can be traced back to its originating order record.\",\n      \"confidence\": 0.88\n    },\n    {\n      \"parentTable\": \"sales.oli\",\n      \"insight\": \"The oli_id column shows that returns are captured at the line‑item level, revealing that the sales.oli table stores individual product entries per order.\",\n      \"confidence\": 0.86\n    }\n  ]\n}"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "shp",
            "action": "analyze",
            "result": "changed",
            "message": "Confidence: 0.96",
            "tokensUsed": 3704,
            "semanticComparison": {
              "tableMateriallyChanged": true,
              "tableChangeReasoning": "Initial generation (skipped semantic comparison)",
              "columnChanges": []
            },
            "timestamp": "2025-11-09T04:08:31.671Z",
            "promptInput": "You are analyzing a database table to generate comprehensive documentation. Your task is to infer the table's purpose based on the evidence provided.\n\n## Table Information\n- **Name**: \n- **Schema**: \n- **Row Count**: 1500\n\n\n## Columns\n\n- **shp_id** (int) NOT NULL\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 1500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [894,232,251,696,1088,216,296,1375,743,367,987,732,1049,861,1297,929,464,1215,1436,76]\n\n- **ord_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 1500 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [271,61,2,1186,792,156,1311,1227,1110,1308,1031,814,1160,1134,873,244,1232,617,1150,569]\n\n- **whs_id** (int)\n  - **PRIMARY KEY**\n  \n  \n  \n  - Distinct Values: 8 (100% unique)\n  \n  - Possible Values: 2, 5, 4, 3, 8, 1, 7, 6\n  \n  \n  - Sample Values: [5,4,1,1,5,3,4,1,3,5,8,1,1,3,1,6,4,7,2,6]\n\n- **ship_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 730 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [\"2024-05-15T00:00:00.000Z\",\"2023-03-19T00:00:00.000Z\",\"2024-05-26T00:00:00.000Z\",\"2023-02-13T00:00:00.000Z\",\"2023-06-20T00:00:00.000Z\",\"2023-10-04T00:00:00.000Z\",\"2023-02-27T00:00:00.000Z\",\"2024-06-24T00:00:00.000Z\",\"2023-03-06T00:00:00.000Z\",\"2023-08-24T00:00:00.000Z\",\"2023-10-19T00:00:00.000Z\",\"2024-10-26T00:00:00.000Z\",\"2023-12-11T00:00:00.000Z\",\"2023-06-11T00:00:00.000Z\",\"2023-04-04T00:00:00.000Z\",\"2024-11-06T00:00:00.000Z\",\"2025-01-03T00:00:00.000Z\",\"2024-10-29T00:00:00.000Z\",\"2023-02-14T00:00:00.000Z\",\"2023-02-22T00:00:00.000Z\"]\n\n- **dlv_dt** (date)\n  \n  \n  \n  \n  - Distinct Values: 292 (1946.7% unique)\n  - Nulls: 60%\n  \n  \n  \n  - Sample Values: [\"2023-12-28T00:00:00.000Z\",\"2023-08-11T00:00:00.000Z\",\"2023-06-21T00:00:00.000Z\",\"2023-04-08T00:00:00.000Z\",\"2024-03-27T00:00:00.000Z\",\"2024-03-22T00:00:00.000Z\",\"2023-10-25T00:00:00.000Z\",\"2024-10-04T00:00:00.000Z\",\"2023-02-21T00:00:00.000Z\",\"2023-11-23T00:00:00.000Z\",\"2024-07-16T00:00:00.000Z\",\"2023-04-22T00:00:00.000Z\",\"2023-10-24T00:00:00.000Z\",\"2023-02-22T00:00:00.000Z\",\"2023-08-20T00:00:00.000Z\",\"2024-06-16T00:00:00.000Z\",\"2024-12-02T00:00:00.000Z\",\"2023-04-28T00:00:00.000Z\",\"2024-11-18T00:00:00.000Z\",\"2023-09-09T00:00:00.000Z\"]\n\n- **carr** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: USPS Priority, DHL Express, FedEx Ground, UPS Next Day\n  \n  - Avg Length: 12 chars\n  - Sample Values: [\"UPS Next Day\",\"DHL Express\",\"UPS Next Day\",\"UPS Next Day\",\"UPS Next Day\",\"FedEx Ground\",\"UPS Next Day\",\"UPS Next Day\",\"USPS Priority\",\"FedEx Ground\",\"FedEx Ground\",\"UPS Next Day\",\"FedEx Ground\",\"FedEx Ground\",\"FedEx Ground\",\"FedEx Ground\",\"DHL Express\",\"DHL Express\",\"USPS Priority\",\"DHL Express\"]\n\n- **trk** (nvarchar)\n  \n  \n  \n  \n  - Distinct Values: 1500 (100% unique)\n  \n  \n  \n  - Avg Length: 15 chars\n  - Sample Values: [\"TRK202359999616\",\"TRK2024987648\",\"TRK202359135424\",\"TRK202365431680\",\"TRK2024115060992\",\"TRK2023135925056\",\"TRK20243703680\",\"TRK2024135307776\",\"TRK2023168887808\",\"TRK202432222016\",\"TRK2024112468416\",\"TRK202358518144\",\"TRK2024115801728\",\"TRK2024124937472\",\"TRK202496048768\",\"TRK2024110986944\",\"TRK2023177282816\",\"TRK2023145801536\",\"TRK20244567872\",\"TRK202359629248\"]\n\n- **sts** (char)\n  \n  \n  \n  \n  - Distinct Values: 4 (100% unique)\n  \n  - Possible Values: D, N, S, P\n  \n  - Avg Length: 1 chars\n  - Sample Values: [\"N\",\"D\",\"D\",\"N\",\"N\",\"P\",\"D\",\"N\",\"S\",\"P\",\"D\",\"P\",\"S\",\"D\",\"S\",\"P\",\"P\",\"D\",\"N\",\"N\"]\n\n- **wgt** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 50 (100% unique)\n  \n  \n  \n  \n  - Sample Values: [12.5,125,87.5,22.5,20,97.5,105,17.5,122.5,100,52.5,107.5,50,65,72.5,67.5,15,50,112.5,97.5]\n\n- **cost** (decimal)\n  \n  \n  \n  \n  - Distinct Values: 3 (100% unique)\n  \n  - Possible Values: 45, 25, 15\n  \n  \n  - Sample Values: [25,45,25,25,45,15,45,15,25,45,45,45,45,45,45,45,45,45,45,45]\n\n\n## Relationships\n\n\n\n\n\n**Note**: This table has no foreign key dependencies (dependency level 0). It is likely a foundational/lookup table.\n\n\n\n\n\n\n\n\n\n## All Database Tables\n**IMPORTANT**: When referring to foreign key relationships, you MUST use one of these exact table names:\n\n- inv.adj\n\n- inv.cat\n\n- inv.cnt\n\n- inv.po\n\n- inv.po_dtl\n\n- inv.prd\n\n- inv.rcv\n\n- inv.stk\n\n- inv.sup\n\n- inv.whs\n\n- sales.addr\n\n- sales.cst\n\n- sales.cst_note\n\n- sales.eml\n\n- sales.oli\n\n- sales.ord\n\n- sales.phn\n\n- sales.pmt\n\n- sales.rtn\n\n- sales.shp\n\n\n**Do NOT make up table names** - only use the exact names listed above.\n\n\n---\n\n## Your Task\n\nBased on the evidence above, generate a JSON response with this exact structure:\n\n```json\n{\n  \"tableDescription\": \"A clear, concise description of what this table stores and its purpose in the database\",\n  \"reasoning\": \"Explain the evidence that led to this conclusion (column names, data types, relationships, sample values, etc.)\",\n  \"confidence\": 0.95,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"ColumnName\",\n      \"description\": \"What this column represents and why it exists\",\n      \"reasoning\": \"Brief explanation of the evidence\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"schema.table\",\n      \"insight\": \"What this analysis reveals about the parent table that wasn't known before\",\n      \"confidence\": 0.85\n    }\n  ]\n}\n```\n\n**Guidelines:**\n1. **Table Description**: Focus on WHAT the table stores and WHY it exists. Be specific about the real-world entities or business processes it represents.\n2. **Reasoning**: Reference specific evidence (column names, FK relationships, sample values, cardinality patterns)\n3. **Confidence**: 0-1 scale. Be conservative. Use < 0.7 if ambiguous.\n4. **Column Descriptions**: Every column should be described. Explain its role and meaning.\n5. **Business Domain**: Infer from table name and purpose (e.g., \"Sales\", \"HR\", \"Inventory\", \"Billing\", \"Security\")\n6. **Parent Table Insights**: If analyzing this child table reveals new information about parent tables, include it. Examples:\n   - Discovering enum values in the parent (e.g., \"Member table has a 'Type' column with values: Individual, Corporate, Student\")\n   - Revealing parent table classification/purpose (e.g., \"BoardMember reveals that Member table includes leadership roles, not just general members\")\n   - Identifying parent table patterns (e.g., \"Multiple child tables suggest Organization serves as a multi-tenant partition key\")\n   - **Leave empty array if no new insights about parents**\n\n**Important:**\n- If column has low cardinality (< 20 distinct values), those are likely enum/category values - use them to understand meaning\n- Foreign keys reveal relationships and context - use parent table descriptions to inform your analysis\n- High uniqueness ratio (> 95%) suggests identifier/code column\n- String length patterns can reveal format (e.g., phone, email, code)\n- Null percentage reveals whether column is required or optional\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\n  \"tableDescription\": \"Stores shipment records linking orders to the warehouse they were shipped from, including shipping and delivery dates, carrier, tracking number, status, weight and cost of each shipment.\",\n  \"reasoning\": \"Column names (shp_id, ord_id, whs_id, ship_dt, dlv_dt, carr, trk, sts, wgt, cost) and sample values (e.g., carrier values USPS Priority, DHL Express, tracking numbers prefixed with TRK, status codes D,N,S,P) clearly describe shipment information. The composite primary key (shp_id, ord_id, whs_id) indicates each shipment is uniquely identified while being associated with a specific order and warehouse. Nulls on dlv_dt (60%) match real‑world deliveries that may not yet be completed.\",\n  \"confidence\": 0.96,\n  \"columnDescriptions\": [\n    {\n      \"columnName\": \"shp_id\",\n      \"description\": \"Unique identifier for each shipment record.\",\n      \"reasoning\": \"Integer, 1500 distinct values (100% unique) and part of the primary key.\"\n    },\n    {\n      \"columnName\": \"ord_id\",\n      \"description\": \"Foreign key to the order that the shipment fulfills.\",\n      \"reasoning\": \"Integer, unique per row but repeats across shipments; matches typical order identifier pattern.\"\n    },\n    {\n      \"columnName\": \"whs_id\",\n      \"description\": \"Identifier of the warehouse from which the shipment originated.\",\n      \"reasoning\": \"Low cardinality (8 distinct values) and listed as a primary‑key component, indicating a lookup to inv.whs.\"\n    },\n    {\n      \"columnName\": \"ship_dt\",\n      \"description\": \"Date the shipment left the warehouse.\",\n      \"reasoning\": \"Date column with 730 distinct values (one per day over two years), typical for shipping dates.\"\n    },\n    {\n      \"columnName\": \"dlv_dt\",\n      \"description\": \"Actual delivery date; may be null if delivery has not occurred.\",\n      \"reasoning\": \"Date column with 60% nulls, reflecting pending deliveries.\"\n    },\n    {\n      \"columnName\": \"carr\",\n      \"description\": \"Carrier used for the shipment (e.g., USPS Priority, DHL Express).\",\n      \"reasoning\": \"String column with only four possible values, typical enumeration of shipping carriers.\"\n    },\n    {\n      \"columnName\": \"trk\",\n      \"description\": \"Tracking number assigned by the carrier.\",\n      \"reasoning\": \"Unique string per row, length ~15, prefixed with 'TRK', matching tracking code patterns.\"\n    },\n    {\n      \"columnName\": \"sts\",\n      \"description\": \"Current shipment status code (D=Delivered, N=Not shipped, S=Shipped, P=Pending).\",\n      \"reasoning\": \"Single‑character enum with four distinct values, common for status flags.\"\n    },\n    {\n      \"columnName\": \"wgt\",\n      \"description\": \"Weight of the shipment (likely in pounds or kilograms).\",\n      \"reasoning\": \"Decimal with 50 distinct values, representing typical weight increments.\"\n    },\n    {\n      \"columnName\": \"cost\",\n      \"description\": \"Shipping cost charged for the shipment.\",\n      \"reasoning\": \"Decimal with only three possible values (15, 25, 45), indicating tiered shipping rates.\"\n    }\n  ],\n  \"inferredBusinessDomain\": \"Sales\",\n  \"parentTableInsights\": [\n    {\n      \"parentTable\": \"sales.ord\",\n      \"insight\": \"Each order can have multiple shipment rows, showing that orders may be split across warehouses or shipped in multiple batches.\",\n      \"confidence\": 0.88\n    },\n    {\n      \"parentTable\": \"inv.whs\",\n      \"insight\": \"The eight distinct whs_id values confirm there are eight warehouse locations defined in the inventory system.\",\n      \"confidence\": 0.85\n    }\n  ]\n}"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "prd",
            "action": "backpropagate",
            "result": "unchanged",
            "message": "No revision needed",
            "tokensUsed": 1104,
            "timestamp": "2025-11-09T04:08:37.333Z"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "whs",
            "action": "backpropagate",
            "result": "unchanged",
            "message": "No revision needed",
            "tokensUsed": 1014,
            "timestamp": "2025-11-09T04:08:38.028Z"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "sup",
            "action": "backpropagate",
            "result": "unchanged",
            "message": "No revision needed",
            "tokensUsed": 912,
            "timestamp": "2025-11-09T04:08:38.686Z"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "po",
            "action": "backpropagate",
            "result": "changed",
            "message": "Description revised based on child table insights",
            "tokensUsed": 1309,
            "timestamp": "2025-11-09T04:08:40.196Z"
          },
          {
            "level": 0,
            "schema": "inv",
            "table": "cat",
            "action": "backpropagate",
            "result": "unchanged",
            "message": "No revision needed",
            "tokensUsed": 920,
            "timestamp": "2025-11-09T04:08:40.998Z"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "cst",
            "action": "backpropagate",
            "result": "changed",
            "message": "Description revised based on child table insights",
            "tokensUsed": 1826,
            "timestamp": "2025-11-09T04:08:43.358Z"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "ord",
            "action": "backpropagate",
            "result": "unchanged",
            "message": "No revision needed",
            "tokensUsed": 1284,
            "timestamp": "2025-11-09T04:08:44.490Z"
          },
          {
            "level": 0,
            "schema": "sales",
            "table": "oli",
            "action": "backpropagate",
            "result": "changed",
            "message": "Description revised based on child table insights",
            "tokensUsed": 1332,
            "timestamp": "2025-11-09T04:08:45.971Z"
          }
        ],
        "sanityChecks": [
          {
            "timestamp": "2025-11-09T04:08:36.375Z",
            "checkType": "dependency_level",
            "scope": "level 0",
            "hasMaterialIssues": true,
            "issuesFound": 4,
            "tablesAffected": [
              "sales.note",
              "sales.oli",
              "sales.pmt",
              "inv.po"
            ],
            "result": "issues_corrected",
            "tokensUsed": 6670,
            "promptInput": "You are reviewing a group of database tables that were analyzed together at the same dependency level. Your task is to identify **MATERIAL** inconsistencies or logical issues in how these tables are described and related to each other.\n\n## Dependency Level 0\n\nThese tables all have the same dependency level, meaning they depend on the same set of parent tables and are analyzed together as a cohesive group.\n\n### Tables at This Level\n\n\n#### \n\n**Description**: Stores inventory adjustment records, capturing changes to product stock levels in specific warehouses, the reason for the change, the user who performed it, and optional notes.\n\n**Columns**:\n\n- **adj_id** (): Primary key uniquely identifying each inventory adjustment entry.\n\n- **prd_id** (): Identifier of the product whose stock is being adjusted; references the product master table (inv.prd).\n\n- **whs_id** (): Identifier of the warehouse where the adjustment took place; references the warehouse table (inv.whs).\n\n- **adj_dt** (): Date the adjustment was recorded.\n\n- **qty** (): Quantity change; positive values increase stock, negative values decrease stock.\n\n- **rsn** (): Reason code for the adjustment: EXP (expired), STL (stolen), DAM (damaged), COR (correction).\n\n- **usr** (): Name of the user who performed the adjustment.\n\n- **notes** (): Optional free‑text comment providing additional context for the adjustment.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: A hierarchical lookup table that defines inventory categories and sub‑categories used to classify products and assets within the system.\n\n**Columns**:\n\n- **cat_id** (): Unique identifier for each category record\n\n- **prnt_id** (): Identifier of the parent category, creating a self‑referencing hierarchy\n\n- **nm** (): Short name of the category (e.g., Electronics, Chairs)\n\n- **dsc** (): Longer textual description of the category’s purpose or contents\n\n- **lvl** (): Hierarchy level of the category (1 = top‑level, 2 = sub‑category)\n\n- **seq** (): Display order of the category within its parent group\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: This table stores inventory count (stock‑take) records. Each row captures the expected system quantity versus the physically counted quantity for a specific product in a specific warehouse on a particular date, together with the variance and the user who performed the count.\n\n**Columns**:\n\n- **cnt_id** (): Surrogate primary‑key for the count record; uniquely identifies each stock‑take entry.\n\n- **whs_id** (): Identifier of the warehouse where the count was performed; links to the inv.whs table.\n\n- **cnt_dt** (): Date on which the inventory count took place.\n\n- **prd_id** (): Identifier of the product being counted; links to the inv.prd table.\n\n- **exp_qty** (): Quantity the system expected to have on hand before the physical count.\n\n- **act_qty** (): Quantity actually observed during the physical count.\n\n- **var** (): Variance between expected and actual quantities (exp_qty‑act_qty); limited to a few discrete values.\n\n- **usr** (): Name of the user/employee who performed the count.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge and optional notes.\n\n**Columns**:\n\n- **po_id** (): Unique identifier for the purchase order\n\n- **sup_id** (): Identifier of the supplier associated with the order\n\n- **po_dt** (): Date the purchase order was created\n\n- **exp_dt** (): Expected delivery date for the order\n\n- **sts** (): Current status of the purchase order (single‑letter code)\n\n- **tot** (): Total monetary amount of the purchase order\n\n- **ship_amt** (): Shipping charge applied to the order (0 or 150)\n\n- **notes** (): Optional free‑text notes, often indicating expedited shipping\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores line‑item details for purchase orders, linking each purchase order (po_id) to a product (prd_id) with ordered quantity, unit price and received quantity. Each row represents one product line on a PO.\n\n**Columns**:\n\n- **po_id** (): Identifier of the purchase order this line belongs to\n\n- **seq** (): Line sequence number of the item within the purchase order\n\n- **prd_id** (): Identifier of the product being ordered\n\n- **qty** (): Quantity ordered for the product\n\n- **prc** (): Unit price of the product at the time of ordering\n\n- **rcv_qty** (): Quantity of the product that has been received against the order line\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Master product table storing detailed information for each inventory item, including identifiers, categorization, supplier, SKU, name, description, pricing, cost, status, weight and unit of measure.\n\n**Columns**:\n\n- **prd_id** (): Unique product identifier (primary key) for each row.\n\n- **cat_id** (): Identifier of the product's category, likely referencing inv.cat.\n\n- **sup_id** (): Identifier of the supplier providing the product, likely referencing inv.sup.\n\n- **sku** (): Stock Keeping Unit code used for inventory tracking.\n\n- **nm** (): Human‑readable product name.\n\n- **dsc** (): Short product description or marketing copy.\n\n- **prc** (): Selling price of the product.\n\n- **cost** (): Cost to acquire or produce the product.\n\n- **sts** (): Product status flag (A=Active, O=On hold?, D=Discontinued).\n\n- **wgt** (): Weight of the product, measured in the unit defined by uom.\n\n- **uom** (): Unit of measure for quantity (EA=Each, BX=Box, CS=Case).\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores records of goods received against purchase orders, capturing when and where each receipt occurred and any notes about partial shipments or backorders.\n\n**Columns**:\n\n- **rcv_id** (): Unique identifier for each receipt record\n\n- **po_id** (): Identifier of the purchase order associated with the receipt\n\n- **rcv_dt** (): Date the goods were received\n\n- **whs_id** (): Identifier of the warehouse where the receipt was logged\n\n- **notes** (): Optional free‑text notes about the receipt, often indicating partial shipment or backorder\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores inventory levels and stock thresholds for each product at each warehouse, tracking on‑hand quantity, reserved quantity, and recent count/receipt dates.\n\n**Columns**:\n\n- **prd_id** (): Identifier of the product; links to inv.prd table\n\n- **whs_id** (): Identifier of the warehouse; links to inv.whs table\n\n- **qty** (): Current on‑hand quantity of the product at the warehouse\n\n- **rsv** (): Quantity of the product reserved for pending orders\n\n- **min_qty** (): Minimum desired stock level (reorder point) for the product at the warehouse\n\n- **max_qty** (): Maximum allowable stock level for the product at the warehouse\n\n- **lst_cnt** (): Date of the last physical inventory count for this product‑warehouse pair\n\n- **lst_rcv** (): Date of the most recent stock receipt for this product‑warehouse pair\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores master information about suppliers/vendors that provide products to the company, including their identifier, name, status, payment terms, rating, and primary contact details.\n\n**Columns**:\n\n- **sup_id** (): Unique identifier for each supplier (primary key).\n\n- **nm** (): Legal or trade name of the supplier.\n\n- **sts** (): Current status of the supplier (e.g., A=Active, I=Inactive, S=Suspended, T=Terminated).\n\n- **pmt_trm** (): Standard payment terms offered to the supplier (e.g., Net 30, Net 60, COD).\n\n- **rtg** (): Supplier rating on a scale of 1 (lowest) to 5 (highest).\n\n- **cnt_nm** (): Name of the primary contact person for the supplier.\n\n- **cnt_phn** (): Phone number of the primary contact.\n\n- **cnt_eml** (): Email address of the primary contact.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Master table storing information about each warehouse used in the inventory system, including its identifier, code, name, location, type, capacity and operational status.\n\n**Columns**:\n\n- **whs_id** (): Unique integer identifier for each warehouse record\n\n- **cd** (): Three‑character warehouse code, usually an airport or city abbreviation\n\n- **nm** (): Full descriptive name of the warehouse or distribution center\n\n- **cty** (): City where the warehouse is located\n\n- **st** (): Two‑letter state abbreviation for the warehouse location\n\n- **typ** (): Warehouse type/category (R=Regional, M=Manufacturing, D=Distribution)\n\n- **cap** (): Storage capacity of the warehouse (e.g., square feet or cubic units)\n\n- **sts** (): Operational status flag (A=Active, M=Maintenance/Closed)\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores mailing and contact addresses associated with customers, including address lines, city, state, zip, country, type (shipping, billing, other) and a flag indicating the default address for the customer\n\n**Columns**:\n\n- **addr_id** (): Surrogate primary key for each address record\n\n- **cst_id** (): Foreign key linking the address to a customer in sales.cst\n\n- **typ** (): Address type code: S=Shipping, B=Billing, O=Other/Office\n\n- **ln1** (): First line of the street address (street number and name)\n\n- **ln2** (): Second line of the address, often a suite or apartment number; optional (75% null)\n\n- **cty** (): City name for the address\n\n- **st** (): Two‑letter US state abbreviation\n\n- **zip** (): 5‑digit ZIP code for the address\n\n- **ctry** (): Country code, always 'US'\n\n- **dflt** (): Boolean flag indicating whether this address is the default for the customer (or for its type)\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores core customer information for the sales domain, including identification, contact name, status, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit and the date of the most recent order.\n\n**Columns**:\n\n- **cst_id** (): Unique customer identifier (primary key).\n\n- **nm** (): Customer name – can be an individual or a company name.\n\n- **sts** (): Current status of the customer (e.g., A=Active, S=Suspended, I=Inactive, T=Terminated).\n\n- **dt** (): Date the customer record was created or became effective.\n\n- **src** (): Acquisition source code (WB=Web, ST=Store, RF=Referral, PH=Phone).\n\n- **rep_id** (): Identifier of the sales representative responsible for the customer.\n\n- **seg** (): Market segment classification (W=Wholesale, R=Retail, E=Enterprise).\n\n- **rtg** (): Customer rating on a scale of 1 to 5.\n\n- **bal** (): Current account balance (outstanding amount).\n\n- **cr_lmt** (): Credit limit assigned to the customer.\n\n- **lst_ord** (): Date of the most recent order placed by the customer (nullable).\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores individual notes or interactions related to customers, capturing when, by whom, and what was communicated, along with a short type code for the interaction\n\n**Columns**:\n\n- **note_id** (): Unique identifier for each customer note record\n\n- **cst_id** (): Identifier of the customer the note pertains to (foreign key to sales.ord.cst_id)\n\n- **dt** (): Date when the note was created or the interaction occurred\n\n- **usr** (): Name of the employee or user who recorded the note\n\n- **txt** (): Full text of the note describing the interaction or follow‑up\n\n- **typ** (): One‑character code indicating the interaction type (M=Meeting, E=Email, O=Other, C=Call)\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores email addresses associated with customers, including type, verification status, and default flag.\n\n**Columns**:\n\n- **eml_id** (): Surrogate primary key for each email record\n\n- **cst_id** (): Foreign key to the customer (sales.cst) that owns the email\n\n- **typ** (): Category of email address (W=Work, P=Personal, O=Other)\n\n- **adr** (): The actual email address string\n\n- **vrf** (): Flag indicating if the email address has been verified\n\n- **dflt** (): Flag indicating if this email is the default contact for the customer\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: This table stores individual order line items, linking each product purchased to a specific sales order and capturing the quantity, price, discount, tax and line sequence within the order.\n\n**Columns**:\n\n- **oli_id** (): Surrogate primary key that uniquely identifies each line‑item record.\n\n- **ord_id** (): Identifier of the sales order to which the line item belongs (foreign key to sales.ord).\n\n- **prd_id** (): Identifier of the product being sold (foreign key to sales.prd).\n\n- **qty** (): Quantity of the product ordered on this line.\n\n- **prc** (): Unit price of the product at the time of the order (before discount).\n\n- **disc** (): Discount amount applied to this line item (could be zero).\n\n- **tax_amt** (): Tax amount calculated for this line item.\n\n- **seq** (): Sequence number of the line item within the order (1‑6).\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: This table stores order header information for sales transactions, capturing each order's unique identifier, associated customer, dates, status, monetary totals, shipping details, payment terms, and optional notes.\n\n**Columns**:\n\n- **ord_id** (): Unique identifier for each order (primary key component).\n\n- **cst_id** (): Identifier of the customer who placed the order, linking to the sales.cst table.\n\n- **ord_dt** (): Date the order was created.\n\n- **ship_dt** (): Date the order was shipped; null when not yet shipped.\n\n- **sts** (): Current status of the order (e.g., D=Delivered, C=Cancelled, S=Shipped, P=Pending, X=Exception).\n\n- **tot** (): Total monetary amount of the order before tax and discounts.\n\n- **tax** (): Tax amount applied to the order.\n\n- **ship_amt** (): Shipping charge for the order (0, 15, or 25).\n\n- **disc_pct** (): Discount percentage applied to the order (0 or 10%).\n\n- **pmt_trm** (): Payment terms for the order (e.g., N30 = Net 30 days, COD = Cash on Delivery, N45, N60).\n\n- **notes** (): Optional free‑text notes; when present, indicates a rush order with expedited shipping.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores each customer's phone contact information, including the phone number, its type (work, mobile, home, fax), optional extension, and a flag indicating the default number for the customer.\n\n**Columns**:\n\n- **phn_id** (): Unique identifier for each phone record\n\n- **cst_id** (): Identifier of the customer that owns the phone number\n\n- **typ** (): Phone type code (W=Work, M=Mobile, H=Home, F=Fax)\n\n- **num** (): The phone number itself, stored as a formatted string\n\n- **ext** (): Optional telephone extension, nullable for most rows\n\n- **dflt** (): Boolean flag indicating whether this is the customer's default phone number\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores individual payment transactions made by customers for orders, capturing amount, date, method, status, and reference details.\n\n**Columns**:\n\n- **pmt_id** (): Unique identifier for each payment record\n\n- **ord_id** (): Identifier of the order line the payment is applied to (nullable)\n\n- **cst_id** (): Customer identifier associated with the payment\n\n- **pmt_dt** (): Date the payment was made\n\n- **amt** (): Monetary amount of the payment\n\n- **mthd** (): Payment method code (WR=Wire, CA=Cash, CK=Check, CC=Credit Card)\n\n- **sts** (): Payment status code (A=Approved, F=Failed, P=Pending, R=Refunded)\n\n- **ref** (): External reference code for the payment, formatted like PMT-YYYY-NNNNN\n\n- **notes** (): Optional free‑text note, primarily used for credit applications\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores individual product return records, linking each return to a specific order and order line item, capturing return date, reason, quantity, refund amount, processing status, and optional notes.\n\n**Columns**:\n\n- **rtn_id** (): Unique identifier for each return transaction.\n\n- **ord_id** (): Identifier of the original order associated with the return.\n\n- **oli_id** (): Identifier of the specific order line item being returned.\n\n- **rtn_dt** (): Date the return was processed or received.\n\n- **rsn** (): Reason code for the return (e.g., Wrong item, Dead on Arrival, Damaged, Changed mind).\n\n- **qty** (): Quantity of items returned in this transaction.\n\n- **amt** (): Monetary amount credited or refunded for the return.\n\n- **sts** (): Current processing status of the return (A=Approved, R=Received, P=Pending, C=Completed).\n\n- **notes** (): Optional free‑text comment providing additional detail about the return.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n#### \n\n**Description**: Stores shipment records linking orders to the warehouse they were shipped from, including shipping and delivery dates, carrier, tracking number, status, weight and cost of each shipment.\n\n**Columns**:\n\n- **shp_id** (): Unique identifier for each shipment record.\n\n- **ord_id** (): Foreign key to the order that the shipment fulfills.\n\n- **whs_id** (): Identifier of the warehouse from which the shipment originated.\n\n- **ship_dt** (): Date the shipment left the warehouse.\n\n- **dlv_dt** (): Actual delivery date; may be null if delivery has not occurred.\n\n- **carr** (): Carrier used for the shipment (e.g., USPS Priority, DHL Express).\n\n- **trk** (): Tracking number assigned by the carrier.\n\n- **sts** (): Current shipment status code (D=Delivered, N=Not shipped, S=Shipped, P=Pending).\n\n- **wgt** (): Weight of the shipment (likely in pounds or kilograms).\n\n- **cost** (): Shipping cost charged for the shipment.\n\n\n**Depends On**:\n\n\n**Referenced By**:\n\n\n---\n\n\n\n## Your Task\n\nReview these tables as a group and identify **MATERIAL** issues only. Focus on:\n\n1. **Relationship Consistency**: Do foreign key descriptions align between parent and child tables?\n2. **Business Logic Coherence**: Do the table descriptions make sense together as a group?\n3. **Terminology Consistency**: Are similar concepts described using consistent terminology?\n4. **Logical Contradictions**: Are there contradictions in how tables relate or what they represent?\n5. **Missing Context**: Are there critical details missing that affect understanding of the group?\n\n## What Counts as MATERIAL\n\n**MATERIAL issues** (flag these):\n- Contradictory descriptions of the same relationship\n- Misidentified business purpose that affects other tables\n- Missing critical information about how tables interact\n- Incorrect understanding of cardinality or relationship types\n- Terminology conflicts that create confusion (e.g., \"member\" means different things)\n\n**NOT material** (ignore these):\n- Minor wording differences\n- Stylistic variations\n- Different levels of detail that don't contradict\n- Grammar or formatting issues\n- Redundant information that's technically correct\n\n## Response Format\n\nGenerate a JSON response with this exact structure:\n\n```json\n{\n  \"hasMaterialIssues\": false,\n  \"overallAssessment\": \"Brief summary of the dependency level's coherence\",\n  \"tableIssues\": [\n    {\n      \"tableName\": \"TableName\",\n      \"issueType\": \"relationship_inconsistency | business_logic | terminology | contradiction | missing_context\",\n      \"severity\": \"high | medium | low\",\n      \"description\": \"Specific description of the material issue\",\n      \"affectedTables\": [\"Table1\", \"Table2\"],\n      \"suggestedFix\": \"What should be corrected in the description\"\n    }\n  ],\n  \"crossTableObservations\": [\n    {\n      \"observation\": \"Broader pattern or insight across multiple tables\",\n      \"tables\": [\"Table1\", \"Table2\", \"Table3\"]\n    }\n  ]\n}\n```\n\n**Guidelines:**\n- Set `hasMaterialIssues: true` ONLY if you found material problems\n- Be specific about which tables and descriptions need correction\n- Focus on issues that would mislead someone trying to understand the database\n- Group related issues together in crossTableObservations when appropriate\n\nReturn ONLY valid JSON. Do not include markdown code fences or explanatory text.\n",
            "promptOutput": "{\"hasMaterialIssues\":true,\"overallAssessment\":\"The group shows several critical relationship mismatches, especially between sales and inventory schemas, and a missing foreign‑key description for purchase orders; otherwise the tables are generally coherent.\",\"tableIssues\":[{\"tableName\":\"sales.note\",\"issueType\":\"relationship_inconsistency\",\"severity\":\"high\",\"description\":\"cst_id is said to reference sales.ord.cst_id, but notes belong to a customer, not an order; it should reference sales.cst.\",\"affectedTables\":[\"sales.note\",\"sales.ord\",\"sales.cst\"],\"suggestedFix\":\"Change foreign key to reference sales.cst (customer) instead of sales.ord\"},{\"tableName\":\"sales.oli\",\"issueType\":\"relationship_inconsistency\",\"severity\":\"high\",\"description\":\"prd_id is described as referencing sales.prd, yet the product master exists only as inv.prd; this creates a non‑existent relationship.\",\"affectedTables\":[\"sales.oli\",\"inv.prd\"],\"suggestedFix\":\"Update the foreign key to point to inv.prd (inventory product master) and rename the reference accordingly\"},{\"tableName\":\"sales.pmt\",\"issueType\":\"relationship_inconsistency\",\"severity\":\"high\",\"description\":\"ord_id is described as the identifier of the order line the payment is applied to, but the column name suggests a link to the order header; the description and column purpose conflict.\",\"affectedTables\":[\"sales.pmt\",\"sales.ord\",\"sales.oli\"],\"suggestedFix\":\"Clarify whether payments apply to the order header or a specific line; if to the header, keep ord_id and adjust description; if to a line, rename column to oli_id and reference sales.oli\"},{\"tableName\":\"inv.po\",\"issueType\":\"missing_context\",\"severity\":\"medium\",\"description\":\"sup_id column exists but no foreign‑key relationship is documented; it should reference the supplier master table.\",\"affectedTables\":[\"inv.po\",\"inv.sup\"],\"suggestedFix\":\"Add a foreign‑key description indicating sup_id references inv.sup.sup_id\"}],\"crossTableObservations\":[{\"observation\":\"Sales‑side tables inconsistently reference a non‑existent sales.prd instead of the inventory product master (inv.prd), leading to ambiguous product relationships across schemas.\",\"tables\":[\"sales.oli\",\"sales.ord\",\"sales.rtn\",\"sales.shp\"]},{\"observation\":\"Many tables reuse generic column names such as sts, qty, and usr without a unified definition, which can cause confusion when integrating data across modules.\",\"tables\":[\"inv.adj\",\"inv.cnt\",\"inv.po\",\"inv.pol\",\"inv.stk\",\"sales.ord\",\"sales.oli\",\"sales.pmt\",\"sales.rtn\",\"sales.shp\"]}]}"
          }
        ]
      }
    ],
    "keyDetection": {
      "triggered": true,
      "triggerReason": "both",
      "triggerDetails": {
        "tablesWithoutPK": 20,
        "expectedFKs": 40,
        "actualFKs": 0,
        "fkDeficitPercentage": 100
      },
      "startedAt": "2025-11-09T04:07:31.123Z",
      "tokenBudget": {
        "allocated": 100000,
        "used": 3908,
        "remaining": 96092
      },
      "iterations": [
        {
          "iteration": 1,
          "phase": "backprop",
          "startedAt": "2025-11-09T04:07:31.124Z",
          "completedAt": "2025-11-09T04:07:38.904Z",
          "tokensUsed": 3908,
          "discoveries": {
            "newPKs": [
              {
                "schemaName": "inv",
                "tableName": "adj",
                "columnNames": [
                  "adj_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 300,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "adj",
                "columnNames": [
                  "adj_id",
                  "prd_id",
                  "whs_id"
                ],
                "confidence": 80,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "cat",
                "columnNames": [
                  "cat_id"
                ],
                "confidence": 98,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 20,
                  "dataPattern": "sequential",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "cat",
                "columnNames": [
                  "cat_id",
                  "prnt_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "cnt",
                "columnNames": [
                  "cnt_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 250,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "cnt",
                "columnNames": [
                  "cnt_id",
                  "whs_id",
                  "prd_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "po",
                "columnNames": [
                  "po_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 150,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "po",
                "columnNames": [
                  "po_id",
                  "sup_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "po_dtl",
                "columnNames": [
                  "po_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 150,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "po_dtl",
                "columnNames": [
                  "po_id",
                  "prd_id"
                ],
                "confidence": 80,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "prd",
                "columnNames": [
                  "prd_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 177,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "prd",
                "columnNames": [
                  "prd_id",
                  "cat_id",
                  "sup_id"
                ],
                "confidence": 85,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "rcv",
                "columnNames": [
                  "rcv_id",
                  "po_id",
                  "whs_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "stk",
                "columnNames": [
                  "prd_id",
                  "whs_id"
                ],
                "confidence": 80,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "inv",
                "tableName": "sup",
                "columnNames": [
                  "sup_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 25,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "inv",
                "tableName": "whs",
                "columnNames": [
                  "whs_id"
                ],
                "confidence": 98,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 8,
                  "dataPattern": "sequential",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "addr",
                "columnNames": [
                  "addr_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 800,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "addr",
                "columnNames": [
                  "addr_id",
                  "cst_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "cst",
                "columnNames": [
                  "cst_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 500,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "cst",
                "columnNames": [
                  "cst_id",
                  "rep_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "cst_note",
                "columnNames": [
                  "note_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 450,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "eml",
                "columnNames": [
                  "eml_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 550,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "eml",
                "columnNames": [
                  "eml_id",
                  "cst_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "oli",
                "columnNames": [
                  "oli_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 6998,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "oli",
                "columnNames": [
                  "oli_id",
                  "ord_id",
                  "prd_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "ord",
                "columnNames": [
                  "ord_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 2000,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "ord",
                "columnNames": [
                  "ord_id",
                  "cst_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "phn",
                "columnNames": [
                  "phn_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 600,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "phn",
                "columnNames": [
                  "phn_id",
                  "cst_id"
                ],
                "confidence": 95,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "pmt",
                "columnNames": [
                  "pmt_id"
                ],
                "confidence": 93,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 2200,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "rtn",
                "columnNames": [
                  "rtn_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 150,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "rtn",
                "columnNames": [
                  "rtn_id",
                  "ord_id",
                  "oli_id"
                ],
                "confidence": 75,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              },
              {
                "schemaName": "sales",
                "tableName": "shp",
                "columnNames": [
                  "shp_id"
                ],
                "confidence": 88,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1500,
                  "dataPattern": "unknown",
                  "namingScore": 0.8999999999999999,
                  "dataTypeScore": 1,
                  "warnings": []
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "tableName": "shp",
                "columnNames": [
                  "shp_id",
                  "ord_id",
                  "whs_id"
                ],
                "confidence": 85,
                "evidence": {
                  "uniqueness": 1,
                  "nullCount": 0,
                  "totalRows": 1000,
                  "dataPattern": "composite",
                  "namingScore": 0.8,
                  "dataTypeScore": 0.9,
                  "warnings": [
                    "Composite key - verify with domain expert"
                  ]
                },
                "discoveredInIteration": 1,
                "validatedByLLM": false,
                "status": "rejected"
              }
            ],
            "newFKs": [],
            "validated": [],
            "rejected": [],
            "confidenceChanges": []
          },
          "backpropTriggered": false
        },
        {
          "iteration": 2,
          "phase": "backprop",
          "startedAt": "2025-11-09T04:07:38.905Z",
          "completedAt": "2025-11-09T04:07:39.658Z",
          "tokensUsed": 0,
          "discoveries": {
            "newPKs": [],
            "newFKs": [
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "inv",
                "targetTable": "cnt",
                "targetColumn": "cnt_id",
                "confidence": 100,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1.8,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": true,
                "status": "confirmed"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "inv",
                "targetTable": "cnt",
                "targetColumn": "cnt_id",
                "confidence": 95,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1.8,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "cst",
                "targetColumn": "cst_id",
                "confidence": 92,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "cst",
                "targetColumn": "cst_id",
                "confidence": 92,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "eml",
                "targetColumn": "cst_id",
                "confidence": 92,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "phn",
                "targetColumn": "cst_id",
                "confidence": 92,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "cst",
                "targetColumn": "cst_id",
                "confidence": 92,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "eml",
                "targetColumn": "cst_id",
                "confidence": 92,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "phn",
                "targetColumn": "cst_id",
                "confidence": 92,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "pmt",
                "targetColumn": "pmt_id",
                "confidence": 80,
                "evidence": {
                  "namingMatch": 0.6666666666666667,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.20454545454545456,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "Cardinality suggests one:many instead of many:one"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "addr",
                "targetColumn": "cst_id",
                "confidence": 63,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 0.95,
                  "cardinalityRatio": 0.9453781512605042,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 22,
                  "warnings": [
                    "22 orphaned values found"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "ord",
                "targetColumn": "cst_id",
                "confidence": 63,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 0.95,
                  "cardinalityRatio": 0.9453781512605042,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 22,
                  "warnings": [
                    "22 orphaned values found"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "addr",
                "targetColumn": "cst_id",
                "confidence": 63,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 0.95,
                  "cardinalityRatio": 0.9453781512605042,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 22,
                  "warnings": [
                    "22 orphaned values found"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "cst_note",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "ord",
                "targetColumn": "cst_id",
                "confidence": 63,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 0.95,
                  "cardinalityRatio": 0.9453781512605042,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 22,
                  "warnings": [
                    "22 orphaned values found"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "inv",
                "targetTable": "cnt",
                "targetColumn": "cnt_id",
                "confidence": 97,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 2,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "inv",
                "targetTable": "cnt",
                "targetColumn": "cnt_id",
                "confidence": 97,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 2,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "cst",
                "targetColumn": "cst_id",
                "confidence": 93,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "cst",
                "targetColumn": "cst_id",
                "confidence": 93,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "eml",
                "targetColumn": "cst_id",
                "confidence": 93,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "phn",
                "targetColumn": "cst_id",
                "confidence": 93,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "cst",
                "targetColumn": "cst_id",
                "confidence": 93,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "eml",
                "targetColumn": "cst_id",
                "confidence": 93,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "phn",
                "targetColumn": "cst_id",
                "confidence": 93,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": []
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "inv",
                "targetTable": "adj",
                "targetColumn": "prd_id",
                "confidence": 100,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 9,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": true,
                "status": "confirmed"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "inv",
                "targetTable": "cnt",
                "targetColumn": "prd_id",
                "confidence": 87,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 9,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "inv",
                "targetTable": "po_dtl",
                "targetColumn": "prd_id",
                "confidence": 87,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 9,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "inv",
                "targetTable": "prd",
                "targetColumn": "prd_id",
                "confidence": 87,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 10.169491525423728,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "inv",
                "targetTable": "prd",
                "targetColumn": "prd_id",
                "confidence": 87,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 10.169491525423728,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "inv",
                "targetTable": "stk",
                "targetColumn": "prd_id",
                "confidence": 87,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 9,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "sales",
                "targetTable": "oli",
                "targetColumn": "prd_id",
                "confidence": 87,
                "evidence": {
                  "namingMatch": 0.8333333333333334,
                  "valueOverlap": 1,
                  "cardinalityRatio": 9,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "sales",
                "targetTable": "shp",
                "targetColumn": "ord_id",
                "confidence": 84,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1.2,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "sales",
                "targetTable": "shp",
                "targetColumn": "ord_id",
                "confidence": 84,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 1.2,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "sales",
                "targetTable": "oli",
                "targetColumn": "ord_id",
                "confidence": 82,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "sales",
                "targetTable": "ord",
                "targetColumn": "ord_id",
                "confidence": 82,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "sales",
                "targetTable": "ord",
                "targetColumn": "ord_id",
                "confidence": 82,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "sales",
                "targetTable": "oli",
                "targetColumn": "ord_id",
                "confidence": 82,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "sales",
                "targetTable": "ord",
                "targetColumn": "ord_id",
                "confidence": 82,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.9,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "sales",
                "targetTable": "oli",
                "targetColumn": "oli_id",
                "confidence": 70,
                "evidence": {
                  "namingMatch": 0.6666666666666667,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.2572163475278651,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)",
                    "Cardinality suggests one:many instead of many:one"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "ord_id",
                "targetSchema": "sales",
                "targetTable": "oli",
                "targetColumn": "oli_id",
                "confidence": 70,
                "evidence": {
                  "namingMatch": 0.6666666666666667,
                  "valueOverlap": 1,
                  "cardinalityRatio": 0.2572163475278651,
                  "dataTypeMatch": true,
                  "nullPercentage": 10,
                  "sampleSize": 100,
                  "orphanCount": 0,
                  "warnings": [
                    "1000.0% null values (optional FK)",
                    "Cardinality suggests one:many instead of many:one"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "addr",
                "targetColumn": "cst_id",
                "confidence": 64,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 0.95,
                  "cardinalityRatio": 1.050420168067227,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 25,
                  "warnings": [
                    "25 orphaned values found"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "ord",
                "targetColumn": "cst_id",
                "confidence": 64,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 0.95,
                  "cardinalityRatio": 1.050420168067227,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 25,
                  "warnings": [
                    "25 orphaned values found"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "addr",
                "targetColumn": "cst_id",
                "confidence": 64,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 0.95,
                  "cardinalityRatio": 1.050420168067227,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 25,
                  "warnings": [
                    "25 orphaned values found"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              },
              {
                "schemaName": "sales",
                "sourceTable": "pmt",
                "sourceColumn": "cst_id",
                "targetSchema": "sales",
                "targetTable": "ord",
                "targetColumn": "cst_id",
                "confidence": 64,
                "evidence": {
                  "namingMatch": 1,
                  "valueOverlap": 0.95,
                  "cardinalityRatio": 1.050420168067227,
                  "dataTypeMatch": true,
                  "nullPercentage": 0,
                  "sampleSize": 100,
                  "orphanCount": 25,
                  "warnings": [
                    "25 orphaned values found"
                  ]
                },
                "discoveredInIteration": 2,
                "validatedByLLM": false,
                "status": "candidate"
              }
            ],
            "validated": [],
            "rejected": [],
            "confidenceChanges": [
              {
                "id": "inv.adj.adj_id+prd_id+whs_id",
                "oldConfidence": 75,
                "newConfidence": 80,
                "reason": "1 FK(s) now reference this column"
              },
              {
                "id": "inv.cnt.cnt_id",
                "oldConfidence": 88,
                "newConfidence": 95,
                "reason": "4 FK(s) now reference this column"
              },
              {
                "id": "inv.cnt.cnt_id+whs_id+prd_id",
                "oldConfidence": 75,
                "newConfidence": 95,
                "reason": "5 FK(s) now reference this column"
              },
              {
                "id": "inv.po_dtl.po_id+prd_id",
                "oldConfidence": 75,
                "newConfidence": 80,
                "reason": "1 FK(s) now reference this column"
              },
              {
                "id": "inv.prd.prd_id",
                "oldConfidence": 88,
                "newConfidence": 95,
                "reason": "2 FK(s) now reference this column"
              },
              {
                "id": "inv.prd.prd_id+cat_id+sup_id",
                "oldConfidence": 75,
                "newConfidence": 85,
                "reason": "2 FK(s) now reference this column"
              },
              {
                "id": "inv.stk.prd_id+whs_id",
                "oldConfidence": 75,
                "newConfidence": 80,
                "reason": "1 FK(s) now reference this column"
              },
              {
                "id": "sales.addr.addr_id+cst_id",
                "oldConfidence": 75,
                "newConfidence": 95,
                "reason": "4 FK(s) now reference this column"
              },
              {
                "id": "sales.cst.cst_id",
                "oldConfidence": 88,
                "newConfidence": 95,
                "reason": "6 FK(s) now reference this column"
              },
              {
                "id": "sales.cst.cst_id+rep_id",
                "oldConfidence": 75,
                "newConfidence": 95,
                "reason": "6 FK(s) now reference this column"
              },
              {
                "id": "sales.eml.eml_id+cst_id",
                "oldConfidence": 75,
                "newConfidence": 95,
                "reason": "4 FK(s) now reference this column"
              },
              {
                "id": "sales.oli.oli_id",
                "oldConfidence": 88,
                "newConfidence": 95,
                "reason": "2 FK(s) now reference this column"
              },
              {
                "id": "sales.oli.oli_id+ord_id+prd_id",
                "oldConfidence": 75,
                "newConfidence": 95,
                "reason": "5 FK(s) now reference this column"
              },
              {
                "id": "sales.ord.ord_id",
                "oldConfidence": 88,
                "newConfidence": 95,
                "reason": "3 FK(s) now reference this column"
              },
              {
                "id": "sales.ord.ord_id+cst_id",
                "oldConfidence": 75,
                "newConfidence": 95,
                "reason": "7 FK(s) now reference this column"
              },
              {
                "id": "sales.phn.phn_id+cst_id",
                "oldConfidence": 75,
                "newConfidence": 95,
                "reason": "4 FK(s) now reference this column"
              },
              {
                "id": "sales.pmt.pmt_id",
                "oldConfidence": 88,
                "newConfidence": 93,
                "reason": "1 FK(s) now reference this column"
              },
              {
                "id": "sales.shp.shp_id+ord_id+whs_id",
                "oldConfidence": 75,
                "newConfidence": 85,
                "reason": "2 FK(s) now reference this column"
              }
            ]
          },
          "backpropTriggered": true,
          "backpropReason": "Discovered 0 high-confidence PKs and 33 high-confidence FKs"
        },
        {
          "iteration": 3,
          "phase": "backprop",
          "startedAt": "2025-11-09T04:07:39.658Z",
          "completedAt": "2025-11-09T04:07:40.218Z",
          "tokensUsed": 0,
          "discoveries": {
            "newPKs": [],
            "newFKs": [],
            "validated": [],
            "rejected": [],
            "confidenceChanges": []
          },
          "backpropTriggered": false
        }
      ],
      "discovered": {
        "primaryKeys": [
          {
            "schemaName": "inv",
            "tableName": "adj",
            "columnNames": [
              "adj_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 300,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "adj",
            "columnNames": [
              "adj_id",
              "prd_id",
              "whs_id"
            ],
            "confidence": 80,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "cat",
            "columnNames": [
              "cat_id"
            ],
            "confidence": 98,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 20,
              "dataPattern": "sequential",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "cat",
            "columnNames": [
              "cat_id",
              "prnt_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "cnt",
            "columnNames": [
              "cnt_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 250,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "cnt",
            "columnNames": [
              "cnt_id",
              "whs_id",
              "prd_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "po",
            "columnNames": [
              "po_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 150,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "po",
            "columnNames": [
              "po_id",
              "sup_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "po_dtl",
            "columnNames": [
              "po_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 150,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "po_dtl",
            "columnNames": [
              "po_id",
              "prd_id"
            ],
            "confidence": 80,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "prd",
            "columnNames": [
              "prd_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 177,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "prd",
            "columnNames": [
              "prd_id",
              "cat_id",
              "sup_id"
            ],
            "confidence": 85,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "rcv",
            "columnNames": [
              "rcv_id",
              "po_id",
              "whs_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "stk",
            "columnNames": [
              "prd_id",
              "whs_id"
            ],
            "confidence": 80,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "inv",
            "tableName": "sup",
            "columnNames": [
              "sup_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 25,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "tableName": "whs",
            "columnNames": [
              "whs_id"
            ],
            "confidence": 98,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 8,
              "dataPattern": "sequential",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "addr",
            "columnNames": [
              "addr_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 800,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "addr",
            "columnNames": [
              "addr_id",
              "cst_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "cst",
            "columnNames": [
              "cst_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 500,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "cst",
            "columnNames": [
              "cst_id",
              "rep_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "cst_note",
            "columnNames": [
              "note_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 450,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "eml",
            "columnNames": [
              "eml_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 550,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "eml",
            "columnNames": [
              "eml_id",
              "cst_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "oli",
            "columnNames": [
              "oli_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 6998,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "oli",
            "columnNames": [
              "oli_id",
              "ord_id",
              "prd_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "ord",
            "columnNames": [
              "ord_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 2000,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "ord",
            "columnNames": [
              "ord_id",
              "cst_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "phn",
            "columnNames": [
              "phn_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 600,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "phn",
            "columnNames": [
              "phn_id",
              "cst_id"
            ],
            "confidence": 95,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "pmt",
            "columnNames": [
              "pmt_id"
            ],
            "confidence": 93,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 2200,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "rtn",
            "columnNames": [
              "rtn_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 150,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "rtn",
            "columnNames": [
              "rtn_id",
              "ord_id",
              "oli_id"
            ],
            "confidence": 75,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          },
          {
            "schemaName": "sales",
            "tableName": "shp",
            "columnNames": [
              "shp_id"
            ],
            "confidence": 88,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1500,
              "dataPattern": "unknown",
              "namingScore": 0.8999999999999999,
              "dataTypeScore": 1,
              "warnings": []
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "tableName": "shp",
            "columnNames": [
              "shp_id",
              "ord_id",
              "whs_id"
            ],
            "confidence": 85,
            "evidence": {
              "uniqueness": 1,
              "nullCount": 0,
              "totalRows": 1000,
              "dataPattern": "composite",
              "namingScore": 0.8,
              "dataTypeScore": 0.9,
              "warnings": [
                "Composite key - verify with domain expert"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": false,
            "status": "rejected"
          }
        ],
        "foreignKeys": [
          {
            "schemaName": "sales",
            "sourceTable": "cst_note",
            "sourceColumn": "cst_id",
            "targetSchema": "inv",
            "targetTable": "cnt",
            "targetColumn": "cnt_id",
            "confidence": 100,
            "evidence": {
              "namingMatch": 0.8333333333333334,
              "valueOverlap": 1,
              "cardinalityRatio": 1.8,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": []
            },
            "discoveredInIteration": 2,
            "validatedByLLM": true,
            "status": "confirmed"
          },
          {
            "schemaName": "sales",
            "sourceTable": "cst_note",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "cst",
            "targetColumn": "cst_id",
            "confidence": 92,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 1,
              "cardinalityRatio": 0.9,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": []
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "cst_note",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "eml",
            "targetColumn": "cst_id",
            "confidence": 92,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 1,
              "cardinalityRatio": 0.9,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": []
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "cst_note",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "phn",
            "targetColumn": "cst_id",
            "confidence": 92,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 1,
              "cardinalityRatio": 0.9,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": []
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "cst_note",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "pmt",
            "targetColumn": "pmt_id",
            "confidence": 80,
            "evidence": {
              "namingMatch": 0.6666666666666667,
              "valueOverlap": 1,
              "cardinalityRatio": 0.20454545454545456,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "Cardinality suggests one:many instead of many:one"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "cst_note",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "addr",
            "targetColumn": "cst_id",
            "confidence": 63,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 0.95,
              "cardinalityRatio": 0.9453781512605042,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 22,
              "warnings": [
                "22 orphaned values found"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "cst_note",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "ord",
            "targetColumn": "cst_id",
            "confidence": 63,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 0.95,
              "cardinalityRatio": 0.9453781512605042,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 22,
              "warnings": [
                "22 orphaned values found"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "cst_id",
            "targetSchema": "inv",
            "targetTable": "cnt",
            "targetColumn": "cnt_id",
            "confidence": 97,
            "evidence": {
              "namingMatch": 0.8333333333333334,
              "valueOverlap": 1,
              "cardinalityRatio": 2,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": []
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "cst",
            "targetColumn": "cst_id",
            "confidence": 93,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 1,
              "cardinalityRatio": 1,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": []
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "eml",
            "targetColumn": "cst_id",
            "confidence": 93,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 1,
              "cardinalityRatio": 1,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": []
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "phn",
            "targetColumn": "cst_id",
            "confidence": 93,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 1,
              "cardinalityRatio": 1,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": []
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "inv",
            "targetTable": "adj",
            "targetColumn": "prd_id",
            "confidence": 100,
            "evidence": {
              "namingMatch": 0.8333333333333334,
              "valueOverlap": 1,
              "cardinalityRatio": 9,
              "dataTypeMatch": true,
              "nullPercentage": 10,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "1000.0% null values (optional FK)"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": true,
            "status": "confirmed"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "inv",
            "targetTable": "cnt",
            "targetColumn": "prd_id",
            "confidence": 87,
            "evidence": {
              "namingMatch": 0.8333333333333334,
              "valueOverlap": 1,
              "cardinalityRatio": 9,
              "dataTypeMatch": true,
              "nullPercentage": 10,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "1000.0% null values (optional FK)"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "inv",
            "targetTable": "po_dtl",
            "targetColumn": "prd_id",
            "confidence": 87,
            "evidence": {
              "namingMatch": 0.8333333333333334,
              "valueOverlap": 1,
              "cardinalityRatio": 9,
              "dataTypeMatch": true,
              "nullPercentage": 10,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "1000.0% null values (optional FK)"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "inv",
            "targetTable": "prd",
            "targetColumn": "prd_id",
            "confidence": 87,
            "evidence": {
              "namingMatch": 0.8333333333333334,
              "valueOverlap": 1,
              "cardinalityRatio": 10.169491525423728,
              "dataTypeMatch": true,
              "nullPercentage": 10,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "1000.0% null values (optional FK)"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "inv",
            "targetTable": "stk",
            "targetColumn": "prd_id",
            "confidence": 87,
            "evidence": {
              "namingMatch": 0.8333333333333334,
              "valueOverlap": 1,
              "cardinalityRatio": 9,
              "dataTypeMatch": true,
              "nullPercentage": 10,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "1000.0% null values (optional FK)"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "sales",
            "targetTable": "oli",
            "targetColumn": "prd_id",
            "confidence": 87,
            "evidence": {
              "namingMatch": 0.8333333333333334,
              "valueOverlap": 1,
              "cardinalityRatio": 9,
              "dataTypeMatch": true,
              "nullPercentage": 10,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "1000.0% null values (optional FK)"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "sales",
            "targetTable": "shp",
            "targetColumn": "ord_id",
            "confidence": 84,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 1,
              "cardinalityRatio": 1.2,
              "dataTypeMatch": true,
              "nullPercentage": 10,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "1000.0% null values (optional FK)"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "sales",
            "targetTable": "oli",
            "targetColumn": "ord_id",
            "confidence": 82,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 1,
              "cardinalityRatio": 0.9,
              "dataTypeMatch": true,
              "nullPercentage": 10,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "1000.0% null values (optional FK)"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "sales",
            "targetTable": "ord",
            "targetColumn": "ord_id",
            "confidence": 82,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 1,
              "cardinalityRatio": 0.9,
              "dataTypeMatch": true,
              "nullPercentage": 10,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "1000.0% null values (optional FK)"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "ord_id",
            "targetSchema": "sales",
            "targetTable": "oli",
            "targetColumn": "oli_id",
            "confidence": 70,
            "evidence": {
              "namingMatch": 0.6666666666666667,
              "valueOverlap": 1,
              "cardinalityRatio": 0.2572163475278651,
              "dataTypeMatch": true,
              "nullPercentage": 10,
              "sampleSize": 100,
              "orphanCount": 0,
              "warnings": [
                "1000.0% null values (optional FK)",
                "Cardinality suggests one:many instead of many:one"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "addr",
            "targetColumn": "cst_id",
            "confidence": 64,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 0.95,
              "cardinalityRatio": 1.050420168067227,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 25,
              "warnings": [
                "25 orphaned values found"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "sales",
            "sourceTable": "pmt",
            "sourceColumn": "cst_id",
            "targetSchema": "sales",
            "targetTable": "ord",
            "targetColumn": "cst_id",
            "confidence": 64,
            "evidence": {
              "namingMatch": 1,
              "valueOverlap": 0.95,
              "cardinalityRatio": 1.050420168067227,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 100,
              "orphanCount": 25,
              "warnings": [
                "25 orphaned values found"
              ]
            },
            "discoveredInIteration": 2,
            "validatedByLLM": false,
            "status": "candidate"
          },
          {
            "schemaName": "inv",
            "sourceTable": "po",
            "sourceColumn": "sup_id",
            "targetSchema": "inv",
            "targetTable": "sup",
            "targetColumn": "sup_id",
            "confidence": 80,
            "evidence": {
              "namingMatch": 0.8,
              "valueOverlap": 0,
              "cardinalityRatio": 0,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 0,
              "orphanCount": 0,
              "warnings": [
                "Created from LLM description insight"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": true,
            "status": "confirmed"
          },
          {
            "schemaName": "inv",
            "sourceTable": "prd",
            "sourceColumn": "sup_id",
            "targetSchema": "inv",
            "targetTable": "sup",
            "targetColumn": "sup_id",
            "confidence": 80,
            "evidence": {
              "namingMatch": 0.8,
              "valueOverlap": 0,
              "cardinalityRatio": 0,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 0,
              "orphanCount": 0,
              "warnings": [
                "Created from LLM description insight"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": true,
            "status": "confirmed"
          },
          {
            "schemaName": "sales",
            "sourceTable": "shp",
            "sourceColumn": "ord_id",
            "targetSchema": "sales",
            "targetTable": "ord",
            "targetColumn": "ord_id",
            "confidence": 80,
            "evidence": {
              "namingMatch": 0.8,
              "valueOverlap": 0,
              "cardinalityRatio": 0,
              "dataTypeMatch": true,
              "nullPercentage": 0,
              "sampleSize": 0,
              "orphanCount": 0,
              "warnings": [
                "Created from LLM description insight"
              ]
            },
            "discoveredInIteration": 1,
            "validatedByLLM": true,
            "status": "confirmed"
          }
        ]
      },
      "schemaEnhancements": {
        "pkeysAdded": 0,
        "fkeysAdded": 0,
        "overallConfidence": 87
      },
      "feedbackFromAnalysis": [
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product whose stock is being adjusted; references the product master table (inv.prd).\"",
          "tableName": "adj",
          "columnName": "prd_id",
          "affectedCandidates": [
            "PK:inv.adj.prd_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "product",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the warehouse where the adjustment took place; references the warehouse table (inv.whs).\"",
          "tableName": "adj",
          "columnName": "whs_id",
          "affectedCandidates": [
            "PK:inv.adj.whs_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "warehouse",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each category record\"",
          "tableName": "cat",
          "columnName": "cat_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the parent category, creating a self‑referencing hierarchy\"",
          "tableName": "cat",
          "columnName": "prnt_id",
          "affectedCandidates": [
            "PK:inv.cat.prnt_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "parent",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Surrogate primary‑key for the count record; uniquely identifies each stock‑take entry.\"",
          "tableName": "cnt",
          "columnName": "cnt_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "count",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the warehouse where the count was performed; links to the inv.whs table.\"",
          "tableName": "cnt",
          "columnName": "whs_id",
          "affectedCandidates": [
            "PK:inv.cnt.whs_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "inv",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product being counted; links to the inv.prd table.\"",
          "tableName": "cnt",
          "columnName": "prd_id",
          "affectedCandidates": [
            "PK:inv.cnt.prd_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "inv",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for the purchase order\"",
          "tableName": "po",
          "columnName": "po_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "purchase",
            "targetColumn": "id"
          }
        },
        {
          "type": "new_relationship",
          "evidence": "Analysis phase description: \"Identifier of the supplier associated with the order\"",
          "tableName": "po",
          "columnName": "sup_id",
          "affectedCandidates": [
            "PK:inv.po.sup_id",
            "FK:inv.po.sup_id"
          ],
          "recommendation": "add_new",
          "newRelationship": {
            "targetTable": "supplier",
            "targetColumn": "id"
          },
          "newConfidence": 80
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the purchase order this line belongs to\"",
          "tableName": "po_dtl",
          "columnName": "po_id",
          "affectedCandidates": [
            "PK:inv.po_dtl.po_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "purchase",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product being ordered\"",
          "tableName": "po_dtl",
          "columnName": "prd_id",
          "affectedCandidates": [
            "PK:inv.po_dtl.prd_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "product",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product's category, likely referencing inv.cat.\"",
          "tableName": "prd",
          "columnName": "cat_id",
          "affectedCandidates": [
            "PK:inv.prd.cat_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "product",
            "targetColumn": "id"
          }
        },
        {
          "type": "new_relationship",
          "evidence": "Analysis phase description: \"Identifier of the supplier providing the product, likely referencing inv.sup.\"",
          "tableName": "prd",
          "columnName": "sup_id",
          "affectedCandidates": [
            "PK:inv.prd.sup_id",
            "FK:inv.prd.sup_id"
          ],
          "recommendation": "add_new",
          "newRelationship": {
            "targetTable": "supplier",
            "targetColumn": "id"
          },
          "newConfidence": 80
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each receipt record\"",
          "tableName": "rcv",
          "columnName": "rcv_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the purchase order associated with the receipt\"",
          "tableName": "rcv",
          "columnName": "po_id",
          "affectedCandidates": [
            "PK:inv.rcv.po_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "purchase",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the warehouse where the receipt was logged\"",
          "tableName": "rcv",
          "columnName": "whs_id",
          "affectedCandidates": [
            "PK:inv.rcv.whs_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "warehouse",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product; links to inv.prd table\"",
          "tableName": "stk",
          "columnName": "prd_id",
          "affectedCandidates": [
            "PK:inv.stk.prd_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "inv",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the warehouse; links to inv.whs table\"",
          "tableName": "stk",
          "columnName": "whs_id",
          "affectedCandidates": [
            "PK:inv.stk.whs_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "inv",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each supplier (primary key).\"",
          "tableName": "sup",
          "columnName": "sup_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique integer identifier for each warehouse record\"",
          "tableName": "whs",
          "columnName": "whs_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Surrogate primary key for each address record\"",
          "tableName": "addr",
          "columnName": "addr_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the sales representative responsible for the customer.\"",
          "tableName": "cst",
          "columnName": "rep_id",
          "affectedCandidates": [
            "PK:sales.cst.rep_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "sales",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each customer note record\"",
          "tableName": "cst_note",
          "columnName": "note_id",
          "affectedCandidates": [
            "PK:sales.cst_note.note_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "confidence_change",
          "evidence": "Analysis phase description: \"Identifier of the customer the note pertains to (foreign key to sales.ord.cst_id)\"",
          "tableName": "cst_note",
          "columnName": "cst_id",
          "affectedCandidates": [
            "FK:sales.cst_note.cst_id"
          ],
          "recommendation": "upgrade_confidence",
          "newRelationship": {
            "targetTable": "sales",
            "targetColumn": "id"
          },
          "newConfidence": 100
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Surrogate primary key for each email record\"",
          "tableName": "eml",
          "columnName": "eml_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Foreign key to the customer (sales.cst) that owns the email\"",
          "tableName": "eml",
          "columnName": "cst_id",
          "affectedCandidates": [
            "PK:sales.eml.cst_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "customer",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the sales order to which the line item belongs (foreign key to sales.ord).\"",
          "tableName": "oli",
          "columnName": "ord_id",
          "affectedCandidates": [
            "PK:sales.oli.ord_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "sales",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the product being sold (foreign key to sales.prd).\"",
          "tableName": "oli",
          "columnName": "prd_id",
          "affectedCandidates": [
            "PK:sales.oli.prd_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "sales",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each order (primary key component).\"",
          "tableName": "ord",
          "columnName": "ord_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the customer who placed the order, linking to the sales.cst table.\"",
          "tableName": "ord",
          "columnName": "cst_id",
          "affectedCandidates": [
            "PK:sales.ord.cst_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "customer",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each phone record\"",
          "tableName": "phn",
          "columnName": "phn_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the customer that owns the phone number\"",
          "tableName": "phn",
          "columnName": "cst_id",
          "affectedCandidates": [
            "PK:sales.phn.cst_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "customer",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each payment record\"",
          "tableName": "pmt",
          "columnName": "pmt_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "confidence_change",
          "evidence": "Analysis phase description: \"Identifier of the order line the payment is applied to (nullable)\"",
          "tableName": "pmt",
          "columnName": "ord_id",
          "affectedCandidates": [
            "FK:sales.pmt.ord_id"
          ],
          "recommendation": "upgrade_confidence",
          "newRelationship": {
            "targetTable": "order",
            "targetColumn": "id"
          },
          "newConfidence": 100
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"External reference code for the payment, formatted like PMT-YYYY-NNNNN\"",
          "tableName": "pmt",
          "columnName": "ref",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "code",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each return transaction.\"",
          "tableName": "rtn",
          "columnName": "rtn_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the original order associated with the return.\"",
          "tableName": "rtn",
          "columnName": "ord_id",
          "affectedCandidates": [
            "PK:sales.rtn.ord_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "original",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the specific order line item being returned.\"",
          "tableName": "rtn",
          "columnName": "oli_id",
          "affectedCandidates": [
            "PK:sales.rtn.oli_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "specific",
            "targetColumn": "id"
          }
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Unique identifier for each shipment record.\"",
          "tableName": "shp",
          "columnName": "shp_id",
          "affectedCandidates": [],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "each",
            "targetColumn": "id"
          }
        },
        {
          "type": "new_relationship",
          "evidence": "Analysis phase description: \"Foreign key to the order that the shipment fulfills.\"",
          "tableName": "shp",
          "columnName": "ord_id",
          "affectedCandidates": [
            "PK:sales.shp.ord_id",
            "FK:sales.shp.ord_id"
          ],
          "recommendation": "add_new",
          "newRelationship": {
            "targetTable": "order",
            "targetColumn": "id"
          },
          "newConfidence": 80
        },
        {
          "type": "fk_invalidated",
          "evidence": "Analysis phase description: \"Identifier of the warehouse from which the shipment originated.\"",
          "tableName": "shp",
          "columnName": "whs_id",
          "affectedCandidates": [
            "PK:sales.shp.whs_id"
          ],
          "recommendation": "remove",
          "newRelationship": {
            "targetTable": "warehouse",
            "targetColumn": "id"
          }
        }
      ],
      "summary": {
        "totalTablesAnalyzed": 20,
        "tablesWithDiscoveredPKs": 20,
        "relationshipsDiscovered": 23,
        "averageConfidence": 87,
        "highConfidenceCount": 48,
        "mediumConfidenceCount": 9,
        "lowConfidenceCount": 0,
        "rejectedCount": 0
      },
      "completedAt": "2025-11-09T04:07:40.218Z"
    }
  },
  "schemas": [
    {
      "name": "inv",
      "tables": [
        {
          "name": "adj",
          "rowCount": "300",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "adj_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Primary key uniquely identifying each inventory adjustment entry.",
                  "reasoning": "Distinct values equal row count (300) and marked as PRIMARY KEY.",
                  "generatedAt": "2025-11-09T04:07:42.785Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 300,
                "distinctCount": 300,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  56,
                  260,
                  210,
                  38,
                  137,
                  236,
                  147,
                  104,
                  129,
                  58,
                  297,
                  92,
                  262,
                  235,
                  283,
                  173,
                  101,
                  124,
                  153,
                  177
                ],
                "minValue": 1,
                "maxValue": 300,
                "computedAt": "2025-11-09T04:07:31.127Z",
                "queryTimeMs": 3
              },
              "description": "Primary key uniquely identifying each inventory adjustment entry."
            },
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product whose stock is being adjusted; references the product master table (inv.prd).",
                  "reasoning": "High cardinality (200 distinct) and typical naming convention for product foreign keys.",
                  "generatedAt": "2025-11-09T04:07:42.785Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 200,
                "distinctCount": 200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  31,
                  167,
                  198,
                  200,
                  23,
                  17,
                  3,
                  106,
                  66,
                  39,
                  13,
                  32,
                  18,
                  78,
                  180,
                  71,
                  43,
                  77,
                  65,
                  67
                ],
                "minValue": 1,
                "maxValue": 200,
                "computedAt": "2025-11-09T04:07:31.131Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the product whose stock is being adjusted; references the product master table (inv.prd)."
            },
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the warehouse where the adjustment took place; references the warehouse table (inv.whs).",
                  "reasoning": "Only 8 distinct values (1‑8) matching typical warehouse IDs.",
                  "generatedAt": "2025-11-09T04:07:42.785Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  7,
                  1,
                  7,
                  6,
                  3,
                  3,
                  1,
                  7,
                  4,
                  1,
                  2,
                  2,
                  2,
                  5,
                  6,
                  6,
                  5,
                  6,
                  5,
                  3
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T04:07:31.136Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                5,
                4,
                3,
                2,
                8,
                7,
                6,
                1
              ],
              "description": "Identifier of the warehouse where the adjustment took place; references the warehouse table (inv.whs)."
            },
            {
              "name": "adj_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the adjustment was recorded.",
                  "reasoning": "Date type with 100% unique values, matching one adjustment per day per record.",
                  "generatedAt": "2025-11-09T04:07:42.785Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 300,
                "distinctCount": 300,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-12-19T00:00:00.000Z",
                  "2024-09-29T00:00:00.000Z",
                  "2024-10-18T00:00:00.000Z",
                  "2024-12-25T00:00:00.000Z",
                  "2024-05-09T00:00:00.000Z",
                  "2024-11-01T00:00:00.000Z",
                  "2024-09-01T00:00:00.000Z",
                  "2024-12-10T00:00:00.000Z",
                  "2024-10-27T00:00:00.000Z",
                  "2024-04-06T00:00:00.000Z",
                  "2024-07-06T00:00:00.000Z",
                  "2024-08-31T00:00:00.000Z",
                  "2024-05-19T00:00:00.000Z",
                  "2024-10-21T00:00:00.000Z",
                  "2024-11-17T00:00:00.000Z",
                  "2024-07-16T00:00:00.000Z",
                  "2024-11-18T00:00:00.000Z",
                  "2024-03-29T00:00:00.000Z",
                  "2024-08-29T00:00:00.000Z",
                  "2024-10-31T00:00:00.000Z"
                ],
                "minValue": "2024-03-07T00:00:00.000Z",
                "maxValue": "2024-12-31T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.139Z",
                "queryTimeMs": 3
              },
              "description": "Date the adjustment was recorded."
            },
            {
              "name": "qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity change; positive values increase stock, negative values decrease stock.",
                  "reasoning": "Integer values include both negatives and positives, typical for stock delta.",
                  "generatedAt": "2025-11-09T04:07:42.785Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 40,
                "distinctCount": 40,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  -2,
                  -11,
                  48,
                  -5,
                  -6,
                  38,
                  -17,
                  -13,
                  -7,
                  -19,
                  -15,
                  -6,
                  -11,
                  -2,
                  -11,
                  -15,
                  -2,
                  -15,
                  -2,
                  14
                ],
                "minValue": -19,
                "maxValue": 50,
                "computedAt": "2025-11-09T04:07:31.143Z",
                "queryTimeMs": 4
              },
              "description": "Quantity change; positive values increase stock, negative values decrease stock."
            },
            {
              "name": "rsn",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Reason code for the adjustment: EXP (expired), STL (stolen), DAM (damaged), COR (correction).",
                  "reasoning": "Low cardinality (4 distinct) with clearly defined possible values.",
                  "generatedAt": "2025-11-09T04:07:42.785Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "EXP",
                  "STL",
                  "EXP",
                  "STL",
                  "EXP",
                  "STL",
                  "EXP",
                  "DAM",
                  "DAM",
                  "STL",
                  "COR",
                  "EXP",
                  "DAM",
                  "EXP",
                  "STL",
                  "EXP",
                  "EXP",
                  "EXP",
                  "STL",
                  "STL"
                ],
                "avgLength": 3,
                "computedAt": "2025-11-09T04:07:31.147Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "STL",
                "EXP",
                "DAM",
                "COR"
              ],
              "description": "Reason code for the adjustment: EXP (expired), STL (stolen), DAM (damaged), COR (correction)."
            },
            {
              "name": "usr",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Name of the user who performed the adjustment.",
                  "reasoning": "Distinct values nearly equal row count, indicating a user identifier stored as free text.",
                  "generatedAt": "2025-11-09T04:07:42.785Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 297,
                "distinctCount": 297,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Deborah Lopez",
                  "Brandon Flores",
                  "Scott Miller",
                  "Larry Murphy",
                  "George Richardson",
                  "Ashley Ward",
                  "Samantha Ramos",
                  "Brenda Smith",
                  "Charles Cruz",
                  "Susan Morgan",
                  "Donna Clark",
                  "Richard Morgan",
                  "Ryan Anderson",
                  "Nancy Robinson",
                  "Paul Nguyen",
                  "Shirley Lewis",
                  "Kenneth Rodriguez",
                  "Mary Castillo",
                  "Patrick Sanchez",
                  "Kenneth Price"
                ],
                "avgLength": 13,
                "computedAt": "2025-11-09T04:07:31.150Z",
                "queryTimeMs": 3
              },
              "description": "Name of the user who performed the adjustment."
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text comment providing additional context for the adjustment.",
                  "reasoning": "Limited distinct values (4) that are descriptive sentences matching the rsn codes.",
                  "generatedAt": "2025-11-09T04:07:42.785Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Items damaged during warehouse operations",
                  "Inventory shrinkage detected during audit",
                  "Products expired and removed from stock",
                  "Inventory shrinkage detected during audit",
                  "Inventory count correction after cycle count",
                  "Inventory count correction after cycle count",
                  "Inventory shrinkage detected during audit",
                  "Inventory count correction after cycle count",
                  "Inventory count correction after cycle count",
                  "Items damaged during warehouse operations",
                  "Items damaged during warehouse operations",
                  "Inventory shrinkage detected during audit",
                  "Products expired and removed from stock",
                  "Items damaged during warehouse operations",
                  "Products expired and removed from stock",
                  "Inventory count correction after cycle count",
                  "Inventory shrinkage detected during audit",
                  "Items damaged during warehouse operations",
                  "Inventory shrinkage detected during audit",
                  "Items damaged during warehouse operations"
                ],
                "avgLength": 41,
                "computedAt": "2025-11-09T04:07:31.154Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "Products expired and removed from stock",
                "Items damaged during warehouse operations",
                "Inventory shrinkage detected during audit",
                "Inventory count correction after cycle count"
              ],
              "description": "Optional free‑text comment providing additional context for the adjustment."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores inventory adjustment records, capturing changes to product stock levels in specific warehouses, the reason for the change, the user who performed it, and optional notes.",
              "reasoning": "The table contains adj_id (unique adjustment ID), prd_id (product reference), whs_id (warehouse reference), adj_dt (adjustment date), qty (quantity delta, both positive and negative), rsn (reason codes like EXP, STL, DAM, COR), usr (user name) and notes (descriptive text). The combination of product, warehouse, date, quantity and reason aligns with typical inventory adjustment logs. The table name is likely inv.adj based on the provided list of tables.",
              "generatedAt": "2025-11-09T04:07:42.785Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores inventory adjustment records, capturing changes to product stock levels in specific warehouses, the reason for the change, the user who performed it, and optional notes."
        },
        {
          "name": "cat",
          "rowCount": "20",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "cat_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each category record",
                  "reasoning": "Distinct values equal row count (20) and marked PRIMARY KEY; sample values are sequential integers.",
                  "generatedAt": "2025-11-09T04:07:44.713Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 20,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "sequential",
                "sampleValues": [
                  6,
                  13,
                  11,
                  10,
                  2,
                  16,
                  20,
                  15,
                  19,
                  4,
                  5,
                  7,
                  17,
                  18,
                  1,
                  14,
                  12,
                  8,
                  3,
                  9
                ],
                "minValue": 1,
                "maxValue": 20,
                "computedAt": "2025-11-09T04:07:31.159Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                20,
                19,
                18,
                17,
                16,
                15,
                14,
                13,
                12,
                11,
                10,
                9,
                8,
                7,
                6,
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Unique identifier for each category record"
            },
            {
              "name": "prnt_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the parent category, creating a self‑referencing hierarchy",
                  "reasoning": "Low cardinality (6 distinct values) and typical parent IDs (1,4,7,10,16,19) indicate it points to other cat_id rows.",
                  "generatedAt": "2025-11-09T04:07:44.713Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 0,
                "distinctCount": 6,
                "uniquenessRatio": 0,
                "nullCount": 6,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  4,
                  1,
                  1,
                  7,
                  7,
                  16,
                  10,
                  4,
                  7,
                  19,
                  10,
                  1,
                  16,
                  4
                ],
                "minValue": 1,
                "maxValue": 19,
                "computedAt": "2025-11-09T04:07:31.162Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                7,
                4,
                1,
                16,
                10,
                19
              ],
              "description": "Identifier of the parent category, creating a self‑referencing hierarchy"
            },
            {
              "name": "nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Short name of the category (e.g., Electronics, Chairs)",
                  "reasoning": "Distinct values equal row count, average length 7 chars, and sample values are clear category names.",
                  "generatedAt": "2025-11-09T04:07:44.713Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 20,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Electronics",
                  "Chairs",
                  "Breakroom",
                  "Supplies",
                  "Safety",
                  "Equipment",
                  "PPE",
                  "Printers",
                  "Scanners",
                  "Storage",
                  "Accessories",
                  "Kitchen",
                  "Desks",
                  "Paper",
                  "Folders",
                  "Writing",
                  "Peripherals",
                  "Cleaning",
                  "Furniture",
                  "Computers"
                ],
                "avgLength": 7,
                "computedAt": "2025-11-09T04:07:31.174Z",
                "queryTimeMs": 12
              },
              "possibleValues": [
                "Writing",
                "Supplies",
                "Storage",
                "Scanners",
                "Safety",
                "Printers",
                "PPE",
                "Peripherals",
                "Paper",
                "Kitchen",
                "Furniture",
                "Folders",
                "Equipment",
                "Electronics",
                "Desks",
                "Computers",
                "Cleaning",
                "Chairs",
                "Breakroom",
                "Accessories"
              ],
              "description": "Short name of the category (e.g., Electronics, Chairs)"
            },
            {
              "name": "dsc",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Longer textual description of the category’s purpose or contents",
                  "reasoning": "Distinct values equal row count, average length 26 chars, and samples are descriptive phrases matching the names.",
                  "generatedAt": "2025-11-09T04:07:44.713Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 20,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Computer peripherals and accessories",
                  "Safety equipment",
                  "Pens, pencils, and markers",
                  "Office and home furniture",
                  "File folders and binders",
                  "Office equipment and machines",
                  "Breakroom supplies",
                  "Desktop and laptop computers",
                  "Office desks and workstations",
                  "Office supplies and materials",
                  "Printers and copiers",
                  "Electronic devices and accessories",
                  "Kitchen appliances and supplies",
                  "Storage furniture and cabinets",
                  "Paper products and stationery",
                  "Office chairs and seating",
                  "Cleaning supplies",
                  "Personal protective equipment",
                  "Document scanners",
                  "Electronic accessories and cables"
                ],
                "avgLength": 26,
                "computedAt": "2025-11-09T04:07:31.179Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "Storage furniture and cabinets",
                "Safety equipment",
                "Printers and copiers",
                "Personal protective equipment",
                "Pens, pencils, and markers",
                "Paper products and stationery",
                "Office supplies and materials",
                "Office equipment and machines",
                "Office desks and workstations",
                "Office chairs and seating",
                "Office and home furniture",
                "Kitchen appliances and supplies",
                "File folders and binders",
                "Electronic devices and accessories",
                "Electronic accessories and cables",
                "Document scanners",
                "Desktop and laptop computers",
                "Computer peripherals and accessories",
                "Cleaning supplies",
                "Breakroom supplies"
              ],
              "description": "Longer textual description of the category’s purpose or contents"
            },
            {
              "name": "lvl",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Hierarchy level of the category (1 = top‑level, 2 = sub‑category)",
                  "reasoning": "Only two distinct values (1 and 2) align with typical depth indicators.",
                  "generatedAt": "2025-11-09T04:07:44.713Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  2,
                  2,
                  1,
                  2,
                  1,
                  1,
                  2,
                  2,
                  1,
                  2,
                  2,
                  2,
                  2,
                  1,
                  2,
                  1,
                  2,
                  2,
                  2,
                  2
                ],
                "minValue": 1,
                "maxValue": 2,
                "computedAt": "2025-11-09T04:07:31.185Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                2,
                1
              ],
              "description": "Hierarchy level of the category (1 = top‑level, 2 = sub‑category)"
            },
            {
              "name": "seq",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Display order of the category within its parent group",
                  "reasoning": "Six distinct sequential values (1‑6) used to order siblings.",
                  "generatedAt": "2025-11-09T04:07:44.713Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 6,
                "distinctCount": 6,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1,
                  1,
                  1,
                  3,
                  1,
                  1,
                  3,
                  6,
                  2,
                  2,
                  1,
                  1,
                  2,
                  5,
                  3,
                  2,
                  2,
                  2,
                  4,
                  3
                ],
                "minValue": 1,
                "maxValue": 6,
                "computedAt": "2025-11-09T04:07:31.189Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                1,
                2,
                3,
                6,
                5,
                4
              ],
              "description": "Display order of the category within its parent group"
            }
          ],
          "descriptionIterations": [
            {
              "description": "A hierarchical lookup table that defines inventory categories and sub‑categories used to classify products and assets within the system.",
              "reasoning": "The columns cat_id (unique primary key), prnt_id (references another cat_id as a parent), lvl (values 1 or 2 indicating hierarchy depth), seq (ordering within a parent), and the descriptive fields nm and dsc all point to a classic category tree. Sample values show typical category names (Electronics, Chairs, Supplies) and descriptions. No foreign keys are listed, confirming it is a foundational lookup table, likely the inv.cat table referenced by other inventory objects.",
              "generatedAt": "2025-11-09T04:07:44.713Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "A hierarchical lookup table that defines inventory categories and sub‑categories used to classify products and assets within the system."
        },
        {
          "name": "cnt",
          "rowCount": "250",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "cnt_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Surrogate primary‑key for the count record; uniquely identifies each stock‑take entry.",
                  "reasoning": "Distinct values equal row count (250) and column is marked PRIMARY KEY.",
                  "generatedAt": "2025-11-09T04:07:47.490Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 250,
                "distinctCount": 250,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  28,
                  186,
                  64,
                  87,
                  198,
                  30,
                  33,
                  213,
                  238,
                  60,
                  153,
                  244,
                  34,
                  144,
                  56,
                  245,
                  51,
                  6,
                  37,
                  96
                ],
                "minValue": 1,
                "maxValue": 250,
                "computedAt": "2025-11-09T04:07:31.202Z",
                "queryTimeMs": 11
              },
              "description": "Surrogate primary‑key for the count record; uniquely identifies each stock‑take entry."
            },
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the warehouse where the count was performed; links to the inv.whs table.",
                  "reasoning": "Only 8 distinct values (1‑8) typical for a small set of warehouses; marked PRIMARY KEY component.",
                  "generatedAt": "2025-11-09T04:07:47.490Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  5,
                  2,
                  4,
                  7,
                  3,
                  5,
                  8,
                  4,
                  8,
                  6,
                  1,
                  8,
                  7,
                  6,
                  4,
                  1,
                  1,
                  4,
                  2,
                  2
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T04:07:31.207Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                3,
                2,
                1,
                8,
                7,
                6,
                5,
                4
              ],
              "description": "Identifier of the warehouse where the count was performed; links to the inv.whs table."
            },
            {
              "name": "cnt_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date on which the inventory count took place.",
                  "reasoning": "Date type with 180 distinct values, each row has its own count date; part of the composite key.",
                  "generatedAt": "2025-11-09T04:07:47.490Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 180,
                "distinctCount": 180,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-09-24T00:00:00.000Z",
                  "2024-08-18T00:00:00.000Z",
                  "2024-10-06T00:00:00.000Z",
                  "2024-12-24T00:00:00.000Z",
                  "2024-12-07T00:00:00.000Z",
                  "2024-09-27T00:00:00.000Z",
                  "2024-12-01T00:00:00.000Z",
                  "2025-01-01T00:00:00.000Z",
                  "2024-10-13T00:00:00.000Z",
                  "2024-11-07T00:00:00.000Z",
                  "2024-07-12T00:00:00.000Z",
                  "2024-10-19T00:00:00.000Z",
                  "2024-08-20T00:00:00.000Z",
                  "2024-09-25T00:00:00.000Z",
                  "2024-12-23T00:00:00.000Z",
                  "2024-09-10T00:00:00.000Z",
                  "2024-10-23T00:00:00.000Z",
                  "2024-11-25T00:00:00.000Z",
                  "2024-11-27T00:00:00.000Z",
                  "2024-12-27T00:00:00.000Z"
                ],
                "minValue": "2024-07-06T00:00:00.000Z",
                "maxValue": "2025-01-01T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.210Z",
                "queryTimeMs": 3
              },
              "description": "Date on which the inventory count took place."
            },
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product being counted; links to the inv.prd table.",
                  "reasoning": "200 distinct values, high cardinality, marked PRIMARY KEY component.",
                  "generatedAt": "2025-11-09T04:07:47.490Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 200,
                "distinctCount": 200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  66,
                  28,
                  40,
                  114,
                  47,
                  140,
                  136,
                  141,
                  95,
                  19,
                  112,
                  37,
                  28,
                  160,
                  117,
                  23,
                  85,
                  143,
                  189,
                  155
                ],
                "minValue": 1,
                "maxValue": 200,
                "computedAt": "2025-11-09T04:07:31.213Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the product being counted; links to the inv.prd table."
            },
            {
              "name": "exp_qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity the system expected to have on hand before the physical count.",
                  "reasoning": "Integer values, unique per row, represents planned stock level.",
                  "generatedAt": "2025-11-09T04:07:47.490Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 250,
                "distinctCount": 250,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  269,
                  77,
                  180,
                  75,
                  126,
                  287,
                  129,
                  261,
                  241,
                  288,
                  121,
                  153,
                  84,
                  127,
                  277,
                  214,
                  71,
                  116,
                  210,
                  128
                ],
                "minValue": 51,
                "maxValue": 300,
                "computedAt": "2025-11-09T04:07:31.215Z",
                "queryTimeMs": 2
              },
              "description": "Quantity the system expected to have on hand before the physical count."
            },
            {
              "name": "act_qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity actually observed during the physical count.",
                  "reasoning": "Integer values, mostly unique, represents counted stock level.",
                  "generatedAt": "2025-11-09T04:07:47.490Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 226,
                "distinctCount": 226,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  293,
                  277,
                  214,
                  163,
                  259,
                  272,
                  69,
                  146,
                  240,
                  94,
                  183,
                  186,
                  153,
                  98,
                  148,
                  154,
                  166,
                  128,
                  287,
                  117
                ],
                "minValue": 50,
                "maxValue": 300,
                "computedAt": "2025-11-09T04:07:31.218Z",
                "queryTimeMs": 3
              },
              "description": "Quantity actually observed during the physical count."
            },
            {
              "name": "var",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Variance between expected and actual quantities (exp_qty‑act_qty); limited to a few discrete values.",
                  "reasoning": "Only four possible values (0, -5, 5, -10) indicating small adjustments.",
                  "generatedAt": "2025-11-09T04:07:47.490Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  -5,
                  0,
                  5,
                  0,
                  -10,
                  0,
                  0,
                  0,
                  0,
                  -5,
                  0
                ],
                "minValue": -10,
                "maxValue": 5,
                "computedAt": "2025-11-09T04:07:31.222Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                0,
                -5,
                5,
                -10
              ],
              "description": "Variance between expected and actual quantities (exp_qty‑act_qty); limited to a few discrete values."
            },
            {
              "name": "usr",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Name of the user/employee who performed the count.",
                  "reasoning": "NVARCHAR with 248 distinct values, average length 13, typical for employee names.",
                  "generatedAt": "2025-11-09T04:07:47.490Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 248,
                "distinctCount": 248,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Eric Baker",
                  "Steven Price",
                  "John Cooper",
                  "Sandra Hernandez",
                  "Laura Williams",
                  "Janet Long",
                  "Jeffrey Flores",
                  "Jeffrey Garcia",
                  "Barbara Rogers",
                  "Matthew Chavez",
                  "Kathleen Wilson",
                  "Heather Ross",
                  "Rebecca King",
                  "Paul Alvarez",
                  "Patricia Cruz",
                  "Matthew Sanders",
                  "Shirley James",
                  "Ashley Ortiz",
                  "Maria Hill",
                  "Sharon Nelson"
                ],
                "avgLength": 13,
                "computedAt": "2025-11-09T04:07:31.225Z",
                "queryTimeMs": 3
              },
              "description": "Name of the user/employee who performed the count."
            }
          ],
          "descriptionIterations": [
            {
              "description": "This table stores inventory count (stock‑take) records. Each row captures the expected system quantity versus the physically counted quantity for a specific product in a specific warehouse on a particular date, together with the variance and the user who performed the count.",
              "reasoning": "Column names and types point to a stock‑taking process: cnt_id (unique count record), whs_id (warehouse identifier – values 1‑8 match typical warehouse IDs), cnt_dt (date of the count), prd_id (product identifier – many distinct values), exp_qty (expected quantity), act_qty (actual counted quantity), var (variance – small set of values like -10,-5,0,5), usr (name of the employee performing the count). The combination of cnt_id, whs_id, cnt_dt and prd_id is clearly a composite primary key, ensuring each count event is unique. No foreign keys are declared, but the values align with the inv.whs and inv.prd tables listed in the schema, confirming the inventory domain.",
              "generatedAt": "2025-11-09T04:07:47.490Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "This table stores inventory count (stock‑take) records. Each row captures the expected system quantity versus the physically counted quantity for a specific product in a specific warehouse on a particular date, together with the variance and the user who performed the count."
        },
        {
          "name": "po",
          "rowCount": "150",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "po_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for the purchase order",
                  "reasoning": "150 distinct values for 150 rows and named po_id, a classic primary key for order headers.",
                  "generatedAt": "2025-11-09T04:07:49.937Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  114,
                  112,
                  110,
                  127,
                  145,
                  126,
                  128,
                  63,
                  132,
                  2,
                  66,
                  77,
                  52,
                  79,
                  135,
                  88,
                  65,
                  82,
                  93,
                  146
                ],
                "minValue": 1,
                "maxValue": 150,
                "computedAt": "2025-11-09T04:07:31.229Z",
                "queryTimeMs": 3
              },
              "description": "Unique identifier for the purchase order"
            },
            {
              "name": "sup_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": true,
              "descriptionIterations": [
                {
                  "description": "Identifier of the supplier associated with the order",
                  "reasoning": "Typical foreign‑key to inv.sup; distinct values (≈25) suggest multiple suppliers.",
                  "generatedAt": "2025-11-09T04:07:49.937Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  9,
                  7,
                  22,
                  9,
                  2,
                  17,
                  7,
                  4,
                  2,
                  17,
                  4,
                  3,
                  25,
                  23,
                  8,
                  16,
                  5,
                  15,
                  15,
                  22
                ],
                "minValue": 1,
                "maxValue": 25,
                "computedAt": "2025-11-09T04:07:31.232Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the supplier associated with the order",
              "foreignKeyReferences": {
                "schema": "inv",
                "table": "sup",
                "column": "sup_id",
                "referencedColumn": "sup_id"
              }
            },
            {
              "name": "po_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the purchase order was created",
                  "reasoning": "Date column with unique values matching order creation dates.",
                  "generatedAt": "2025-11-09T04:07:49.937Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-09-22T00:00:00.000Z",
                  "2024-11-05T00:00:00.000Z",
                  "2024-09-07T00:00:00.000Z",
                  "2024-11-01T00:00:00.000Z",
                  "2024-08-25T00:00:00.000Z",
                  "2024-08-23T00:00:00.000Z",
                  "2024-08-24T00:00:00.000Z",
                  "2024-10-27T00:00:00.000Z",
                  "2024-09-28T00:00:00.000Z",
                  "2024-12-26T00:00:00.000Z",
                  "2024-12-14T00:00:00.000Z",
                  "2024-10-31T00:00:00.000Z",
                  "2024-10-04T00:00:00.000Z",
                  "2024-11-17T00:00:00.000Z",
                  "2024-08-19T00:00:00.000Z",
                  "2024-11-08T00:00:00.000Z",
                  "2024-10-13T00:00:00.000Z",
                  "2024-09-08T00:00:00.000Z",
                  "2024-08-22T00:00:00.000Z",
                  "2024-12-30T00:00:00.000Z"
                ],
                "minValue": "2024-08-04T00:00:00.000Z",
                "maxValue": "2024-12-31T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.237Z",
                "queryTimeMs": 5
              },
              "description": "Date the purchase order was created"
            },
            {
              "name": "exp_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Expected delivery date for the order",
                  "reasoning": "Date column paired with po_dt, representing when goods are expected.",
                  "generatedAt": "2025-11-09T04:07:49.937Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-09-01T00:00:00.000Z",
                  "2024-10-30T00:00:00.000Z",
                  "2024-09-07T00:00:00.000Z",
                  "2024-12-06T00:00:00.000Z",
                  "2024-12-24T00:00:00.000Z",
                  "2024-12-28T00:00:00.000Z",
                  "2024-11-28T00:00:00.000Z",
                  "2024-12-12T00:00:00.000Z",
                  "2024-09-20T00:00:00.000Z",
                  "2024-12-10T00:00:00.000Z",
                  "2025-01-07T00:00:00.000Z",
                  "2024-11-11T00:00:00.000Z",
                  "2024-12-26T00:00:00.000Z",
                  "2024-08-27T00:00:00.000Z",
                  "2024-08-28T00:00:00.000Z",
                  "2024-10-20T00:00:00.000Z",
                  "2025-01-12T00:00:00.000Z",
                  "2024-08-24T00:00:00.000Z",
                  "2024-11-22T00:00:00.000Z",
                  "2024-09-02T00:00:00.000Z"
                ],
                "minValue": "2024-08-18T00:00:00.000Z",
                "maxValue": "2025-01-14T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.239Z",
                "queryTimeMs": 2
              },
              "description": "Expected delivery date for the order"
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current status of the purchase order (single‑letter code)",
                  "reasoning": "Char column with five distinct single‑letter values (X,S,R,P,A) typical for status enums.",
                  "generatedAt": "2025-11-09T04:07:49.937Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "X",
                  "P",
                  "A",
                  "P",
                  "P",
                  "P",
                  "R",
                  "S",
                  "P",
                  "P",
                  "X",
                  "S",
                  "S",
                  "R",
                  "P",
                  "S",
                  "R",
                  "A",
                  "P",
                  "X"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.243Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "X",
                "S",
                "R",
                "P",
                "A"
              ],
              "description": "Current status of the purchase order (single‑letter code)"
            },
            {
              "name": "tot",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Total monetary amount of the purchase order",
                  "reasoning": "Decimal column with many unique values, representing order totals.",
                  "generatedAt": "2025-11-09T04:07:49.937Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  3800,
                  6650,
                  13550,
                  6950,
                  13250,
                  14900,
                  11900,
                  8450,
                  9950,
                  2450,
                  2150,
                  2300,
                  7250,
                  5900,
                  6050,
                  11150,
                  3500,
                  11750,
                  2600,
                  3200
                ],
                "minValue": 2000,
                "maxValue": 16850,
                "computedAt": "2025-11-09T04:07:31.247Z",
                "queryTimeMs": 4
              },
              "description": "Total monetary amount of the purchase order"
            },
            {
              "name": "ship_amt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Shipping charge applied to the order (0 or 150)",
                  "reasoning": "Decimal with only two possible values, indicating a fixed shipping fee flag.",
                  "generatedAt": "2025-11-09T04:07:49.937Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  150,
                  150,
                  0,
                  150,
                  0,
                  0,
                  150,
                  150,
                  0,
                  150,
                  150,
                  150,
                  0,
                  150,
                  0,
                  150,
                  150,
                  0,
                  150,
                  150
                ],
                "minValue": 0,
                "maxValue": 150,
                "computedAt": "2025-11-09T04:07:31.250Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                150,
                0
              ],
              "description": "Shipping charge applied to the order (0 or 150)"
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text notes, often indicating expedited shipping",
                  "reasoning": "Nullable nvarchar with a single repeated phrase, used for special instructions.",
                  "generatedAt": "2025-11-09T04:07:49.938Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 1,
                "uniquenessRatio": 0.5,
                "nullCount": 135,
                "nullPercentage": 67.5,
                "dataPattern": "natural",
                "sampleValues": [
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested",
                  "Expedited shipping requested"
                ],
                "avgLength": 28,
                "computedAt": "2025-11-09T04:07:31.254Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "Expedited shipping requested"
              ],
              "description": "Optional free‑text notes, often indicating expedited shipping"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge and optional notes.",
              "reasoning": "Column names po_id (order id) and sup_id (supplier id) together form the primary key, indicating a purchase order record. po_dt and exp_dt are dates typical for order and expected delivery. sts holds single‑character status codes (X,S,R,P,A). tot is a monetary total, ship_amt is a fixed shipping fee (0 or 150). notes is a nullable free‑text field, mostly containing 'Expedited shipping requested'. The pattern matches the inv.po table used for managing supplier purchase orders.",
              "generatedAt": "2025-11-09T04:07:49.937Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.93,
              "triggeredBy": "initial"
            },
            {
              "description": "Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge, and optional notes. The header reflects overall order status, including partial shipments and backorder situations, as indicated by notes and the related line‑item details (up to seven items per PO).",
              "reasoning": "The new insights show that purchase orders can be partially fulfilled and may have backorder quantities, which are reflected in the notes field and the line‑item tables. While the original description covered basic header fields, it did not mention this partial‑shipment/backorder aspect. Incorporating this nuance clarifies the table’s role in tracking overall order fulfillment status.",
              "generatedAt": "2025-11-09T04:08:40.196Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "backpropagation",
              "changedFrom": "Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge and optional notes."
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores purchase order header information, capturing each order placed with a supplier, its dates, status, total amount, shipping charge, and optional notes. The header reflects overall order status, including partial shipments and backorder situations, as indicated by notes and the related line‑item details (up to seven items per PO)."
        },
        {
          "name": "po_dtl",
          "rowCount": "750",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "po_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the purchase order this line belongs to",
                  "reasoning": "Name and uniqueness (150 distinct values) indicate it is a foreign key to a purchase‑order header table (inv.po).",
                  "generatedAt": "2025-11-09T04:07:53.214Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  135,
                  111,
                  82,
                  141,
                  8,
                  91,
                  19,
                  49,
                  107,
                  148,
                  149,
                  40,
                  38,
                  127,
                  119,
                  50,
                  69,
                  134,
                  124,
                  31
                ],
                "minValue": 1,
                "maxValue": 150,
                "computedAt": "2025-11-09T04:07:31.260Z",
                "queryTimeMs": 4
              },
              "description": "Identifier of the purchase order this line belongs to"
            },
            {
              "name": "seq",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Line sequence number of the item within the purchase order",
                  "reasoning": "Only 7 distinct values (1‑7) and sample values show ordering, typical for line numbers.",
                  "generatedAt": "2025-11-09T04:07:53.214Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 7,
                "distinctCount": 7,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  3,
                  7,
                  6,
                  6,
                  7,
                  1,
                  7,
                  1,
                  2,
                  3,
                  2,
                  3,
                  4,
                  3,
                  3,
                  3,
                  5,
                  1,
                  7,
                  1
                ],
                "minValue": 1,
                "maxValue": 7,
                "computedAt": "2025-11-09T04:07:31.266Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                1,
                3,
                2,
                4,
                5,
                6,
                7
              ],
              "description": "Line sequence number of the item within the purchase order"
            },
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product being ordered",
                  "reasoning": "Marked PRIMARY KEY, 200 distinct values, matches product table (inv.prd).",
                  "generatedAt": "2025-11-09T04:07:53.214Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 200,
                "distinctCount": 200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  195,
                  2,
                  141,
                  84,
                  77,
                  104,
                  161,
                  159,
                  109,
                  3,
                  29,
                  122,
                  40,
                  97,
                  151,
                  106,
                  1,
                  37,
                  55,
                  155
                ],
                "minValue": 1,
                "maxValue": 200,
                "computedAt": "2025-11-09T04:07:31.270Z",
                "queryTimeMs": 4
              },
              "description": "Identifier of the product being ordered"
            },
            {
              "name": "qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity ordered for the product",
                  "reasoning": "Limited set of possible values (100‑400) typical for order quantities.",
                  "generatedAt": "2025-11-09T04:07:53.214Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 7,
                "distinctCount": 7,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  100,
                  250,
                  100,
                  150,
                  100,
                  100,
                  200,
                  100,
                  150,
                  300,
                  100,
                  200,
                  100,
                  350,
                  200,
                  250,
                  200,
                  250,
                  250,
                  300
                ],
                "minValue": 100,
                "maxValue": 400,
                "computedAt": "2025-11-09T04:07:31.275Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                100,
                200,
                150,
                250,
                300,
                350,
                400
              ],
              "description": "Quantity ordered for the product"
            },
            {
              "name": "prc",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unit price of the product at the time of ordering",
                  "reasoning": "Decimal column with many distinct values, aligns with price information.",
                  "generatedAt": "2025-11-09T04:07:53.214Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  225,
                  525,
                  745,
                  475,
                  365,
                  605,
                  305,
                  155,
                  45,
                  985,
                  465,
                  175,
                  825,
                  605,
                  875,
                  845,
                  185,
                  35,
                  555,
                  655
                ],
                "minValue": 25,
                "maxValue": 1015,
                "computedAt": "2025-11-09T04:07:31.282Z",
                "queryTimeMs": 7
              },
              "description": "Unit price of the product at the time of ordering"
            },
            {
              "name": "rcv_qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity of the product that has been received against the order line",
                  "reasoning": "Possible values overlap with qty but include variations, indicating receipt tracking.",
                  "generatedAt": "2025-11-09T04:07:53.214Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 11,
                "distinctCount": 11,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  150,
                  300,
                  350,
                  150,
                  200,
                  200,
                  250,
                  100,
                  300,
                  160,
                  350,
                  150,
                  150,
                  100,
                  300,
                  150,
                  80,
                  160,
                  100,
                  100
                ],
                "minValue": 80,
                "maxValue": 400,
                "computedAt": "2025-11-09T04:07:31.288Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                150,
                200,
                100,
                250,
                300,
                350,
                80,
                400,
                290,
                160,
                330
              ],
              "description": "Quantity of the product that has been received against the order line"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores line‑item details for purchase orders, linking each purchase order (po_id) to a product (prd_id) with ordered quantity, unit price and received quantity. Each row represents one product line on a PO.",
              "reasoning": "Column names po_id, prd_id, qty, prc and rcv_qty together match typical purchase‑order line‑item data. po_id and prd_id are marked PRIMARY KEY, indicating a composite key. seq has low cardinality (1‑7) suggesting line sequence within a PO. Sample values for qty and rcv_qty are typical order quantities. No foreign keys are declared, but the naming convention aligns with tables inv.po and inv.prd, implying logical relationships.",
              "generatedAt": "2025-11-09T04:07:53.214Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.93,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores line‑item details for purchase orders, linking each purchase order (po_id) to a product (prd_id) with ordered quantity, unit price and received quantity. Each row represents one product line on a PO."
        },
        {
          "name": "prd",
          "rowCount": "177",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique product identifier (primary key) for each row.",
                  "reasoning": "Distinct values equal row count (177) and marked as PRIMARY KEY.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 177,
                "distinctCount": 177,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  130,
                  158,
                  141,
                  111,
                  62,
                  144,
                  31,
                  38,
                  110,
                  1,
                  167,
                  149,
                  103,
                  102,
                  163,
                  136,
                  98,
                  30,
                  145,
                  2
                ],
                "minValue": 1,
                "maxValue": 177,
                "computedAt": "2025-11-09T04:07:31.293Z",
                "queryTimeMs": 3
              },
              "description": "Unique product identifier (primary key) for each row."
            },
            {
              "name": "cat_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product's category, likely referencing inv.cat.",
                  "reasoning": "Low cardinality (11 distinct values) and typical naming convention for category foreign key.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 11,
                "distinctCount": 11,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  2,
                  8,
                  11,
                  5,
                  12,
                  14,
                  14,
                  5,
                  9,
                  6,
                  3,
                  11,
                  6,
                  2,
                  9,
                  15,
                  6,
                  6,
                  2,
                  5
                ],
                "minValue": 2,
                "maxValue": 15,
                "computedAt": "2025-11-09T04:07:31.298Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                3,
                6,
                9,
                11,
                8,
                5,
                2,
                15,
                14,
                13,
                12
              ],
              "description": "Identifier of the product's category, likely referencing inv.cat."
            },
            {
              "name": "sup_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": true,
              "descriptionIterations": [
                {
                  "description": "Identifier of the supplier providing the product, likely referencing inv.sup.",
                  "reasoning": "Distinct values (25) suggest a lookup to a supplier table; column name follows supplier naming pattern.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  14,
                  19,
                  22,
                  21,
                  5,
                  5,
                  6,
                  17,
                  14,
                  7,
                  13,
                  9,
                  19,
                  2,
                  14,
                  3,
                  7,
                  3,
                  16,
                  15
                ],
                "minValue": 1,
                "maxValue": 25,
                "computedAt": "2025-11-09T04:07:31.302Z",
                "queryTimeMs": 4
              },
              "description": "Identifier of the supplier providing the product, likely referencing inv.sup.",
              "foreignKeyReferences": {
                "schema": "inv",
                "table": "sup",
                "column": "sup_id",
                "referencedColumn": "sup_id"
              }
            },
            {
              "name": "sku",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Stock Keeping Unit code used for inventory tracking.",
                  "reasoning": "Unique alphanumeric strings prefixed with \"SKU-\" and 100% uniqueness.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 177,
                "distinctCount": 177,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "SKU-0026",
                  "SKU-0152",
                  "SKU-0029",
                  "SKU-0078",
                  "SKU-0137",
                  "SKU-0051",
                  "SKU-0072",
                  "SKU-0115",
                  "SKU-0058",
                  "SKU-0106",
                  "SKU-0143",
                  "SKU-0171",
                  "SKU-0052",
                  "SKU-0092",
                  "SKU-0142",
                  "SKU-0075",
                  "SKU-0010",
                  "SKU-0109",
                  "SKU-0011",
                  "SKU-0094"
                ],
                "avgLength": 8,
                "computedAt": "2025-11-09T04:07:31.304Z",
                "queryTimeMs": 2
              },
              "description": "Stock Keeping Unit code used for inventory tracking."
            },
            {
              "name": "nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Human‑readable product name.",
                  "reasoning": "Text values describe actual products (chairs, paper, desks) and are unique per product.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 177,
                "distinctCount": 177,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "HON Ignition 2.0 Chair",
                  "Hammermill Premium Paper - Variant 2",
                  "AmazonBasics Manila Folders - Variant 3",
                  "Smead Hanging File Folders - Variant 2",
                  "Georgia-Pacific Copy Paper - Variant 2",
                  "FlexiSpot Electric Desk - Variant 2",
                  "Bush Furniture L-Shaped Desk",
                  "Sharpie Permanent Markers - Variant 3",
                  "Laptop Stand Aluminum - Variant 2",
                  "HP OfficeJet Pro 9015e - Variant 3",
                  "IKEA BEKANT Desk 63\" - Variant 3",
                  "Paper Mate Mechanical Pencils - Variant 2",
                  "WD 4TB External Hard Drive - Variant 2",
                  "HON 4-Drawer File Cabinet",
                  "Georgia-Pacific Copy Paper",
                  "Lorell 5-Shelf Bookcase - Variant 3",
                  "Kensington Laptop Lock",
                  "Paper Mate Mechanical Pencils - Variant 3",
                  "Microsoft Ergonomic Keyboard - Variant 3",
                  "Pendaflex File Folders Letter - Variant 2"
                ],
                "avgLength": 31,
                "computedAt": "2025-11-09T04:07:31.307Z",
                "queryTimeMs": 3
              },
              "description": "Human‑readable product name."
            },
            {
              "name": "dsc",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Short product description or marketing copy.",
                  "reasoning": "Text strings provide additional detail; distinct values indicate descriptive field.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 59,
                "distinctCount": 59,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Premium braided USB-C charging cable",
                  "Professional USB microphone for recording",
                  "Wood veneer bookshelf 72\" high",
                  "Quick-drying ink pens variety pack",
                  "Cube storage organizer",
                  "Flatbed scanner for photos",
                  "Heavy-duty view binder",
                  "Cartridge-free supertank printer",
                  "Insertable dividers for binders",
                  "Rolling file cabinet with drawers",
                  "Plastic 3-drawer organizer",
                  "Premium braided USB-C charging cable",
                  "High-performance desktop computer with Intel Core i7 processor",
                  "100-pack manila file folders",
                  "Economical multipurpose paper 5 reams",
                  "Chisel tip highlighters assorted",
                  "Business laptop with 14\" display and SSD storage",
                  "Budget-friendly desk chair",
                  "Heavy-duty view binder",
                  "Color laser all-in-one printer"
                ],
                "avgLength": 33,
                "computedAt": "2025-11-09T04:07:31.311Z",
                "queryTimeMs": 4
              },
              "description": "Short product description or marketing copy."
            },
            {
              "name": "prc",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Selling price of the product.",
                  "reasoning": "Decimal values with a wide range, typical for retail price.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 127,
                "distinctCount": 127,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  2874.99,
                  549.99,
                  14.94,
                  329.99,
                  24.99,
                  1943.5,
                  436.99,
                  1724.99,
                  80.49,
                  17.24,
                  39.99,
                  229.99,
                  1494.99,
                  45.99,
                  1299.99,
                  129.99,
                  40.24,
                  14.94,
                  18.39,
                  1272.7
                ],
                "minValue": 6.99,
                "maxValue": 3249.99,
                "computedAt": "2025-11-09T04:07:31.313Z",
                "queryTimeMs": 2
              },
              "description": "Selling price of the product."
            },
            {
              "name": "cost",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Cost to acquire or produce the product.",
                  "reasoning": "Decimal values, generally lower than prc, representing internal cost.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 127,
                "distinctCount": 127,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  896.99,
                  428.99,
                  8.96,
                  101.39,
                  10.13,
                  77.99,
                  329.99,
                  70.19,
                  275.99,
                  272.99,
                  23.99,
                  701.99,
                  26.99,
                  29.99,
                  7.79,
                  137.99,
                  296.39,
                  17.24,
                  10.34,
                  14.99
                ],
                "minValue": 4.19,
                "maxValue": 1949.99,
                "computedAt": "2025-11-09T04:07:31.316Z",
                "queryTimeMs": 3
              },
              "description": "Cost to acquire or produce the product."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Product status flag (A=Active, O=On hold?, D=Discontinued).",
                  "reasoning": "Single‑character column with three possible values; common pattern for status enums.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "D",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.319Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "A",
                "O",
                "D"
              ],
              "description": "Product status flag (A=Active, O=On hold?, D=Discontinued)."
            },
            {
              "name": "wgt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Weight of the product, measured in the unit defined by uom.",
                  "reasoning": "Decimal values with varied magnitude; typical for physical weight attribute.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 52,
                "distinctCount": 52,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  0.1,
                  10,
                  15,
                  28,
                  14,
                  45,
                  0.2,
                  6,
                  9,
                  10,
                  8,
                  47,
                  46,
                  9,
                  7,
                  9,
                  10,
                  5,
                  0.1,
                  44
                ],
                "minValue": 0.1,
                "maxValue": 47,
                "computedAt": "2025-11-09T04:07:31.323Z",
                "queryTimeMs": 4
              },
              "description": "Weight of the product, measured in the unit defined by uom."
            },
            {
              "name": "uom",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unit of measure for quantity (EA=Each, BX=Box, CS=Case).",
                  "reasoning": "Char column with three known codes, matching common inventory UOM conventions.",
                  "generatedAt": "2025-11-09T04:07:56.213Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "EA",
                  "CS",
                  "EA",
                  "EA",
                  "EA",
                  "BX",
                  "EA",
                  "BX",
                  "EA",
                  "CS",
                  "EA",
                  "EA",
                  "BX",
                  "CS"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T04:07:31.326Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "EA",
                "BX",
                "CS"
              ],
              "description": "Unit of measure for quantity (EA=Each, BX=Box, CS=Case)."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Master product table storing detailed information for each inventory item, including identifiers, categorization, supplier, SKU, name, description, pricing, cost, status, weight and unit of measure.",
              "reasoning": "The presence of a unique primary key (prd_id) together with cat_id and sup_id suggests linkage to category and supplier tables. Columns sku, nm, dsc, prc, cost, sts, wgt, and uom are typical attributes of a product master record. Sample values (e.g., SKU-0026, \"HON Ignition 2.0 Chair\", price 2874.99, status A) reinforce this interpretation. Although no foreign keys are enforced, the column names and distinct value counts align with expected lookup relationships in an inventory schema.",
              "generatedAt": "2025-11-09T04:07:56.213Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Master product table storing detailed information for each inventory item, including identifiers, categorization, supplier, SKU, name, description, pricing, cost, status, weight and unit of measure."
        },
        {
          "name": "rcv",
          "rowCount": "120",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "rcv_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each receipt record",
                  "reasoning": "Primary key with 100% uniqueness and integer type; sample values are distinct.",
                  "generatedAt": "2025-11-09T04:07:58.308Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 120,
                "distinctCount": 120,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  24,
                  84,
                  9,
                  63,
                  79,
                  61,
                  39,
                  101,
                  107,
                  51,
                  52,
                  49,
                  28,
                  42,
                  82,
                  111,
                  22,
                  83,
                  58,
                  86
                ],
                "minValue": 1,
                "maxValue": 120,
                "computedAt": "2025-11-09T04:07:31.330Z",
                "queryTimeMs": 3
              },
              "description": "Unique identifier for each receipt record"
            },
            {
              "name": "po_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the purchase order associated with the receipt",
                  "reasoning": "Primary key flag and unique values; name and sample values match purchase order IDs, likely FK to inv.po.",
                  "generatedAt": "2025-11-09T04:07:58.308Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 120,
                "distinctCount": 120,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  51,
                  47,
                  49,
                  29,
                  33,
                  4,
                  79,
                  6,
                  83,
                  82,
                  27,
                  66,
                  52,
                  99,
                  58,
                  120,
                  119,
                  70,
                  19,
                  65
                ],
                "minValue": 1,
                "maxValue": 120,
                "computedAt": "2025-11-09T04:07:31.332Z",
                "queryTimeMs": 2
              },
              "description": "Identifier of the purchase order associated with the receipt"
            },
            {
              "name": "rcv_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the goods were received",
                  "reasoning": "Date type with unique values per row; sample values are recent dates.",
                  "generatedAt": "2025-11-09T04:07:58.308Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 120,
                "distinctCount": 120,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-12-09T00:00:00.000Z",
                  "2024-12-19T00:00:00.000Z",
                  "2024-09-27T00:00:00.000Z",
                  "2024-10-28T00:00:00.000Z",
                  "2024-11-18T00:00:00.000Z",
                  "2024-10-04T00:00:00.000Z",
                  "2024-10-09T00:00:00.000Z",
                  "2025-01-04T00:00:00.000Z",
                  "2024-12-23T00:00:00.000Z",
                  "2024-11-13T00:00:00.000Z",
                  "2024-11-15T00:00:00.000Z",
                  "2025-01-15T00:00:00.000Z",
                  "2024-10-18T00:00:00.000Z",
                  "2024-12-02T00:00:00.000Z",
                  "2024-09-29T00:00:00.000Z",
                  "2024-11-16T00:00:00.000Z",
                  "2025-01-02T00:00:00.000Z",
                  "2025-01-13T00:00:00.000Z",
                  "2024-09-20T00:00:00.000Z",
                  "2024-10-25T00:00:00.000Z"
                ],
                "minValue": "2024-09-18T00:00:00.000Z",
                "maxValue": "2025-01-15T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.335Z",
                "queryTimeMs": 3
              },
              "description": "Date the goods were received"
            },
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the warehouse where the receipt was logged",
                  "reasoning": "Low cardinality (8 distinct values) typical of warehouse enumeration; possible values 1‑8 and likely FK to inv.whs.",
                  "generatedAt": "2025-11-09T04:07:58.308Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  6,
                  8,
                  6,
                  8,
                  8,
                  3,
                  5,
                  4,
                  2,
                  4,
                  3,
                  4,
                  8,
                  7,
                  2,
                  6,
                  1,
                  1,
                  4,
                  2
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T04:07:31.338Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                8,
                7,
                6,
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Identifier of the warehouse where the receipt was logged"
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text notes about the receipt, often indicating partial shipment or backorder",
                  "reasoning": "String column with high null rate; only observed value is 'Partial shipment received - balance on backorder', indicating its purpose.",
                  "generatedAt": "2025-11-09T04:07:58.308Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 1,
                "distinctCount": 1,
                "uniquenessRatio": 1,
                "nullCount": 112,
                "nullPercentage": 112,
                "dataPattern": "natural",
                "sampleValues": [
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder",
                  "Partial shipment received - balance on backorder"
                ],
                "avgLength": 48,
                "computedAt": "2025-11-09T04:07:31.342Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "Partial shipment received - balance on backorder"
              ],
              "description": "Optional free‑text notes about the receipt, often indicating partial shipment or backorder"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores records of goods received against purchase orders, capturing when and where each receipt occurred and any notes about partial shipments or backorders.",
              "reasoning": "Column names rcv_id (receipt identifier), po_id (purchase order reference), rcv_dt (receipt date), whs_id (warehouse identifier) and notes indicating partial shipment suggest this table logs receipt events. Sample values show unique IDs and dates in the near future, and notes are consistently about partial shipments, implying a receipt of inventory. The likely foreign keys are po_id → inv.po and whs_id → inv.whs, fitting the inventory domain.",
              "generatedAt": "2025-11-09T04:07:58.308Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.9,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores records of goods received against purchase orders, capturing when and where each receipt occurred and any notes about partial shipments or backorders."
        },
        {
          "name": "stk",
          "rowCount": "1120",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product; links to inv.prd table",
                  "reasoning": "Primary key component, integer, 200 distinct values matching typical product catalog size.",
                  "generatedAt": "2025-11-09T04:08:00.810Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 200,
                "distinctCount": 200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  5,
                  27,
                  141,
                  185,
                  28,
                  100,
                  177,
                  175,
                  185,
                  99,
                  77,
                  57,
                  124,
                  101,
                  98,
                  199,
                  89,
                  159,
                  156,
                  64
                ],
                "minValue": 1,
                "maxValue": 200,
                "computedAt": "2025-11-09T04:07:31.347Z",
                "queryTimeMs": 4
              },
              "description": "Identifier of the product; links to inv.prd table"
            },
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the warehouse; links to inv.whs table",
                  "reasoning": "Primary key component, integer, 8 distinct values representing a small set of warehouse locations.",
                  "generatedAt": "2025-11-09T04:08:00.810Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  7,
                  8,
                  6,
                  3,
                  5,
                  5,
                  6,
                  4,
                  2,
                  8,
                  5,
                  4,
                  4,
                  5,
                  7,
                  7,
                  3,
                  5,
                  8,
                  3
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T04:07:31.351Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                8,
                2,
                5,
                4,
                1,
                7,
                6,
                3
              ],
              "description": "Identifier of the warehouse; links to inv.whs table"
            },
            {
              "name": "qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current on‑hand quantity of the product at the warehouse",
                  "reasoning": "Integer with many distinct values; sample values are typical stock levels.",
                  "generatedAt": "2025-11-09T04:08:00.810Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 410,
                "distinctCount": 410,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1120,
                  6930,
                  5170,
                  8400,
                  3960,
                  8800,
                  1680,
                  4800,
                  10670,
                  5580,
                  12480,
                  7020,
                  3240,
                  3600,
                  5900,
                  80,
                  520,
                  5400,
                  3600,
                  3240
                ],
                "minValue": 60,
                "maxValue": 12870,
                "computedAt": "2025-11-09T04:07:31.355Z",
                "queryTimeMs": 4
              },
              "description": "Current on‑hand quantity of the product at the warehouse"
            },
            {
              "name": "rsv",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity of the product reserved for pending orders",
                  "reasoning": "Integer similar to qty; represents reserved stock.",
                  "generatedAt": "2025-11-09T04:08:00.810Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 406,
                "distinctCount": 406,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1056,
                  837,
                  117,
                  648,
                  564,
                  24,
                  720,
                  470,
                  498,
                  672,
                  621,
                  513,
                  690,
                  1164,
                  261,
                  810,
                  570,
                  560,
                  712,
                  190
                ],
                "minValue": 0,
                "maxValue": 1287,
                "computedAt": "2025-11-09T04:07:31.359Z",
                "queryTimeMs": 4
              },
              "description": "Quantity of the product reserved for pending orders"
            },
            {
              "name": "min_qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Minimum desired stock level (reorder point) for the product at the warehouse",
                  "reasoning": "Integer with 50 distinct values; typical for safety‑stock thresholds.",
                  "generatedAt": "2025-11-09T04:08:00.810Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 50,
                "distinctCount": 50,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  30,
                  53,
                  49,
                  33,
                  33,
                  42,
                  19,
                  36,
                  25,
                  40,
                  30,
                  43,
                  37,
                  15,
                  58,
                  59,
                  56,
                  32,
                  54,
                  37
                ],
                "minValue": 10,
                "maxValue": 59,
                "computedAt": "2025-11-09T04:07:31.364Z",
                "queryTimeMs": 5
              },
              "description": "Minimum desired stock level (reorder point) for the product at the warehouse"
            },
            {
              "name": "max_qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Maximum allowable stock level for the product at the warehouse",
                  "reasoning": "Integer with 50 distinct values; complements min_qty as upper threshold.",
                  "generatedAt": "2025-11-09T04:08:00.810Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 50,
                "distinctCount": 50,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1020,
                  720,
                  540,
                  780,
                  320,
                  960,
                  520,
                  400,
                  680,
                  1140,
                  300,
                  920,
                  600,
                  1040,
                  600,
                  500,
                  1140,
                  520,
                  1040,
                  920
                ],
                "minValue": 200,
                "maxValue": 1180,
                "computedAt": "2025-11-09T04:07:31.370Z",
                "queryTimeMs": 6
              },
              "description": "Maximum allowable stock level for the product at the warehouse"
            },
            {
              "name": "lst_cnt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date of the last physical inventory count for this product‑warehouse pair",
                  "reasoning": "Date values in late 2024; aligns with periodic counting cycles.",
                  "generatedAt": "2025-11-09T04:08:00.810Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 63,
                "distinctCount": 63,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-10-31T00:00:00.000Z",
                  "2024-12-10T00:00:00.000Z",
                  "2024-12-11T00:00:00.000Z",
                  "2024-10-21T00:00:00.000Z",
                  "2024-11-08T00:00:00.000Z",
                  "2024-10-28T00:00:00.000Z",
                  "2024-10-27T00:00:00.000Z",
                  "2024-12-07T00:00:00.000Z",
                  "2024-11-27T00:00:00.000Z",
                  "2024-11-26T00:00:00.000Z",
                  "2024-12-12T00:00:00.000Z",
                  "2024-11-28T00:00:00.000Z",
                  "2024-10-28T00:00:00.000Z",
                  "2024-10-19T00:00:00.000Z",
                  "2024-11-01T00:00:00.000Z",
                  "2024-10-17T00:00:00.000Z",
                  "2024-12-29T00:00:00.000Z",
                  "2024-12-08T00:00:00.000Z",
                  "2024-12-17T00:00:00.000Z",
                  "2024-12-22T00:00:00.000Z"
                ],
                "minValue": "2024-10-07T00:00:00.000Z",
                "maxValue": "2025-01-01T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.374Z",
                "queryTimeMs": 4
              },
              "description": "Date of the last physical inventory count for this product‑warehouse pair"
            },
            {
              "name": "lst_rcv",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date of the most recent stock receipt for this product‑warehouse pair",
                  "reasoning": "Date values clustered in Dec 2024–Jan 2025, indicating recent replenishment events.",
                  "generatedAt": "2025-11-09T04:08:00.810Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 21,
                "distinctCount": 21,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-12-10T00:00:00.000Z",
                  "2024-12-12T00:00:00.000Z",
                  "2024-12-20T00:00:00.000Z",
                  "2024-12-06T00:00:00.000Z",
                  "2024-12-10T00:00:00.000Z",
                  "2025-01-01T00:00:00.000Z",
                  "2024-12-08T00:00:00.000Z",
                  "2024-12-19T00:00:00.000Z",
                  "2024-12-18T00:00:00.000Z",
                  "2024-12-07T00:00:00.000Z",
                  "2024-12-09T00:00:00.000Z",
                  "2024-12-27T00:00:00.000Z",
                  "2025-01-01T00:00:00.000Z",
                  "2024-12-27T00:00:00.000Z",
                  "2024-12-19T00:00:00.000Z",
                  "2024-12-07T00:00:00.000Z",
                  "2024-12-08T00:00:00.000Z",
                  "2024-12-28T00:00:00.000Z",
                  "2024-12-06T00:00:00.000Z",
                  "2024-12-12T00:00:00.000Z"
                ],
                "minValue": "2024-12-06T00:00:00.000Z",
                "maxValue": "2025-01-01T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.379Z",
                "queryTimeMs": 4
              },
              "description": "Date of the most recent stock receipt for this product‑warehouse pair"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores inventory levels and stock thresholds for each product at each warehouse, tracking on‑hand quantity, reserved quantity, and recent count/receipt dates.",
              "reasoning": "Column names prd_id and whs_id form a composite primary key, indicating a many‑to‑many relationship between products and warehouses. qty and rsv are numeric quantities typical for stock on hand and reserved stock. min_qty and max_qty are typical reorder or safety‑stock limits. lst_cnt and lst_rcv are dates matching inventory count and receipt events. Sample values (e.g., product IDs 5‑199, warehouse IDs 1‑8) and distinct counts support this interpretation. No foreign keys are declared, but the naming aligns with the inv.prd and inv.whs tables in the schema.",
              "generatedAt": "2025-11-09T04:08:00.810Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores inventory levels and stock thresholds for each product at each warehouse, tracking on‑hand quantity, reserved quantity, and recent count/receipt dates."
        },
        {
          "name": "sup",
          "rowCount": "25",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "sup_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each supplier (primary key).",
                  "reasoning": "Primary key with 100% uniqueness across 25 rows.",
                  "generatedAt": "2025-11-09T04:08:02.585Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  14,
                  21,
                  15,
                  10,
                  12,
                  13,
                  5,
                  4,
                  3,
                  19,
                  20,
                  23,
                  2,
                  1,
                  24,
                  9,
                  18,
                  7,
                  25,
                  11
                ],
                "minValue": 1,
                "maxValue": 25,
                "computedAt": "2025-11-09T04:07:31.384Z",
                "queryTimeMs": 3
              },
              "description": "Unique identifier for each supplier (primary key)."
            },
            {
              "name": "nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Legal or trade name of the supplier.",
                  "reasoning": "String values are company names; distinct for each supplier.",
                  "generatedAt": "2025-11-09T04:08:02.585Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Metro Electronics Ltd",
                  "Quality Paper & Supplies",
                  "Corporate Furniture Group",
                  "QuickShip Business Supplies",
                  "Furniture Warehouse Direct",
                  "Global Electronics Inc",
                  "Premium Furniture Wholesale",
                  "Reliable Office Equipment",
                  "Discount Supply Warehouse",
                  "TechWorld Distributors",
                  "Tech Solutions Distributors",
                  "TechPro Supply Chain",
                  "Premium Paper Products",
                  "Budget Office Furniture",
                  "National Supply Partners",
                  "Nationwide Furniture Co",
                  "Elite Tech Distributors",
                  "Office Essentials Plus",
                  "ProOffice Distributors",
                  "Wholesale Office Solutions"
                ],
                "avgLength": 23,
                "computedAt": "2025-11-09T04:07:31.387Z",
                "queryTimeMs": 3
              },
              "description": "Legal or trade name of the supplier."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current status of the supplier (e.g., A=Active, I=Inactive, S=Suspended, T=Terminated).",
                  "reasoning": "Single‑character codes with four distinct values, typical status enumeration.",
                  "generatedAt": "2025-11-09T04:08:02.585Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "A",
                  "A",
                  "A",
                  "I",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "S",
                  "T",
                  "A"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.390Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "A",
                "T",
                "S",
                "I"
              ],
              "description": "Current status of the supplier (e.g., A=Active, I=Inactive, S=Suspended, T=Terminated)."
            },
            {
              "name": "pmt_trm",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Standard payment terms offered to the supplier (e.g., Net 30, Net 60, COD).",
                  "reasoning": "Values like N30, N60, N15, N45, COD indicate payment term codes.",
                  "generatedAt": "2025-11-09T04:08:02.585Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "N30",
                  "N30",
                  "N60",
                  "N30",
                  "N30",
                  "N30",
                  "N30",
                  "N30",
                  "N15",
                  "COD",
                  "COD",
                  "N60",
                  "N30",
                  "N30",
                  "N60",
                  "N60",
                  "N60",
                  "N45",
                  "N15",
                  "N45"
                ],
                "avgLength": 3,
                "computedAt": "2025-11-09T04:07:31.393Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "N30",
                "N60",
                "N45",
                "N15",
                "COD"
              ],
              "description": "Standard payment terms offered to the supplier (e.g., Net 30, Net 60, COD)."
            },
            {
              "name": "rtg",
              "dataType": "tinyint",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Supplier rating on a scale of 1 (lowest) to 5 (highest).",
                  "reasoning": "Tinyint with values 1‑5, representing a rating metric.",
                  "generatedAt": "2025-11-09T04:08:02.585Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  4,
                  4,
                  3,
                  4,
                  2,
                  5,
                  4,
                  4,
                  5,
                  5,
                  4,
                  5,
                  1,
                  4,
                  4,
                  5,
                  5,
                  5,
                  5,
                  4
                ],
                "minValue": 1,
                "maxValue": 5,
                "computedAt": "2025-11-09T04:07:31.396Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Supplier rating on a scale of 1 (lowest) to 5 (highest)."
            },
            {
              "name": "cnt_nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Name of the primary contact person for the supplier.",
                  "reasoning": "Distinct personal names, one per supplier.",
                  "generatedAt": "2025-11-09T04:08:02.585Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Daniel Robinson",
                  "Matthew Rodriguez",
                  "James Garcia",
                  "Christopher Taylor",
                  "Karen Martinez",
                  "Michael Chen",
                  "Jennifer Martinez",
                  "John Wilson",
                  "Linda Anderson",
                  "Lisa Thompson",
                  "Sarah Johnson",
                  "Barbara Jackson",
                  "David Anderson",
                  "Charles Garcia",
                  "Susan Harris",
                  "Betty Lewis",
                  "Robert Williams",
                  "Jessica Thompson",
                  "Richard White",
                  "Patricia Moore"
                ],
                "avgLength": 13,
                "computedAt": "2025-11-09T04:07:31.399Z",
                "queryTimeMs": 3
              },
              "description": "Name of the primary contact person for the supplier."
            },
            {
              "name": "cnt_phn",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Phone number of the primary contact.",
                  "reasoning": "Formatted as 555‑xxxx, unique per supplier.",
                  "generatedAt": "2025-11-09T04:08:02.585Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "555-0112",
                  "555-0106",
                  "555-0120",
                  "555-0102",
                  "555-0125",
                  "555-0123",
                  "555-0118",
                  "555-0115",
                  "555-0121",
                  "555-0105",
                  "555-0104",
                  "555-0111",
                  "555-0114",
                  "555-0117",
                  "555-0108",
                  "555-0122",
                  "555-0116",
                  "555-0124",
                  "555-0119",
                  "555-0107"
                ],
                "avgLength": 8,
                "computedAt": "2025-11-09T04:07:31.402Z",
                "queryTimeMs": 3
              },
              "description": "Phone number of the primary contact."
            },
            {
              "name": "cnt_eml",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Email address of the primary contact.",
                  "reasoning": "Unique email addresses matching contact names and supplier domains.",
                  "generatedAt": "2025-11-09T04:08:02.585Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 25,
                "distinctCount": 25,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "mrodriguez@budgetfurn.com",
                  "rwilliams@premiumfurn.com",
                  "lthompson@premiumpaper.com",
                  "blewis@continental.com",
                  "jthompson@techpro.com",
                  "jgarcia@reliable.com",
                  "mthomas@natsupply.com",
                  "alee@discountsupply.com",
                  "cgarcia@officeess.com",
                  "rwhite@qualitypaper.com",
                  "mchen@techsolutions.com",
                  "nclark@nationwide.com",
                  "sharris@prooffice.com",
                  "danderson@quickship.com",
                  "jwilson@elitetech.com",
                  "pmoore@express.com",
                  "landerson@wholesale.com",
                  "bjackson@metroelec.com",
                  "ctaylor@corpfurn.com",
                  "mrodriguez@techworld.com"
                ],
                "avgLength": 22,
                "computedAt": "2025-11-09T04:07:31.405Z",
                "queryTimeMs": 3
              },
              "description": "Email address of the primary contact."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores master information about suppliers/vendors that provide products to the company, including their identifier, name, status, payment terms, rating, and primary contact details.",
              "reasoning": "The primary key sup_id uniquely identifies each row (25 distinct values for 25 rows). Column nm holds supplier names (e.g., \"Metro Electronics Ltd\"). sts contains single‑character status codes (A, T, S, I) typical for active/inactive flags. pmt_trm lists payment terms (N30, N60, COD, etc.). rtg is a numeric rating from 1‑5. cnt_nm, cnt_phn, cnt_eml clearly represent the contact person's name, phone, and email. The combination of these fields matches a classic supplier master table, and the list of possible parent tables includes inv.sup, confirming the inference.",
              "generatedAt": "2025-11-09T04:08:02.584Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores master information about suppliers/vendors that provide products to the company, including their identifier, name, status, payment terms, rating, and primary contact details."
        },
        {
          "name": "whs",
          "rowCount": "8",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique integer identifier for each warehouse record",
                  "reasoning": "Primary key, 100% unique, values 1‑8",
                  "generatedAt": "2025-11-09T04:08:04.686Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "sequential",
                "sampleValues": [
                  3,
                  5,
                  1,
                  7,
                  8,
                  2,
                  4,
                  6
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T04:07:31.409Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                8,
                7,
                6,
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Unique integer identifier for each warehouse record"
            },
            {
              "name": "cd",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Three‑character warehouse code, usually an airport or city abbreviation",
                  "reasoning": "Char(3) values like LAX, SEA correspond to city/state columns",
                  "generatedAt": "2025-11-09T04:08:04.686Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "LAX",
                  "SEA",
                  "DEN",
                  "DAL",
                  "MIA",
                  "NYC",
                  "ATL",
                  "CHI"
                ],
                "avgLength": 3,
                "computedAt": "2025-11-09T04:07:31.412Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "SEA",
                "NYC",
                "MIA",
                "LAX",
                "DEN",
                "DAL",
                "CHI",
                "ATL"
              ],
              "description": "Three‑character warehouse code, usually an airport or city abbreviation"
            },
            {
              "name": "nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Full descriptive name of the warehouse or distribution center",
                  "reasoning": "nvarchar values such as 'Seattle Regional Warehouse' provide human‑readable names",
                  "generatedAt": "2025-11-09T04:08:04.686Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Denver Regional Hub",
                  "Chicago Distribution Center",
                  "Atlanta Distribution Hub",
                  "Seattle Regional Warehouse",
                  "New York Regional Hub",
                  "Dallas Regional Center",
                  "Los Angeles Distribution",
                  "Miami Distribution Center"
                ],
                "avgLength": 23,
                "computedAt": "2025-11-09T04:07:31.415Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "Seattle Regional Warehouse",
                "New York Regional Hub",
                "Miami Distribution Center",
                "Los Angeles Distribution",
                "Denver Regional Hub",
                "Dallas Regional Center",
                "Chicago Distribution Center",
                "Atlanta Distribution Hub"
              ],
              "description": "Full descriptive name of the warehouse or distribution center"
            },
            {
              "name": "cty",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "City where the warehouse is located",
                  "reasoning": "Distinct city names matching the codes in cd",
                  "generatedAt": "2025-11-09T04:08:04.686Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Miami",
                  "Los Angeles",
                  "Atlanta",
                  "Denver",
                  "Dallas",
                  "New York",
                  "Seattle",
                  "Chicago"
                ],
                "avgLength": 7,
                "computedAt": "2025-11-09T04:07:31.418Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "Seattle",
                "New York",
                "Miami",
                "Los Angeles",
                "Denver",
                "Dallas",
                "Chicago",
                "Atlanta"
              ],
              "description": "City where the warehouse is located"
            },
            {
              "name": "st",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Two‑letter state abbreviation for the warehouse location",
                  "reasoning": "Char(2) values like WA, TX align with city data",
                  "generatedAt": "2025-11-09T04:08:04.686Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "FL",
                  "WA",
                  "TX",
                  "NY",
                  "CO",
                  "CA",
                  "GA",
                  "IL"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T04:07:31.422Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "WA",
                "TX",
                "NY",
                "IL",
                "GA",
                "FL",
                "CO",
                "CA"
              ],
              "description": "Two‑letter state abbreviation for the warehouse location"
            },
            {
              "name": "typ",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Warehouse type/category (R=Regional, M=Manufacturing, D=Distribution)",
                  "reasoning": "Low‑cardinality enum with values R, M, D typical for type classification",
                  "generatedAt": "2025-11-09T04:08:04.686Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "R",
                  "R",
                  "R",
                  "D",
                  "R",
                  "M",
                  "D",
                  "M"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.425Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "R",
                "M",
                "D"
              ],
              "description": "Warehouse type/category (R=Regional, M=Manufacturing, D=Distribution)"
            },
            {
              "name": "cap",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Storage capacity of the warehouse (e.g., square feet or cubic units)",
                  "reasoning": "Large integer values ranging from 100,000 to 250,000 suggest capacity metrics",
                  "generatedAt": "2025-11-09T04:08:04.686Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  250000,
                  150000,
                  200000,
                  120000,
                  220000,
                  140000,
                  100000,
                  180000
                ],
                "minValue": 100000,
                "maxValue": 250000,
                "computedAt": "2025-11-09T04:07:31.428Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                250000,
                220000,
                200000,
                180000,
                150000,
                140000,
                120000,
                100000
              ],
              "description": "Storage capacity of the warehouse (e.g., square feet or cubic units)"
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Operational status flag (A=Active, M=Maintenance/Closed)",
                  "reasoning": "Two distinct values, predominantly A, indicating active status",
                  "generatedAt": "2025-11-09T04:08:04.686Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "M",
                  "A"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.431Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "A",
                "M"
              ],
              "description": "Operational status flag (A=Active, M=Maintenance/Closed)"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Master table storing information about each warehouse used in the inventory system, including its identifier, code, name, location, type, capacity and operational status.",
              "reasoning": "The primary key whs_id uniquely identifies each record (8 distinct values for 8 rows). The cd column contains three‑letter city/airport codes (e.g., LAX, SEA) matching the cities listed in cty and states in st, indicating a warehouse code. The nm column holds the full descriptive name of the warehouse. cty and st provide city and state locations. typ has three distinct single‑letter values (R, M, D) typical for categorical enums such as Regional, Manufacturing, Distribution. cap holds large integer values consistent with storage capacity. sts contains A and M, a common active/maintenance status flag. No foreign keys are present, confirming it as a foundational lookup table for warehouses (inv.whs).",
              "generatedAt": "2025-11-09T04:08:04.686Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.97,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Master table storing information about each warehouse used in the inventory system, including its identifier, code, name, location, type, capacity and operational status."
        }
      ],
      "descriptionIterations": []
    },
    {
      "name": "sales",
      "tables": [
        {
          "name": "addr",
          "rowCount": "800",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "addr_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Surrogate primary key for each address record",
                  "reasoning": "Unique integer with 800 distinct values matching row count, typical identifier",
                  "generatedAt": "2025-11-09T04:08:07.109Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 800,
                "distinctCount": 800,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  88,
                  400,
                  323,
                  564,
                  576,
                  93,
                  746,
                  269,
                  98,
                  45,
                  528,
                  343,
                  35,
                  708,
                  75,
                  588,
                  539,
                  145,
                  302,
                  235
                ],
                "minValue": 1,
                "maxValue": 800,
                "computedAt": "2025-11-09T04:07:31.434Z",
                "queryTimeMs": 3
              },
              "description": "Surrogate primary key for each address record"
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Foreign key linking the address to a customer in sales.cst",
                  "reasoning": "Appears as part of composite PK and contains many repeated values (476 distinct out of 800), indicating multiple addresses per customer",
                  "generatedAt": "2025-11-09T04:08:07.109Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 476,
                "distinctCount": 476,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  334,
                  314,
                  245,
                  248,
                  411,
                  467,
                  406,
                  214,
                  172,
                  271,
                  73,
                  422,
                  64,
                  214,
                  269,
                  205,
                  9999,
                  169,
                  9999,
                  255
                ],
                "minValue": 2,
                "maxValue": 9999,
                "computedAt": "2025-11-09T04:07:31.438Z",
                "queryTimeMs": 4
              },
              "description": "Foreign key linking the address to a customer in sales.cst"
            },
            {
              "name": "typ",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Address type code: S=Shipping, B=Billing, O=Other/Office",
                  "reasoning": "Only three distinct single‑character values, matching common address categories in sales systems",
                  "generatedAt": "2025-11-09T04:08:07.109Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "B",
                  "O",
                  "O",
                  "S",
                  "S",
                  "O",
                  "S",
                  "S",
                  "B",
                  "S",
                  "B",
                  "S",
                  "B",
                  "B",
                  "B",
                  "B",
                  "B",
                  "O",
                  "O",
                  "S"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.442Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "S",
                "O",
                "B"
              ],
              "description": "Address type code: S=Shipping, B=Billing, O=Other/Office"
            },
            {
              "name": "ln1",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "First line of the street address (street number and name)",
                  "reasoning": "Sample values are typical street addresses and column is fully unique per row",
                  "generatedAt": "2025-11-09T04:08:07.109Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 800,
                "distinctCount": 800,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "92 Oak Avenue",
                  "671 Main Street",
                  "780 Industrial Drive",
                  "701 Main Street",
                  "648 Park Boulevard",
                  "282 Oak Avenue",
                  "80 Industrial Drive",
                  "633 Park Boulevard",
                  "583 Park Boulevard",
                  "690 Industrial Drive",
                  "95 Industrial Drive",
                  "580 Industrial Drive",
                  "224 Market Street",
                  "522 Oak Avenue",
                  "64 Market Street",
                  "721 Main Street",
                  "741 Main Street",
                  "144 Market Street",
                  "407 Oak Avenue",
                  "347 Oak Avenue"
                ],
                "avgLength": 16,
                "computedAt": "2025-11-09T04:07:31.446Z",
                "queryTimeMs": 4
              },
              "description": "First line of the street address (street number and name)"
            },
            {
              "name": "ln2",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Second line of the address, often a suite or apartment number; optional (75% null)",
                  "reasoning": "Sample values are suite numbers and high null rate indicates optional secondary line",
                  "generatedAt": "2025-11-09T04:08:07.109Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 125,
                "uniquenessRatio": 15.625,
                "nullCount": 600,
                "nullPercentage": 75,
                "dataPattern": "natural",
                "sampleValues": [
                  "Suite 209",
                  "Suite 9",
                  "Suite 429",
                  "Suite 413",
                  "Suite 173",
                  "Suite 173",
                  "Suite 273",
                  "Suite 97",
                  "Suite 385",
                  "Suite 349",
                  "Suite 133",
                  "Suite 65",
                  "Suite 41",
                  "Suite 153",
                  "Suite 17",
                  "Suite 65",
                  "Suite 281",
                  "Suite 437",
                  "Suite 5",
                  "Suite 109"
                ],
                "avgLength": 8,
                "computedAt": "2025-11-09T04:07:31.449Z",
                "queryTimeMs": 3
              },
              "description": "Second line of the address, often a suite or apartment number; optional (75% null)"
            },
            {
              "name": "cty",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "City name for the address",
                  "reasoning": "Sample values are US city names; low distinct count (29) consistent with city enumeration",
                  "generatedAt": "2025-11-09T04:08:07.109Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 29,
                "distinctCount": 29,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Chicago",
                  "Portland",
                  "Minneapolis",
                  "San Jose",
                  "Denver",
                  "Nashville",
                  "Fort Worth",
                  "San Antonio",
                  "Los Angeles",
                  "Nashville",
                  "San Antonio",
                  "St. Louis",
                  "Charlotte",
                  "San Antonio",
                  "Phoenix",
                  "Atlanta",
                  "Tampa",
                  "Dallas",
                  "St. Louis",
                  "Phoenix"
                ],
                "avgLength": 8,
                "computedAt": "2025-11-09T04:07:31.453Z",
                "queryTimeMs": 4
              },
              "description": "City name for the address"
            },
            {
              "name": "st",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Two‑letter US state abbreviation",
                  "reasoning": "Possible values list matches US state codes; each row stores a state",
                  "generatedAt": "2025-11-09T04:08:07.109Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 20,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "MA",
                  "GA",
                  "IN",
                  "CA",
                  "GA",
                  "FL",
                  "IL",
                  "CO",
                  "WA",
                  "CA",
                  "MA",
                  "MO",
                  "TX",
                  "TN",
                  "CA",
                  "TX",
                  "MI",
                  "MA",
                  "OR",
                  "PA"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T04:07:31.459Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "TX",
                "CA",
                "AZ",
                "FL",
                "IN",
                "PA",
                "IL",
                "MI",
                "MA",
                "OR",
                "TN",
                "MO",
                "MN",
                "OH",
                "NV",
                "NY",
                "GA",
                "CO",
                "WA",
                "NC"
              ],
              "description": "Two‑letter US state abbreviation"
            },
            {
              "name": "zip",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "5‑digit ZIP code for the address",
                  "reasoning": "Unique per row in sample, typical US postal code format",
                  "generatedAt": "2025-11-09T04:08:07.109Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 800,
                "distinctCount": 800,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "10319",
                  "10719",
                  "10546",
                  "10487",
                  "10151",
                  "10629",
                  "10227",
                  "10741",
                  "10529",
                  "10620",
                  "10679",
                  "10324",
                  "10621",
                  "10513",
                  "10434",
                  "10158",
                  "10759",
                  "10005",
                  "10215",
                  "10105"
                ],
                "avgLength": 5,
                "computedAt": "2025-11-09T04:07:31.462Z",
                "queryTimeMs": 3
              },
              "description": "5‑digit ZIP code for the address"
            },
            {
              "name": "ctry",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Country code, always 'US'",
                  "reasoning": "Only one distinct value, indicating the database is US‑centric",
                  "generatedAt": "2025-11-09T04:08:07.109Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 1,
                "distinctCount": 1,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US",
                  "US"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T04:07:31.467Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "US"
              ],
              "description": "Country code, always 'US'"
            },
            {
              "name": "dflt",
              "dataType": "bit",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Boolean flag indicating whether this address is the default for the customer (or for its type)",
                  "reasoning": "Bit column with true/false values, typical for default selection",
                  "generatedAt": "2025-11-09T04:08:07.109Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  true,
                  false,
                  true,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  true,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false
                ],
                "computedAt": "2025-11-09T04:07:31.470Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                false,
                true
              ],
              "description": "Boolean flag indicating whether this address is the default for the customer (or for its type)"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores mailing and contact addresses associated with customers, including address lines, city, state, zip, country, type (shipping, billing, other) and a flag indicating the default address for the customer",
              "reasoning": "The table has a composite primary key of addr_id (unique address identifier) and cst_id (customer identifier), typical of a child address table. Columns ln1, ln2, cty, st, zip, ctry hold standard address fields. The typ column with values S, O, B suggests address categories (Shipping, Office/Other, Billing). The dflt bit marks the default address for a customer. No foreign keys are listed, but the presence of cst_id aligns with the sales.cst table, indicating a one‑to‑many relationship from customers to addresses.",
              "generatedAt": "2025-11-09T04:08:07.109Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores mailing and contact addresses associated with customers, including address lines, city, state, zip, country, type (shipping, billing, other) and a flag indicating the default address for the customer"
        },
        {
          "name": "cst",
          "rowCount": "500",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique customer identifier (primary key).",
                  "reasoning": "Integer, 100% unique across 500 rows, typical for a surrogate key.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  179,
                  181,
                  426,
                  269,
                  431,
                  409,
                  112,
                  259,
                  28,
                  359,
                  424,
                  44,
                  123,
                  2,
                  161,
                  432,
                  237,
                  17,
                  79,
                  208
                ],
                "minValue": 1,
                "maxValue": 500,
                "computedAt": "2025-11-09T04:07:31.475Z",
                "queryTimeMs": 3
              },
              "description": "Unique customer identifier (primary key)."
            },
            {
              "name": "nm",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Customer name – can be an individual or a company name.",
                  "reasoning": "String values include personal names and company names; high uniqueness suggests it stores the display name.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 488,
                "distinctCount": 488,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Sarah Hughes",
                  "Nancy Anderson",
                  "Patricia Lee",
                  "Kathleen Castillo",
                  "Walker Company",
                  "Gutierrez Services",
                  "Amanda Martin",
                  "Katherine Long",
                  "Linda Carter",
                  "Amanda Ramirez",
                  "Moore Global",
                  "Catherine Flores",
                  "Ramos Holdings",
                  "Robert Brown",
                  "Katherine Long",
                  "Emily White",
                  "Edwards Retail",
                  "Dorothy Jones",
                  "Jason Wright",
                  "Charles Collins"
                ],
                "avgLength": 13,
                "computedAt": "2025-11-09T04:07:31.478Z",
                "queryTimeMs": 3
              },
              "description": "Customer name – can be an individual or a company name."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current status of the customer (e.g., A=Active, S=Suspended, I=Inactive, T=Terminated).",
                  "reasoning": "Single‑character code with four distinct values, typical for status enums.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.482Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "A",
                "S",
                "I",
                "T"
              ],
              "description": "Current status of the customer (e.g., A=Active, S=Suspended, I=Inactive, T=Terminated)."
            },
            {
              "name": "dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the customer record was created or became effective.",
                  "reasoning": "Unique date per row, indicating a creation or activation timestamp.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2023-08-26T00:00:00.000Z",
                  "2023-11-06T00:00:00.000Z",
                  "2024-03-16T00:00:00.000Z",
                  "2023-11-25T00:00:00.000Z",
                  "2024-06-25T00:00:00.000Z",
                  "2023-10-31T00:00:00.000Z",
                  "2024-08-06T00:00:00.000Z",
                  "2023-10-27T00:00:00.000Z",
                  "2023-11-08T00:00:00.000Z",
                  "2024-01-22T00:00:00.000Z",
                  "2023-10-17T00:00:00.000Z",
                  "2024-09-08T00:00:00.000Z",
                  "2023-09-09T00:00:00.000Z",
                  "2023-10-08T00:00:00.000Z",
                  "2024-11-17T00:00:00.000Z",
                  "2023-09-26T00:00:00.000Z",
                  "2024-04-20T00:00:00.000Z",
                  "2024-08-27T00:00:00.000Z",
                  "2024-05-13T00:00:00.000Z",
                  "2024-08-15T00:00:00.000Z"
                ],
                "minValue": "2023-08-20T00:00:00.000Z",
                "maxValue": "2024-12-31T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.485Z",
                "queryTimeMs": 3
              },
              "description": "Date the customer record was created or became effective."
            },
            {
              "name": "src",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Acquisition source code (WB=Web, ST=Store, RF=Referral, PH=Phone).",
                  "reasoning": "Two‑character code with four distinct values matching common lead sources.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "PH",
                  "WB",
                  "PH",
                  "ST",
                  "WB",
                  "WB",
                  "RF",
                  "ST",
                  "RF",
                  "PH",
                  "RF",
                  "PH",
                  "PH",
                  "WB",
                  "PH",
                  "PH",
                  "ST",
                  "WB",
                  "RF",
                  "WB"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T04:07:31.489Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "WB",
                "ST",
                "RF",
                "PH"
              ],
              "description": "Acquisition source code (WB=Web, ST=Store, RF=Referral, PH=Phone)."
            },
            {
              "name": "rep_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the sales representative responsible for the customer.",
                  "reasoning": "Integer with limited distinct values (15) suggesting a lookup to a representative table; also marked primary key, implying a composite key with cst_id.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 15,
                "distinctCount": 15,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  8,
                  3,
                  13,
                  2,
                  8,
                  4,
                  5,
                  8,
                  5,
                  11,
                  2,
                  4,
                  1,
                  8,
                  6,
                  13,
                  5,
                  4,
                  4,
                  14
                ],
                "minValue": 1,
                "maxValue": 15,
                "computedAt": "2025-11-09T04:07:31.493Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                6,
                5,
                4,
                3,
                2,
                1,
                15,
                14,
                13,
                12,
                11,
                10,
                9,
                8,
                7
              ],
              "description": "Identifier of the sales representative responsible for the customer."
            },
            {
              "name": "seg",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Market segment classification (W=Wholesale, R=Retail, E=Enterprise).",
                  "reasoning": "Single‑character code with three values, typical for segment enums.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "W",
                  "W",
                  "R",
                  "W",
                  "R",
                  "W",
                  "W",
                  "W",
                  "R",
                  "R",
                  "W",
                  "W",
                  "R",
                  "E",
                  "W",
                  "W",
                  "R",
                  "R",
                  "R",
                  "E"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.497Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "W",
                "R",
                "E"
              ],
              "description": "Market segment classification (W=Wholesale, R=Retail, E=Enterprise)."
            },
            {
              "name": "rtg",
              "dataType": "tinyint",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Customer rating on a scale of 1 to 5.",
                  "reasoning": "Tinyint with values 1‑5, indicating a rating metric.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  2,
                  1,
                  1,
                  5,
                  3,
                  5,
                  2,
                  2,
                  2,
                  1,
                  5,
                  2,
                  4,
                  3,
                  3,
                  3,
                  1,
                  1,
                  5,
                  3
                ],
                "minValue": 1,
                "maxValue": 5,
                "computedAt": "2025-11-09T04:07:31.500Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Customer rating on a scale of 1 to 5."
            },
            {
              "name": "bal",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current account balance (outstanding amount).",
                  "reasoning": "Decimal values include zeros and positive amounts, representing monetary balance.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  0,
                  0,
                  1948.02,
                  0,
                  178.93,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  2494.09,
                  3185.84,
                  4511.02,
                  0,
                  0,
                  2594.78,
                  0,
                  4260.47,
                  0
                ],
                "minValue": 0,
                "maxValue": 5482.22,
                "computedAt": "2025-11-09T04:07:31.503Z",
                "queryTimeMs": 3
              },
              "description": "Current account balance (outstanding amount)."
            },
            {
              "name": "cr_lmt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Credit limit assigned to the customer.",
                  "reasoning": "Decimal with a range of values typical for credit limits.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 30,
                "distinctCount": 30,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  50000,
                  22000,
                  9250,
                  91000,
                  21500,
                  6750,
                  7000,
                  31000,
                  27500,
                  90000,
                  31500,
                  9500,
                  80000,
                  60000,
                  9500,
                  26500,
                  31500,
                  32500,
                  21000,
                  21500
                ],
                "minValue": 6500,
                "maxValue": 91000,
                "computedAt": "2025-11-09T04:07:31.507Z",
                "queryTimeMs": 4
              },
              "description": "Credit limit assigned to the customer."
            },
            {
              "name": "lst_ord",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date of the most recent order placed by the customer (nullable).",
                  "reasoning": "Date field with many distinct values and ~20% nulls, fitting a last‑order timestamp.",
                  "generatedAt": "2025-11-09T04:08:09.955Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 292,
                "uniquenessRatio": 58.4,
                "nullCount": 100,
                "nullPercentage": 20,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-03-31T00:00:00.000Z",
                  "2024-11-06T00:00:00.000Z",
                  "2024-05-13T00:00:00.000Z",
                  "2024-01-25T00:00:00.000Z",
                  "2024-09-04T00:00:00.000Z",
                  "2024-12-16T00:00:00.000Z",
                  "2024-11-23T00:00:00.000Z",
                  "2024-06-03T00:00:00.000Z",
                  "2024-02-25T00:00:00.000Z",
                  "2024-10-26T00:00:00.000Z",
                  "2024-10-12T00:00:00.000Z",
                  "2024-03-18T00:00:00.000Z",
                  "2024-11-04T00:00:00.000Z",
                  "2024-08-08T00:00:00.000Z",
                  "2024-11-04T00:00:00.000Z",
                  "2024-11-18T00:00:00.000Z",
                  "2024-08-20T00:00:00.000Z",
                  "2024-04-17T00:00:00.000Z",
                  "2024-02-15T00:00:00.000Z",
                  "2024-08-22T00:00:00.000Z"
                ],
                "minValue": "2024-01-03T00:00:00.000Z",
                "maxValue": "2024-12-31T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.510Z",
                "queryTimeMs": 2
              },
              "description": "Date of the most recent order placed by the customer (nullable)."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores core customer information for the sales domain, including identification, contact name, status, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit and the date of the most recent order.",
              "reasoning": "Column names and data types strongly indicate a customer master table: cst_id is a unique integer identifier; nm holds the customer name; sts is a single‑character status flag with values A,S,I,T; dt is a unique date likely representing account creation; src lists acquisition channels (WB,ST,RF,PH); rep_id references a sales representative; seg (W,R,E) matches typical market‑segment codes; rtg (1‑5) is a rating; bal and cr_lmt are monetary fields for balance and credit limit; lst_ord is a nullable last‑order date. The table has no foreign‑key dependencies, matching the pattern of a foundational lookup/parent table such as sales.cst.",
              "generatedAt": "2025-11-09T04:08:09.955Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            },
            {
              "description": "Stores core customer information for the sales domain and serves as the master customer entity referenced by related address, email, and phone tables. It includes identification, contact name, status, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit, and the date of the most recent order. Contact details such as addresses, email addresses, and phone numbers are maintained in child tables, each with a default flag to indicate the primary record.",
              "reasoning": "The new insights reveal that sales.cst is referenced by address, email, and phone tables, confirming its role as the primary customer master record. These child tables store multiple addresses, emails, and phone numbers with default flags, indicating that detailed contact information is not kept in sales.cst itself. Incorporating this relationship clarifies the table’s purpose and its position in the data model, so the description was updated to reflect its master‑entity status and the external storage of contact details.",
              "generatedAt": "2025-11-09T04:08:43.358Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.97,
              "triggeredBy": "backpropagation",
              "changedFrom": "Stores core customer information for the sales domain, including identification, contact name, status, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit and the date of the most recent order."
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores core customer information for the sales domain and serves as the master customer entity referenced by related address, email, and phone tables. It includes identification, contact name, status, acquisition source, assigned sales representative, market segment, rating, financial balance, credit limit, and the date of the most recent order. Contact details such as addresses, email addresses, and phone numbers are maintained in child tables, each with a default flag to indicate the primary record."
        },
        {
          "name": "cst_note",
          "rowCount": "450",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "note_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each customer note record",
                  "reasoning": "Primary key, 100% unique across 450 rows",
                  "generatedAt": "2025-11-09T04:08:12.197Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 450,
                "distinctCount": 450,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  320,
                  412,
                  304,
                  424,
                  194,
                  252,
                  363,
                  260,
                  264,
                  73,
                  224,
                  295,
                  413,
                  205,
                  210,
                  5,
                  167,
                  332,
                  219,
                  171
                ],
                "minValue": 1,
                "maxValue": 450,
                "computedAt": "2025-11-09T04:07:31.514Z",
                "queryTimeMs": 2
              },
              "description": "Unique identifier for each customer note record"
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": true,
              "descriptionIterations": [
                {
                  "description": "Identifier of the customer the note pertains to (foreign key to sales.ord.cst_id)",
                  "reasoning": "FK points to sales.ord, linking notes to a specific customer",
                  "generatedAt": "2025-11-09T04:08:12.197Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 450,
                "distinctCount": 450,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  183,
                  182,
                  336,
                  274,
                  326,
                  414,
                  376,
                  437,
                  170,
                  35,
                  447,
                  360,
                  59,
                  19,
                  63,
                  260,
                  76,
                  348,
                  375,
                  221
                ],
                "minValue": 2,
                "maxValue": 451,
                "computedAt": "2025-11-09T04:07:31.518Z",
                "queryTimeMs": 4
              },
              "foreignKeyReferences": {
                "schema": "inv",
                "table": "cnt",
                "column": "cnt_id",
                "referencedColumn": "cnt_id"
              },
              "description": "Identifier of the customer the note pertains to (foreign key to sales.ord.cst_id)"
            },
            {
              "name": "dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date when the note was created or the interaction occurred",
                  "reasoning": "Date column with unique values per row, typical for timestamping notes",
                  "generatedAt": "2025-11-09T04:08:12.197Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 450,
                "distinctCount": 450,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2023-12-10T00:00:00.000Z",
                  "2024-04-19T00:00:00.000Z",
                  "2024-03-25T00:00:00.000Z",
                  "2024-08-05T00:00:00.000Z",
                  "2024-09-21T00:00:00.000Z",
                  "2024-12-21T00:00:00.000Z",
                  "2024-06-10T00:00:00.000Z",
                  "2024-10-13T00:00:00.000Z",
                  "2023-11-26T00:00:00.000Z",
                  "2024-10-21T00:00:00.000Z",
                  "2024-01-31T00:00:00.000Z",
                  "2024-09-04T00:00:00.000Z",
                  "2024-09-05T00:00:00.000Z",
                  "2024-12-24T00:00:00.000Z",
                  "2024-03-21T00:00:00.000Z",
                  "2024-11-25T00:00:00.000Z",
                  "2024-04-08T00:00:00.000Z",
                  "2024-02-01T00:00:00.000Z",
                  "2024-04-01T00:00:00.000Z",
                  "2023-12-04T00:00:00.000Z"
                ],
                "minValue": "2023-10-09T00:00:00.000Z",
                "maxValue": "2024-12-31T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.521Z",
                "queryTimeMs": 3
              },
              "description": "Date when the note was created or the interaction occurred"
            },
            {
              "name": "usr",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Name of the employee or user who recorded the note",
                  "reasoning": "String column with personal names, high uniqueness suggests many users",
                  "generatedAt": "2025-11-09T04:08:12.197Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 440,
                "distinctCount": 440,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Susan Perez",
                  "Andrew Rodriguez",
                  "Michelle Rivera",
                  "Jack Bailey",
                  "Paul Perez",
                  "Heather Foster",
                  "Amanda Martinez",
                  "Richard Green",
                  "Christine Mitchell",
                  "Jason Thompson",
                  "Elizabeth Hill",
                  "Brian Cook",
                  "Jessica Long",
                  "Elizabeth Thompson",
                  "Angela Evans",
                  "Cynthia Thomas",
                  "Edward Mitchell",
                  "Deborah Roberts",
                  "Kimberly Morales",
                  "Dorothy Rogers"
                ],
                "avgLength": 13,
                "computedAt": "2025-11-09T04:07:31.524Z",
                "queryTimeMs": 3
              },
              "description": "Name of the employee or user who recorded the note"
            },
            {
              "name": "txt",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Full text of the note describing the interaction or follow‑up",
                  "reasoning": "Longer nvarchar with only 4 distinct values, representing standard note templates",
                  "generatedAt": "2025-11-09T04:08:12.197Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.",
                  "Follow-up regarding account status and payment arrangements for outstanding invoices.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "Follow-up regarding account status and payment arrangements for outstanding invoices.",
                  "Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                  "Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.",
                  "Email correspondence regarding product specifications and availability for upcoming project.",
                  "Follow-up regarding account status and payment arrangements for outstanding invoices.",
                  "Follow-up regarding account status and payment arrangements for outstanding invoices.",
                  "Follow-up regarding account status and payment arrangements for outstanding invoices.",
                  "Follow-up regarding account status and payment arrangements for outstanding invoices."
                ],
                "avgLength": "88",
                "computedAt": "2025-11-09T04:07:31.536Z",
                "queryTimeMs": 12
              },
              "possibleValues": [
                "In-person meeting to discuss bulk pricing and long-term contract opportunities.",
                "Email correspondence regarding product specifications and availability for upcoming project.",
                "Spoke with customer about order status and delivery timeline. Customer satisfied with explanation.",
                "Follow-up regarding account status and payment arrangements for outstanding invoices."
              ],
              "description": "Full text of the note describing the interaction or follow‑up"
            },
            {
              "name": "typ",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "One‑character code indicating the interaction type (M=Meeting, E=Email, O=Other, C=Call)",
                  "reasoning": "Low‑cardinality char column with values M,E,O,C matching common contact types",
                  "generatedAt": "2025-11-09T04:08:12.197Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "O",
                  "O",
                  "M",
                  "M",
                  "O",
                  "E",
                  "M",
                  "C",
                  "C",
                  "C",
                  "C",
                  "E",
                  "E",
                  "M",
                  "M",
                  "E",
                  "M",
                  "E",
                  "O",
                  "M"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.541Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "M",
                "E",
                "O",
                "C"
              ],
              "description": "One‑character code indicating the interaction type (M=Meeting, E=Email, O=Other, C=Call)"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores individual notes or interactions related to customers, capturing when, by whom, and what was communicated, along with a short type code for the interaction",
              "reasoning": "The primary key note_id uniquely identifies each entry. cst_id is a foreign key to sales.ord.cst_id, indicating the note is linked to a specific customer (via the order table). The dt column records the date of the interaction. usr contains the employee name who made the note. txt holds the free‑text description of the interaction, and typ is a one‑character code (M,E,O,C) that maps to common interaction types (Meeting, Email, Other, Call). All columns together model a customer‑contact log used by the sales organization.",
              "generatedAt": "2025-11-09T04:08:12.197Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores individual notes or interactions related to customers, capturing when, by whom, and what was communicated, along with a short type code for the interaction"
        },
        {
          "name": "eml",
          "rowCount": "550",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "eml_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Surrogate primary key for each email record",
                  "reasoning": "Unique integer, 100% distinct, serves as identifier",
                  "generatedAt": "2025-11-09T04:08:15.008Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 550,
                "distinctCount": 550,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  178,
                  117,
                  156,
                  306,
                  550,
                  327,
                  438,
                  160,
                  363,
                  400,
                  109,
                  260,
                  513,
                  154,
                  424,
                  391,
                  361,
                  388,
                  192,
                  177
                ],
                "minValue": 1,
                "maxValue": 550,
                "computedAt": "2025-11-09T04:07:31.546Z",
                "queryTimeMs": 3
              },
              "description": "Surrogate primary key for each email record"
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Foreign key to the customer (sales.cst) that owns the email",
                  "reasoning": "Distinct values close to row count, typical of linking many emails to customers",
                  "generatedAt": "2025-11-09T04:08:15.008Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  343,
                  118,
                  128,
                  397,
                  500,
                  432,
                  123,
                  49,
                  277,
                  258,
                  225,
                  29,
                  388,
                  38,
                  370,
                  477,
                  484,
                  156,
                  418,
                  461
                ],
                "minValue": 1,
                "maxValue": 500,
                "computedAt": "2025-11-09T04:07:31.549Z",
                "queryTimeMs": 3
              },
              "description": "Foreign key to the customer (sales.cst) that owns the email"
            },
            {
              "name": "typ",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Category of email address (W=Work, P=Personal, O=Other)",
                  "reasoning": "Three distinct single‑character values, matches common email type codes",
                  "generatedAt": "2025-11-09T04:08:15.008Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "P",
                  "W",
                  "O",
                  "P",
                  "O",
                  "P",
                  "W",
                  "W",
                  "W",
                  "O",
                  "W",
                  "O",
                  "O",
                  "P",
                  "W",
                  "P",
                  "P",
                  "O",
                  "O",
                  "W"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.553Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "W",
                "P",
                "O"
              ],
              "description": "Category of email address (W=Work, P=Personal, O=Other)"
            },
            {
              "name": "adr",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "The actual email address string",
                  "reasoning": "nvarchar with typical email formats in sample values",
                  "generatedAt": "2025-11-09T04:08:15.008Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 550,
                "distinctCount": 550,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "helen.patel477@outlook.com",
                  "donna.cox187@outlook.com",
                  "daniel.watson322@outlook.com",
                  "frank.wilson155@gmail.com",
                  "george.gomez28@company.com",
                  "carolyn.robinson31@yahoo.com",
                  "janet.morales318@company.com",
                  "larry.davis6@yahoo.com",
                  "jack.smith218@company.com",
                  "joseph.reyes346@yahoo.com",
                  "jacob.williams309@business.net",
                  "melissa.price221@yahoo.com",
                  "maria.sanders465@gmail.com",
                  "angela.williams35@gmail.com",
                  "joshua.ramos26@yahoo.com",
                  "ashley.hall134@business.net",
                  "dorothy.patel82@outlook.com",
                  "kevin.diaz73@company.com",
                  "edward.johnson548@company.com",
                  "andrew.phillips274@business.net"
                ],
                "avgLength": 27,
                "computedAt": "2025-11-09T04:07:31.556Z",
                "queryTimeMs": 3
              },
              "description": "The actual email address string"
            },
            {
              "name": "vrf",
              "dataType": "bit",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Flag indicating if the email address has been verified",
                  "reasoning": "Bit column with true/false values",
                  "generatedAt": "2025-11-09T04:08:15.008Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  true,
                  true,
                  true,
                  true,
                  true,
                  false,
                  true,
                  true,
                  true,
                  true,
                  true,
                  true,
                  true,
                  false,
                  true,
                  false,
                  true,
                  true,
                  true,
                  false
                ],
                "computedAt": "2025-11-09T04:07:31.560Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                true,
                false
              ],
              "description": "Flag indicating if the email address has been verified"
            },
            {
              "name": "dflt",
              "dataType": "bit",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Flag indicating if this email is the default contact for the customer",
                  "reasoning": "Bit column, likely used to select primary email",
                  "generatedAt": "2025-11-09T04:08:15.008Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  false,
                  true,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  true,
                  true,
                  false,
                  false,
                  true,
                  false,
                  false,
                  false,
                  true,
                  false,
                  false,
                  true
                ],
                "computedAt": "2025-11-09T04:07:31.563Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                false,
                true
              ],
              "description": "Flag indicating if this email is the default contact for the customer"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores email addresses associated with customers, including type, verification status, and default flag.",
              "reasoning": "Column eml_id is a unique identifier (550 distinct values). cst_id links to a customer (500 distinct values). typ has three possible values (W, P, O) indicating email type (work, personal, other). adr contains email strings. vrf is a boolean indicating whether the email has been verified. dflt is a boolean indicating the default email for the customer. Composite primary key (eml_id,cst_id) suggests a one‑to‑many relationship from customers to emails. The table name matches the allowed list sales.eml.",
              "generatedAt": "2025-11-09T04:08:15.008Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores email addresses associated with customers, including type, verification status, and default flag."
        },
        {
          "name": "oli",
          "rowCount": "6998",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "oli_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Surrogate primary key that uniquely identifies each line‑item record.",
                  "reasoning": "6998 distinct values equal the row count, confirming uniqueness.",
                  "generatedAt": "2025-11-09T04:08:17.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 6998,
                "distinctCount": 6998,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  464,
                  4865,
                  2622,
                  1130,
                  36,
                  1941,
                  2525,
                  6596,
                  4823,
                  6116,
                  82,
                  3178,
                  5190,
                  5116,
                  1883,
                  1146,
                  3286,
                  5308,
                  6625,
                  38
                ],
                "minValue": 1,
                "maxValue": 6998,
                "computedAt": "2025-11-09T04:07:31.575Z",
                "queryTimeMs": 11
              },
              "description": "Surrogate primary key that uniquely identifies each line‑item record."
            },
            {
              "name": "ord_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the sales order to which the line item belongs (foreign key to sales.ord).",
                  "reasoning": "Distinct values (2000) are far fewer than rows, indicating many line items per order.",
                  "generatedAt": "2025-11-09T04:08:17.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2000,
                "distinctCount": 2000,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1462,
                  991,
                  21,
                  1770,
                  1509,
                  17,
                  755,
                  34,
                  1988,
                  743,
                  1346,
                  778,
                  1723,
                  1567,
                  1715,
                  1276,
                  1737,
                  1853,
                  923,
                  1313
                ],
                "minValue": 1,
                "maxValue": 2000,
                "computedAt": "2025-11-09T04:07:31.585Z",
                "queryTimeMs": 10
              },
              "description": "Identifier of the sales order to which the line item belongs (foreign key to sales.ord)."
            },
            {
              "name": "prd_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the product being sold (foreign key to sales.prd).",
                  "reasoning": "200 distinct product IDs across rows suggest a product catalog reference.",
                  "generatedAt": "2025-11-09T04:08:17.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 200,
                "distinctCount": 200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  27,
                  62,
                  96,
                  93,
                  36,
                  63,
                  18,
                  40,
                  197,
                  141,
                  55,
                  85,
                  67,
                  177,
                  121,
                  68,
                  57,
                  131,
                  13,
                  114
                ],
                "minValue": 1,
                "maxValue": 200,
                "computedAt": "2025-11-09T04:07:31.602Z",
                "queryTimeMs": 17
              },
              "description": "Identifier of the product being sold (foreign key to sales.prd)."
            },
            {
              "name": "qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity of the product ordered on this line.",
                  "reasoning": "Only 10 distinct integer values ranging 1‑10, typical for quantity counts.",
                  "generatedAt": "2025-11-09T04:08:17.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 10,
                "distinctCount": 10,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  4,
                  10,
                  7,
                  4,
                  9,
                  5,
                  1,
                  1,
                  10,
                  10,
                  9,
                  2,
                  5,
                  1,
                  2,
                  2,
                  6,
                  6,
                  10,
                  6
                ],
                "minValue": 1,
                "maxValue": 10,
                "computedAt": "2025-11-09T04:07:31.617Z",
                "queryTimeMs": 15
              },
              "possibleValues": [
                7,
                6,
                3,
                9,
                8,
                2,
                5,
                4,
                10,
                1
              ],
              "description": "Quantity of the product ordered on this line."
            },
            {
              "name": "prc",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unit price of the product at the time of the order (before discount).",
                  "reasoning": "Decimal values with two‑digit cents and 100 distinct values, matching monetary pricing.",
                  "generatedAt": "2025-11-09T04:08:17.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  250.99,
                  1150.99,
                  1238.49,
                  1138.49,
                  663.49,
                  275.99,
                  550.99,
                  213.49,
                  25.99,
                  1100.99,
                  750.99,
                  63.49,
                  1213.49,
                  175.99,
                  225.99,
                  1038.49,
                  725.99,
                  988.49,
                  588.49,
                  475.99
                ],
                "minValue": 25.99,
                "maxValue": 1263.49,
                "computedAt": "2025-11-09T04:07:31.633Z",
                "queryTimeMs": 16
              },
              "description": "Unit price of the product at the time of the order (before discount)."
            },
            {
              "name": "disc",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Discount amount applied to this line item (could be zero).",
                  "reasoning": "Decimal column with many distinct values, some zero, indicating optional discount.",
                  "generatedAt": "2025-11-09T04:08:17.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 51,
                "distinctCount": 51,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  0,
                  254.44,
                  0,
                  0,
                  0,
                  0,
                  435.59,
                  429.44,
                  0,
                  200.79,
                  799.64,
                  516.94,
                  510.59,
                  0,
                  0,
                  1000.79,
                  0,
                  600.79,
                  912.14,
                  0
                ],
                "minValue": 0,
                "maxValue": 1150.99,
                "computedAt": "2025-11-09T04:07:31.648Z",
                "queryTimeMs": 15
              },
              "description": "Discount amount applied to this line item (could be zero)."
            },
            {
              "name": "tax_amt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Tax amount calculated for this line item.",
                  "reasoning": "Decimal column with distinct monetary values, consistent with tax calculations.",
                  "generatedAt": "2025-11-09T04:08:17.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  48.16,
                  246.2,
                  485.4,
                  195.24,
                  13.08,
                  75.24,
                  33.08,
                  313.63,
                  656.74,
                  737.74,
                  28.16,
                  259.63,
                  18.71,
                  235.4,
                  828.71,
                  195.24,
                  170.74,
                  624.2,
                  18.71,
                  720.57
                ],
                "minValue": 3.08,
                "maxValue": 828.71,
                "computedAt": "2025-11-09T04:07:31.664Z",
                "queryTimeMs": 16
              },
              "description": "Tax amount calculated for this line item."
            },
            {
              "name": "seq",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Sequence number of the line item within the order (1‑6).",
                  "reasoning": "Only six possible values, confirming ordering of lines within an order.",
                  "generatedAt": "2025-11-09T04:08:17.539Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 6,
                "distinctCount": 6,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  5,
                  2,
                  1,
                  3,
                  2,
                  2,
                  2,
                  2,
                  2,
                  5,
                  1,
                  2,
                  1,
                  6,
                  3,
                  1,
                  4,
                  2,
                  4,
                  4
                ],
                "minValue": 1,
                "maxValue": 6,
                "computedAt": "2025-11-09T04:07:31.677Z",
                "queryTimeMs": 13
              },
              "possibleValues": [
                1,
                2,
                3,
                4,
                5,
                6
              ],
              "description": "Sequence number of the line item within the order (1‑6)."
            }
          ],
          "descriptionIterations": [
            {
              "description": "This table stores individual order line items, linking each product purchased to a specific sales order and capturing the quantity, price, discount, tax and line sequence within the order.",
              "reasoning": "Column names (oli_id, ord_id, prd_id, qty, prc, disc, tax_amt, seq) and their data types match a typical order‑line structure. oli_id is a unique surrogate key (6998 distinct values). ord_id and prd_id each have 2000 and 200 distinct values respectively, indicating foreign keys to the orders and products tables. qty has only 10 distinct values (1‑10) and seq only 6 distinct values (1‑6), typical for quantity and line‑item ordering. Sample values for price, discount and tax are monetary, confirming financial transaction data. The lack of declared foreign keys in the metadata does not change the logical relationships inferred from naming conventions and the allowed table list, which includes sales.ord and sales.prd as likely parents.",
              "generatedAt": "2025-11-09T04:08:17.539Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            },
            {
              "description": "This table stores individual order line items, linking each product purchased to a specific sales order and capturing the quantity, price, discount, tax, and line sequence within the order; it also records returns at the line‑item level, allowing return transactions to be tracked per product within an order.",
              "reasoning": "The new insight that the oli_id column is used to capture returns at the line‑item level extends the original understanding. While the original description correctly identified the table as storing order line items, it did not mention that the same rows can represent return transactions. Including this detail clarifies the table’s dual role in both sales and return processing, which is important for accurate data modeling.",
              "generatedAt": "2025-11-09T04:08:45.971Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.97,
              "triggeredBy": "backpropagation",
              "changedFrom": "This table stores individual order line items, linking each product purchased to a specific sales order and capturing the quantity, price, discount, tax and line sequence within the order."
            }
          ],
          "dependencyLevel": 0,
          "description": "This table stores individual order line items, linking each product purchased to a specific sales order and capturing the quantity, price, discount, tax, and line sequence within the order; it also records returns at the line‑item level, allowing return transactions to be tracked per product within an order."
        },
        {
          "name": "ord",
          "rowCount": "2000",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "ord_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each order (primary key component).",
                  "reasoning": "2000 distinct values for 2000 rows, typical for an order primary key.",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2000,
                "distinctCount": 2000,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  443,
                  1695,
                  284,
                  1294,
                  1682,
                  629,
                  1870,
                  54,
                  59,
                  1970,
                  517,
                  1078,
                  135,
                  732,
                  1684,
                  1921,
                  157,
                  1733,
                  1411,
                  1341
                ],
                "minValue": 1,
                "maxValue": 2000,
                "computedAt": "2025-11-09T04:07:31.683Z",
                "queryTimeMs": 4
              },
              "description": "Unique identifier for each order (primary key component)."
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the customer who placed the order, linking to the sales.cst table.",
                  "reasoning": "476 distinct values across 2000 rows suggests many orders per customer; marked as primary key component.",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 476,
                "distinctCount": 476,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  248,
                  442,
                  83,
                  420,
                  160,
                  198,
                  298,
                  493,
                  327,
                  105,
                  466,
                  59,
                  51,
                  150,
                  458,
                  114,
                  249,
                  311,
                  177,
                  396
                ],
                "minValue": 2,
                "maxValue": 9999,
                "computedAt": "2025-11-09T04:07:31.688Z",
                "queryTimeMs": 5
              },
              "description": "Identifier of the customer who placed the order, linking to the sales.cst table."
            },
            {
              "name": "ord_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the order was created.",
                  "reasoning": "Date column with 730 distinct values (roughly two years of daily orders).",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 730,
                "distinctCount": 730,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-04-22T00:00:00.000Z",
                  "2024-12-30T00:00:00.000Z",
                  "2023-12-05T00:00:00.000Z",
                  "2023-04-07T00:00:00.000Z",
                  "2024-09-19T00:00:00.000Z",
                  "2023-10-29T00:00:00.000Z",
                  "2024-01-09T00:00:00.000Z",
                  "2024-08-12T00:00:00.000Z",
                  "2023-08-03T00:00:00.000Z",
                  "2024-06-03T00:00:00.000Z",
                  "2024-02-23T00:00:00.000Z",
                  "2024-12-02T00:00:00.000Z",
                  "2024-02-28T00:00:00.000Z",
                  "2023-05-08T00:00:00.000Z",
                  "2023-02-11T00:00:00.000Z",
                  "2024-05-27T00:00:00.000Z",
                  "2023-12-18T00:00:00.000Z",
                  "2023-05-04T00:00:00.000Z",
                  "2024-11-23T00:00:00.000Z",
                  "2023-08-21T00:00:00.000Z"
                ],
                "minValue": "2023-01-03T00:00:00.000Z",
                "maxValue": "2025-01-01T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.693Z",
                "queryTimeMs": 5
              },
              "description": "Date the order was created."
            },
            {
              "name": "ship_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the order was shipped; null when not yet shipped.",
                  "reasoning": "40% nulls and many distinct dates indicate optional shipping date.",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 438,
                "uniquenessRatio": 21.9,
                "nullCount": 800,
                "nullPercentage": 40,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2023-08-25T00:00:00.000Z",
                  "2023-06-29T00:00:00.000Z",
                  "2024-01-03T00:00:00.000Z",
                  "2024-09-19T00:00:00.000Z",
                  "2024-06-02T00:00:00.000Z",
                  "2023-08-29T00:00:00.000Z",
                  "2023-01-27T00:00:00.000Z",
                  "2024-12-21T00:00:00.000Z",
                  "2024-02-26T00:00:00.000Z",
                  "2024-12-07T00:00:00.000Z",
                  "2023-08-16T00:00:00.000Z",
                  "2023-04-20T00:00:00.000Z",
                  "2023-03-01T00:00:00.000Z",
                  "2024-10-08T00:00:00.000Z",
                  "2024-11-30T00:00:00.000Z",
                  "2024-07-30T00:00:00.000Z",
                  "2024-12-08T00:00:00.000Z",
                  "2024-07-22T00:00:00.000Z",
                  "2023-11-06T00:00:00.000Z",
                  "2024-06-14T00:00:00.000Z"
                ],
                "minValue": "2023-01-07T00:00:00.000Z",
                "maxValue": "2025-01-01T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.697Z",
                "queryTimeMs": 4
              },
              "description": "Date the order was shipped; null when not yet shipped."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current status of the order (e.g., D=Delivered, C=Cancelled, S=Shipped, P=Pending, X=Exception).",
                  "reasoning": "Five distinct single‑character codes typical for order status enums.",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "D",
                  "P",
                  "S",
                  "C",
                  "C",
                  "X",
                  "S",
                  "C",
                  "S",
                  "S",
                  "D",
                  "X",
                  "D",
                  "S",
                  "D",
                  "S",
                  "D",
                  "D",
                  "S",
                  "S"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.703Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                "D",
                "C",
                "S",
                "P",
                "X"
              ],
              "description": "Current status of the order (e.g., D=Delivered, C=Cancelled, S=Shipped, P=Pending, X=Exception)."
            },
            {
              "name": "tot",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Total monetary amount of the order before tax and discounts.",
                  "reasoning": "Decimal column with unique values representing order totals.",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  2935.5,
                  2537.5,
                  7313.5,
                  1841,
                  7910.5,
                  4129.5,
                  2338.5,
                  9900.5,
                  4428,
                  2338.5,
                  9104.5,
                  9602,
                  3234,
                  1343.5,
                  9104.5,
                  2637,
                  9303.5,
                  6716.5,
                  4428,
                  7512.5
                ],
                "minValue": 50,
                "maxValue": 9900.5,
                "computedAt": "2025-11-09T04:07:31.710Z",
                "queryTimeMs": 7
              },
              "description": "Total monetary amount of the order before tax and discounts."
            },
            {
              "name": "tax",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Tax amount applied to the order.",
                  "reasoning": "Decimal column with values that align with tax calculations on totals.",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 100,
                "distinctCount": 100,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  4,
                  203,
                  601,
                  218.92,
                  83.6,
                  672.64,
                  250.76,
                  4,
                  712.44,
                  728.36,
                  346.28,
                  513.44,
                  433.84,
                  704.48,
                  545.28,
                  274.64,
                  632.84,
                  776.12,
                  75.64,
                  545.28
                ],
                "minValue": 4,
                "maxValue": 792.04,
                "computedAt": "2025-11-09T04:07:31.716Z",
                "queryTimeMs": 6
              },
              "description": "Tax amount applied to the order."
            },
            {
              "name": "ship_amt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Shipping charge for the order (0, 15, or 25).",
                  "reasoning": "Low‑cardinality decimal column with three possible values, typical for fixed shipping fees.",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  0,
                  0,
                  0,
                  15,
                  0,
                  15,
                  0,
                  0,
                  0,
                  0,
                  0,
                  15,
                  0,
                  0,
                  0,
                  15,
                  0,
                  0,
                  0,
                  0
                ],
                "minValue": 0,
                "maxValue": 25,
                "computedAt": "2025-11-09T04:07:31.723Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                0,
                25,
                15
              ],
              "description": "Shipping charge for the order (0, 15, or 25)."
            },
            {
              "name": "disc_pct",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Discount percentage applied to the order (0 or 10%).",
                  "reasoning": "Two possible values indicate a simple discount flag.",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  10,
                  0,
                  0,
                  0,
                  0
                ],
                "minValue": 0,
                "maxValue": 10,
                "computedAt": "2025-11-09T04:07:31.730Z",
                "queryTimeMs": 7
              },
              "possibleValues": [
                0,
                10
              ],
              "description": "Discount percentage applied to the order (0 or 10%)."
            },
            {
              "name": "pmt_trm",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Payment terms for the order (e.g., N30 = Net 30 days, COD = Cash on Delivery, N45, N60).",
                  "reasoning": "Four distinct string codes matching common payment term abbreviations.",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "N45",
                  "COD",
                  "N60",
                  "COD",
                  "N60",
                  "N60",
                  "COD",
                  "N45",
                  "N30",
                  "COD",
                  "N30",
                  "N30",
                  "N45",
                  "N60",
                  "N45",
                  "COD",
                  "N60",
                  "N45",
                  "N30",
                  "N60"
                ],
                "avgLength": 3,
                "computedAt": "2025-11-09T04:07:31.735Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "N30",
                "COD",
                "N60",
                "N45"
              ],
              "description": "Payment terms for the order (e.g., N30 = Net 30 days, COD = Cash on Delivery, N45, N60)."
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text notes; when present, indicates a rush order with expedited shipping.",
                  "reasoning": "93.4% nulls, single repeated value describing rush orders.",
                  "generatedAt": "2025-11-09T04:08:20.860Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 20,
                "distinctCount": 1,
                "uniquenessRatio": 0.05,
                "nullCount": 1867,
                "nullPercentage": 93.35,
                "dataPattern": "natural",
                "sampleValues": [
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping",
                  "Rush order - expedited shipping"
                ],
                "avgLength": 31,
                "computedAt": "2025-11-09T04:07:31.740Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "Rush order - expedited shipping"
              ],
              "description": "Optional free‑text notes; when present, indicates a rush order with expedited shipping."
            }
          ],
          "descriptionIterations": [
            {
              "description": "This table stores order header information for sales transactions, capturing each order's unique identifier, associated customer, dates, status, monetary totals, shipping details, payment terms, and optional notes.",
              "reasoning": "The presence of an order ID (ord_id) with 100% uniqueness, a customer ID (cst_id) that repeats across rows, order and ship dates, a status code (sts) with values typical for order processing, monetary columns (tot, tax, ship_amt, disc_pct), and payment terms (pmt_trm) all point to a sales order header. The high null rate on ship_dt indicates orders may not yet be shipped. The notes column, rarely populated, contains a rush‑order comment, reinforcing the sales context. The table matches the listed name sales.ord, and although no foreign keys are declared, cst_id logically references the sales.cst customer table.",
              "generatedAt": "2025-11-09T04:08:20.860Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.94,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "This table stores order header information for sales transactions, capturing each order's unique identifier, associated customer, dates, status, monetary totals, shipping details, payment terms, and optional notes."
        },
        {
          "name": "phn",
          "rowCount": "600",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "phn_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each phone record",
                  "reasoning": "Primary key with 600 distinct values matching row count, typical surrogate key.",
                  "generatedAt": "2025-11-09T04:08:22.883Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 600,
                "distinctCount": 600,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  35,
                  314,
                  141,
                  105,
                  177,
                  292,
                  303,
                  486,
                  464,
                  214,
                  313,
                  153,
                  261,
                  45,
                  121,
                  291,
                  166,
                  410,
                  430,
                  15
                ],
                "minValue": 1,
                "maxValue": 600,
                "computedAt": "2025-11-09T04:07:31.744Z",
                "queryTimeMs": 3
              },
              "description": "Unique identifier for each phone record"
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the customer that owns the phone number",
                  "reasoning": "Primary key column likely a foreign key to sales.cst; 500 distinct values suggests many customers have multiple phones.",
                  "generatedAt": "2025-11-09T04:08:22.883Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  347,
                  93,
                  139,
                  64,
                  72,
                  284,
                  60,
                  456,
                  121,
                  475,
                  119,
                  418,
                  138,
                  257,
                  397,
                  217,
                  126,
                  26,
                  107,
                  357
                ],
                "minValue": 1,
                "maxValue": 500,
                "computedAt": "2025-11-09T04:07:31.747Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the customer that owns the phone number"
            },
            {
              "name": "typ",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Phone type code (W=Work, M=Mobile, H=Home, F=Fax)",
                  "reasoning": "Four distinct single‑character values matching common phone type abbreviations.",
                  "generatedAt": "2025-11-09T04:08:22.883Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "F",
                  "W",
                  "W",
                  "H",
                  "W",
                  "M",
                  "F",
                  "H",
                  "M",
                  "W",
                  "W",
                  "H",
                  "W",
                  "M",
                  "F",
                  "M",
                  "H",
                  "W",
                  "F",
                  "F"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.751Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "W",
                "M",
                "H",
                "F"
              ],
              "description": "Phone type code (W=Work, M=Mobile, H=Home, F=Fax)"
            },
            {
              "name": "num",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "The phone number itself, stored as a formatted string",
                  "reasoning": "Sample values show typical phone number patterns, length ~12 characters, all unique.",
                  "generatedAt": "2025-11-09T04:08:22.883Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 600,
                "distinctCount": 600,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "587-587-0487",
                  "6396390539",
                  "(106) 106-0006",
                  "(223) 223-0123",
                  "1111110011",
                  "347-347-0247",
                  "(565) 565-0465",
                  "161-161-0061",
                  "1471470047",
                  "1231230023",
                  "245-245-0145",
                  "(286) 286-0186",
                  "(316) 316-0216",
                  "6696690569",
                  "143-143-0043",
                  "2642640164",
                  "(202) 202-0102",
                  "(376) 376-0276",
                  "(640) 640-0540",
                  "(367) 367-0267"
                ],
                "avgLength": 12,
                "computedAt": "2025-11-09T04:07:31.754Z",
                "queryTimeMs": 3
              },
              "description": "The phone number itself, stored as a formatted string"
            },
            {
              "name": "ext",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional telephone extension, nullable for most rows",
                  "reasoning": "Low distinct count (30) and 95% nulls, short numeric strings typical of extensions.",
                  "generatedAt": "2025-11-09T04:08:22.883Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 6,
                "distinctCount": 30,
                "uniquenessRatio": 5,
                "nullCount": 570,
                "nullPercentage": 95,
                "dataPattern": "natural",
                "sampleValues": [
                  "511",
                  "51",
                  "231",
                  "431",
                  "471",
                  "351",
                  "531",
                  "551",
                  "311",
                  "491",
                  "91",
                  "331",
                  "391",
                  "151",
                  "111",
                  "211",
                  "191",
                  "71",
                  "291",
                  "571"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T04:07:31.758Z",
                "queryTimeMs": 4
              },
              "description": "Optional telephone extension, nullable for most rows"
            },
            {
              "name": "dflt",
              "dataType": "bit",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Boolean flag indicating whether this is the customer's default phone number",
                  "reasoning": "Bit column with true/false values, used to pick the primary contact number.",
                  "generatedAt": "2025-11-09T04:08:22.883Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2,
                "distinctCount": 2,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  false,
                  true,
                  true,
                  false,
                  true,
                  true,
                  true,
                  false,
                  false,
                  true,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false
                ],
                "computedAt": "2025-11-09T04:07:31.761Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                false,
                true
              ],
              "description": "Boolean flag indicating whether this is the customer's default phone number"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores each customer's phone contact information, including the phone number, its type (work, mobile, home, fax), optional extension, and a flag indicating the default number for the customer.",
              "reasoning": "The primary key phn_id uniquely identifies a phone record. cst_id matches the customer table (sales.cst) and is also a primary key, indicating a one‑to‑many relationship (multiple phones per customer). The typ column has four distinct single‑character values (W, M, H, F) that correspond to common phone type codes. The num column contains strings formatted like phone numbers. ext is short, often null, matching typical telephone extensions. dflt is a bit flag marking the default phone for the customer. No foreign keys are listed, but the naming and allowed table list point to sales.cst as the parent.",
              "generatedAt": "2025-11-09T04:08:22.882Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.97,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores each customer's phone contact information, including the phone number, its type (work, mobile, home, fax), optional extension, and a flag indicating the default number for the customer."
        },
        {
          "name": "pmt",
          "rowCount": "2200",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "pmt_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each payment record",
                  "reasoning": "Primary key, 100% unique across 2200 rows.",
                  "generatedAt": "2025-11-09T04:08:25.702Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2200,
                "distinctCount": 2200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  1036,
                  2002,
                  1809,
                  1195,
                  81,
                  1728,
                  1552,
                  205,
                  122,
                  1704,
                  1764,
                  145,
                  722,
                  1737,
                  950,
                  958,
                  993,
                  1701,
                  522,
                  1001
                ],
                "minValue": 1,
                "maxValue": 2200,
                "computedAt": "2025-11-09T04:07:31.767Z",
                "queryTimeMs": 5
              },
              "description": "Unique identifier for each payment record"
            },
            {
              "name": "ord_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": true,
              "descriptionIterations": [
                {
                  "description": "Identifier of the order line the payment is applied to (nullable)",
                  "reasoning": "Foreign key to sales.oli.oli_id; 10% nulls imply some payments are not linked to a specific order line.",
                  "generatedAt": "2025-11-09T04:08:25.702Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 22,
                "distinctCount": 1800,
                "uniquenessRatio": 81.81818181818181,
                "nullCount": 220,
                "nullPercentage": 10,
                "dataPattern": "unknown",
                "sampleValues": [
                  138,
                  886,
                  1980,
                  847,
                  884,
                  327,
                  583,
                  869,
                  186,
                  180,
                  34,
                  524,
                  68,
                  1824,
                  405,
                  1570,
                  548,
                  13,
                  1188,
                  739
                ],
                "minValue": 2,
                "maxValue": 2000,
                "computedAt": "2025-11-09T04:07:31.773Z",
                "queryTimeMs": 6
              },
              "foreignKeyReferences": {
                "schema": "inv",
                "table": "adj",
                "column": "prd_id",
                "referencedColumn": "prd_id"
              },
              "description": "Identifier of the order line the payment is applied to (nullable)"
            },
            {
              "name": "cst_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": true,
              "descriptionIterations": [
                {
                  "description": "Customer identifier associated with the payment",
                  "reasoning": "Foreign key to sales.ord.cst_id; distinct 500 values shows many payments per customer.",
                  "generatedAt": "2025-11-09T04:08:25.702Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  420,
                  275,
                  320,
                  305,
                  57,
                  178,
                  132,
                  239,
                  367,
                  139,
                  54,
                  43,
                  472,
                  186,
                  166,
                  31,
                  198,
                  121,
                  403,
                  406
                ],
                "minValue": 1,
                "maxValue": 500,
                "computedAt": "2025-11-09T04:07:31.778Z",
                "queryTimeMs": 5
              },
              "foreignKeyReferences": {
                "schema": "sales",
                "table": "ord",
                "column": "cst_id",
                "referencedColumn": "cst_id"
              },
              "description": "Customer identifier associated with the payment"
            },
            {
              "name": "pmt_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the payment was made",
                  "reasoning": "Date type with 730 distinct values (daily over two years).",
                  "generatedAt": "2025-11-09T04:08:25.702Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 730,
                "distinctCount": 730,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2023-08-30T00:00:00.000Z",
                  "2024-02-04T00:00:00.000Z",
                  "2024-08-15T00:00:00.000Z",
                  "2024-03-25T00:00:00.000Z",
                  "2023-11-21T00:00:00.000Z",
                  "2023-12-11T00:00:00.000Z",
                  "2023-07-09T00:00:00.000Z",
                  "2023-01-11T00:00:00.000Z",
                  "2023-07-28T00:00:00.000Z",
                  "2023-11-03T00:00:00.000Z",
                  "2023-10-30T00:00:00.000Z",
                  "2023-11-08T00:00:00.000Z",
                  "2023-01-30T00:00:00.000Z",
                  "2023-01-29T00:00:00.000Z",
                  "2024-07-26T00:00:00.000Z",
                  "2023-08-17T00:00:00.000Z",
                  "2024-11-22T00:00:00.000Z",
                  "2023-11-09T00:00:00.000Z",
                  "2023-12-23T00:00:00.000Z",
                  "2024-12-25T00:00:00.000Z"
                ],
                "minValue": "2023-01-04T00:00:00.000Z",
                "maxValue": "2025-01-02T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.784Z",
                "queryTimeMs": 6
              },
              "description": "Date the payment was made"
            },
            {
              "name": "amt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Monetary amount of the payment",
                  "reasoning": "Decimal with 500 distinct values, typical for transaction amounts.",
                  "generatedAt": "2025-11-09T04:08:25.702Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 500,
                "distinctCount": 500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  7600,
                  980,
                  7300,
                  440,
                  1700,
                  6020,
                  6560,
                  5560,
                  4140,
                  4120,
                  5500,
                  3280,
                  1000,
                  2040,
                  2840,
                  6360,
                  520,
                  5540,
                  2160,
                  1520
                ],
                "minValue": 100,
                "maxValue": 10080,
                "computedAt": "2025-11-09T04:07:31.789Z",
                "queryTimeMs": 5
              },
              "description": "Monetary amount of the payment"
            },
            {
              "name": "mthd",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Payment method code (WR=Wire, CA=Cash, CK=Check, CC=Credit Card)",
                  "reasoning": "Char(2) with 4 distinct enum values.",
                  "generatedAt": "2025-11-09T04:08:25.702Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "WR",
                  "CC",
                  "WR",
                  "CK",
                  "CK",
                  "CK",
                  "WR",
                  "CK",
                  "CA",
                  "CA",
                  "CA",
                  "CK",
                  "WR",
                  "CC",
                  "WR",
                  "WR",
                  "CK",
                  "CK",
                  "CA",
                  "CA"
                ],
                "avgLength": 2,
                "computedAt": "2025-11-09T04:07:31.796Z",
                "queryTimeMs": 7
              },
              "possibleValues": [
                "WR",
                "CA",
                "CK",
                "CC"
              ],
              "description": "Payment method code (WR=Wire, CA=Cash, CK=Check, CC=Credit Card)"
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Payment status code (A=Approved, F=Failed, P=Pending, R=Refunded)",
                  "reasoning": "Char(1) with 4 distinct enum values, all samples show 'A' indicating approved.",
                  "generatedAt": "2025-11-09T04:08:25.702Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A",
                  "A"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.802Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                "A",
                "F",
                "P",
                "R"
              ],
              "description": "Payment status code (A=Approved, F=Failed, P=Pending, R=Refunded)"
            },
            {
              "name": "ref",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "External reference code for the payment, formatted like PMT-YYYY-NNNNN",
                  "reasoning": "Unique nvarchar, sample values follow a consistent pattern.",
                  "generatedAt": "2025-11-09T04:08:25.702Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 2200,
                "distinctCount": 2200,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "PMT-2024-00236",
                  "PMT-2024-00844",
                  "PMT-2023-00457",
                  "PMT-2023-01392",
                  "PMT-2023-01193",
                  "PMT-2024-01039",
                  "PMT-2024-00813",
                  "PMT-2023-01200",
                  "PMT-2023-01391",
                  "PMT-2024-00967",
                  "PMT-2024-00340",
                  "PMT-2023-01909",
                  "PMT-2024-00852",
                  "PMT-2023-02073",
                  "PMT-2023-01861",
                  "PMT-2024-01777",
                  "PMT-2024-00261",
                  "PMT-2024-00154",
                  "PMT-2023-01965",
                  "PMT-2023-01964"
                ],
                "avgLength": 14,
                "computedAt": "2025-11-09T04:07:31.808Z",
                "queryTimeMs": 6
              },
              "description": "External reference code for the payment, formatted like PMT-YYYY-NNNNN"
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text note, primarily used for credit applications",
                  "reasoning": "90% nulls, single repeated value 'Account credit applied' indicates specific use case.",
                  "generatedAt": "2025-11-09T04:08:25.702Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 22,
                "distinctCount": 1,
                "uniquenessRatio": 0.045454545454545456,
                "nullCount": 1980,
                "nullPercentage": 90,
                "dataPattern": "natural",
                "sampleValues": [
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied",
                  "Account credit applied"
                ],
                "avgLength": 22,
                "computedAt": "2025-11-09T04:07:31.813Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "Account credit applied"
              ],
              "description": "Optional free‑text note, primarily used for credit applications"
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores individual payment transactions made by customers for orders, capturing amount, date, method, status, and reference details.",
              "reasoning": "Column names (pmt_id, ord_id, cst_id, pmt_dt, amt, mthd, sts, ref, notes) and data types indicate a payment record. pmt_id is a unique primary key. ord_id links to sales.oli (order line) and is nullable (10% nulls) suggesting some payments are not tied to a specific line (e.g., credits). cst_id links to sales.ord.cst_id, tying each payment to a customer. mthd and sts have low cardinality with defined enums (WR, CA, CK, CC and A, F, P, R). ref is a unique formatted reference. notes is mostly null and contains a fixed phrase, indicating optional credit notes. The table belongs to the sales schema as indicated by allowed table names (sales.pmt).",
              "generatedAt": "2025-11-09T04:08:25.702Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores individual payment transactions made by customers for orders, capturing amount, date, method, status, and reference details."
        },
        {
          "name": "rtn",
          "rowCount": "150",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "rtn_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each return transaction.",
                  "reasoning": "Primary key with 100% uniqueness; typical naming convention for a return ID.",
                  "generatedAt": "2025-11-09T04:08:28.716Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  110,
                  7,
                  129,
                  53,
                  64,
                  22,
                  41,
                  36,
                  98,
                  30,
                  1,
                  146,
                  35,
                  113,
                  100,
                  66,
                  43,
                  9,
                  90,
                  77
                ],
                "minValue": 1,
                "maxValue": 150,
                "computedAt": "2025-11-09T04:07:31.816Z",
                "queryTimeMs": 2
              },
              "description": "Unique identifier for each return transaction."
            },
            {
              "name": "ord_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the original order associated with the return.",
                  "reasoning": "Primary key, unique per row, and matches order IDs in sales.ord; links return to its order.",
                  "generatedAt": "2025-11-09T04:08:28.716Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  700,
                  1410,
                  710,
                  840,
                  1090,
                  390,
                  440,
                  1120,
                  1230,
                  280,
                  330,
                  660,
                  1040,
                  370,
                  620,
                  1450,
                  60,
                  1340,
                  1110,
                  1020
                ],
                "minValue": 10,
                "maxValue": 1500,
                "computedAt": "2025-11-09T04:07:31.819Z",
                "queryTimeMs": 3
              },
              "description": "Identifier of the original order associated with the return."
            },
            {
              "name": "oli_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the specific order line item being returned.",
                  "reasoning": "Primary key, unique per row, and aligns with line‑item IDs in sales.oli; provides item‑level granularity.",
                  "generatedAt": "2025-11-09T04:08:28.716Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  230,
                  390,
                  330,
                  1280,
                  80,
                  760,
                  1100,
                  1360,
                  1020,
                  690,
                  450,
                  1390,
                  30,
                  910,
                  840,
                  990,
                  1170,
                  40,
                  1430,
                  210
                ],
                "minValue": 10,
                "maxValue": 1500,
                "computedAt": "2025-11-09T04:07:31.821Z",
                "queryTimeMs": 2
              },
              "description": "Identifier of the specific order line item being returned."
            },
            {
              "name": "rtn_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the return was processed or received.",
                  "reasoning": "Date type with unique values per row, typical for transaction timestamps.",
                  "generatedAt": "2025-11-09T04:08:28.716Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 150,
                "distinctCount": 150,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-11-14T00:00:00.000Z",
                  "2024-10-26T00:00:00.000Z",
                  "2024-10-20T00:00:00.000Z",
                  "2024-08-17T00:00:00.000Z",
                  "2024-09-16T00:00:00.000Z",
                  "2024-08-30T00:00:00.000Z",
                  "2024-11-12T00:00:00.000Z",
                  "2025-01-08T00:00:00.000Z",
                  "2024-10-28T00:00:00.000Z",
                  "2024-12-17T00:00:00.000Z",
                  "2024-10-05T00:00:00.000Z",
                  "2024-12-31T00:00:00.000Z",
                  "2024-10-18T00:00:00.000Z",
                  "2024-09-05T00:00:00.000Z",
                  "2024-09-20T00:00:00.000Z",
                  "2024-10-10T00:00:00.000Z",
                  "2024-10-22T00:00:00.000Z",
                  "2024-08-28T00:00:00.000Z",
                  "2024-12-19T00:00:00.000Z",
                  "2024-10-24T00:00:00.000Z"
                ],
                "minValue": "2024-08-14T00:00:00.000Z",
                "maxValue": "2025-01-10T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.823Z",
                "queryTimeMs": 2
              },
              "description": "Date the return was processed or received."
            },
            {
              "name": "rsn",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Reason code for the return (e.g., Wrong item, Dead on Arrival, Damaged, Changed mind).",
                  "reasoning": "Char column with four distinct enum values (WRG, DOA, DMG, CHG) matching common return reasons.",
                  "generatedAt": "2025-11-09T04:08:28.716Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "CHG",
                  "WRG",
                  "CHG",
                  "CHG",
                  "WRG",
                  "CHG",
                  "WRG",
                  "DOA",
                  "CHG",
                  "DMG",
                  "CHG",
                  "DOA",
                  "DOA",
                  "WRG",
                  "DOA",
                  "DOA",
                  "DOA",
                  "WRG",
                  "DMG",
                  "CHG"
                ],
                "avgLength": 3,
                "computedAt": "2025-11-09T04:07:31.826Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "WRG",
                "DOA",
                "DMG",
                "CHG"
              ],
              "description": "Reason code for the return (e.g., Wrong item, Dead on Arrival, Damaged, Changed mind)."
            },
            {
              "name": "qty",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Quantity of items returned in this transaction.",
                  "reasoning": "Integer column with values 1‑5, indicating count of returned units.",
                  "generatedAt": "2025-11-09T04:08:28.716Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 5,
                "distinctCount": 5,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  4,
                  2,
                  2,
                  3,
                  5,
                  4,
                  1,
                  2,
                  2,
                  2,
                  4,
                  5,
                  1,
                  4,
                  2,
                  4,
                  1,
                  5,
                  4,
                  5
                ],
                "minValue": 1,
                "maxValue": 5,
                "computedAt": "2025-11-09T04:07:31.830Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                5,
                4,
                3,
                2,
                1
              ],
              "description": "Quantity of items returned in this transaction."
            },
            {
              "name": "amt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Monetary amount credited or refunded for the return.",
                  "reasoning": "Decimal column with varied values, consistent with refund amounts.",
                  "generatedAt": "2025-11-09T04:08:28.716Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 50,
                "distinctCount": 50,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  210,
                  490,
                  170,
                  340,
                  530,
                  390,
                  440,
                  450,
                  350,
                  70,
                  250,
                  500,
                  510,
                  200,
                  270,
                  440,
                  430,
                  400,
                  320,
                  180
                ],
                "minValue": 50,
                "maxValue": 540,
                "computedAt": "2025-11-09T04:07:31.833Z",
                "queryTimeMs": 3
              },
              "description": "Monetary amount credited or refunded for the return."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current processing status of the return (A=Approved, R=Received, P=Pending, C=Completed).",
                  "reasoning": "Char column with four distinct status codes, typical for workflow tracking.",
                  "generatedAt": "2025-11-09T04:08:28.716Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "C",
                  "A",
                  "R",
                  "R",
                  "C",
                  "P",
                  "P",
                  "R",
                  "R",
                  "P",
                  "C",
                  "P",
                  "C",
                  "C",
                  "R",
                  "P",
                  "C",
                  "C",
                  "A",
                  "A"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.837Z",
                "queryTimeMs": 4
              },
              "possibleValues": [
                "A",
                "R",
                "P",
                "C"
              ],
              "description": "Current processing status of the return (A=Approved, R=Received, P=Pending, C=Completed)."
            },
            {
              "name": "notes",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Optional free‑text comment providing additional detail about the return.",
                  "reasoning": "NVARCHAR column with a small set of distinct explanatory sentences matching the rsn values.",
                  "generatedAt": "2025-11-09T04:08:28.716Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "Customer changed mind",
                  "Product defective on arrival",
                  "Customer changed mind",
                  "Package arrived damaged during shipping",
                  "Customer changed mind",
                  "Package arrived damaged during shipping",
                  "Customer changed mind",
                  "Package arrived damaged during shipping",
                  "Wrong item was shipped",
                  "Package arrived damaged during shipping",
                  "Wrong item was shipped",
                  "Customer changed mind",
                  "Customer changed mind",
                  "Package arrived damaged during shipping",
                  "Package arrived damaged during shipping",
                  "Product defective on arrival",
                  "Customer changed mind",
                  "Package arrived damaged during shipping",
                  "Customer changed mind",
                  "Product defective on arrival"
                ],
                "avgLength": 27,
                "computedAt": "2025-11-09T04:07:31.840Z",
                "queryTimeMs": 3
              },
              "possibleValues": [
                "Wrong item was shipped",
                "Product defective on arrival",
                "Package arrived damaged during shipping",
                "Customer changed mind"
              ],
              "description": "Optional free‑text comment providing additional detail about the return."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores individual product return records, linking each return to a specific order and order line item, capturing return date, reason, quantity, refund amount, processing status, and optional notes.",
              "reasoning": "The primary key columns rtn_id, ord_id, and oli_id uniquely identify a return and reference an order (ord_id) and its line item (oli_id). The rtn_dt column holds dates, rsn contains limited enum values (WRG, DOA, DMG, CHG) matching typical return reasons. qty and amt represent quantity and monetary value of the return. sts holds status codes (A, R, P, C) common for processing stages. notes contains free‑text explanations of the return. The combination of these fields aligns with a sales return transaction table, which matches the listed table name sales.rtn.",
              "generatedAt": "2025-11-09T04:08:28.716Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores individual product return records, linking each return to a specific order and order line item, capturing return date, reason, quantity, refund amount, processing status, and optional notes."
        },
        {
          "name": "shp",
          "rowCount": "1500",
          "dependsOn": [],
          "dependents": [],
          "columns": [
            {
              "name": "shp_id",
              "dataType": "int",
              "isNullable": false,
              "isPrimaryKey": true,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Unique identifier for each shipment record.",
                  "reasoning": "Integer, 1500 distinct values (100% unique) and part of the primary key.",
                  "generatedAt": "2025-11-09T04:08:31.670Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 1500,
                "distinctCount": 1500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  894,
                  232,
                  251,
                  696,
                  1088,
                  216,
                  296,
                  1375,
                  743,
                  367,
                  987,
                  732,
                  1049,
                  861,
                  1297,
                  929,
                  464,
                  1215,
                  1436,
                  76
                ],
                "minValue": 1,
                "maxValue": 1500,
                "computedAt": "2025-11-09T04:07:31.845Z",
                "queryTimeMs": 4
              },
              "description": "Unique identifier for each shipment record."
            },
            {
              "name": "ord_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": true,
              "descriptionIterations": [
                {
                  "description": "Foreign key to the order that the shipment fulfills.",
                  "reasoning": "Integer, unique per row but repeats across shipments; matches typical order identifier pattern.",
                  "generatedAt": "2025-11-09T04:08:31.670Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 1500,
                "distinctCount": 1500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  271,
                  61,
                  2,
                  1186,
                  792,
                  156,
                  1311,
                  1227,
                  1110,
                  1308,
                  1031,
                  814,
                  1160,
                  1134,
                  873,
                  244,
                  1232,
                  617,
                  1150,
                  569
                ],
                "minValue": 1,
                "maxValue": 1500,
                "computedAt": "2025-11-09T04:07:31.849Z",
                "queryTimeMs": 4
              },
              "description": "Foreign key to the order that the shipment fulfills.",
              "foreignKeyReferences": {
                "schema": "sales",
                "table": "ord",
                "column": "ord_id",
                "referencedColumn": "ord_id"
              }
            },
            {
              "name": "whs_id",
              "dataType": "int",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Identifier of the warehouse from which the shipment originated.",
                  "reasoning": "Low cardinality (8 distinct values) and listed as a primary‑key component, indicating a lookup to inv.whs.",
                  "generatedAt": "2025-11-09T04:08:31.670Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 8,
                "distinctCount": 8,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  5,
                  4,
                  1,
                  1,
                  5,
                  3,
                  4,
                  1,
                  3,
                  5,
                  8,
                  1,
                  1,
                  3,
                  1,
                  6,
                  4,
                  7,
                  2,
                  6
                ],
                "minValue": 1,
                "maxValue": 8,
                "computedAt": "2025-11-09T04:07:31.855Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                2,
                5,
                4,
                3,
                8,
                1,
                7,
                6
              ],
              "description": "Identifier of the warehouse from which the shipment originated."
            },
            {
              "name": "ship_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Date the shipment left the warehouse.",
                  "reasoning": "Date column with 730 distinct values (one per day over two years), typical for shipping dates.",
                  "generatedAt": "2025-11-09T04:08:31.670Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 730,
                "distinctCount": 730,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2024-05-15T00:00:00.000Z",
                  "2023-03-19T00:00:00.000Z",
                  "2024-05-26T00:00:00.000Z",
                  "2023-02-13T00:00:00.000Z",
                  "2023-06-20T00:00:00.000Z",
                  "2023-10-04T00:00:00.000Z",
                  "2023-02-27T00:00:00.000Z",
                  "2024-06-24T00:00:00.000Z",
                  "2023-03-06T00:00:00.000Z",
                  "2023-08-24T00:00:00.000Z",
                  "2023-10-19T00:00:00.000Z",
                  "2024-10-26T00:00:00.000Z",
                  "2023-12-11T00:00:00.000Z",
                  "2023-06-11T00:00:00.000Z",
                  "2023-04-04T00:00:00.000Z",
                  "2024-11-06T00:00:00.000Z",
                  "2025-01-03T00:00:00.000Z",
                  "2024-10-29T00:00:00.000Z",
                  "2023-02-14T00:00:00.000Z",
                  "2023-02-22T00:00:00.000Z"
                ],
                "minValue": "2023-01-07T00:00:00.000Z",
                "maxValue": "2025-01-05T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.859Z",
                "queryTimeMs": 4
              },
              "description": "Date the shipment left the warehouse."
            },
            {
              "name": "dlv_dt",
              "dataType": "date",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Actual delivery date; may be null if delivery has not occurred.",
                  "reasoning": "Date column with 60% nulls, reflecting pending deliveries.",
                  "generatedAt": "2025-11-09T04:08:31.670Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 15,
                "distinctCount": 292,
                "uniquenessRatio": 19.466666666666665,
                "nullCount": 900,
                "nullPercentage": 60,
                "dataPattern": "unknown",
                "sampleValues": [
                  "2023-12-28T00:00:00.000Z",
                  "2023-08-11T00:00:00.000Z",
                  "2023-06-21T00:00:00.000Z",
                  "2023-04-08T00:00:00.000Z",
                  "2024-03-27T00:00:00.000Z",
                  "2024-03-22T00:00:00.000Z",
                  "2023-10-25T00:00:00.000Z",
                  "2024-10-04T00:00:00.000Z",
                  "2023-02-21T00:00:00.000Z",
                  "2023-11-23T00:00:00.000Z",
                  "2024-07-16T00:00:00.000Z",
                  "2023-04-22T00:00:00.000Z",
                  "2023-10-24T00:00:00.000Z",
                  "2023-02-22T00:00:00.000Z",
                  "2023-08-20T00:00:00.000Z",
                  "2024-06-16T00:00:00.000Z",
                  "2024-12-02T00:00:00.000Z",
                  "2023-04-28T00:00:00.000Z",
                  "2024-11-18T00:00:00.000Z",
                  "2023-09-09T00:00:00.000Z"
                ],
                "minValue": "2023-01-12T00:00:00.000Z",
                "maxValue": "2025-01-07T00:00:00.000Z",
                "computedAt": "2025-11-09T04:07:31.862Z",
                "queryTimeMs": 3
              },
              "description": "Actual delivery date; may be null if delivery has not occurred."
            },
            {
              "name": "carr",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Carrier used for the shipment (e.g., USPS Priority, DHL Express).",
                  "reasoning": "String column with only four possible values, typical enumeration of shipping carriers.",
                  "generatedAt": "2025-11-09T04:08:31.670Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "UPS Next Day",
                  "DHL Express",
                  "UPS Next Day",
                  "UPS Next Day",
                  "UPS Next Day",
                  "FedEx Ground",
                  "UPS Next Day",
                  "UPS Next Day",
                  "USPS Priority",
                  "FedEx Ground",
                  "FedEx Ground",
                  "UPS Next Day",
                  "FedEx Ground",
                  "FedEx Ground",
                  "FedEx Ground",
                  "FedEx Ground",
                  "DHL Express",
                  "DHL Express",
                  "USPS Priority",
                  "DHL Express"
                ],
                "avgLength": 12,
                "computedAt": "2025-11-09T04:07:31.868Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                "USPS Priority",
                "DHL Express",
                "FedEx Ground",
                "UPS Next Day"
              ],
              "description": "Carrier used for the shipment (e.g., USPS Priority, DHL Express)."
            },
            {
              "name": "trk",
              "dataType": "nvarchar",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Tracking number assigned by the carrier.",
                  "reasoning": "Unique string per row, length ~15, prefixed with 'TRK', matching tracking code patterns.",
                  "generatedAt": "2025-11-09T04:08:31.670Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 1500,
                "distinctCount": 1500,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "TRK202359999616",
                  "TRK2024987648",
                  "TRK202359135424",
                  "TRK202365431680",
                  "TRK2024115060992",
                  "TRK2023135925056",
                  "TRK20243703680",
                  "TRK2024135307776",
                  "TRK2023168887808",
                  "TRK202432222016",
                  "TRK2024112468416",
                  "TRK202358518144",
                  "TRK2024115801728",
                  "TRK2024124937472",
                  "TRK202496048768",
                  "TRK2024110986944",
                  "TRK2023177282816",
                  "TRK2023145801536",
                  "TRK20244567872",
                  "TRK202359629248"
                ],
                "avgLength": 15,
                "computedAt": "2025-11-09T04:07:31.874Z",
                "queryTimeMs": 6
              },
              "description": "Tracking number assigned by the carrier."
            },
            {
              "name": "sts",
              "dataType": "char",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Current shipment status code (D=Delivered, N=Not shipped, S=Shipped, P=Pending).",
                  "reasoning": "Single‑character enum with four distinct values, common for status flags.",
                  "generatedAt": "2025-11-09T04:08:31.670Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 4,
                "distinctCount": 4,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "natural",
                "sampleValues": [
                  "N",
                  "D",
                  "D",
                  "N",
                  "N",
                  "P",
                  "D",
                  "N",
                  "S",
                  "P",
                  "D",
                  "P",
                  "S",
                  "D",
                  "S",
                  "P",
                  "P",
                  "D",
                  "N",
                  "N"
                ],
                "avgLength": 1,
                "computedAt": "2025-11-09T04:07:31.879Z",
                "queryTimeMs": 5
              },
              "possibleValues": [
                "D",
                "N",
                "S",
                "P"
              ],
              "description": "Current shipment status code (D=Delivered, N=Not shipped, S=Shipped, P=Pending)."
            },
            {
              "name": "wgt",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Weight of the shipment (likely in pounds or kilograms).",
                  "reasoning": "Decimal with 50 distinct values, representing typical weight increments.",
                  "generatedAt": "2025-11-09T04:08:31.670Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 50,
                "distinctCount": 50,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  12.5,
                  125,
                  87.5,
                  22.5,
                  20,
                  97.5,
                  105,
                  17.5,
                  122.5,
                  100,
                  52.5,
                  107.5,
                  50,
                  65,
                  72.5,
                  67.5,
                  15,
                  50,
                  112.5,
                  97.5
                ],
                "minValue": 5,
                "maxValue": 127.5,
                "computedAt": "2025-11-09T04:07:31.886Z",
                "queryTimeMs": 7
              },
              "description": "Weight of the shipment (likely in pounds or kilograms)."
            },
            {
              "name": "cost",
              "dataType": "decimal",
              "isNullable": true,
              "isPrimaryKey": false,
              "isForeignKey": false,
              "descriptionIterations": [
                {
                  "description": "Shipping cost charged for the shipment.",
                  "reasoning": "Decimal with only three possible values (15, 25, 45), indicating tiered shipping rates.",
                  "generatedAt": "2025-11-09T04:08:31.670Z",
                  "modelUsed": "openai/gpt-oss-120b"
                }
              ],
              "statistics": {
                "totalRows": 3,
                "distinctCount": 3,
                "uniquenessRatio": 1,
                "nullCount": 0,
                "nullPercentage": 0,
                "dataPattern": "unknown",
                "sampleValues": [
                  25,
                  45,
                  25,
                  25,
                  45,
                  15,
                  45,
                  15,
                  25,
                  45,
                  45,
                  45,
                  45,
                  45,
                  45,
                  45,
                  45,
                  45,
                  45,
                  45
                ],
                "minValue": 15,
                "maxValue": 45,
                "computedAt": "2025-11-09T04:07:31.892Z",
                "queryTimeMs": 6
              },
              "possibleValues": [
                45,
                25,
                15
              ],
              "description": "Shipping cost charged for the shipment."
            }
          ],
          "descriptionIterations": [
            {
              "description": "Stores shipment records linking orders to the warehouse they were shipped from, including shipping and delivery dates, carrier, tracking number, status, weight and cost of each shipment.",
              "reasoning": "Column names (shp_id, ord_id, whs_id, ship_dt, dlv_dt, carr, trk, sts, wgt, cost) and sample values (e.g., carrier values USPS Priority, DHL Express, tracking numbers prefixed with TRK, status codes D,N,S,P) clearly describe shipment information. The composite primary key (shp_id, ord_id, whs_id) indicates each shipment is uniquely identified while being associated with a specific order and warehouse. Nulls on dlv_dt (60%) match real‑world deliveries that may not yet be completed.",
              "generatedAt": "2025-11-09T04:08:31.670Z",
              "modelUsed": "openai/gpt-oss-120b",
              "confidence": 0.96,
              "triggeredBy": "initial"
            }
          ],
          "dependencyLevel": 0,
          "description": "Stores shipment records linking orders to the warehouse they were shipped from, including shipping and delivery dates, carrier, tracking number, status, weight and cost of each shipment."
        }
      ],
      "descriptionIterations": []
    }
  ]
}