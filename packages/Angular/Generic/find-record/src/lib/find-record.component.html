<div>
  <kendo-textbox
    class="find-textbox"
    type="text"
    placeholder="Start typing to search..."
    [(ngModel)]="searchTerm"
    (ngModelChange)="onSearchTermChange($event)"
    >
  </kendo-textbox>
  <button class="find-button" kendoButton (click)="onFind()">Find</button>

  @if (loading) {
    <div>Searching...</div>
  }
  @if (!loading && records.length > 0) {
    <div>
      <kendo-grid
        [data]="records"
        [height]="280"
        [selectable]="{ mode: 'single' }"
        (selectionChange)="onSelectionChange($event)"
        >
        @for (field of DisplayFields; track field) {
          <kendo-grid-column [field]="field.Name" [title]="field.DisplayNameOrName"></kendo-grid-column>
        }
      </kendo-grid>
    </div>
  }
  @if (!loading && records.length === 0 && searchHasRun) {
    <div>No records found.</div>
  }
</div>
