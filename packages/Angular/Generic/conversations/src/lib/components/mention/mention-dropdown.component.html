<div
  *ngIf="visible"
  class="mention-dropdown"
  [class.show-above]="showAbove"
  [class.fixed-position]="useFixedPositioning"
  [style.top.px]="position.top"
  [style.left.px]="position.left"
>
  <!-- Suggestions List -->
  <div class="mention-suggestions" *ngIf="suggestions.length > 0">
    <div
      *ngFor="let suggestion of suggestions; let i = index; trackBy: trackBySuggestion"
      class="mention-suggestion"
      [class.selected]="i === selectedIndex"
      (click)="selectSuggestion(suggestion)"
      (mouseenter)="selectedIndex = i"
    >
      <div class="suggestion-icon">
        <i
          *ngIf="suggestion.type === 'agent' && suggestion.icon"
          [ngClass]="getIconClasses(suggestion.icon)"
        ></i>
        <i
          *ngIf="suggestion.type === 'user'"
          class="fa-solid fa-user"
        ></i>
      </div>
      <div class="suggestion-content">
        <div class="suggestion-name">
          <span class="suggestion-type-badge" *ngIf="suggestion.type === 'agent'">Agent</span>
          <span class="suggestion-type-badge user" *ngIf="suggestion.type === 'user'">User</span>
          {{ suggestion.displayName }}
        </div>
        <div class="suggestion-description" *ngIf="suggestion.description">
          {{ suggestion.description }}
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="mention-empty-state" *ngIf="suggestions.length === 0">
    <i class="fa-solid fa-robot"></i>
    <p>No agents or users available</p>
  </div>
</div>
