<div class="message-input-wrapper">
  <!-- Processing Indicator Overlay -->
  <div class="processing-indicator" *ngIf="isProcessing">
    <i class="fas fa-circle-notch fa-spin"></i>
    <span>{{ processingMessage }}</span>
  </div>

  <!-- Message Input Box -->
  <mj-message-input-box
    #inputBox
    [placeholder]="placeholder"
    [disabled]="disabled || isProcessing"
    [showCharacterCount]="false"
    [enableMentions]="true"
    [enableAttachments]="enableAttachments"
    [maxAttachments]="maxAttachments"
    [maxAttachmentSizeBytes]="maxAttachmentSizeBytes"
    [acceptedFileTypes]="acceptedFileTypes"
    [enableVoiceInput]="enableVoiceInput"
    [currentUser]="currentUser"
    [rows]="3"
    [(value)]="messageText"
    (textSubmitted)="onTextSubmitted($event)"
    (attachmentsChanged)="onAttachmentsChanged($event)"
    (attachmentError)="onAttachmentError($event)"
    (voiceStreamingRequested)="onVoiceStreamingRequested()">
  </mj-message-input-box>
</div>