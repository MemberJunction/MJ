<div class="message-input-box-container">
  <div class="input-wrapper">
    <textarea
      #messageTextarea
      class="message-input-box-textarea"
      [(ngModel)]="value"
      [disabled]="disabled"
      [placeholder]="placeholder"
      [rows]="rows"
      (keydown)="onKeyDown($event)"
      (input)="onInput($event)"
    ></textarea>

    <!-- Send Button (Icon Only) - Inside textarea area -->
    <button
      class="send-button-icon"
      [disabled]="!canSend"
      (click)="onSendClick()"
      title="Send message (Enter)"
    >
      <i class="fa-solid fa-paper-plane"></i>
    </button>
  </div>

  <!-- Mention Dropdown -->
  <mj-mention-dropdown
    *ngIf="showMentionDropdown && enableMentions"
    [suggestions]="mentionSuggestions"
    [position]="mentionDropdownPosition"
    [showAbove]="mentionDropdownShowAbove"
    [useFixedPositioning]="true"
    [visible]="true"
    (suggestionSelected)="onMentionSelected($event)"
    (closed)="closeMentionDropdown()">
  </mj-mention-dropdown>
</div>
