<div class="component-artifact-viewer" [ngClass]="cssClass">
  <!-- Component Preview (full screen) -->
  <div class="component-preview">
    @if (hasError) {
      <div class="error-state">
        <i class="fa-solid fa-exclamation-triangle"></i>
        <h3>{{ errorMessage }}</h3>
        <p>This component could not be loaded. This usually happens when:</p>
        <ul style="text-align: left; max-width: 500px; color: #6c757d; line-height: 1.6;">
          <li>The component registry is unavailable or unreachable</li>
          <li>The component version does not exist in the registry</li>
          <li>There was a network error during component retrieval</li>
        </ul>
        @if (errorDetails) {
          <details style="margin-top: 20px;">
            <summary>Technical Details</summary>
            <pre>{{ errorDetails }}</pre>
          </details>
        }
      </div>
    } @else {
      <!-- Only render React component if there's code to execute -->
      @if (component && (component.code || component.namespace)) {
        <mj-react-component
          #reactComponent
          [component]="component"
          (componentEvent)="onComponentEvent($event)"
          (openEntityRecord)="onOpenEntityRecord($event)"
          (initialized)="onReactComponentInitialized()">
        </mj-react-component>
      } @else if (component) {
        <!-- Component spec exists but no code - show informational message -->
        <div class="no-code-state">
          <i class="fa-solid fa-file-lines"></i>
          <h3>Component Specification</h3>
          <p>This component has specifications but no executable code yet.</p>
          <p>View the Functional, Data, or Spec tabs for details.</p>
        </div>
      } @else {
        <div class="error-state">
          <i class="fa-solid fa-exclamation-circle"></i>
          <h3>No Component Loaded</h3>
          <p>The component data is missing or invalid.</p>
        </div>
      }
    }
  </div>
</div>

