<div class="filter-panel">
  <div class="filter-panel-header">
    <h3>Agent Filters</h3>
    <div class="filter-summary-inline">
      <span class="summary-value">{{ filteredAgents.length }}</span>
      <span class="summary-label">of {{ agents.length }}</span>
    </div>
    <button class="close-btn" (click)="toggleFilterPanel()">
      <span class="fa-solid fa-times"></span>
    </button>
  </div>
  
  <div class="filter-content">
    <!-- Search Filter -->
    <div class="filter-group">
      <label class="filter-label">
        <span class="fa-solid fa-search"></span>
        Name
      </label>
      <input 
        type="text"
        class="filter-input"
        [(ngModel)]="filters.searchTerm"
        (ngModelChange)="onFilterChange()"
        (input)="onFilterChange()"
        placeholder="Search agents...">
    </div>
    
    <!-- Agent Type Filter -->
    <div class="filter-group">
      <label class="filter-label">
        <span class="fa-solid fa-robot"></span>
        Type
      </label>
      <select 
        class="filter-select"
        [(ngModel)]="filters.agentType"
        (ngModelChange)="onFilterChange()">
        @for (option of agentTypeOptions; track option.value) {
          <option [value]="option.value">{{ option.text }}</option>
        }
      </select>
    </div>
    
    <!-- Parent Agent Filter -->
    <div class="filter-group">
      <label class="filter-label">
        <span class="fa-solid fa-sitemap"></span>
        Parent
      </label>
      <select 
        class="filter-select"
        [(ngModel)]="filters.parentAgent"
        (ngModelChange)="onFilterChange()">
        @for (option of parentAgentOptions; track option.value) {
          <option [value]="option.value">{{ option.text }}</option>
        }
      </select>
    </div>
    
    <!-- Status Filter -->
    <div class="filter-group">
      <label class="filter-label">
        <span class="fa-solid fa-toggle-on"></span>
        Status
      </label>
      <select 
        class="filter-select"
        [(ngModel)]="filters.status"
        (ngModelChange)="onFilterChange()">
        @for (option of statusOptions; track option.value) {
          <option [value]="option.value">{{ option.text }}</option>
        }
      </select>
    </div>
    
    <!-- Execution Mode Filter -->
    <div class="filter-group">
      <label class="filter-label">
        <span class="fa-solid fa-list-ol"></span>
        Execution Mode
      </label>
      <select 
        class="filter-select"
        [(ngModel)]="filters.executionMode"
        (ngModelChange)="onFilterChange()">
        @for (option of executionModeOptions; track option.value) {
          <option [value]="option.value">{{ option.text }}</option>
        }
      </select>
    </div>
    
    <!-- Expose As Action Filter -->
    <div class="filter-group">
      <label class="filter-label">
        <span class="fa-solid fa-share"></span>
        Action Exposure
      </label>
      <select 
        class="filter-select"
        [(ngModel)]="filters.exposeAsAction"
        (ngModelChange)="onFilterChange()">
        @for (option of exposeAsActionOptions; track option.value) {
          <option [value]="option.value">{{ option.text }}</option>
        }
      </select>
    </div>
    
    <!-- Reset Button -->
    <div class="filter-actions">
      <button class="reset-btn" (click)="resetAllFilters()" title="Reset all filters">
        <span class="fa-solid fa-undo"></span>
        Reset Filters
      </button>
    </div>
  </div>
</div>