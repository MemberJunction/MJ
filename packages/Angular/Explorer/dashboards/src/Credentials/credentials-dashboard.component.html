<div class="credentials-dashboard-container">
  <div class="dashboard-header">
    <div class="header-title">
      <i class="fa-solid fa-key"></i>
      <span>Credential Management</span>
    </div>
    <div class="header-actions">
      <div class="security-badge">
        <i class="fa-solid fa-shield-halved"></i>
        <span>Encrypted</span>
      </div>
      <span class="tab-label">{{getCurrentTabLabel()}}</span>
    </div>
  </div>

  <div class="dashboard-content">
    <div class="sidebar">
      <div class="sidebar-section">
        <div class="sidebar-section-title">Dashboard</div>
      </div>
      <div class="nav-item" [class.selected]="activeTab === 'overview'" (click)="onTabChange('overview')">
        <i class="fa-solid fa-chart-pie"></i>
        <span>Overview</span>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-title">Management</div>
      </div>
      <div class="nav-item" [class.selected]="activeTab === 'credentials'" (click)="onTabChange('credentials')">
        <i class="fa-solid fa-key"></i>
        <span>Credentials</span>
        @if (credentialCount > 0) {
          <span class="badge">{{credentialCount}}</span>
        }
      </div>
      <div class="nav-item" [class.selected]="activeTab === 'types'" (click)="onTabChange('types')">
        <i class="fa-solid fa-cubes"></i>
        <span>Types</span>
        @if (typeCount > 0) {
          <span class="badge">{{typeCount}}</span>
        }
      </div>
      <div class="nav-item" [class.selected]="activeTab === 'categories'" (click)="onTabChange('categories')">
        <i class="fa-solid fa-folder-tree"></i>
        <span>Categories</span>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-title">Security</div>
      </div>
      <div class="nav-item" [class.selected]="activeTab === 'audit'" (click)="onTabChange('audit')">
        <i class="fa-solid fa-clipboard-list"></i>
        <span>Audit Trail</span>
      </div>
    </div>

    <div class="main-content">
      <div class="tab-container">
        @switch (activeTab) {
          <!-- Overview Tab -->
          @case ('overview') {
            <div class="tab-content">
              <mj-credentials-overview-resource></mj-credentials-overview-resource>
            </div>
          }
          <!-- Credentials Tab -->
          @case ('credentials') {
            <div class="tab-content">
              <mj-credentials-list-resource></mj-credentials-list-resource>
            </div>
          }
          <!-- Types Tab -->
          @case ('types') {
            <div class="tab-content">
              <mj-credentials-types-resource></mj-credentials-types-resource>
            </div>
          }
          <!-- Categories Tab -->
          @case ('categories') {
            <div class="tab-content">
              <mj-credentials-categories-resource></mj-credentials-categories-resource>
            </div>
          }
          <!-- Audit Trail Tab -->
          @case ('audit') {
            <div class="tab-content">
              <mj-credentials-audit-resource></mj-credentials-audit-resource>
            </div>
          }
        }
      </div>
    </div>
  </div>
</div>
