<mj-record-form-container [Record]="record" [FormComponent]="this"
    (Navigate)="OnFormNavigate($event)"
    (DeleteRequested)="OnDeleteRequested()"
    (FavoriteToggled)="OnFavoriteToggled()"
    (HistoryRequested)="OnHistoryRequested()"
    (ListManagementRequested)="OnListManagementRequested()">

    <!-- ========================================
         FIELD PANELS
         ======================================== -->
    <!-- User Identity Section -->
    <mj-collapsible-panel
        SectionKey="userIdentity"
        SectionName="User Identity"
        Icon="fa fa-id-card"
        [Form]="this"
        [FormContext]="formContext">
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="Name"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="FirstName"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="LastName"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="Title"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="Email"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
            LinkType="Email"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="FirstLast"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>

    </mj-collapsible-panel>

    <!-- Account Settings Section -->
    <mj-collapsible-panel
        SectionKey="accountSettings"
        SectionName="Account Settings"
        Icon="fa fa-cog"
        [Form]="this"
        [FormContext]="formContext">
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="Type"
            Type="select"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="IsActive"
            Type="checkbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="UserImageURL"
            Type="textarea"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="UserImageIconClass"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>

    </mj-collapsible-panel>

    <!-- Entity Links Section -->
    <mj-collapsible-panel
        SectionKey="entityLinks"
        SectionName="Entity Links"
        Icon="fa fa-link"
        [Form]="this"
        [FormContext]="formContext">
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="LinkedRecordType"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="LinkedEntityID"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
            LinkType="Record"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="LinkedEntityRecordID"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeID"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
            LinkType="Record"
        ></mj-form-field>

    </mj-collapsible-panel>

    <!-- Employee Details Section -->
    <mj-collapsible-panel
        SectionKey="employeeDetails"
        SectionName="Employee Details"
        Icon="fa fa-user-tie"
        [Form]="this"
        [FormContext]="formContext">
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeFirstLast"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeEmail"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeTitle"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeSupervisor"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeSupervisorEmail"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>

    </mj-collapsible-panel>

    <!-- System Metadata Section -->
    <mj-collapsible-panel
        SectionKey="systemMetadata"
        SectionName="System Metadata"
        Icon="fa fa-database"
        [Form]="this"
        [FormContext]="formContext">
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="__mj_CreatedAt"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="__mj_UpdatedAt"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>

    </mj-collapsible-panel>

    <!-- ========================================
         RELATED ENTITY PANELS
         ======================================== -->

    <!-- Action Execution Logs Section -->
    <mj-collapsible-panel
        SectionKey="mJActionExecutionLogs"
        SectionName="Action Execution Logs"
        Icon="fa fa-history"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJActionExecutionLogs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Action Execution Logs','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Action Execution Logs')"
                [AllowLoad]="IsSectionExpanded('mJActionExecutionLogs')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJActionExecutionLogs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Actions Section -->
    <mj-collapsible-panel
        SectionKey="mJActions"
        SectionName="Actions"
        Icon="fa-solid fa-bolt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJActions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Actions','CodeApprovedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Actions')"
                [AllowLoad]="IsSectionExpanded('mJActions')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJActions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Audit Logs Section -->
    <mj-collapsible-panel
        SectionKey="mJAuditLogs"
        SectionName="Audit Logs"
        Icon="fa-solid fa-fingerprint"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAuditLogs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Audit Logs','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Audit Logs')"
                [AllowLoad]="IsSectionExpanded('mJAuditLogs')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAuditLogs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Communication Runs Section -->
    <mj-collapsible-panel
        SectionKey="mJCommunicationRuns"
        SectionName="Communication Runs"
        Icon="fa fa-comment"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJCommunicationRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Communication Runs','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Communication Runs')"
                [AllowLoad]="IsSectionExpanded('mJCommunicationRuns')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJCommunicationRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Company Integration Runs Section -->
    <mj-collapsible-panel
        SectionKey="mJCompanyIntegrationRuns"
        SectionName="Company Integration Runs"
        Icon="fa fa-briefcase"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJCompanyIntegrationRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Company Integration Runs','RunByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Company Integration Runs')"
                [AllowLoad]="IsSectionExpanded('mJCompanyIntegrationRuns')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJCompanyIntegrationRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Conversations Section -->
    <mj-collapsible-panel
        SectionKey="mJConversations"
        SectionName="Conversations"
        Icon="fa-regular fa-comments"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJConversations')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Conversations','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Conversations')"
                [AllowLoad]="IsSectionExpanded('mJConversations')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJConversations', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboard Categories Section -->
    <mj-collapsible-panel
        SectionKey="mJDashboardCategories"
        SectionName="Dashboard Categories"
        Icon="fa fa-tachometer-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Categories','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Categories')"
                [AllowLoad]="IsSectionExpanded('mJDashboardCategories')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboards Section -->
    <mj-collapsible-panel
        SectionKey="mJDashboards"
        SectionName="Dashboards"
        Icon="fa-solid fa-table-columns"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboards')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboards','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboards')"
                [AllowLoad]="IsSectionExpanded('mJDashboards')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDashboards', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Data Contexts Section -->
    <mj-collapsible-panel
        SectionKey="mJDataContexts"
        SectionName="Data Contexts"
        Icon="fa fa-database"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDataContexts')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Data Contexts','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Data Contexts')"
                [AllowLoad]="IsSectionExpanded('mJDataContexts')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDataContexts', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Duplicate Runs Section -->
    <mj-collapsible-panel
        SectionKey="mJDuplicateRuns"
        SectionName="Duplicate Runs"
        Icon="fa fa-search"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDuplicateRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Duplicate Runs','StartedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Duplicate Runs')"
                [AllowLoad]="IsSectionExpanded('mJDuplicateRuns')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDuplicateRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Lists Section -->
    <mj-collapsible-panel
        SectionKey="mJLists"
        SectionName="Lists"
        Icon="fa fa-list-ul"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJLists')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Lists','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Lists')"
                [AllowLoad]="IsSectionExpanded('mJLists')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJLists', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Query Categories Section -->
    <mj-collapsible-panel
        SectionKey="mJQueryCategories"
        SectionName="Query Categories"
        Icon="fa fa-folder"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJQueryCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Query Categories','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Query Categories')"
                [AllowLoad]="IsSectionExpanded('mJQueryCategories')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJQueryCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Recommendation Runs Section -->
    <mj-collapsible-panel
        SectionKey="mJRecommendationRuns"
        SectionName="Recommendation Runs"
        Icon="fa fa-rocket"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJRecommendationRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Recommendation Runs','RunByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Recommendation Runs')"
                [AllowLoad]="IsSectionExpanded('mJRecommendationRuns')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJRecommendationRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Record Change Replay Runs Section -->
    <mj-collapsible-panel
        SectionKey="mJRecordChangeReplayRuns"
        SectionName="Record Change Replay Runs"
        Icon="fa fa-sync"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJRecordChangeReplayRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Record Change Replay Runs','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Record Change Replay Runs')"
                [AllowLoad]="IsSectionExpanded('mJRecordChangeReplayRuns')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJRecordChangeReplayRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Record Changes Section -->
    <mj-collapsible-panel
        SectionKey="mJRecordChanges"
        SectionName="Record Changes"
        Icon="fa fa-history"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJRecordChanges')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Record Changes','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Record Changes')"
                [AllowLoad]="IsSectionExpanded('mJRecordChanges')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJRecordChanges', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Record Merge Logs Section -->
    <mj-collapsible-panel
        SectionKey="mJRecordMergeLogs"
        SectionName="Record Merge Logs"
        Icon="fa fa-clone"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJRecordMergeLogs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Record Merge Logs','InitiatedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Record Merge Logs')"
                [AllowLoad]="IsSectionExpanded('mJRecordMergeLogs')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJRecordMergeLogs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Report Categories Section -->
    <mj-collapsible-panel
        SectionKey="mJReportCategories"
        SectionName="Report Categories"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJReportCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Report Categories','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Report Categories')"
                [AllowLoad]="IsSectionExpanded('mJReportCategories')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJReportCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Report Snapshots Section -->
    <mj-collapsible-panel
        SectionKey="mJReportSnapshots"
        SectionName="Report Snapshots"
        Icon="fa fa-camera"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJReportSnapshots')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Report Snapshots','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Report Snapshots')"
                [AllowLoad]="IsSectionExpanded('mJReportSnapshots')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJReportSnapshots', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Reports Section -->
    <mj-collapsible-panel
        SectionKey="mJReports"
        SectionName="Reports"
        Icon="fa-solid fa-chart-line"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJReports')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Reports','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Reports')"
                [AllowLoad]="IsSectionExpanded('mJReports')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJReports', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Template Categories Section -->
    <mj-collapsible-panel
        SectionKey="mJTemplateCategories"
        SectionName="Template Categories"
        Icon="fa fa-tags"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJTemplateCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Template Categories','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Template Categories')"
                [AllowLoad]="IsSectionExpanded('mJTemplateCategories')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJTemplateCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Templates Section -->
    <mj-collapsible-panel
        SectionKey="mJTemplates"
        SectionName="Templates"
        Icon="fa-regular fa-rectangle-list"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJTemplates')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Templates','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Templates')"
                [AllowLoad]="IsSectionExpanded('mJTemplates')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJTemplates', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Applications Section -->
    <mj-collapsible-panel
        SectionKey="mJUserApplications"
        SectionName="User Applications"
        Icon="fa fa-th"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserApplications')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User Applications','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User Applications')"
                [AllowLoad]="IsSectionExpanded('mJUserApplications')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJUserApplications', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Favorites Section -->
    <mj-collapsible-panel
        SectionKey="mJUserFavorites"
        SectionName="User Favorites"
        Icon="fa fa-star"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserFavorites')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User Favorites','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User Favorites')"
                [AllowLoad]="IsSectionExpanded('mJUserFavorites')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJUserFavorites', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Notifications Section -->
    <mj-collapsible-panel
        SectionKey="mJUserNotifications"
        SectionName="User Notifications"
        Icon="fa fa-bell"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserNotifications')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User Notifications','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User Notifications')"
                [AllowLoad]="IsSectionExpanded('mJUserNotifications')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJUserNotifications', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Record Logs Section -->
    <mj-collapsible-panel
        SectionKey="mJUserRecordLogs"
        SectionName="User Record Logs"
        Icon="fa fa-history"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserRecordLogs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User Record Logs','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User Record Logs')"
                [AllowLoad]="IsSectionExpanded('mJUserRecordLogs')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJUserRecordLogs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Roles Section -->
    <mj-collapsible-panel
        SectionKey="mJUserRoles"
        SectionName="Roles"
        Icon="fa fa-user-shield"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserRoles')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User Roles','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User Roles')"
                [AllowLoad]="IsSectionExpanded('mJUserRoles')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJUserRoles', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User View Categories Section -->
    <mj-collapsible-panel
        SectionKey="mJUserViewCategories"
        SectionName="User View Categories"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserViewCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User View Categories','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User View Categories')"
                [AllowLoad]="IsSectionExpanded('mJUserViewCategories')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJUserViewCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User View Runs Section -->
    <mj-collapsible-panel
        SectionKey="mJUserViewRuns"
        SectionName="User View Runs"
        Icon="fa fa-eye"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserViewRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User View Runs','RunByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: User View Runs')"
                [AllowLoad]="IsSectionExpanded('mJUserViewRuns')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJUserViewRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Views Section -->
    <mj-collapsible-panel
        SectionKey="mJUserViews"
        SectionName="User Views"
        Icon="fa-solid fa-table-cells"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserViews')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User Views','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User Views')"
                [AllowLoad]="IsSectionExpanded('mJUserViews')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJUserViews', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Workspaces Section -->
    <mj-collapsible-panel
        SectionKey="mJWorkspaces"
        SectionName="Workspaces"
        Icon="fa fa-folder"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJWorkspaces')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Workspaces','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Workspaces')"
                [AllowLoad]="IsSectionExpanded('mJWorkspaces')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJWorkspaces', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agent Notes Section -->
    <mj-collapsible-panel
        SectionKey="mJAIAgentNotes"
        SectionName="AI Agent Notes"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAIAgentNotes')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: AI Agent Notes','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: AI Agent Notes')"
                [AllowLoad]="IsSectionExpanded('mJAIAgentNotes')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAIAgentNotes', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agent Requests Section -->
    <mj-collapsible-panel
        SectionKey="mJAIAgentRequestsResponseByUserID"
        SectionName="AI Agent Requests"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAIAgentRequestsResponseByUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: AI Agent Requests','ResponseByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: AI Agent Requests')"
                [AllowLoad]="IsSectionExpanded('mJAIAgentRequestsResponseByUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAIAgentRequestsResponseByUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- API Keys (User) Section -->
    <mj-collapsible-panel
        SectionKey="mJAPIKeysUserID"
        SectionName="API Keys (User)"
        Icon="fa fa-key"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAPIKeysUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: API Keys','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: API Keys')"
                [AllowLoad]="IsSectionExpanded('mJAPIKeysUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAPIKeysUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Artifact Permissions (User ID) Section -->
    <mj-collapsible-panel
        SectionKey="mJArtifactPermissionsUserID"
        SectionName="Artifact Permissions (User ID)"
        Icon="fa fa-key"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJArtifactPermissionsUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Artifact Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Artifact Permissions')"
                [AllowLoad]="IsSectionExpanded('mJArtifactPermissionsUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJArtifactPermissionsUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Artifact Uses Section -->
    <mj-collapsible-panel
        SectionKey="mJArtifactUses"
        SectionName="Artifact Uses"
        Icon="fa fa-eye"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJArtifactUses')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Artifact Uses','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Artifact Uses')"
                [AllowLoad]="IsSectionExpanded('mJArtifactUses')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJArtifactUses', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Artifact Versions Section -->
    <mj-collapsible-panel
        SectionKey="mJArtifactVersions"
        SectionName="Artifact Versions"
        Icon="fa fa-history"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJArtifactVersions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Artifact Versions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Artifact Versions')"
                [AllowLoad]="IsSectionExpanded('mJArtifactVersions')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJArtifactVersions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Conversation Detail Ratings Section -->
    <mj-collapsible-panel
        SectionKey="mJConversationDetailRatings"
        SectionName="Conversation Detail Ratings"
        Icon="fa fa-comment"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJConversationDetailRatings')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Conversation Detail Ratings','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Conversation Detail Ratings')"
                [AllowLoad]="IsSectionExpanded('mJConversationDetailRatings')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJConversationDetailRatings', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboard Category Links Section -->
    <mj-collapsible-panel
        SectionKey="mJDashboardCategoryLinks"
        SectionName="Dashboard Category Links"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardCategoryLinks')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Category Links','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Category Links')"
                [AllowLoad]="IsSectionExpanded('mJDashboardCategoryLinks')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardCategoryLinks', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboard Category Permissions (User ID) Section -->
    <mj-collapsible-panel
        SectionKey="mJDashboardCategoryPermissionsUserID"
        SectionName="Dashboard Category Permissions (User ID)"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardCategoryPermissionsUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Category Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Category Permissions')"
                [AllowLoad]="IsSectionExpanded('mJDashboardCategoryPermissionsUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardCategoryPermissionsUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboard Permissions (Shared By User ID) Section -->
    <mj-collapsible-panel
        SectionKey="mJDashboardPermissionsSharedByUserID"
        SectionName="Dashboard Permissions (Shared By User ID)"
        Icon="fa fa-tachometer-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardPermissionsSharedByUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Permissions','SharedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Permissions')"
                [AllowLoad]="IsSectionExpanded('mJDashboardPermissionsSharedByUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardPermissionsSharedByUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboard User Preferences Section -->
    <mj-collapsible-panel
        SectionKey="mJDashboardUserPreferences"
        SectionName="Dashboard User Preferences"
        Icon="fa fa-tachometer-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardUserPreferences')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard User Preferences','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard User Preferences')"
                [AllowLoad]="IsSectionExpanded('mJDashboardUserPreferences')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardUserPreferences', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboard User States Section -->
    <mj-collapsible-panel
        SectionKey="mJDashboardUserStates"
        SectionName="Dashboard User States"
        Icon="fa fa-tachometer-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardUserStates')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard User States','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard User States')"
                [AllowLoad]="IsSectionExpanded('mJDashboardUserStates')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardUserStates', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- List Categories Section -->
    <mj-collapsible-panel
        SectionKey="mJListCategories"
        SectionName="List Categories"
        Icon="fa fa-list"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJListCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: List Categories','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: List Categories')"
                [AllowLoad]="IsSectionExpanded('mJListCategories')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJListCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- List Invitations Section -->
    <mj-collapsible-panel
        SectionKey="mJListInvitations"
        SectionName="List Invitations"
        Icon="fa fa-user-plus"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJListInvitations')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: List Invitations','CreatedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: List Invitations')"
                [AllowLoad]="IsSectionExpanded('mJListInvitations')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJListInvitations', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- List Shares Section -->
    <mj-collapsible-panel
        SectionKey="mJListShares"
        SectionName="List Shares"
        Icon="fa fa-share-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJListShares')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: List Shares','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: List Shares')"
                [AllowLoad]="IsSectionExpanded('mJListShares')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJListShares', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MCP Tool Execution Logs Section -->
    <mj-collapsible-panel
        SectionKey="mJMCPToolExecutionLogs"
        SectionName="MCP Tool Execution Logs"
        Icon="fa fa-history"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJMCPToolExecutionLogs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: MCP Tool Execution Logs','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: MCP Tool Execution Logs')"
                [AllowLoad]="IsSectionExpanded('mJMCPToolExecutionLogs')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJMCPToolExecutionLogs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- O Auth Authorization States Section -->
    <mj-collapsible-panel
        SectionKey="mJOAuthAuthorizationStates"
        SectionName="O Auth Authorization States"
        Icon="fa fa-table"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJOAuthAuthorizationStates')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: O Auth Authorization States','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: O Auth Authorization States')"
                [AllowLoad]="IsSectionExpanded('mJOAuthAuthorizationStates')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJOAuthAuthorizationStates', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Open App Install Histories Section -->
    <mj-collapsible-panel
        SectionKey="mJOpenAppInstallHistories"
        SectionName="Open App Install Histories"
        Icon="fa fa-table"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJOpenAppInstallHistories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Open App Install Histories','ExecutedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Open App Install Histories')"
                [AllowLoad]="IsSectionExpanded('mJOpenAppInstallHistories')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJOpenAppInstallHistories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Open Apps Section -->
    <mj-collapsible-panel
        SectionKey="mJOpenApps"
        SectionName="Open Apps"
        Icon="fa fa-table"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJOpenApps')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Open Apps','InstalledByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Open Apps')"
                [AllowLoad]="IsSectionExpanded('mJOpenApps')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJOpenApps', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Public Links Section -->
    <mj-collapsible-panel
        SectionKey="mJPublicLinks"
        SectionName="Public Links"
        Icon="fa fa-link"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJPublicLinks')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Public Links','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Public Links')"
                [AllowLoad]="IsSectionExpanded('mJPublicLinks')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJPublicLinks', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Report User States Section -->
    <mj-collapsible-panel
        SectionKey="mJReportUserStates"
        SectionName="Report User States"
        Icon="fa fa-chart-line"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJReportUserStates')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Report User States','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Report User States')"
                [AllowLoad]="IsSectionExpanded('mJReportUserStates')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJReportUserStates', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Resource Links Section -->
    <mj-collapsible-panel
        SectionKey="mJResourceLinks"
        SectionName="Resource Links"
        Icon="fa fa-link"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJResourceLinks')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Resource Links','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Resource Links')"
                [AllowLoad]="IsSectionExpanded('mJResourceLinks')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJResourceLinks', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Scheduled Actions Section -->
    <mj-collapsible-panel
        SectionKey="mJScheduledActions"
        SectionName="Scheduled Actions"
        Icon="fa fa-calendar"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJScheduledActions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Scheduled Actions','CreatedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Scheduled Actions')"
                [AllowLoad]="IsSectionExpanded('mJScheduledActions')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJScheduledActions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Scheduled Job Runs Section -->
    <mj-collapsible-panel
        SectionKey="mJScheduledJobRuns"
        SectionName="Scheduled Job Runs"
        Icon="fa fa-tasks"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJScheduledJobRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Scheduled Job Runs','ExecutedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Scheduled Job Runs')"
                [AllowLoad]="IsSectionExpanded('mJScheduledJobRuns')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJScheduledJobRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Scheduled Jobs (Notify User ID) Section -->
    <mj-collapsible-panel
        SectionKey="mJScheduledJobsNotifyUserID"
        SectionName="Scheduled Jobs (Notify User ID)"
        Icon="fa fa-calendar"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJScheduledJobsNotifyUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Scheduled Jobs','NotifyUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Scheduled Jobs')"
                [AllowLoad]="IsSectionExpanded('mJScheduledJobsNotifyUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJScheduledJobsNotifyUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Test Run Feedbacks Section -->
    <mj-collapsible-panel
        SectionKey="mJTestRunFeedbacks"
        SectionName="Test Run Feedbacks"
        Icon="fa fa-clipboard-check"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJTestRunFeedbacks')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Test Run Feedbacks','ReviewerUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Test Run Feedbacks')"
                [AllowLoad]="IsSectionExpanded('mJTestRunFeedbacks')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJTestRunFeedbacks', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Test Suite Runs Section -->
    <mj-collapsible-panel
        SectionKey="mJTestSuiteRuns"
        SectionName="Test Suite Runs"
        Icon="fa fa-flask"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJTestSuiteRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Test Suite Runs','RunByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Test Suite Runs')"
                [AllowLoad]="IsSectionExpanded('mJTestSuiteRuns')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJTestSuiteRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Notification Preferences Section -->
    <mj-collapsible-panel
        SectionKey="mJUserNotificationPreferences"
        SectionName="User Notification Preferences"
        Icon="fa fa-bell"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserNotificationPreferences')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User Notification Preferences','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User Notification Preferences')"
                [AllowLoad]="IsSectionExpanded('mJUserNotificationPreferences')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJUserNotificationPreferences', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Settings Section -->
    <mj-collapsible-panel
        SectionKey="mJUserSettings"
        SectionName="User Settings"
        Icon="fa fa-sliders-h"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserSettings')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User Settings','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User Settings')"
                [AllowLoad]="IsSectionExpanded('mJUserSettings')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJUserSettings', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Version Label Restores Section -->
    <mj-collapsible-panel
        SectionKey="mJVersionLabelRestores"
        SectionName="Version Label Restores"
        Icon="fa fa-undo"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJVersionLabelRestores')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Version Label Restores','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Version Label Restores')"
                [AllowLoad]="IsSectionExpanded('mJVersionLabelRestores')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJVersionLabelRestores', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Access Control Rules Section -->
    <mj-collapsible-panel
        SectionKey="mJAccessControlRules"
        SectionName="Access Control Rules"
        Icon="fa fa-lock"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAccessControlRules')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Access Control Rules','GrantedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Access Control Rules')"
                [AllowLoad]="IsSectionExpanded('mJAccessControlRules')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAccessControlRules', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agent Requests Section -->
    <mj-collapsible-panel
        SectionKey="mJAIAgentRequestsRequestForUserID"
        SectionName="AI Agent Requests"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAIAgentRequestsRequestForUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: AI Agent Requests','RequestForUserID')"
                [NewRecordValues]="NewRecordValues('MJ: AI Agent Requests')"
                [AllowLoad]="IsSectionExpanded('mJAIAgentRequestsRequestForUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAIAgentRequestsRequestForUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- API Keys (Created By User) Section -->
    <mj-collapsible-panel
        SectionKey="mJAPIKeysCreatedByUserID"
        SectionName="API Keys (Created By User)"
        Icon="fa fa-key"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAPIKeysCreatedByUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: API Keys','CreatedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: API Keys')"
                [AllowLoad]="IsSectionExpanded('mJAPIKeysCreatedByUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAPIKeysCreatedByUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Artifact Permissions (Shared By User ID) Section -->
    <mj-collapsible-panel
        SectionKey="mJArtifactPermissionsSharedByUserID"
        SectionName="Artifact Permissions (Shared By User ID)"
        Icon="fa fa-key"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJArtifactPermissionsSharedByUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Artifact Permissions','SharedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Artifact Permissions')"
                [AllowLoad]="IsSectionExpanded('mJArtifactPermissionsSharedByUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJArtifactPermissionsSharedByUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Artifacts Section -->
    <mj-collapsible-panel
        SectionKey="mJArtifacts"
        SectionName="Artifacts"
        Icon="fa fa-file"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJArtifacts')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Artifacts','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Artifacts')"
                [AllowLoad]="IsSectionExpanded('mJArtifacts')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJArtifacts', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Collection Permissions (Shared By User ID) Section -->
    <mj-collapsible-panel
        SectionKey="mJCollectionPermissionsSharedByUserID"
        SectionName="Collection Permissions (Shared By User ID)"
        Icon="fa fa-folder"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJCollectionPermissionsSharedByUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Collection Permissions','SharedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Collection Permissions')"
                [AllowLoad]="IsSectionExpanded('mJCollectionPermissionsSharedByUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJCollectionPermissionsSharedByUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Conversation Details Section -->
    <mj-collapsible-panel
        SectionKey="mJConversationDetails"
        SectionName="Conversation Details"
        Icon="fa fa-comments"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJConversationDetails')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Conversation Details','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Conversation Details')"
                [AllowLoad]="IsSectionExpanded('mJConversationDetails')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJConversationDetails', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboard Category Permissions (Shared By User ID) Section -->
    <mj-collapsible-panel
        SectionKey="mJDashboardCategoryPermissionsSharedByUserID"
        SectionName="Dashboard Category Permissions (Shared By User ID)"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardCategoryPermissionsSharedByUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Category Permissions','SharedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Category Permissions')"
                [AllowLoad]="IsSectionExpanded('mJDashboardCategoryPermissionsSharedByUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardCategoryPermissionsSharedByUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboard Permissions (User ID) Section -->
    <mj-collapsible-panel
        SectionKey="mJDashboardPermissionsUserID"
        SectionName="Dashboard Permissions (User ID)"
        Icon="fa fa-tachometer-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardPermissionsUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Permissions')"
                [AllowLoad]="IsSectionExpanded('mJDashboardPermissionsUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardPermissionsUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MCP Server Connection Permissions Section -->
    <mj-collapsible-panel
        SectionKey="mJMCPServerConnectionPermissions"
        SectionName="MCP Server Connection Permissions"
        Icon="fa fa-server"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJMCPServerConnectionPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: MCP Server Connection Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: MCP Server Connection Permissions')"
                [AllowLoad]="IsSectionExpanded('mJMCPServerConnectionPermissions')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJMCPServerConnectionPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Resource Permissions Section -->
    <mj-collapsible-panel
        SectionKey="mJResourcePermissions"
        SectionName="Resource Permissions"
        Icon="fa fa-lock"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJResourcePermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Resource Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Resource Permissions')"
                [AllowLoad]="IsSectionExpanded('mJResourcePermissions')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJResourcePermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Scheduled Jobs (Owner User ID) Section -->
    <mj-collapsible-panel
        SectionKey="mJScheduledJobsOwnerUserID"
        SectionName="Scheduled Jobs (Owner User ID)"
        Icon="fa fa-calendar"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJScheduledJobsOwnerUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Scheduled Jobs','OwnerUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Scheduled Jobs')"
                [AllowLoad]="IsSectionExpanded('mJScheduledJobsOwnerUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJScheduledJobsOwnerUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Test Runs Section -->
    <mj-collapsible-panel
        SectionKey="mJTestRuns"
        SectionName="Test Runs"
        Icon="fa fa-flask"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJTestRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Test Runs','RunByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Test Runs')"
                [AllowLoad]="IsSectionExpanded('mJTestRuns')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJTestRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Version Labels Section -->
    <mj-collapsible-panel
        SectionKey="mJVersionLabels"
        SectionName="Version Labels"
        Icon="fa fa-tag"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJVersionLabels')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Version Labels','CreatedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Version Labels')"
                [AllowLoad]="IsSectionExpanded('mJVersionLabels')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJVersionLabels', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agent Permissions Section -->
    <mj-collapsible-panel
        SectionKey="mJAIAgentPermissions"
        SectionName="AI Agent Permissions"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAIAgentPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: AI Agent Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: AI Agent Permissions')"
                [AllowLoad]="IsSectionExpanded('mJAIAgentPermissions')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAIAgentPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agent Runs Section -->
    <mj-collapsible-panel
        SectionKey="mJAIAgentRuns"
        SectionName="AI Agent Runs"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAIAgentRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: AI Agent Runs','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: AI Agent Runs')"
                [AllowLoad]="IsSectionExpanded('mJAIAgentRuns')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAIAgentRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Collection Permissions (User ID) Section -->
    <mj-collapsible-panel
        SectionKey="mJCollectionPermissionsUserID"
        SectionName="Collection Permissions (User ID)"
        Icon="fa fa-folder"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJCollectionPermissionsUserID')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Collection Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Collection Permissions')"
                [AllowLoad]="IsSectionExpanded('mJCollectionPermissionsUserID')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJCollectionPermissionsUserID', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Collections Section -->
    <mj-collapsible-panel
        SectionKey="mJCollections"
        SectionName="Collections"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJCollections')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Collections','OwnerID')"
                [NewRecordValues]="NewRecordValues('MJ: Collections')"
                [AllowLoad]="IsSectionExpanded('mJCollections')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJCollections', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agent Examples Section -->
    <mj-collapsible-panel
        SectionKey="mJAIAgentExamples"
        SectionName="AI Agent Examples"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAIAgentExamples')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: AI Agent Examples','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: AI Agent Examples')"
                [AllowLoad]="IsSectionExpanded('mJAIAgentExamples')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAIAgentExamples', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Tasks Section -->
    <mj-collapsible-panel
        SectionKey="mJTasks"
        SectionName="Tasks"
        Icon="fa fa-tasks"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJTasks')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Tasks','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Tasks')"
                [AllowLoad]="IsSectionExpanded('mJTasks')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJTasks', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agents Section -->
    <mj-collapsible-panel
        SectionKey="mJAIAgents"
        SectionName="AI Agents"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAIAgents')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: AI Agents','OwnerUserID')"
                [NewRecordValues]="NewRecordValues('MJ: AI Agents')"
                [AllowLoad]="IsSectionExpanded('mJAIAgents')"
                [ShowToolbar]="false"
                (Navigate)="OnFormNavigate($event)"
                (AfterDataLoad)="SetSectionRowCount('mJAIAgents', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>
</mj-record-form-container>
        