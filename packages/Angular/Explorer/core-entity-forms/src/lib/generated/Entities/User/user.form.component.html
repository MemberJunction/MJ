<mj-record-form-container [Record]="record" [FormComponent]="this"
    (Navigate)="OnFormNavigate($event)"
    (DeleteRequested)="OnDeleteRequested()"
    (FavoriteToggled)="OnFavoriteToggled()"
    (HistoryRequested)="OnHistoryRequested()"
    (ListManagementRequested)="OnListManagementRequested()">

    <!-- ========================================
         FIELD PANELS
         ======================================== -->
    <!-- User Identity Section -->
    <mj-collapsible-panel field-panels
        SectionKey="userIdentity"
        SectionName="User Identity"
        Icon="fa fa-id-card"
        [Form]="this"
        [FormContext]="formContext">
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="Name"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="FirstName"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="LastName"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="Title"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="Email"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
            LinkType="Email"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="FirstLast"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>

    </mj-collapsible-panel>

    <!-- Account Settings Section -->
    <mj-collapsible-panel field-panels
        SectionKey="accountSettings"
        SectionName="Account Settings"
        Icon="fa fa-cog"
        [Form]="this"
        [FormContext]="formContext">
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="Type"
            Type="select"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="IsActive"
            Type="checkbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="UserImageURL"
            Type="textarea"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="UserImageIconClass"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>

    </mj-collapsible-panel>

    <!-- Entity Links Section -->
    <mj-collapsible-panel field-panels
        SectionKey="entityLinks"
        SectionName="Entity Links"
        Icon="fa fa-link"
        [Form]="this"
        [FormContext]="formContext">
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="LinkedRecordType"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="LinkedEntityID"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
            LinkType="Record"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="LinkedEntityRecordID"
            Type="textarea"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeID"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
            LinkType="Record"
        ></mj-form-field>

    </mj-collapsible-panel>

    <!-- Employee Details Section -->
    <mj-collapsible-panel field-panels
        SectionKey="employeeDetails"
        SectionName="Employee Details"
        Icon="fa fa-user-tie"
        [Form]="this"
        [FormContext]="formContext">
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeFirstLast"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeEmail"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeTitle"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeSupervisor"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="EmployeeSupervisorEmail"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>

    </mj-collapsible-panel>

    <!-- System Metadata Section -->
    <mj-collapsible-panel field-panels
        SectionKey="systemMetadata"
        SectionName="System Metadata"
        Icon="fa fa-database"
        [Form]="this"
        [FormContext]="formContext">
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="__mj_CreatedAt"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>
        <mj-form-field 
            [Record]="record"
            [ShowLabel]="true"
            FieldName="__mj_UpdatedAt"
            Type="textbox"
            [EditMode]="EditMode"
            [FormContext]="formContext"
        ></mj-form-field>

    </mj-collapsible-panel>
    <!-- ========================================
         RELATED ENTITY PANELS - AFTER
         ======================================== -->

    <!-- Action Execution Logs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="actionExecutionLogs"
        SectionName="Action Execution Logs"
        Icon="fa fa-history"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('actionExecutionLogs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Action Execution Logs','UserID')"
                [NewRecordValues]="NewRecordValues('Action Execution Logs')"
                [AllowLoad]="IsSectionExpanded('actionExecutionLogs')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('actionExecutionLogs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Actions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="actions"
        SectionName="Actions"
        Icon="fa-solid fa-bolt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('actions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Actions','CodeApprovedByUserID')"
                [NewRecordValues]="NewRecordValues('Actions')"
                [AllowLoad]="IsSectionExpanded('actions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('actions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Audit Logs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="auditLogs"
        SectionName="Audit Logs"
        Icon="fa-solid fa-fingerprint"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('auditLogs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Audit Logs','UserID')"
                [NewRecordValues]="NewRecordValues('Audit Logs')"
                [AllowLoad]="IsSectionExpanded('auditLogs')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('auditLogs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Communication Runs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="communicationRuns"
        SectionName="Communication Runs"
        Icon="fa fa-comment"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('communicationRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Communication Runs','UserID')"
                [NewRecordValues]="NewRecordValues('Communication Runs')"
                [AllowLoad]="IsSectionExpanded('communicationRuns')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('communicationRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Company Integration Runs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="companyIntegrationRuns"
        SectionName="Company Integration Runs"
        Icon="fa fa-briefcase"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('companyIntegrationRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Company Integration Runs','RunByUserID')"
                [NewRecordValues]="NewRecordValues('Company Integration Runs')"
                [AllowLoad]="IsSectionExpanded('companyIntegrationRuns')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('companyIntegrationRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Conversations Section -->
    <mj-collapsible-panel after-panels
        SectionKey="conversations"
        SectionName="Conversations"
        Icon="fa-regular fa-comments"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('conversations')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Conversations','UserID')"
                [NewRecordValues]="NewRecordValues('Conversations')"
                [AllowLoad]="IsSectionExpanded('conversations')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('conversations', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboard Categories Section -->
    <mj-collapsible-panel after-panels
        SectionKey="dashboardCategories"
        SectionName="Dashboard Categories"
        Icon="fa fa-tachometer-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('dashboardCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Dashboard Categories','UserID')"
                [NewRecordValues]="NewRecordValues('Dashboard Categories')"
                [AllowLoad]="IsSectionExpanded('dashboardCategories')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('dashboardCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Dashboards Section -->
    <mj-collapsible-panel after-panels
        SectionKey="dashboards"
        SectionName="Dashboards"
        Icon="fa-solid fa-table-columns"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('dashboards')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Dashboards','UserID')"
                [NewRecordValues]="NewRecordValues('Dashboards')"
                [AllowLoad]="IsSectionExpanded('dashboards')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('dashboards', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Data Contexts Section -->
    <mj-collapsible-panel after-panels
        SectionKey="dataContexts"
        SectionName="Data Contexts"
        Icon="fa fa-database"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('dataContexts')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Data Contexts','UserID')"
                [NewRecordValues]="NewRecordValues('Data Contexts')"
                [AllowLoad]="IsSectionExpanded('dataContexts')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('dataContexts', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Duplicate Runs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="duplicateRuns"
        SectionName="Duplicate Runs"
        Icon="fa fa-search"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('duplicateRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Duplicate Runs','StartedByUserID')"
                [NewRecordValues]="NewRecordValues('Duplicate Runs')"
                [AllowLoad]="IsSectionExpanded('duplicateRuns')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('duplicateRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Lists Section -->
    <mj-collapsible-panel after-panels
        SectionKey="lists"
        SectionName="Lists"
        Icon="fa fa-list-ul"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('lists')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Lists','UserID')"
                [NewRecordValues]="NewRecordValues('Lists')"
                [AllowLoad]="IsSectionExpanded('lists')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('lists', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Query Categories Section -->
    <mj-collapsible-panel after-panels
        SectionKey="queryCategories"
        SectionName="Query Categories"
        Icon="fa fa-folder"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('queryCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Query Categories','UserID')"
                [NewRecordValues]="NewRecordValues('Query Categories')"
                [AllowLoad]="IsSectionExpanded('queryCategories')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('queryCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Recommendation Runs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="recommendationRuns"
        SectionName="Recommendation Runs"
        Icon="fa fa-rocket"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('recommendationRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Recommendation Runs','RunByUserID')"
                [NewRecordValues]="NewRecordValues('Recommendation Runs')"
                [AllowLoad]="IsSectionExpanded('recommendationRuns')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('recommendationRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Record Change Replay Runs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="recordChangeReplayRuns"
        SectionName="Record Change Replay Runs"
        Icon="fa fa-sync"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('recordChangeReplayRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Record Change Replay Runs','UserID')"
                [NewRecordValues]="NewRecordValues('Record Change Replay Runs')"
                [AllowLoad]="IsSectionExpanded('recordChangeReplayRuns')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('recordChangeReplayRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Record Changes Section -->
    <mj-collapsible-panel after-panels
        SectionKey="recordChanges"
        SectionName="Record Changes"
        Icon="fa fa-history"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('recordChanges')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Record Changes','UserID')"
                [NewRecordValues]="NewRecordValues('Record Changes')"
                [AllowLoad]="IsSectionExpanded('recordChanges')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('recordChanges', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Record Merge Logs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="recordMergeLogs"
        SectionName="Record Merge Logs"
        Icon="fa fa-clone"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('recordMergeLogs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Record Merge Logs','InitiatedByUserID')"
                [NewRecordValues]="NewRecordValues('Record Merge Logs')"
                [AllowLoad]="IsSectionExpanded('recordMergeLogs')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('recordMergeLogs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Report Categories Section -->
    <mj-collapsible-panel after-panels
        SectionKey="reportCategories"
        SectionName="Report Categories"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('reportCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Report Categories','UserID')"
                [NewRecordValues]="NewRecordValues('Report Categories')"
                [AllowLoad]="IsSectionExpanded('reportCategories')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('reportCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Report Snapshots Section -->
    <mj-collapsible-panel after-panels
        SectionKey="reportSnapshots"
        SectionName="Report Snapshots"
        Icon="fa fa-camera"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('reportSnapshots')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Report Snapshots','UserID')"
                [NewRecordValues]="NewRecordValues('Report Snapshots')"
                [AllowLoad]="IsSectionExpanded('reportSnapshots')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('reportSnapshots', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Reports Section -->
    <mj-collapsible-panel after-panels
        SectionKey="reports"
        SectionName="Reports"
        Icon="fa-solid fa-chart-line"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('reports')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Reports','UserID')"
                [NewRecordValues]="NewRecordValues('Reports')"
                [AllowLoad]="IsSectionExpanded('reports')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('reports', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Template Categories Section -->
    <mj-collapsible-panel after-panels
        SectionKey="templateCategories"
        SectionName="Template Categories"
        Icon="fa fa-tags"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('templateCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Template Categories','UserID')"
                [NewRecordValues]="NewRecordValues('Template Categories')"
                [AllowLoad]="IsSectionExpanded('templateCategories')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('templateCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Templates Section -->
    <mj-collapsible-panel after-panels
        SectionKey="templates"
        SectionName="Templates"
        Icon="fa-regular fa-rectangle-list"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('templates')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Templates','UserID')"
                [NewRecordValues]="NewRecordValues('Templates')"
                [AllowLoad]="IsSectionExpanded('templates')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('templates', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Applications Section -->
    <mj-collapsible-panel after-panels
        SectionKey="userApplications"
        SectionName="User Applications"
        Icon="fa fa-th"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('userApplications')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('User Applications','UserID')"
                [NewRecordValues]="NewRecordValues('User Applications')"
                [AllowLoad]="IsSectionExpanded('userApplications')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('userApplications', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Favorites Section -->
    <mj-collapsible-panel after-panels
        SectionKey="userFavorites"
        SectionName="User Favorites"
        Icon="fa fa-star"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('userFavorites')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('User Favorites','UserID')"
                [NewRecordValues]="NewRecordValues('User Favorites')"
                [AllowLoad]="IsSectionExpanded('userFavorites')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('userFavorites', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Notifications Section -->
    <mj-collapsible-panel after-panels
        SectionKey="userNotifications"
        SectionName="User Notifications"
        Icon="fa fa-bell"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('userNotifications')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('User Notifications','UserID')"
                [NewRecordValues]="NewRecordValues('User Notifications')"
                [AllowLoad]="IsSectionExpanded('userNotifications')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('userNotifications', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Record Logs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="userRecordLogs"
        SectionName="User Record Logs"
        Icon="fa fa-history"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('userRecordLogs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('User Record Logs','UserID')"
                [NewRecordValues]="NewRecordValues('User Record Logs')"
                [AllowLoad]="IsSectionExpanded('userRecordLogs')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('userRecordLogs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Roles Section -->
    <mj-collapsible-panel after-panels
        SectionKey="roles"
        SectionName="Roles"
        Icon="fa fa-user-shield"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('roles')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('User Roles','UserID')"
                [NewRecordValues]="NewRecordValues('User Roles')"
                [AllowLoad]="IsSectionExpanded('roles')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('roles', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User View Categories Section -->
    <mj-collapsible-panel after-panels
        SectionKey="userViewCategories"
        SectionName="User View Categories"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('userViewCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('User View Categories','UserID')"
                [NewRecordValues]="NewRecordValues('User View Categories')"
                [AllowLoad]="IsSectionExpanded('userViewCategories')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('userViewCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User View Runs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="userViewRuns"
        SectionName="User View Runs"
        Icon="fa fa-eye"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('userViewRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('User View Runs','RunByUserID')"
                [NewRecordValues]="NewRecordValues('User View Runs')"
                [AllowLoad]="IsSectionExpanded('userViewRuns')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('userViewRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- User Views Section -->
    <mj-collapsible-panel after-panels
        SectionKey="userViews"
        SectionName="User Views"
        Icon="fa-solid fa-table-cells"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('userViews')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('User Views','UserID')"
                [NewRecordValues]="NewRecordValues('User Views')"
                [AllowLoad]="IsSectionExpanded('userViews')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('userViews', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Workspaces Section -->
    <mj-collapsible-panel after-panels
        SectionKey="workspaces"
        SectionName="Workspaces"
        Icon="fa fa-folder"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('workspaces')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Workspaces','UserID')"
                [NewRecordValues]="NewRecordValues('Workspaces')"
                [AllowLoad]="IsSectionExpanded('workspaces')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('workspaces', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agent Notes Section -->
    <mj-collapsible-panel after-panels
        SectionKey="aIAgentNotes"
        SectionName="AI Agent Notes"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('aIAgentNotes')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('AI Agent Notes','UserID')"
                [NewRecordValues]="NewRecordValues('AI Agent Notes')"
                [AllowLoad]="IsSectionExpanded('aIAgentNotes')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('aIAgentNotes', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agent Requests Section -->
    <mj-collapsible-panel after-panels
        SectionKey="aIAgentRequests"
        SectionName="AI Agent Requests"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('aIAgentRequests')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('AI Agent Requests','ResponseByUserID')"
                [NewRecordValues]="NewRecordValues('AI Agent Requests')"
                [AllowLoad]="IsSectionExpanded('aIAgentRequests')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('aIAgentRequests', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- List Categories Section -->
    <mj-collapsible-panel after-panels
        SectionKey="listCategories"
        SectionName="List Categories"
        Icon="fa fa-list"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('listCategories')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('List Categories','UserID')"
                [NewRecordValues]="NewRecordValues('List Categories')"
                [AllowLoad]="IsSectionExpanded('listCategories')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('listCategories', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: API Keys Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJAPIKeys"
        SectionName="MJ: API Keys"
        Icon="fa fa-key"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAPIKeys')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: API Keys','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: API Keys')"
                [AllowLoad]="IsSectionExpanded('mJAPIKeys')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJAPIKeys', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Artifact Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJArtifactPermissions"
        SectionName="MJ: Artifact Permissions"
        Icon="fa fa-key"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJArtifactPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Artifact Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Artifact Permissions')"
                [AllowLoad]="IsSectionExpanded('mJArtifactPermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJArtifactPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Artifact Uses Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJArtifactUses"
        SectionName="MJ: Artifact Uses"
        Icon="fa fa-eye"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJArtifactUses')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Artifact Uses','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Artifact Uses')"
                [AllowLoad]="IsSectionExpanded('mJArtifactUses')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJArtifactUses', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Artifact Versions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJArtifactVersions"
        SectionName="MJ: Artifact Versions"
        Icon="fa fa-history"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJArtifactVersions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Artifact Versions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Artifact Versions')"
                [AllowLoad]="IsSectionExpanded('mJArtifactVersions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJArtifactVersions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Conversation Detail Ratings Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJConversationDetailRatings"
        SectionName="MJ: Conversation Detail Ratings"
        Icon="fa fa-comment"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJConversationDetailRatings')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Conversation Detail Ratings','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Conversation Detail Ratings')"
                [AllowLoad]="IsSectionExpanded('mJConversationDetailRatings')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJConversationDetailRatings', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Dashboard Category Links Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJDashboardCategoryLinks"
        SectionName="MJ: Dashboard Category Links"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardCategoryLinks')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Category Links','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Category Links')"
                [AllowLoad]="IsSectionExpanded('mJDashboardCategoryLinks')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardCategoryLinks', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Dashboard Category Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJDashboardCategoryPermissions"
        SectionName="MJ: Dashboard Category Permissions"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardCategoryPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Category Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Category Permissions')"
                [AllowLoad]="IsSectionExpanded('mJDashboardCategoryPermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardCategoryPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Dashboard Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJDashboardPermissions"
        SectionName="MJ: Dashboard Permissions"
        Icon="fa fa-tachometer-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Permissions','SharedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Permissions')"
                [AllowLoad]="IsSectionExpanded('mJDashboardPermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Dashboard User Preferences Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJDashboardUserPreferences"
        SectionName="MJ: Dashboard User Preferences"
        Icon="fa fa-tachometer-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardUserPreferences')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard User Preferences','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard User Preferences')"
                [AllowLoad]="IsSectionExpanded('mJDashboardUserPreferences')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardUserPreferences', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Dashboard User States Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJDashboardUserStates"
        SectionName="MJ: Dashboard User States"
        Icon="fa fa-tachometer-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardUserStates')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard User States','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard User States')"
                [AllowLoad]="IsSectionExpanded('mJDashboardUserStates')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardUserStates', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: List Invitations Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJListInvitations"
        SectionName="MJ: List Invitations"
        Icon="fa fa-user-plus"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJListInvitations')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: List Invitations','CreatedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: List Invitations')"
                [AllowLoad]="IsSectionExpanded('mJListInvitations')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJListInvitations', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: List Shares Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJListShares"
        SectionName="MJ: List Shares"
        Icon="fa fa-share-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJListShares')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: List Shares','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: List Shares')"
                [AllowLoad]="IsSectionExpanded('mJListShares')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJListShares', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: MCP Tool Execution Logs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJMCPToolExecutionLogs"
        SectionName="MJ: MCP Tool Execution Logs"
        Icon="fa fa-history"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJMCPToolExecutionLogs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: MCP Tool Execution Logs','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: MCP Tool Execution Logs')"
                [AllowLoad]="IsSectionExpanded('mJMCPToolExecutionLogs')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJMCPToolExecutionLogs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: O Auth Authorization States Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJOAuthAuthorizationStates"
        SectionName="MJ: O Auth Authorization States"
        Icon="fa fa-table"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJOAuthAuthorizationStates')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: O Auth Authorization States','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: O Auth Authorization States')"
                [AllowLoad]="IsSectionExpanded('mJOAuthAuthorizationStates')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJOAuthAuthorizationStates', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Public Links Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJPublicLinks"
        SectionName="MJ: Public Links"
        Icon="fa fa-link"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJPublicLinks')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Public Links','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Public Links')"
                [AllowLoad]="IsSectionExpanded('mJPublicLinks')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJPublicLinks', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Report User States Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJReportUserStates"
        SectionName="MJ: Report User States"
        Icon="fa fa-chart-line"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJReportUserStates')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Report User States','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Report User States')"
                [AllowLoad]="IsSectionExpanded('mJReportUserStates')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJReportUserStates', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Scheduled Job Runs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJScheduledJobRuns"
        SectionName="MJ: Scheduled Job Runs"
        Icon="fa fa-tasks"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJScheduledJobRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Scheduled Job Runs','ExecutedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Scheduled Job Runs')"
                [AllowLoad]="IsSectionExpanded('mJScheduledJobRuns')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJScheduledJobRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Scheduled Jobs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJScheduledJobs"
        SectionName="MJ: Scheduled Jobs"
        Icon="fa fa-calendar"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJScheduledJobs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Scheduled Jobs','NotifyUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Scheduled Jobs')"
                [AllowLoad]="IsSectionExpanded('mJScheduledJobs')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJScheduledJobs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Test Run Feedbacks Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJTestRunFeedbacks"
        SectionName="MJ: Test Run Feedbacks"
        Icon="fa fa-clipboard-check"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJTestRunFeedbacks')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Test Run Feedbacks','ReviewerUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Test Run Feedbacks')"
                [AllowLoad]="IsSectionExpanded('mJTestRunFeedbacks')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJTestRunFeedbacks', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Test Suite Runs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJTestSuiteRuns"
        SectionName="MJ: Test Suite Runs"
        Icon="fa fa-flask"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJTestSuiteRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Test Suite Runs','RunByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Test Suite Runs')"
                [AllowLoad]="IsSectionExpanded('mJTestSuiteRuns')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJTestSuiteRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: User Notification Preferences Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJUserNotificationPreferences"
        SectionName="MJ: User Notification Preferences"
        Icon="fa fa-bell"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserNotificationPreferences')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User Notification Preferences','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User Notification Preferences')"
                [AllowLoad]="IsSectionExpanded('mJUserNotificationPreferences')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJUserNotificationPreferences', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: User Settings Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJUserSettings"
        SectionName="MJ: User Settings"
        Icon="fa fa-sliders-h"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJUserSettings')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: User Settings','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: User Settings')"
                [AllowLoad]="IsSectionExpanded('mJUserSettings')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJUserSettings', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Version Label Restores Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJVersionLabelRestores"
        SectionName="MJ: Version Label Restores"
        Icon="fa fa-undo"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJVersionLabelRestores')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Version Label Restores','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Version Label Restores')"
                [AllowLoad]="IsSectionExpanded('mJVersionLabelRestores')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJVersionLabelRestores', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Resource Links Section -->
    <mj-collapsible-panel after-panels
        SectionKey="resourceLinks"
        SectionName="Resource Links"
        Icon="fa fa-link"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('resourceLinks')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Resource Links','UserID')"
                [NewRecordValues]="NewRecordValues('Resource Links')"
                [AllowLoad]="IsSectionExpanded('resourceLinks')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('resourceLinks', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Scheduled Actions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="scheduledActions"
        SectionName="Scheduled Actions"
        Icon="fa fa-calendar"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('scheduledActions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Scheduled Actions','CreatedByUserID')"
                [NewRecordValues]="NewRecordValues('Scheduled Actions')"
                [AllowLoad]="IsSectionExpanded('scheduledActions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('scheduledActions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agent Requests Section -->
    <mj-collapsible-panel after-panels
        SectionKey="aIAgentRequests"
        SectionName="AI Agent Requests"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('aIAgentRequests')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('AI Agent Requests','RequestForUserID')"
                [NewRecordValues]="NewRecordValues('AI Agent Requests')"
                [AllowLoad]="IsSectionExpanded('aIAgentRequests')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('aIAgentRequests', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Conversation Details Section -->
    <mj-collapsible-panel after-panels
        SectionKey="conversationDetails"
        SectionName="Conversation Details"
        Icon="fa fa-comments"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('conversationDetails')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Conversation Details','UserID')"
                [NewRecordValues]="NewRecordValues('Conversation Details')"
                [AllowLoad]="IsSectionExpanded('conversationDetails')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('conversationDetails', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Access Control Rules Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJAccessControlRules"
        SectionName="MJ: Access Control Rules"
        Icon="fa fa-lock"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAccessControlRules')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Access Control Rules','GrantedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Access Control Rules')"
                [AllowLoad]="IsSectionExpanded('mJAccessControlRules')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJAccessControlRules', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: API Keys Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJAPIKeys"
        SectionName="MJ: API Keys"
        Icon="fa fa-key"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAPIKeys')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: API Keys','CreatedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: API Keys')"
                [AllowLoad]="IsSectionExpanded('mJAPIKeys')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJAPIKeys', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Artifact Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJArtifactPermissions"
        SectionName="MJ: Artifact Permissions"
        Icon="fa fa-key"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJArtifactPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Artifact Permissions','SharedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Artifact Permissions')"
                [AllowLoad]="IsSectionExpanded('mJArtifactPermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJArtifactPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Artifacts Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJArtifacts"
        SectionName="MJ: Artifacts"
        Icon="fa fa-file"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJArtifacts')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Artifacts','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Artifacts')"
                [AllowLoad]="IsSectionExpanded('mJArtifacts')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJArtifacts', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Collection Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJCollectionPermissions"
        SectionName="MJ: Collection Permissions"
        Icon="fa fa-folder"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJCollectionPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Collection Permissions','SharedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Collection Permissions')"
                [AllowLoad]="IsSectionExpanded('mJCollectionPermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJCollectionPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Dashboard Category Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJDashboardCategoryPermissions"
        SectionName="MJ: Dashboard Category Permissions"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardCategoryPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Category Permissions','SharedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Category Permissions')"
                [AllowLoad]="IsSectionExpanded('mJDashboardCategoryPermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardCategoryPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Dashboard Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJDashboardPermissions"
        SectionName="MJ: Dashboard Permissions"
        Icon="fa fa-tachometer-alt"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJDashboardPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Dashboard Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Dashboard Permissions')"
                [AllowLoad]="IsSectionExpanded('mJDashboardPermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJDashboardPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: MCP Server Connection Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJMCPServerConnectionPermissions"
        SectionName="MJ: MCP Server Connection Permissions"
        Icon="fa fa-server"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJMCPServerConnectionPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: MCP Server Connection Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: MCP Server Connection Permissions')"
                [AllowLoad]="IsSectionExpanded('mJMCPServerConnectionPermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJMCPServerConnectionPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Scheduled Jobs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJScheduledJobs"
        SectionName="MJ: Scheduled Jobs"
        Icon="fa fa-calendar"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJScheduledJobs')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Scheduled Jobs','OwnerUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Scheduled Jobs')"
                [AllowLoad]="IsSectionExpanded('mJScheduledJobs')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJScheduledJobs', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Test Runs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJTestRuns"
        SectionName="MJ: Test Runs"
        Icon="fa fa-flask"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJTestRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Test Runs','RunByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Test Runs')"
                [AllowLoad]="IsSectionExpanded('mJTestRuns')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJTestRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Version Labels Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJVersionLabels"
        SectionName="MJ: Version Labels"
        Icon="fa fa-tag"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJVersionLabels')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Version Labels','CreatedByUserID')"
                [NewRecordValues]="NewRecordValues('MJ: Version Labels')"
                [AllowLoad]="IsSectionExpanded('mJVersionLabels')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJVersionLabels', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- Resource Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="resourcePermissions"
        SectionName="Resource Permissions"
        Icon="fa fa-lock"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('resourcePermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('Resource Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('Resource Permissions')"
                [AllowLoad]="IsSectionExpanded('resourcePermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('resourcePermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: AI Agent Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJAIAgentPermissions"
        SectionName="MJ: AI Agent Permissions"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAIAgentPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: AI Agent Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: AI Agent Permissions')"
                [AllowLoad]="IsSectionExpanded('mJAIAgentPermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJAIAgentPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: AI Agent Runs Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJAIAgentRuns"
        SectionName="MJ: AI Agent Runs"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAIAgentRuns')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: AI Agent Runs','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: AI Agent Runs')"
                [AllowLoad]="IsSectionExpanded('mJAIAgentRuns')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJAIAgentRuns', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Collection Permissions Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJCollectionPermissions"
        SectionName="MJ: Collection Permissions"
        Icon="fa fa-folder"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJCollectionPermissions')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Collection Permissions','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Collection Permissions')"
                [AllowLoad]="IsSectionExpanded('mJCollectionPermissions')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJCollectionPermissions', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Collections Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJCollections"
        SectionName="MJ: Collections"
        Icon="fa fa-folder-open"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJCollections')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Collections','OwnerID')"
                [NewRecordValues]="NewRecordValues('MJ: Collections')"
                [AllowLoad]="IsSectionExpanded('mJCollections')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJCollections', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: AI Agent Examples Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJAIAgentExamples"
        SectionName="MJ: AI Agent Examples"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJAIAgentExamples')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: AI Agent Examples','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: AI Agent Examples')"
                [AllowLoad]="IsSectionExpanded('mJAIAgentExamples')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJAIAgentExamples', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- MJ: Tasks Section -->
    <mj-collapsible-panel after-panels
        SectionKey="mJTasks"
        SectionName="MJ: Tasks"
        Icon="fa fa-tasks"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('mJTasks')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('MJ: Tasks','UserID')"
                [NewRecordValues]="NewRecordValues('MJ: Tasks')"
                [AllowLoad]="IsSectionExpanded('mJTasks')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('mJTasks', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>

    <!-- AI Agents Section -->
    <mj-collapsible-panel after-panels
        SectionKey="aIAgents"
        SectionName="AI Agents"
        Icon="fa fa-robot"
        Variant="related-entity"
        [Form]="this"
        [FormContext]="formContext"
        [BadgeCount]="GetSectionRowCount('aIAgents')"
        [DefaultExpanded]="false">
        @if (record.IsSaved) {
        <div>
            <mj-explorer-entity-data-grid
                [Params]="BuildRelationshipViewParamsByEntityName('AI Agents','OwnerUserID')"
                [NewRecordValues]="NewRecordValues('AI Agents')"
                [AllowLoad]="IsSectionExpanded('aIAgents')"
                [ShowToolbar]="false"
                (AfterDataLoad)="SetSectionRowCount('aIAgents', $event.totalRowCount)"
                >
            </mj-explorer-entity-data-grid>
        </div>
        }
    </mj-collapsible-panel>
</mj-record-form-container>
        