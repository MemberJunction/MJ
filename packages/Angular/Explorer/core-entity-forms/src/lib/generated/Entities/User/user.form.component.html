<div class="record-form-container" mjFillContainer [bottomMargin]="20" [rightMargin]="5">
    <form *ngIf="record" class="record-form"  #form="ngForm" mjFillContainer>
        <mj-form-toolbar [form]="this"></mj-form-toolbar>

                <mj-tabstrip (TabSelected)="onTabSelect($event.index)" mjFillContainer>
                    
                    <mj-tab Name="Details">
                        Details
                    </mj-tab>
                    <mj-tab-body>
                        <mj-form-section 
                            Entity="Users" 
                            Section="details" 
                            [record]="record" 
                            [EditMode]="this.EditMode">
                        </mj-form-section>
                    </mj-tab-body>
                    <mj-tab Name="User Applications" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 26}">
                        User Applications
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('User Applications')"  
                            [NewRecordValues]="NewRecordValues('User Applications')"
                            [AllowLoad]="IsCurrentTab('User Applications')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Roles" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 33}">
                        Roles
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('User Roles')"  
                            [NewRecordValues]="NewRecordValues('User Roles')"
                            [AllowLoad]="IsCurrentTab('Roles')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Workspaces" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 71}">
                        Workspaces
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Workspaces')"  
                            [NewRecordValues]="NewRecordValues('Workspaces')"
                            [AllowLoad]="IsCurrentTab('Workspaces')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Reports" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 72}">
                        <span class="fa-solid fa-chart-line tab-header-icon"></span>Reports
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Reports')"  
                            [NewRecordValues]="NewRecordValues('Reports')"
                            [AllowLoad]="IsCurrentTab('Reports')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Report Snapshots" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 73}">
                        Report Snapshots
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Report Snapshots')"  
                            [NewRecordValues]="NewRecordValues('Report Snapshots')"
                            [AllowLoad]="IsCurrentTab('Report Snapshots')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Record Changes" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 74}">
                        Record Changes
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Record Changes')"  
                            [NewRecordValues]="NewRecordValues('Record Changes')"
                            [AllowLoad]="IsCurrentTab('Record Changes')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Dashboards" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 75}">
                        <span class="fa-solid fa-table-columns tab-header-icon"></span>Dashboards
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Dashboards')"  
                            [NewRecordValues]="NewRecordValues('Dashboards')"
                            [AllowLoad]="IsCurrentTab('Dashboards')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="User View Runs" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 76}">
                        User View Runs
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('User View Runs')"  
                            [NewRecordValues]="NewRecordValues('User View Runs')"
                            [AllowLoad]="IsCurrentTab('User View Runs')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Audit Logs" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 77}">
                        <span class="fa-solid fa-fingerprint tab-header-icon"></span>Audit Logs
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Audit Logs')"  
                            [NewRecordValues]="NewRecordValues('Audit Logs')"
                            [AllowLoad]="IsCurrentTab('Audit Logs')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Lists" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 78}">
                        Lists
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Lists')"  
                            [NewRecordValues]="NewRecordValues('Lists')"
                            [AllowLoad]="IsCurrentTab('Lists')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="User Favorites" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 79}">
                        User Favorites
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('User Favorites')"  
                            [NewRecordValues]="NewRecordValues('User Favorites')"
                            [AllowLoad]="IsCurrentTab('User Favorites')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="User Record Logs" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 80}">
                        User Record Logs
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('User Record Logs')"  
                            [NewRecordValues]="NewRecordValues('User Record Logs')"
                            [AllowLoad]="IsCurrentTab('User Record Logs')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="User Views" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 81}">
                        User Views
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('User Views')"  
                            [NewRecordValues]="NewRecordValues('User Views')"
                            [AllowLoad]="IsCurrentTab('User Views')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Company Integration Runs" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 82}">
                        Company Integration Runs
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Company Integration Runs')"  
                            [NewRecordValues]="NewRecordValues('Company Integration Runs')"
                            [AllowLoad]="IsCurrentTab('Company Integration Runs')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="User Notifications" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 83}">
                        User Notifications
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('User Notifications')"  
                            [NewRecordValues]="NewRecordValues('User Notifications')"
                            [AllowLoad]="IsCurrentTab('User Notifications')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Conversations" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 84}">
                        <span class="fa-regular fa-comments tab-header-icon"></span>Conversations
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Conversations')"  
                            [NewRecordValues]="NewRecordValues('Conversations')"
                            [AllowLoad]="IsCurrentTab('Conversations')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Record Merge Logs" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 127}">
                        Record Merge Logs
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Record Merge Logs')"  
                            [NewRecordValues]="NewRecordValues('Record Merge Logs')"
                            [AllowLoad]="IsCurrentTab('Record Merge Logs')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Data Contexts" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 169}">
                        Data Contexts
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Data Contexts')"  
                            [NewRecordValues]="NewRecordValues('Data Contexts')"
                            [AllowLoad]="IsCurrentTab('Data Contexts')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Report Categories" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 189}">
                        Report Categories
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Report Categories')"  
                            [NewRecordValues]="NewRecordValues('Report Categories')"
                            [AllowLoad]="IsCurrentTab('Report Categories')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="User View Categories" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 190}">
                        User View Categories
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('User View Categories')"  
                            [NewRecordValues]="NewRecordValues('User View Categories')"
                            [AllowLoad]="IsCurrentTab('User View Categories')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Dashboard Categories" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 191}">
                        Dashboard Categories
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Dashboard Categories')"  
                            [NewRecordValues]="NewRecordValues('Dashboard Categories')"
                            [AllowLoad]="IsCurrentTab('Dashboard Categories')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Query Categories" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 192}">
                        Query Categories
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Query Categories')"  
                            [NewRecordValues]="NewRecordValues('Query Categories')"
                            [AllowLoad]="IsCurrentTab('Query Categories')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Duplicate Runs" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 197}">
                        Duplicate Runs
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Duplicate Runs')"  
                            [NewRecordValues]="NewRecordValues('Duplicate Runs')"
                            [AllowLoad]="IsCurrentTab('Duplicate Runs')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Action Execution Logs" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 242}">
                        Action Execution Logs
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Action Execution Logs')"  
                            [NewRecordValues]="NewRecordValues('Action Execution Logs')"
                            [AllowLoad]="IsCurrentTab('Action Execution Logs')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Actions" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 243}">
                        <span class="fa-solid fa-bolt tab-header-icon"></span>Actions
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Actions')"  
                            [NewRecordValues]="NewRecordValues('Actions')"
                            [AllowLoad]="IsCurrentTab('Actions')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Communication Runs" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 262}">
                        Communication Runs
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Communication Runs')"  
                            [NewRecordValues]="NewRecordValues('Communication Runs')"
                            [AllowLoad]="IsCurrentTab('Communication Runs')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Templates" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 276}">
                        <span class="fa-regular fa-rectangle-list tab-header-icon"></span>Templates
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Templates')"  
                            [NewRecordValues]="NewRecordValues('Templates')"
                            [AllowLoad]="IsCurrentTab('Templates')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Template Categories" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 277}">
                        Template Categories
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Template Categories')"  
                            [NewRecordValues]="NewRecordValues('Template Categories')"
                            [AllowLoad]="IsCurrentTab('Template Categories')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Recommendation Runs" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 286}">
                        Recommendation Runs
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Recommendation Runs')"  
                            [NewRecordValues]="NewRecordValues('Recommendation Runs')"
                            [AllowLoad]="IsCurrentTab('Recommendation Runs')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>

                    <mj-tab Name="Record Change Replay Runs" 
                        [Visible]="record.IsSaved" 
                        [Props]="{EntityRelationshipID: 294}">
                        Record Change Replay Runs
                    </mj-tab>
                    <mj-tab-body>
                        <mj-user-view-grid 
                            [Params]="BuildRelationshipViewParamsByEntityName('Record Change Replay Runs')"  
                            [NewRecordValues]="NewRecordValues('Record Change Replay Runs')"
                            [AllowLoad]="IsCurrentTab('Record Change Replay Runs')"  
                            [EditMode]="GridEditMode()"  
                            [BottomMargin]="GridBottomMargin">
                        </mj-user-view-grid>                    
                    </mj-tab-body>
