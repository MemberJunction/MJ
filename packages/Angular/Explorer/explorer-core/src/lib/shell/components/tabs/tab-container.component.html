<div class="tab-container">

  <!-- Single-Resource Mode: Direct component rendering without Golden Layout -->
  <!-- This avoids the 20px height issue when GL header is hidden -->
  @if (useSingleResourceMode) {
    <div #directContentContainer class="direct-content-container"></div>
  } @else {
    <!-- Multi-Tab Mode: Golden Layout Container -->
    <div #glContainer class="gl-container"></div>
  }

  <!-- Context Menu (only relevant in multi-tab mode) -->
  @if (contextMenuVisible) {
    <div
      class="context-menu"
      [style.left.px]="contextMenuX"
      [style.top.px]="contextMenuY">
      <div class="context-menu-item" (click)="onContextPin()">
        <i class="fa-solid fa-thumbtack"></i>
        <span>{{ isContextTabPinned ? 'Unpin Tab' : 'Pin Tab' }}</span>
      </div>
      <div class="context-menu-divider"></div>
      <div class="context-menu-item" (click)="onContextClose()">
        <i class="fa-solid fa-xmark"></i>
        <span>Close Tab</span>
      </div>
      <div class="context-menu-item" (click)="onContextCloseOthers()">
        <i class="fa-solid fa-layer-group"></i>
        <span>Close Others</span>
      </div>
      <div class="context-menu-item" (click)="onContextCloseToRight()">
        <i class="fa-solid fa-angles-right"></i>
        <span>Close to Right</span>
      </div>
    </div>
  }
</div>
