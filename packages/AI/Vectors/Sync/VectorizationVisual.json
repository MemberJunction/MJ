{"schema":{"schemaVersion":2,"sequences":{"com.tldraw.store":4,"com.tldraw.asset":1,"com.tldraw.camera":1,"com.tldraw.document":2,"com.tldraw.instance":25,"com.tldraw.instance_page_state":5,"com.tldraw.page":1,"com.tldraw.instance_presence":5,"com.tldraw.pointer":1,"com.tldraw.shape":4,"com.tldraw.asset.bookmark":2,"com.tldraw.asset.image":5,"com.tldraw.asset.video":5,"com.tldraw.shape.group":0,"com.tldraw.shape.text":2,"com.tldraw.shape.bookmark":2,"com.tldraw.shape.draw":2,"com.tldraw.shape.geo":9,"com.tldraw.shape.note":8,"com.tldraw.shape.line":5,"com.tldraw.shape.frame":0,"com.tldraw.shape.arrow":5,"com.tldraw.shape.highlight":1,"com.tldraw.shape.embed":4,"com.tldraw.shape.image":4,"com.tldraw.shape.video":2,"com.tldraw.binding.arrow":0}},"shapes":[{"x":1144.8692894334217,"y":2254.2636200001834,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:RR2mbekAjcH0blzr23VlO","type":"geo","props":{"w":970.0368625823803,"h":270.2889090786816,"geo":"rectangle","color":"black","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"a1","typeName":"shape"},{"x":1467.7143752774032,"y":2270.506953310228,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:up3piy-6EX-eGX809SJVz","type":"text","props":{"color":"black","size":"l","w":307.91668701171875,"text":"Entity Document","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"page:page","index":"a29f2","typeName":"shape"},{"x":1235.9082405380473,"y":2342.5839957312096,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:XWinOsxUU1BpYHl0KVYT_","type":"text","props":{"color":"black","size":"l","w":923.1034149124712,"text":"The Entity Document is a record that holds information regarding which template, vector database and embedding model to use for the given entity","font":"draw","textAlign":"middle","autoSize":false,"scale":0.8340774038203406},"parentId":"page:page","index":"a32s5","typeName":"shape"},{"x":1138.8628692316734,"y":2835.38477451935,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:R8HpHFzCLBNIog9IA_Kwq","type":"geo","props":{"w":982.0497029858775,"h":288.3081696839272,"geo":"rectangle","color":"black","labelColor":"black","fill":"none","dash":"draw","size":"l","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"a41pT","typeName":"shape"},{"x":1604.360434867181,"y":2562.092655339793,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:ImfXQ1UHekZD-0akWdl39","type":"arrow","props":{"dash":"draw","size":"l","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":-25.527285857431252},"end":{"x":3.0032101008741847,"y":271.7905141291194},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"a4eCQ","typeName":"shape"},{"x":1401.2969793186412,"y":2856.132922980705,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:AeK1Vn_62Hht0e8AZqYmi","type":"text","props":{"color":"black","size":"l","w":412.1333312988281,"text":"EntityVectorizer Class","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"page:page","index":"a52yx","typeName":"shape"},{"x":1166.245329147138,"y":2944.727620956496,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:er8ZXHLbTbYabzBvQ4qJe","type":"text","props":{"color":"black","size":"m","w":917.9478849776041,"text":"The vectorizeEntity function is called with the ID of the Entity Document record to use, along with additional parameters such as listID, listBatchCountSize, startingOffset, etc. These mostly focus on altering the behavior behind fetching and processing the recordsto vectorize","font":"draw","textAlign":"middle","autoSize":false,"scale":0.9921773801160388},"parentId":"page:page","index":"a61GA","typeName":"shape"},{"x":1117.8403985255536,"y":3479.5733411568744,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:rdKsT-IfR2SdwB9HasxRL","type":"geo","props":{"w":1028.599459549428,"h":336.3595312979155,"geo":"rectangle","color":"black","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"a74dg","typeName":"shape"},{"x":1601.357224766307,"y":3836.9553431609106,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:xxEz4VWp-_qMX33MGuWiO","type":"arrow","props":{"dash":"draw","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":4.50481515131105,"y":-18.01926060524511},"end":{"x":-1.5016050504373197,"y":282.30174948217837},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"a7PnY","typeName":"shape"},{"x":1593.8491995141212,"y":3147.718625010271,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:KuHGj6LLxD2SYNKsVReZE","type":"arrow","props":{"dash":"draw","size":"l","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":13.514445453934059,"y":-22.524075756556613},"end":{"x":1.501605050436865,"y":328.8515060457298},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"a7aFS","typeName":"shape"},{"x":1540.8010480010075,"y":3553.4696472348596,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:N_ZFnLWakr-VuHsNC4Du3","type":"text","props":{"color":"black","size":"m","w":20,"text":"","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"page:page","index":"a841L","typeName":"shape"},{"x":1384.47679752171,"y":3498.819884567794,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:zWsgK-OfQ6VU5eEFHowMw","type":"text","props":{"color":"black","size":"l","w":454.7833251953125,"text":"Vectorizer Batch Worker","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"page:page","index":"a9ARx","typeName":"shape"},{"x":1204.4792533523332,"y":3588.9161875940204,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:dVyhjWyg4XnU4qyUiF91r","type":"text","props":{"color":"black","size":"l","w":841.8073044419348,"text":"Each batch of records go through the vectorizer batch worker, which handles using the specified embedding models to generate vectors","font":"draw","textAlign":"middle","autoSize":false,"scale":1},"parentId":"page:page","index":"aABGF","typeName":"shape"},{"x":1185.412625795224,"y":4123.761907794401,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:VRCHnwYVf2f0tjswmXbpp","type":"geo","props":{"w":848.4068534969738,"h":298.8194050369866,"geo":"rectangle","color":"black","labelColor":"black","fill":"none","dash":"draw","size":"l","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aB2G3","typeName":"shape"},{"x":1330.2338298167438,"y":4141.506846154883,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:SqQDFUoKauCKSI_1OTBDT","type":"text","props":{"color":"black","size":"l","w":545.25,"text":"VectorUpserter Batch Worker","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"page:page","index":"aCAoz","typeName":"shape"},{"x":1193.1578316568834,"y":4261.635250189852,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:1HkbuSq4KSxXFcYpAwF1X","type":"text","props":{"color":"black","size":"m","w":700.7751973351865,"text":"Each vector is then upserted into the specified vector database","font":"draw","textAlign":"middle","autoSize":false,"scale":1.1853833308295016},"parentId":"page:page","index":"aD04H","typeName":"shape"},{"x":1114.8371884246794,"y":4755.937634028431,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:-tplniQTW1r5owNgUHl_G","type":"geo","props":{"w":983.5513080363144,"h":321.3434807935437,"geo":"rectangle","color":"black","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aE6gY","typeName":"shape"},{"x":1587.8427793123728,"y":4458.61983404188,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:A6TLJhNo6FDagTTnhPz6E","type":"arrow","props":{"dash":"draw","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":9.009630302623009,"y":-34.536916160053806},"end":{"x":7.508025252185689,"y":295.8161949361129},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"aF4bk","typeName":"shape"},{"x":1356.3043329191064,"y":4772.180967338474,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:rzIkfYqayLUQpC81Keg6B","type":"text","props":{"color":"black","size":"l","w":469.08331298828125,"text":"Entity Record Documents","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"page:page","index":"aGA31","typeName":"shape"},{"x":1151.370093187099,"y":4878.79492591951,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:70K1xHHP-jBKGT3IDMQAY","type":"text","props":{"color":"black","size":"m","w":669.6030526934562,"text":"For each record, an Entity Record Document record is created in the database that links that record to a vector in the vector database","font":"draw","textAlign":"middle","autoSize":false,"scale":1.3475937453053122},"parentId":"page:page","index":"aH3N5","typeName":"shape"}],"rootShapeIds":["shape:RR2mbekAjcH0blzr23VlO","shape:up3piy-6EX-eGX809SJVz","shape:XWinOsxUU1BpYHl0KVYT_","shape:R8HpHFzCLBNIog9IA_Kwq","shape:ImfXQ1UHekZD-0akWdl39","shape:AeK1Vn_62Hht0e8AZqYmi","shape:er8ZXHLbTbYabzBvQ4qJe","shape:rdKsT-IfR2SdwB9HasxRL","shape:xxEz4VWp-_qMX33MGuWiO","shape:KuHGj6LLxD2SYNKsVReZE","shape:N_ZFnLWakr-VuHsNC4Du3","shape:zWsgK-OfQ6VU5eEFHowMw","shape:dVyhjWyg4XnU4qyUiF91r","shape:VRCHnwYVf2f0tjswmXbpp","shape:SqQDFUoKauCKSI_1OTBDT","shape:1HkbuSq4KSxXFcYpAwF1X","shape:-tplniQTW1r5owNgUHl_G","shape:A6TLJhNo6FDagTTnhPz6E","shape:rzIkfYqayLUQpC81Keg6B","shape:70K1xHHP-jBKGT3IDMQAY"],"bindings":[{"meta":{},"id":"binding:1s_UNmdVWx-JZKUdjImGH","type":"arrow","fromId":"shape:ImfXQ1UHekZD-0akWdl39","toId":"shape:R8HpHFzCLBNIog9IA_Kwq","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.4770642201834862,"y":-1.5772960973842833e-15},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:3T5hDHFKd9WzDYW5SK8vW","type":"arrow","fromId":"shape:KuHGj6LLxD2SYNKsVReZE","toId":"shape:R8HpHFzCLBNIog9IA_Kwq","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.46941896024464824,"y":0.9843749999999996},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:v5NxrThC2HgBiLH5iFzRN","type":"arrow","fromId":"shape:KuHGj6LLxD2SYNKsVReZE","toId":"shape:rdKsT-IfR2SdwB9HasxRL","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.46423357664233567,"y":0.0044642857142862995},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:S-XQiZLflphTfg56wMCkf","type":"arrow","fromId":"shape:xxEz4VWp-_qMX33MGuWiO","toId":"shape:rdKsT-IfR2SdwB9HasxRL","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.47153284671532847,"y":0.9955357142857177},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:Tekr_iygvvGB6avRe1UDT","type":"arrow","fromId":"shape:A6TLJhNo6FDagTTnhPz6E","toId":"shape:VRCHnwYVf2f0tjswmXbpp","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.4796460176991156,"y":0.9798994974874405},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:lKohHzw7FKyWsEzq5U-vW","type":"arrow","fromId":"shape:A6TLJhNo6FDagTTnhPz6E","toId":"shape:-tplniQTW1r5owNgUHl_G","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.4824427480916035,"y":0.03271028037382764},"terminal":"end"},"typeName":"binding"}],"assets":[]}