{
  "name": "ReportWithDateVariable",
  "type": "report",
  "description": "Report using date variables - BROKEN: passes nullable variable to required parameter",
  "namespace": "reports/test",
  "version": "1.0.0",
  "registry": "Test",
  "dataRequirements": {
    "queries": [
      {
        "name": "Sales Report",
        "categoryPath": "Reports/Sales",
        "description": "Sales data by date",
        "parameters": [
          {
            "name": "ReportDate",
            "isRequired": true,
            "type": "date",
            "sampleValue": "2024-01-01",
            "description": "Required date for the report"
          }
        ],
        "fields": [
          {
            "name": "SaleDate",
            "type": "date"
          },
          {
            "name": "Amount",
            "type": "money"
          }
        ]
      }
    ]
  },
  "code": "function ReportWithDateVariable({ utilities, reportDate = null }) {\n  const [data, setData] = React.useState([]);\n\n  React.useEffect(() => {\n    async function loadData() {\n      const result = await utilities.rq.RunQuery({\n        QueryName: 'Sales Report',\n        CategoryPath: 'Reports/Sales',\n        Parameters: {\n          ReportDate: reportDate\n        }\n      });\n      if (result?.Success) {\n        setData(result.Results || []);\n      }\n    }\n    loadData();\n  }, [reportDate]);\n\n  return (\n    <div>\n      <h1>Sales Report</h1>\n      <div>Records: {data.length}</div>\n    </div>\n  );\n}"
}
