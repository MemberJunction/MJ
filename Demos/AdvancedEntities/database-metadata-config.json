{
  "$schema": "../../config/database-metadata-config.schema.json",
  "description": "Database metadata configuration for the AdvancedEntities demo schema. Defines the virtual entity (vwCustomerOrderSummary) and IS-A type relationships (Product hierarchy). Copy/merge this into your main config/database-metadata-config.json before running CodeGen.",
  "version": "1.1",
  "VirtualEntities": [
    {
      "ViewName": "vwCustomerOrderSummary",
      "SchemaName": "AdvancedEntities",
      "EntityName": "Customer Order Summaries",
      "Description": "Read-only virtual entity aggregating Customer and Order data into a per-customer summary. Includes lifetime spend, order counts, average order value, and recency metrics. Backed by a SQL view with LEFT JOIN (customers with zero orders still appear).",
      "PrimaryKey": ["CustomerID"],
      "ForeignKeys": [
        {
          "FieldName": "CustomerID",
          "SchemaName": "AdvancedEntities",
          "RelatedTable": "Customer",
          "RelatedField": "ID",
          "Description": "Soft foreign key to Customer table â€” each summary row corresponds to exactly one customer"
        }
      ]
    },
    {
      "ViewName": "vwProductCatalogOverview",
      "SchemaName": "AdvancedEntities",
      "EntityName": "Product Catalog Overview",
      "Description": "Read-only virtual entity providing a flattened view of the entire product catalog. Joins Product with its IS-A subtypes (Meeting, Webinar, Publication) so each row shows a single product with its specialization columns. Includes a computed ProductType discriminator column.",
      "PrimaryKey": ["ProductID"]
    },
    {
      "ViewName": "vwOrderDetailsWithCustomer",
      "SchemaName": "AdvancedEntities",
      "EntityName": "Order Details With Customers",
      "Description": "Read-only virtual entity denormalizing every order with full customer details inlined. Includes window-function computed columns: customer order sequence number, cumulative running spend total, and days between signup and order.",
      "PrimaryKey": ["OrderID"]
    },
    {
      "ViewName": "vwCustomerOrdersByStatus",
      "SchemaName": "AdvancedEntities",
      "EntityName": "Customer Orders By Status",
      "Description": "Read-only virtual entity showing order counts and spend totals grouped by customer and order status.",
      "PrimaryKey": ["CustomerID", "OrderStatus"]
    }
  ],
  "ISARelationships": [
    {
      "ChildEntity": "Meetings",
      "ParentEntity": "Products",
      "SchemaName": "AdvancedEntities"
    },
    {
      "ChildEntity": "Webinars",
      "ParentEntity": "Meetings",
      "SchemaName": "AdvancedEntities"
    },
    {
      "ChildEntity": "Publications",
      "ParentEntity": "Products",
      "SchemaName": "AdvancedEntities"
    }
  ],
  "AdvancedEntities": []
}
