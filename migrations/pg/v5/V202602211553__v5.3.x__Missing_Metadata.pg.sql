-- ============================================================================
-- MemberJunction v5.0 PostgreSQL Baseline
-- Deterministically converted from SQL Server using TypeScript conversion pipeline
-- ============================================================================

-- Extensions
CREATE EXTENSION IF NOT EXISTS "pgcrypto";
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- Schema
CREATE SCHEMA IF NOT EXISTS __mj;
SET search_path TO __mj, public;

-- Ensure backslashes in string literals are treated literally (not as escape sequences)
SET standard_conforming_strings = on;

-- Implicit INTEGER -> BOOLEAN cast (SQL Server BIT columns accept 0/1 in INSERTs)
-- PostgreSQL has a built-in explicit-only INTEGER->bool cast. We upgrade it to implicit
-- so INSERT VALUES with 0/1 for BOOLEAN columns work like SQL Server BIT.
UPDATE pg_cast SET castcontext = 'i'
WHERE castsource = 'integer'::regtype AND casttarget = 'boolean'::regtype;


-- ===================== DDL: Tables, PKs, Indexes =====================

-- TODO: Review conditional DDL
-- IF NOT EXISTS (
--     SELECT 1
--     FROM sys.indexes
--     WHERE name = 'IDX_AUTO_MJ_FKEY_Entity_ParentID' 
--     AND object_id = OBJECT_ID('"__mj"."Entity"')
-- )


CREATE INDEX IF NOT EXISTS IDX_AUTO_MJ_FKEY_Entity_ParentID ON __mj."Entity" ("ParentID");

/* Base View Permissions SQL for MJ: Entities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entities
-- Item: Permissions for vwEntities
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;


-- ===================== Helper Functions (fn*) =====================


-- ===================== Views =====================

CREATE OR REPLACE VIEW __mj."vwActionAuthorizations"
AS SELECT
    a.*,
    "MJAction_ActionID"."Name" AS "Action",
    "MJAuthorization_AuthorizationID"."Name" AS "Authorization"
FROM
    __mj."ActionAuthorization" AS a
INNER JOIN
    __mj."Action" AS "MJAction_ActionID"
  ON
    a."ActionID" = "MJAction_ActionID"."ID"
INNER JOIN
    __mj."Authorization" AS "MJAuthorization_AuthorizationID"
  ON
    a."AuthorizationID" = "MJAuthorization_AuthorizationID"."ID";

CREATE OR REPLACE VIEW __mj."vwActionContexts"
AS SELECT
    a.*,
    "MJAction_ActionID"."Name" AS "Action",
    "MJActionContextType_ContextTypeID"."Name" AS "ContextType"
FROM
    __mj."ActionContext" AS a
INNER JOIN
    __mj."Action" AS "MJAction_ActionID"
  ON
    a."ActionID" = "MJAction_ActionID"."ID"
LEFT OUTER JOIN
    __mj."ActionContextType" AS "MJActionContextType_ContextTypeID"
  ON
    a."ContextTypeID" = "MJActionContextType_ContextTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwActionCategories"
AS SELECT
    a.*,
    "MJActionCategory_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."ActionCategory" AS a
LEFT OUTER JOIN
    __mj."ActionCategory" AS "MJActionCategory_ParentID"
  ON
    a."ParentID" = "MJActionCategory_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnActionCategoryParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAccessControlRules"
AS SELECT
    a.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJUser_GrantedByUserID"."Name" AS "GrantedByUser"
FROM
    __mj."AccessControlRule" AS a
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    a."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_GrantedByUserID"
  ON
    a."GrantedByUserID" = "MJUser_GrantedByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwActionExecutionLogs"
AS SELECT
    a.*,
    "MJAction_ActionID"."Name" AS "Action",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."ActionExecutionLog" AS a
INNER JOIN
    __mj."Action" AS "MJAction_ActionID"
  ON
    a."ActionID" = "MJAction_ActionID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwActionResultCodes"
AS SELECT
    a.*,
    "MJAction_ActionID"."Name" AS "Action"
FROM
    __mj."ActionResultCode" AS a
INNER JOIN
    __mj."Action" AS "MJAction_ActionID"
  ON
    a."ActionID" = "MJAction_ActionID"."ID";

CREATE OR REPLACE VIEW __mj."vwActionParams"
AS SELECT
    a.*,
    "MJAction_ActionID"."Name" AS "Action"
FROM
    __mj."ActionParam" AS a
INNER JOIN
    __mj."Action" AS "MJAction_ActionID"
  ON
    a."ActionID" = "MJAction_ActionID"."ID";

CREATE OR REPLACE VIEW __mj."vwActionLibraries"
AS SELECT
    a.*,
    "MJAction_ActionID"."Name" AS "Action",
    "MJLibrary_LibraryID"."Name" AS "Library"
FROM
    __mj."ActionLibrary" AS a
INNER JOIN
    __mj."Action" AS "MJAction_ActionID"
  ON
    a."ActionID" = "MJAction_ActionID"."ID"
INNER JOIN
    __mj."Library" AS "MJLibrary_LibraryID"
  ON
    a."LibraryID" = "MJLibrary_LibraryID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentConfigurations"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAIConfiguration_AIConfigurationID"."Name" AS "AIConfiguration"
FROM
    __mj."AIAgentConfiguration" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."AIConfiguration" AS "MJAIConfiguration_AIConfigurationID"
  ON
    a."AIConfigurationID" = "MJAIConfiguration_AIConfigurationID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentArtifactTypes"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJArtifactType_ArtifactTypeID"."Name" AS "ArtifactType"
FROM
    __mj."AIAgentArtifactType" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
INNER JOIN
    __mj."ArtifactType" AS "MJArtifactType_ArtifactTypeID"
  ON
    a."ArtifactTypeID" = "MJArtifactType_ArtifactTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentActions"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAction_ActionID"."Name" AS "Action",
    "MJAIPrompt_CompactPromptID"."Name" AS "CompactPrompt"
FROM
    __mj."AIAgentAction" AS a
LEFT OUTER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."Action" AS "MJAction_ActionID"
  ON
    a."ActionID" = "MJAction_ActionID"."ID"
LEFT OUTER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_CompactPromptID"
  ON
    a."CompactPromptID" = "MJAIPrompt_CompactPromptID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIActions"
AS SELECT
    a.*,
    "MJAIModel_DefaultModelID"."Name" AS "DefaultModel"
FROM
    __mj."AIAction" AS a
LEFT OUTER JOIN
    __mj."AIModel" AS "MJAIModel_DefaultModelID"
  ON
    a."DefaultModelID" = "MJAIModel_DefaultModelID"."ID";

CREATE OR REPLACE VIEW __mj."vwActions"
AS SELECT
    a.*,
    "MJActionCategory_CategoryID"."Name" AS "Category",
    "MJUser_CodeApprovedByUserID"."Name" AS "CodeApprovedByUser",
    "MJAction_ParentID"."Name" AS "Parent",
    "MJAIPrompt_DefaultCompactPromptID"."Name" AS "DefaultCompactPrompt",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."Action" AS a
LEFT OUTER JOIN
    __mj."ActionCategory" AS "MJActionCategory_CategoryID"
  ON
    a."CategoryID" = "MJActionCategory_CategoryID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_CodeApprovedByUserID"
  ON
    a."CodeApprovedByUserID" = "MJUser_CodeApprovedByUserID"."ID"
LEFT OUTER JOIN
    __mj."Action" AS "MJAction_ParentID"
  ON
    a."ParentID" = "MJAction_ParentID"."ID"
LEFT OUTER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_DefaultCompactPromptID"
  ON
    a."DefaultCompactPromptID" = "MJAIPrompt_DefaultCompactPromptID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnActionParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAIAgentLearningCycles"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent"
FROM
    __mj."AIAgentLearningCycle" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentExamples"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJUser_UserID"."Name" AS "User",
    "MJCompany_CompanyID"."Name" AS "Company",
    "MJConversation_SourceConversationID"."Name" AS "SourceConversation",
    "MJConversationDetail_SourceConversationDetailID"."Message" AS "SourceConversationDetail",
    "MJAIAgentRun_SourceAIAgentRunID"."RunName" AS "SourceAIAgentRun",
    "MJAIModel_EmbeddingModelID"."Name" AS "EmbeddingModel",
    "MJEntity_PrimaryScopeEntityID"."Name" AS "PrimaryScopeEntity"
FROM
    __mj."AIAgentExample" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."Company" AS "MJCompany_CompanyID"
  ON
    a."CompanyID" = "MJCompany_CompanyID"."ID"
LEFT OUTER JOIN
    __mj."Conversation" AS "MJConversation_SourceConversationID"
  ON
    a."SourceConversationID" = "MJConversation_SourceConversationID"."ID"
LEFT OUTER JOIN
    __mj."ConversationDetail" AS "MJConversationDetail_SourceConversationDetailID"
  ON
    a."SourceConversationDetailID" = "MJConversationDetail_SourceConversationDetailID"."ID"
LEFT OUTER JOIN
    __mj."AIAgentRun" AS "MJAIAgentRun_SourceAIAgentRunID"
  ON
    a."SourceAIAgentRunID" = "MJAIAgentRun_SourceAIAgentRunID"."ID"
LEFT OUTER JOIN
    __mj."AIModel" AS "MJAIModel_EmbeddingModelID"
  ON
    a."EmbeddingModelID" = "MJAIModel_EmbeddingModelID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_PrimaryScopeEntityID"
  ON
    a."PrimaryScopeEntityID" = "MJEntity_PrimaryScopeEntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentDataSources"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent"
FROM
    __mj."AIAgentDataSource" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentModalities"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAIModality_ModalityID"."Name" AS "Modality"
FROM
    __mj."AIAgentModality" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
INNER JOIN
    __mj."AIModality" AS "MJAIModality_ModalityID"
  ON
    a."ModalityID" = "MJAIModality_ModalityID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentModels"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAIModel_ModelID"."Name" AS "Model"
FROM
    __mj."AIAgentModel" AS a
LEFT OUTER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."AIModel" AS "MJAIModel_ModelID"
  ON
    a."ModelID" = "MJAIModel_ModelID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentPrompts"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAIPrompt_PromptID"."Name" AS "Prompt",
    "MJAIConfiguration_ConfigurationID"."Name" AS "Configuration"
FROM
    __mj."AIAgentPrompt" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
INNER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_PromptID"
  ON
    a."PromptID" = "MJAIPrompt_PromptID"."ID"
LEFT OUTER JOIN
    __mj."AIConfiguration" AS "MJAIConfiguration_ConfigurationID"
  ON
    a."ConfigurationID" = "MJAIConfiguration_ConfigurationID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentNotes"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAIAgentNoteType_AgentNoteTypeID"."Name" AS "AgentNoteType",
    "MJUser_UserID"."Name" AS "User",
    "MJConversation_SourceConversationID"."Name" AS "SourceConversation",
    "MJConversationDetail_SourceConversationDetailID"."Message" AS "SourceConversationDetail",
    "MJAIAgentRun_SourceAIAgentRunID"."RunName" AS "SourceAIAgentRun",
    "MJCompany_CompanyID"."Name" AS "Company",
    "MJAIModel_EmbeddingModelID"."Name" AS "EmbeddingModel",
    "MJEntity_PrimaryScopeEntityID"."Name" AS "PrimaryScopeEntity"
FROM
    __mj."AIAgentNote" AS a
LEFT OUTER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."AIAgentNoteType" AS "MJAIAgentNoteType_AgentNoteTypeID"
  ON
    a."AgentNoteTypeID" = "MJAIAgentNoteType_AgentNoteTypeID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."Conversation" AS "MJConversation_SourceConversationID"
  ON
    a."SourceConversationID" = "MJConversation_SourceConversationID"."ID"
LEFT OUTER JOIN
    __mj."ConversationDetail" AS "MJConversationDetail_SourceConversationDetailID"
  ON
    a."SourceConversationDetailID" = "MJConversationDetail_SourceConversationDetailID"."ID"
LEFT OUTER JOIN
    __mj."AIAgentRun" AS "MJAIAgentRun_SourceAIAgentRunID"
  ON
    a."SourceAIAgentRunID" = "MJAIAgentRun_SourceAIAgentRunID"."ID"
LEFT OUTER JOIN
    __mj."Company" AS "MJCompany_CompanyID"
  ON
    a."CompanyID" = "MJCompany_CompanyID"."ID"
LEFT OUTER JOIN
    __mj."AIModel" AS "MJAIModel_EmbeddingModelID"
  ON
    a."EmbeddingModelID" = "MJAIModel_EmbeddingModelID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_PrimaryScopeEntityID"
  ON
    a."PrimaryScopeEntityID" = "MJEntity_PrimaryScopeEntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentRelationships"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAIAgent_SubAgentID"."Name" AS "SubAgent"
FROM
    __mj."AIAgentRelationship" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_SubAgentID"
  ON
    a."SubAgentID" = "MJAIAgent_SubAgentID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentPermissions"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJRole_RoleID"."Name" AS "Role",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."AIAgentPermission" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."Role" AS "MJRole_RoleID"
  ON
    a."RoleID" = "MJRole_RoleID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentRequests"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJUser_RequestForUserID"."Name" AS "RequestForUser",
    "MJUser_ResponseByUserID"."Name" AS "ResponseByUser"
FROM
    __mj."AIAgentRequest" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_RequestForUserID"
  ON
    a."RequestForUserID" = "MJUser_RequestForUserID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_ResponseByUserID"
  ON
    a."ResponseByUserID" = "MJUser_ResponseByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentRunMedias"
AS SELECT
    a.*,
    "MJAIAgentRun_AgentRunID"."RunName" AS "AgentRun",
    "MJAIPromptRunMedia_SourcePromptRunMediaID"."FileName" AS "SourcePromptRunMedia",
    "MJAIModality_ModalityID"."Name" AS "Modality",
    "MJFile_FileID"."Name" AS "File"
FROM
    __mj."AIAgentRunMedia" AS a
INNER JOIN
    __mj."AIAgentRun" AS "MJAIAgentRun_AgentRunID"
  ON
    a."AgentRunID" = "MJAIAgentRun_AgentRunID"."ID"
LEFT OUTER JOIN
    __mj."AIPromptRunMedia" AS "MJAIPromptRunMedia_SourcePromptRunMediaID"
  ON
    a."SourcePromptRunMediaID" = "MJAIPromptRunMedia_SourcePromptRunMediaID"."ID"
INNER JOIN
    __mj."AIModality" AS "MJAIModality_ModalityID"
  ON
    a."ModalityID" = "MJAIModality_ModalityID"."ID"
LEFT OUTER JOIN
    __mj."File" AS "MJFile_FileID"
  ON
    a."FileID" = "MJFile_FileID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentRuns"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAIAgentRun_ParentRunID"."RunName" AS "ParentRun",
    "MJConversation_ConversationID"."Name" AS "Conversation",
    "MJUser_UserID"."Name" AS "User",
    "MJConversationDetail_ConversationDetailID"."Message" AS "ConversationDetail",
    "MJAIAgentRun_LastRunID"."RunName" AS "LastRun",
    "MJAIConfiguration_ConfigurationID"."Name" AS "Configuration",
    "MJAIModel_OverrideModelID"."Name" AS "OverrideModel",
    "MJAIVendor_OverrideVendorID"."Name" AS "OverrideVendor",
    "MJScheduledJobRun_ScheduledJobRunID"."ScheduledJob" AS "ScheduledJobRun",
    "MJTestRun_TestRunID"."Test" AS "TestRun",
    "MJEntity_PrimaryScopeEntityID"."Name" AS "PrimaryScopeEntity",
    "root_ParentRunID"."RootID" AS "RootParentRunID",
    "root_LastRunID"."RootID" AS "RootLastRunID"
FROM
    __mj."AIAgentRun" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."AIAgentRun" AS "MJAIAgentRun_ParentRunID"
  ON
    a."ParentRunID" = "MJAIAgentRun_ParentRunID"."ID"
LEFT OUTER JOIN
    __mj."Conversation" AS "MJConversation_ConversationID"
  ON
    a."ConversationID" = "MJConversation_ConversationID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."ConversationDetail" AS "MJConversationDetail_ConversationDetailID"
  ON
    a."ConversationDetailID" = "MJConversationDetail_ConversationDetailID"."ID"
LEFT OUTER JOIN
    __mj."AIAgentRun" AS "MJAIAgentRun_LastRunID"
  ON
    a."LastRunID" = "MJAIAgentRun_LastRunID"."ID"
LEFT OUTER JOIN
    __mj."AIConfiguration" AS "MJAIConfiguration_ConfigurationID"
  ON
    a."ConfigurationID" = "MJAIConfiguration_ConfigurationID"."ID"
LEFT OUTER JOIN
    __mj."AIModel" AS "MJAIModel_OverrideModelID"
  ON
    a."OverrideModelID" = "MJAIModel_OverrideModelID"."ID"
LEFT OUTER JOIN
    __mj."AIVendor" AS "MJAIVendor_OverrideVendorID"
  ON
    a."OverrideVendorID" = "MJAIVendor_OverrideVendorID"."ID"
LEFT OUTER JOIN
    __mj."vwScheduledJobRuns" AS "MJScheduledJobRun_ScheduledJobRunID"
  ON
    a."ScheduledJobRunID" = "MJScheduledJobRun_ScheduledJobRunID"."ID"
LEFT OUTER JOIN
    __mj."vwTestRuns" AS "MJTestRun_TestRunID"
  ON
    a."TestRunID" = "MJTestRun_TestRunID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_PrimaryScopeEntityID"
  ON
    a."PrimaryScopeEntityID" = "MJEntity_PrimaryScopeEntityID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAIAgentRunParentRunID_GetRootID"(a."ID", a."ParentRunID")) AS "root_ParentRunID" ON TRUE
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAIAgentRunLastRunID_GetRootID"(a."ID", a."LastRunID")) AS "root_LastRunID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAIAgentRunSteps"
AS SELECT
    a.*,
    "MJAIAgentRun_AgentRunID"."RunName" AS "AgentRun",
    "MJAIAgentRunStep_ParentID"."StepName" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."AIAgentRunStep" AS a
INNER JOIN
    __mj."AIAgentRun" AS "MJAIAgentRun_AgentRunID"
  ON
    a."AgentRunID" = "MJAIAgentRun_AgentRunID"."ID"
LEFT OUTER JOIN
    __mj."AIAgentRunStep" AS "MJAIAgentRunStep_ParentID"
  ON
    a."ParentID" = "MJAIAgentRunStep_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAIAgentRunStepParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAIAgentStepPaths"
AS SELECT
    a.*,
    "MJAIAgentStep_OriginStepID"."Name" AS "OriginStep",
    "MJAIAgentStep_DestinationStepID"."Name" AS "DestinationStep"
FROM
    __mj."AIAgentStepPath" AS a
INNER JOIN
    __mj."AIAgentStep" AS "MJAIAgentStep_OriginStepID"
  ON
    a."OriginStepID" = "MJAIAgentStep_OriginStepID"."ID"
INNER JOIN
    __mj."AIAgentStep" AS "MJAIAgentStep_DestinationStepID"
  ON
    a."DestinationStepID" = "MJAIAgentStep_DestinationStepID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIArchitectures"
AS SELECT
    a.*,
    "MJAIArchitecture_ParentArchitectureID"."Name" AS "ParentArchitecture",
    "root_ParentArchitectureID"."RootID" AS "RootParentArchitectureID"
FROM
    __mj."AIArchitecture" AS a
LEFT OUTER JOIN
    __mj."AIArchitecture" AS "MJAIArchitecture_ParentArchitectureID"
  ON
    a."ParentArchitectureID" = "MJAIArchitecture_ParentArchitectureID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAIArchitectureParentArchitectureID_GetRootID"(a."ID", a."ParentArchitectureID")) AS "root_ParentArchitectureID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAIAgentSteps"
AS SELECT
    a.*,
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAction_ActionID"."Name" AS "Action",
    "MJAIAgent_SubAgentID"."Name" AS "SubAgent",
    "MJAIPrompt_PromptID"."Name" AS "Prompt"
FROM
    __mj."AIAgentStep" AS a
INNER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."Action" AS "MJAction_ActionID"
  ON
    a."ActionID" = "MJAction_ActionID"."ID"
LEFT OUTER JOIN
    __mj."AIAgent" AS "MJAIAgent_SubAgentID"
  ON
    a."SubAgentID" = "MJAIAgent_SubAgentID"."ID"
LEFT OUTER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_PromptID"
  ON
    a."PromptID" = "MJAIPrompt_PromptID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgentTypes"
AS SELECT
    a.*,
    "MJAIPrompt_SystemPromptID"."Name" AS "SystemPrompt"
FROM
    __mj."AIAgentType" AS a
LEFT OUTER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_SystemPromptID"
  ON
    a."SystemPromptID" = "MJAIPrompt_SystemPromptID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIAgents"
AS SELECT
    a.*,
    "MJAIAgent_ParentID"."Name" AS "Parent",
    "MJAIPrompt_ContextCompressionPromptID"."Name" AS "ContextCompressionPrompt",
    "MJAIAgentType_TypeID"."Name" AS "Type",
    "MJArtifactType_DefaultArtifactTypeID"."Name" AS "DefaultArtifactType",
    "MJUser_OwnerUserID"."Name" AS "OwnerUser",
    "MJFileStorageProvider_AttachmentStorageProviderID"."Name" AS "AttachmentStorageProvider",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."AIAgent" AS a
LEFT OUTER JOIN
    __mj."AIAgent" AS "MJAIAgent_ParentID"
  ON
    a."ParentID" = "MJAIAgent_ParentID"."ID"
LEFT OUTER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_ContextCompressionPromptID"
  ON
    a."ContextCompressionPromptID" = "MJAIPrompt_ContextCompressionPromptID"."ID"
LEFT OUTER JOIN
    __mj."AIAgentType" AS "MJAIAgentType_TypeID"
  ON
    a."TypeID" = "MJAIAgentType_TypeID"."ID"
LEFT OUTER JOIN
    __mj."ArtifactType" AS "MJArtifactType_DefaultArtifactTypeID"
  ON
    a."DefaultArtifactTypeID" = "MJArtifactType_DefaultArtifactTypeID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_OwnerUserID"
  ON
    a."OwnerUserID" = "MJUser_OwnerUserID"."ID"
LEFT OUTER JOIN
    __mj."FileStorageProvider" AS "MJFileStorageProvider_AttachmentStorageProviderID"
  ON
    a."AttachmentStorageProviderID" = "MJFileStorageProvider_AttachmentStorageProviderID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAIAgentParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAIConfigurationParams"
AS SELECT
    a.*,
    "MJAIConfiguration_ConfigurationID"."Name" AS "Configuration"
FROM
    __mj."AIConfigurationParam" AS a
INNER JOIN
    __mj."AIConfiguration" AS "MJAIConfiguration_ConfigurationID"
  ON
    a."ConfigurationID" = "MJAIConfiguration_ConfigurationID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIConfigurations"
AS SELECT
    a.*,
    "MJAIPrompt_DefaultPromptForContextCompressionID"."Name" AS "DefaultPromptForContextCompression",
    "MJAIPrompt_DefaultPromptForContextSummarizationID"."Name" AS "DefaultPromptForContextSummarization",
    "MJFileStorageProvider_DefaultStorageProviderID"."Name" AS "DefaultStorageProvider",
    "MJAIConfiguration_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."AIConfiguration" AS a
LEFT OUTER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_DefaultPromptForContextCompressionID"
  ON
    a."DefaultPromptForContextCompressionID" = "MJAIPrompt_DefaultPromptForContextCompressionID"."ID"
LEFT OUTER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_DefaultPromptForContextSummarizationID"
  ON
    a."DefaultPromptForContextSummarizationID" = "MJAIPrompt_DefaultPromptForContextSummarizationID"."ID"
LEFT OUTER JOIN
    __mj."FileStorageProvider" AS "MJFileStorageProvider_DefaultStorageProviderID"
  ON
    a."DefaultStorageProviderID" = "MJFileStorageProvider_DefaultStorageProviderID"."ID"
LEFT OUTER JOIN
    __mj."AIConfiguration" AS "MJAIConfiguration_ParentID"
  ON
    a."ParentID" = "MJAIConfiguration_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAIConfigurationParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAIModelActions"
AS SELECT
    a.*,
    "MJAIModel_AIModelID"."Name" AS "AIModel",
    "MJAIAction_AIActionID"."Name" AS "AIAction"
FROM
    __mj."AIModelAction" AS a
INNER JOIN
    __mj."AIModel" AS "MJAIModel_AIModelID"
  ON
    a."AIModelID" = "MJAIModel_AIModelID"."ID"
INNER JOIN
    __mj."AIAction" AS "MJAIAction_AIActionID"
  ON
    a."AIActionID" = "MJAIAction_AIActionID"."ID";

CREATE OR REPLACE VIEW __mj."vwAICredentialBindings"
AS SELECT
    a.*,
    "MJCredential_CredentialID"."Name" AS "Credential",
    "MJAIVendor_AIVendorID"."Name" AS "AIVendor",
    "MJAIModelVendor_AIModelVendorID"."Model" AS "AIModelVendor",
    "MJAIPromptModel_AIPromptModelID"."Prompt" AS "AIPromptModel"
FROM
    __mj."AICredentialBinding" AS a
INNER JOIN
    __mj."Credential" AS "MJCredential_CredentialID"
  ON
    a."CredentialID" = "MJCredential_CredentialID"."ID"
LEFT OUTER JOIN
    __mj."AIVendor" AS "MJAIVendor_AIVendorID"
  ON
    a."AIVendorID" = "MJAIVendor_AIVendorID"."ID"
LEFT OUTER JOIN
    __mj."vwAIModelVendors" AS "MJAIModelVendor_AIModelVendorID"
  ON
    a."AIModelVendorID" = "MJAIModelVendor_AIModelVendorID"."ID"
LEFT OUTER JOIN
    __mj."vwAIPromptModels" AS "MJAIPromptModel_AIPromptModelID"
  ON
    a."AIPromptModelID" = "MJAIPromptModel_AIPromptModelID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIModelArchitectures"
AS SELECT
    a.*,
    "MJAIModel_ModelID"."Name" AS "Model",
    "MJAIArchitecture_ArchitectureID"."Name" AS "Architecture"
FROM
    __mj."AIModelArchitecture" AS a
INNER JOIN
    __mj."AIModel" AS "MJAIModel_ModelID"
  ON
    a."ModelID" = "MJAIModel_ModelID"."ID"
INNER JOIN
    __mj."AIArchitecture" AS "MJAIArchitecture_ArchitectureID"
  ON
    a."ArchitectureID" = "MJAIArchitecture_ArchitectureID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIModelCosts"
AS SELECT
    a.*,
    "MJAIModel_ModelID"."Name" AS "Model",
    "MJAIVendor_VendorID"."Name" AS "Vendor",
    "MJAIModelPriceType_PriceTypeID"."Name" AS "PriceType",
    "MJAIModelPriceUnitType_UnitTypeID"."Name" AS "UnitType"
FROM
    __mj."AIModelCost" AS a
INNER JOIN
    __mj."AIModel" AS "MJAIModel_ModelID"
  ON
    a."ModelID" = "MJAIModel_ModelID"."ID"
INNER JOIN
    __mj."AIVendor" AS "MJAIVendor_VendorID"
  ON
    a."VendorID" = "MJAIVendor_VendorID"."ID"
INNER JOIN
    __mj."AIModelPriceType" AS "MJAIModelPriceType_PriceTypeID"
  ON
    a."PriceTypeID" = "MJAIModelPriceType_PriceTypeID"."ID"
INNER JOIN
    __mj."AIModelPriceUnitType" AS "MJAIModelPriceUnitType_UnitTypeID"
  ON
    a."UnitTypeID" = "MJAIModelPriceUnitType_UnitTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIModelModalities"
AS SELECT
    a.*,
    "MJAIModel_ModelID"."Name" AS "Model",
    "MJAIModality_ModalityID"."Name" AS "Modality"
FROM
    __mj."AIModelModality" AS a
INNER JOIN
    __mj."AIModel" AS "MJAIModel_ModelID"
  ON
    a."ModelID" = "MJAIModel_ModelID"."ID"
INNER JOIN
    __mj."AIModality" AS "MJAIModality_ModalityID"
  ON
    a."ModalityID" = "MJAIModality_ModalityID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIModelTypes"
AS SELECT
    a.*,
    "MJAIModality_DefaultInputModalityID"."Name" AS "DefaultInputModality",
    "MJAIModality_DefaultOutputModalityID"."Name" AS "DefaultOutputModality"
FROM
    __mj."AIModelType" AS a
INNER JOIN
    __mj."AIModality" AS "MJAIModality_DefaultInputModalityID"
  ON
    a."DefaultInputModalityID" = "MJAIModality_DefaultInputModalityID"."ID"
INNER JOIN
    __mj."AIModality" AS "MJAIModality_DefaultOutputModalityID"
  ON
    a."DefaultOutputModalityID" = "MJAIModality_DefaultOutputModalityID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIPromptCategories"
AS SELECT
    a.*,
    "MJAIPromptCategory_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."AIPromptCategory" AS a
LEFT OUTER JOIN
    __mj."AIPromptCategory" AS "MJAIPromptCategory_ParentID"
  ON
    a."ParentID" = "MJAIPromptCategory_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAIPromptCategoryParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAIPromptRunMedias"
AS SELECT
    a.*,
    "MJAIPromptRun_PromptRunID"."RunName" AS "PromptRun",
    "MJAIModality_ModalityID"."Name" AS "Modality",
    "MJFile_FileID"."Name" AS "File"
FROM
    __mj."AIPromptRunMedia" AS a
INNER JOIN
    __mj."AIPromptRun" AS "MJAIPromptRun_PromptRunID"
  ON
    a."PromptRunID" = "MJAIPromptRun_PromptRunID"."ID"
INNER JOIN
    __mj."AIModality" AS "MJAIModality_ModalityID"
  ON
    a."ModalityID" = "MJAIModality_ModalityID"."ID"
LEFT OUTER JOIN
    __mj."File" AS "MJFile_FileID"
  ON
    a."FileID" = "MJFile_FileID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIPromptModels"
AS SELECT
    a.*,
    "MJAIPrompt_PromptID"."Name" AS "Prompt",
    "MJAIModel_ModelID"."Name" AS "Model",
    "MJAIVendor_VendorID"."Name" AS "Vendor",
    "MJAIConfiguration_ConfigurationID"."Name" AS "Configuration"
FROM
    __mj."AIPromptModel" AS a
INNER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_PromptID"
  ON
    a."PromptID" = "MJAIPrompt_PromptID"."ID"
INNER JOIN
    __mj."AIModel" AS "MJAIModel_ModelID"
  ON
    a."ModelID" = "MJAIModel_ModelID"."ID"
LEFT OUTER JOIN
    __mj."AIVendor" AS "MJAIVendor_VendorID"
  ON
    a."VendorID" = "MJAIVendor_VendorID"."ID"
LEFT OUTER JOIN
    __mj."AIConfiguration" AS "MJAIConfiguration_ConfigurationID"
  ON
    a."ConfigurationID" = "MJAIConfiguration_ConfigurationID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIModelVendors"
AS SELECT
    a.*,
    "MJAIModel_ModelID"."Name" AS "Model",
    "MJAIVendor_VendorID"."Name" AS "Vendor",
    "MJAIVendorTypeDefinition_TypeID"."Name" AS "Type"
FROM
    __mj."AIModelVendor" AS a
INNER JOIN
    __mj."AIModel" AS "MJAIModel_ModelID"
  ON
    a."ModelID" = "MJAIModel_ModelID"."ID"
INNER JOIN
    __mj."AIVendor" AS "MJAIVendor_VendorID"
  ON
    a."VendorID" = "MJAIVendor_VendorID"."ID"
INNER JOIN
    __mj."AIVendorTypeDefinition" AS "MJAIVendorTypeDefinition_TypeID"
  ON
    a."TypeID" = "MJAIVendorTypeDefinition_TypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIPromptRuns"
AS SELECT
    a.*,
    "MJAIPrompt_PromptID"."Name" AS "Prompt",
    "MJAIModel_ModelID"."Name" AS "Model",
    "MJAIVendor_VendorID"."Name" AS "Vendor",
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAIConfiguration_ConfigurationID"."Name" AS "Configuration",
    "MJAIPromptRun_ParentID"."RunName" AS "Parent",
    "MJAIAgentRun_AgentRunID"."RunName" AS "AgentRun",
    "MJAIModel_OriginalModelID"."Name" AS "OriginalModel",
    "MJAIPromptRun_RerunFromPromptRunID"."RunName" AS "RerunFromPromptRun",
    "MJAIPrompt_JudgeID"."Name" AS "Judge",
    "MJAIPrompt_ChildPromptID"."Name" AS "ChildPrompt",
    "MJTestRun_TestRunID"."Test" AS "TestRun",
    "root_ParentID"."RootID" AS "RootParentID",
    "root_RerunFromPromptRunID"."RootID" AS "RootRerunFromPromptRunID"
FROM
    __mj."AIPromptRun" AS a
INNER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_PromptID"
  ON
    a."PromptID" = "MJAIPrompt_PromptID"."ID"
INNER JOIN
    __mj."AIModel" AS "MJAIModel_ModelID"
  ON
    a."ModelID" = "MJAIModel_ModelID"."ID"
INNER JOIN
    __mj."AIVendor" AS "MJAIVendor_VendorID"
  ON
    a."VendorID" = "MJAIVendor_VendorID"."ID"
LEFT OUTER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."AIConfiguration" AS "MJAIConfiguration_ConfigurationID"
  ON
    a."ConfigurationID" = "MJAIConfiguration_ConfigurationID"."ID"
LEFT OUTER JOIN
    __mj."AIPromptRun" AS "MJAIPromptRun_ParentID"
  ON
    a."ParentID" = "MJAIPromptRun_ParentID"."ID"
LEFT OUTER JOIN
    __mj."AIAgentRun" AS "MJAIAgentRun_AgentRunID"
  ON
    a."AgentRunID" = "MJAIAgentRun_AgentRunID"."ID"
LEFT OUTER JOIN
    __mj."AIModel" AS "MJAIModel_OriginalModelID"
  ON
    a."OriginalModelID" = "MJAIModel_OriginalModelID"."ID"
LEFT OUTER JOIN
    __mj."AIPromptRun" AS "MJAIPromptRun_RerunFromPromptRunID"
  ON
    a."RerunFromPromptRunID" = "MJAIPromptRun_RerunFromPromptRunID"."ID"
LEFT OUTER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_JudgeID"
  ON
    a."JudgeID" = "MJAIPrompt_JudgeID"."ID"
LEFT OUTER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_ChildPromptID"
  ON
    a."ChildPromptID" = "MJAIPrompt_ChildPromptID"."ID"
LEFT OUTER JOIN
    __mj."vwTestRuns" AS "MJTestRun_TestRunID"
  ON
    a."TestRunID" = "MJTestRun_TestRunID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAIPromptRunParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAIPromptRunRerunFromPromptRunID_GetRootID"(a."ID", a."RerunFromPromptRunID")) AS "root_RerunFromPromptRunID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAIResultCaches"
AS SELECT
    a.*,
    "MJAIPrompt_AIPromptID"."Name" AS "AIPrompt",
    "MJAIModel_AIModelID"."Name" AS "AIModel",
    "MJAIVendor_VendorID"."Name" AS "Vendor",
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJAIConfiguration_ConfigurationID"."Name" AS "Configuration",
    "MJAIPromptRun_PromptRunID"."RunName" AS "PromptRun"
FROM
    __mj."AIResultCache" AS a
INNER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_AIPromptID"
  ON
    a."AIPromptID" = "MJAIPrompt_AIPromptID"."ID"
INNER JOIN
    __mj."AIModel" AS "MJAIModel_AIModelID"
  ON
    a."AIModelID" = "MJAIModel_AIModelID"."ID"
LEFT OUTER JOIN
    __mj."AIVendor" AS "MJAIVendor_VendorID"
  ON
    a."VendorID" = "MJAIVendor_VendorID"."ID"
LEFT OUTER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    a."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."AIConfiguration" AS "MJAIConfiguration_ConfigurationID"
  ON
    a."ConfigurationID" = "MJAIConfiguration_ConfigurationID"."ID"
LEFT OUTER JOIN
    __mj."AIPromptRun" AS "MJAIPromptRun_PromptRunID"
  ON
    a."PromptRunID" = "MJAIPromptRun_PromptRunID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIPrompts"
AS SELECT
    a.*,
    "MJTemplate_TemplateID"."Name" AS "Template",
    "MJAIPromptCategory_CategoryID"."Name" AS "Category",
    "MJAIPromptType_TypeID"."Name" AS "Type",
    "MJAIModelType_AIModelTypeID"."Name" AS "AIModelType",
    "MJAIPrompt_ResultSelectorPromptID"."Name" AS "ResultSelectorPrompt",
    "root_ResultSelectorPromptID"."RootID" AS "RootResultSelectorPromptID"
FROM
    __mj."AIPrompt" AS a
INNER JOIN
    __mj."Template" AS "MJTemplate_TemplateID"
  ON
    a."TemplateID" = "MJTemplate_TemplateID"."ID"
LEFT OUTER JOIN
    __mj."AIPromptCategory" AS "MJAIPromptCategory_CategoryID"
  ON
    a."CategoryID" = "MJAIPromptCategory_CategoryID"."ID"
INNER JOIN
    __mj."AIPromptType" AS "MJAIPromptType_TypeID"
  ON
    a."TypeID" = "MJAIPromptType_TypeID"."ID"
LEFT OUTER JOIN
    __mj."AIModelType" AS "MJAIModelType_AIModelTypeID"
  ON
    a."AIModelTypeID" = "MJAIModelType_AIModelTypeID"."ID"
LEFT OUTER JOIN
    __mj."AIPrompt" AS "MJAIPrompt_ResultSelectorPromptID"
  ON
    a."ResultSelectorPromptID" = "MJAIPrompt_ResultSelectorPromptID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAIPromptResultSelectorPromptID_GetRootID"(a."ID", a."ResultSelectorPromptID")) AS "root_ResultSelectorPromptID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAIVendorTypes"
AS SELECT
    a.*,
    "MJAIVendor_VendorID"."Name" AS "Vendor",
    "MJAIVendorTypeDefinition_TypeID"."Name" AS "Type"
FROM
    __mj."AIVendorType" AS a
INNER JOIN
    __mj."AIVendor" AS "MJAIVendor_VendorID"
  ON
    a."VendorID" = "MJAIVendor_VendorID"."ID"
INNER JOIN
    __mj."AIVendorTypeDefinition" AS "MJAIVendorTypeDefinition_TypeID"
  ON
    a."TypeID" = "MJAIVendorTypeDefinition_TypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwAIVendors"
AS SELECT
    a.*,
    "MJCredentialType_CredentialTypeID"."Name" AS "CredentialType"
FROM
    __mj."AIVendor" AS a
LEFT OUTER JOIN
    __mj."CredentialType" AS "MJCredentialType_CredentialTypeID"
  ON
    a."CredentialTypeID" = "MJCredentialType_CredentialTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwAPIApplicationScopes"
AS SELECT
    a.*,
    "MJAPIApplication_ApplicationID"."Name" AS "Application",
    "MJAPIScope_ScopeID"."Name" AS "Scope"
FROM
    __mj."APIApplicationScope" AS a
INNER JOIN
    __mj."APIApplication" AS "MJAPIApplication_ApplicationID"
  ON
    a."ApplicationID" = "MJAPIApplication_ApplicationID"."ID"
INNER JOIN
    __mj."APIScope" AS "MJAPIScope_ScopeID"
  ON
    a."ScopeID" = "MJAPIScope_ScopeID"."ID";

CREATE OR REPLACE VIEW __mj."vwAPIKeyApplications"
AS SELECT
    a.*,
    "MJAPIKey_APIKeyID"."Label" AS "APIKey",
    "MJAPIApplication_ApplicationID"."Name" AS "Application"
FROM
    __mj."APIKeyApplication" AS a
INNER JOIN
    __mj."APIKey" AS "MJAPIKey_APIKeyID"
  ON
    a."APIKeyID" = "MJAPIKey_APIKeyID"."ID"
INNER JOIN
    __mj."APIApplication" AS "MJAPIApplication_ApplicationID"
  ON
    a."ApplicationID" = "MJAPIApplication_ApplicationID"."ID";

CREATE OR REPLACE VIEW __mj."vwAPIKeyScopes"
AS SELECT
    a.*,
    "MJAPIKey_APIKeyID"."Label" AS "APIKey",
    "MJAPIScope_ScopeID"."Name" AS "Scope"
FROM
    __mj."APIKeyScope" AS a
INNER JOIN
    __mj."APIKey" AS "MJAPIKey_APIKeyID"
  ON
    a."APIKeyID" = "MJAPIKey_APIKeyID"."ID"
INNER JOIN
    __mj."APIScope" AS "MJAPIScope_ScopeID"
  ON
    a."ScopeID" = "MJAPIScope_ScopeID"."ID";

CREATE OR REPLACE VIEW __mj."vwAPIKeyUsageLogs"
AS SELECT
    a.*,
    "MJAPIKey_APIKeyID"."Label" AS "APIKey",
    "MJAPIApplication_ApplicationID"."Name" AS "Application"
FROM
    __mj."APIKeyUsageLog" AS a
INNER JOIN
    __mj."APIKey" AS "MJAPIKey_APIKeyID"
  ON
    a."APIKeyID" = "MJAPIKey_APIKeyID"."ID"
LEFT OUTER JOIN
    __mj."APIApplication" AS "MJAPIApplication_ApplicationID"
  ON
    a."ApplicationID" = "MJAPIApplication_ApplicationID"."ID";

CREATE OR REPLACE VIEW __mj."vwAPIKeys"
AS SELECT
    a.*,
    "MJUser_UserID"."Name" AS "User",
    "MJUser_CreatedByUserID"."Name" AS "CreatedByUser"
FROM
    __mj."APIKey" AS a
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_CreatedByUserID"
  ON
    a."CreatedByUserID" = "MJUser_CreatedByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwAPIScopes"
AS SELECT
    a.*,
    "MJAPIScope_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."APIScope" AS a
LEFT OUTER JOIN
    __mj."APIScope" AS "MJAPIScope_ParentID"
  ON
    a."ParentID" = "MJAPIScope_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAPIScopeParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwApplicationSettings"
AS SELECT
    a.*,
    "MJApplication_ApplicationID"."Name" AS "Application"
FROM
    __mj."ApplicationSetting" AS a
INNER JOIN
    __mj."Application" AS "MJApplication_ApplicationID"
  ON
    a."ApplicationID" = "MJApplication_ApplicationID"."ID";

CREATE OR REPLACE VIEW __mj."vwArtifactTypes"
AS SELECT
    a.*,
    "MJArtifactType_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."ArtifactType" AS a
LEFT OUTER JOIN
    __mj."ArtifactType" AS "MJArtifactType_ParentID"
  ON
    a."ParentID" = "MJArtifactType_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnArtifactTypeParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwArtifactPermissions"
AS SELECT
    a.*,
    "MJArtifact_ArtifactID"."Name" AS "Artifact",
    "MJUser_UserID"."Name" AS "User",
    "MJUser_SharedByUserID"."Name" AS "SharedByUser"
FROM
    __mj."ArtifactPermission" AS a
INNER JOIN
    __mj."Artifact" AS "MJArtifact_ArtifactID"
  ON
    a."ArtifactID" = "MJArtifact_ArtifactID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_SharedByUserID"
  ON
    a."SharedByUserID" = "MJUser_SharedByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwArtifactUses"
AS SELECT
    a.*,
    "MJArtifactVersion_ArtifactVersionID"."Name" AS "ArtifactVersion",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."ArtifactUse" AS a
INNER JOIN
    __mj."ArtifactVersion" AS "MJArtifactVersion_ArtifactVersionID"
  ON
    a."ArtifactVersionID" = "MJArtifactVersion_ArtifactVersionID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwArtifactVersions"
AS SELECT
    a.*,
    "MJArtifact_ArtifactID"."Name" AS "Artifact",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."ArtifactVersion" AS a
INNER JOIN
    __mj."Artifact" AS "MJArtifact_ArtifactID"
  ON
    a."ArtifactID" = "MJArtifact_ArtifactID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwArtifactVersionAttributes"
AS SELECT
    a.*,
    "MJArtifactVersion_ArtifactVersionID"."Name" AS "ArtifactVersion"
FROM
    __mj."ArtifactVersionAttribute" AS a
INNER JOIN
    __mj."ArtifactVersion" AS "MJArtifactVersion_ArtifactVersionID"
  ON
    a."ArtifactVersionID" = "MJArtifactVersion_ArtifactVersionID"."ID";

CREATE OR REPLACE VIEW __mj."vwArtifacts"
AS SELECT
    a.*,
    "MJEnvironment_EnvironmentID"."Name" AS "Environment",
    "MJArtifactType_TypeID"."Name" AS "Type",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."Artifact" AS a
INNER JOIN
    __mj."Environment" AS "MJEnvironment_EnvironmentID"
  ON
    a."EnvironmentID" = "MJEnvironment_EnvironmentID"."ID"
INNER JOIN
    __mj."ArtifactType" AS "MJArtifactType_TypeID"
  ON
    a."TypeID" = "MJArtifactType_TypeID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwAuditLogTypes"
AS SELECT
    a.*,
    "MJAuditLogType_ParentID"."Name" AS "Parent",
    "MJAuthorization_AuthorizationID"."Name" AS "Authorization",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."AuditLogType" AS a
LEFT OUTER JOIN
    __mj."AuditLogType" AS "MJAuditLogType_ParentID"
  ON
    a."ParentID" = "MJAuditLogType_ParentID"."ID"
LEFT OUTER JOIN
    __mj."Authorization" AS "MJAuthorization_AuthorizationID"
  ON
    a."AuthorizationID" = "MJAuthorization_AuthorizationID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAuditLogTypeParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwAuditLogs"
AS SELECT
    a.*,
    "MJUser_UserID"."Name" AS "User",
    "MJAuditLogType_AuditLogTypeID"."Name" AS "AuditLogType",
    "MJAuthorization_AuthorizationID"."Name" AS "Authorization",
    "MJEntity_EntityID"."Name" AS "Entity"
FROM
    __mj."AuditLog" AS a
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    a."UserID" = "MJUser_UserID"."ID"
INNER JOIN
    __mj."AuditLogType" AS "MJAuditLogType_AuditLogTypeID"
  ON
    a."AuditLogTypeID" = "MJAuditLogType_AuditLogTypeID"."ID"
LEFT OUTER JOIN
    __mj."Authorization" AS "MJAuthorization_AuthorizationID"
  ON
    a."AuthorizationID" = "MJAuthorization_AuthorizationID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    a."EntityID" = "MJEntity_EntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwAuthorizationRoles"
AS SELECT
    a.*,
    "MJAuthorization_AuthorizationID"."Name" AS "Authorization",
    "MJRole_RoleID"."Name" AS "Role"
FROM
    __mj."AuthorizationRole" AS a
INNER JOIN
    __mj."Authorization" AS "MJAuthorization_AuthorizationID"
  ON
    a."AuthorizationID" = "MJAuthorization_AuthorizationID"."ID"
INNER JOIN
    __mj."Role" AS "MJRole_RoleID"
  ON
    a."RoleID" = "MJRole_RoleID"."ID";

CREATE OR REPLACE VIEW __mj."vwAuthorizations"
AS SELECT
    a.*,
    "MJAuthorization_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."Authorization" AS a
LEFT OUTER JOIN
    __mj."Authorization" AS "MJAuthorization_ParentID"
  ON
    a."ParentID" = "MJAuthorization_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnAuthorizationParentID_GetRootID"(a."ID", a."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwCollectionPermissions"
AS SELECT
    c.*,
    "MJCollection_CollectionID"."Name" AS "Collection",
    "MJUser_UserID"."Name" AS "User",
    "MJUser_SharedByUserID"."Name" AS "SharedByUser"
FROM
    __mj."CollectionPermission" AS c
INNER JOIN
    __mj."Collection" AS "MJCollection_CollectionID"
  ON
    c."CollectionID" = "MJCollection_CollectionID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    c."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_SharedByUserID"
  ON
    c."SharedByUserID" = "MJUser_SharedByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwCollectionArtifacts"
AS SELECT
    c.*,
    "MJCollection_CollectionID"."Name" AS "Collection",
    "MJArtifactVersion_ArtifactVersionID"."Name" AS "ArtifactVersion"
FROM
    __mj."CollectionArtifact" AS c
INNER JOIN
    __mj."Collection" AS "MJCollection_CollectionID"
  ON
    c."CollectionID" = "MJCollection_CollectionID"."ID"
INNER JOIN
    __mj."ArtifactVersion" AS "MJArtifactVersion_ArtifactVersionID"
  ON
    c."ArtifactVersionID" = "MJArtifactVersion_ArtifactVersionID"."ID";

CREATE OR REPLACE VIEW __mj."vwCollections"
AS SELECT
    c.*,
    "MJEnvironment_EnvironmentID"."Name" AS "Environment",
    "MJCollection_ParentID"."Name" AS "Parent",
    "MJUser_OwnerID"."Name" AS "Owner",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."Collection" AS c
INNER JOIN
    __mj."Environment" AS "MJEnvironment_EnvironmentID"
  ON
    c."EnvironmentID" = "MJEnvironment_EnvironmentID"."ID"
LEFT OUTER JOIN
    __mj."Collection" AS "MJCollection_ParentID"
  ON
    c."ParentID" = "MJCollection_ParentID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_OwnerID"
  ON
    c."OwnerID" = "MJUser_OwnerID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnCollectionParentID_GetRootID"(c."ID", c."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwCommunicationProviderMessageTypes"
AS SELECT
    c.*,
    "MJCommunicationProvider_CommunicationProviderID"."Name" AS "CommunicationProvider",
    "MJCommunicationBaseMessageType_CommunicationBaseMessageTypeID"."Type" AS "CommunicationBaseMessageType"
FROM
    __mj."CommunicationProviderMessageType" AS c
INNER JOIN
    __mj."CommunicationProvider" AS "MJCommunicationProvider_CommunicationProviderID"
  ON
    c."CommunicationProviderID" = "MJCommunicationProvider_CommunicationProviderID"."ID"
INNER JOIN
    __mj."CommunicationBaseMessageType" AS "MJCommunicationBaseMessageType_CommunicationBaseMessageTypeID"
  ON
    c."CommunicationBaseMessageTypeID" = "MJCommunicationBaseMessageType_CommunicationBaseMessageTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwCommunicationLogs"
AS SELECT
    c.*,
    "MJCommunicationProvider_CommunicationProviderID"."Name" AS "CommunicationProvider",
    "MJCommunicationProviderMessageType_CommunicationProviderMessageTypeID"."Name" AS "CommunicationProviderMessageType",
    "MJCommunicationRun_CommunicationRunID"."User" AS "CommunicationRun"
FROM
    __mj."CommunicationLog" AS c
INNER JOIN
    __mj."CommunicationProvider" AS "MJCommunicationProvider_CommunicationProviderID"
  ON
    c."CommunicationProviderID" = "MJCommunicationProvider_CommunicationProviderID"."ID"
INNER JOIN
    __mj."CommunicationProviderMessageType" AS "MJCommunicationProviderMessageType_CommunicationProviderMessageTypeID"
  ON
    c."CommunicationProviderMessageTypeID" = "MJCommunicationProviderMessageType_CommunicationProviderMessageTypeID"."ID"
LEFT OUTER JOIN
    __mj."vwCommunicationRuns" AS "MJCommunicationRun_CommunicationRunID"
  ON
    c."CommunicationRunID" = "MJCommunicationRun_CommunicationRunID"."ID";

CREATE OR REPLACE VIEW __mj."vwCommunicationRuns"
AS SELECT
    c.*,
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."CommunicationRun" AS c
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    c."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwCompanyIntegrationRecordMaps"
AS SELECT
    c.*,
    "MJCompanyIntegration_CompanyIntegrationID"."Name" AS "CompanyIntegration",
    "MJEntity_EntityID"."Name" AS "Entity"
FROM
    __mj."CompanyIntegrationRecordMap" AS c
INNER JOIN
    __mj."CompanyIntegration" AS "MJCompanyIntegration_CompanyIntegrationID"
  ON
    c."CompanyIntegrationID" = "MJCompanyIntegration_CompanyIntegrationID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    c."EntityID" = "MJEntity_EntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwCompanyIntegrationRunAPILogs"
AS SELECT
    c.*,
    "MJCompanyIntegrationRun_CompanyIntegrationRunID"."Integration" AS "CompanyIntegrationRun"
FROM
    __mj."CompanyIntegrationRunAPILog" AS c
INNER JOIN
    __mj."vwCompanyIntegrationRuns" AS "MJCompanyIntegrationRun_CompanyIntegrationRunID"
  ON
    c."CompanyIntegrationRunID" = "MJCompanyIntegrationRun_CompanyIntegrationRunID"."ID";

CREATE OR REPLACE VIEW __mj."vwComponentLibraryLinks"
AS SELECT
    c.*,
    "MJComponent_ComponentID"."Name" AS "Component",
    "MJComponentLibrary_LibraryID"."Name" AS "Library"
FROM
    __mj."ComponentLibraryLink" AS c
INNER JOIN
    __mj."Component" AS "MJComponent_ComponentID"
  ON
    c."ComponentID" = "MJComponent_ComponentID"."ID"
INNER JOIN
    __mj."ComponentLibrary" AS "MJComponentLibrary_LibraryID"
  ON
    c."LibraryID" = "MJComponentLibrary_LibraryID"."ID";

CREATE OR REPLACE VIEW __mj."vwComponentDependencies"
AS SELECT
    c.*,
    "MJComponent_ComponentID"."Name" AS "Component",
    "MJComponent_DependencyComponentID"."Name" AS "DependencyComponent"
FROM
    __mj."ComponentDependency" AS c
INNER JOIN
    __mj."Component" AS "MJComponent_ComponentID"
  ON
    c."ComponentID" = "MJComponent_ComponentID"."ID"
INNER JOIN
    __mj."Component" AS "MJComponent_DependencyComponentID"
  ON
    c."DependencyComponentID" = "MJComponent_DependencyComponentID"."ID";

CREATE OR REPLACE VIEW __mj."vwContentItemAttributes"
AS SELECT
    c.*,
    "MJContentItem_ContentItemID"."Name" AS "ContentItem"
FROM
    __mj."ContentItemAttribute" AS c
INNER JOIN
    __mj."ContentItem" AS "MJContentItem_ContentItemID"
  ON
    c."ContentItemID" = "MJContentItem_ContentItemID"."ID";

CREATE OR REPLACE VIEW __mj."vwContentItemTags"
AS SELECT
    c.*,
    "MJContentItem_ItemID"."Name" AS "Item"
FROM
    __mj."ContentItemTag" AS c
INNER JOIN
    __mj."ContentItem" AS "MJContentItem_ItemID"
  ON
    c."ItemID" = "MJContentItem_ItemID"."ID";

CREATE OR REPLACE VIEW __mj."vwComponents"
AS SELECT
    c.*,
    "MJComponentRegistry_SourceRegistryID"."Name" AS "SourceRegistry"
FROM
    __mj."Component" AS c
LEFT OUTER JOIN
    __mj."ComponentRegistry" AS "MJComponentRegistry_SourceRegistryID"
  ON
    c."SourceRegistryID" = "MJComponentRegistry_SourceRegistryID"."ID";

CREATE OR REPLACE VIEW __mj."vwContentItems"
AS SELECT
    c.*,
    "MJContentSource_ContentSourceID"."Name" AS "ContentSource",
    "MJContentType_ContentTypeID"."Name" AS "ContentType",
    "MJContentSourceType_ContentSourceTypeID"."Name" AS "ContentSourceType",
    "MJContentFileType_ContentFileTypeID"."Name" AS "ContentFileType"
FROM
    __mj."ContentItem" AS c
INNER JOIN
    __mj."ContentSource" AS "MJContentSource_ContentSourceID"
  ON
    c."ContentSourceID" = "MJContentSource_ContentSourceID"."ID"
INNER JOIN
    __mj."ContentType" AS "MJContentType_ContentTypeID"
  ON
    c."ContentTypeID" = "MJContentType_ContentTypeID"."ID"
INNER JOIN
    __mj."ContentSourceType" AS "MJContentSourceType_ContentSourceTypeID"
  ON
    c."ContentSourceTypeID" = "MJContentSourceType_ContentSourceTypeID"."ID"
INNER JOIN
    __mj."ContentFileType" AS "MJContentFileType_ContentFileTypeID"
  ON
    c."ContentFileTypeID" = "MJContentFileType_ContentFileTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwContentProcessRuns"
AS SELECT
    c.*,
    "MJContentSource_SourceID"."Name" AS "Source"
FROM
    __mj."ContentProcessRun" AS c
INNER JOIN
    __mj."ContentSource" AS "MJContentSource_SourceID"
  ON
    c."SourceID" = "MJContentSource_SourceID"."ID";

CREATE OR REPLACE VIEW __mj."vwContentSourceParams"
AS SELECT
    c.*,
    "MJContentSource_ContentSourceID"."Name" AS "ContentSource"
FROM
    __mj."ContentSourceParam" AS c
INNER JOIN
    __mj."ContentSource" AS "MJContentSource_ContentSourceID"
  ON
    c."ContentSourceID" = "MJContentSource_ContentSourceID"."ID";

CREATE OR REPLACE VIEW __mj."vwContentSources"
AS SELECT
    c.*,
    "MJContentType_ContentTypeID"."Name" AS "ContentType",
    "MJContentSourceType_ContentSourceTypeID"."Name" AS "ContentSourceType",
    "MJContentFileType_ContentFileTypeID"."Name" AS "ContentFileType"
FROM
    __mj."ContentSource" AS c
INNER JOIN
    __mj."ContentType" AS "MJContentType_ContentTypeID"
  ON
    c."ContentTypeID" = "MJContentType_ContentTypeID"."ID"
INNER JOIN
    __mj."ContentSourceType" AS "MJContentSourceType_ContentSourceTypeID"
  ON
    c."ContentSourceTypeID" = "MJContentSourceType_ContentSourceTypeID"."ID"
INNER JOIN
    __mj."ContentFileType" AS "MJContentFileType_ContentFileTypeID"
  ON
    c."ContentFileTypeID" = "MJContentFileType_ContentFileTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwContentTypes"
AS SELECT
    c.*,
    "MJAIModel_AIModelID"."Name" AS "AIModel"
FROM
    __mj."ContentType" AS c
INNER JOIN
    __mj."AIModel" AS "MJAIModel_AIModelID"
  ON
    c."AIModelID" = "MJAIModel_AIModelID"."ID";

CREATE OR REPLACE VIEW __mj."vwConversationArtifactPermissions"
AS SELECT
    c.*,
    "MJConversationArtifact_ConversationArtifactID"."Name" AS "ConversationArtifact"
FROM
    __mj."ConversationArtifactPermission" AS c
INNER JOIN
    __mj."ConversationArtifact" AS "MJConversationArtifact_ConversationArtifactID"
  ON
    c."ConversationArtifactID" = "MJConversationArtifact_ConversationArtifactID"."ID";

CREATE OR REPLACE VIEW __mj."vwConversationArtifactVersions"
AS SELECT
    c.*,
    "MJConversationArtifact_ConversationArtifactID"."Name" AS "ConversationArtifact"
FROM
    __mj."ConversationArtifactVersion" AS c
INNER JOIN
    __mj."ConversationArtifact" AS "MJConversationArtifact_ConversationArtifactID"
  ON
    c."ConversationArtifactID" = "MJConversationArtifact_ConversationArtifactID"."ID";

CREATE OR REPLACE VIEW __mj."vwConversationArtifacts"
AS SELECT
    c.*,
    "MJConversation_ConversationID"."Name" AS "Conversation",
    "MJArtifactType_ArtifactTypeID"."Name" AS "ArtifactType"
FROM
    __mj."ConversationArtifact" AS c
INNER JOIN
    __mj."Conversation" AS "MJConversation_ConversationID"
  ON
    c."ConversationID" = "MJConversation_ConversationID"."ID"
INNER JOIN
    __mj."ArtifactType" AS "MJArtifactType_ArtifactTypeID"
  ON
    c."ArtifactTypeID" = "MJArtifactType_ArtifactTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwConversationDetails"
AS SELECT
    c.*,
    "MJConversation_ConversationID"."Name" AS "Conversation",
    "MJUser_UserID"."Name" AS "User",
    "MJConversationArtifact_ArtifactID"."Name" AS "Artifact",
    "MJConversationArtifactVersion_ArtifactVersionID"."ConversationArtifact" AS "ArtifactVersion",
    "MJConversationDetail_ParentID"."Message" AS "Parent",
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "MJTestRun_TestRunID"."Test" AS "TestRun",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."ConversationDetail" AS c
INNER JOIN
    __mj."Conversation" AS "MJConversation_ConversationID"
  ON
    c."ConversationID" = "MJConversation_ConversationID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    c."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."ConversationArtifact" AS "MJConversationArtifact_ArtifactID"
  ON
    c."ArtifactID" = "MJConversationArtifact_ArtifactID"."ID"
LEFT OUTER JOIN
    __mj."vwConversationArtifactVersions" AS "MJConversationArtifactVersion_ArtifactVersionID"
  ON
    c."ArtifactVersionID" = "MJConversationArtifactVersion_ArtifactVersionID"."ID"
LEFT OUTER JOIN
    __mj."ConversationDetail" AS "MJConversationDetail_ParentID"
  ON
    c."ParentID" = "MJConversationDetail_ParentID"."ID"
LEFT OUTER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    c."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT OUTER JOIN
    __mj."vwTestRuns" AS "MJTestRun_TestRunID"
  ON
    c."TestRunID" = "MJTestRun_TestRunID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnConversationDetailParentID_GetRootID"(c."ID", c."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwConversationDetailArtifacts"
AS SELECT
    c.*,
    "MJConversationDetail_ConversationDetailID"."Message" AS "ConversationDetail",
    "MJArtifactVersion_ArtifactVersionID"."Name" AS "ArtifactVersion"
FROM
    __mj."ConversationDetailArtifact" AS c
INNER JOIN
    __mj."ConversationDetail" AS "MJConversationDetail_ConversationDetailID"
  ON
    c."ConversationDetailID" = "MJConversationDetail_ConversationDetailID"."ID"
INNER JOIN
    __mj."ArtifactVersion" AS "MJArtifactVersion_ArtifactVersionID"
  ON
    c."ArtifactVersionID" = "MJArtifactVersion_ArtifactVersionID"."ID";

CREATE OR REPLACE VIEW __mj."vwConversationDetailRatings"
AS SELECT
    c.*,
    "MJConversationDetail_ConversationDetailID"."Message" AS "ConversationDetail",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."ConversationDetailRating" AS c
INNER JOIN
    __mj."ConversationDetail" AS "MJConversationDetail_ConversationDetailID"
  ON
    c."ConversationDetailID" = "MJConversationDetail_ConversationDetailID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    c."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwConversationDetailAttachments"
AS SELECT
    c.*,
    "MJConversationDetail_ConversationDetailID"."Message" AS "ConversationDetail",
    "MJAIModality_ModalityID"."Name" AS "Modality",
    "MJFile_FileID"."Name" AS "File"
FROM
    __mj."ConversationDetailAttachment" AS c
INNER JOIN
    __mj."ConversationDetail" AS "MJConversationDetail_ConversationDetailID"
  ON
    c."ConversationDetailID" = "MJConversationDetail_ConversationDetailID"."ID"
INNER JOIN
    __mj."AIModality" AS "MJAIModality_ModalityID"
  ON
    c."ModalityID" = "MJAIModality_ModalityID"."ID"
LEFT OUTER JOIN
    __mj."File" AS "MJFile_FileID"
  ON
    c."FileID" = "MJFile_FileID"."ID";

CREATE OR REPLACE VIEW __mj."vwConversations"
AS SELECT
    c.*,
    "MJUser_UserID"."Name" AS "User",
    "MJEntity_LinkedEntityID"."Name" AS "LinkedEntity",
    "MJDataContext_DataContextID"."Name" AS "DataContext",
    "MJEnvironment_EnvironmentID"."Name" AS "Environment",
    "MJProject_ProjectID"."Name" AS "Project",
    "MJTestRun_TestRunID"."Test" AS "TestRun"
FROM
    __mj."Conversation" AS c
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    c."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_LinkedEntityID"
  ON
    c."LinkedEntityID" = "MJEntity_LinkedEntityID"."ID"
LEFT OUTER JOIN
    __mj."DataContext" AS "MJDataContext_DataContextID"
  ON
    c."DataContextID" = "MJDataContext_DataContextID"."ID"
INNER JOIN
    __mj."Environment" AS "MJEnvironment_EnvironmentID"
  ON
    c."EnvironmentID" = "MJEnvironment_EnvironmentID"."ID"
LEFT OUTER JOIN
    __mj."Project" AS "MJProject_ProjectID"
  ON
    c."ProjectID" = "MJProject_ProjectID"."ID"
LEFT OUTER JOIN
    __mj."vwTestRuns" AS "MJTestRun_TestRunID"
  ON
    c."TestRunID" = "MJTestRun_TestRunID"."ID";

CREATE OR REPLACE VIEW __mj."vwCredentialCategories"
AS SELECT
    c.*,
    "MJCredentialCategory_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."CredentialCategory" AS c
LEFT OUTER JOIN
    __mj."CredentialCategory" AS "MJCredentialCategory_ParentID"
  ON
    c."ParentID" = "MJCredentialCategory_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnCredentialCategoryParentID_GetRootID"(c."ID", c."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwCredentials"
AS SELECT
    c.*,
    "MJCredentialType_CredentialTypeID"."Name" AS "CredentialType",
    "MJCredentialCategory_CategoryID"."Name" AS "Category"
FROM
    __mj."Credential" AS c
INNER JOIN
    __mj."CredentialType" AS "MJCredentialType_CredentialTypeID"
  ON
    c."CredentialTypeID" = "MJCredentialType_CredentialTypeID"."ID"
LEFT OUTER JOIN
    __mj."CredentialCategory" AS "MJCredentialCategory_CategoryID"
  ON
    c."CategoryID" = "MJCredentialCategory_CategoryID"."ID";

CREATE OR REPLACE VIEW __mj."vwDashboardCategories"
AS SELECT
    d.*,
    "MJDashboardCategory_ParentID"."Name" AS "Parent",
    "MJUser_UserID"."Name" AS "User",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."DashboardCategory" AS d
LEFT OUTER JOIN
    __mj."DashboardCategory" AS "MJDashboardCategory_ParentID"
  ON
    d."ParentID" = "MJDashboardCategory_ParentID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    d."UserID" = "MJUser_UserID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnDashboardCategoryParentID_GetRootID"(d."ID", d."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwDashboardCategoryLinks"
AS SELECT
    d.*,
    "MJDashboard_DashboardID"."Name" AS "Dashboard",
    "MJUser_UserID"."Name" AS "User",
    "MJDashboardCategory_DashboardCategoryID"."Name" AS "DashboardCategory"
FROM
    __mj."DashboardCategoryLink" AS d
INNER JOIN
    __mj."Dashboard" AS "MJDashboard_DashboardID"
  ON
    d."DashboardID" = "MJDashboard_DashboardID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    d."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."DashboardCategory" AS "MJDashboardCategory_DashboardCategoryID"
  ON
    d."DashboardCategoryID" = "MJDashboardCategory_DashboardCategoryID"."ID";

CREATE OR REPLACE VIEW __mj."vwDashboardCategoryPermissions"
AS SELECT
    d.*,
    "MJDashboardCategory_DashboardCategoryID"."Name" AS "DashboardCategory",
    "MJUser_UserID"."Name" AS "User",
    "MJUser_SharedByUserID"."Name" AS "SharedByUser"
FROM
    __mj."DashboardCategoryPermission" AS d
INNER JOIN
    __mj."DashboardCategory" AS "MJDashboardCategory_DashboardCategoryID"
  ON
    d."DashboardCategoryID" = "MJDashboardCategory_DashboardCategoryID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    d."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_SharedByUserID"
  ON
    d."SharedByUserID" = "MJUser_SharedByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwDashboardPermissions"
AS SELECT
    d.*,
    "MJDashboard_DashboardID"."Name" AS "Dashboard",
    "MJUser_UserID"."Name" AS "User",
    "MJUser_SharedByUserID"."Name" AS "SharedByUser"
FROM
    __mj."DashboardPermission" AS d
INNER JOIN
    __mj."Dashboard" AS "MJDashboard_DashboardID"
  ON
    d."DashboardID" = "MJDashboard_DashboardID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    d."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_SharedByUserID"
  ON
    d."SharedByUserID" = "MJUser_SharedByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwDashboardUserPreferences"
AS SELECT
    d.*,
    "MJUser_UserID"."Name" AS "User",
    "MJDashboard_DashboardID"."Name" AS "Dashboard",
    "MJApplication_ApplicationID"."Name" AS "Application"
FROM
    __mj."DashboardUserPreference" AS d
LEFT OUTER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    d."UserID" = "MJUser_UserID"."ID"
INNER JOIN
    __mj."Dashboard" AS "MJDashboard_DashboardID"
  ON
    d."DashboardID" = "MJDashboard_DashboardID"."ID"
LEFT OUTER JOIN
    __mj."Application" AS "MJApplication_ApplicationID"
  ON
    d."ApplicationID" = "MJApplication_ApplicationID"."ID";

CREATE OR REPLACE VIEW __mj."vwDashboardUserStates"
AS SELECT
    d.*,
    "MJDashboard_DashboardID"."Name" AS "Dashboard",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."DashboardUserState" AS d
INNER JOIN
    __mj."Dashboard" AS "MJDashboard_DashboardID"
  ON
    d."DashboardID" = "MJDashboard_DashboardID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    d."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwDashboards"
AS SELECT
    d.*,
    "MJUser_UserID"."Name" AS "User",
    "MJDashboardCategory_CategoryID"."Name" AS "Category",
    "MJApplication_ApplicationID"."Name" AS "Application",
    "MJEnvironment_EnvironmentID"."Name" AS "Environment"
FROM
    __mj."Dashboard" AS d
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    d."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."DashboardCategory" AS "MJDashboardCategory_CategoryID"
  ON
    d."CategoryID" = "MJDashboardCategory_CategoryID"."ID"
LEFT OUTER JOIN
    __mj."Application" AS "MJApplication_ApplicationID"
  ON
    d."ApplicationID" = "MJApplication_ApplicationID"."ID"
INNER JOIN
    __mj."Environment" AS "MJEnvironment_EnvironmentID"
  ON
    d."EnvironmentID" = "MJEnvironment_EnvironmentID"."ID";

CREATE OR REPLACE VIEW __mj."vwDataContextItems"
AS SELECT
    d.*,
    "MJDataContext_DataContextID"."Name" AS "DataContext",
    "MJUserView_ViewID"."Name" AS "View",
    "MJQuery_QueryID"."Name" AS "Query",
    "MJEntity_EntityID"."Name" AS "Entity"
FROM
    __mj."DataContextItem" AS d
INNER JOIN
    __mj."DataContext" AS "MJDataContext_DataContextID"
  ON
    d."DataContextID" = "MJDataContext_DataContextID"."ID"
LEFT OUTER JOIN
    __mj."UserView" AS "MJUserView_ViewID"
  ON
    d."ViewID" = "MJUserView_ViewID"."ID"
LEFT OUTER JOIN
    __mj."Query" AS "MJQuery_QueryID"
  ON
    d."QueryID" = "MJQuery_QueryID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    d."EntityID" = "MJEntity_EntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwDataContexts"
AS SELECT
    d.*,
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."DataContext" AS d
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    d."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwDatasetItems"
AS SELECT
    d.*,
    "MJDataset_DatasetID"."Name" AS "Dataset",
    "MJEntity_EntityID"."Name" AS "Entity"
FROM
    __mj."DatasetItem" AS d
INNER JOIN
    __mj."Dataset" AS "MJDataset_DatasetID"
  ON
    d."DatasetID" = "MJDataset_DatasetID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    d."EntityID" = "MJEntity_EntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwDuplicateRunDetails"
AS SELECT
    d.*,
    "MJDuplicateRun_DuplicateRunID"."Entity" AS "DuplicateRun"
FROM
    __mj."DuplicateRunDetail" AS d
INNER JOIN
    __mj."vwDuplicateRuns" AS "MJDuplicateRun_DuplicateRunID"
  ON
    d."DuplicateRunID" = "MJDuplicateRun_DuplicateRunID"."ID";

CREATE OR REPLACE VIEW __mj."vwDuplicateRunDetailMatches"
AS SELECT
    d.*,
    "MJDuplicateRunDetail_DuplicateRunDetailID"."RecordID" AS "DuplicateRunDetail",
    "MJRecordMergeLog_RecordMergeLogID"."SurvivingRecordID" AS "RecordMergeLog"
FROM
    __mj."DuplicateRunDetailMatch" AS d
INNER JOIN
    __mj."DuplicateRunDetail" AS "MJDuplicateRunDetail_DuplicateRunDetailID"
  ON
    d."DuplicateRunDetailID" = "MJDuplicateRunDetail_DuplicateRunDetailID"."ID"
LEFT OUTER JOIN
    __mj."RecordMergeLog" AS "MJRecordMergeLog_RecordMergeLogID"
  ON
    d."RecordMergeLogID" = "MJRecordMergeLog_RecordMergeLogID"."ID";

CREATE OR REPLACE VIEW __mj."vwDuplicateRuns"
AS SELECT
    d.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJUser_StartedByUserID"."Name" AS "StartedByUser",
    "MJList_SourceListID"."Name" AS "SourceList",
    "MJUser_ApprovedByUserID"."Name" AS "ApprovedByUser"
FROM
    __mj."DuplicateRun" AS d
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    d."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_StartedByUserID"
  ON
    d."StartedByUserID" = "MJUser_StartedByUserID"."ID"
INNER JOIN
    __mj."List" AS "MJList_SourceListID"
  ON
    d."SourceListID" = "MJList_SourceListID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_ApprovedByUserID"
  ON
    d."ApprovedByUserID" = "MJUser_ApprovedByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwEmployeeCompanyIntegrations"
AS SELECT
    e.*,
    "MJEmployee_EmployeeID"."FirstLast" AS "Employee",
    "MJCompanyIntegration_CompanyIntegrationID"."Name" AS "CompanyIntegration"
FROM
    __mj."EmployeeCompanyIntegration" AS e
INNER JOIN
    __mj."vwEmployees" AS "MJEmployee_EmployeeID"
  ON
    e."EmployeeID" = "MJEmployee_EmployeeID"."ID"
INNER JOIN
    __mj."CompanyIntegration" AS "MJCompanyIntegration_CompanyIntegrationID"
  ON
    e."CompanyIntegrationID" = "MJCompanyIntegration_CompanyIntegrationID"."ID";

CREATE OR REPLACE VIEW __mj."vwEmployeeRoles"
AS SELECT
    e.*,
    "MJEmployee_EmployeeID"."FirstLast" AS "Employee",
    "MJRole_RoleID"."Name" AS "Role"
FROM
    __mj."EmployeeRole" AS e
INNER JOIN
    __mj."vwEmployees" AS "MJEmployee_EmployeeID"
  ON
    e."EmployeeID" = "MJEmployee_EmployeeID"."ID"
INNER JOIN
    __mj."Role" AS "MJRole_RoleID"
  ON
    e."RoleID" = "MJRole_RoleID"."ID";

CREATE OR REPLACE VIEW __mj."vwEmployeeSkills"
AS SELECT
    e.*,
    "MJEmployee_EmployeeID"."FirstLast" AS "Employee",
    "MJSkill_SkillID"."Name" AS "Skill"
FROM
    __mj."EmployeeSkill" AS e
INNER JOIN
    __mj."vwEmployees" AS "MJEmployee_EmployeeID"
  ON
    e."EmployeeID" = "MJEmployee_EmployeeID"."ID"
INNER JOIN
    __mj."Skill" AS "MJSkill_SkillID"
  ON
    e."SkillID" = "MJSkill_SkillID"."ID";

CREATE OR REPLACE VIEW __mj."vwEncryptionKeys"
AS SELECT
    e.*,
    "MJEncryptionKeySource_EncryptionKeySourceID"."Name" AS "EncryptionKeySource",
    "MJEncryptionAlgorithm_EncryptionAlgorithmID"."Name" AS "EncryptionAlgorithm"
FROM
    __mj."EncryptionKey" AS e
INNER JOIN
    __mj."EncryptionKeySource" AS "MJEncryptionKeySource_EncryptionKeySourceID"
  ON
    e."EncryptionKeySourceID" = "MJEncryptionKeySource_EncryptionKeySourceID"."ID"
INNER JOIN
    __mj."EncryptionAlgorithm" AS "MJEncryptionAlgorithm_EncryptionAlgorithmID"
  ON
    e."EncryptionAlgorithmID" = "MJEncryptionAlgorithm_EncryptionAlgorithmID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityActionInvocations"
AS SELECT
    e.*,
    "MJEntityAction_EntityActionID"."Action" AS "EntityAction",
    "MJEntityActionInvocationType_InvocationTypeID"."Name" AS "InvocationType"
FROM
    __mj."EntityActionInvocation" AS e
INNER JOIN
    __mj."vwEntityActions" AS "MJEntityAction_EntityActionID"
  ON
    e."EntityActionID" = "MJEntityAction_EntityActionID"."ID"
INNER JOIN
    __mj."EntityActionInvocationType" AS "MJEntityActionInvocationType_InvocationTypeID"
  ON
    e."InvocationTypeID" = "MJEntityActionInvocationType_InvocationTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityActionFilters"
AS SELECT
    e.*,
    "MJEntityAction_EntityActionID"."Action" AS "EntityAction",
    "MJActionFilter_ActionFilterID"."UserDescription" AS "ActionFilter"
FROM
    __mj."EntityActionFilter" AS e
INNER JOIN
    __mj."vwEntityActions" AS "MJEntityAction_EntityActionID"
  ON
    e."EntityActionID" = "MJEntityAction_EntityActionID"."ID"
INNER JOIN
    __mj."ActionFilter" AS "MJActionFilter_ActionFilterID"
  ON
    e."ActionFilterID" = "MJActionFilter_ActionFilterID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityActionParams"
AS SELECT
    e.*,
    "MJEntityAction_EntityActionID"."Action" AS "EntityAction",
    "MJActionParam_ActionParamID"."Name" AS "ActionParam"
FROM
    __mj."EntityActionParam" AS e
INNER JOIN
    __mj."vwEntityActions" AS "MJEntityAction_EntityActionID"
  ON
    e."EntityActionID" = "MJEntityAction_EntityActionID"."ID"
INNER JOIN
    __mj."ActionParam" AS "MJActionParam_ActionParamID"
  ON
    e."ActionParamID" = "MJActionParam_ActionParamID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityCommunicationFields"
AS SELECT
    e.*,
    "MJEntityCommunicationMessageType_EntityCommunicationMessageTypeID"."BaseMessageType" AS "EntityCommunicationMessageType"
FROM
    __mj."EntityCommunicationField" AS e
INNER JOIN
    __mj."vwEntityCommunicationMessageTypes" AS "MJEntityCommunicationMessageType_EntityCommunicationMessageTypeID"
  ON
    e."EntityCommunicationMessageTypeID" = "MJEntityCommunicationMessageType_EntityCommunicationMessageTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityActions"
AS SELECT
    e.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJAction_ActionID"."Name" AS "Action"
FROM
    __mj."EntityAction" AS e
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    e."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."Action" AS "MJAction_ActionID"
  ON
    e."ActionID" = "MJAction_ActionID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityAIActions"
AS SELECT
    e.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJAIModel_AIModelID"."Name" AS "AIModel",
    "MJAIAction_AIActionID"."Name" AS "AIAction",
    "MJEntity_OutputEntityID"."Name" AS "OutputEntity"
FROM
    __mj."EntityAIAction" AS e
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    e."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."AIModel" AS "MJAIModel_AIModelID"
  ON
    e."AIModelID" = "MJAIModel_AIModelID"."ID"
INNER JOIN
    __mj."AIAction" AS "MJAIAction_AIActionID"
  ON
    e."AIActionID" = "MJAIAction_AIActionID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_OutputEntityID"
  ON
    e."OutputEntityID" = "MJEntity_OutputEntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityCommunicationMessageTypes"
AS SELECT
    e.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJCommunicationBaseMessageType_BaseMessageTypeID"."Type" AS "BaseMessageType"
FROM
    __mj."EntityCommunicationMessageType" AS e
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    e."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."CommunicationBaseMessageType" AS "MJCommunicationBaseMessageType_BaseMessageTypeID"
  ON
    e."BaseMessageTypeID" = "MJCommunicationBaseMessageType_BaseMessageTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityDocumentRuns"
AS SELECT
    e.*,
    "MJEntityDocument_EntityDocumentID"."Name" AS "EntityDocument"
FROM
    __mj."EntityDocumentRun" AS e
INNER JOIN
    __mj."EntityDocument" AS "MJEntityDocument_EntityDocumentID"
  ON
    e."EntityDocumentID" = "MJEntityDocument_EntityDocumentID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityDocumentSettings"
AS SELECT
    e.*,
    "MJEntityDocument_EntityDocumentID"."Name" AS "EntityDocument"
FROM
    __mj."EntityDocumentSetting" AS e
INNER JOIN
    __mj."EntityDocument" AS "MJEntityDocument_EntityDocumentID"
  ON
    e."EntityDocumentID" = "MJEntityDocument_EntityDocumentID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityDocuments"
AS SELECT
    e.*,
    "MJEntityDocumentType_TypeID"."Name" AS "Type",
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJVectorDatabase_VectorDatabaseID"."Name" AS "VectorDatabase",
    "MJTemplate_TemplateID"."Name" AS "Template",
    "MJAIModel_AIModelID"."Name" AS "AIModel"
FROM
    __mj."EntityDocument" AS e
INNER JOIN
    __mj."EntityDocumentType" AS "MJEntityDocumentType_TypeID"
  ON
    e."TypeID" = "MJEntityDocumentType_TypeID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    e."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."VectorDatabase" AS "MJVectorDatabase_VectorDatabaseID"
  ON
    e."VectorDatabaseID" = "MJVectorDatabase_VectorDatabaseID"."ID"
INNER JOIN
    __mj."Template" AS "MJTemplate_TemplateID"
  ON
    e."TemplateID" = "MJTemplate_TemplateID"."ID"
INNER JOIN
    __mj."AIModel" AS "MJAIModel_AIModelID"
  ON
    e."AIModelID" = "MJAIModel_AIModelID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntityRecordDocuments"
AS SELECT
    e.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJEntityDocument_EntityDocumentID"."Name" AS "EntityDocument",
    "MJVectorIndex_VectorIndexID"."Name" AS "VectorIndex"
FROM
    __mj."EntityRecordDocument" AS e
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    e."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."EntityDocument" AS "MJEntityDocument_EntityDocumentID"
  ON
    e."EntityDocumentID" = "MJEntityDocument_EntityDocumentID"."ID"
INNER JOIN
    __mj."VectorIndex" AS "MJVectorIndex_VectorIndexID"
  ON
    e."VectorIndexID" = "MJVectorIndex_VectorIndexID"."ID";

CREATE OR REPLACE VIEW __mj."vwEntitySettings"
AS SELECT
    e.*,
    "MJEntity_EntityID"."Name" AS "Entity"
FROM
    __mj."EntitySetting" AS e
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    e."EntityID" = "MJEntity_EntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwFileCategories"
AS SELECT
    f.*,
    "MJFileCategory_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."FileCategory" AS f
LEFT OUTER JOIN
    __mj."FileCategory" AS "MJFileCategory_ParentID"
  ON
    f."ParentID" = "MJFileCategory_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnFileCategoryParentID_GetRootID"(f."ID", f."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwErrorLogs"
AS SELECT
    e.*,
    "MJCompanyIntegrationRun_CompanyIntegrationRunID"."Integration" AS "CompanyIntegrationRun",
    "MJCompanyIntegrationRunDetail_CompanyIntegrationRunDetailID"."RecordID" AS "CompanyIntegrationRunDetail"
FROM
    __mj."ErrorLog" AS e
LEFT OUTER JOIN
    __mj."vwCompanyIntegrationRuns" AS "MJCompanyIntegrationRun_CompanyIntegrationRunID"
  ON
    e."CompanyIntegrationRunID" = "MJCompanyIntegrationRun_CompanyIntegrationRunID"."ID"
LEFT OUTER JOIN
    __mj."CompanyIntegrationRunDetail" AS "MJCompanyIntegrationRunDetail_CompanyIntegrationRunDetailID"
  ON
    e."CompanyIntegrationRunDetailID" = "MJCompanyIntegrationRunDetail_CompanyIntegrationRunDetailID"."ID";

CREATE OR REPLACE VIEW __mj."vwFileEntityRecordLinks"
AS SELECT
    f.*,
    "MJFile_FileID"."Name" AS "File",
    "MJEntity_EntityID"."Name" AS "Entity"
FROM
    __mj."FileEntityRecordLink" AS f
INNER JOIN
    __mj."File" AS "MJFile_FileID"
  ON
    f."FileID" = "MJFile_FileID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    f."EntityID" = "MJEntity_EntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwFiles"
AS SELECT
    f.*,
    "MJFileCategory_CategoryID"."Name" AS "Category",
    "MJFileStorageProvider_ProviderID"."Name" AS "Provider"
FROM
    __mj."File" AS f
LEFT OUTER JOIN
    __mj."FileCategory" AS "MJFileCategory_CategoryID"
  ON
    f."CategoryID" = "MJFileCategory_CategoryID"."ID"
INNER JOIN
    __mj."FileStorageProvider" AS "MJFileStorageProvider_ProviderID"
  ON
    f."ProviderID" = "MJFileStorageProvider_ProviderID"."ID";

CREATE OR REPLACE VIEW __mj."vwFileStorageAccounts"
AS SELECT
    f.*,
    "MJFileStorageProvider_ProviderID"."Name" AS "Provider",
    "MJCredential_CredentialID"."Name" AS "Credential"
FROM
    __mj."FileStorageAccount" AS f
INNER JOIN
    __mj."FileStorageProvider" AS "MJFileStorageProvider_ProviderID"
  ON
    f."ProviderID" = "MJFileStorageProvider_ProviderID"."ID"
INNER JOIN
    __mj."Credential" AS "MJCredential_CredentialID"
  ON
    f."CredentialID" = "MJCredential_CredentialID"."ID";

CREATE OR REPLACE VIEW __mj."vwGeneratedCodeCategories"
AS SELECT
    g.*,
    "MJGeneratedCodeCategory_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."GeneratedCodeCategory" AS g
LEFT OUTER JOIN
    __mj."GeneratedCodeCategory" AS "MJGeneratedCodeCategory_ParentID"
  ON
    g."ParentID" = "MJGeneratedCodeCategory_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnGeneratedCodeCategoryParentID_GetRootID"(g."ID", g."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwGeneratedCodes"
AS SELECT
    g.*,
    "MJGeneratedCodeCategory_CategoryID"."Name" AS "Category",
    "MJAIModel_GeneratedByModelID"."Name" AS "GeneratedByModel",
    "MJEntity_LinkedEntityID"."Name" AS "LinkedEntity"
FROM
    __mj."GeneratedCode" AS g
INNER JOIN
    __mj."GeneratedCodeCategory" AS "MJGeneratedCodeCategory_CategoryID"
  ON
    g."CategoryID" = "MJGeneratedCodeCategory_CategoryID"."ID"
INNER JOIN
    __mj."AIModel" AS "MJAIModel_GeneratedByModelID"
  ON
    g."GeneratedByModelID" = "MJAIModel_GeneratedByModelID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_LinkedEntityID"
  ON
    g."LinkedEntityID" = "MJEntity_LinkedEntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwLibraryItems"
AS SELECT
    l.*,
    "MJLibrary_LibraryID"."Name" AS "Library"
FROM
    __mj."LibraryItem" AS l
INNER JOIN
    __mj."Library" AS "MJLibrary_LibraryID"
  ON
    l."LibraryID" = "MJLibrary_LibraryID"."ID";

CREATE OR REPLACE VIEW __mj."vwListCategories"
AS SELECT
    l.*,
    "MJListCategory_ParentID"."Name" AS "Parent",
    "MJUser_UserID"."Name" AS "User",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."ListCategory" AS l
LEFT OUTER JOIN
    __mj."ListCategory" AS "MJListCategory_ParentID"
  ON
    l."ParentID" = "MJListCategory_ParentID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    l."UserID" = "MJUser_UserID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnListCategoryParentID_GetRootID"(l."ID", l."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwListInvitations"
AS SELECT
    l.*,
    "MJList_ListID"."Name" AS "List",
    "MJUser_CreatedByUserID"."Name" AS "CreatedByUser"
FROM
    __mj."ListInvitation" AS l
INNER JOIN
    __mj."List" AS "MJList_ListID"
  ON
    l."ListID" = "MJList_ListID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_CreatedByUserID"
  ON
    l."CreatedByUserID" = "MJUser_CreatedByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwLists"
AS SELECT
    l.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJUser_UserID"."Name" AS "User",
    "MJListCategory_CategoryID"."Name" AS "Category",
    "MJCompanyIntegration_CompanyIntegrationID"."Name" AS "CompanyIntegration"
FROM
    __mj."List" AS l
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    l."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    l."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."ListCategory" AS "MJListCategory_CategoryID"
  ON
    l."CategoryID" = "MJListCategory_CategoryID"."ID"
LEFT OUTER JOIN
    __mj."CompanyIntegration" AS "MJCompanyIntegration_CompanyIntegrationID"
  ON
    l."CompanyIntegrationID" = "MJCompanyIntegration_CompanyIntegrationID"."ID";

CREATE OR REPLACE VIEW __mj."vwListDetails"
AS SELECT
    l.*,
    "MJList_ListID"."Name" AS "List"
FROM
    __mj."ListDetail" AS l
INNER JOIN
    __mj."List" AS "MJList_ListID"
  ON
    l."ListID" = "MJList_ListID"."ID";

CREATE OR REPLACE VIEW __mj."vwListShares"
AS SELECT
    l.*,
    "MJList_ListID"."Name" AS "List",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."ListShare" AS l
INNER JOIN
    __mj."List" AS "MJList_ListID"
  ON
    l."ListID" = "MJList_ListID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    l."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwMCPServerConnectionPermissions"
AS SELECT
    m.*,
    "MJMCPServerConnection_MCPServerConnectionID"."Name" AS "MCPServerConnection",
    "MJUser_UserID"."Name" AS "User",
    "MJRole_RoleID"."Name" AS "Role"
FROM
    __mj."MCPServerConnectionPermission" AS m
INNER JOIN
    __mj."MCPServerConnection" AS "MJMCPServerConnection_MCPServerConnectionID"
  ON
    m."MCPServerConnectionID" = "MJMCPServerConnection_MCPServerConnectionID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    m."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."Role" AS "MJRole_RoleID"
  ON
    m."RoleID" = "MJRole_RoleID"."ID";

CREATE OR REPLACE VIEW __mj."vwMCPServerConnectionTools"
AS SELECT
    m.*,
    "MJMCPServerConnection_MCPServerConnectionID"."Name" AS "MCPServerConnection",
    "MJMCPServerTool_MCPServerToolID"."ToolTitle" AS "MCPServerTool"
FROM
    __mj."MCPServerConnectionTool" AS m
INNER JOIN
    __mj."MCPServerConnection" AS "MJMCPServerConnection_MCPServerConnectionID"
  ON
    m."MCPServerConnectionID" = "MJMCPServerConnection_MCPServerConnectionID"."ID"
INNER JOIN
    __mj."MCPServerTool" AS "MJMCPServerTool_MCPServerToolID"
  ON
    m."MCPServerToolID" = "MJMCPServerTool_MCPServerToolID"."ID";

CREATE OR REPLACE VIEW __mj."vwMCPServers"
AS SELECT
    m.*,
    "MJCredentialType_CredentialTypeID"."Name" AS "CredentialType"
FROM
    __mj."MCPServer" AS m
LEFT OUTER JOIN
    __mj."CredentialType" AS "MJCredentialType_CredentialTypeID"
  ON
    m."CredentialTypeID" = "MJCredentialType_CredentialTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwMCPServerConnections"
AS SELECT
    m.*,
    "MJMCPServer_MCPServerID"."Name" AS "MCPServer",
    "MJCredential_CredentialID"."Name" AS "Credential",
    "MJCompany_CompanyID"."Name" AS "Company"
FROM
    __mj."MCPServerConnection" AS m
INNER JOIN
    __mj."MCPServer" AS "MJMCPServer_MCPServerID"
  ON
    m."MCPServerID" = "MJMCPServer_MCPServerID"."ID"
LEFT OUTER JOIN
    __mj."Credential" AS "MJCredential_CredentialID"
  ON
    m."CredentialID" = "MJCredential_CredentialID"."ID"
LEFT OUTER JOIN
    __mj."Company" AS "MJCompany_CompanyID"
  ON
    m."CompanyID" = "MJCompany_CompanyID"."ID";

CREATE OR REPLACE VIEW __mj."vwMCPServerTools"
AS SELECT
    m.*,
    "MJMCPServer_MCPServerID"."Name" AS "MCPServer",
    "MJAction_GeneratedActionID"."Name" AS "GeneratedAction",
    "MJActionCategory_GeneratedActionCategoryID"."Name" AS "GeneratedActionCategory"
FROM
    __mj."MCPServerTool" AS m
INNER JOIN
    __mj."MCPServer" AS "MJMCPServer_MCPServerID"
  ON
    m."MCPServerID" = "MJMCPServer_MCPServerID"."ID"
LEFT OUTER JOIN
    __mj."Action" AS "MJAction_GeneratedActionID"
  ON
    m."GeneratedActionID" = "MJAction_GeneratedActionID"."ID"
LEFT OUTER JOIN
    __mj."ActionCategory" AS "MJActionCategory_GeneratedActionCategoryID"
  ON
    m."GeneratedActionCategoryID" = "MJActionCategory_GeneratedActionCategoryID"."ID";

CREATE OR REPLACE VIEW __mj."vwMCPToolExecutionLogs"
AS SELECT
    m.*,
    "MJMCPServerConnection_MCPServerConnectionID"."Name" AS "MCPServerConnection",
    "MJMCPServerTool_MCPServerToolID"."ToolTitle" AS "MCPServerTool",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."MCPToolExecutionLog" AS m
INNER JOIN
    __mj."MCPServerConnection" AS "MJMCPServerConnection_MCPServerConnectionID"
  ON
    m."MCPServerConnectionID" = "MJMCPServerConnection_MCPServerConnectionID"."ID"
LEFT OUTER JOIN
    __mj."MCPServerTool" AS "MJMCPServerTool_MCPServerToolID"
  ON
    m."MCPServerToolID" = "MJMCPServerTool_MCPServerToolID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    m."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwOAuthTokens"
AS SELECT
    o.*,
    "MJMCPServerConnection_MCPServerConnectionID"."Name" AS "MCPServerConnection",
    "MJCredential_CredentialID"."Name" AS "Credential"
FROM
    __mj."OAuthToken" AS o
INNER JOIN
    __mj."MCPServerConnection" AS "MJMCPServerConnection_MCPServerConnectionID"
  ON
    o."MCPServerConnectionID" = "MJMCPServerConnection_MCPServerConnectionID"."ID"
LEFT OUTER JOIN
    __mj."Credential" AS "MJCredential_CredentialID"
  ON
    o."CredentialID" = "MJCredential_CredentialID"."ID";

CREATE OR REPLACE VIEW __mj."vwOAuthAuthorizationStates"
AS SELECT
    o.*,
    "MJMCPServerConnection_MCPServerConnectionID"."Name" AS "MCPServerConnection",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."OAuthAuthorizationState" AS o
INNER JOIN
    __mj."MCPServerConnection" AS "MJMCPServerConnection_MCPServerConnectionID"
  ON
    o."MCPServerConnectionID" = "MJMCPServerConnection_MCPServerConnectionID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    o."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwOAuthClientRegistrations"
AS SELECT
    o.*,
    "MJMCPServerConnection_MCPServerConnectionID"."Name" AS "MCPServerConnection",
    "MJMCPServer_MCPServerID"."Name" AS "MCPServer"
FROM
    __mj."OAuthClientRegistration" AS o
INNER JOIN
    __mj."MCPServerConnection" AS "MJMCPServerConnection_MCPServerConnectionID"
  ON
    o."MCPServerConnectionID" = "MJMCPServerConnection_MCPServerConnectionID"."ID"
INNER JOIN
    __mj."MCPServer" AS "MJMCPServer_MCPServerID"
  ON
    o."MCPServerID" = "MJMCPServer_MCPServerID"."ID";

CREATE OR REPLACE VIEW __mj."vwPublicLinks"
AS SELECT
    p.*,
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."PublicLink" AS p
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    p."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwQueries"
AS SELECT
    q.*,
    "MJQueryCategory_CategoryID"."Name" AS "Category",
    "MJAIModel_EmbeddingModelID"."Name" AS "EmbeddingModel"
FROM
    __mj."Query" AS q
LEFT OUTER JOIN
    __mj."QueryCategory" AS "MJQueryCategory_CategoryID"
  ON
    q."CategoryID" = "MJQueryCategory_CategoryID"."ID"
LEFT OUTER JOIN
    __mj."AIModel" AS "MJAIModel_EmbeddingModelID"
  ON
    q."EmbeddingModelID" = "MJAIModel_EmbeddingModelID"."ID";

CREATE OR REPLACE VIEW __mj."vwProjects"
AS SELECT
    p.*,
    "MJEnvironment_EnvironmentID"."Name" AS "Environment",
    "MJProject_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."Project" AS p
INNER JOIN
    __mj."Environment" AS "MJEnvironment_EnvironmentID"
  ON
    p."EnvironmentID" = "MJEnvironment_EnvironmentID"."ID"
LEFT OUTER JOIN
    __mj."Project" AS "MJProject_ParentID"
  ON
    p."ParentID" = "MJProject_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnProjectParentID_GetRootID"(p."ID", p."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwQueryCategories"
AS SELECT
    q.*,
    "MJQueryCategory_ParentID"."Name" AS "Parent",
    "MJUser_UserID"."Name" AS "User",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."QueryCategory" AS q
LEFT OUTER JOIN
    __mj."QueryCategory" AS "MJQueryCategory_ParentID"
  ON
    q."ParentID" = "MJQueryCategory_ParentID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    q."UserID" = "MJUser_UserID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnQueryCategoryParentID_GetRootID"(q."ID", q."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwQueryEntities"
AS SELECT
    q.*,
    "MJQuery_QueryID"."Name" AS "Query",
    "MJEntity_EntityID"."Name" AS "Entity"
FROM
    __mj."QueryEntity" AS q
INNER JOIN
    __mj."Query" AS "MJQuery_QueryID"
  ON
    q."QueryID" = "MJQuery_QueryID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    q."EntityID" = "MJEntity_EntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwQueryFields"
AS SELECT
    q.*,
    "MJQuery_QueryID"."Name" AS "Query",
    "MJEntity_SourceEntityID"."Name" AS "SourceEntity"
FROM
    __mj."QueryField" AS q
INNER JOIN
    __mj."Query" AS "MJQuery_QueryID"
  ON
    q."QueryID" = "MJQuery_QueryID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_SourceEntityID"
  ON
    q."SourceEntityID" = "MJEntity_SourceEntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwQueueTasks"
AS SELECT
    q.*,
    "MJQueue_QueueID"."Name" AS "Queue"
FROM
    __mj."QueueTask" AS q
INNER JOIN
    __mj."Queue" AS "MJQueue_QueueID"
  ON
    q."QueueID" = "MJQueue_QueueID"."ID";

CREATE OR REPLACE VIEW __mj."vwQueryParameters"
AS SELECT
    q.*,
    "MJQuery_QueryID"."Name" AS "Query"
FROM
    __mj."QueryParameter" AS q
INNER JOIN
    __mj."Query" AS "MJQuery_QueryID"
  ON
    q."QueryID" = "MJQuery_QueryID"."ID";

CREATE OR REPLACE VIEW __mj."vwQueryPermissions"
AS SELECT
    q.*,
    "MJQuery_QueryID"."Name" AS "Query",
    "MJRole_RoleID"."Name" AS "Role"
FROM
    __mj."QueryPermission" AS q
INNER JOIN
    __mj."Query" AS "MJQuery_QueryID"
  ON
    q."QueryID" = "MJQuery_QueryID"."ID"
INNER JOIN
    __mj."Role" AS "MJRole_RoleID"
  ON
    q."RoleID" = "MJRole_RoleID"."ID";

CREATE OR REPLACE VIEW __mj."vwRecommendationItems"
AS SELECT
    r.*,
    "MJRecommendation_RecommendationID"."SourceEntityRecordID" AS "Recommendation",
    "MJEntity_DestinationEntityID"."Name" AS "DestinationEntity"
FROM
    __mj."RecommendationItem" AS r
INNER JOIN
    __mj."Recommendation" AS "MJRecommendation_RecommendationID"
  ON
    r."RecommendationID" = "MJRecommendation_RecommendationID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_DestinationEntityID"
  ON
    r."DestinationEntityID" = "MJEntity_DestinationEntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwQueues"
AS SELECT
    q.*,
    "MJQueueType_QueueTypeID"."Name" AS "QueueType"
FROM
    __mj."Queue" AS q
INNER JOIN
    __mj."QueueType" AS "MJQueueType_QueueTypeID"
  ON
    q."QueueTypeID" = "MJQueueType_QueueTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwRecommendationRuns"
AS SELECT
    r.*,
    "MJRecommendationProvider_RecommendationProviderID"."Name" AS "RecommendationProvider",
    "MJUser_RunByUserID"."Name" AS "RunByUser"
FROM
    __mj."RecommendationRun" AS r
INNER JOIN
    __mj."RecommendationProvider" AS "MJRecommendationProvider_RecommendationProviderID"
  ON
    r."RecommendationProviderID" = "MJRecommendationProvider_RecommendationProviderID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_RunByUserID"
  ON
    r."RunByUserID" = "MJUser_RunByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwRecommendations"
AS SELECT
    r.*,
    "MJRecommendationRun_RecommendationRunID"."RecommendationProvider" AS "RecommendationRun",
    "MJEntity_SourceEntityID"."Name" AS "SourceEntity"
FROM
    __mj."Recommendation" AS r
INNER JOIN
    __mj."vwRecommendationRuns" AS "MJRecommendationRun_RecommendationRunID"
  ON
    r."RecommendationRunID" = "MJRecommendationRun_RecommendationRunID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_SourceEntityID"
  ON
    r."SourceEntityID" = "MJEntity_SourceEntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwRecordChanges"
AS SELECT
    r.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJUser_UserID"."Name" AS "User",
    "MJRecordChangeReplayRun_ReplayRunID"."User" AS "ReplayRun",
    "MJIntegration_IntegrationID"."Name" AS "Integration"
FROM
    __mj."RecordChange" AS r
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    r."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    r."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."vwRecordChangeReplayRuns" AS "MJRecordChangeReplayRun_ReplayRunID"
  ON
    r."ReplayRunID" = "MJRecordChangeReplayRun_ReplayRunID"."ID"
LEFT OUTER JOIN
    __mj."Integration" AS "MJIntegration_IntegrationID"
  ON
    r."IntegrationID" = "MJIntegration_IntegrationID"."ID";

CREATE OR REPLACE VIEW __mj."vwRecordChangeReplayRuns"
AS SELECT
    r.*,
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."RecordChangeReplayRun" AS r
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    r."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwRecordLinks"
AS SELECT
    r.*,
    "MJEntity_SourceEntityID"."Name" AS "SourceEntity",
    "MJEntity_TargetEntityID"."Name" AS "TargetEntity"
FROM
    __mj."RecordLink" AS r
INNER JOIN
    __mj."Entity" AS "MJEntity_SourceEntityID"
  ON
    r."SourceEntityID" = "MJEntity_SourceEntityID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_TargetEntityID"
  ON
    r."TargetEntityID" = "MJEntity_TargetEntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwRecordMergeDeletionLogs"
AS SELECT
    r.*,
    "MJRecordMergeLog_RecordMergeLogID"."SurvivingRecordID" AS "RecordMergeLog"
FROM
    __mj."RecordMergeDeletionLog" AS r
INNER JOIN
    __mj."RecordMergeLog" AS "MJRecordMergeLog_RecordMergeLogID"
  ON
    r."RecordMergeLogID" = "MJRecordMergeLog_RecordMergeLogID"."ID";

CREATE OR REPLACE VIEW __mj."vwRecordMergeLogs"
AS SELECT
    r.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJUser_InitiatedByUserID"."Name" AS "InitiatedByUser",
    "MJUser_ApprovedByUserID"."Name" AS "ApprovedByUser"
FROM
    __mj."RecordMergeLog" AS r
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    r."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_InitiatedByUserID"
  ON
    r."InitiatedByUserID" = "MJUser_InitiatedByUserID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_ApprovedByUserID"
  ON
    r."ApprovedByUserID" = "MJUser_ApprovedByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwReportCategories"
AS SELECT
    r.*,
    "MJReportCategory_ParentID"."Name" AS "Parent",
    "MJUser_UserID"."Name" AS "User",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."ReportCategory" AS r
LEFT OUTER JOIN
    __mj."ReportCategory" AS "MJReportCategory_ParentID"
  ON
    r."ParentID" = "MJReportCategory_ParentID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    r."UserID" = "MJUser_UserID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnReportCategoryParentID_GetRootID"(r."ID", r."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwReportSnapshots"
AS SELECT
    r.*,
    "MJReport_ReportID"."Name" AS "Report",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."ReportSnapshot" AS r
INNER JOIN
    __mj."Report" AS "MJReport_ReportID"
  ON
    r."ReportID" = "MJReport_ReportID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    r."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwReportUserStates"
AS SELECT
    r.*,
    "MJReport_ReportID"."Name" AS "Report",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."ReportUserState" AS r
INNER JOIN
    __mj."Report" AS "MJReport_ReportID"
  ON
    r."ReportID" = "MJReport_ReportID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    r."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwReportVersions"
AS SELECT
    r.*,
    "MJReport_ReportID"."Name" AS "Report"
FROM
    __mj."ReportVersion" AS r
INNER JOIN
    __mj."Report" AS "MJReport_ReportID"
  ON
    r."ReportID" = "MJReport_ReportID"."ID";

CREATE OR REPLACE VIEW __mj."vwReports"
AS SELECT
    r.*,
    "MJReportCategory_CategoryID"."Name" AS "Category",
    "MJUser_UserID"."Name" AS "User",
    "MJConversation_ConversationID"."Name" AS "Conversation",
    "MJConversationDetail_ConversationDetailID"."Message" AS "ConversationDetail",
    "MJDataContext_DataContextID"."Name" AS "DataContext",
    "MJOutputTriggerType_OutputTriggerTypeID"."Name" AS "OutputTriggerType",
    "MJOutputFormatType_OutputFormatTypeID"."Name" AS "OutputFormatType",
    "MJOutputDeliveryType_OutputDeliveryTypeID"."Name" AS "OutputDeliveryType",
    "MJWorkflow_OutputWorkflowID"."Name" AS "OutputWorkflow",
    "MJEnvironment_EnvironmentID"."Name" AS "Environment"
FROM
    __mj."Report" AS r
LEFT OUTER JOIN
    __mj."ReportCategory" AS "MJReportCategory_CategoryID"
  ON
    r."CategoryID" = "MJReportCategory_CategoryID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    r."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."Conversation" AS "MJConversation_ConversationID"
  ON
    r."ConversationID" = "MJConversation_ConversationID"."ID"
LEFT OUTER JOIN
    __mj."ConversationDetail" AS "MJConversationDetail_ConversationDetailID"
  ON
    r."ConversationDetailID" = "MJConversationDetail_ConversationDetailID"."ID"
LEFT OUTER JOIN
    __mj."DataContext" AS "MJDataContext_DataContextID"
  ON
    r."DataContextID" = "MJDataContext_DataContextID"."ID"
LEFT OUTER JOIN
    __mj."OutputTriggerType" AS "MJOutputTriggerType_OutputTriggerTypeID"
  ON
    r."OutputTriggerTypeID" = "MJOutputTriggerType_OutputTriggerTypeID"."ID"
LEFT OUTER JOIN
    __mj."OutputFormatType" AS "MJOutputFormatType_OutputFormatTypeID"
  ON
    r."OutputFormatTypeID" = "MJOutputFormatType_OutputFormatTypeID"."ID"
LEFT OUTER JOIN
    __mj."OutputDeliveryType" AS "MJOutputDeliveryType_OutputDeliveryTypeID"
  ON
    r."OutputDeliveryTypeID" = "MJOutputDeliveryType_OutputDeliveryTypeID"."ID"
LEFT OUTER JOIN
    __mj."Workflow" AS "MJWorkflow_OutputWorkflowID"
  ON
    r."OutputWorkflowID" = "MJWorkflow_OutputWorkflowID"."ID"
INNER JOIN
    __mj."Environment" AS "MJEnvironment_EnvironmentID"
  ON
    r."EnvironmentID" = "MJEnvironment_EnvironmentID"."ID";

CREATE OR REPLACE VIEW __mj."vwResourcePermissions"
AS SELECT
    r.*,
    "MJResourceType_ResourceTypeID"."Name" AS "ResourceType",
    "MJRole_RoleID"."Name" AS "Role",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."ResourcePermission" AS r
INNER JOIN
    __mj."ResourceType" AS "MJResourceType_ResourceTypeID"
  ON
    r."ResourceTypeID" = "MJResourceType_ResourceTypeID"."ID"
LEFT OUTER JOIN
    __mj."Role" AS "MJRole_RoleID"
  ON
    r."RoleID" = "MJRole_RoleID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    r."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwResourceLinks"
AS SELECT
    r.*,
    "MJUser_UserID"."Name" AS "User",
    "MJResourceType_ResourceTypeID"."Name" AS "ResourceType"
FROM
    __mj."ResourceLink" AS r
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    r."UserID" = "MJUser_UserID"."ID"
INNER JOIN
    __mj."ResourceType" AS "MJResourceType_ResourceTypeID"
  ON
    r."ResourceTypeID" = "MJResourceType_ResourceTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwResourceTypes"
AS SELECT
    r.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJEntity_CategoryEntityID"."Name" AS "CategoryEntity"
FROM
    __mj."ResourceType" AS r
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    r."EntityID" = "MJEntity_EntityID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_CategoryEntityID"
  ON
    r."CategoryEntityID" = "MJEntity_CategoryEntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwScheduledActions"
AS SELECT
    s.*,
    "MJUser_CreatedByUserID"."Name" AS "CreatedByUser",
    "MJAction_ActionID"."Name" AS "Action"
FROM
    __mj."ScheduledAction" AS s
INNER JOIN
    __mj."User" AS "MJUser_CreatedByUserID"
  ON
    s."CreatedByUserID" = "MJUser_CreatedByUserID"."ID"
INNER JOIN
    __mj."Action" AS "MJAction_ActionID"
  ON
    s."ActionID" = "MJAction_ActionID"."ID";

CREATE OR REPLACE VIEW __mj."vwScheduledActionParams"
AS SELECT
    s.*,
    "MJScheduledAction_ScheduledActionID"."Name" AS "ScheduledAction",
    "MJActionParam_ActionParamID"."Name" AS "ActionParam"
FROM
    __mj."ScheduledActionParam" AS s
INNER JOIN
    __mj."ScheduledAction" AS "MJScheduledAction_ScheduledActionID"
  ON
    s."ScheduledActionID" = "MJScheduledAction_ScheduledActionID"."ID"
INNER JOIN
    __mj."ActionParam" AS "MJActionParam_ActionParamID"
  ON
    s."ActionParamID" = "MJActionParam_ActionParamID"."ID";

CREATE OR REPLACE VIEW __mj."vwScheduledJobRuns"
AS SELECT
    s.*,
    "MJScheduledJob_ScheduledJobID"."Name" AS "ScheduledJob",
    "MJUser_ExecutedByUserID"."Name" AS "ExecutedByUser"
FROM
    __mj."ScheduledJobRun" AS s
INNER JOIN
    __mj."ScheduledJob" AS "MJScheduledJob_ScheduledJobID"
  ON
    s."ScheduledJobID" = "MJScheduledJob_ScheduledJobID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_ExecutedByUserID"
  ON
    s."ExecutedByUserID" = "MJUser_ExecutedByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwScheduledJobs"
AS SELECT
    s.*,
    "MJScheduledJobType_JobTypeID"."Name" AS "JobType",
    "MJUser_OwnerUserID"."Name" AS "OwnerUser",
    "MJUser_NotifyUserID"."Name" AS "NotifyUser"
FROM
    __mj."ScheduledJob" AS s
INNER JOIN
    __mj."ScheduledJobType" AS "MJScheduledJobType_JobTypeID"
  ON
    s."JobTypeID" = "MJScheduledJobType_JobTypeID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_OwnerUserID"
  ON
    s."OwnerUserID" = "MJUser_OwnerUserID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_NotifyUserID"
  ON
    s."NotifyUserID" = "MJUser_NotifyUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwTaggedItems"
AS SELECT
    t.*,
    "MJTag_TagID"."Name" AS "Tag",
    "MJEntity_EntityID"."Name" AS "Entity"
FROM
    __mj."TaggedItem" AS t
INNER JOIN
    __mj."Tag" AS "MJTag_TagID"
  ON
    t."TagID" = "MJTag_TagID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    t."EntityID" = "MJEntity_EntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwSkills"
AS SELECT
    s.*,
    "MJSkill_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."Skill" AS s
LEFT OUTER JOIN
    __mj."Skill" AS "MJSkill_ParentID"
  ON
    s."ParentID" = "MJSkill_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnSkillParentID_GetRootID"(s."ID", s."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwTags"
AS SELECT
    t.*,
    "MJTag_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."Tag" AS t
LEFT OUTER JOIN
    __mj."Tag" AS "MJTag_ParentID"
  ON
    t."ParentID" = "MJTag_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnTagParentID_GetRootID"(t."ID", t."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwTaskDependencies"
AS SELECT
    t.*,
    "MJTask_TaskID"."Name" AS "Task",
    "MJTask_DependsOnTaskID"."Name" AS "DependsOnTask"
FROM
    __mj."TaskDependency" AS t
INNER JOIN
    __mj."Task" AS "MJTask_TaskID"
  ON
    t."TaskID" = "MJTask_TaskID"."ID"
INNER JOIN
    __mj."Task" AS "MJTask_DependsOnTaskID"
  ON
    t."DependsOnTaskID" = "MJTask_DependsOnTaskID"."ID";

CREATE OR REPLACE VIEW __mj."vwTemplateCategories"
AS SELECT
    t.*,
    "MJTemplateCategory_ParentID"."Name" AS "Parent",
    "MJUser_UserID"."Name" AS "User",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."TemplateCategory" AS t
LEFT OUTER JOIN
    __mj."TemplateCategory" AS "MJTemplateCategory_ParentID"
  ON
    t."ParentID" = "MJTemplateCategory_ParentID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    t."UserID" = "MJUser_UserID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnTemplateCategoryParentID_GetRootID"(t."ID", t."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwTasks"
AS SELECT
    t.*,
    "MJTask_ParentID"."Name" AS "Parent",
    "MJTaskType_TypeID"."Name" AS "Type",
    "MJEnvironment_EnvironmentID"."Name" AS "Environment",
    "MJProject_ProjectID"."Name" AS "Project",
    "MJConversationDetail_ConversationDetailID"."Message" AS "ConversationDetail",
    "MJUser_UserID"."Name" AS "User",
    "MJAIAgent_AgentID"."Name" AS "Agent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."Task" AS t
LEFT OUTER JOIN
    __mj."Task" AS "MJTask_ParentID"
  ON
    t."ParentID" = "MJTask_ParentID"."ID"
INNER JOIN
    __mj."TaskType" AS "MJTaskType_TypeID"
  ON
    t."TypeID" = "MJTaskType_TypeID"."ID"
INNER JOIN
    __mj."Environment" AS "MJEnvironment_EnvironmentID"
  ON
    t."EnvironmentID" = "MJEnvironment_EnvironmentID"."ID"
LEFT OUTER JOIN
    __mj."Project" AS "MJProject_ProjectID"
  ON
    t."ProjectID" = "MJProject_ProjectID"."ID"
LEFT OUTER JOIN
    __mj."ConversationDetail" AS "MJConversationDetail_ConversationDetailID"
  ON
    t."ConversationDetailID" = "MJConversationDetail_ConversationDetailID"."ID"
LEFT OUTER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    t."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."AIAgent" AS "MJAIAgent_AgentID"
  ON
    t."AgentID" = "MJAIAgent_AgentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnTaskParentID_GetRootID"(t."ID", t."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwTemplateContents"
AS SELECT
    t.*,
    "MJTemplate_TemplateID"."Name" AS "Template",
    "MJTemplateContentType_TypeID"."Name" AS "Type"
FROM
    __mj."TemplateContent" AS t
INNER JOIN
    __mj."Template" AS "MJTemplate_TemplateID"
  ON
    t."TemplateID" = "MJTemplate_TemplateID"."ID"
INNER JOIN
    __mj."TemplateContentType" AS "MJTemplateContentType_TypeID"
  ON
    t."TypeID" = "MJTemplateContentType_TypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwTemplateParams"
AS SELECT
    t.*,
    "MJTemplate_TemplateID"."Name" AS "Template",
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJTemplateContent_TemplateContentID"."Template" AS "TemplateContent"
FROM
    __mj."TemplateParam" AS t
INNER JOIN
    __mj."Template" AS "MJTemplate_TemplateID"
  ON
    t."TemplateID" = "MJTemplate_TemplateID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    t."EntityID" = "MJEntity_EntityID"."ID"
LEFT OUTER JOIN
    __mj."vwTemplateContents" AS "MJTemplateContent_TemplateContentID"
  ON
    t."TemplateContentID" = "MJTemplateContent_TemplateContentID"."ID";

CREATE OR REPLACE VIEW __mj."vwTestRubrics"
AS SELECT
    t.*,
    "MJTestType_TypeID"."Name" AS "Type"
FROM
    __mj."TestRubric" AS t
INNER JOIN
    __mj."TestType" AS "MJTestType_TypeID"
  ON
    t."TypeID" = "MJTestType_TypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwTemplates"
AS SELECT
    t.*,
    "MJTemplateCategory_CategoryID"."Name" AS "Category",
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."Template" AS t
LEFT OUTER JOIN
    __mj."TemplateCategory" AS "MJTemplateCategory_CategoryID"
  ON
    t."CategoryID" = "MJTemplateCategory_CategoryID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    t."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwTestRuns"
AS SELECT
    t.*,
    "MJTest_TestID"."Name" AS "Test",
    "MJTestSuiteRun_TestSuiteRunID"."Suite" AS "TestSuiteRun",
    "MJUser_RunByUserID"."Name" AS "RunByUser",
    "MJEntity_TargetLogEntityID"."Name" AS "TargetLogEntity"
FROM
    __mj."TestRun" AS t
INNER JOIN
    __mj."Test" AS "MJTest_TestID"
  ON
    t."TestID" = "MJTest_TestID"."ID"
LEFT OUTER JOIN
    __mj."vwTestSuiteRuns" AS "MJTestSuiteRun_TestSuiteRunID"
  ON
    t."TestSuiteRunID" = "MJTestSuiteRun_TestSuiteRunID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_RunByUserID"
  ON
    t."RunByUserID" = "MJUser_RunByUserID"."ID"
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_TargetLogEntityID"
  ON
    t."TargetLogEntityID" = "MJEntity_TargetLogEntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwTestRunFeedbacks"
AS SELECT
    t.*,
    "MJTestRun_TestRunID"."Test" AS "TestRun",
    "MJUser_ReviewerUserID"."Name" AS "ReviewerUser"
FROM
    __mj."TestRunFeedback" AS t
INNER JOIN
    __mj."vwTestRuns" AS "MJTestRun_TestRunID"
  ON
    t."TestRunID" = "MJTestRun_TestRunID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_ReviewerUserID"
  ON
    t."ReviewerUserID" = "MJUser_ReviewerUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwTestSuiteTests"
AS SELECT
    t.*,
    "MJTestSuite_SuiteID"."Name" AS "Suite",
    "MJTest_TestID"."Name" AS "Test"
FROM
    __mj."TestSuiteTest" AS t
INNER JOIN
    __mj."TestSuite" AS "MJTestSuite_SuiteID"
  ON
    t."SuiteID" = "MJTestSuite_SuiteID"."ID"
INNER JOIN
    __mj."Test" AS "MJTest_TestID"
  ON
    t."TestID" = "MJTest_TestID"."ID";

CREATE OR REPLACE VIEW __mj."vwTestSuiteRuns"
AS SELECT
    t.*,
    "MJTestSuite_SuiteID"."Name" AS "Suite",
    "MJUser_RunByUserID"."Name" AS "RunByUser"
FROM
    __mj."TestSuiteRun" AS t
INNER JOIN
    __mj."TestSuite" AS "MJTestSuite_SuiteID"
  ON
    t."SuiteID" = "MJTestSuite_SuiteID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_RunByUserID"
  ON
    t."RunByUserID" = "MJUser_RunByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwTests"
AS SELECT
    t.*,
    "MJTestType_TypeID"."Name" AS "Type"
FROM
    __mj."Test" AS t
INNER JOIN
    __mj."TestType" AS "MJTestType_TypeID"
  ON
    t."TypeID" = "MJTestType_TypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwTestSuites"
AS SELECT
    t.*,
    "MJTestSuite_ParentID"."Name" AS "Parent",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."TestSuite" AS t
LEFT OUTER JOIN
    __mj."TestSuite" AS "MJTestSuite_ParentID"
  ON
    t."ParentID" = "MJTestSuite_ParentID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnTestSuiteParentID_GetRootID"(t."ID", t."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwUserNotificationTypes"
AS SELECT
    u.*,
    "MJTemplate_EmailTemplateID"."Name" AS "EmailTemplate",
    "MJTemplate_SMSTemplateID"."Name" AS "SMSTemplate"
FROM
    __mj."UserNotificationType" AS u
LEFT OUTER JOIN
    __mj."Template" AS "MJTemplate_EmailTemplateID"
  ON
    u."EmailTemplateID" = "MJTemplate_EmailTemplateID"."ID"
LEFT OUTER JOIN
    __mj."Template" AS "MJTemplate_SMSTemplateID"
  ON
    u."SMSTemplateID" = "MJTemplate_SMSTemplateID"."ID";

CREATE OR REPLACE VIEW __mj."vwUserApplications"
AS SELECT
    u.*,
    "MJUser_UserID"."Name" AS "User",
    "MJApplication_ApplicationID"."Name" AS "Application"
FROM
    __mj."UserApplication" AS u
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    u."UserID" = "MJUser_UserID"."ID"
INNER JOIN
    __mj."Application" AS "MJApplication_ApplicationID"
  ON
    u."ApplicationID" = "MJApplication_ApplicationID"."ID";

CREATE OR REPLACE VIEW __mj."vwUserNotificationPreferences"
AS SELECT
    u.*,
    "MJUser_UserID"."Name" AS "User",
    "MJUserNotificationType_NotificationTypeID"."Name" AS "NotificationType"
FROM
    __mj."UserNotificationPreference" AS u
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    u."UserID" = "MJUser_UserID"."ID"
INNER JOIN
    __mj."UserNotificationType" AS "MJUserNotificationType_NotificationTypeID"
  ON
    u."NotificationTypeID" = "MJUserNotificationType_NotificationTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwUserRoles"
AS SELECT
    u.*,
    "MJUser_UserID"."Name" AS "User",
    "MJRole_RoleID"."Name" AS "Role"
FROM
    __mj."UserRole" AS u
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    u."UserID" = "MJUser_UserID"."ID"
INNER JOIN
    __mj."Role" AS "MJRole_RoleID"
  ON
    u."RoleID" = "MJRole_RoleID"."ID";

CREATE OR REPLACE VIEW __mj."vwUserNotifications"
AS SELECT
    u.*,
    "MJUser_UserID"."Name" AS "User",
    "MJResourceType_ResourceTypeID"."Name" AS "ResourceType",
    "MJUserNotificationType_NotificationTypeID"."Name" AS "NotificationType"
FROM
    __mj."UserNotification" AS u
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    u."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."ResourceType" AS "MJResourceType_ResourceTypeID"
  ON
    u."ResourceTypeID" = "MJResourceType_ResourceTypeID"."ID"
LEFT OUTER JOIN
    __mj."UserNotificationType" AS "MJUserNotificationType_NotificationTypeID"
  ON
    u."NotificationTypeID" = "MJUserNotificationType_NotificationTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwUserViewCategories"
AS SELECT
    u.*,
    "MJUserViewCategory_ParentID"."Name" AS "Parent",
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJUser_UserID"."Name" AS "User",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."UserViewCategory" AS u
LEFT OUTER JOIN
    __mj."UserViewCategory" AS "MJUserViewCategory_ParentID"
  ON
    u."ParentID" = "MJUserViewCategory_ParentID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    u."EntityID" = "MJEntity_EntityID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    u."UserID" = "MJUser_UserID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnUserViewCategoryParentID_GetRootID"(u."ID", u."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwUserSettings"
AS SELECT
    u.*,
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."UserSetting" AS u
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    u."UserID" = "MJUser_UserID"."ID";

CREATE OR REPLACE VIEW __mj."vwUserViewRuns"
AS SELECT
    u.*,
    "MJUserView_UserViewID"."Name" AS "UserView",
    "MJUser_RunByUserID"."Name" AS "RunByUser"
FROM
    __mj."UserViewRun" AS u
INNER JOIN
    __mj."UserView" AS "MJUserView_UserViewID"
  ON
    u."UserViewID" = "MJUserView_UserViewID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_RunByUserID"
  ON
    u."RunByUserID" = "MJUser_RunByUserID"."ID";

CREATE OR REPLACE VIEW __mj."vwVectorIndexes"
AS SELECT
    v.*,
    "MJVectorDatabase_VectorDatabaseID"."Name" AS "VectorDatabase",
    "MJAIModel_EmbeddingModelID"."Name" AS "EmbeddingModel"
FROM
    __mj."VectorIndex" AS v
INNER JOIN
    __mj."VectorDatabase" AS "MJVectorDatabase_VectorDatabaseID"
  ON
    v."VectorDatabaseID" = "MJVectorDatabase_VectorDatabaseID"."ID"
INNER JOIN
    __mj."AIModel" AS "MJAIModel_EmbeddingModelID"
  ON
    v."EmbeddingModelID" = "MJAIModel_EmbeddingModelID"."ID";

CREATE OR REPLACE VIEW __mj."vwVersionLabelRestores"
AS SELECT
    v.*,
    "MJVersionLabel_VersionLabelID"."Name" AS "VersionLabel",
    "MJUser_UserID"."Name" AS "User",
    "MJVersionLabel_PreRestoreLabelID"."Name" AS "PreRestoreLabel"
FROM
    __mj."VersionLabelRestore" AS v
INNER JOIN
    __mj."VersionLabel" AS "MJVersionLabel_VersionLabelID"
  ON
    v."VersionLabelID" = "MJVersionLabel_VersionLabelID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    v."UserID" = "MJUser_UserID"."ID"
LEFT OUTER JOIN
    __mj."VersionLabel" AS "MJVersionLabel_PreRestoreLabelID"
  ON
    v."PreRestoreLabelID" = "MJVersionLabel_PreRestoreLabelID"."ID";

CREATE OR REPLACE VIEW __mj."vwVersionLabelItems"
AS SELECT
    v.*,
    "MJVersionLabel_VersionLabelID"."Name" AS "VersionLabel",
    "MJRecordChange_RecordChangeID"."ChangesDescription" AS "RecordChange",
    "MJEntity_EntityID"."Name" AS "Entity"
FROM
    __mj."VersionLabelItem" AS v
INNER JOIN
    __mj."VersionLabel" AS "MJVersionLabel_VersionLabelID"
  ON
    v."VersionLabelID" = "MJVersionLabel_VersionLabelID"."ID"
INNER JOIN
    __mj."RecordChange" AS "MJRecordChange_RecordChangeID"
  ON
    v."RecordChangeID" = "MJRecordChange_RecordChangeID"."ID"
INNER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    v."EntityID" = "MJEntity_EntityID"."ID";

CREATE OR REPLACE VIEW __mj."vwVersionLabels"
AS SELECT
    v.*,
    "MJEntity_EntityID"."Name" AS "Entity",
    "MJVersionLabel_ParentID"."Name" AS "Parent",
    "MJUser_CreatedByUserID"."Name" AS "CreatedByUser",
    "root_ParentID"."RootID" AS "RootParentID"
FROM
    __mj."VersionLabel" AS v
LEFT OUTER JOIN
    __mj."Entity" AS "MJEntity_EntityID"
  ON
    v."EntityID" = "MJEntity_EntityID"."ID"
LEFT OUTER JOIN
    __mj."VersionLabel" AS "MJVersionLabel_ParentID"
  ON
    v."ParentID" = "MJVersionLabel_ParentID"."ID"
INNER JOIN
    __mj."User" AS "MJUser_CreatedByUserID"
  ON
    v."CreatedByUserID" = "MJUser_CreatedByUserID"."ID"
LEFT JOIN LATERAL (SELECT * FROM __mj."fnVersionLabelParentID_GetRootID"(v."ID", v."ParentID")) AS "root_ParentID" ON TRUE;

CREATE OR REPLACE VIEW __mj."vwWorkspaceItems"
AS SELECT
    w.*,
    "MJWorkspace_WorkspaceID"."Name" AS "Workspace",
    "MJResourceType_ResourceTypeID"."Name" AS "ResourceType"
FROM
    __mj."WorkspaceItem" AS w
INNER JOIN
    __mj."Workspace" AS "MJWorkspace_WorkspaceID"
  ON
    w."WorkspaceID" = "MJWorkspace_WorkspaceID"."ID"
INNER JOIN
    __mj."ResourceType" AS "MJResourceType_ResourceTypeID"
  ON
    w."ResourceTypeID" = "MJResourceType_ResourceTypeID"."ID";

CREATE OR REPLACE VIEW __mj."vwWorkspaces"
AS SELECT
    w.*,
    "MJUser_UserID"."Name" AS "User"
FROM
    __mj."Workspace" AS w
INNER JOIN
    __mj."User" AS "MJUser_UserID"
  ON
    w."UserID" = "MJUser_UserID"."ID";


-- ===================== Stored Procedures (sp*) =====================

CREATE OR REPLACE FUNCTION __mj."spCreateActionAuthorization"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ActionID UUID DEFAULT NULL,
    IN p_AuthorizationID UUID DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwActionAuthorizations" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ActionAuthorization"
            (
                "ID",
                "ActionID",
                "AuthorizationID",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_ActionID,
                p_AuthorizationID,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ActionAuthorization"
            (
                "ActionID",
                "AuthorizationID",
                "Comments"
            )
        VALUES
            (
                p_ActionID,
                p_AuthorizationID,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwActionAuthorizations" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateActionAuthorization"(
    IN p_ID UUID,
    IN p_ActionID UUID,
    IN p_AuthorizationID UUID,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwActionAuthorizations" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ActionAuthorization"
    SET
        "ActionID" = p_ActionID,
        "AuthorizationID" = p_AuthorizationID,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwActionAuthorizations" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwActionAuthorizations" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteActionAuthorization"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ActionAuthorization"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateActionContext"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ActionID UUID DEFAULT NULL,
    IN p_ContextTypeID UUID DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwActionContexts" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ActionContext"
            (
                "ID",
                "ActionID",
                "ContextTypeID",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_ActionID,
                p_ContextTypeID,
                COALESCE(p_Status, 'Pending')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ActionContext"
            (
                "ActionID",
                "ContextTypeID",
                "Status"
            )
        VALUES
            (
                p_ActionID,
                p_ContextTypeID,
                COALESCE(p_Status, 'Pending')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwActionContexts" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateActionContext"(
    IN p_ID UUID,
    IN p_ActionID UUID,
    IN p_ContextTypeID UUID,
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwActionContexts" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ActionContext"
    SET
        "ActionID" = p_ActionID,
        "ContextTypeID" = p_ContextTypeID,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwActionContexts" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwActionContexts" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteActionContext"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ActionContext"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateActionCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwActionCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ActionCategory"
            (
                "ID",
                "Name",
                "Description",
                "ParentID",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ParentID,
                COALESCE(p_Status, 'Pending')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ActionCategory"
            (
                "Name",
                "Description",
                "ParentID",
                "Status"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ParentID,
                COALESCE(p_Status, 'Pending')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwActionCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateActionCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_ParentID UUID,
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwActionCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ActionCategory"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ParentID" = p_ParentID,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwActionCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwActionCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteActionCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ActionCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAccessControlRule"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(500) DEFAULT NULL,
    IN p_GranteeType VARCHAR(50) DEFAULT NULL,
    IN p_GranteeID UUID DEFAULT NULL,
    IN p_CanRead BOOLEAN DEFAULT NULL,
    IN p_CanCreate BOOLEAN DEFAULT NULL,
    IN p_CanUpdate BOOLEAN DEFAULT NULL,
    IN p_CanDelete BOOLEAN DEFAULT NULL,
    IN p_CanShare BOOLEAN DEFAULT NULL,
    IN p_ExpiresAt TIMESTAMPTZ DEFAULT NULL,
    IN p_GrantedByUserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAccessControlRules" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AccessControlRule"
            (
                "ID",
                "EntityID",
                "RecordID",
                "GranteeType",
                "GranteeID",
                "CanRead",
                "CanCreate",
                "CanUpdate",
                "CanDelete",
                "CanShare",
                "ExpiresAt",
                "GrantedByUserID"
            )
        VALUES
            (
                p_ID,
                p_EntityID,
                p_RecordID,
                p_GranteeType,
                p_GranteeID,
                COALESCE(p_CanRead, 0),
                COALESCE(p_CanCreate, 0),
                COALESCE(p_CanUpdate, 0),
                COALESCE(p_CanDelete, 0),
                COALESCE(p_CanShare, 0),
                p_ExpiresAt,
                p_GrantedByUserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AccessControlRule"
            (
                "EntityID",
                "RecordID",
                "GranteeType",
                "GranteeID",
                "CanRead",
                "CanCreate",
                "CanUpdate",
                "CanDelete",
                "CanShare",
                "ExpiresAt",
                "GrantedByUserID"
            )
        VALUES
            (
                p_EntityID,
                p_RecordID,
                p_GranteeType,
                p_GranteeID,
                COALESCE(p_CanRead, 0),
                COALESCE(p_CanCreate, 0),
                COALESCE(p_CanUpdate, 0),
                COALESCE(p_CanDelete, 0),
                COALESCE(p_CanShare, 0),
                p_ExpiresAt,
                p_GrantedByUserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAccessControlRules" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAccessControlRule"(
    IN p_ID UUID,
    IN p_EntityID UUID,
    IN p_RecordID VARCHAR(500),
    IN p_GranteeType VARCHAR(50),
    IN p_GranteeID UUID,
    IN p_CanRead BOOLEAN,
    IN p_CanCreate BOOLEAN,
    IN p_CanUpdate BOOLEAN,
    IN p_CanDelete BOOLEAN,
    IN p_CanShare BOOLEAN,
    IN p_ExpiresAt TIMESTAMPTZ,
    IN p_GrantedByUserID UUID
)
RETURNS SETOF __mj."vwAccessControlRules" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AccessControlRule"
    SET
        "EntityID" = p_EntityID,
        "RecordID" = p_RecordID,
        "GranteeType" = p_GranteeType,
        "GranteeID" = p_GranteeID,
        "CanRead" = p_CanRead,
        "CanCreate" = p_CanCreate,
        "CanUpdate" = p_CanUpdate,
        "CanDelete" = p_CanDelete,
        "CanShare" = p_CanShare,
        "ExpiresAt" = p_ExpiresAt,
        "GrantedByUserID" = p_GrantedByUserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAccessControlRules" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAccessControlRules" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAccessControlRule"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AccessControlRule"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateActionExecutionLog"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ActionID UUID DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Params TEXT DEFAULT NULL,
    IN p_ResultCode VARCHAR(255) DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_RetentionPeriod INTEGER DEFAULT NULL,
    IN p_Message TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwActionExecutionLogs" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ActionExecutionLog"
            (
                "ID",
                "ActionID",
                "StartedAt",
                "EndedAt",
                "Params",
                "ResultCode",
                "UserID",
                "RetentionPeriod",
                "Message"
            )
        VALUES
            (
                p_ID,
                p_ActionID,
                COALESCE(p_StartedAt, NOW()),
                p_EndedAt,
                p_Params,
                p_ResultCode,
                p_UserID,
                p_RetentionPeriod,
                p_Message
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ActionExecutionLog"
            (
                "ActionID",
                "StartedAt",
                "EndedAt",
                "Params",
                "ResultCode",
                "UserID",
                "RetentionPeriod",
                "Message"
            )
        VALUES
            (
                p_ActionID,
                COALESCE(p_StartedAt, NOW()),
                p_EndedAt,
                p_Params,
                p_ResultCode,
                p_UserID,
                p_RetentionPeriod,
                p_Message
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwActionExecutionLogs" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateActionExecutionLog"(
    IN p_ID UUID,
    IN p_ActionID UUID,
    IN p_StartedAt TIMESTAMPTZ,
    IN p_EndedAt TIMESTAMPTZ,
    IN p_Params TEXT,
    IN p_ResultCode VARCHAR(255),
    IN p_UserID UUID,
    IN p_RetentionPeriod INTEGER,
    IN p_Message TEXT
)
RETURNS SETOF __mj."vwActionExecutionLogs" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ActionExecutionLog"
    SET
        "ActionID" = p_ActionID,
        "StartedAt" = p_StartedAt,
        "EndedAt" = p_EndedAt,
        "Params" = p_Params,
        "ResultCode" = p_ResultCode,
        "UserID" = p_UserID,
        "RetentionPeriod" = p_RetentionPeriod,
        "Message" = p_Message
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwActionExecutionLogs" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwActionExecutionLogs" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteActionExecutionLog"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ActionExecutionLog"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateActionResultCode"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ActionID UUID DEFAULT NULL,
    IN p_ResultCode VARCHAR(255) DEFAULT NULL,
    IN p_IsSuccess BOOLEAN DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwActionResultCodes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ActionResultCode"
            (
                "ID",
                "ActionID",
                "ResultCode",
                "IsSuccess",
                "Description"
            )
        VALUES
            (
                p_ID,
                p_ActionID,
                p_ResultCode,
                COALESCE(p_IsSuccess, 0),
                p_Description
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ActionResultCode"
            (
                "ActionID",
                "ResultCode",
                "IsSuccess",
                "Description"
            )
        VALUES
            (
                p_ActionID,
                p_ResultCode,
                COALESCE(p_IsSuccess, 0),
                p_Description
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwActionResultCodes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateActionResultCode"(
    IN p_ID UUID,
    IN p_ActionID UUID,
    IN p_ResultCode VARCHAR(255),
    IN p_IsSuccess BOOLEAN,
    IN p_Description TEXT
)
RETURNS SETOF __mj."vwActionResultCodes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ActionResultCode"
    SET
        "ActionID" = p_ActionID,
        "ResultCode" = p_ResultCode,
        "IsSuccess" = p_IsSuccess,
        "Description" = p_Description
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwActionResultCodes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwActionResultCodes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteActionResultCode"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ActionResultCode"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateActionParam"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ActionID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_DefaultValue TEXT DEFAULT NULL,
    IN p_Type CHAR(10) DEFAULT NULL,
    IN p_ValueType VARCHAR(30) DEFAULT NULL,
    IN p_IsArray BOOLEAN DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_IsRequired BOOLEAN DEFAULT NULL,
    IN p_MediaModality VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwActionParams" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ActionParam"
            (
                "ID",
                "ActionID",
                "Name",
                "DefaultValue",
                "Type",
                "ValueType",
                "IsArray",
                "Description",
                "IsRequired",
                "MediaModality"
            )
        VALUES
            (
                p_ID,
                p_ActionID,
                p_Name,
                p_DefaultValue,
                p_Type,
                p_ValueType,
                COALESCE(p_IsArray, 0),
                p_Description,
                COALESCE(p_IsRequired, 1),
                p_MediaModality
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ActionParam"
            (
                "ActionID",
                "Name",
                "DefaultValue",
                "Type",
                "ValueType",
                "IsArray",
                "Description",
                "IsRequired",
                "MediaModality"
            )
        VALUES
            (
                p_ActionID,
                p_Name,
                p_DefaultValue,
                p_Type,
                p_ValueType,
                COALESCE(p_IsArray, 0),
                p_Description,
                COALESCE(p_IsRequired, 1),
                p_MediaModality
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwActionParams" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateActionParam"(
    IN p_ID UUID,
    IN p_ActionID UUID,
    IN p_Name VARCHAR(255),
    IN p_DefaultValue TEXT,
    IN p_Type CHAR(10),
    IN p_ValueType VARCHAR(30),
    IN p_IsArray BOOLEAN,
    IN p_Description TEXT,
    IN p_IsRequired BOOLEAN,
    IN p_MediaModality VARCHAR(20)
)
RETURNS SETOF __mj."vwActionParams" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ActionParam"
    SET
        "ActionID" = p_ActionID,
        "Name" = p_Name,
        "DefaultValue" = p_DefaultValue,
        "Type" = p_Type,
        "ValueType" = p_ValueType,
        "IsArray" = p_IsArray,
        "Description" = p_Description,
        "IsRequired" = p_IsRequired,
        "MediaModality" = p_MediaModality
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwActionParams" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwActionParams" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteActionParam"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ActionParam"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateActionLibrary"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ActionID UUID DEFAULT NULL,
    IN p_LibraryID UUID DEFAULT NULL,
    IN p_ItemsUsed TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwActionLibraries" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ActionLibrary"
            (
                "ID",
                "ActionID",
                "LibraryID",
                "ItemsUsed"
            )
        VALUES
            (
                p_ID,
                p_ActionID,
                p_LibraryID,
                p_ItemsUsed
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ActionLibrary"
            (
                "ActionID",
                "LibraryID",
                "ItemsUsed"
            )
        VALUES
            (
                p_ActionID,
                p_LibraryID,
                p_ItemsUsed
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwActionLibraries" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateActionLibrary"(
    IN p_ID UUID,
    IN p_ActionID UUID,
    IN p_LibraryID UUID,
    IN p_ItemsUsed TEXT
)
RETURNS SETOF __mj."vwActionLibraries" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ActionLibrary"
    SET
        "ActionID" = p_ActionID,
        "LibraryID" = p_LibraryID,
        "ItemsUsed" = p_ItemsUsed
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwActionLibraries" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwActionLibraries" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteActionLibrary"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ActionLibrary"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentConfiguration"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_DisplayName VARCHAR(200) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_AIConfigurationID UUID DEFAULT NULL,
    IN p_IsDefault BOOLEAN DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentConfigurations" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentConfiguration"
            (
                "ID",
                "AgentID",
                "Name",
                "DisplayName",
                "Description",
                "AIConfigurationID",
                "IsDefault",
                "Priority",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_Name,
                p_DisplayName,
                p_Description,
                p_AIConfigurationID,
                COALESCE(p_IsDefault, 0),
                COALESCE(p_Priority, 100),
                COALESCE(p_Status, 'Active')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentConfiguration"
            (
                "AgentID",
                "Name",
                "DisplayName",
                "Description",
                "AIConfigurationID",
                "IsDefault",
                "Priority",
                "Status"
            )
        VALUES
            (
                p_AgentID,
                p_Name,
                p_DisplayName,
                p_Description,
                p_AIConfigurationID,
                COALESCE(p_IsDefault, 0),
                COALESCE(p_Priority, 100),
                COALESCE(p_Status, 'Active')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentConfigurations" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentConfiguration"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_Name VARCHAR(100),
    IN p_DisplayName VARCHAR(200),
    IN p_Description TEXT,
    IN p_AIConfigurationID UUID,
    IN p_IsDefault BOOLEAN,
    IN p_Priority INTEGER,
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwAIAgentConfigurations" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentConfiguration"
    SET
        "AgentID" = p_AgentID,
        "Name" = p_Name,
        "DisplayName" = p_DisplayName,
        "Description" = p_Description,
        "AIConfigurationID" = p_AIConfigurationID,
        "IsDefault" = p_IsDefault,
        "Priority" = p_Priority,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentConfigurations" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentConfigurations" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentConfiguration"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentConfiguration"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentArtifactType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_ArtifactTypeID UUID DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentArtifactTypes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentArtifactType"
            (
                "ID",
                "AgentID",
                "ArtifactTypeID",
                "Sequence"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_ArtifactTypeID,
                p_Sequence
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentArtifactType"
            (
                "AgentID",
                "ArtifactTypeID",
                "Sequence"
            )
        VALUES
            (
                p_AgentID,
                p_ArtifactTypeID,
                p_Sequence
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentArtifactTypes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentArtifactType"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_ArtifactTypeID UUID,
    IN p_Sequence INTEGER
)
RETURNS SETOF __mj."vwAIAgentArtifactTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentArtifactType"
    SET
        "AgentID" = p_AgentID,
        "ArtifactTypeID" = p_ArtifactTypeID,
        "Sequence" = p_Sequence
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentArtifactTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentArtifactTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentArtifactType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentArtifactType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentAction"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_ActionID UUID DEFAULT NULL,
    IN p_Status VARCHAR(15) DEFAULT NULL,
    IN p_MinExecutionsPerRun INTEGER DEFAULT NULL,
    IN p_MaxExecutionsPerRun INTEGER DEFAULT NULL,
    IN p_ResultExpirationTurns INTEGER DEFAULT NULL,
    IN p_ResultExpirationMode VARCHAR(20) DEFAULT NULL,
    IN p_CompactMode VARCHAR(20) DEFAULT NULL,
    IN p_CompactLength INTEGER DEFAULT NULL,
    IN p_CompactPromptID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentActions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentAction"
            (
                "ID",
                "AgentID",
                "ActionID",
                "Status",
                "MinExecutionsPerRun",
                "MaxExecutionsPerRun",
                "ResultExpirationTurns",
                "ResultExpirationMode",
                "CompactMode",
                "CompactLength",
                "CompactPromptID"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_ActionID,
                COALESCE(p_Status, 'Active'),
                p_MinExecutionsPerRun,
                p_MaxExecutionsPerRun,
                p_ResultExpirationTurns,
                COALESCE(p_ResultExpirationMode, 'None'),
                p_CompactMode,
                p_CompactLength,
                p_CompactPromptID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentAction"
            (
                "AgentID",
                "ActionID",
                "Status",
                "MinExecutionsPerRun",
                "MaxExecutionsPerRun",
                "ResultExpirationTurns",
                "ResultExpirationMode",
                "CompactMode",
                "CompactLength",
                "CompactPromptID"
            )
        VALUES
            (
                p_AgentID,
                p_ActionID,
                COALESCE(p_Status, 'Active'),
                p_MinExecutionsPerRun,
                p_MaxExecutionsPerRun,
                p_ResultExpirationTurns,
                COALESCE(p_ResultExpirationMode, 'None'),
                p_CompactMode,
                p_CompactLength,
                p_CompactPromptID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentActions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentAction"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_ActionID UUID,
    IN p_Status VARCHAR(15),
    IN p_MinExecutionsPerRun INTEGER,
    IN p_MaxExecutionsPerRun INTEGER,
    IN p_ResultExpirationTurns INTEGER,
    IN p_ResultExpirationMode VARCHAR(20),
    IN p_CompactMode VARCHAR(20),
    IN p_CompactLength INTEGER,
    IN p_CompactPromptID UUID
)
RETURNS SETOF __mj."vwAIAgentActions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentAction"
    SET
        "AgentID" = p_AgentID,
        "ActionID" = p_ActionID,
        "Status" = p_Status,
        "MinExecutionsPerRun" = p_MinExecutionsPerRun,
        "MaxExecutionsPerRun" = p_MaxExecutionsPerRun,
        "ResultExpirationTurns" = p_ResultExpirationTurns,
        "ResultExpirationMode" = p_ResultExpirationMode,
        "CompactMode" = p_CompactMode,
        "CompactLength" = p_CompactLength,
        "CompactPromptID" = p_CompactPromptID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentActions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentActions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentAction"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentAction"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAction"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(50) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_DefaultPrompt TEXT DEFAULT NULL,
    IN p_DefaultModelID UUID DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwAIActions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAction"
            (
                "ID",
                "Name",
                "Description",
                "DefaultPrompt",
                "DefaultModelID",
                "IsActive"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_DefaultPrompt,
                p_DefaultModelID,
                COALESCE(p_IsActive, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAction"
            (
                "Name",
                "Description",
                "DefaultPrompt",
                "DefaultModelID",
                "IsActive"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_DefaultPrompt,
                p_DefaultModelID,
                COALESCE(p_IsActive, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIActions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAction"(
    IN p_ID UUID,
    IN p_Name VARCHAR(50),
    IN p_Description TEXT,
    IN p_DefaultPrompt TEXT,
    IN p_DefaultModelID UUID,
    IN p_IsActive BOOLEAN
)
RETURNS SETOF __mj."vwAIActions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAction"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "DefaultPrompt" = p_DefaultPrompt,
        "DefaultModelID" = p_DefaultModelID,
        "IsActive" = p_IsActive
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIActions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIActions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAction"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAction"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAction"(
    IN p_ID UUID DEFAULT NULL,
    IN p_CategoryID UUID DEFAULT NULL,
    IN p_Name VARCHAR(425) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Type VARCHAR(20) DEFAULT NULL,
    IN p_UserPrompt TEXT DEFAULT NULL,
    IN p_UserComments TEXT DEFAULT NULL,
    IN p_Code TEXT DEFAULT NULL,
    IN p_CodeComments TEXT DEFAULT NULL,
    IN p_CodeApprovalStatus VARCHAR(20) DEFAULT NULL,
    IN p_CodeApprovalComments TEXT DEFAULT NULL,
    IN p_CodeApprovedByUserID UUID DEFAULT NULL,
    IN p_CodeApprovedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CodeLocked BOOLEAN DEFAULT NULL,
    IN p_ForceCodeGeneration BOOLEAN DEFAULT NULL,
    IN p_RetentionPeriod INTEGER DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_DriverClass VARCHAR(255) DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_IconClass VARCHAR(100) DEFAULT NULL,
    IN p_DefaultCompactPromptID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwActions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Action"
            (
                "ID",
                "CategoryID",
                "Name",
                "Description",
                "Type",
                "UserPrompt",
                "UserComments",
                "Code",
                "CodeComments",
                "CodeApprovalStatus",
                "CodeApprovalComments",
                "CodeApprovedByUserID",
                "CodeApprovedAt",
                "CodeLocked",
                "ForceCodeGeneration",
                "RetentionPeriod",
                "Status",
                "DriverClass",
                "ParentID",
                "IconClass",
                "DefaultCompactPromptID"
            )
        VALUES
            (
                p_ID,
                p_CategoryID,
                p_Name,
                p_Description,
                COALESCE(p_Type, 'Generated'),
                p_UserPrompt,
                p_UserComments,
                p_Code,
                p_CodeComments,
                COALESCE(p_CodeApprovalStatus, 'Pending'),
                p_CodeApprovalComments,
                p_CodeApprovedByUserID,
                p_CodeApprovedAt,
                COALESCE(p_CodeLocked, 0),
                COALESCE(p_ForceCodeGeneration, 0),
                p_RetentionPeriod,
                COALESCE(p_Status, 'Pending'),
                p_DriverClass,
                p_ParentID,
                p_IconClass,
                p_DefaultCompactPromptID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Action"
            (
                "CategoryID",
                "Name",
                "Description",
                "Type",
                "UserPrompt",
                "UserComments",
                "Code",
                "CodeComments",
                "CodeApprovalStatus",
                "CodeApprovalComments",
                "CodeApprovedByUserID",
                "CodeApprovedAt",
                "CodeLocked",
                "ForceCodeGeneration",
                "RetentionPeriod",
                "Status",
                "DriverClass",
                "ParentID",
                "IconClass",
                "DefaultCompactPromptID"
            )
        VALUES
            (
                p_CategoryID,
                p_Name,
                p_Description,
                COALESCE(p_Type, 'Generated'),
                p_UserPrompt,
                p_UserComments,
                p_Code,
                p_CodeComments,
                COALESCE(p_CodeApprovalStatus, 'Pending'),
                p_CodeApprovalComments,
                p_CodeApprovedByUserID,
                p_CodeApprovedAt,
                COALESCE(p_CodeLocked, 0),
                COALESCE(p_ForceCodeGeneration, 0),
                p_RetentionPeriod,
                COALESCE(p_Status, 'Pending'),
                p_DriverClass,
                p_ParentID,
                p_IconClass,
                p_DefaultCompactPromptID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwActions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAction"(
    IN p_ID UUID,
    IN p_CategoryID UUID,
    IN p_Name VARCHAR(425),
    IN p_Description TEXT,
    IN p_Type VARCHAR(20),
    IN p_UserPrompt TEXT,
    IN p_UserComments TEXT,
    IN p_Code TEXT,
    IN p_CodeComments TEXT,
    IN p_CodeApprovalStatus VARCHAR(20),
    IN p_CodeApprovalComments TEXT,
    IN p_CodeApprovedByUserID UUID,
    IN p_CodeApprovedAt TIMESTAMPTZ,
    IN p_CodeLocked BOOLEAN,
    IN p_ForceCodeGeneration BOOLEAN,
    IN p_RetentionPeriod INTEGER,
    IN p_Status VARCHAR(20),
    IN p_DriverClass VARCHAR(255),
    IN p_ParentID UUID,
    IN p_IconClass VARCHAR(100),
    IN p_DefaultCompactPromptID UUID
)
RETURNS SETOF __mj."vwActions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Action"
    SET
        "CategoryID" = p_CategoryID,
        "Name" = p_Name,
        "Description" = p_Description,
        "Type" = p_Type,
        "UserPrompt" = p_UserPrompt,
        "UserComments" = p_UserComments,
        "Code" = p_Code,
        "CodeComments" = p_CodeComments,
        "CodeApprovalStatus" = p_CodeApprovalStatus,
        "CodeApprovalComments" = p_CodeApprovalComments,
        "CodeApprovedByUserID" = p_CodeApprovedByUserID,
        "CodeApprovedAt" = p_CodeApprovedAt,
        "CodeLocked" = p_CodeLocked,
        "ForceCodeGeneration" = p_ForceCodeGeneration,
        "RetentionPeriod" = p_RetentionPeriod,
        "Status" = p_Status,
        "DriverClass" = p_DriverClass,
        "ParentID" = p_ParentID,
        "IconClass" = p_IconClass,
        "DefaultCompactPromptID" = p_DefaultCompactPromptID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwActions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwActions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAction"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJActionAuthorizations_ActionIDID UUID;
    p_MJActionContexts_ActionIDID UUID;
    p_MJActionExecutionLogs_ActionIDID UUID;
    p_MJActionLibraries_ActionIDID UUID;
    p_MJActionParams_ActionIDID UUID;
    p_MJActionResultCodes_ActionIDID UUID;
    p_MJActions_ParentIDID UUID;
    p_MJAIAgentActions_ActionIDID UUID;
    p_MJAIAgentActions_ActionID_AgentID UUID;
    p_MJAIAgentActions_ActionID_ActionID UUID;
    p_MJAIAgentActions_ActionID_Status VARCHAR(15);
    p_MJAIAgentActions_ActionID_MinExecutionsPerRun INTEGER;
    p_MJAIAgentActions_ActionID_MaxExecutionsPerRun INTEGER;
    p_MJAIAgentActions_ActionID_ResultExpirationTurns INTEGER;
    p_MJAIAgentActions_ActionID_ResultExpirationMode VARCHAR(20);
    p_MJAIAgentActions_ActionID_CompactMode VARCHAR(20);
    p_MJAIAgentActions_ActionID_CompactLength INTEGER;
    p_MJAIAgentActions_ActionID_CompactPromptID UUID;
    p_MJAIAgentSteps_ActionIDID UUID;
    p_MJAIAgentSteps_ActionID_AgentID UUID;
    p_MJAIAgentSteps_ActionID_Name VARCHAR(255);
    p_MJAIAgentSteps_ActionID_Description TEXT;
    p_MJAIAgentSteps_ActionID_StepType VARCHAR(20);
    p_MJAIAgentSteps_ActionID_StartingStep BOOLEAN;
    p_MJAIAgentSteps_ActionID_TimeoutSeconds INTEGER;
    p_MJAIAgentSteps_ActionID_RetryCount INTEGER;
    p_MJAIAgentSteps_ActionID_OnErrorBehavior VARCHAR(20);
    p_MJAIAgentSteps_ActionID_ActionID UUID;
    p_MJAIAgentSteps_ActionID_SubAgentID UUID;
    p_MJAIAgentSteps_ActionID_PromptID UUID;
    p_MJAIAgentSteps_ActionID_ActionOutputMapping TEXT;
    p_MJAIAgentSteps_ActionID_PositionX INTEGER;
    p_MJAIAgentSteps_ActionID_PositionY INTEGER;
    p_MJAIAgentSteps_ActionID_Width INTEGER;
    p_MJAIAgentSteps_ActionID_Height INTEGER;
    p_MJAIAgentSteps_ActionID_Status VARCHAR(20);
    p_MJAIAgentSteps_ActionID_ActionInputMapping TEXT;
    p_MJAIAgentSteps_ActionID_LoopBodyType VARCHAR(50);
    p_MJAIAgentSteps_ActionID_Configuration TEXT;
    p_MJEntityActions_ActionIDID UUID;
    p_MJMCPServerTools_GeneratedActionIDID UUID;
    p_MJMCPServerTools_GeneratedActionID_MCPServerID UUID;
    p_MJMCPServerTools_GeneratedActionID_ToolName VARCHAR(255);
    p_MJMCPServerTools_GeneratedActionID_ToolTitle VARCHAR(255);
    p_MJMCPServerTools_GeneratedActionID_ToolDescription TEXT;
    p_MJMCPServerTools_GeneratedActionID_InputSchema TEXT;
    p_MJMCPServerTools_GeneratedActionID_OutputSchema TEXT;
    p_MJMCPServerTools_GeneratedActionID_Annotations TEXT;
    p_MJMCPServerTools_GeneratedActionID_Status VARCHAR(50);
    p_MJMCPServerTools_GeneratedActionID_DiscoveredAt TIMESTAMPTZ;
    p_MJMCPServerTools_GeneratedActionID_LastSeenAt TIMESTAMPTZ;
    p_MJMCPServerTools_GeneratedActionID_GeneratedActionID UUID;
    p_MJMCPServerTools_GeneratedActionID_GeneratedActionCategoryID UUID;
    p_MJScheduledActions_ActionIDID UUID;
BEGIN
-- Cascade delete from ActionAuthorization using cursor to call spDeleteActionAuthorization

    FOR _rec IN SELECT "ID" FROM __mj."ActionAuthorization" WHERE "ActionID" = p_ID
    LOOP
        p_MJActionAuthorizations_ActionIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteActionAuthorization"(p_MJActionAuthorizations_ActionIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ActionContext using cursor to call spDeleteActionContext

    FOR _rec IN SELECT "ID" FROM __mj."ActionContext" WHERE "ActionID" = p_ID
    LOOP
        p_MJActionContexts_ActionIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteActionContext"(p_MJActionContexts_ActionIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ActionExecutionLog using cursor to call spDeleteActionExecutionLog

    FOR _rec IN SELECT "ID" FROM __mj."ActionExecutionLog" WHERE "ActionID" = p_ID
    LOOP
        p_MJActionExecutionLogs_ActionIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteActionExecutionLog"(p_MJActionExecutionLogs_ActionIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ActionLibrary using cursor to call spDeleteActionLibrary

    FOR _rec IN SELECT "ID" FROM __mj."ActionLibrary" WHERE "ActionID" = p_ID
    LOOP
        p_MJActionLibraries_ActionIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteActionLibrary"(p_MJActionLibraries_ActionIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ActionParam using cursor to call spDeleteActionParam

    FOR _rec IN SELECT "ID" FROM __mj."ActionParam" WHERE "ActionID" = p_ID
    LOOP
        p_MJActionParams_ActionIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteActionParam"(p_MJActionParams_ActionIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ActionResultCode using cursor to call spDeleteActionResultCode

    FOR _rec IN SELECT "ID" FROM __mj."ActionResultCode" WHERE "ActionID" = p_ID
    LOOP
        p_MJActionResultCodes_ActionIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteActionResultCode"(p_MJActionResultCodes_ActionIDID);
        
    END LOOP;
    
    
    -- Cascade delete from Action using cursor to call spDeleteAction

    FOR _rec IN SELECT "ID" FROM __mj."Action" WHERE "ParentID" = p_ID
    LOOP
        p_MJActions_ParentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAction"(p_MJActions_ParentIDID);
        
    END LOOP;
    
    
    -- Cascade update on AIAgentAction using cursor to call spUpdateAIAgentAction


    FOR _rec IN SELECT "ID", "AgentID", "ActionID", "Status", "MinExecutionsPerRun", "MaxExecutionsPerRun", "ResultExpirationTurns", "ResultExpirationMode", "CompactMode", "CompactLength", "CompactPromptID" FROM __mj."AIAgentAction" WHERE "ActionID" = p_ID
    LOOP
        p_MJAIAgentActions_ActionIDID := _rec."ID";
        p_MJAIAgentActions_ActionID_AgentID := _rec."AgentID";
        p_MJAIAgentActions_ActionID_ActionID := _rec."ActionID";
        p_MJAIAgentActions_ActionID_Status := _rec."Status";
        p_MJAIAgentActions_ActionID_MinExecutionsPerRun := _rec."MinExecutionsPerRun";
        p_MJAIAgentActions_ActionID_MaxExecutionsPerRun := _rec."MaxExecutionsPerRun";
        p_MJAIAgentActions_ActionID_ResultExpirationTurns := _rec."ResultExpirationTurns";
        p_MJAIAgentActions_ActionID_ResultExpirationMode := _rec."ResultExpirationMode";
        p_MJAIAgentActions_ActionID_CompactMode := _rec."CompactMode";
        p_MJAIAgentActions_ActionID_CompactLength := _rec."CompactLength";
        p_MJAIAgentActions_ActionID_CompactPromptID := _rec."CompactPromptID";
        -- Set the FK field to NULL
        p_MJAIAgentActions_ActionID_ActionID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentAction"(p_MJAIAgentActions_ActionIDID, p_MJAIAgentActions_ActionID_AgentID, p_MJAIAgentActions_ActionID_ActionID, p_MJAIAgentActions_ActionID_Status, p_MJAIAgentActions_ActionID_MinExecutionsPerRun, p_MJAIAgentActions_ActionID_MaxExecutionsPerRun, p_MJAIAgentActions_ActionID_ResultExpirationTurns, p_MJAIAgentActions_ActionID_ResultExpirationMode, p_MJAIAgentActions_ActionID_CompactMode, p_MJAIAgentActions_ActionID_CompactLength, p_MJAIAgentActions_ActionID_CompactPromptID);

    END LOOP;

    
    -- Cascade update on AIAgentStep using cursor to call spUpdateAIAgentStep


    FOR _rec IN SELECT "ID", "AgentID", "Name", "Description", "StepType", "StartingStep", "TimeoutSeconds", "RetryCount", "OnErrorBehavior", "ActionID", "SubAgentID", "PromptID", "ActionOutputMapping", "PositionX", "PositionY", "Width", "Height", "Status", "ActionInputMapping", "LoopBodyType", "Configuration" FROM __mj."AIAgentStep" WHERE "ActionID" = p_ID
    LOOP
        p_MJAIAgentSteps_ActionIDID := _rec."ID";
        p_MJAIAgentSteps_ActionID_AgentID := _rec."AgentID";
        p_MJAIAgentSteps_ActionID_Name := _rec."Name";
        p_MJAIAgentSteps_ActionID_Description := _rec."Description";
        p_MJAIAgentSteps_ActionID_StepType := _rec."StepType";
        p_MJAIAgentSteps_ActionID_StartingStep := _rec."StartingStep";
        p_MJAIAgentSteps_ActionID_TimeoutSeconds := _rec."TimeoutSeconds";
        p_MJAIAgentSteps_ActionID_RetryCount := _rec."RetryCount";
        p_MJAIAgentSteps_ActionID_OnErrorBehavior := _rec."OnErrorBehavior";
        p_MJAIAgentSteps_ActionID_ActionID := _rec."ActionID";
        p_MJAIAgentSteps_ActionID_SubAgentID := _rec."SubAgentID";
        p_MJAIAgentSteps_ActionID_PromptID := _rec."PromptID";
        p_MJAIAgentSteps_ActionID_ActionOutputMapping := _rec."ActionOutputMapping";
        p_MJAIAgentSteps_ActionID_PositionX := _rec."PositionX";
        p_MJAIAgentSteps_ActionID_PositionY := _rec."PositionY";
        p_MJAIAgentSteps_ActionID_Width := _rec."Width";
        p_MJAIAgentSteps_ActionID_Height := _rec."Height";
        p_MJAIAgentSteps_ActionID_Status := _rec."Status";
        p_MJAIAgentSteps_ActionID_ActionInputMapping := _rec."ActionInputMapping";
        p_MJAIAgentSteps_ActionID_LoopBodyType := _rec."LoopBodyType";
        p_MJAIAgentSteps_ActionID_Configuration := _rec."Configuration";
        -- Set the FK field to NULL
        p_MJAIAgentSteps_ActionID_ActionID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentStep"(p_MJAIAgentSteps_ActionIDID, p_MJAIAgentSteps_ActionID_AgentID, p_MJAIAgentSteps_ActionID_Name, p_MJAIAgentSteps_ActionID_Description, p_MJAIAgentSteps_ActionID_StepType, p_MJAIAgentSteps_ActionID_StartingStep, p_MJAIAgentSteps_ActionID_TimeoutSeconds, p_MJAIAgentSteps_ActionID_RetryCount, p_MJAIAgentSteps_ActionID_OnErrorBehavior, p_MJAIAgentSteps_ActionID_ActionID, p_MJAIAgentSteps_ActionID_SubAgentID, p_MJAIAgentSteps_ActionID_PromptID, p_MJAIAgentSteps_ActionID_ActionOutputMapping, p_MJAIAgentSteps_ActionID_PositionX, p_MJAIAgentSteps_ActionID_PositionY, p_MJAIAgentSteps_ActionID_Width, p_MJAIAgentSteps_ActionID_Height, p_MJAIAgentSteps_ActionID_Status, p_MJAIAgentSteps_ActionID_ActionInputMapping, p_MJAIAgentSteps_ActionID_LoopBodyType, p_MJAIAgentSteps_ActionID_Configuration);

    END LOOP;

    
    -- Cascade delete from EntityAction using cursor to call spDeleteEntityAction

    FOR _rec IN SELECT "ID" FROM __mj."EntityAction" WHERE "ActionID" = p_ID
    LOOP
        p_MJEntityActions_ActionIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteEntityAction"(p_MJEntityActions_ActionIDID);
        
    END LOOP;
    
    
    -- Cascade update on MCPServerTool using cursor to call spUpdateMCPServerTool


    FOR _rec IN SELECT "ID", "MCPServerID", "ToolName", "ToolTitle", "ToolDescription", "InputSchema", "OutputSchema", "Annotations", "Status", "DiscoveredAt", "LastSeenAt", "GeneratedActionID", "GeneratedActionCategoryID" FROM __mj."MCPServerTool" WHERE "GeneratedActionID" = p_ID
    LOOP
        p_MJMCPServerTools_GeneratedActionIDID := _rec."ID";
        p_MJMCPServerTools_GeneratedActionID_MCPServerID := _rec."MCPServerID";
        p_MJMCPServerTools_GeneratedActionID_ToolName := _rec."ToolName";
        p_MJMCPServerTools_GeneratedActionID_ToolTitle := _rec."ToolTitle";
        p_MJMCPServerTools_GeneratedActionID_ToolDescription := _rec."ToolDescription";
        p_MJMCPServerTools_GeneratedActionID_InputSchema := _rec."InputSchema";
        p_MJMCPServerTools_GeneratedActionID_OutputSchema := _rec."OutputSchema";
        p_MJMCPServerTools_GeneratedActionID_Annotations := _rec."Annotations";
        p_MJMCPServerTools_GeneratedActionID_Status := _rec."Status";
        p_MJMCPServerTools_GeneratedActionID_DiscoveredAt := _rec."DiscoveredAt";
        p_MJMCPServerTools_GeneratedActionID_LastSeenAt := _rec."LastSeenAt";
        p_MJMCPServerTools_GeneratedActionID_GeneratedActionID := _rec."GeneratedActionID";
        p_MJMCPServerTools_GeneratedActionID_GeneratedActionCategoryID := _rec."GeneratedActionCategoryID";
        -- Set the FK field to NULL
        p_MJMCPServerTools_GeneratedActionID_GeneratedActionID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateMCPServerTool"(p_MJMCPServerTools_GeneratedActionIDID, p_MJMCPServerTools_GeneratedActionID_MCPServerID, p_MJMCPServerTools_GeneratedActionID_ToolName, p_MJMCPServerTools_GeneratedActionID_ToolTitle, p_MJMCPServerTools_GeneratedActionID_ToolDescription, p_MJMCPServerTools_GeneratedActionID_InputSchema, p_MJMCPServerTools_GeneratedActionID_OutputSchema, p_MJMCPServerTools_GeneratedActionID_Annotations, p_MJMCPServerTools_GeneratedActionID_Status, p_MJMCPServerTools_GeneratedActionID_DiscoveredAt, p_MJMCPServerTools_GeneratedActionID_LastSeenAt, p_MJMCPServerTools_GeneratedActionID_GeneratedActionID, p_MJMCPServerTools_GeneratedActionID_GeneratedActionCategoryID);

    END LOOP;

    
    -- Cascade delete from ScheduledAction using cursor to call spDeleteScheduledAction

    FOR _rec IN SELECT "ID" FROM __mj."ScheduledAction" WHERE "ActionID" = p_ID
    LOOP
        p_MJScheduledActions_ActionIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteScheduledAction"(p_MJScheduledActions_ActionIDID);
        
    END LOOP;
    
    

    DELETE FROM
        __mj."Action"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentLearningCycle"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_AgentSummary TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentLearningCycles" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentLearningCycle"
            (
                "ID",
                "AgentID",
                "StartedAt",
                "EndedAt",
                "Status",
                "AgentSummary"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                COALESCE(p_StartedAt, NOW()),
                p_EndedAt,
                p_Status,
                p_AgentSummary
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentLearningCycle"
            (
                "AgentID",
                "StartedAt",
                "EndedAt",
                "Status",
                "AgentSummary"
            )
        VALUES
            (
                p_AgentID,
                COALESCE(p_StartedAt, NOW()),
                p_EndedAt,
                p_Status,
                p_AgentSummary
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentLearningCycles" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentLearningCycle"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_StartedAt TIMESTAMPTZ,
    IN p_EndedAt TIMESTAMPTZ,
    IN p_Status VARCHAR(20),
    IN p_AgentSummary TEXT
)
RETURNS SETOF __mj."vwAIAgentLearningCycles" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentLearningCycle"
    SET
        "AgentID" = p_AgentID,
        "StartedAt" = p_StartedAt,
        "EndedAt" = p_EndedAt,
        "Status" = p_Status,
        "AgentSummary" = p_AgentSummary
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentLearningCycles" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentLearningCycles" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentLearningCycle"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentLearningCycle"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentExample"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_CompanyID UUID DEFAULT NULL,
    IN p_Type VARCHAR(20) DEFAULT NULL,
    IN p_ExampleInput TEXT DEFAULT NULL,
    IN p_ExampleOutput TEXT DEFAULT NULL,
    IN p_IsAutoGenerated BOOLEAN DEFAULT NULL,
    IN p_SourceConversationID UUID DEFAULT NULL,
    IN p_SourceConversationDetailID UUID DEFAULT NULL,
    IN p_SourceAIAgentRunID UUID DEFAULT NULL,
    IN p_SuccessScore NUMERIC(5,2) DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_EmbeddingVector TEXT DEFAULT NULL,
    IN p_EmbeddingModelID UUID DEFAULT NULL,
    IN p_PrimaryScopeEntityID UUID DEFAULT NULL,
    IN p_PrimaryScopeRecordID VARCHAR(100) DEFAULT NULL,
    IN p_SecondaryScopes TEXT DEFAULT NULL,
    IN p_LastAccessedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_AccessCount INTEGER DEFAULT NULL,
    IN p_ExpiresAt TIMESTAMPTZ DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentExamples" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentExample"
            (
                "ID",
                "AgentID",
                "UserID",
                "CompanyID",
                "Type",
                "ExampleInput",
                "ExampleOutput",
                "IsAutoGenerated",
                "SourceConversationID",
                "SourceConversationDetailID",
                "SourceAIAgentRunID",
                "SuccessScore",
                "Comments",
                "Status",
                "EmbeddingVector",
                "EmbeddingModelID",
                "PrimaryScopeEntityID",
                "PrimaryScopeRecordID",
                "SecondaryScopes",
                "LastAccessedAt",
                "AccessCount",
                "ExpiresAt"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_UserID,
                p_CompanyID,
                COALESCE(p_Type, 'Example'),
                p_ExampleInput,
                p_ExampleOutput,
                COALESCE(p_IsAutoGenerated, 0),
                p_SourceConversationID,
                p_SourceConversationDetailID,
                p_SourceAIAgentRunID,
                p_SuccessScore,
                p_Comments,
                COALESCE(p_Status, 'Active'),
                p_EmbeddingVector,
                p_EmbeddingModelID,
                p_PrimaryScopeEntityID,
                p_PrimaryScopeRecordID,
                p_SecondaryScopes,
                p_LastAccessedAt,
                COALESCE(p_AccessCount, 0),
                p_ExpiresAt
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentExample"
            (
                "AgentID",
                "UserID",
                "CompanyID",
                "Type",
                "ExampleInput",
                "ExampleOutput",
                "IsAutoGenerated",
                "SourceConversationID",
                "SourceConversationDetailID",
                "SourceAIAgentRunID",
                "SuccessScore",
                "Comments",
                "Status",
                "EmbeddingVector",
                "EmbeddingModelID",
                "PrimaryScopeEntityID",
                "PrimaryScopeRecordID",
                "SecondaryScopes",
                "LastAccessedAt",
                "AccessCount",
                "ExpiresAt"
            )
        VALUES
            (
                p_AgentID,
                p_UserID,
                p_CompanyID,
                COALESCE(p_Type, 'Example'),
                p_ExampleInput,
                p_ExampleOutput,
                COALESCE(p_IsAutoGenerated, 0),
                p_SourceConversationID,
                p_SourceConversationDetailID,
                p_SourceAIAgentRunID,
                p_SuccessScore,
                p_Comments,
                COALESCE(p_Status, 'Active'),
                p_EmbeddingVector,
                p_EmbeddingModelID,
                p_PrimaryScopeEntityID,
                p_PrimaryScopeRecordID,
                p_SecondaryScopes,
                p_LastAccessedAt,
                COALESCE(p_AccessCount, 0),
                p_ExpiresAt
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentExamples" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentExample"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_UserID UUID,
    IN p_CompanyID UUID,
    IN p_Type VARCHAR(20),
    IN p_ExampleInput TEXT,
    IN p_ExampleOutput TEXT,
    IN p_IsAutoGenerated BOOLEAN,
    IN p_SourceConversationID UUID,
    IN p_SourceConversationDetailID UUID,
    IN p_SourceAIAgentRunID UUID,
    IN p_SuccessScore NUMERIC(5,2),
    IN p_Comments TEXT,
    IN p_Status VARCHAR(20),
    IN p_EmbeddingVector TEXT,
    IN p_EmbeddingModelID UUID,
    IN p_PrimaryScopeEntityID UUID,
    IN p_PrimaryScopeRecordID VARCHAR(100),
    IN p_SecondaryScopes TEXT,
    IN p_LastAccessedAt TIMESTAMPTZ,
    IN p_AccessCount INTEGER,
    IN p_ExpiresAt TIMESTAMPTZ
)
RETURNS SETOF __mj."vwAIAgentExamples" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentExample"
    SET
        "AgentID" = p_AgentID,
        "UserID" = p_UserID,
        "CompanyID" = p_CompanyID,
        "Type" = p_Type,
        "ExampleInput" = p_ExampleInput,
        "ExampleOutput" = p_ExampleOutput,
        "IsAutoGenerated" = p_IsAutoGenerated,
        "SourceConversationID" = p_SourceConversationID,
        "SourceConversationDetailID" = p_SourceConversationDetailID,
        "SourceAIAgentRunID" = p_SourceAIAgentRunID,
        "SuccessScore" = p_SuccessScore,
        "Comments" = p_Comments,
        "Status" = p_Status,
        "EmbeddingVector" = p_EmbeddingVector,
        "EmbeddingModelID" = p_EmbeddingModelID,
        "PrimaryScopeEntityID" = p_PrimaryScopeEntityID,
        "PrimaryScopeRecordID" = p_PrimaryScopeRecordID,
        "SecondaryScopes" = p_SecondaryScopes,
        "LastAccessedAt" = p_LastAccessedAt,
        "AccessCount" = p_AccessCount,
        "ExpiresAt" = p_ExpiresAt
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentExamples" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentExamples" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentExample"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentExample"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentDataSource"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_SourceType VARCHAR(20) DEFAULT NULL,
    IN p_EntityName VARCHAR(255) DEFAULT NULL,
    IN p_ExtraFilter TEXT DEFAULT NULL,
    IN p_OrderBy VARCHAR(500) DEFAULT NULL,
    IN p_FieldsToRetrieve TEXT DEFAULT NULL,
    IN p_ResultType VARCHAR(20) DEFAULT NULL,
    IN p_QueryName VARCHAR(255) DEFAULT NULL,
    IN p_CategoryPath VARCHAR(500) DEFAULT NULL,
    IN p_Parameters TEXT DEFAULT NULL,
    IN p_MaxRows INTEGER DEFAULT NULL,
    IN p_ExecutionOrder INTEGER DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_CachePolicy VARCHAR(20) DEFAULT NULL,
    IN p_CacheTimeoutSeconds INTEGER DEFAULT NULL,
    IN p_DestinationType VARCHAR(20) DEFAULT NULL,
    IN p_DestinationPath VARCHAR(500) DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentDataSources" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentDataSource"
            (
                "ID",
                "AgentID",
                "Name",
                "Description",
                "SourceType",
                "EntityName",
                "ExtraFilter",
                "OrderBy",
                "FieldsToRetrieve",
                "ResultType",
                "QueryName",
                "CategoryPath",
                "Parameters",
                "MaxRows",
                "ExecutionOrder",
                "Status",
                "CachePolicy",
                "CacheTimeoutSeconds",
                "DestinationType",
                "DestinationPath"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_Name,
                p_Description,
                COALESCE(p_SourceType, 'RunView'),
                p_EntityName,
                p_ExtraFilter,
                p_OrderBy,
                p_FieldsToRetrieve,
                p_ResultType,
                p_QueryName,
                p_CategoryPath,
                p_Parameters,
                p_MaxRows,
                COALESCE(p_ExecutionOrder, 0),
                COALESCE(p_Status, 'Active'),
                COALESCE(p_CachePolicy, 'None'),
                p_CacheTimeoutSeconds,
                COALESCE(p_DestinationType, 'Data'),
                p_DestinationPath
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentDataSource"
            (
                "AgentID",
                "Name",
                "Description",
                "SourceType",
                "EntityName",
                "ExtraFilter",
                "OrderBy",
                "FieldsToRetrieve",
                "ResultType",
                "QueryName",
                "CategoryPath",
                "Parameters",
                "MaxRows",
                "ExecutionOrder",
                "Status",
                "CachePolicy",
                "CacheTimeoutSeconds",
                "DestinationType",
                "DestinationPath"
            )
        VALUES
            (
                p_AgentID,
                p_Name,
                p_Description,
                COALESCE(p_SourceType, 'RunView'),
                p_EntityName,
                p_ExtraFilter,
                p_OrderBy,
                p_FieldsToRetrieve,
                p_ResultType,
                p_QueryName,
                p_CategoryPath,
                p_Parameters,
                p_MaxRows,
                COALESCE(p_ExecutionOrder, 0),
                COALESCE(p_Status, 'Active'),
                COALESCE(p_CachePolicy, 'None'),
                p_CacheTimeoutSeconds,
                COALESCE(p_DestinationType, 'Data'),
                p_DestinationPath
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentDataSources" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentDataSource"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_SourceType VARCHAR(20),
    IN p_EntityName VARCHAR(255),
    IN p_ExtraFilter TEXT,
    IN p_OrderBy VARCHAR(500),
    IN p_FieldsToRetrieve TEXT,
    IN p_ResultType VARCHAR(20),
    IN p_QueryName VARCHAR(255),
    IN p_CategoryPath VARCHAR(500),
    IN p_Parameters TEXT,
    IN p_MaxRows INTEGER,
    IN p_ExecutionOrder INTEGER,
    IN p_Status VARCHAR(20),
    IN p_CachePolicy VARCHAR(20),
    IN p_CacheTimeoutSeconds INTEGER,
    IN p_DestinationType VARCHAR(20),
    IN p_DestinationPath VARCHAR(500)
)
RETURNS SETOF __mj."vwAIAgentDataSources" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentDataSource"
    SET
        "AgentID" = p_AgentID,
        "Name" = p_Name,
        "Description" = p_Description,
        "SourceType" = p_SourceType,
        "EntityName" = p_EntityName,
        "ExtraFilter" = p_ExtraFilter,
        "OrderBy" = p_OrderBy,
        "FieldsToRetrieve" = p_FieldsToRetrieve,
        "ResultType" = p_ResultType,
        "QueryName" = p_QueryName,
        "CategoryPath" = p_CategoryPath,
        "Parameters" = p_Parameters,
        "MaxRows" = p_MaxRows,
        "ExecutionOrder" = p_ExecutionOrder,
        "Status" = p_Status,
        "CachePolicy" = p_CachePolicy,
        "CacheTimeoutSeconds" = p_CacheTimeoutSeconds,
        "DestinationType" = p_DestinationType,
        "DestinationPath" = p_DestinationPath
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentDataSources" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentDataSources" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentDataSource"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentDataSource"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentModality"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_ModalityID UUID DEFAULT NULL,
    IN p_Direction VARCHAR(10) DEFAULT NULL,
    IN p_IsAllowed BOOLEAN DEFAULT NULL,
    IN p_MaxSizeBytes INTEGER DEFAULT NULL,
    IN p_MaxCountPerMessage INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentModalities" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentModality"
            (
                "ID",
                "AgentID",
                "ModalityID",
                "Direction",
                "IsAllowed",
                "MaxSizeBytes",
                "MaxCountPerMessage"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_ModalityID,
                p_Direction,
                COALESCE(p_IsAllowed, 1),
                p_MaxSizeBytes,
                p_MaxCountPerMessage
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentModality"
            (
                "AgentID",
                "ModalityID",
                "Direction",
                "IsAllowed",
                "MaxSizeBytes",
                "MaxCountPerMessage"
            )
        VALUES
            (
                p_AgentID,
                p_ModalityID,
                p_Direction,
                COALESCE(p_IsAllowed, 1),
                p_MaxSizeBytes,
                p_MaxCountPerMessage
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentModalities" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentModality"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_ModalityID UUID,
    IN p_Direction VARCHAR(10),
    IN p_IsAllowed BOOLEAN,
    IN p_MaxSizeBytes INTEGER,
    IN p_MaxCountPerMessage INTEGER
)
RETURNS SETOF __mj."vwAIAgentModalities" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentModality"
    SET
        "AgentID" = p_AgentID,
        "ModalityID" = p_ModalityID,
        "Direction" = p_Direction,
        "IsAllowed" = p_IsAllowed,
        "MaxSizeBytes" = p_MaxSizeBytes,
        "MaxCountPerMessage" = p_MaxCountPerMessage
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentModalities" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentModalities" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentModality"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentModality"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentModel"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_ModelID UUID DEFAULT NULL,
    IN p_Active BOOLEAN DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentModels" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentModel"
            (
                "ID",
                "AgentID",
                "ModelID",
                "Active",
                "Priority"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_ModelID,
                p_Active,
                p_Priority
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentModel"
            (
                "AgentID",
                "ModelID",
                "Active",
                "Priority"
            )
        VALUES
            (
                p_AgentID,
                p_ModelID,
                p_Active,
                p_Priority
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentModels" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentModel"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_ModelID UUID,
    IN p_Active BOOLEAN,
    IN p_Priority INTEGER
)
RETURNS SETOF __mj."vwAIAgentModels" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentModel"
    SET
        "AgentID" = p_AgentID,
        "ModelID" = p_ModelID,
        "Active" = p_Active,
        "Priority" = p_Priority
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentModels" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentModels" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentModel"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentModel"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentPrompt"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_PromptID UUID DEFAULT NULL,
    IN p_Purpose TEXT DEFAULT NULL,
    IN p_ExecutionOrder INTEGER DEFAULT NULL,
    IN p_ConfigurationID UUID DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_ContextBehavior VARCHAR(50) DEFAULT NULL,
    IN p_ContextMessageCount INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentPrompts" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentPrompt"
            (
                "ID",
                "AgentID",
                "PromptID",
                "Purpose",
                "ExecutionOrder",
                "ConfigurationID",
                "Status",
                "ContextBehavior",
                "ContextMessageCount"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_PromptID,
                p_Purpose,
                COALESCE(p_ExecutionOrder, 0),
                p_ConfigurationID,
                COALESCE(p_Status, 'Active'),
                COALESCE(p_ContextBehavior, 'Complete'),
                p_ContextMessageCount
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentPrompt"
            (
                "AgentID",
                "PromptID",
                "Purpose",
                "ExecutionOrder",
                "ConfigurationID",
                "Status",
                "ContextBehavior",
                "ContextMessageCount"
            )
        VALUES
            (
                p_AgentID,
                p_PromptID,
                p_Purpose,
                COALESCE(p_ExecutionOrder, 0),
                p_ConfigurationID,
                COALESCE(p_Status, 'Active'),
                COALESCE(p_ContextBehavior, 'Complete'),
                p_ContextMessageCount
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentPrompts" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentPrompt"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_PromptID UUID,
    IN p_Purpose TEXT,
    IN p_ExecutionOrder INTEGER,
    IN p_ConfigurationID UUID,
    IN p_Status VARCHAR(20),
    IN p_ContextBehavior VARCHAR(50),
    IN p_ContextMessageCount INTEGER
)
RETURNS SETOF __mj."vwAIAgentPrompts" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentPrompt"
    SET
        "AgentID" = p_AgentID,
        "PromptID" = p_PromptID,
        "Purpose" = p_Purpose,
        "ExecutionOrder" = p_ExecutionOrder,
        "ConfigurationID" = p_ConfigurationID,
        "Status" = p_Status,
        "ContextBehavior" = p_ContextBehavior,
        "ContextMessageCount" = p_ContextMessageCount
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentPrompts" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentPrompts" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentPrompt"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentPrompt"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentNote"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_AgentNoteTypeID UUID DEFAULT NULL,
    IN p_Note TEXT DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Type VARCHAR(20) DEFAULT NULL,
    IN p_IsAutoGenerated BOOLEAN DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_SourceConversationID UUID DEFAULT NULL,
    IN p_SourceConversationDetailID UUID DEFAULT NULL,
    IN p_SourceAIAgentRunID UUID DEFAULT NULL,
    IN p_CompanyID UUID DEFAULT NULL,
    IN p_EmbeddingVector TEXT DEFAULT NULL,
    IN p_EmbeddingModelID UUID DEFAULT NULL,
    IN p_PrimaryScopeEntityID UUID DEFAULT NULL,
    IN p_PrimaryScopeRecordID VARCHAR(100) DEFAULT NULL,
    IN p_SecondaryScopes TEXT DEFAULT NULL,
    IN p_LastAccessedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_AccessCount INTEGER DEFAULT NULL,
    IN p_ExpiresAt TIMESTAMPTZ DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentNotes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentNote"
            (
                "ID",
                "AgentID",
                "AgentNoteTypeID",
                "Note",
                "UserID",
                "Type",
                "IsAutoGenerated",
                "Comments",
                "Status",
                "SourceConversationID",
                "SourceConversationDetailID",
                "SourceAIAgentRunID",
                "CompanyID",
                "EmbeddingVector",
                "EmbeddingModelID",
                "PrimaryScopeEntityID",
                "PrimaryScopeRecordID",
                "SecondaryScopes",
                "LastAccessedAt",
                "AccessCount",
                "ExpiresAt"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_AgentNoteTypeID,
                p_Note,
                p_UserID,
                COALESCE(p_Type, 'Preference'),
                COALESCE(p_IsAutoGenerated, 0),
                p_Comments,
                COALESCE(p_Status, 'Active'),
                p_SourceConversationID,
                p_SourceConversationDetailID,
                p_SourceAIAgentRunID,
                p_CompanyID,
                p_EmbeddingVector,
                p_EmbeddingModelID,
                p_PrimaryScopeEntityID,
                p_PrimaryScopeRecordID,
                p_SecondaryScopes,
                p_LastAccessedAt,
                COALESCE(p_AccessCount, 0),
                p_ExpiresAt
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentNote"
            (
                "AgentID",
                "AgentNoteTypeID",
                "Note",
                "UserID",
                "Type",
                "IsAutoGenerated",
                "Comments",
                "Status",
                "SourceConversationID",
                "SourceConversationDetailID",
                "SourceAIAgentRunID",
                "CompanyID",
                "EmbeddingVector",
                "EmbeddingModelID",
                "PrimaryScopeEntityID",
                "PrimaryScopeRecordID",
                "SecondaryScopes",
                "LastAccessedAt",
                "AccessCount",
                "ExpiresAt"
            )
        VALUES
            (
                p_AgentID,
                p_AgentNoteTypeID,
                p_Note,
                p_UserID,
                COALESCE(p_Type, 'Preference'),
                COALESCE(p_IsAutoGenerated, 0),
                p_Comments,
                COALESCE(p_Status, 'Active'),
                p_SourceConversationID,
                p_SourceConversationDetailID,
                p_SourceAIAgentRunID,
                p_CompanyID,
                p_EmbeddingVector,
                p_EmbeddingModelID,
                p_PrimaryScopeEntityID,
                p_PrimaryScopeRecordID,
                p_SecondaryScopes,
                p_LastAccessedAt,
                COALESCE(p_AccessCount, 0),
                p_ExpiresAt
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentNotes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentNote"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_AgentNoteTypeID UUID,
    IN p_Note TEXT,
    IN p_UserID UUID,
    IN p_Type VARCHAR(20),
    IN p_IsAutoGenerated BOOLEAN,
    IN p_Comments TEXT,
    IN p_Status VARCHAR(20),
    IN p_SourceConversationID UUID,
    IN p_SourceConversationDetailID UUID,
    IN p_SourceAIAgentRunID UUID,
    IN p_CompanyID UUID,
    IN p_EmbeddingVector TEXT,
    IN p_EmbeddingModelID UUID,
    IN p_PrimaryScopeEntityID UUID,
    IN p_PrimaryScopeRecordID VARCHAR(100),
    IN p_SecondaryScopes TEXT,
    IN p_LastAccessedAt TIMESTAMPTZ,
    IN p_AccessCount INTEGER,
    IN p_ExpiresAt TIMESTAMPTZ
)
RETURNS SETOF __mj."vwAIAgentNotes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentNote"
    SET
        "AgentID" = p_AgentID,
        "AgentNoteTypeID" = p_AgentNoteTypeID,
        "Note" = p_Note,
        "UserID" = p_UserID,
        "Type" = p_Type,
        "IsAutoGenerated" = p_IsAutoGenerated,
        "Comments" = p_Comments,
        "Status" = p_Status,
        "SourceConversationID" = p_SourceConversationID,
        "SourceConversationDetailID" = p_SourceConversationDetailID,
        "SourceAIAgentRunID" = p_SourceAIAgentRunID,
        "CompanyID" = p_CompanyID,
        "EmbeddingVector" = p_EmbeddingVector,
        "EmbeddingModelID" = p_EmbeddingModelID,
        "PrimaryScopeEntityID" = p_PrimaryScopeEntityID,
        "PrimaryScopeRecordID" = p_PrimaryScopeRecordID,
        "SecondaryScopes" = p_SecondaryScopes,
        "LastAccessedAt" = p_LastAccessedAt,
        "AccessCount" = p_AccessCount,
        "ExpiresAt" = p_ExpiresAt
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentNotes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentNotes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentNote"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentNote"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentRelationship"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_SubAgentID UUID DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_SubAgentOutputMapping TEXT DEFAULT NULL,
    IN p_SubAgentInputMapping TEXT DEFAULT NULL,
    IN p_SubAgentContextPaths TEXT DEFAULT NULL,
    IN p_MessageMode VARCHAR(50) DEFAULT NULL,
    IN p_MaxMessages INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentRelationships" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentRelationship"
            (
                "ID",
                "AgentID",
                "SubAgentID",
                "Status",
                "SubAgentOutputMapping",
                "SubAgentInputMapping",
                "SubAgentContextPaths",
                "MessageMode",
                "MaxMessages"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_SubAgentID,
                p_Status,
                p_SubAgentOutputMapping,
                p_SubAgentInputMapping,
                p_SubAgentContextPaths,
                COALESCE(p_MessageMode, 'None'),
                p_MaxMessages
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentRelationship"
            (
                "AgentID",
                "SubAgentID",
                "Status",
                "SubAgentOutputMapping",
                "SubAgentInputMapping",
                "SubAgentContextPaths",
                "MessageMode",
                "MaxMessages"
            )
        VALUES
            (
                p_AgentID,
                p_SubAgentID,
                p_Status,
                p_SubAgentOutputMapping,
                p_SubAgentInputMapping,
                p_SubAgentContextPaths,
                COALESCE(p_MessageMode, 'None'),
                p_MaxMessages
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentRelationships" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentRelationship"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_SubAgentID UUID,
    IN p_Status VARCHAR(50),
    IN p_SubAgentOutputMapping TEXT,
    IN p_SubAgentInputMapping TEXT,
    IN p_SubAgentContextPaths TEXT,
    IN p_MessageMode VARCHAR(50),
    IN p_MaxMessages INTEGER
)
RETURNS SETOF __mj."vwAIAgentRelationships" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentRelationship"
    SET
        "AgentID" = p_AgentID,
        "SubAgentID" = p_SubAgentID,
        "Status" = p_Status,
        "SubAgentOutputMapping" = p_SubAgentOutputMapping,
        "SubAgentInputMapping" = p_SubAgentInputMapping,
        "SubAgentContextPaths" = p_SubAgentContextPaths,
        "MessageMode" = p_MessageMode,
        "MaxMessages" = p_MaxMessages
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentRelationships" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentRelationships" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentRelationship"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentRelationship"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentPermission"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_RoleID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_CanView BOOLEAN DEFAULT NULL,
    IN p_CanRun BOOLEAN DEFAULT NULL,
    IN p_CanEdit BOOLEAN DEFAULT NULL,
    IN p_CanDelete BOOLEAN DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentPermissions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentPermission"
            (
                "ID",
                "AgentID",
                "RoleID",
                "UserID",
                "CanView",
                "CanRun",
                "CanEdit",
                "CanDelete",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_RoleID,
                p_UserID,
                COALESCE(p_CanView, 0),
                COALESCE(p_CanRun, 0),
                COALESCE(p_CanEdit, 0),
                COALESCE(p_CanDelete, 0),
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentPermission"
            (
                "AgentID",
                "RoleID",
                "UserID",
                "CanView",
                "CanRun",
                "CanEdit",
                "CanDelete",
                "Comments"
            )
        VALUES
            (
                p_AgentID,
                p_RoleID,
                p_UserID,
                COALESCE(p_CanView, 0),
                COALESCE(p_CanRun, 0),
                COALESCE(p_CanEdit, 0),
                COALESCE(p_CanDelete, 0),
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentPermissions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentPermission"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_RoleID UUID,
    IN p_UserID UUID,
    IN p_CanView BOOLEAN,
    IN p_CanRun BOOLEAN,
    IN p_CanEdit BOOLEAN,
    IN p_CanDelete BOOLEAN,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwAIAgentPermissions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentPermission"
    SET
        "AgentID" = p_AgentID,
        "RoleID" = p_RoleID,
        "UserID" = p_UserID,
        "CanView" = p_CanView,
        "CanRun" = p_CanRun,
        "CanEdit" = p_CanEdit,
        "CanDelete" = p_CanDelete,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentPermissions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentPermissions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentPermission"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentPermission"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentRequest"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_RequestedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_RequestForUserID UUID DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_Request TEXT DEFAULT NULL,
    IN p_Response TEXT DEFAULT NULL,
    IN p_ResponseByUserID UUID DEFAULT NULL,
    IN p_RespondedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentRequests" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentRequest"
            (
                "ID",
                "AgentID",
                "RequestedAt",
                "RequestForUserID",
                "Status",
                "Request",
                "Response",
                "ResponseByUserID",
                "RespondedAt",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_RequestedAt,
                p_RequestForUserID,
                p_Status,
                p_Request,
                p_Response,
                p_ResponseByUserID,
                p_RespondedAt,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentRequest"
            (
                "AgentID",
                "RequestedAt",
                "RequestForUserID",
                "Status",
                "Request",
                "Response",
                "ResponseByUserID",
                "RespondedAt",
                "Comments"
            )
        VALUES
            (
                p_AgentID,
                p_RequestedAt,
                p_RequestForUserID,
                p_Status,
                p_Request,
                p_Response,
                p_ResponseByUserID,
                p_RespondedAt,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentRequests" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentRequest"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_RequestedAt TIMESTAMPTZ,
    IN p_RequestForUserID UUID,
    IN p_Status VARCHAR(20),
    IN p_Request TEXT,
    IN p_Response TEXT,
    IN p_ResponseByUserID UUID,
    IN p_RespondedAt TIMESTAMPTZ,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwAIAgentRequests" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentRequest"
    SET
        "AgentID" = p_AgentID,
        "RequestedAt" = p_RequestedAt,
        "RequestForUserID" = p_RequestForUserID,
        "Status" = p_Status,
        "Request" = p_Request,
        "Response" = p_Response,
        "ResponseByUserID" = p_ResponseByUserID,
        "RespondedAt" = p_RespondedAt,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentRequests" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentRequests" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentRequest"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentRequest"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentRunMedia"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentRunID UUID DEFAULT NULL,
    IN p_SourcePromptRunMediaID UUID DEFAULT NULL,
    IN p_ModalityID UUID DEFAULT NULL,
    IN p_MimeType VARCHAR(100) DEFAULT NULL,
    IN p_FileName VARCHAR(255) DEFAULT NULL,
    IN p_FileSizeBytes INTEGER DEFAULT NULL,
    IN p_Width INTEGER DEFAULT NULL,
    IN p_Height INTEGER DEFAULT NULL,
    IN p_DurationSeconds NUMERIC(10,2) DEFAULT NULL,
    IN p_InlineData TEXT DEFAULT NULL,
    IN p_FileID UUID DEFAULT NULL,
    IN p_ThumbnailBase64 TEXT DEFAULT NULL,
    IN p_Label VARCHAR(255) DEFAULT NULL,
    IN p_Metadata TEXT DEFAULT NULL,
    IN p_DisplayOrder INTEGER DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentRunMedias" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentRunMedia"
            (
                "ID",
                "AgentRunID",
                "SourcePromptRunMediaID",
                "ModalityID",
                "MimeType",
                "FileName",
                "FileSizeBytes",
                "Width",
                "Height",
                "DurationSeconds",
                "InlineData",
                "FileID",
                "ThumbnailBase64",
                "Label",
                "Metadata",
                "DisplayOrder",
                "Description"
            )
        VALUES
            (
                p_ID,
                p_AgentRunID,
                p_SourcePromptRunMediaID,
                p_ModalityID,
                p_MimeType,
                p_FileName,
                p_FileSizeBytes,
                p_Width,
                p_Height,
                p_DurationSeconds,
                p_InlineData,
                p_FileID,
                p_ThumbnailBase64,
                p_Label,
                p_Metadata,
                COALESCE(p_DisplayOrder, 0),
                p_Description
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentRunMedia"
            (
                "AgentRunID",
                "SourcePromptRunMediaID",
                "ModalityID",
                "MimeType",
                "FileName",
                "FileSizeBytes",
                "Width",
                "Height",
                "DurationSeconds",
                "InlineData",
                "FileID",
                "ThumbnailBase64",
                "Label",
                "Metadata",
                "DisplayOrder",
                "Description"
            )
        VALUES
            (
                p_AgentRunID,
                p_SourcePromptRunMediaID,
                p_ModalityID,
                p_MimeType,
                p_FileName,
                p_FileSizeBytes,
                p_Width,
                p_Height,
                p_DurationSeconds,
                p_InlineData,
                p_FileID,
                p_ThumbnailBase64,
                p_Label,
                p_Metadata,
                COALESCE(p_DisplayOrder, 0),
                p_Description
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentRunMedias" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentRunMedia"(
    IN p_ID UUID,
    IN p_AgentRunID UUID,
    IN p_SourcePromptRunMediaID UUID,
    IN p_ModalityID UUID,
    IN p_MimeType VARCHAR(100),
    IN p_FileName VARCHAR(255),
    IN p_FileSizeBytes INTEGER,
    IN p_Width INTEGER,
    IN p_Height INTEGER,
    IN p_DurationSeconds NUMERIC(10,2),
    IN p_InlineData TEXT,
    IN p_FileID UUID,
    IN p_ThumbnailBase64 TEXT,
    IN p_Label VARCHAR(255),
    IN p_Metadata TEXT,
    IN p_DisplayOrder INTEGER,
    IN p_Description TEXT
)
RETURNS SETOF __mj."vwAIAgentRunMedias" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentRunMedia"
    SET
        "AgentRunID" = p_AgentRunID,
        "SourcePromptRunMediaID" = p_SourcePromptRunMediaID,
        "ModalityID" = p_ModalityID,
        "MimeType" = p_MimeType,
        "FileName" = p_FileName,
        "FileSizeBytes" = p_FileSizeBytes,
        "Width" = p_Width,
        "Height" = p_Height,
        "DurationSeconds" = p_DurationSeconds,
        "InlineData" = p_InlineData,
        "FileID" = p_FileID,
        "ThumbnailBase64" = p_ThumbnailBase64,
        "Label" = p_Label,
        "Metadata" = p_Metadata,
        "DisplayOrder" = p_DisplayOrder,
        "Description" = p_Description
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentRunMedias" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentRunMedias" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentRunMedia"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentRunMedia"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_ParentRunID UUID DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CompletedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Success BOOLEAN DEFAULT NULL,
    IN p_ErrorMessage TEXT DEFAULT NULL,
    IN p_ConversationID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Result TEXT DEFAULT NULL,
    IN p_AgentState TEXT DEFAULT NULL,
    IN p_TotalTokensUsed INTEGER DEFAULT NULL,
    IN p_TotalCost NUMERIC(18,6) DEFAULT NULL,
    IN p_TotalPromptTokensUsed INTEGER DEFAULT NULL,
    IN p_TotalCompletionTokensUsed INTEGER DEFAULT NULL,
    IN p_TotalTokensUsedRollup INTEGER DEFAULT NULL,
    IN p_TotalPromptTokensUsedRollup INTEGER DEFAULT NULL,
    IN p_TotalCompletionTokensUsedRollup INTEGER DEFAULT NULL,
    IN p_TotalCostRollup NUMERIC(19,8) DEFAULT NULL,
    IN p_ConversationDetailID UUID DEFAULT NULL,
    IN p_ConversationDetailSequence INTEGER DEFAULT NULL,
    IN p_CancellationReason VARCHAR(30) DEFAULT NULL,
    IN p_FinalStep VARCHAR(30) DEFAULT NULL,
    IN p_FinalPayload TEXT DEFAULT NULL,
    IN p_Message TEXT DEFAULT NULL,
    IN p_LastRunID UUID DEFAULT NULL,
    IN p_StartingPayload TEXT DEFAULT NULL,
    IN p_TotalPromptIterations INTEGER DEFAULT NULL,
    IN p_ConfigurationID UUID DEFAULT NULL,
    IN p_OverrideModelID UUID DEFAULT NULL,
    IN p_OverrideVendorID UUID DEFAULT NULL,
    IN p_Data TEXT DEFAULT NULL,
    IN p_Verbose BOOLEAN DEFAULT NULL,
    IN p_EffortLevel INTEGER DEFAULT NULL,
    IN p_RunName VARCHAR(255) DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL,
    IN p_ScheduledJobRunID UUID DEFAULT NULL,
    IN p_TestRunID UUID DEFAULT NULL,
    IN p_PrimaryScopeEntityID UUID DEFAULT NULL,
    IN p_PrimaryScopeRecordID VARCHAR(100) DEFAULT NULL,
    IN p_SecondaryScopes TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentRun"
            (
                "ID",
                "AgentID",
                "ParentRunID",
                "Status",
                "StartedAt",
                "CompletedAt",
                "Success",
                "ErrorMessage",
                "ConversationID",
                "UserID",
                "Result",
                "AgentState",
                "TotalTokensUsed",
                "TotalCost",
                "TotalPromptTokensUsed",
                "TotalCompletionTokensUsed",
                "TotalTokensUsedRollup",
                "TotalPromptTokensUsedRollup",
                "TotalCompletionTokensUsedRollup",
                "TotalCostRollup",
                "ConversationDetailID",
                "ConversationDetailSequence",
                "CancellationReason",
                "FinalStep",
                "FinalPayload",
                "Message",
                "LastRunID",
                "StartingPayload",
                "TotalPromptIterations",
                "ConfigurationID",
                "OverrideModelID",
                "OverrideVendorID",
                "Data",
                "Verbose",
                "EffortLevel",
                "RunName",
                "Comments",
                "ScheduledJobRunID",
                "TestRunID",
                "PrimaryScopeEntityID",
                "PrimaryScopeRecordID",
                "SecondaryScopes"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_ParentRunID,
                COALESCE(p_Status, 'Running'),
                COALESCE(p_StartedAt, NOW()),
                p_CompletedAt,
                p_Success,
                p_ErrorMessage,
                p_ConversationID,
                p_UserID,
                p_Result,
                p_AgentState,
                p_TotalTokensUsed,
                p_TotalCost,
                p_TotalPromptTokensUsed,
                p_TotalCompletionTokensUsed,
                p_TotalTokensUsedRollup,
                p_TotalPromptTokensUsedRollup,
                p_TotalCompletionTokensUsedRollup,
                p_TotalCostRollup,
                p_ConversationDetailID,
                p_ConversationDetailSequence,
                p_CancellationReason,
                p_FinalStep,
                p_FinalPayload,
                p_Message,
                p_LastRunID,
                p_StartingPayload,
                COALESCE(p_TotalPromptIterations, 0),
                p_ConfigurationID,
                p_OverrideModelID,
                p_OverrideVendorID,
                p_Data,
                p_Verbose,
                p_EffortLevel,
                p_RunName,
                p_Comments,
                p_ScheduledJobRunID,
                p_TestRunID,
                p_PrimaryScopeEntityID,
                p_PrimaryScopeRecordID,
                p_SecondaryScopes
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentRun"
            (
                "AgentID",
                "ParentRunID",
                "Status",
                "StartedAt",
                "CompletedAt",
                "Success",
                "ErrorMessage",
                "ConversationID",
                "UserID",
                "Result",
                "AgentState",
                "TotalTokensUsed",
                "TotalCost",
                "TotalPromptTokensUsed",
                "TotalCompletionTokensUsed",
                "TotalTokensUsedRollup",
                "TotalPromptTokensUsedRollup",
                "TotalCompletionTokensUsedRollup",
                "TotalCostRollup",
                "ConversationDetailID",
                "ConversationDetailSequence",
                "CancellationReason",
                "FinalStep",
                "FinalPayload",
                "Message",
                "LastRunID",
                "StartingPayload",
                "TotalPromptIterations",
                "ConfigurationID",
                "OverrideModelID",
                "OverrideVendorID",
                "Data",
                "Verbose",
                "EffortLevel",
                "RunName",
                "Comments",
                "ScheduledJobRunID",
                "TestRunID",
                "PrimaryScopeEntityID",
                "PrimaryScopeRecordID",
                "SecondaryScopes"
            )
        VALUES
            (
                p_AgentID,
                p_ParentRunID,
                COALESCE(p_Status, 'Running'),
                COALESCE(p_StartedAt, NOW()),
                p_CompletedAt,
                p_Success,
                p_ErrorMessage,
                p_ConversationID,
                p_UserID,
                p_Result,
                p_AgentState,
                p_TotalTokensUsed,
                p_TotalCost,
                p_TotalPromptTokensUsed,
                p_TotalCompletionTokensUsed,
                p_TotalTokensUsedRollup,
                p_TotalPromptTokensUsedRollup,
                p_TotalCompletionTokensUsedRollup,
                p_TotalCostRollup,
                p_ConversationDetailID,
                p_ConversationDetailSequence,
                p_CancellationReason,
                p_FinalStep,
                p_FinalPayload,
                p_Message,
                p_LastRunID,
                p_StartingPayload,
                COALESCE(p_TotalPromptIterations, 0),
                p_ConfigurationID,
                p_OverrideModelID,
                p_OverrideVendorID,
                p_Data,
                p_Verbose,
                p_EffortLevel,
                p_RunName,
                p_Comments,
                p_ScheduledJobRunID,
                p_TestRunID,
                p_PrimaryScopeEntityID,
                p_PrimaryScopeRecordID,
                p_SecondaryScopes
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentRun"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_ParentRunID UUID,
    IN p_Status VARCHAR(50),
    IN p_StartedAt TIMESTAMPTZ,
    IN p_CompletedAt TIMESTAMPTZ,
    IN p_Success BOOLEAN,
    IN p_ErrorMessage TEXT,
    IN p_ConversationID UUID,
    IN p_UserID UUID,
    IN p_Result TEXT,
    IN p_AgentState TEXT,
    IN p_TotalTokensUsed INTEGER,
    IN p_TotalCost NUMERIC(18,6),
    IN p_TotalPromptTokensUsed INTEGER,
    IN p_TotalCompletionTokensUsed INTEGER,
    IN p_TotalTokensUsedRollup INTEGER,
    IN p_TotalPromptTokensUsedRollup INTEGER,
    IN p_TotalCompletionTokensUsedRollup INTEGER,
    IN p_TotalCostRollup NUMERIC(19,8),
    IN p_ConversationDetailID UUID,
    IN p_ConversationDetailSequence INTEGER,
    IN p_CancellationReason VARCHAR(30),
    IN p_FinalStep VARCHAR(30),
    IN p_FinalPayload TEXT,
    IN p_Message TEXT,
    IN p_LastRunID UUID,
    IN p_StartingPayload TEXT,
    IN p_TotalPromptIterations INTEGER,
    IN p_ConfigurationID UUID,
    IN p_OverrideModelID UUID,
    IN p_OverrideVendorID UUID,
    IN p_Data TEXT,
    IN p_Verbose BOOLEAN,
    IN p_EffortLevel INTEGER,
    IN p_RunName VARCHAR(255),
    IN p_Comments TEXT,
    IN p_ScheduledJobRunID UUID,
    IN p_TestRunID UUID,
    IN p_PrimaryScopeEntityID UUID,
    IN p_PrimaryScopeRecordID VARCHAR(100),
    IN p_SecondaryScopes TEXT
)
RETURNS SETOF __mj."vwAIAgentRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentRun"
    SET
        "AgentID" = p_AgentID,
        "ParentRunID" = p_ParentRunID,
        "Status" = p_Status,
        "StartedAt" = p_StartedAt,
        "CompletedAt" = p_CompletedAt,
        "Success" = p_Success,
        "ErrorMessage" = p_ErrorMessage,
        "ConversationID" = p_ConversationID,
        "UserID" = p_UserID,
        "Result" = p_Result,
        "AgentState" = p_AgentState,
        "TotalTokensUsed" = p_TotalTokensUsed,
        "TotalCost" = p_TotalCost,
        "TotalPromptTokensUsed" = p_TotalPromptTokensUsed,
        "TotalCompletionTokensUsed" = p_TotalCompletionTokensUsed,
        "TotalTokensUsedRollup" = p_TotalTokensUsedRollup,
        "TotalPromptTokensUsedRollup" = p_TotalPromptTokensUsedRollup,
        "TotalCompletionTokensUsedRollup" = p_TotalCompletionTokensUsedRollup,
        "TotalCostRollup" = p_TotalCostRollup,
        "ConversationDetailID" = p_ConversationDetailID,
        "ConversationDetailSequence" = p_ConversationDetailSequence,
        "CancellationReason" = p_CancellationReason,
        "FinalStep" = p_FinalStep,
        "FinalPayload" = p_FinalPayload,
        "Message" = p_Message,
        "LastRunID" = p_LastRunID,
        "StartingPayload" = p_StartingPayload,
        "TotalPromptIterations" = p_TotalPromptIterations,
        "ConfigurationID" = p_ConfigurationID,
        "OverrideModelID" = p_OverrideModelID,
        "OverrideVendorID" = p_OverrideVendorID,
        "Data" = p_Data,
        "Verbose" = p_Verbose,
        "EffortLevel" = p_EffortLevel,
        "RunName" = p_RunName,
        "Comments" = p_Comments,
        "ScheduledJobRunID" = p_ScheduledJobRunID,
        "TestRunID" = p_TestRunID,
        "PrimaryScopeEntityID" = p_PrimaryScopeEntityID,
        "PrimaryScopeRecordID" = p_PrimaryScopeRecordID,
        "SecondaryScopes" = p_SecondaryScopes
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentRunStep"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentRunID UUID DEFAULT NULL,
    IN p_StepNumber INTEGER DEFAULT NULL,
    IN p_StepType VARCHAR(50) DEFAULT NULL,
    IN p_StepName VARCHAR(255) DEFAULT NULL,
    IN p_TargetID UUID DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CompletedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Success BOOLEAN DEFAULT NULL,
    IN p_ErrorMessage TEXT DEFAULT NULL,
    IN p_InputData TEXT DEFAULT NULL,
    IN p_OutputData TEXT DEFAULT NULL,
    IN p_TargetLogID UUID DEFAULT NULL,
    IN p_PayloadAtStart TEXT DEFAULT NULL,
    IN p_PayloadAtEnd TEXT DEFAULT NULL,
    IN p_FinalPayloadValidationResult VARCHAR(25) DEFAULT NULL,
    IN p_FinalPayloadValidationMessages TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentRunSteps" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentRunStep"
            (
                "ID",
                "AgentRunID",
                "StepNumber",
                "StepType",
                "StepName",
                "TargetID",
                "Status",
                "StartedAt",
                "CompletedAt",
                "Success",
                "ErrorMessage",
                "InputData",
                "OutputData",
                "TargetLogID",
                "PayloadAtStart",
                "PayloadAtEnd",
                "FinalPayloadValidationResult",
                "FinalPayloadValidationMessages",
                "ParentID",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_AgentRunID,
                p_StepNumber,
                COALESCE(p_StepType, 'Prompt'),
                p_StepName,
                p_TargetID,
                COALESCE(p_Status, 'Running'),
                COALESCE(p_StartedAt, NOW()),
                p_CompletedAt,
                p_Success,
                p_ErrorMessage,
                p_InputData,
                p_OutputData,
                p_TargetLogID,
                p_PayloadAtStart,
                p_PayloadAtEnd,
                p_FinalPayloadValidationResult,
                p_FinalPayloadValidationMessages,
                p_ParentID,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentRunStep"
            (
                "AgentRunID",
                "StepNumber",
                "StepType",
                "StepName",
                "TargetID",
                "Status",
                "StartedAt",
                "CompletedAt",
                "Success",
                "ErrorMessage",
                "InputData",
                "OutputData",
                "TargetLogID",
                "PayloadAtStart",
                "PayloadAtEnd",
                "FinalPayloadValidationResult",
                "FinalPayloadValidationMessages",
                "ParentID",
                "Comments"
            )
        VALUES
            (
                p_AgentRunID,
                p_StepNumber,
                COALESCE(p_StepType, 'Prompt'),
                p_StepName,
                p_TargetID,
                COALESCE(p_Status, 'Running'),
                COALESCE(p_StartedAt, NOW()),
                p_CompletedAt,
                p_Success,
                p_ErrorMessage,
                p_InputData,
                p_OutputData,
                p_TargetLogID,
                p_PayloadAtStart,
                p_PayloadAtEnd,
                p_FinalPayloadValidationResult,
                p_FinalPayloadValidationMessages,
                p_ParentID,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentRunSteps" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentRunStep"(
    IN p_ID UUID,
    IN p_AgentRunID UUID,
    IN p_StepNumber INTEGER,
    IN p_StepType VARCHAR(50),
    IN p_StepName VARCHAR(255),
    IN p_TargetID UUID,
    IN p_Status VARCHAR(50),
    IN p_StartedAt TIMESTAMPTZ,
    IN p_CompletedAt TIMESTAMPTZ,
    IN p_Success BOOLEAN,
    IN p_ErrorMessage TEXT,
    IN p_InputData TEXT,
    IN p_OutputData TEXT,
    IN p_TargetLogID UUID,
    IN p_PayloadAtStart TEXT,
    IN p_PayloadAtEnd TEXT,
    IN p_FinalPayloadValidationResult VARCHAR(25),
    IN p_FinalPayloadValidationMessages TEXT,
    IN p_ParentID UUID,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwAIAgentRunSteps" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentRunStep"
    SET
        "AgentRunID" = p_AgentRunID,
        "StepNumber" = p_StepNumber,
        "StepType" = p_StepType,
        "StepName" = p_StepName,
        "TargetID" = p_TargetID,
        "Status" = p_Status,
        "StartedAt" = p_StartedAt,
        "CompletedAt" = p_CompletedAt,
        "Success" = p_Success,
        "ErrorMessage" = p_ErrorMessage,
        "InputData" = p_InputData,
        "OutputData" = p_OutputData,
        "TargetLogID" = p_TargetLogID,
        "PayloadAtStart" = p_PayloadAtStart,
        "PayloadAtEnd" = p_PayloadAtEnd,
        "FinalPayloadValidationResult" = p_FinalPayloadValidationResult,
        "FinalPayloadValidationMessages" = p_FinalPayloadValidationMessages,
        "ParentID" = p_ParentID,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentRunSteps" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentRunSteps" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentStepPath"(
    IN p_ID UUID DEFAULT NULL,
    IN p_OriginStepID UUID DEFAULT NULL,
    IN p_DestinationStepID UUID DEFAULT NULL,
    IN p_Condition TEXT DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL,
    IN p_Description VARCHAR(255) DEFAULT NULL,
    IN p_PathPoints TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentStepPaths" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentStepPath"
            (
                "ID",
                "OriginStepID",
                "DestinationStepID",
                "Condition",
                "Priority",
                "Description",
                "PathPoints"
            )
        VALUES
            (
                p_ID,
                p_OriginStepID,
                p_DestinationStepID,
                p_Condition,
                COALESCE(p_Priority, 0),
                p_Description,
                p_PathPoints
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentStepPath"
            (
                "OriginStepID",
                "DestinationStepID",
                "Condition",
                "Priority",
                "Description",
                "PathPoints"
            )
        VALUES
            (
                p_OriginStepID,
                p_DestinationStepID,
                p_Condition,
                COALESCE(p_Priority, 0),
                p_Description,
                p_PathPoints
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentStepPaths" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentStepPath"(
    IN p_ID UUID,
    IN p_OriginStepID UUID,
    IN p_DestinationStepID UUID,
    IN p_Condition TEXT,
    IN p_Priority INTEGER,
    IN p_Description VARCHAR(255),
    IN p_PathPoints TEXT
)
RETURNS SETOF __mj."vwAIAgentStepPaths" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentStepPath"
    SET
        "OriginStepID" = p_OriginStepID,
        "DestinationStepID" = p_DestinationStepID,
        "Condition" = p_Condition,
        "Priority" = p_Priority,
        "Description" = p_Description,
        "PathPoints" = p_PathPoints
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentStepPaths" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentStepPaths" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentStepPath"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentStepPath"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentRunStep"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJAIAgentRunSteps_ParentIDID UUID;
    p_MJAIAgentRunSteps_ParentID_AgentRunID UUID;
    p_MJAIAgentRunSteps_ParentID_StepNumber INTEGER;
    p_MJAIAgentRunSteps_ParentID_StepType VARCHAR(50);
    p_MJAIAgentRunSteps_ParentID_StepName VARCHAR(255);
    p_MJAIAgentRunSteps_ParentID_TargetID UUID;
    p_MJAIAgentRunSteps_ParentID_Status VARCHAR(50);
    p_MJAIAgentRunSteps_ParentID_StartedAt TIMESTAMPTZ;
    p_MJAIAgentRunSteps_ParentID_CompletedAt TIMESTAMPTZ;
    p_MJAIAgentRunSteps_ParentID_Success BOOLEAN;
    p_MJAIAgentRunSteps_ParentID_ErrorMessage TEXT;
    p_MJAIAgentRunSteps_ParentID_InputData TEXT;
    p_MJAIAgentRunSteps_ParentID_OutputData TEXT;
    p_MJAIAgentRunSteps_ParentID_TargetLogID UUID;
    p_MJAIAgentRunSteps_ParentID_PayloadAtStart TEXT;
    p_MJAIAgentRunSteps_ParentID_PayloadAtEnd TEXT;
    p_MJAIAgentRunSteps_ParentID_FinalPayloadValidationResult VARCHAR(25);
    p_MJAIAgentRunSteps_ParentID_FinalPayloadValidationMessages TEXT;
    p_MJAIAgentRunSteps_ParentID_ParentID UUID;
    p_MJAIAgentRunSteps_ParentID_Comments TEXT;
BEGIN
-- Cascade update on AIAgentRunStep using cursor to call spUpdateAIAgentRunStep


    FOR _rec IN SELECT "ID", "AgentRunID", "StepNumber", "StepType", "StepName", "TargetID", "Status", "StartedAt", "CompletedAt", "Success", "ErrorMessage", "InputData", "OutputData", "TargetLogID", "PayloadAtStart", "PayloadAtEnd", "FinalPayloadValidationResult", "FinalPayloadValidationMessages", "ParentID", "Comments" FROM __mj."AIAgentRunStep" WHERE "ParentID" = p_ID
    LOOP
        p_MJAIAgentRunSteps_ParentIDID := _rec."ID";
        p_MJAIAgentRunSteps_ParentID_AgentRunID := _rec."AgentRunID";
        p_MJAIAgentRunSteps_ParentID_StepNumber := _rec."StepNumber";
        p_MJAIAgentRunSteps_ParentID_StepType := _rec."StepType";
        p_MJAIAgentRunSteps_ParentID_StepName := _rec."StepName";
        p_MJAIAgentRunSteps_ParentID_TargetID := _rec."TargetID";
        p_MJAIAgentRunSteps_ParentID_Status := _rec."Status";
        p_MJAIAgentRunSteps_ParentID_StartedAt := _rec."StartedAt";
        p_MJAIAgentRunSteps_ParentID_CompletedAt := _rec."CompletedAt";
        p_MJAIAgentRunSteps_ParentID_Success := _rec."Success";
        p_MJAIAgentRunSteps_ParentID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIAgentRunSteps_ParentID_InputData := _rec."InputData";
        p_MJAIAgentRunSteps_ParentID_OutputData := _rec."OutputData";
        p_MJAIAgentRunSteps_ParentID_TargetLogID := _rec."TargetLogID";
        p_MJAIAgentRunSteps_ParentID_PayloadAtStart := _rec."PayloadAtStart";
        p_MJAIAgentRunSteps_ParentID_PayloadAtEnd := _rec."PayloadAtEnd";
        p_MJAIAgentRunSteps_ParentID_FinalPayloadValidationResult := _rec."FinalPayloadValidationResult";
        p_MJAIAgentRunSteps_ParentID_FinalPayloadValidationMessages := _rec."FinalPayloadValidationMessages";
        p_MJAIAgentRunSteps_ParentID_ParentID := _rec."ParentID";
        p_MJAIAgentRunSteps_ParentID_Comments := _rec."Comments";
        -- Set the FK field to NULL
        p_MJAIAgentRunSteps_ParentID_ParentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentRunStep"(p_MJAIAgentRunSteps_ParentIDID, p_MJAIAgentRunSteps_ParentID_AgentRunID, p_MJAIAgentRunSteps_ParentID_StepNumber, p_MJAIAgentRunSteps_ParentID_StepType, p_MJAIAgentRunSteps_ParentID_StepName, p_MJAIAgentRunSteps_ParentID_TargetID, p_MJAIAgentRunSteps_ParentID_Status, p_MJAIAgentRunSteps_ParentID_StartedAt, p_MJAIAgentRunSteps_ParentID_CompletedAt, p_MJAIAgentRunSteps_ParentID_Success, p_MJAIAgentRunSteps_ParentID_ErrorMessage, p_MJAIAgentRunSteps_ParentID_InputData, p_MJAIAgentRunSteps_ParentID_OutputData, p_MJAIAgentRunSteps_ParentID_TargetLogID, p_MJAIAgentRunSteps_ParentID_PayloadAtStart, p_MJAIAgentRunSteps_ParentID_PayloadAtEnd, p_MJAIAgentRunSteps_ParentID_FinalPayloadValidationResult, p_MJAIAgentRunSteps_ParentID_FinalPayloadValidationMessages, p_MJAIAgentRunSteps_ParentID_ParentID, p_MJAIAgentRunSteps_ParentID_Comments);

    END LOOP;

    

    DELETE FROM
        __mj."AIAgentRunStep"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJAIAgentExamples_SourceAIAgentRunIDID UUID;
    p_MJAIAgentExamples_SourceAIAgentRunID_AgentID UUID;
    p_MJAIAgentExamples_SourceAIAgentRunID_UserID UUID;
    p_MJAIAgentExamples_SourceAIAgentRunID_CompanyID UUID;
    p_MJAIAgentExamples_SourceAIAgentRunID_Type VARCHAR(20);
    p_MJAIAgentExamples_SourceAIAgentRunID_ExampleInput TEXT;
    p_MJAIAgentExamples_SourceAIAgentRunID_ExampleOutput TEXT;
    p_MJAIAgentExamples_SourceAIAgentRunID_IsAutoGenerated BOOLEAN;
    p_MJAIAgentExamples_SourceAIAgentRunID_SourceConversationID UUID;
    p_MJAIAgentExamples_SourceAIAgentRunID_SourceConversation_a05cb8 UUID;
    p_MJAIAgentExamples_SourceAIAgentRunID_SourceAIAgentRunID UUID;
    p_MJAIAgentExamples_SourceAIAgentRunID_SuccessScore NUMERIC(5,2);
    p_MJAIAgentExamples_SourceAIAgentRunID_Comments TEXT;
    p_MJAIAgentExamples_SourceAIAgentRunID_Status VARCHAR(20);
    p_MJAIAgentExamples_SourceAIAgentRunID_EmbeddingVector TEXT;
    p_MJAIAgentExamples_SourceAIAgentRunID_EmbeddingModelID UUID;
    p_MJAIAgentExamples_SourceAIAgentRunID_PrimaryScopeEntityID UUID;
    p_MJAIAgentExamples_SourceAIAgentRunID_PrimaryScopeRecordID VARCHAR(100);
    p_MJAIAgentExamples_SourceAIAgentRunID_SecondaryScopes TEXT;
    p_MJAIAgentExamples_SourceAIAgentRunID_LastAccessedAt TIMESTAMPTZ;
    p_MJAIAgentExamples_SourceAIAgentRunID_AccessCount INTEGER;
    p_MJAIAgentExamples_SourceAIAgentRunID_ExpiresAt TIMESTAMPTZ;
    p_MJAIAgentNotes_SourceAIAgentRunIDID UUID;
    p_MJAIAgentNotes_SourceAIAgentRunID_AgentID UUID;
    p_MJAIAgentNotes_SourceAIAgentRunID_AgentNoteTypeID UUID;
    p_MJAIAgentNotes_SourceAIAgentRunID_Note TEXT;
    p_MJAIAgentNotes_SourceAIAgentRunID_UserID UUID;
    p_MJAIAgentNotes_SourceAIAgentRunID_Type VARCHAR(20);
    p_MJAIAgentNotes_SourceAIAgentRunID_IsAutoGenerated BOOLEAN;
    p_MJAIAgentNotes_SourceAIAgentRunID_Comments TEXT;
    p_MJAIAgentNotes_SourceAIAgentRunID_Status VARCHAR(20);
    p_MJAIAgentNotes_SourceAIAgentRunID_SourceConversationID UUID;
    p_MJAIAgentNotes_SourceAIAgentRunID_SourceConversationDetailID UUID;
    p_MJAIAgentNotes_SourceAIAgentRunID_SourceAIAgentRunID UUID;
    p_MJAIAgentNotes_SourceAIAgentRunID_CompanyID UUID;
    p_MJAIAgentNotes_SourceAIAgentRunID_EmbeddingVector TEXT;
    p_MJAIAgentNotes_SourceAIAgentRunID_EmbeddingModelID UUID;
    p_MJAIAgentNotes_SourceAIAgentRunID_PrimaryScopeEntityID UUID;
    p_MJAIAgentNotes_SourceAIAgentRunID_PrimaryScopeRecordID VARCHAR(100);
    p_MJAIAgentNotes_SourceAIAgentRunID_SecondaryScopes TEXT;
    p_MJAIAgentNotes_SourceAIAgentRunID_LastAccessedAt TIMESTAMPTZ;
    p_MJAIAgentNotes_SourceAIAgentRunID_AccessCount INTEGER;
    p_MJAIAgentNotes_SourceAIAgentRunID_ExpiresAt TIMESTAMPTZ;
    p_MJAIAgentRunMedias_AgentRunIDID UUID;
    p_MJAIAgentRunSteps_AgentRunIDID UUID;
    p_MJAIAgentRuns_ParentRunIDID UUID;
    p_MJAIAgentRuns_ParentRunID_AgentID UUID;
    p_MJAIAgentRuns_ParentRunID_ParentRunID UUID;
    p_MJAIAgentRuns_ParentRunID_Status VARCHAR(50);
    p_MJAIAgentRuns_ParentRunID_StartedAt TIMESTAMPTZ;
    p_MJAIAgentRuns_ParentRunID_CompletedAt TIMESTAMPTZ;
    p_MJAIAgentRuns_ParentRunID_Success BOOLEAN;
    p_MJAIAgentRuns_ParentRunID_ErrorMessage TEXT;
    p_MJAIAgentRuns_ParentRunID_ConversationID UUID;
    p_MJAIAgentRuns_ParentRunID_UserID UUID;
    p_MJAIAgentRuns_ParentRunID_Result TEXT;
    p_MJAIAgentRuns_ParentRunID_AgentState TEXT;
    p_MJAIAgentRuns_ParentRunID_TotalTokensUsed INTEGER;
    p_MJAIAgentRuns_ParentRunID_TotalCost NUMERIC(18,6);
    p_MJAIAgentRuns_ParentRunID_TotalPromptTokensUsed INTEGER;
    p_MJAIAgentRuns_ParentRunID_TotalCompletionTokensUsed INTEGER;
    p_MJAIAgentRuns_ParentRunID_TotalTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_ParentRunID_TotalPromptTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_ParentRunID_TotalCompletionTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_ParentRunID_TotalCostRollup NUMERIC(19,8);
    p_MJAIAgentRuns_ParentRunID_ConversationDetailID UUID;
    p_MJAIAgentRuns_ParentRunID_ConversationDetailSequence INTEGER;
    p_MJAIAgentRuns_ParentRunID_CancellationReason VARCHAR(30);
    p_MJAIAgentRuns_ParentRunID_FinalStep VARCHAR(30);
    p_MJAIAgentRuns_ParentRunID_FinalPayload TEXT;
    p_MJAIAgentRuns_ParentRunID_Message TEXT;
    p_MJAIAgentRuns_ParentRunID_LastRunID UUID;
    p_MJAIAgentRuns_ParentRunID_StartingPayload TEXT;
    p_MJAIAgentRuns_ParentRunID_TotalPromptIterations INTEGER;
    p_MJAIAgentRuns_ParentRunID_ConfigurationID UUID;
    p_MJAIAgentRuns_ParentRunID_OverrideModelID UUID;
    p_MJAIAgentRuns_ParentRunID_OverrideVendorID UUID;
    p_MJAIAgentRuns_ParentRunID_Data TEXT;
    p_MJAIAgentRuns_ParentRunID_Verbose BOOLEAN;
    p_MJAIAgentRuns_ParentRunID_EffortLevel INTEGER;
    p_MJAIAgentRuns_ParentRunID_RunName VARCHAR(255);
    p_MJAIAgentRuns_ParentRunID_Comments TEXT;
    p_MJAIAgentRuns_ParentRunID_ScheduledJobRunID UUID;
    p_MJAIAgentRuns_ParentRunID_TestRunID UUID;
    p_MJAIAgentRuns_ParentRunID_PrimaryScopeEntityID UUID;
    p_MJAIAgentRuns_ParentRunID_PrimaryScopeRecordID VARCHAR(100);
    p_MJAIAgentRuns_ParentRunID_SecondaryScopes TEXT;
    p_MJAIAgentRuns_LastRunIDID UUID;
    p_MJAIAgentRuns_LastRunID_AgentID UUID;
    p_MJAIAgentRuns_LastRunID_ParentRunID UUID;
    p_MJAIAgentRuns_LastRunID_Status VARCHAR(50);
    p_MJAIAgentRuns_LastRunID_StartedAt TIMESTAMPTZ;
    p_MJAIAgentRuns_LastRunID_CompletedAt TIMESTAMPTZ;
    p_MJAIAgentRuns_LastRunID_Success BOOLEAN;
    p_MJAIAgentRuns_LastRunID_ErrorMessage TEXT;
    p_MJAIAgentRuns_LastRunID_ConversationID UUID;
    p_MJAIAgentRuns_LastRunID_UserID UUID;
    p_MJAIAgentRuns_LastRunID_Result TEXT;
    p_MJAIAgentRuns_LastRunID_AgentState TEXT;
    p_MJAIAgentRuns_LastRunID_TotalTokensUsed INTEGER;
    p_MJAIAgentRuns_LastRunID_TotalCost NUMERIC(18,6);
    p_MJAIAgentRuns_LastRunID_TotalPromptTokensUsed INTEGER;
    p_MJAIAgentRuns_LastRunID_TotalCompletionTokensUsed INTEGER;
    p_MJAIAgentRuns_LastRunID_TotalTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_LastRunID_TotalPromptTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_LastRunID_TotalCompletionTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_LastRunID_TotalCostRollup NUMERIC(19,8);
    p_MJAIAgentRuns_LastRunID_ConversationDetailID UUID;
    p_MJAIAgentRuns_LastRunID_ConversationDetailSequence INTEGER;
    p_MJAIAgentRuns_LastRunID_CancellationReason VARCHAR(30);
    p_MJAIAgentRuns_LastRunID_FinalStep VARCHAR(30);
    p_MJAIAgentRuns_LastRunID_FinalPayload TEXT;
    p_MJAIAgentRuns_LastRunID_Message TEXT;
    p_MJAIAgentRuns_LastRunID_LastRunID UUID;
    p_MJAIAgentRuns_LastRunID_StartingPayload TEXT;
    p_MJAIAgentRuns_LastRunID_TotalPromptIterations INTEGER;
    p_MJAIAgentRuns_LastRunID_ConfigurationID UUID;
    p_MJAIAgentRuns_LastRunID_OverrideModelID UUID;
    p_MJAIAgentRuns_LastRunID_OverrideVendorID UUID;
    p_MJAIAgentRuns_LastRunID_Data TEXT;
    p_MJAIAgentRuns_LastRunID_Verbose BOOLEAN;
    p_MJAIAgentRuns_LastRunID_EffortLevel INTEGER;
    p_MJAIAgentRuns_LastRunID_RunName VARCHAR(255);
    p_MJAIAgentRuns_LastRunID_Comments TEXT;
    p_MJAIAgentRuns_LastRunID_ScheduledJobRunID UUID;
    p_MJAIAgentRuns_LastRunID_TestRunID UUID;
    p_MJAIAgentRuns_LastRunID_PrimaryScopeEntityID UUID;
    p_MJAIAgentRuns_LastRunID_PrimaryScopeRecordID VARCHAR(100);
    p_MJAIAgentRuns_LastRunID_SecondaryScopes TEXT;
    p_MJAIPromptRuns_AgentRunIDID UUID;
    p_MJAIPromptRuns_AgentRunID_PromptID UUID;
    p_MJAIPromptRuns_AgentRunID_ModelID UUID;
    p_MJAIPromptRuns_AgentRunID_VendorID UUID;
    p_MJAIPromptRuns_AgentRunID_AgentID UUID;
    p_MJAIPromptRuns_AgentRunID_ConfigurationID UUID;
    p_MJAIPromptRuns_AgentRunID_RunAt TIMESTAMPTZ;
    p_MJAIPromptRuns_AgentRunID_CompletedAt TIMESTAMPTZ;
    p_MJAIPromptRuns_AgentRunID_ExecutionTimeMS INTEGER;
    p_MJAIPromptRuns_AgentRunID_Messages TEXT;
    p_MJAIPromptRuns_AgentRunID_Result TEXT;
    p_MJAIPromptRuns_AgentRunID_TokensUsed INTEGER;
    p_MJAIPromptRuns_AgentRunID_TokensPrompt INTEGER;
    p_MJAIPromptRuns_AgentRunID_TokensCompletion INTEGER;
    p_MJAIPromptRuns_AgentRunID_TotalCost NUMERIC(18,6);
    p_MJAIPromptRuns_AgentRunID_Success BOOLEAN;
    p_MJAIPromptRuns_AgentRunID_ErrorMessage TEXT;
    p_MJAIPromptRuns_AgentRunID_ParentID UUID;
    p_MJAIPromptRuns_AgentRunID_RunType VARCHAR(20);
    p_MJAIPromptRuns_AgentRunID_ExecutionOrder INTEGER;
    p_MJAIPromptRuns_AgentRunID_AgentRunID UUID;
    p_MJAIPromptRuns_AgentRunID_Cost NUMERIC(19,8);
    p_MJAIPromptRuns_AgentRunID_CostCurrency VARCHAR(10);
    p_MJAIPromptRuns_AgentRunID_TokensUsedRollup INTEGER;
    p_MJAIPromptRuns_AgentRunID_TokensPromptRollup INTEGER;
    p_MJAIPromptRuns_AgentRunID_TokensCompletionRollup INTEGER;
    p_MJAIPromptRuns_AgentRunID_Temperature NUMERIC(3,2);
    p_MJAIPromptRuns_AgentRunID_TopP NUMERIC(3,2);
    p_MJAIPromptRuns_AgentRunID_TopK INTEGER;
    p_MJAIPromptRuns_AgentRunID_MinP NUMERIC(3,2);
    p_MJAIPromptRuns_AgentRunID_FrequencyPenalty NUMERIC(3,2);
    p_MJAIPromptRuns_AgentRunID_PresencePenalty NUMERIC(3,2);
    p_MJAIPromptRuns_AgentRunID_Seed INTEGER;
    p_MJAIPromptRuns_AgentRunID_StopSequences TEXT;
    p_MJAIPromptRuns_AgentRunID_ResponseFormat VARCHAR(50);
    p_MJAIPromptRuns_AgentRunID_LogProbs BOOLEAN;
    p_MJAIPromptRuns_AgentRunID_TopLogProbs INTEGER;
    p_MJAIPromptRuns_AgentRunID_DescendantCost NUMERIC(18,6);
    p_MJAIPromptRuns_AgentRunID_ValidationAttemptCount INTEGER;
    p_MJAIPromptRuns_AgentRunID_SuccessfulValidationCount INTEGER;
    p_MJAIPromptRuns_AgentRunID_FinalValidationPassed BOOLEAN;
    p_MJAIPromptRuns_AgentRunID_ValidationBehavior VARCHAR(50);
    p_MJAIPromptRuns_AgentRunID_RetryStrategy VARCHAR(50);
    p_MJAIPromptRuns_AgentRunID_MaxRetriesConfigured INTEGER;
    p_MJAIPromptRuns_AgentRunID_FinalValidationError VARCHAR(500);
    p_MJAIPromptRuns_AgentRunID_ValidationErrorCount INTEGER;
    p_MJAIPromptRuns_AgentRunID_CommonValidationError VARCHAR(255);
    p_MJAIPromptRuns_AgentRunID_FirstAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_AgentRunID_LastAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_AgentRunID_TotalRetryDurationMS INTEGER;
    p_MJAIPromptRuns_AgentRunID_ValidationAttempts TEXT;
    p_MJAIPromptRuns_AgentRunID_ValidationSummary TEXT;
    p_MJAIPromptRuns_AgentRunID_FailoverAttempts INTEGER;
    p_MJAIPromptRuns_AgentRunID_FailoverErrors TEXT;
    p_MJAIPromptRuns_AgentRunID_FailoverDurations TEXT;
    p_MJAIPromptRuns_AgentRunID_OriginalModelID UUID;
    p_MJAIPromptRuns_AgentRunID_OriginalRequestStartTime TIMESTAMPTZ;
    p_MJAIPromptRuns_AgentRunID_TotalFailoverDuration INTEGER;
    p_MJAIPromptRuns_AgentRunID_RerunFromPromptRunID UUID;
    p_MJAIPromptRuns_AgentRunID_ModelSelection TEXT;
    p_MJAIPromptRuns_AgentRunID_Status VARCHAR(50);
    p_MJAIPromptRuns_AgentRunID_Cancelled BOOLEAN;
    p_MJAIPromptRuns_AgentRunID_CancellationReason TEXT;
    p_MJAIPromptRuns_AgentRunID_ModelPowerRank INTEGER;
    p_MJAIPromptRuns_AgentRunID_SelectionStrategy VARCHAR(50);
    p_MJAIPromptRuns_AgentRunID_CacheHit BOOLEAN;
    p_MJAIPromptRuns_AgentRunID_CacheKey VARCHAR(500);
    p_MJAIPromptRuns_AgentRunID_JudgeID UUID;
    p_MJAIPromptRuns_AgentRunID_JudgeScore DOUBLE PRECISION;
    p_MJAIPromptRuns_AgentRunID_WasSelectedResult BOOLEAN;
    p_MJAIPromptRuns_AgentRunID_StreamingEnabled BOOLEAN;
    p_MJAIPromptRuns_AgentRunID_FirstTokenTime INTEGER;
    p_MJAIPromptRuns_AgentRunID_ErrorDetails TEXT;
    p_MJAIPromptRuns_AgentRunID_ChildPromptID UUID;
    p_MJAIPromptRuns_AgentRunID_QueueTime INTEGER;
    p_MJAIPromptRuns_AgentRunID_PromptTime INTEGER;
    p_MJAIPromptRuns_AgentRunID_CompletionTime INTEGER;
    p_MJAIPromptRuns_AgentRunID_ModelSpecificResponseDetails TEXT;
    p_MJAIPromptRuns_AgentRunID_EffortLevel INTEGER;
    p_MJAIPromptRuns_AgentRunID_RunName VARCHAR(255);
    p_MJAIPromptRuns_AgentRunID_Comments TEXT;
    p_MJAIPromptRuns_AgentRunID_TestRunID UUID;
BEGIN
-- Cascade update on AIAgentExample using cursor to call spUpdateAIAgentExample


    FOR _rec IN SELECT "ID", "AgentID", "UserID", "CompanyID", "Type", "ExampleInput", "ExampleOutput", "IsAutoGenerated", "SourceConversationID", "SourceConversationDetailID", "SourceAIAgentRunID", "SuccessScore", "Comments", "Status", "EmbeddingVector", "EmbeddingModelID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes", "LastAccessedAt", "AccessCount", "ExpiresAt" FROM __mj."AIAgentExample" WHERE "SourceAIAgentRunID" = p_ID
    LOOP
        p_MJAIAgentExamples_SourceAIAgentRunIDID := _rec."ID";
        p_MJAIAgentExamples_SourceAIAgentRunID_AgentID := _rec."AgentID";
        p_MJAIAgentExamples_SourceAIAgentRunID_UserID := _rec."UserID";
        p_MJAIAgentExamples_SourceAIAgentRunID_CompanyID := _rec."CompanyID";
        p_MJAIAgentExamples_SourceAIAgentRunID_Type := _rec."Type";
        p_MJAIAgentExamples_SourceAIAgentRunID_ExampleInput := _rec."ExampleInput";
        p_MJAIAgentExamples_SourceAIAgentRunID_ExampleOutput := _rec."ExampleOutput";
        p_MJAIAgentExamples_SourceAIAgentRunID_IsAutoGenerated := _rec."IsAutoGenerated";
        p_MJAIAgentExamples_SourceAIAgentRunID_SourceConversationID := _rec."SourceConversationID";
        p_MJAIAgentExamples_SourceAIAgentRunID_SourceConversation_a05cb8 := _rec."SourceConversationDetailID";
        p_MJAIAgentExamples_SourceAIAgentRunID_SourceAIAgentRunID := _rec."SourceAIAgentRunID";
        p_MJAIAgentExamples_SourceAIAgentRunID_SuccessScore := _rec."SuccessScore";
        p_MJAIAgentExamples_SourceAIAgentRunID_Comments := _rec."Comments";
        p_MJAIAgentExamples_SourceAIAgentRunID_Status := _rec."Status";
        p_MJAIAgentExamples_SourceAIAgentRunID_EmbeddingVector := _rec."EmbeddingVector";
        p_MJAIAgentExamples_SourceAIAgentRunID_EmbeddingModelID := _rec."EmbeddingModelID";
        p_MJAIAgentExamples_SourceAIAgentRunID_PrimaryScopeEntityID := _rec."PrimaryScopeEntityID";
        p_MJAIAgentExamples_SourceAIAgentRunID_PrimaryScopeRecordID := _rec."PrimaryScopeRecordID";
        p_MJAIAgentExamples_SourceAIAgentRunID_SecondaryScopes := _rec."SecondaryScopes";
        p_MJAIAgentExamples_SourceAIAgentRunID_LastAccessedAt := _rec."LastAccessedAt";
        p_MJAIAgentExamples_SourceAIAgentRunID_AccessCount := _rec."AccessCount";
        p_MJAIAgentExamples_SourceAIAgentRunID_ExpiresAt := _rec."ExpiresAt";
        -- Set the FK field to NULL
        p_MJAIAgentExamples_SourceAIAgentRunID_SourceAIAgentRunID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentExample"(p_MJAIAgentExamples_SourceAIAgentRunIDID, p_MJAIAgentExamples_SourceAIAgentRunID_AgentID, p_MJAIAgentExamples_SourceAIAgentRunID_UserID, p_MJAIAgentExamples_SourceAIAgentRunID_CompanyID, p_MJAIAgentExamples_SourceAIAgentRunID_Type, p_MJAIAgentExamples_SourceAIAgentRunID_ExampleInput, p_MJAIAgentExamples_SourceAIAgentRunID_ExampleOutput, p_MJAIAgentExamples_SourceAIAgentRunID_IsAutoGenerated, p_MJAIAgentExamples_SourceAIAgentRunID_SourceConversationID, p_MJAIAgentExamples_SourceAIAgentRunID_SourceConversation_a05cb8, p_MJAIAgentExamples_SourceAIAgentRunID_SourceAIAgentRunID, p_MJAIAgentExamples_SourceAIAgentRunID_SuccessScore, p_MJAIAgentExamples_SourceAIAgentRunID_Comments, p_MJAIAgentExamples_SourceAIAgentRunID_Status, p_MJAIAgentExamples_SourceAIAgentRunID_EmbeddingVector, p_MJAIAgentExamples_SourceAIAgentRunID_EmbeddingModelID, p_MJAIAgentExamples_SourceAIAgentRunID_PrimaryScopeEntityID, p_MJAIAgentExamples_SourceAIAgentRunID_PrimaryScopeRecordID, p_MJAIAgentExamples_SourceAIAgentRunID_SecondaryScopes, p_MJAIAgentExamples_SourceAIAgentRunID_LastAccessedAt, p_MJAIAgentExamples_SourceAIAgentRunID_AccessCount, p_MJAIAgentExamples_SourceAIAgentRunID_ExpiresAt);

    END LOOP;

    
    -- Cascade update on AIAgentNote using cursor to call spUpdateAIAgentNote


    FOR _rec IN SELECT "ID", "AgentID", "AgentNoteTypeID", "Note", "UserID", "Type", "IsAutoGenerated", "Comments", "Status", "SourceConversationID", "SourceConversationDetailID", "SourceAIAgentRunID", "CompanyID", "EmbeddingVector", "EmbeddingModelID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes", "LastAccessedAt", "AccessCount", "ExpiresAt" FROM __mj."AIAgentNote" WHERE "SourceAIAgentRunID" = p_ID
    LOOP
        p_MJAIAgentNotes_SourceAIAgentRunIDID := _rec."ID";
        p_MJAIAgentNotes_SourceAIAgentRunID_AgentID := _rec."AgentID";
        p_MJAIAgentNotes_SourceAIAgentRunID_AgentNoteTypeID := _rec."AgentNoteTypeID";
        p_MJAIAgentNotes_SourceAIAgentRunID_Note := _rec."Note";
        p_MJAIAgentNotes_SourceAIAgentRunID_UserID := _rec."UserID";
        p_MJAIAgentNotes_SourceAIAgentRunID_Type := _rec."Type";
        p_MJAIAgentNotes_SourceAIAgentRunID_IsAutoGenerated := _rec."IsAutoGenerated";
        p_MJAIAgentNotes_SourceAIAgentRunID_Comments := _rec."Comments";
        p_MJAIAgentNotes_SourceAIAgentRunID_Status := _rec."Status";
        p_MJAIAgentNotes_SourceAIAgentRunID_SourceConversationID := _rec."SourceConversationID";
        p_MJAIAgentNotes_SourceAIAgentRunID_SourceConversationDetailID := _rec."SourceConversationDetailID";
        p_MJAIAgentNotes_SourceAIAgentRunID_SourceAIAgentRunID := _rec."SourceAIAgentRunID";
        p_MJAIAgentNotes_SourceAIAgentRunID_CompanyID := _rec."CompanyID";
        p_MJAIAgentNotes_SourceAIAgentRunID_EmbeddingVector := _rec."EmbeddingVector";
        p_MJAIAgentNotes_SourceAIAgentRunID_EmbeddingModelID := _rec."EmbeddingModelID";
        p_MJAIAgentNotes_SourceAIAgentRunID_PrimaryScopeEntityID := _rec."PrimaryScopeEntityID";
        p_MJAIAgentNotes_SourceAIAgentRunID_PrimaryScopeRecordID := _rec."PrimaryScopeRecordID";
        p_MJAIAgentNotes_SourceAIAgentRunID_SecondaryScopes := _rec."SecondaryScopes";
        p_MJAIAgentNotes_SourceAIAgentRunID_LastAccessedAt := _rec."LastAccessedAt";
        p_MJAIAgentNotes_SourceAIAgentRunID_AccessCount := _rec."AccessCount";
        p_MJAIAgentNotes_SourceAIAgentRunID_ExpiresAt := _rec."ExpiresAt";
        -- Set the FK field to NULL
        p_MJAIAgentNotes_SourceAIAgentRunID_SourceAIAgentRunID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentNote"(p_MJAIAgentNotes_SourceAIAgentRunIDID, p_MJAIAgentNotes_SourceAIAgentRunID_AgentID, p_MJAIAgentNotes_SourceAIAgentRunID_AgentNoteTypeID, p_MJAIAgentNotes_SourceAIAgentRunID_Note, p_MJAIAgentNotes_SourceAIAgentRunID_UserID, p_MJAIAgentNotes_SourceAIAgentRunID_Type, p_MJAIAgentNotes_SourceAIAgentRunID_IsAutoGenerated, p_MJAIAgentNotes_SourceAIAgentRunID_Comments, p_MJAIAgentNotes_SourceAIAgentRunID_Status, p_MJAIAgentNotes_SourceAIAgentRunID_SourceConversationID, p_MJAIAgentNotes_SourceAIAgentRunID_SourceConversationDetailID, p_MJAIAgentNotes_SourceAIAgentRunID_SourceAIAgentRunID, p_MJAIAgentNotes_SourceAIAgentRunID_CompanyID, p_MJAIAgentNotes_SourceAIAgentRunID_EmbeddingVector, p_MJAIAgentNotes_SourceAIAgentRunID_EmbeddingModelID, p_MJAIAgentNotes_SourceAIAgentRunID_PrimaryScopeEntityID, p_MJAIAgentNotes_SourceAIAgentRunID_PrimaryScopeRecordID, p_MJAIAgentNotes_SourceAIAgentRunID_SecondaryScopes, p_MJAIAgentNotes_SourceAIAgentRunID_LastAccessedAt, p_MJAIAgentNotes_SourceAIAgentRunID_AccessCount, p_MJAIAgentNotes_SourceAIAgentRunID_ExpiresAt);

    END LOOP;

    
    -- Cascade delete from AIAgentRunMedia using cursor to call spDeleteAIAgentRunMedia

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentRunMedia" WHERE "AgentRunID" = p_ID
    LOOP
        p_MJAIAgentRunMedias_AgentRunIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentRunMedia"(p_MJAIAgentRunMedias_AgentRunIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentRunStep using cursor to call spDeleteAIAgentRunStep

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentRunStep" WHERE "AgentRunID" = p_ID
    LOOP
        p_MJAIAgentRunSteps_AgentRunIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentRunStep"(p_MJAIAgentRunSteps_AgentRunIDID);
        
    END LOOP;
    
    
    -- Cascade update on AIAgentRun using cursor to call spUpdateAIAgentRun


    FOR _rec IN SELECT "ID", "AgentID", "ParentRunID", "Status", "StartedAt", "CompletedAt", "Success", "ErrorMessage", "ConversationID", "UserID", "Result", "AgentState", "TotalTokensUsed", "TotalCost", "TotalPromptTokensUsed", "TotalCompletionTokensUsed", "TotalTokensUsedRollup", "TotalPromptTokensUsedRollup", "TotalCompletionTokensUsedRollup", "TotalCostRollup", "ConversationDetailID", "ConversationDetailSequence", "CancellationReason", "FinalStep", "FinalPayload", "Message", "LastRunID", "StartingPayload", "TotalPromptIterations", "ConfigurationID", "OverrideModelID", "OverrideVendorID", "Data", "Verbose", "EffortLevel", "RunName", "Comments", "ScheduledJobRunID", "TestRunID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes" FROM __mj."AIAgentRun" WHERE "ParentRunID" = p_ID
    LOOP
        p_MJAIAgentRuns_ParentRunIDID := _rec."ID";
        p_MJAIAgentRuns_ParentRunID_AgentID := _rec."AgentID";
        p_MJAIAgentRuns_ParentRunID_ParentRunID := _rec."ParentRunID";
        p_MJAIAgentRuns_ParentRunID_Status := _rec."Status";
        p_MJAIAgentRuns_ParentRunID_StartedAt := _rec."StartedAt";
        p_MJAIAgentRuns_ParentRunID_CompletedAt := _rec."CompletedAt";
        p_MJAIAgentRuns_ParentRunID_Success := _rec."Success";
        p_MJAIAgentRuns_ParentRunID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIAgentRuns_ParentRunID_ConversationID := _rec."ConversationID";
        p_MJAIAgentRuns_ParentRunID_UserID := _rec."UserID";
        p_MJAIAgentRuns_ParentRunID_Result := _rec."Result";
        p_MJAIAgentRuns_ParentRunID_AgentState := _rec."AgentState";
        p_MJAIAgentRuns_ParentRunID_TotalTokensUsed := _rec."TotalTokensUsed";
        p_MJAIAgentRuns_ParentRunID_TotalCost := _rec."TotalCost";
        p_MJAIAgentRuns_ParentRunID_TotalPromptTokensUsed := _rec."TotalPromptTokensUsed";
        p_MJAIAgentRuns_ParentRunID_TotalCompletionTokensUsed := _rec."TotalCompletionTokensUsed";
        p_MJAIAgentRuns_ParentRunID_TotalTokensUsedRollup := _rec."TotalTokensUsedRollup";
        p_MJAIAgentRuns_ParentRunID_TotalPromptTokensUsedRollup := _rec."TotalPromptTokensUsedRollup";
        p_MJAIAgentRuns_ParentRunID_TotalCompletionTokensUsedRollup := _rec."TotalCompletionTokensUsedRollup";
        p_MJAIAgentRuns_ParentRunID_TotalCostRollup := _rec."TotalCostRollup";
        p_MJAIAgentRuns_ParentRunID_ConversationDetailID := _rec."ConversationDetailID";
        p_MJAIAgentRuns_ParentRunID_ConversationDetailSequence := _rec."ConversationDetailSequence";
        p_MJAIAgentRuns_ParentRunID_CancellationReason := _rec."CancellationReason";
        p_MJAIAgentRuns_ParentRunID_FinalStep := _rec."FinalStep";
        p_MJAIAgentRuns_ParentRunID_FinalPayload := _rec."FinalPayload";
        p_MJAIAgentRuns_ParentRunID_Message := _rec."Message";
        p_MJAIAgentRuns_ParentRunID_LastRunID := _rec."LastRunID";
        p_MJAIAgentRuns_ParentRunID_StartingPayload := _rec."StartingPayload";
        p_MJAIAgentRuns_ParentRunID_TotalPromptIterations := _rec."TotalPromptIterations";
        p_MJAIAgentRuns_ParentRunID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIAgentRuns_ParentRunID_OverrideModelID := _rec."OverrideModelID";
        p_MJAIAgentRuns_ParentRunID_OverrideVendorID := _rec."OverrideVendorID";
        p_MJAIAgentRuns_ParentRunID_Data := _rec."Data";
        p_MJAIAgentRuns_ParentRunID_Verbose := _rec."Verbose";
        p_MJAIAgentRuns_ParentRunID_EffortLevel := _rec."EffortLevel";
        p_MJAIAgentRuns_ParentRunID_RunName := _rec."RunName";
        p_MJAIAgentRuns_ParentRunID_Comments := _rec."Comments";
        p_MJAIAgentRuns_ParentRunID_ScheduledJobRunID := _rec."ScheduledJobRunID";
        p_MJAIAgentRuns_ParentRunID_TestRunID := _rec."TestRunID";
        p_MJAIAgentRuns_ParentRunID_PrimaryScopeEntityID := _rec."PrimaryScopeEntityID";
        p_MJAIAgentRuns_ParentRunID_PrimaryScopeRecordID := _rec."PrimaryScopeRecordID";
        p_MJAIAgentRuns_ParentRunID_SecondaryScopes := _rec."SecondaryScopes";
        -- Set the FK field to NULL
        p_MJAIAgentRuns_ParentRunID_ParentRunID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentRun"(p_MJAIAgentRuns_ParentRunIDID, p_MJAIAgentRuns_ParentRunID_AgentID, p_MJAIAgentRuns_ParentRunID_ParentRunID, p_MJAIAgentRuns_ParentRunID_Status, p_MJAIAgentRuns_ParentRunID_StartedAt, p_MJAIAgentRuns_ParentRunID_CompletedAt, p_MJAIAgentRuns_ParentRunID_Success, p_MJAIAgentRuns_ParentRunID_ErrorMessage, p_MJAIAgentRuns_ParentRunID_ConversationID, p_MJAIAgentRuns_ParentRunID_UserID, p_MJAIAgentRuns_ParentRunID_Result, p_MJAIAgentRuns_ParentRunID_AgentState, p_MJAIAgentRuns_ParentRunID_TotalTokensUsed, p_MJAIAgentRuns_ParentRunID_TotalCost, p_MJAIAgentRuns_ParentRunID_TotalPromptTokensUsed, p_MJAIAgentRuns_ParentRunID_TotalCompletionTokensUsed, p_MJAIAgentRuns_ParentRunID_TotalTokensUsedRollup, p_MJAIAgentRuns_ParentRunID_TotalPromptTokensUsedRollup, p_MJAIAgentRuns_ParentRunID_TotalCompletionTokensUsedRollup, p_MJAIAgentRuns_ParentRunID_TotalCostRollup, p_MJAIAgentRuns_ParentRunID_ConversationDetailID, p_MJAIAgentRuns_ParentRunID_ConversationDetailSequence, p_MJAIAgentRuns_ParentRunID_CancellationReason, p_MJAIAgentRuns_ParentRunID_FinalStep, p_MJAIAgentRuns_ParentRunID_FinalPayload, p_MJAIAgentRuns_ParentRunID_Message, p_MJAIAgentRuns_ParentRunID_LastRunID, p_MJAIAgentRuns_ParentRunID_StartingPayload, p_MJAIAgentRuns_ParentRunID_TotalPromptIterations, p_MJAIAgentRuns_ParentRunID_ConfigurationID, p_MJAIAgentRuns_ParentRunID_OverrideModelID, p_MJAIAgentRuns_ParentRunID_OverrideVendorID, p_MJAIAgentRuns_ParentRunID_Data, p_MJAIAgentRuns_ParentRunID_Verbose, p_MJAIAgentRuns_ParentRunID_EffortLevel, p_MJAIAgentRuns_ParentRunID_RunName, p_MJAIAgentRuns_ParentRunID_Comments, p_MJAIAgentRuns_ParentRunID_ScheduledJobRunID, p_MJAIAgentRuns_ParentRunID_TestRunID, p_MJAIAgentRuns_ParentRunID_PrimaryScopeEntityID, p_MJAIAgentRuns_ParentRunID_PrimaryScopeRecordID, p_MJAIAgentRuns_ParentRunID_SecondaryScopes);

    END LOOP;

    
    -- Cascade update on AIAgentRun using cursor to call spUpdateAIAgentRun


    FOR _rec IN SELECT "ID", "AgentID", "ParentRunID", "Status", "StartedAt", "CompletedAt", "Success", "ErrorMessage", "ConversationID", "UserID", "Result", "AgentState", "TotalTokensUsed", "TotalCost", "TotalPromptTokensUsed", "TotalCompletionTokensUsed", "TotalTokensUsedRollup", "TotalPromptTokensUsedRollup", "TotalCompletionTokensUsedRollup", "TotalCostRollup", "ConversationDetailID", "ConversationDetailSequence", "CancellationReason", "FinalStep", "FinalPayload", "Message", "LastRunID", "StartingPayload", "TotalPromptIterations", "ConfigurationID", "OverrideModelID", "OverrideVendorID", "Data", "Verbose", "EffortLevel", "RunName", "Comments", "ScheduledJobRunID", "TestRunID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes" FROM __mj."AIAgentRun" WHERE "LastRunID" = p_ID
    LOOP
        p_MJAIAgentRuns_LastRunIDID := _rec."ID";
        p_MJAIAgentRuns_LastRunID_AgentID := _rec."AgentID";
        p_MJAIAgentRuns_LastRunID_ParentRunID := _rec."ParentRunID";
        p_MJAIAgentRuns_LastRunID_Status := _rec."Status";
        p_MJAIAgentRuns_LastRunID_StartedAt := _rec."StartedAt";
        p_MJAIAgentRuns_LastRunID_CompletedAt := _rec."CompletedAt";
        p_MJAIAgentRuns_LastRunID_Success := _rec."Success";
        p_MJAIAgentRuns_LastRunID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIAgentRuns_LastRunID_ConversationID := _rec."ConversationID";
        p_MJAIAgentRuns_LastRunID_UserID := _rec."UserID";
        p_MJAIAgentRuns_LastRunID_Result := _rec."Result";
        p_MJAIAgentRuns_LastRunID_AgentState := _rec."AgentState";
        p_MJAIAgentRuns_LastRunID_TotalTokensUsed := _rec."TotalTokensUsed";
        p_MJAIAgentRuns_LastRunID_TotalCost := _rec."TotalCost";
        p_MJAIAgentRuns_LastRunID_TotalPromptTokensUsed := _rec."TotalPromptTokensUsed";
        p_MJAIAgentRuns_LastRunID_TotalCompletionTokensUsed := _rec."TotalCompletionTokensUsed";
        p_MJAIAgentRuns_LastRunID_TotalTokensUsedRollup := _rec."TotalTokensUsedRollup";
        p_MJAIAgentRuns_LastRunID_TotalPromptTokensUsedRollup := _rec."TotalPromptTokensUsedRollup";
        p_MJAIAgentRuns_LastRunID_TotalCompletionTokensUsedRollup := _rec."TotalCompletionTokensUsedRollup";
        p_MJAIAgentRuns_LastRunID_TotalCostRollup := _rec."TotalCostRollup";
        p_MJAIAgentRuns_LastRunID_ConversationDetailID := _rec."ConversationDetailID";
        p_MJAIAgentRuns_LastRunID_ConversationDetailSequence := _rec."ConversationDetailSequence";
        p_MJAIAgentRuns_LastRunID_CancellationReason := _rec."CancellationReason";
        p_MJAIAgentRuns_LastRunID_FinalStep := _rec."FinalStep";
        p_MJAIAgentRuns_LastRunID_FinalPayload := _rec."FinalPayload";
        p_MJAIAgentRuns_LastRunID_Message := _rec."Message";
        p_MJAIAgentRuns_LastRunID_LastRunID := _rec."LastRunID";
        p_MJAIAgentRuns_LastRunID_StartingPayload := _rec."StartingPayload";
        p_MJAIAgentRuns_LastRunID_TotalPromptIterations := _rec."TotalPromptIterations";
        p_MJAIAgentRuns_LastRunID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIAgentRuns_LastRunID_OverrideModelID := _rec."OverrideModelID";
        p_MJAIAgentRuns_LastRunID_OverrideVendorID := _rec."OverrideVendorID";
        p_MJAIAgentRuns_LastRunID_Data := _rec."Data";
        p_MJAIAgentRuns_LastRunID_Verbose := _rec."Verbose";
        p_MJAIAgentRuns_LastRunID_EffortLevel := _rec."EffortLevel";
        p_MJAIAgentRuns_LastRunID_RunName := _rec."RunName";
        p_MJAIAgentRuns_LastRunID_Comments := _rec."Comments";
        p_MJAIAgentRuns_LastRunID_ScheduledJobRunID := _rec."ScheduledJobRunID";
        p_MJAIAgentRuns_LastRunID_TestRunID := _rec."TestRunID";
        p_MJAIAgentRuns_LastRunID_PrimaryScopeEntityID := _rec."PrimaryScopeEntityID";
        p_MJAIAgentRuns_LastRunID_PrimaryScopeRecordID := _rec."PrimaryScopeRecordID";
        p_MJAIAgentRuns_LastRunID_SecondaryScopes := _rec."SecondaryScopes";
        -- Set the FK field to NULL
        p_MJAIAgentRuns_LastRunID_LastRunID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentRun"(p_MJAIAgentRuns_LastRunIDID, p_MJAIAgentRuns_LastRunID_AgentID, p_MJAIAgentRuns_LastRunID_ParentRunID, p_MJAIAgentRuns_LastRunID_Status, p_MJAIAgentRuns_LastRunID_StartedAt, p_MJAIAgentRuns_LastRunID_CompletedAt, p_MJAIAgentRuns_LastRunID_Success, p_MJAIAgentRuns_LastRunID_ErrorMessage, p_MJAIAgentRuns_LastRunID_ConversationID, p_MJAIAgentRuns_LastRunID_UserID, p_MJAIAgentRuns_LastRunID_Result, p_MJAIAgentRuns_LastRunID_AgentState, p_MJAIAgentRuns_LastRunID_TotalTokensUsed, p_MJAIAgentRuns_LastRunID_TotalCost, p_MJAIAgentRuns_LastRunID_TotalPromptTokensUsed, p_MJAIAgentRuns_LastRunID_TotalCompletionTokensUsed, p_MJAIAgentRuns_LastRunID_TotalTokensUsedRollup, p_MJAIAgentRuns_LastRunID_TotalPromptTokensUsedRollup, p_MJAIAgentRuns_LastRunID_TotalCompletionTokensUsedRollup, p_MJAIAgentRuns_LastRunID_TotalCostRollup, p_MJAIAgentRuns_LastRunID_ConversationDetailID, p_MJAIAgentRuns_LastRunID_ConversationDetailSequence, p_MJAIAgentRuns_LastRunID_CancellationReason, p_MJAIAgentRuns_LastRunID_FinalStep, p_MJAIAgentRuns_LastRunID_FinalPayload, p_MJAIAgentRuns_LastRunID_Message, p_MJAIAgentRuns_LastRunID_LastRunID, p_MJAIAgentRuns_LastRunID_StartingPayload, p_MJAIAgentRuns_LastRunID_TotalPromptIterations, p_MJAIAgentRuns_LastRunID_ConfigurationID, p_MJAIAgentRuns_LastRunID_OverrideModelID, p_MJAIAgentRuns_LastRunID_OverrideVendorID, p_MJAIAgentRuns_LastRunID_Data, p_MJAIAgentRuns_LastRunID_Verbose, p_MJAIAgentRuns_LastRunID_EffortLevel, p_MJAIAgentRuns_LastRunID_RunName, p_MJAIAgentRuns_LastRunID_Comments, p_MJAIAgentRuns_LastRunID_ScheduledJobRunID, p_MJAIAgentRuns_LastRunID_TestRunID, p_MJAIAgentRuns_LastRunID_PrimaryScopeEntityID, p_MJAIAgentRuns_LastRunID_PrimaryScopeRecordID, p_MJAIAgentRuns_LastRunID_SecondaryScopes);

    END LOOP;

    
    -- Cascade update on AIPromptRun using cursor to call spUpdateAIPromptRun


    FOR _rec IN SELECT "ID", "PromptID", "ModelID", "VendorID", "AgentID", "ConfigurationID", "RunAt", "CompletedAt", "ExecutionTimeMS", "Messages", "Result", "TokensUsed", "TokensPrompt", "TokensCompletion", "TotalCost", "Success", "ErrorMessage", "ParentID", "RunType", "ExecutionOrder", "AgentRunID", "Cost", "CostCurrency", "TokensUsedRollup", "TokensPromptRollup", "TokensCompletionRollup", "Temperature", "TopP", "TopK", "MinP", "FrequencyPenalty", "PresencePenalty", "Seed", "StopSequences", "ResponseFormat", "LogProbs", "TopLogProbs", "DescendantCost", "ValidationAttemptCount", "SuccessfulValidationCount", "FinalValidationPassed", "ValidationBehavior", "RetryStrategy", "MaxRetriesConfigured", "FinalValidationError", "ValidationErrorCount", "CommonValidationError", "FirstAttemptAt", "LastAttemptAt", "TotalRetryDurationMS", "ValidationAttempts", "ValidationSummary", "FailoverAttempts", "FailoverErrors", "FailoverDurations", "OriginalModelID", "OriginalRequestStartTime", "TotalFailoverDuration", "RerunFromPromptRunID", "ModelSelection", "Status", "Cancelled", "CancellationReason", "ModelPowerRank", "SelectionStrategy", "CacheHit", "CacheKey", "JudgeID", "JudgeScore", "WasSelectedResult", "StreamingEnabled", "FirstTokenTime", "ErrorDetails", "ChildPromptID", "QueueTime", "PromptTime", "CompletionTime", "ModelSpecificResponseDetails", "EffortLevel", "RunName", "Comments", "TestRunID" FROM __mj."AIPromptRun" WHERE "AgentRunID" = p_ID
    LOOP
        p_MJAIPromptRuns_AgentRunIDID := _rec."ID";
        p_MJAIPromptRuns_AgentRunID_PromptID := _rec."PromptID";
        p_MJAIPromptRuns_AgentRunID_ModelID := _rec."ModelID";
        p_MJAIPromptRuns_AgentRunID_VendorID := _rec."VendorID";
        p_MJAIPromptRuns_AgentRunID_AgentID := _rec."AgentID";
        p_MJAIPromptRuns_AgentRunID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIPromptRuns_AgentRunID_RunAt := _rec."RunAt";
        p_MJAIPromptRuns_AgentRunID_CompletedAt := _rec."CompletedAt";
        p_MJAIPromptRuns_AgentRunID_ExecutionTimeMS := _rec."ExecutionTimeMS";
        p_MJAIPromptRuns_AgentRunID_Messages := _rec."Messages";
        p_MJAIPromptRuns_AgentRunID_Result := _rec."Result";
        p_MJAIPromptRuns_AgentRunID_TokensUsed := _rec."TokensUsed";
        p_MJAIPromptRuns_AgentRunID_TokensPrompt := _rec."TokensPrompt";
        p_MJAIPromptRuns_AgentRunID_TokensCompletion := _rec."TokensCompletion";
        p_MJAIPromptRuns_AgentRunID_TotalCost := _rec."TotalCost";
        p_MJAIPromptRuns_AgentRunID_Success := _rec."Success";
        p_MJAIPromptRuns_AgentRunID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIPromptRuns_AgentRunID_ParentID := _rec."ParentID";
        p_MJAIPromptRuns_AgentRunID_RunType := _rec."RunType";
        p_MJAIPromptRuns_AgentRunID_ExecutionOrder := _rec."ExecutionOrder";
        p_MJAIPromptRuns_AgentRunID_AgentRunID := _rec."AgentRunID";
        p_MJAIPromptRuns_AgentRunID_Cost := _rec."Cost";
        p_MJAIPromptRuns_AgentRunID_CostCurrency := _rec."CostCurrency";
        p_MJAIPromptRuns_AgentRunID_TokensUsedRollup := _rec."TokensUsedRollup";
        p_MJAIPromptRuns_AgentRunID_TokensPromptRollup := _rec."TokensPromptRollup";
        p_MJAIPromptRuns_AgentRunID_TokensCompletionRollup := _rec."TokensCompletionRollup";
        p_MJAIPromptRuns_AgentRunID_Temperature := _rec."Temperature";
        p_MJAIPromptRuns_AgentRunID_TopP := _rec."TopP";
        p_MJAIPromptRuns_AgentRunID_TopK := _rec."TopK";
        p_MJAIPromptRuns_AgentRunID_MinP := _rec."MinP";
        p_MJAIPromptRuns_AgentRunID_FrequencyPenalty := _rec."FrequencyPenalty";
        p_MJAIPromptRuns_AgentRunID_PresencePenalty := _rec."PresencePenalty";
        p_MJAIPromptRuns_AgentRunID_Seed := _rec."Seed";
        p_MJAIPromptRuns_AgentRunID_StopSequences := _rec."StopSequences";
        p_MJAIPromptRuns_AgentRunID_ResponseFormat := _rec."ResponseFormat";
        p_MJAIPromptRuns_AgentRunID_LogProbs := _rec."LogProbs";
        p_MJAIPromptRuns_AgentRunID_TopLogProbs := _rec."TopLogProbs";
        p_MJAIPromptRuns_AgentRunID_DescendantCost := _rec."DescendantCost";
        p_MJAIPromptRuns_AgentRunID_ValidationAttemptCount := _rec."ValidationAttemptCount";
        p_MJAIPromptRuns_AgentRunID_SuccessfulValidationCount := _rec."SuccessfulValidationCount";
        p_MJAIPromptRuns_AgentRunID_FinalValidationPassed := _rec."FinalValidationPassed";
        p_MJAIPromptRuns_AgentRunID_ValidationBehavior := _rec."ValidationBehavior";
        p_MJAIPromptRuns_AgentRunID_RetryStrategy := _rec."RetryStrategy";
        p_MJAIPromptRuns_AgentRunID_MaxRetriesConfigured := _rec."MaxRetriesConfigured";
        p_MJAIPromptRuns_AgentRunID_FinalValidationError := _rec."FinalValidationError";
        p_MJAIPromptRuns_AgentRunID_ValidationErrorCount := _rec."ValidationErrorCount";
        p_MJAIPromptRuns_AgentRunID_CommonValidationError := _rec."CommonValidationError";
        p_MJAIPromptRuns_AgentRunID_FirstAttemptAt := _rec."FirstAttemptAt";
        p_MJAIPromptRuns_AgentRunID_LastAttemptAt := _rec."LastAttemptAt";
        p_MJAIPromptRuns_AgentRunID_TotalRetryDurationMS := _rec."TotalRetryDurationMS";
        p_MJAIPromptRuns_AgentRunID_ValidationAttempts := _rec."ValidationAttempts";
        p_MJAIPromptRuns_AgentRunID_ValidationSummary := _rec."ValidationSummary";
        p_MJAIPromptRuns_AgentRunID_FailoverAttempts := _rec."FailoverAttempts";
        p_MJAIPromptRuns_AgentRunID_FailoverErrors := _rec."FailoverErrors";
        p_MJAIPromptRuns_AgentRunID_FailoverDurations := _rec."FailoverDurations";
        p_MJAIPromptRuns_AgentRunID_OriginalModelID := _rec."OriginalModelID";
        p_MJAIPromptRuns_AgentRunID_OriginalRequestStartTime := _rec."OriginalRequestStartTime";
        p_MJAIPromptRuns_AgentRunID_TotalFailoverDuration := _rec."TotalFailoverDuration";
        p_MJAIPromptRuns_AgentRunID_RerunFromPromptRunID := _rec."RerunFromPromptRunID";
        p_MJAIPromptRuns_AgentRunID_ModelSelection := _rec."ModelSelection";
        p_MJAIPromptRuns_AgentRunID_Status := _rec."Status";
        p_MJAIPromptRuns_AgentRunID_Cancelled := _rec."Cancelled";
        p_MJAIPromptRuns_AgentRunID_CancellationReason := _rec."CancellationReason";
        p_MJAIPromptRuns_AgentRunID_ModelPowerRank := _rec."ModelPowerRank";
        p_MJAIPromptRuns_AgentRunID_SelectionStrategy := _rec."SelectionStrategy";
        p_MJAIPromptRuns_AgentRunID_CacheHit := _rec."CacheHit";
        p_MJAIPromptRuns_AgentRunID_CacheKey := _rec."CacheKey";
        p_MJAIPromptRuns_AgentRunID_JudgeID := _rec."JudgeID";
        p_MJAIPromptRuns_AgentRunID_JudgeScore := _rec."JudgeScore";
        p_MJAIPromptRuns_AgentRunID_WasSelectedResult := _rec."WasSelectedResult";
        p_MJAIPromptRuns_AgentRunID_StreamingEnabled := _rec."StreamingEnabled";
        p_MJAIPromptRuns_AgentRunID_FirstTokenTime := _rec."FirstTokenTime";
        p_MJAIPromptRuns_AgentRunID_ErrorDetails := _rec."ErrorDetails";
        p_MJAIPromptRuns_AgentRunID_ChildPromptID := _rec."ChildPromptID";
        p_MJAIPromptRuns_AgentRunID_QueueTime := _rec."QueueTime";
        p_MJAIPromptRuns_AgentRunID_PromptTime := _rec."PromptTime";
        p_MJAIPromptRuns_AgentRunID_CompletionTime := _rec."CompletionTime";
        p_MJAIPromptRuns_AgentRunID_ModelSpecificResponseDetails := _rec."ModelSpecificResponseDetails";
        p_MJAIPromptRuns_AgentRunID_EffortLevel := _rec."EffortLevel";
        p_MJAIPromptRuns_AgentRunID_RunName := _rec."RunName";
        p_MJAIPromptRuns_AgentRunID_Comments := _rec."Comments";
        p_MJAIPromptRuns_AgentRunID_TestRunID := _rec."TestRunID";
        -- Set the FK field to NULL
        p_MJAIPromptRuns_AgentRunID_AgentRunID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIPromptRun"(p_MJAIPromptRuns_AgentRunIDID, p_MJAIPromptRuns_AgentRunID_PromptID, p_MJAIPromptRuns_AgentRunID_ModelID, p_MJAIPromptRuns_AgentRunID_VendorID, p_MJAIPromptRuns_AgentRunID_AgentID, p_MJAIPromptRuns_AgentRunID_ConfigurationID, p_MJAIPromptRuns_AgentRunID_RunAt, p_MJAIPromptRuns_AgentRunID_CompletedAt, p_MJAIPromptRuns_AgentRunID_ExecutionTimeMS, p_MJAIPromptRuns_AgentRunID_Messages, p_MJAIPromptRuns_AgentRunID_Result, p_MJAIPromptRuns_AgentRunID_TokensUsed, p_MJAIPromptRuns_AgentRunID_TokensPrompt, p_MJAIPromptRuns_AgentRunID_TokensCompletion, p_MJAIPromptRuns_AgentRunID_TotalCost, p_MJAIPromptRuns_AgentRunID_Success, p_MJAIPromptRuns_AgentRunID_ErrorMessage, p_MJAIPromptRuns_AgentRunID_ParentID, p_MJAIPromptRuns_AgentRunID_RunType, p_MJAIPromptRuns_AgentRunID_ExecutionOrder, p_MJAIPromptRuns_AgentRunID_AgentRunID, p_MJAIPromptRuns_AgentRunID_Cost, p_MJAIPromptRuns_AgentRunID_CostCurrency, p_MJAIPromptRuns_AgentRunID_TokensUsedRollup, p_MJAIPromptRuns_AgentRunID_TokensPromptRollup, p_MJAIPromptRuns_AgentRunID_TokensCompletionRollup, p_MJAIPromptRuns_AgentRunID_Temperature, p_MJAIPromptRuns_AgentRunID_TopP, p_MJAIPromptRuns_AgentRunID_TopK, p_MJAIPromptRuns_AgentRunID_MinP, p_MJAIPromptRuns_AgentRunID_FrequencyPenalty, p_MJAIPromptRuns_AgentRunID_PresencePenalty, p_MJAIPromptRuns_AgentRunID_Seed, p_MJAIPromptRuns_AgentRunID_StopSequences, p_MJAIPromptRuns_AgentRunID_ResponseFormat, p_MJAIPromptRuns_AgentRunID_LogProbs, p_MJAIPromptRuns_AgentRunID_TopLogProbs, p_MJAIPromptRuns_AgentRunID_DescendantCost, p_MJAIPromptRuns_AgentRunID_ValidationAttemptCount, p_MJAIPromptRuns_AgentRunID_SuccessfulValidationCount, p_MJAIPromptRuns_AgentRunID_FinalValidationPassed, p_MJAIPromptRuns_AgentRunID_ValidationBehavior, p_MJAIPromptRuns_AgentRunID_RetryStrategy, p_MJAIPromptRuns_AgentRunID_MaxRetriesConfigured, p_MJAIPromptRuns_AgentRunID_FinalValidationError, p_MJAIPromptRuns_AgentRunID_ValidationErrorCount, p_MJAIPromptRuns_AgentRunID_CommonValidationError, p_MJAIPromptRuns_AgentRunID_FirstAttemptAt, p_MJAIPromptRuns_AgentRunID_LastAttemptAt, p_MJAIPromptRuns_AgentRunID_TotalRetryDurationMS, p_MJAIPromptRuns_AgentRunID_ValidationAttempts, p_MJAIPromptRuns_AgentRunID_ValidationSummary, p_MJAIPromptRuns_AgentRunID_FailoverAttempts, p_MJAIPromptRuns_AgentRunID_FailoverErrors, p_MJAIPromptRuns_AgentRunID_FailoverDurations, p_MJAIPromptRuns_AgentRunID_OriginalModelID, p_MJAIPromptRuns_AgentRunID_OriginalRequestStartTime, p_MJAIPromptRuns_AgentRunID_TotalFailoverDuration, p_MJAIPromptRuns_AgentRunID_RerunFromPromptRunID, p_MJAIPromptRuns_AgentRunID_ModelSelection, p_MJAIPromptRuns_AgentRunID_Status, p_MJAIPromptRuns_AgentRunID_Cancelled, p_MJAIPromptRuns_AgentRunID_CancellationReason, p_MJAIPromptRuns_AgentRunID_ModelPowerRank, p_MJAIPromptRuns_AgentRunID_SelectionStrategy, p_MJAIPromptRuns_AgentRunID_CacheHit, p_MJAIPromptRuns_AgentRunID_CacheKey, p_MJAIPromptRuns_AgentRunID_JudgeID, p_MJAIPromptRuns_AgentRunID_JudgeScore, p_MJAIPromptRuns_AgentRunID_WasSelectedResult, p_MJAIPromptRuns_AgentRunID_StreamingEnabled, p_MJAIPromptRuns_AgentRunID_FirstTokenTime, p_MJAIPromptRuns_AgentRunID_ErrorDetails, p_MJAIPromptRuns_AgentRunID_ChildPromptID, p_MJAIPromptRuns_AgentRunID_QueueTime, p_MJAIPromptRuns_AgentRunID_PromptTime, p_MJAIPromptRuns_AgentRunID_CompletionTime, p_MJAIPromptRuns_AgentRunID_ModelSpecificResponseDetails, p_MJAIPromptRuns_AgentRunID_EffortLevel, p_MJAIPromptRuns_AgentRunID_RunName, p_MJAIPromptRuns_AgentRunID_Comments, p_MJAIPromptRuns_AgentRunID_TestRunID);

    END LOOP;

    

    DELETE FROM
        __mj."AIAgentRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIArchitecture"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Category VARCHAR(50) DEFAULT NULL,
    IN p_ParentArchitectureID UUID DEFAULT NULL,
    IN p_WikipediaURL VARCHAR(500) DEFAULT NULL,
    IN p_YearIntroduced INTEGER DEFAULT NULL,
    IN p_KeyPaper VARCHAR(500) DEFAULT NULL
)
RETURNS SETOF __mj."vwAIArchitectures" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIArchitecture"
            (
                "ID",
                "Name",
                "Description",
                "Category",
                "ParentArchitectureID",
                "WikipediaURL",
                "YearIntroduced",
                "KeyPaper"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_Category,
                p_ParentArchitectureID,
                p_WikipediaURL,
                p_YearIntroduced,
                p_KeyPaper
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIArchitecture"
            (
                "Name",
                "Description",
                "Category",
                "ParentArchitectureID",
                "WikipediaURL",
                "YearIntroduced",
                "KeyPaper"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_Category,
                p_ParentArchitectureID,
                p_WikipediaURL,
                p_YearIntroduced,
                p_KeyPaper
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIArchitectures" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIArchitecture"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_Category VARCHAR(50),
    IN p_ParentArchitectureID UUID,
    IN p_WikipediaURL VARCHAR(500),
    IN p_YearIntroduced INTEGER,
    IN p_KeyPaper VARCHAR(500)
)
RETURNS SETOF __mj."vwAIArchitectures" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIArchitecture"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "Category" = p_Category,
        "ParentArchitectureID" = p_ParentArchitectureID,
        "WikipediaURL" = p_WikipediaURL,
        "YearIntroduced" = p_YearIntroduced,
        "KeyPaper" = p_KeyPaper
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIArchitectures" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIArchitectures" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIArchitecture"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIArchitecture"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentStep"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_StepType VARCHAR(20) DEFAULT NULL,
    IN p_StartingStep BOOLEAN DEFAULT NULL,
    IN p_TimeoutSeconds INTEGER DEFAULT NULL,
    IN p_RetryCount INTEGER DEFAULT NULL,
    IN p_OnErrorBehavior VARCHAR(20) DEFAULT NULL,
    IN p_ActionID UUID DEFAULT NULL,
    IN p_SubAgentID UUID DEFAULT NULL,
    IN p_PromptID UUID DEFAULT NULL,
    IN p_ActionOutputMapping TEXT DEFAULT NULL,
    IN p_PositionX INTEGER DEFAULT NULL,
    IN p_PositionY INTEGER DEFAULT NULL,
    IN p_Width INTEGER DEFAULT NULL,
    IN p_Height INTEGER DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_ActionInputMapping TEXT DEFAULT NULL,
    IN p_LoopBodyType VARCHAR(50) DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentSteps" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentStep"
            (
                "ID",
                "AgentID",
                "Name",
                "Description",
                "StepType",
                "StartingStep",
                "TimeoutSeconds",
                "RetryCount",
                "OnErrorBehavior",
                "ActionID",
                "SubAgentID",
                "PromptID",
                "ActionOutputMapping",
                "PositionX",
                "PositionY",
                "Width",
                "Height",
                "Status",
                "ActionInputMapping",
                "LoopBodyType",
                "Configuration"
            )
        VALUES
            (
                p_ID,
                p_AgentID,
                p_Name,
                p_Description,
                p_StepType,
                COALESCE(p_StartingStep, 0),
                p_TimeoutSeconds,
                COALESCE(p_RetryCount, 0),
                COALESCE(p_OnErrorBehavior, 'fail'),
                p_ActionID,
                p_SubAgentID,
                p_PromptID,
                p_ActionOutputMapping,
                COALESCE(p_PositionX, 0),
                COALESCE(p_PositionY, 0),
                COALESCE(p_Width, 200),
                COALESCE(p_Height, 80),
                COALESCE(p_Status, 'Active'),
                p_ActionInputMapping,
                p_LoopBodyType,
                p_Configuration
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentStep"
            (
                "AgentID",
                "Name",
                "Description",
                "StepType",
                "StartingStep",
                "TimeoutSeconds",
                "RetryCount",
                "OnErrorBehavior",
                "ActionID",
                "SubAgentID",
                "PromptID",
                "ActionOutputMapping",
                "PositionX",
                "PositionY",
                "Width",
                "Height",
                "Status",
                "ActionInputMapping",
                "LoopBodyType",
                "Configuration"
            )
        VALUES
            (
                p_AgentID,
                p_Name,
                p_Description,
                p_StepType,
                COALESCE(p_StartingStep, 0),
                p_TimeoutSeconds,
                COALESCE(p_RetryCount, 0),
                COALESCE(p_OnErrorBehavior, 'fail'),
                p_ActionID,
                p_SubAgentID,
                p_PromptID,
                p_ActionOutputMapping,
                COALESCE(p_PositionX, 0),
                COALESCE(p_PositionY, 0),
                COALESCE(p_Width, 200),
                COALESCE(p_Height, 80),
                COALESCE(p_Status, 'Active'),
                p_ActionInputMapping,
                p_LoopBodyType,
                p_Configuration
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentSteps" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentStep"(
    IN p_ID UUID,
    IN p_AgentID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_StepType VARCHAR(20),
    IN p_StartingStep BOOLEAN,
    IN p_TimeoutSeconds INTEGER,
    IN p_RetryCount INTEGER,
    IN p_OnErrorBehavior VARCHAR(20),
    IN p_ActionID UUID,
    IN p_SubAgentID UUID,
    IN p_PromptID UUID,
    IN p_ActionOutputMapping TEXT,
    IN p_PositionX INTEGER,
    IN p_PositionY INTEGER,
    IN p_Width INTEGER,
    IN p_Height INTEGER,
    IN p_Status VARCHAR(20),
    IN p_ActionInputMapping TEXT,
    IN p_LoopBodyType VARCHAR(50),
    IN p_Configuration TEXT
)
RETURNS SETOF __mj."vwAIAgentSteps" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentStep"
    SET
        "AgentID" = p_AgentID,
        "Name" = p_Name,
        "Description" = p_Description,
        "StepType" = p_StepType,
        "StartingStep" = p_StartingStep,
        "TimeoutSeconds" = p_TimeoutSeconds,
        "RetryCount" = p_RetryCount,
        "OnErrorBehavior" = p_OnErrorBehavior,
        "ActionID" = p_ActionID,
        "SubAgentID" = p_SubAgentID,
        "PromptID" = p_PromptID,
        "ActionOutputMapping" = p_ActionOutputMapping,
        "PositionX" = p_PositionX,
        "PositionY" = p_PositionY,
        "Width" = p_Width,
        "Height" = p_Height,
        "Status" = p_Status,
        "ActionInputMapping" = p_ActionInputMapping,
        "LoopBodyType" = p_LoopBodyType,
        "Configuration" = p_Configuration
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentSteps" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentSteps" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentStep"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJAIAgentStepPaths_OriginStepIDID UUID;
    p_MJAIAgentStepPaths_DestinationStepIDID UUID;
BEGIN
-- Cascade delete from AIAgentStepPath using cursor to call spDeleteAIAgentStepPath

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentStepPath" WHERE "OriginStepID" = p_ID
    LOOP
        p_MJAIAgentStepPaths_OriginStepIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentStepPath"(p_MJAIAgentStepPaths_OriginStepIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentStepPath using cursor to call spDeleteAIAgentStepPath

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentStepPath" WHERE "DestinationStepID" = p_ID
    LOOP
        p_MJAIAgentStepPaths_DestinationStepIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentStepPath"(p_MJAIAgentStepPaths_DestinationStepIDID);
        
    END LOOP;
    
    

    DELETE FROM
        __mj."AIAgentStep"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgentType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_SystemPromptID UUID DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL,
    IN p_AgentPromptPlaceholder VARCHAR(255) DEFAULT NULL,
    IN p_DriverClass VARCHAR(255) DEFAULT NULL,
    IN p_UIFormSectionKey VARCHAR(500) DEFAULT NULL,
    IN p_UIFormKey VARCHAR(500) DEFAULT NULL,
    IN p_UIFormSectionExpandedByDefault BOOLEAN DEFAULT NULL,
    IN p_PromptParamsSchema TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgentTypes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgentType"
            (
                "ID",
                "Name",
                "Description",
                "SystemPromptID",
                "IsActive",
                "AgentPromptPlaceholder",
                "DriverClass",
                "UIFormSectionKey",
                "UIFormKey",
                "UIFormSectionExpandedByDefault",
                "PromptParamsSchema"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_SystemPromptID,
                COALESCE(p_IsActive, 1),
                p_AgentPromptPlaceholder,
                p_DriverClass,
                p_UIFormSectionKey,
                p_UIFormKey,
                COALESCE(p_UIFormSectionExpandedByDefault, 1),
                p_PromptParamsSchema
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgentType"
            (
                "Name",
                "Description",
                "SystemPromptID",
                "IsActive",
                "AgentPromptPlaceholder",
                "DriverClass",
                "UIFormSectionKey",
                "UIFormKey",
                "UIFormSectionExpandedByDefault",
                "PromptParamsSchema"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_SystemPromptID,
                COALESCE(p_IsActive, 1),
                p_AgentPromptPlaceholder,
                p_DriverClass,
                p_UIFormSectionKey,
                p_UIFormKey,
                COALESCE(p_UIFormSectionExpandedByDefault, 1),
                p_PromptParamsSchema
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgentTypes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgentType"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_SystemPromptID UUID,
    IN p_IsActive BOOLEAN,
    IN p_AgentPromptPlaceholder VARCHAR(255),
    IN p_DriverClass VARCHAR(255),
    IN p_UIFormSectionKey VARCHAR(500),
    IN p_UIFormKey VARCHAR(500),
    IN p_UIFormSectionExpandedByDefault BOOLEAN,
    IN p_PromptParamsSchema TEXT
)
RETURNS SETOF __mj."vwAIAgentTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgentType"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "SystemPromptID" = p_SystemPromptID,
        "IsActive" = p_IsActive,
        "AgentPromptPlaceholder" = p_AgentPromptPlaceholder,
        "DriverClass" = p_DriverClass,
        "UIFormSectionKey" = p_UIFormSectionKey,
        "UIFormKey" = p_UIFormKey,
        "UIFormSectionExpandedByDefault" = p_UIFormSectionExpandedByDefault,
        "PromptParamsSchema" = p_PromptParamsSchema
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgentTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgentTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgentType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIAgentType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIAgent"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_LogoURL VARCHAR(255) DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_ExposeAsAction BOOLEAN DEFAULT NULL,
    IN p_ExecutionOrder INTEGER DEFAULT NULL,
    IN p_ExecutionMode VARCHAR(20) DEFAULT NULL,
    IN p_EnableContextCompression BOOLEAN DEFAULT NULL,
    IN p_ContextCompressionMessageThreshold INTEGER DEFAULT NULL,
    IN p_ContextCompressionPromptID UUID DEFAULT NULL,
    IN p_ContextCompressionMessageRetentionCount INTEGER DEFAULT NULL,
    IN p_TypeID UUID DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_DriverClass VARCHAR(255) DEFAULT NULL,
    IN p_IconClass VARCHAR(100) DEFAULT NULL,
    IN p_ModelSelectionMode VARCHAR(50) DEFAULT NULL,
    IN p_PayloadDownstreamPaths TEXT DEFAULT NULL,
    IN p_PayloadUpstreamPaths TEXT DEFAULT NULL,
    IN p_PayloadSelfReadPaths TEXT DEFAULT NULL,
    IN p_PayloadSelfWritePaths TEXT DEFAULT NULL,
    IN p_PayloadScope TEXT DEFAULT NULL,
    IN p_FinalPayloadValidation TEXT DEFAULT NULL,
    IN p_FinalPayloadValidationMode VARCHAR(25) DEFAULT NULL,
    IN p_FinalPayloadValidationMaxRetries INTEGER DEFAULT NULL,
    IN p_MaxCostPerRun NUMERIC(10,4) DEFAULT NULL,
    IN p_MaxTokensPerRun INTEGER DEFAULT NULL,
    IN p_MaxIterationsPerRun INTEGER DEFAULT NULL,
    IN p_MaxTimePerRun INTEGER DEFAULT NULL,
    IN p_MinExecutionsPerRun INTEGER DEFAULT NULL,
    IN p_MaxExecutionsPerRun INTEGER DEFAULT NULL,
    IN p_StartingPayloadValidation TEXT DEFAULT NULL,
    IN p_StartingPayloadValidationMode VARCHAR(25) DEFAULT NULL,
    IN p_DefaultPromptEffortLevel INTEGER DEFAULT NULL,
    IN p_ChatHandlingOption VARCHAR(30) DEFAULT NULL,
    IN p_DefaultArtifactTypeID UUID DEFAULT NULL,
    IN p_OwnerUserID UUID DEFAULT NULL,
    IN p_InvocationMode VARCHAR(20) DEFAULT NULL,
    IN p_ArtifactCreationMode VARCHAR(20) DEFAULT NULL,
    IN p_FunctionalRequirements TEXT DEFAULT NULL,
    IN p_TechnicalDesign TEXT DEFAULT NULL,
    IN p_InjectNotes BOOLEAN DEFAULT NULL,
    IN p_MaxNotesToInject INTEGER DEFAULT NULL,
    IN p_NoteInjectionStrategy VARCHAR(20) DEFAULT NULL,
    IN p_InjectExamples BOOLEAN DEFAULT NULL,
    IN p_MaxExamplesToInject INTEGER DEFAULT NULL,
    IN p_ExampleInjectionStrategy VARCHAR(20) DEFAULT NULL,
    IN p_IsRestricted BOOLEAN DEFAULT NULL,
    IN p_MessageMode VARCHAR(50) DEFAULT NULL,
    IN p_MaxMessages INTEGER DEFAULT NULL,
    IN p_AttachmentStorageProviderID UUID DEFAULT NULL,
    IN p_AttachmentRootPath VARCHAR(500) DEFAULT NULL,
    IN p_InlineStorageThresholdBytes INTEGER DEFAULT NULL,
    IN p_AgentTypePromptParams TEXT DEFAULT NULL,
    IN p_ScopeConfig TEXT DEFAULT NULL,
    IN p_NoteRetentionDays INTEGER DEFAULT NULL,
    IN p_ExampleRetentionDays INTEGER DEFAULT NULL,
    IN p_AutoArchiveEnabled BOOLEAN DEFAULT NULL,
    IN p_RerankerConfiguration TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIAgents" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIAgent"
            (
                "ID",
                "Name",
                "Description",
                "LogoURL",
                "ParentID",
                "ExposeAsAction",
                "ExecutionOrder",
                "ExecutionMode",
                "EnableContextCompression",
                "ContextCompressionMessageThreshold",
                "ContextCompressionPromptID",
                "ContextCompressionMessageRetentionCount",
                "TypeID",
                "Status",
                "DriverClass",
                "IconClass",
                "ModelSelectionMode",
                "PayloadDownstreamPaths",
                "PayloadUpstreamPaths",
                "PayloadSelfReadPaths",
                "PayloadSelfWritePaths",
                "PayloadScope",
                "FinalPayloadValidation",
                "FinalPayloadValidationMode",
                "FinalPayloadValidationMaxRetries",
                "MaxCostPerRun",
                "MaxTokensPerRun",
                "MaxIterationsPerRun",
                "MaxTimePerRun",
                "MinExecutionsPerRun",
                "MaxExecutionsPerRun",
                "StartingPayloadValidation",
                "StartingPayloadValidationMode",
                "DefaultPromptEffortLevel",
                "ChatHandlingOption",
                "DefaultArtifactTypeID",
                "OwnerUserID",
                "InvocationMode",
                "ArtifactCreationMode",
                "FunctionalRequirements",
                "TechnicalDesign",
                "InjectNotes",
                "MaxNotesToInject",
                "NoteInjectionStrategy",
                "InjectExamples",
                "MaxExamplesToInject",
                "ExampleInjectionStrategy",
                "IsRestricted",
                "MessageMode",
                "MaxMessages",
                "AttachmentStorageProviderID",
                "AttachmentRootPath",
                "InlineStorageThresholdBytes",
                "AgentTypePromptParams",
                "ScopeConfig",
                "NoteRetentionDays",
                "ExampleRetentionDays",
                "AutoArchiveEnabled",
                "RerankerConfiguration"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_LogoURL,
                p_ParentID,
                COALESCE(p_ExposeAsAction, 0),
                COALESCE(p_ExecutionOrder, 0),
                COALESCE(p_ExecutionMode, 'Sequential'),
                COALESCE(p_EnableContextCompression, 0),
                p_ContextCompressionMessageThreshold,
                p_ContextCompressionPromptID,
                p_ContextCompressionMessageRetentionCount,
                p_TypeID,
                COALESCE(p_Status, 'Pending'),
                p_DriverClass,
                p_IconClass,
                COALESCE(p_ModelSelectionMode, 'Agent Type'),
                COALESCE(p_PayloadDownstreamPaths, '""*""'),
                COALESCE(p_PayloadUpstreamPaths, '""*""'),
                p_PayloadSelfReadPaths,
                p_PayloadSelfWritePaths,
                p_PayloadScope,
                p_FinalPayloadValidation,
                COALESCE(p_FinalPayloadValidationMode, 'Retry'),
                COALESCE(p_FinalPayloadValidationMaxRetries, 3),
                p_MaxCostPerRun,
                p_MaxTokensPerRun,
                p_MaxIterationsPerRun,
                p_MaxTimePerRun,
                p_MinExecutionsPerRun,
                p_MaxExecutionsPerRun,
                p_StartingPayloadValidation,
                COALESCE(p_StartingPayloadValidationMode, 'Fail'),
                p_DefaultPromptEffortLevel,
                p_ChatHandlingOption,
                p_DefaultArtifactTypeID,
                CASE p_OwnerUserID WHEN '00000000-0000-0000-0000-000000000000' THEN 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E' ELSE COALESCE(p_OwnerUserID, 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E') END,
                COALESCE(p_InvocationMode, 'Any'),
                COALESCE(p_ArtifactCreationMode, 'Always'),
                p_FunctionalRequirements,
                p_TechnicalDesign,
                COALESCE(p_InjectNotes, 1),
                COALESCE(p_MaxNotesToInject, 5),
                COALESCE(p_NoteInjectionStrategy, 'Relevant'),
                COALESCE(p_InjectExamples, 0),
                COALESCE(p_MaxExamplesToInject, 3),
                COALESCE(p_ExampleInjectionStrategy, 'Semantic'),
                COALESCE(p_IsRestricted, 0),
                COALESCE(p_MessageMode, 'None'),
                p_MaxMessages,
                p_AttachmentStorageProviderID,
                p_AttachmentRootPath,
                p_InlineStorageThresholdBytes,
                p_AgentTypePromptParams,
                p_ScopeConfig,
                p_NoteRetentionDays,
                p_ExampleRetentionDays,
                COALESCE(p_AutoArchiveEnabled, 1),
                p_RerankerConfiguration
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIAgent"
            (
                "Name",
                "Description",
                "LogoURL",
                "ParentID",
                "ExposeAsAction",
                "ExecutionOrder",
                "ExecutionMode",
                "EnableContextCompression",
                "ContextCompressionMessageThreshold",
                "ContextCompressionPromptID",
                "ContextCompressionMessageRetentionCount",
                "TypeID",
                "Status",
                "DriverClass",
                "IconClass",
                "ModelSelectionMode",
                "PayloadDownstreamPaths",
                "PayloadUpstreamPaths",
                "PayloadSelfReadPaths",
                "PayloadSelfWritePaths",
                "PayloadScope",
                "FinalPayloadValidation",
                "FinalPayloadValidationMode",
                "FinalPayloadValidationMaxRetries",
                "MaxCostPerRun",
                "MaxTokensPerRun",
                "MaxIterationsPerRun",
                "MaxTimePerRun",
                "MinExecutionsPerRun",
                "MaxExecutionsPerRun",
                "StartingPayloadValidation",
                "StartingPayloadValidationMode",
                "DefaultPromptEffortLevel",
                "ChatHandlingOption",
                "DefaultArtifactTypeID",
                "OwnerUserID",
                "InvocationMode",
                "ArtifactCreationMode",
                "FunctionalRequirements",
                "TechnicalDesign",
                "InjectNotes",
                "MaxNotesToInject",
                "NoteInjectionStrategy",
                "InjectExamples",
                "MaxExamplesToInject",
                "ExampleInjectionStrategy",
                "IsRestricted",
                "MessageMode",
                "MaxMessages",
                "AttachmentStorageProviderID",
                "AttachmentRootPath",
                "InlineStorageThresholdBytes",
                "AgentTypePromptParams",
                "ScopeConfig",
                "NoteRetentionDays",
                "ExampleRetentionDays",
                "AutoArchiveEnabled",
                "RerankerConfiguration"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_LogoURL,
                p_ParentID,
                COALESCE(p_ExposeAsAction, 0),
                COALESCE(p_ExecutionOrder, 0),
                COALESCE(p_ExecutionMode, 'Sequential'),
                COALESCE(p_EnableContextCompression, 0),
                p_ContextCompressionMessageThreshold,
                p_ContextCompressionPromptID,
                p_ContextCompressionMessageRetentionCount,
                p_TypeID,
                COALESCE(p_Status, 'Pending'),
                p_DriverClass,
                p_IconClass,
                COALESCE(p_ModelSelectionMode, 'Agent Type'),
                COALESCE(p_PayloadDownstreamPaths, '""*""'),
                COALESCE(p_PayloadUpstreamPaths, '""*""'),
                p_PayloadSelfReadPaths,
                p_PayloadSelfWritePaths,
                p_PayloadScope,
                p_FinalPayloadValidation,
                COALESCE(p_FinalPayloadValidationMode, 'Retry'),
                COALESCE(p_FinalPayloadValidationMaxRetries, 3),
                p_MaxCostPerRun,
                p_MaxTokensPerRun,
                p_MaxIterationsPerRun,
                p_MaxTimePerRun,
                p_MinExecutionsPerRun,
                p_MaxExecutionsPerRun,
                p_StartingPayloadValidation,
                COALESCE(p_StartingPayloadValidationMode, 'Fail'),
                p_DefaultPromptEffortLevel,
                p_ChatHandlingOption,
                p_DefaultArtifactTypeID,
                CASE p_OwnerUserID WHEN '00000000-0000-0000-0000-000000000000' THEN 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E' ELSE COALESCE(p_OwnerUserID, 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E') END,
                COALESCE(p_InvocationMode, 'Any'),
                COALESCE(p_ArtifactCreationMode, 'Always'),
                p_FunctionalRequirements,
                p_TechnicalDesign,
                COALESCE(p_InjectNotes, 1),
                COALESCE(p_MaxNotesToInject, 5),
                COALESCE(p_NoteInjectionStrategy, 'Relevant'),
                COALESCE(p_InjectExamples, 0),
                COALESCE(p_MaxExamplesToInject, 3),
                COALESCE(p_ExampleInjectionStrategy, 'Semantic'),
                COALESCE(p_IsRestricted, 0),
                COALESCE(p_MessageMode, 'None'),
                p_MaxMessages,
                p_AttachmentStorageProviderID,
                p_AttachmentRootPath,
                p_InlineStorageThresholdBytes,
                p_AgentTypePromptParams,
                p_ScopeConfig,
                p_NoteRetentionDays,
                p_ExampleRetentionDays,
                COALESCE(p_AutoArchiveEnabled, 1),
                p_RerankerConfiguration
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIAgents" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIAgent"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_LogoURL VARCHAR(255),
    IN p_ParentID UUID,
    IN p_ExposeAsAction BOOLEAN,
    IN p_ExecutionOrder INTEGER,
    IN p_ExecutionMode VARCHAR(20),
    IN p_EnableContextCompression BOOLEAN,
    IN p_ContextCompressionMessageThreshold INTEGER,
    IN p_ContextCompressionPromptID UUID,
    IN p_ContextCompressionMessageRetentionCount INTEGER,
    IN p_TypeID UUID,
    IN p_Status VARCHAR(20),
    IN p_DriverClass VARCHAR(255),
    IN p_IconClass VARCHAR(100),
    IN p_ModelSelectionMode VARCHAR(50),
    IN p_PayloadDownstreamPaths TEXT,
    IN p_PayloadUpstreamPaths TEXT,
    IN p_PayloadSelfReadPaths TEXT,
    IN p_PayloadSelfWritePaths TEXT,
    IN p_PayloadScope TEXT,
    IN p_FinalPayloadValidation TEXT,
    IN p_FinalPayloadValidationMode VARCHAR(25),
    IN p_FinalPayloadValidationMaxRetries INTEGER,
    IN p_MaxCostPerRun NUMERIC(10,4),
    IN p_MaxTokensPerRun INTEGER,
    IN p_MaxIterationsPerRun INTEGER,
    IN p_MaxTimePerRun INTEGER,
    IN p_MinExecutionsPerRun INTEGER,
    IN p_MaxExecutionsPerRun INTEGER,
    IN p_StartingPayloadValidation TEXT,
    IN p_StartingPayloadValidationMode VARCHAR(25),
    IN p_DefaultPromptEffortLevel INTEGER,
    IN p_ChatHandlingOption VARCHAR(30),
    IN p_DefaultArtifactTypeID UUID,
    IN p_OwnerUserID UUID,
    IN p_InvocationMode VARCHAR(20),
    IN p_ArtifactCreationMode VARCHAR(20),
    IN p_FunctionalRequirements TEXT,
    IN p_TechnicalDesign TEXT,
    IN p_InjectNotes BOOLEAN,
    IN p_MaxNotesToInject INTEGER,
    IN p_NoteInjectionStrategy VARCHAR(20),
    IN p_InjectExamples BOOLEAN,
    IN p_MaxExamplesToInject INTEGER,
    IN p_ExampleInjectionStrategy VARCHAR(20),
    IN p_IsRestricted BOOLEAN,
    IN p_MessageMode VARCHAR(50),
    IN p_MaxMessages INTEGER,
    IN p_AttachmentStorageProviderID UUID,
    IN p_AttachmentRootPath VARCHAR(500),
    IN p_InlineStorageThresholdBytes INTEGER,
    IN p_AgentTypePromptParams TEXT,
    IN p_ScopeConfig TEXT,
    IN p_NoteRetentionDays INTEGER,
    IN p_ExampleRetentionDays INTEGER,
    IN p_AutoArchiveEnabled BOOLEAN,
    IN p_RerankerConfiguration TEXT
)
RETURNS SETOF __mj."vwAIAgents" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIAgent"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "LogoURL" = p_LogoURL,
        "ParentID" = p_ParentID,
        "ExposeAsAction" = p_ExposeAsAction,
        "ExecutionOrder" = p_ExecutionOrder,
        "ExecutionMode" = p_ExecutionMode,
        "EnableContextCompression" = p_EnableContextCompression,
        "ContextCompressionMessageThreshold" = p_ContextCompressionMessageThreshold,
        "ContextCompressionPromptID" = p_ContextCompressionPromptID,
        "ContextCompressionMessageRetentionCount" = p_ContextCompressionMessageRetentionCount,
        "TypeID" = p_TypeID,
        "Status" = p_Status,
        "DriverClass" = p_DriverClass,
        "IconClass" = p_IconClass,
        "ModelSelectionMode" = p_ModelSelectionMode,
        "PayloadDownstreamPaths" = p_PayloadDownstreamPaths,
        "PayloadUpstreamPaths" = p_PayloadUpstreamPaths,
        "PayloadSelfReadPaths" = p_PayloadSelfReadPaths,
        "PayloadSelfWritePaths" = p_PayloadSelfWritePaths,
        "PayloadScope" = p_PayloadScope,
        "FinalPayloadValidation" = p_FinalPayloadValidation,
        "FinalPayloadValidationMode" = p_FinalPayloadValidationMode,
        "FinalPayloadValidationMaxRetries" = p_FinalPayloadValidationMaxRetries,
        "MaxCostPerRun" = p_MaxCostPerRun,
        "MaxTokensPerRun" = p_MaxTokensPerRun,
        "MaxIterationsPerRun" = p_MaxIterationsPerRun,
        "MaxTimePerRun" = p_MaxTimePerRun,
        "MinExecutionsPerRun" = p_MinExecutionsPerRun,
        "MaxExecutionsPerRun" = p_MaxExecutionsPerRun,
        "StartingPayloadValidation" = p_StartingPayloadValidation,
        "StartingPayloadValidationMode" = p_StartingPayloadValidationMode,
        "DefaultPromptEffortLevel" = p_DefaultPromptEffortLevel,
        "ChatHandlingOption" = p_ChatHandlingOption,
        "DefaultArtifactTypeID" = p_DefaultArtifactTypeID,
        "OwnerUserID" = p_OwnerUserID,
        "InvocationMode" = p_InvocationMode,
        "ArtifactCreationMode" = p_ArtifactCreationMode,
        "FunctionalRequirements" = p_FunctionalRequirements,
        "TechnicalDesign" = p_TechnicalDesign,
        "InjectNotes" = p_InjectNotes,
        "MaxNotesToInject" = p_MaxNotesToInject,
        "NoteInjectionStrategy" = p_NoteInjectionStrategy,
        "InjectExamples" = p_InjectExamples,
        "MaxExamplesToInject" = p_MaxExamplesToInject,
        "ExampleInjectionStrategy" = p_ExampleInjectionStrategy,
        "IsRestricted" = p_IsRestricted,
        "MessageMode" = p_MessageMode,
        "MaxMessages" = p_MaxMessages,
        "AttachmentStorageProviderID" = p_AttachmentStorageProviderID,
        "AttachmentRootPath" = p_AttachmentRootPath,
        "InlineStorageThresholdBytes" = p_InlineStorageThresholdBytes,
        "AgentTypePromptParams" = p_AgentTypePromptParams,
        "ScopeConfig" = p_ScopeConfig,
        "NoteRetentionDays" = p_NoteRetentionDays,
        "ExampleRetentionDays" = p_ExampleRetentionDays,
        "AutoArchiveEnabled" = p_AutoArchiveEnabled,
        "RerankerConfiguration" = p_RerankerConfiguration
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIAgents" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIAgents" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIConfigurationParam"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ConfigurationID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Type VARCHAR(20) DEFAULT NULL,
    IN p_Value TEXT DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIConfigurationParams" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIConfigurationParam"
            (
                "ID",
                "ConfigurationID",
                "Name",
                "Type",
                "Value",
                "Description"
            )
        VALUES
            (
                p_ID,
                p_ConfigurationID,
                p_Name,
                COALESCE(p_Type, 'string'),
                p_Value,
                p_Description
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIConfigurationParam"
            (
                "ConfigurationID",
                "Name",
                "Type",
                "Value",
                "Description"
            )
        VALUES
            (
                p_ConfigurationID,
                p_Name,
                COALESCE(p_Type, 'string'),
                p_Value,
                p_Description
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIConfigurationParams" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIConfigurationParam"(
    IN p_ID UUID,
    IN p_ConfigurationID UUID,
    IN p_Name VARCHAR(100),
    IN p_Type VARCHAR(20),
    IN p_Value TEXT,
    IN p_Description TEXT
)
RETURNS SETOF __mj."vwAIConfigurationParams" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIConfigurationParam"
    SET
        "ConfigurationID" = p_ConfigurationID,
        "Name" = p_Name,
        "Type" = p_Type,
        "Value" = p_Value,
        "Description" = p_Description
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIConfigurationParams" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIConfigurationParams" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIConfigurationParam"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIConfigurationParam"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIAgent"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJAIAgentActions_AgentIDID UUID;
    p_MJAIAgentActions_AgentID_AgentID UUID;
    p_MJAIAgentActions_AgentID_ActionID UUID;
    p_MJAIAgentActions_AgentID_Status VARCHAR(15);
    p_MJAIAgentActions_AgentID_MinExecutionsPerRun INTEGER;
    p_MJAIAgentActions_AgentID_MaxExecutionsPerRun INTEGER;
    p_MJAIAgentActions_AgentID_ResultExpirationTurns INTEGER;
    p_MJAIAgentActions_AgentID_ResultExpirationMode VARCHAR(20);
    p_MJAIAgentActions_AgentID_CompactMode VARCHAR(20);
    p_MJAIAgentActions_AgentID_CompactLength INTEGER;
    p_MJAIAgentActions_AgentID_CompactPromptID UUID;
    p_MJAIAgentArtifactTypes_AgentIDID UUID;
    p_MJAIAgentConfigurations_AgentIDID UUID;
    p_MJAIAgentDataSources_AgentIDID UUID;
    p_MJAIAgentExamples_AgentIDID UUID;
    p_MJAIAgentLearningCycles_AgentIDID UUID;
    p_MJAIAgentModalities_AgentIDID UUID;
    p_MJAIAgentModels_AgentIDID UUID;
    p_MJAIAgentModels_AgentID_AgentID UUID;
    p_MJAIAgentModels_AgentID_ModelID UUID;
    p_MJAIAgentModels_AgentID_Active BOOLEAN;
    p_MJAIAgentModels_AgentID_Priority INTEGER;
    p_MJAIAgentNotes_AgentIDID UUID;
    p_MJAIAgentNotes_AgentID_AgentID UUID;
    p_MJAIAgentNotes_AgentID_AgentNoteTypeID UUID;
    p_MJAIAgentNotes_AgentID_Note TEXT;
    p_MJAIAgentNotes_AgentID_UserID UUID;
    p_MJAIAgentNotes_AgentID_Type VARCHAR(20);
    p_MJAIAgentNotes_AgentID_IsAutoGenerated BOOLEAN;
    p_MJAIAgentNotes_AgentID_Comments TEXT;
    p_MJAIAgentNotes_AgentID_Status VARCHAR(20);
    p_MJAIAgentNotes_AgentID_SourceConversationID UUID;
    p_MJAIAgentNotes_AgentID_SourceConversationDetailID UUID;
    p_MJAIAgentNotes_AgentID_SourceAIAgentRunID UUID;
    p_MJAIAgentNotes_AgentID_CompanyID UUID;
    p_MJAIAgentNotes_AgentID_EmbeddingVector TEXT;
    p_MJAIAgentNotes_AgentID_EmbeddingModelID UUID;
    p_MJAIAgentNotes_AgentID_PrimaryScopeEntityID UUID;
    p_MJAIAgentNotes_AgentID_PrimaryScopeRecordID VARCHAR(100);
    p_MJAIAgentNotes_AgentID_SecondaryScopes TEXT;
    p_MJAIAgentNotes_AgentID_LastAccessedAt TIMESTAMPTZ;
    p_MJAIAgentNotes_AgentID_AccessCount INTEGER;
    p_MJAIAgentNotes_AgentID_ExpiresAt TIMESTAMPTZ;
    p_MJAIAgentPermissions_AgentIDID UUID;
    p_MJAIAgentPrompts_AgentIDID UUID;
    p_MJAIAgentRelationships_AgentIDID UUID;
    p_MJAIAgentRelationships_SubAgentIDID UUID;
    p_MJAIAgentRequests_AgentIDID UUID;
    p_MJAIAgentRuns_AgentIDID UUID;
    p_MJAIAgentSteps_AgentIDID UUID;
    p_MJAIAgentSteps_SubAgentIDID UUID;
    p_MJAIAgentSteps_SubAgentID_AgentID UUID;
    p_MJAIAgentSteps_SubAgentID_Name VARCHAR(255);
    p_MJAIAgentSteps_SubAgentID_Description TEXT;
    p_MJAIAgentSteps_SubAgentID_StepType VARCHAR(20);
    p_MJAIAgentSteps_SubAgentID_StartingStep BOOLEAN;
    p_MJAIAgentSteps_SubAgentID_TimeoutSeconds INTEGER;
    p_MJAIAgentSteps_SubAgentID_RetryCount INTEGER;
    p_MJAIAgentSteps_SubAgentID_OnErrorBehavior VARCHAR(20);
    p_MJAIAgentSteps_SubAgentID_ActionID UUID;
    p_MJAIAgentSteps_SubAgentID_SubAgentID UUID;
    p_MJAIAgentSteps_SubAgentID_PromptID UUID;
    p_MJAIAgentSteps_SubAgentID_ActionOutputMapping TEXT;
    p_MJAIAgentSteps_SubAgentID_PositionX INTEGER;
    p_MJAIAgentSteps_SubAgentID_PositionY INTEGER;
    p_MJAIAgentSteps_SubAgentID_Width INTEGER;
    p_MJAIAgentSteps_SubAgentID_Height INTEGER;
    p_MJAIAgentSteps_SubAgentID_Status VARCHAR(20);
    p_MJAIAgentSteps_SubAgentID_ActionInputMapping TEXT;
    p_MJAIAgentSteps_SubAgentID_LoopBodyType VARCHAR(50);
    p_MJAIAgentSteps_SubAgentID_Configuration TEXT;
    p_MJAIAgents_ParentIDID UUID;
    p_MJAIAgents_ParentID_Name VARCHAR(255);
    p_MJAIAgents_ParentID_Description TEXT;
    p_MJAIAgents_ParentID_LogoURL VARCHAR(255);
    p_MJAIAgents_ParentID_ParentID UUID;
    p_MJAIAgents_ParentID_ExposeAsAction BOOLEAN;
    p_MJAIAgents_ParentID_ExecutionOrder INTEGER;
    p_MJAIAgents_ParentID_ExecutionMode VARCHAR(20);
    p_MJAIAgents_ParentID_EnableContextCompression BOOLEAN;
    p_MJAIAgents_ParentID_ContextCompressionMessageThreshold INTEGER;
    p_MJAIAgents_ParentID_ContextCompressionPromptID UUID;
    p_MJAIAgents_ParentID_ContextCompressionMessageRetentionCount INTEGER;
    p_MJAIAgents_ParentID_TypeID UUID;
    p_MJAIAgents_ParentID_Status VARCHAR(20);
    p_MJAIAgents_ParentID_DriverClass VARCHAR(255);
    p_MJAIAgents_ParentID_IconClass VARCHAR(100);
    p_MJAIAgents_ParentID_ModelSelectionMode VARCHAR(50);
    p_MJAIAgents_ParentID_PayloadDownstreamPaths TEXT;
    p_MJAIAgents_ParentID_PayloadUpstreamPaths TEXT;
    p_MJAIAgents_ParentID_PayloadSelfReadPaths TEXT;
    p_MJAIAgents_ParentID_PayloadSelfWritePaths TEXT;
    p_MJAIAgents_ParentID_PayloadScope TEXT;
    p_MJAIAgents_ParentID_FinalPayloadValidation TEXT;
    p_MJAIAgents_ParentID_FinalPayloadValidationMode VARCHAR(25);
    p_MJAIAgents_ParentID_FinalPayloadValidationMaxRetries INTEGER;
    p_MJAIAgents_ParentID_MaxCostPerRun NUMERIC(10,4);
    p_MJAIAgents_ParentID_MaxTokensPerRun INTEGER;
    p_MJAIAgents_ParentID_MaxIterationsPerRun INTEGER;
    p_MJAIAgents_ParentID_MaxTimePerRun INTEGER;
    p_MJAIAgents_ParentID_MinExecutionsPerRun INTEGER;
    p_MJAIAgents_ParentID_MaxExecutionsPerRun INTEGER;
    p_MJAIAgents_ParentID_StartingPayloadValidation TEXT;
    p_MJAIAgents_ParentID_StartingPayloadValidationMode VARCHAR(25);
    p_MJAIAgents_ParentID_DefaultPromptEffortLevel INTEGER;
    p_MJAIAgents_ParentID_ChatHandlingOption VARCHAR(30);
    p_MJAIAgents_ParentID_DefaultArtifactTypeID UUID;
    p_MJAIAgents_ParentID_OwnerUserID UUID;
    p_MJAIAgents_ParentID_InvocationMode VARCHAR(20);
    p_MJAIAgents_ParentID_ArtifactCreationMode VARCHAR(20);
    p_MJAIAgents_ParentID_FunctionalRequirements TEXT;
    p_MJAIAgents_ParentID_TechnicalDesign TEXT;
    p_MJAIAgents_ParentID_InjectNotes BOOLEAN;
    p_MJAIAgents_ParentID_MaxNotesToInject INTEGER;
    p_MJAIAgents_ParentID_NoteInjectionStrategy VARCHAR(20);
    p_MJAIAgents_ParentID_InjectExamples BOOLEAN;
    p_MJAIAgents_ParentID_MaxExamplesToInject INTEGER;
    p_MJAIAgents_ParentID_ExampleInjectionStrategy VARCHAR(20);
    p_MJAIAgents_ParentID_IsRestricted BOOLEAN;
    p_MJAIAgents_ParentID_MessageMode VARCHAR(50);
    p_MJAIAgents_ParentID_MaxMessages INTEGER;
    p_MJAIAgents_ParentID_AttachmentStorageProviderID UUID;
    p_MJAIAgents_ParentID_AttachmentRootPath VARCHAR(500);
    p_MJAIAgents_ParentID_InlineStorageThresholdBytes INTEGER;
    p_MJAIAgents_ParentID_AgentTypePromptParams TEXT;
    p_MJAIAgents_ParentID_ScopeConfig TEXT;
    p_MJAIAgents_ParentID_NoteRetentionDays INTEGER;
    p_MJAIAgents_ParentID_ExampleRetentionDays INTEGER;
    p_MJAIAgents_ParentID_AutoArchiveEnabled BOOLEAN;
    p_MJAIAgents_ParentID_RerankerConfiguration TEXT;
    p_MJAIPromptRuns_AgentIDID UUID;
    p_MJAIPromptRuns_AgentID_PromptID UUID;
    p_MJAIPromptRuns_AgentID_ModelID UUID;
    p_MJAIPromptRuns_AgentID_VendorID UUID;
    p_MJAIPromptRuns_AgentID_AgentID UUID;
    p_MJAIPromptRuns_AgentID_ConfigurationID UUID;
    p_MJAIPromptRuns_AgentID_RunAt TIMESTAMPTZ;
    p_MJAIPromptRuns_AgentID_CompletedAt TIMESTAMPTZ;
    p_MJAIPromptRuns_AgentID_ExecutionTimeMS INTEGER;
    p_MJAIPromptRuns_AgentID_Messages TEXT;
    p_MJAIPromptRuns_AgentID_Result TEXT;
    p_MJAIPromptRuns_AgentID_TokensUsed INTEGER;
    p_MJAIPromptRuns_AgentID_TokensPrompt INTEGER;
    p_MJAIPromptRuns_AgentID_TokensCompletion INTEGER;
    p_MJAIPromptRuns_AgentID_TotalCost NUMERIC(18,6);
    p_MJAIPromptRuns_AgentID_Success BOOLEAN;
    p_MJAIPromptRuns_AgentID_ErrorMessage TEXT;
    p_MJAIPromptRuns_AgentID_ParentID UUID;
    p_MJAIPromptRuns_AgentID_RunType VARCHAR(20);
    p_MJAIPromptRuns_AgentID_ExecutionOrder INTEGER;
    p_MJAIPromptRuns_AgentID_AgentRunID UUID;
    p_MJAIPromptRuns_AgentID_Cost NUMERIC(19,8);
    p_MJAIPromptRuns_AgentID_CostCurrency VARCHAR(10);
    p_MJAIPromptRuns_AgentID_TokensUsedRollup INTEGER;
    p_MJAIPromptRuns_AgentID_TokensPromptRollup INTEGER;
    p_MJAIPromptRuns_AgentID_TokensCompletionRollup INTEGER;
    p_MJAIPromptRuns_AgentID_Temperature NUMERIC(3,2);
    p_MJAIPromptRuns_AgentID_TopP NUMERIC(3,2);
    p_MJAIPromptRuns_AgentID_TopK INTEGER;
    p_MJAIPromptRuns_AgentID_MinP NUMERIC(3,2);
    p_MJAIPromptRuns_AgentID_FrequencyPenalty NUMERIC(3,2);
    p_MJAIPromptRuns_AgentID_PresencePenalty NUMERIC(3,2);
    p_MJAIPromptRuns_AgentID_Seed INTEGER;
    p_MJAIPromptRuns_AgentID_StopSequences TEXT;
    p_MJAIPromptRuns_AgentID_ResponseFormat VARCHAR(50);
    p_MJAIPromptRuns_AgentID_LogProbs BOOLEAN;
    p_MJAIPromptRuns_AgentID_TopLogProbs INTEGER;
    p_MJAIPromptRuns_AgentID_DescendantCost NUMERIC(18,6);
    p_MJAIPromptRuns_AgentID_ValidationAttemptCount INTEGER;
    p_MJAIPromptRuns_AgentID_SuccessfulValidationCount INTEGER;
    p_MJAIPromptRuns_AgentID_FinalValidationPassed BOOLEAN;
    p_MJAIPromptRuns_AgentID_ValidationBehavior VARCHAR(50);
    p_MJAIPromptRuns_AgentID_RetryStrategy VARCHAR(50);
    p_MJAIPromptRuns_AgentID_MaxRetriesConfigured INTEGER;
    p_MJAIPromptRuns_AgentID_FinalValidationError VARCHAR(500);
    p_MJAIPromptRuns_AgentID_ValidationErrorCount INTEGER;
    p_MJAIPromptRuns_AgentID_CommonValidationError VARCHAR(255);
    p_MJAIPromptRuns_AgentID_FirstAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_AgentID_LastAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_AgentID_TotalRetryDurationMS INTEGER;
    p_MJAIPromptRuns_AgentID_ValidationAttempts TEXT;
    p_MJAIPromptRuns_AgentID_ValidationSummary TEXT;
    p_MJAIPromptRuns_AgentID_FailoverAttempts INTEGER;
    p_MJAIPromptRuns_AgentID_FailoverErrors TEXT;
    p_MJAIPromptRuns_AgentID_FailoverDurations TEXT;
    p_MJAIPromptRuns_AgentID_OriginalModelID UUID;
    p_MJAIPromptRuns_AgentID_OriginalRequestStartTime TIMESTAMPTZ;
    p_MJAIPromptRuns_AgentID_TotalFailoverDuration INTEGER;
    p_MJAIPromptRuns_AgentID_RerunFromPromptRunID UUID;
    p_MJAIPromptRuns_AgentID_ModelSelection TEXT;
    p_MJAIPromptRuns_AgentID_Status VARCHAR(50);
    p_MJAIPromptRuns_AgentID_Cancelled BOOLEAN;
    p_MJAIPromptRuns_AgentID_CancellationReason TEXT;
    p_MJAIPromptRuns_AgentID_ModelPowerRank INTEGER;
    p_MJAIPromptRuns_AgentID_SelectionStrategy VARCHAR(50);
    p_MJAIPromptRuns_AgentID_CacheHit BOOLEAN;
    p_MJAIPromptRuns_AgentID_CacheKey VARCHAR(500);
    p_MJAIPromptRuns_AgentID_JudgeID UUID;
    p_MJAIPromptRuns_AgentID_JudgeScore DOUBLE PRECISION;
    p_MJAIPromptRuns_AgentID_WasSelectedResult BOOLEAN;
    p_MJAIPromptRuns_AgentID_StreamingEnabled BOOLEAN;
    p_MJAIPromptRuns_AgentID_FirstTokenTime INTEGER;
    p_MJAIPromptRuns_AgentID_ErrorDetails TEXT;
    p_MJAIPromptRuns_AgentID_ChildPromptID UUID;
    p_MJAIPromptRuns_AgentID_QueueTime INTEGER;
    p_MJAIPromptRuns_AgentID_PromptTime INTEGER;
    p_MJAIPromptRuns_AgentID_CompletionTime INTEGER;
    p_MJAIPromptRuns_AgentID_ModelSpecificResponseDetails TEXT;
    p_MJAIPromptRuns_AgentID_EffortLevel INTEGER;
    p_MJAIPromptRuns_AgentID_RunName VARCHAR(255);
    p_MJAIPromptRuns_AgentID_Comments TEXT;
    p_MJAIPromptRuns_AgentID_TestRunID UUID;
    p_MJAIResultCache_AgentIDID UUID;
    p_MJAIResultCache_AgentID_AIPromptID UUID;
    p_MJAIResultCache_AgentID_AIModelID UUID;
    p_MJAIResultCache_AgentID_RunAt TIMESTAMPTZ;
    p_MJAIResultCache_AgentID_PromptText TEXT;
    p_MJAIResultCache_AgentID_ResultText TEXT;
    p_MJAIResultCache_AgentID_Status VARCHAR(50);
    p_MJAIResultCache_AgentID_ExpiredOn TIMESTAMPTZ;
    p_MJAIResultCache_AgentID_VendorID UUID;
    p_MJAIResultCache_AgentID_AgentID UUID;
    p_MJAIResultCache_AgentID_ConfigurationID UUID;
    p_MJAIResultCache_AgentID_PromptEmbedding BYTEA;
    p_MJAIResultCache_AgentID_PromptRunID UUID;
    p_MJConversationDetails_AgentIDID UUID;
    p_MJConversationDetails_AgentID_ConversationID UUID;
    p_MJConversationDetails_AgentID_ExternalID VARCHAR(100);
    p_MJConversationDetails_AgentID_Role VARCHAR(20);
    p_MJConversationDetails_AgentID_Message TEXT;
    p_MJConversationDetails_AgentID_Error TEXT;
    p_MJConversationDetails_AgentID_HiddenToUser BOOLEAN;
    p_MJConversationDetails_AgentID_UserRating INTEGER;
    p_MJConversationDetails_AgentID_UserFeedback TEXT;
    p_MJConversationDetails_AgentID_ReflectionInsights TEXT;
    p_MJConversationDetails_AgentID_SummaryOfEarlierConversation TEXT;
    p_MJConversationDetails_AgentID_UserID UUID;
    p_MJConversationDetails_AgentID_ArtifactID UUID;
    p_MJConversationDetails_AgentID_ArtifactVersionID UUID;
    p_MJConversationDetails_AgentID_CompletionTime BIGINT;
    p_MJConversationDetails_AgentID_IsPinned BOOLEAN;
    p_MJConversationDetails_AgentID_ParentID UUID;
    p_MJConversationDetails_AgentID_AgentID UUID;
    p_MJConversationDetails_AgentID_Status VARCHAR(20);
    p_MJConversationDetails_AgentID_SuggestedResponses TEXT;
    p_MJConversationDetails_AgentID_TestRunID UUID;
    p_MJConversationDetails_AgentID_ResponseForm TEXT;
    p_MJConversationDetails_AgentID_ActionableCommands TEXT;
    p_MJConversationDetails_AgentID_AutomaticCommands TEXT;
    p_MJConversationDetails_AgentID_OriginalMessageChanged BOOLEAN;
    p_MJTasks_AgentIDID UUID;
    p_MJTasks_AgentID_ParentID UUID;
    p_MJTasks_AgentID_Name VARCHAR(255);
    p_MJTasks_AgentID_Description TEXT;
    p_MJTasks_AgentID_TypeID UUID;
    p_MJTasks_AgentID_EnvironmentID UUID;
    p_MJTasks_AgentID_ProjectID UUID;
    p_MJTasks_AgentID_ConversationDetailID UUID;
    p_MJTasks_AgentID_UserID UUID;
    p_MJTasks_AgentID_AgentID UUID;
    p_MJTasks_AgentID_Status VARCHAR(50);
    p_MJTasks_AgentID_PercentComplete INTEGER;
    p_MJTasks_AgentID_DueAt TIMESTAMPTZ;
    p_MJTasks_AgentID_StartedAt TIMESTAMPTZ;
    p_MJTasks_AgentID_CompletedAt TIMESTAMPTZ;
BEGIN
-- Cascade update on AIAgentAction using cursor to call spUpdateAIAgentAction


    FOR _rec IN SELECT "ID", "AgentID", "ActionID", "Status", "MinExecutionsPerRun", "MaxExecutionsPerRun", "ResultExpirationTurns", "ResultExpirationMode", "CompactMode", "CompactLength", "CompactPromptID" FROM __mj."AIAgentAction" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentActions_AgentIDID := _rec."ID";
        p_MJAIAgentActions_AgentID_AgentID := _rec."AgentID";
        p_MJAIAgentActions_AgentID_ActionID := _rec."ActionID";
        p_MJAIAgentActions_AgentID_Status := _rec."Status";
        p_MJAIAgentActions_AgentID_MinExecutionsPerRun := _rec."MinExecutionsPerRun";
        p_MJAIAgentActions_AgentID_MaxExecutionsPerRun := _rec."MaxExecutionsPerRun";
        p_MJAIAgentActions_AgentID_ResultExpirationTurns := _rec."ResultExpirationTurns";
        p_MJAIAgentActions_AgentID_ResultExpirationMode := _rec."ResultExpirationMode";
        p_MJAIAgentActions_AgentID_CompactMode := _rec."CompactMode";
        p_MJAIAgentActions_AgentID_CompactLength := _rec."CompactLength";
        p_MJAIAgentActions_AgentID_CompactPromptID := _rec."CompactPromptID";
        -- Set the FK field to NULL
        p_MJAIAgentActions_AgentID_AgentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentAction"(p_MJAIAgentActions_AgentIDID, p_MJAIAgentActions_AgentID_AgentID, p_MJAIAgentActions_AgentID_ActionID, p_MJAIAgentActions_AgentID_Status, p_MJAIAgentActions_AgentID_MinExecutionsPerRun, p_MJAIAgentActions_AgentID_MaxExecutionsPerRun, p_MJAIAgentActions_AgentID_ResultExpirationTurns, p_MJAIAgentActions_AgentID_ResultExpirationMode, p_MJAIAgentActions_AgentID_CompactMode, p_MJAIAgentActions_AgentID_CompactLength, p_MJAIAgentActions_AgentID_CompactPromptID);

    END LOOP;

    
    -- Cascade delete from AIAgentArtifactType using cursor to call spDeleteAIAgentArtifactType

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentArtifactType" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentArtifactTypes_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentArtifactType"(p_MJAIAgentArtifactTypes_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentConfiguration using cursor to call spDeleteAIAgentConfiguration

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentConfiguration" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentConfigurations_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentConfiguration"(p_MJAIAgentConfigurations_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentDataSource using cursor to call spDeleteAIAgentDataSource

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentDataSource" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentDataSources_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentDataSource"(p_MJAIAgentDataSources_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentExample using cursor to call spDeleteAIAgentExample

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentExample" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentExamples_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentExample"(p_MJAIAgentExamples_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentLearningCycle using cursor to call spDeleteAIAgentLearningCycle

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentLearningCycle" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentLearningCycles_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentLearningCycle"(p_MJAIAgentLearningCycles_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentModality using cursor to call spDeleteAIAgentModality

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentModality" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentModalities_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentModality"(p_MJAIAgentModalities_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade update on AIAgentModel using cursor to call spUpdateAIAgentModel


    FOR _rec IN SELECT "ID", "AgentID", "ModelID", "Active", "Priority" FROM __mj."AIAgentModel" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentModels_AgentIDID := _rec."ID";
        p_MJAIAgentModels_AgentID_AgentID := _rec."AgentID";
        p_MJAIAgentModels_AgentID_ModelID := _rec."ModelID";
        p_MJAIAgentModels_AgentID_Active := _rec."Active";
        p_MJAIAgentModels_AgentID_Priority := _rec."Priority";
        -- Set the FK field to NULL
        p_MJAIAgentModels_AgentID_AgentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentModel"(p_MJAIAgentModels_AgentIDID, p_MJAIAgentModels_AgentID_AgentID, p_MJAIAgentModels_AgentID_ModelID, p_MJAIAgentModels_AgentID_Active, p_MJAIAgentModels_AgentID_Priority);

    END LOOP;

    
    -- Cascade update on AIAgentNote using cursor to call spUpdateAIAgentNote


    FOR _rec IN SELECT "ID", "AgentID", "AgentNoteTypeID", "Note", "UserID", "Type", "IsAutoGenerated", "Comments", "Status", "SourceConversationID", "SourceConversationDetailID", "SourceAIAgentRunID", "CompanyID", "EmbeddingVector", "EmbeddingModelID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes", "LastAccessedAt", "AccessCount", "ExpiresAt" FROM __mj."AIAgentNote" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentNotes_AgentIDID := _rec."ID";
        p_MJAIAgentNotes_AgentID_AgentID := _rec."AgentID";
        p_MJAIAgentNotes_AgentID_AgentNoteTypeID := _rec."AgentNoteTypeID";
        p_MJAIAgentNotes_AgentID_Note := _rec."Note";
        p_MJAIAgentNotes_AgentID_UserID := _rec."UserID";
        p_MJAIAgentNotes_AgentID_Type := _rec."Type";
        p_MJAIAgentNotes_AgentID_IsAutoGenerated := _rec."IsAutoGenerated";
        p_MJAIAgentNotes_AgentID_Comments := _rec."Comments";
        p_MJAIAgentNotes_AgentID_Status := _rec."Status";
        p_MJAIAgentNotes_AgentID_SourceConversationID := _rec."SourceConversationID";
        p_MJAIAgentNotes_AgentID_SourceConversationDetailID := _rec."SourceConversationDetailID";
        p_MJAIAgentNotes_AgentID_SourceAIAgentRunID := _rec."SourceAIAgentRunID";
        p_MJAIAgentNotes_AgentID_CompanyID := _rec."CompanyID";
        p_MJAIAgentNotes_AgentID_EmbeddingVector := _rec."EmbeddingVector";
        p_MJAIAgentNotes_AgentID_EmbeddingModelID := _rec."EmbeddingModelID";
        p_MJAIAgentNotes_AgentID_PrimaryScopeEntityID := _rec."PrimaryScopeEntityID";
        p_MJAIAgentNotes_AgentID_PrimaryScopeRecordID := _rec."PrimaryScopeRecordID";
        p_MJAIAgentNotes_AgentID_SecondaryScopes := _rec."SecondaryScopes";
        p_MJAIAgentNotes_AgentID_LastAccessedAt := _rec."LastAccessedAt";
        p_MJAIAgentNotes_AgentID_AccessCount := _rec."AccessCount";
        p_MJAIAgentNotes_AgentID_ExpiresAt := _rec."ExpiresAt";
        -- Set the FK field to NULL
        p_MJAIAgentNotes_AgentID_AgentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentNote"(p_MJAIAgentNotes_AgentIDID, p_MJAIAgentNotes_AgentID_AgentID, p_MJAIAgentNotes_AgentID_AgentNoteTypeID, p_MJAIAgentNotes_AgentID_Note, p_MJAIAgentNotes_AgentID_UserID, p_MJAIAgentNotes_AgentID_Type, p_MJAIAgentNotes_AgentID_IsAutoGenerated, p_MJAIAgentNotes_AgentID_Comments, p_MJAIAgentNotes_AgentID_Status, p_MJAIAgentNotes_AgentID_SourceConversationID, p_MJAIAgentNotes_AgentID_SourceConversationDetailID, p_MJAIAgentNotes_AgentID_SourceAIAgentRunID, p_MJAIAgentNotes_AgentID_CompanyID, p_MJAIAgentNotes_AgentID_EmbeddingVector, p_MJAIAgentNotes_AgentID_EmbeddingModelID, p_MJAIAgentNotes_AgentID_PrimaryScopeEntityID, p_MJAIAgentNotes_AgentID_PrimaryScopeRecordID, p_MJAIAgentNotes_AgentID_SecondaryScopes, p_MJAIAgentNotes_AgentID_LastAccessedAt, p_MJAIAgentNotes_AgentID_AccessCount, p_MJAIAgentNotes_AgentID_ExpiresAt);

    END LOOP;

    
    -- Cascade delete from AIAgentPermission using cursor to call spDeleteAIAgentPermission

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentPermission" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentPermissions_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentPermission"(p_MJAIAgentPermissions_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentPrompt using cursor to call spDeleteAIAgentPrompt

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentPrompt" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentPrompts_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentPrompt"(p_MJAIAgentPrompts_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentRelationship using cursor to call spDeleteAIAgentRelationship

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentRelationship" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentRelationships_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentRelationship"(p_MJAIAgentRelationships_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentRelationship using cursor to call spDeleteAIAgentRelationship

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentRelationship" WHERE "SubAgentID" = p_ID
    LOOP
        p_MJAIAgentRelationships_SubAgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentRelationship"(p_MJAIAgentRelationships_SubAgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentRequest using cursor to call spDeleteAIAgentRequest

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentRequest" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentRequests_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentRequest"(p_MJAIAgentRequests_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentRun using cursor to call spDeleteAIAgentRun

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentRun" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentRuns_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentRun"(p_MJAIAgentRuns_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIAgentStep using cursor to call spDeleteAIAgentStep

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentStep" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIAgentSteps_AgentIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentStep"(p_MJAIAgentSteps_AgentIDID);
        
    END LOOP;
    
    
    -- Cascade update on AIAgentStep using cursor to call spUpdateAIAgentStep


    FOR _rec IN SELECT "ID", "AgentID", "Name", "Description", "StepType", "StartingStep", "TimeoutSeconds", "RetryCount", "OnErrorBehavior", "ActionID", "SubAgentID", "PromptID", "ActionOutputMapping", "PositionX", "PositionY", "Width", "Height", "Status", "ActionInputMapping", "LoopBodyType", "Configuration" FROM __mj."AIAgentStep" WHERE "SubAgentID" = p_ID
    LOOP
        p_MJAIAgentSteps_SubAgentIDID := _rec."ID";
        p_MJAIAgentSteps_SubAgentID_AgentID := _rec."AgentID";
        p_MJAIAgentSteps_SubAgentID_Name := _rec."Name";
        p_MJAIAgentSteps_SubAgentID_Description := _rec."Description";
        p_MJAIAgentSteps_SubAgentID_StepType := _rec."StepType";
        p_MJAIAgentSteps_SubAgentID_StartingStep := _rec."StartingStep";
        p_MJAIAgentSteps_SubAgentID_TimeoutSeconds := _rec."TimeoutSeconds";
        p_MJAIAgentSteps_SubAgentID_RetryCount := _rec."RetryCount";
        p_MJAIAgentSteps_SubAgentID_OnErrorBehavior := _rec."OnErrorBehavior";
        p_MJAIAgentSteps_SubAgentID_ActionID := _rec."ActionID";
        p_MJAIAgentSteps_SubAgentID_SubAgentID := _rec."SubAgentID";
        p_MJAIAgentSteps_SubAgentID_PromptID := _rec."PromptID";
        p_MJAIAgentSteps_SubAgentID_ActionOutputMapping := _rec."ActionOutputMapping";
        p_MJAIAgentSteps_SubAgentID_PositionX := _rec."PositionX";
        p_MJAIAgentSteps_SubAgentID_PositionY := _rec."PositionY";
        p_MJAIAgentSteps_SubAgentID_Width := _rec."Width";
        p_MJAIAgentSteps_SubAgentID_Height := _rec."Height";
        p_MJAIAgentSteps_SubAgentID_Status := _rec."Status";
        p_MJAIAgentSteps_SubAgentID_ActionInputMapping := _rec."ActionInputMapping";
        p_MJAIAgentSteps_SubAgentID_LoopBodyType := _rec."LoopBodyType";
        p_MJAIAgentSteps_SubAgentID_Configuration := _rec."Configuration";
        -- Set the FK field to NULL
        p_MJAIAgentSteps_SubAgentID_SubAgentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentStep"(p_MJAIAgentSteps_SubAgentIDID, p_MJAIAgentSteps_SubAgentID_AgentID, p_MJAIAgentSteps_SubAgentID_Name, p_MJAIAgentSteps_SubAgentID_Description, p_MJAIAgentSteps_SubAgentID_StepType, p_MJAIAgentSteps_SubAgentID_StartingStep, p_MJAIAgentSteps_SubAgentID_TimeoutSeconds, p_MJAIAgentSteps_SubAgentID_RetryCount, p_MJAIAgentSteps_SubAgentID_OnErrorBehavior, p_MJAIAgentSteps_SubAgentID_ActionID, p_MJAIAgentSteps_SubAgentID_SubAgentID, p_MJAIAgentSteps_SubAgentID_PromptID, p_MJAIAgentSteps_SubAgentID_ActionOutputMapping, p_MJAIAgentSteps_SubAgentID_PositionX, p_MJAIAgentSteps_SubAgentID_PositionY, p_MJAIAgentSteps_SubAgentID_Width, p_MJAIAgentSteps_SubAgentID_Height, p_MJAIAgentSteps_SubAgentID_Status, p_MJAIAgentSteps_SubAgentID_ActionInputMapping, p_MJAIAgentSteps_SubAgentID_LoopBodyType, p_MJAIAgentSteps_SubAgentID_Configuration);

    END LOOP;

    
    -- Cascade update on AIAgent using cursor to call spUpdateAIAgent


    FOR _rec IN SELECT "ID", "Name", "Description", "LogoURL", "ParentID", "ExposeAsAction", "ExecutionOrder", "ExecutionMode", "EnableContextCompression", "ContextCompressionMessageThreshold", "ContextCompressionPromptID", "ContextCompressionMessageRetentionCount", "TypeID", "Status", "DriverClass", "IconClass", "ModelSelectionMode", "PayloadDownstreamPaths", "PayloadUpstreamPaths", "PayloadSelfReadPaths", "PayloadSelfWritePaths", "PayloadScope", "FinalPayloadValidation", "FinalPayloadValidationMode", "FinalPayloadValidationMaxRetries", "MaxCostPerRun", "MaxTokensPerRun", "MaxIterationsPerRun", "MaxTimePerRun", "MinExecutionsPerRun", "MaxExecutionsPerRun", "StartingPayloadValidation", "StartingPayloadValidationMode", "DefaultPromptEffortLevel", "ChatHandlingOption", "DefaultArtifactTypeID", "OwnerUserID", "InvocationMode", "ArtifactCreationMode", "FunctionalRequirements", "TechnicalDesign", "InjectNotes", "MaxNotesToInject", "NoteInjectionStrategy", "InjectExamples", "MaxExamplesToInject", "ExampleInjectionStrategy", "IsRestricted", "MessageMode", "MaxMessages", "AttachmentStorageProviderID", "AttachmentRootPath", "InlineStorageThresholdBytes", "AgentTypePromptParams", "ScopeConfig", "NoteRetentionDays", "ExampleRetentionDays", "AutoArchiveEnabled", "RerankerConfiguration" FROM __mj."AIAgent" WHERE "ParentID" = p_ID
    LOOP
        p_MJAIAgents_ParentIDID := _rec."ID";
        p_MJAIAgents_ParentID_Name := _rec."Name";
        p_MJAIAgents_ParentID_Description := _rec."Description";
        p_MJAIAgents_ParentID_LogoURL := _rec."LogoURL";
        p_MJAIAgents_ParentID_ParentID := _rec."ParentID";
        p_MJAIAgents_ParentID_ExposeAsAction := _rec."ExposeAsAction";
        p_MJAIAgents_ParentID_ExecutionOrder := _rec."ExecutionOrder";
        p_MJAIAgents_ParentID_ExecutionMode := _rec."ExecutionMode";
        p_MJAIAgents_ParentID_EnableContextCompression := _rec."EnableContextCompression";
        p_MJAIAgents_ParentID_ContextCompressionMessageThreshold := _rec."ContextCompressionMessageThreshold";
        p_MJAIAgents_ParentID_ContextCompressionPromptID := _rec."ContextCompressionPromptID";
        p_MJAIAgents_ParentID_ContextCompressionMessageRetentionCount := _rec."ContextCompressionMessageRetentionCount";
        p_MJAIAgents_ParentID_TypeID := _rec."TypeID";
        p_MJAIAgents_ParentID_Status := _rec."Status";
        p_MJAIAgents_ParentID_DriverClass := _rec."DriverClass";
        p_MJAIAgents_ParentID_IconClass := _rec."IconClass";
        p_MJAIAgents_ParentID_ModelSelectionMode := _rec."ModelSelectionMode";
        p_MJAIAgents_ParentID_PayloadDownstreamPaths := _rec."PayloadDownstreamPaths";
        p_MJAIAgents_ParentID_PayloadUpstreamPaths := _rec."PayloadUpstreamPaths";
        p_MJAIAgents_ParentID_PayloadSelfReadPaths := _rec."PayloadSelfReadPaths";
        p_MJAIAgents_ParentID_PayloadSelfWritePaths := _rec."PayloadSelfWritePaths";
        p_MJAIAgents_ParentID_PayloadScope := _rec."PayloadScope";
        p_MJAIAgents_ParentID_FinalPayloadValidation := _rec."FinalPayloadValidation";
        p_MJAIAgents_ParentID_FinalPayloadValidationMode := _rec."FinalPayloadValidationMode";
        p_MJAIAgents_ParentID_FinalPayloadValidationMaxRetries := _rec."FinalPayloadValidationMaxRetries";
        p_MJAIAgents_ParentID_MaxCostPerRun := _rec."MaxCostPerRun";
        p_MJAIAgents_ParentID_MaxTokensPerRun := _rec."MaxTokensPerRun";
        p_MJAIAgents_ParentID_MaxIterationsPerRun := _rec."MaxIterationsPerRun";
        p_MJAIAgents_ParentID_MaxTimePerRun := _rec."MaxTimePerRun";
        p_MJAIAgents_ParentID_MinExecutionsPerRun := _rec."MinExecutionsPerRun";
        p_MJAIAgents_ParentID_MaxExecutionsPerRun := _rec."MaxExecutionsPerRun";
        p_MJAIAgents_ParentID_StartingPayloadValidation := _rec."StartingPayloadValidation";
        p_MJAIAgents_ParentID_StartingPayloadValidationMode := _rec."StartingPayloadValidationMode";
        p_MJAIAgents_ParentID_DefaultPromptEffortLevel := _rec."DefaultPromptEffortLevel";
        p_MJAIAgents_ParentID_ChatHandlingOption := _rec."ChatHandlingOption";
        p_MJAIAgents_ParentID_DefaultArtifactTypeID := _rec."DefaultArtifactTypeID";
        p_MJAIAgents_ParentID_OwnerUserID := _rec."OwnerUserID";
        p_MJAIAgents_ParentID_InvocationMode := _rec."InvocationMode";
        p_MJAIAgents_ParentID_ArtifactCreationMode := _rec."ArtifactCreationMode";
        p_MJAIAgents_ParentID_FunctionalRequirements := _rec."FunctionalRequirements";
        p_MJAIAgents_ParentID_TechnicalDesign := _rec."TechnicalDesign";
        p_MJAIAgents_ParentID_InjectNotes := _rec."InjectNotes";
        p_MJAIAgents_ParentID_MaxNotesToInject := _rec."MaxNotesToInject";
        p_MJAIAgents_ParentID_NoteInjectionStrategy := _rec."NoteInjectionStrategy";
        p_MJAIAgents_ParentID_InjectExamples := _rec."InjectExamples";
        p_MJAIAgents_ParentID_MaxExamplesToInject := _rec."MaxExamplesToInject";
        p_MJAIAgents_ParentID_ExampleInjectionStrategy := _rec."ExampleInjectionStrategy";
        p_MJAIAgents_ParentID_IsRestricted := _rec."IsRestricted";
        p_MJAIAgents_ParentID_MessageMode := _rec."MessageMode";
        p_MJAIAgents_ParentID_MaxMessages := _rec."MaxMessages";
        p_MJAIAgents_ParentID_AttachmentStorageProviderID := _rec."AttachmentStorageProviderID";
        p_MJAIAgents_ParentID_AttachmentRootPath := _rec."AttachmentRootPath";
        p_MJAIAgents_ParentID_InlineStorageThresholdBytes := _rec."InlineStorageThresholdBytes";
        p_MJAIAgents_ParentID_AgentTypePromptParams := _rec."AgentTypePromptParams";
        p_MJAIAgents_ParentID_ScopeConfig := _rec."ScopeConfig";
        p_MJAIAgents_ParentID_NoteRetentionDays := _rec."NoteRetentionDays";
        p_MJAIAgents_ParentID_ExampleRetentionDays := _rec."ExampleRetentionDays";
        p_MJAIAgents_ParentID_AutoArchiveEnabled := _rec."AutoArchiveEnabled";
        p_MJAIAgents_ParentID_RerankerConfiguration := _rec."RerankerConfiguration";
        -- Set the FK field to NULL
        p_MJAIAgents_ParentID_ParentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgent"(p_MJAIAgents_ParentIDID, p_MJAIAgents_ParentID_Name, p_MJAIAgents_ParentID_Description, p_MJAIAgents_ParentID_LogoURL, p_MJAIAgents_ParentID_ParentID, p_MJAIAgents_ParentID_ExposeAsAction, p_MJAIAgents_ParentID_ExecutionOrder, p_MJAIAgents_ParentID_ExecutionMode, p_MJAIAgents_ParentID_EnableContextCompression, p_MJAIAgents_ParentID_ContextCompressionMessageThreshold, p_MJAIAgents_ParentID_ContextCompressionPromptID, p_MJAIAgents_ParentID_ContextCompressionMessageRetentionCount, p_MJAIAgents_ParentID_TypeID, p_MJAIAgents_ParentID_Status, p_MJAIAgents_ParentID_DriverClass, p_MJAIAgents_ParentID_IconClass, p_MJAIAgents_ParentID_ModelSelectionMode, p_MJAIAgents_ParentID_PayloadDownstreamPaths, p_MJAIAgents_ParentID_PayloadUpstreamPaths, p_MJAIAgents_ParentID_PayloadSelfReadPaths, p_MJAIAgents_ParentID_PayloadSelfWritePaths, p_MJAIAgents_ParentID_PayloadScope, p_MJAIAgents_ParentID_FinalPayloadValidation, p_MJAIAgents_ParentID_FinalPayloadValidationMode, p_MJAIAgents_ParentID_FinalPayloadValidationMaxRetries, p_MJAIAgents_ParentID_MaxCostPerRun, p_MJAIAgents_ParentID_MaxTokensPerRun, p_MJAIAgents_ParentID_MaxIterationsPerRun, p_MJAIAgents_ParentID_MaxTimePerRun, p_MJAIAgents_ParentID_MinExecutionsPerRun, p_MJAIAgents_ParentID_MaxExecutionsPerRun, p_MJAIAgents_ParentID_StartingPayloadValidation, p_MJAIAgents_ParentID_StartingPayloadValidationMode, p_MJAIAgents_ParentID_DefaultPromptEffortLevel, p_MJAIAgents_ParentID_ChatHandlingOption, p_MJAIAgents_ParentID_DefaultArtifactTypeID, p_MJAIAgents_ParentID_OwnerUserID, p_MJAIAgents_ParentID_InvocationMode, p_MJAIAgents_ParentID_ArtifactCreationMode, p_MJAIAgents_ParentID_FunctionalRequirements, p_MJAIAgents_ParentID_TechnicalDesign, p_MJAIAgents_ParentID_InjectNotes, p_MJAIAgents_ParentID_MaxNotesToInject, p_MJAIAgents_ParentID_NoteInjectionStrategy, p_MJAIAgents_ParentID_InjectExamples, p_MJAIAgents_ParentID_MaxExamplesToInject, p_MJAIAgents_ParentID_ExampleInjectionStrategy, p_MJAIAgents_ParentID_IsRestricted, p_MJAIAgents_ParentID_MessageMode, p_MJAIAgents_ParentID_MaxMessages, p_MJAIAgents_ParentID_AttachmentStorageProviderID, p_MJAIAgents_ParentID_AttachmentRootPath, p_MJAIAgents_ParentID_InlineStorageThresholdBytes, p_MJAIAgents_ParentID_AgentTypePromptParams, p_MJAIAgents_ParentID_ScopeConfig, p_MJAIAgents_ParentID_NoteRetentionDays, p_MJAIAgents_ParentID_ExampleRetentionDays, p_MJAIAgents_ParentID_AutoArchiveEnabled, p_MJAIAgents_ParentID_RerankerConfiguration);

    END LOOP;

    
    -- Cascade update on AIPromptRun using cursor to call spUpdateAIPromptRun


    FOR _rec IN SELECT "ID", "PromptID", "ModelID", "VendorID", "AgentID", "ConfigurationID", "RunAt", "CompletedAt", "ExecutionTimeMS", "Messages", "Result", "TokensUsed", "TokensPrompt", "TokensCompletion", "TotalCost", "Success", "ErrorMessage", "ParentID", "RunType", "ExecutionOrder", "AgentRunID", "Cost", "CostCurrency", "TokensUsedRollup", "TokensPromptRollup", "TokensCompletionRollup", "Temperature", "TopP", "TopK", "MinP", "FrequencyPenalty", "PresencePenalty", "Seed", "StopSequences", "ResponseFormat", "LogProbs", "TopLogProbs", "DescendantCost", "ValidationAttemptCount", "SuccessfulValidationCount", "FinalValidationPassed", "ValidationBehavior", "RetryStrategy", "MaxRetriesConfigured", "FinalValidationError", "ValidationErrorCount", "CommonValidationError", "FirstAttemptAt", "LastAttemptAt", "TotalRetryDurationMS", "ValidationAttempts", "ValidationSummary", "FailoverAttempts", "FailoverErrors", "FailoverDurations", "OriginalModelID", "OriginalRequestStartTime", "TotalFailoverDuration", "RerunFromPromptRunID", "ModelSelection", "Status", "Cancelled", "CancellationReason", "ModelPowerRank", "SelectionStrategy", "CacheHit", "CacheKey", "JudgeID", "JudgeScore", "WasSelectedResult", "StreamingEnabled", "FirstTokenTime", "ErrorDetails", "ChildPromptID", "QueueTime", "PromptTime", "CompletionTime", "ModelSpecificResponseDetails", "EffortLevel", "RunName", "Comments", "TestRunID" FROM __mj."AIPromptRun" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIPromptRuns_AgentIDID := _rec."ID";
        p_MJAIPromptRuns_AgentID_PromptID := _rec."PromptID";
        p_MJAIPromptRuns_AgentID_ModelID := _rec."ModelID";
        p_MJAIPromptRuns_AgentID_VendorID := _rec."VendorID";
        p_MJAIPromptRuns_AgentID_AgentID := _rec."AgentID";
        p_MJAIPromptRuns_AgentID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIPromptRuns_AgentID_RunAt := _rec."RunAt";
        p_MJAIPromptRuns_AgentID_CompletedAt := _rec."CompletedAt";
        p_MJAIPromptRuns_AgentID_ExecutionTimeMS := _rec."ExecutionTimeMS";
        p_MJAIPromptRuns_AgentID_Messages := _rec."Messages";
        p_MJAIPromptRuns_AgentID_Result := _rec."Result";
        p_MJAIPromptRuns_AgentID_TokensUsed := _rec."TokensUsed";
        p_MJAIPromptRuns_AgentID_TokensPrompt := _rec."TokensPrompt";
        p_MJAIPromptRuns_AgentID_TokensCompletion := _rec."TokensCompletion";
        p_MJAIPromptRuns_AgentID_TotalCost := _rec."TotalCost";
        p_MJAIPromptRuns_AgentID_Success := _rec."Success";
        p_MJAIPromptRuns_AgentID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIPromptRuns_AgentID_ParentID := _rec."ParentID";
        p_MJAIPromptRuns_AgentID_RunType := _rec."RunType";
        p_MJAIPromptRuns_AgentID_ExecutionOrder := _rec."ExecutionOrder";
        p_MJAIPromptRuns_AgentID_AgentRunID := _rec."AgentRunID";
        p_MJAIPromptRuns_AgentID_Cost := _rec."Cost";
        p_MJAIPromptRuns_AgentID_CostCurrency := _rec."CostCurrency";
        p_MJAIPromptRuns_AgentID_TokensUsedRollup := _rec."TokensUsedRollup";
        p_MJAIPromptRuns_AgentID_TokensPromptRollup := _rec."TokensPromptRollup";
        p_MJAIPromptRuns_AgentID_TokensCompletionRollup := _rec."TokensCompletionRollup";
        p_MJAIPromptRuns_AgentID_Temperature := _rec."Temperature";
        p_MJAIPromptRuns_AgentID_TopP := _rec."TopP";
        p_MJAIPromptRuns_AgentID_TopK := _rec."TopK";
        p_MJAIPromptRuns_AgentID_MinP := _rec."MinP";
        p_MJAIPromptRuns_AgentID_FrequencyPenalty := _rec."FrequencyPenalty";
        p_MJAIPromptRuns_AgentID_PresencePenalty := _rec."PresencePenalty";
        p_MJAIPromptRuns_AgentID_Seed := _rec."Seed";
        p_MJAIPromptRuns_AgentID_StopSequences := _rec."StopSequences";
        p_MJAIPromptRuns_AgentID_ResponseFormat := _rec."ResponseFormat";
        p_MJAIPromptRuns_AgentID_LogProbs := _rec."LogProbs";
        p_MJAIPromptRuns_AgentID_TopLogProbs := _rec."TopLogProbs";
        p_MJAIPromptRuns_AgentID_DescendantCost := _rec."DescendantCost";
        p_MJAIPromptRuns_AgentID_ValidationAttemptCount := _rec."ValidationAttemptCount";
        p_MJAIPromptRuns_AgentID_SuccessfulValidationCount := _rec."SuccessfulValidationCount";
        p_MJAIPromptRuns_AgentID_FinalValidationPassed := _rec."FinalValidationPassed";
        p_MJAIPromptRuns_AgentID_ValidationBehavior := _rec."ValidationBehavior";
        p_MJAIPromptRuns_AgentID_RetryStrategy := _rec."RetryStrategy";
        p_MJAIPromptRuns_AgentID_MaxRetriesConfigured := _rec."MaxRetriesConfigured";
        p_MJAIPromptRuns_AgentID_FinalValidationError := _rec."FinalValidationError";
        p_MJAIPromptRuns_AgentID_ValidationErrorCount := _rec."ValidationErrorCount";
        p_MJAIPromptRuns_AgentID_CommonValidationError := _rec."CommonValidationError";
        p_MJAIPromptRuns_AgentID_FirstAttemptAt := _rec."FirstAttemptAt";
        p_MJAIPromptRuns_AgentID_LastAttemptAt := _rec."LastAttemptAt";
        p_MJAIPromptRuns_AgentID_TotalRetryDurationMS := _rec."TotalRetryDurationMS";
        p_MJAIPromptRuns_AgentID_ValidationAttempts := _rec."ValidationAttempts";
        p_MJAIPromptRuns_AgentID_ValidationSummary := _rec."ValidationSummary";
        p_MJAIPromptRuns_AgentID_FailoverAttempts := _rec."FailoverAttempts";
        p_MJAIPromptRuns_AgentID_FailoverErrors := _rec."FailoverErrors";
        p_MJAIPromptRuns_AgentID_FailoverDurations := _rec."FailoverDurations";
        p_MJAIPromptRuns_AgentID_OriginalModelID := _rec."OriginalModelID";
        p_MJAIPromptRuns_AgentID_OriginalRequestStartTime := _rec."OriginalRequestStartTime";
        p_MJAIPromptRuns_AgentID_TotalFailoverDuration := _rec."TotalFailoverDuration";
        p_MJAIPromptRuns_AgentID_RerunFromPromptRunID := _rec."RerunFromPromptRunID";
        p_MJAIPromptRuns_AgentID_ModelSelection := _rec."ModelSelection";
        p_MJAIPromptRuns_AgentID_Status := _rec."Status";
        p_MJAIPromptRuns_AgentID_Cancelled := _rec."Cancelled";
        p_MJAIPromptRuns_AgentID_CancellationReason := _rec."CancellationReason";
        p_MJAIPromptRuns_AgentID_ModelPowerRank := _rec."ModelPowerRank";
        p_MJAIPromptRuns_AgentID_SelectionStrategy := _rec."SelectionStrategy";
        p_MJAIPromptRuns_AgentID_CacheHit := _rec."CacheHit";
        p_MJAIPromptRuns_AgentID_CacheKey := _rec."CacheKey";
        p_MJAIPromptRuns_AgentID_JudgeID := _rec."JudgeID";
        p_MJAIPromptRuns_AgentID_JudgeScore := _rec."JudgeScore";
        p_MJAIPromptRuns_AgentID_WasSelectedResult := _rec."WasSelectedResult";
        p_MJAIPromptRuns_AgentID_StreamingEnabled := _rec."StreamingEnabled";
        p_MJAIPromptRuns_AgentID_FirstTokenTime := _rec."FirstTokenTime";
        p_MJAIPromptRuns_AgentID_ErrorDetails := _rec."ErrorDetails";
        p_MJAIPromptRuns_AgentID_ChildPromptID := _rec."ChildPromptID";
        p_MJAIPromptRuns_AgentID_QueueTime := _rec."QueueTime";
        p_MJAIPromptRuns_AgentID_PromptTime := _rec."PromptTime";
        p_MJAIPromptRuns_AgentID_CompletionTime := _rec."CompletionTime";
        p_MJAIPromptRuns_AgentID_ModelSpecificResponseDetails := _rec."ModelSpecificResponseDetails";
        p_MJAIPromptRuns_AgentID_EffortLevel := _rec."EffortLevel";
        p_MJAIPromptRuns_AgentID_RunName := _rec."RunName";
        p_MJAIPromptRuns_AgentID_Comments := _rec."Comments";
        p_MJAIPromptRuns_AgentID_TestRunID := _rec."TestRunID";
        -- Set the FK field to NULL
        p_MJAIPromptRuns_AgentID_AgentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIPromptRun"(p_MJAIPromptRuns_AgentIDID, p_MJAIPromptRuns_AgentID_PromptID, p_MJAIPromptRuns_AgentID_ModelID, p_MJAIPromptRuns_AgentID_VendorID, p_MJAIPromptRuns_AgentID_AgentID, p_MJAIPromptRuns_AgentID_ConfigurationID, p_MJAIPromptRuns_AgentID_RunAt, p_MJAIPromptRuns_AgentID_CompletedAt, p_MJAIPromptRuns_AgentID_ExecutionTimeMS, p_MJAIPromptRuns_AgentID_Messages, p_MJAIPromptRuns_AgentID_Result, p_MJAIPromptRuns_AgentID_TokensUsed, p_MJAIPromptRuns_AgentID_TokensPrompt, p_MJAIPromptRuns_AgentID_TokensCompletion, p_MJAIPromptRuns_AgentID_TotalCost, p_MJAIPromptRuns_AgentID_Success, p_MJAIPromptRuns_AgentID_ErrorMessage, p_MJAIPromptRuns_AgentID_ParentID, p_MJAIPromptRuns_AgentID_RunType, p_MJAIPromptRuns_AgentID_ExecutionOrder, p_MJAIPromptRuns_AgentID_AgentRunID, p_MJAIPromptRuns_AgentID_Cost, p_MJAIPromptRuns_AgentID_CostCurrency, p_MJAIPromptRuns_AgentID_TokensUsedRollup, p_MJAIPromptRuns_AgentID_TokensPromptRollup, p_MJAIPromptRuns_AgentID_TokensCompletionRollup, p_MJAIPromptRuns_AgentID_Temperature, p_MJAIPromptRuns_AgentID_TopP, p_MJAIPromptRuns_AgentID_TopK, p_MJAIPromptRuns_AgentID_MinP, p_MJAIPromptRuns_AgentID_FrequencyPenalty, p_MJAIPromptRuns_AgentID_PresencePenalty, p_MJAIPromptRuns_AgentID_Seed, p_MJAIPromptRuns_AgentID_StopSequences, p_MJAIPromptRuns_AgentID_ResponseFormat, p_MJAIPromptRuns_AgentID_LogProbs, p_MJAIPromptRuns_AgentID_TopLogProbs, p_MJAIPromptRuns_AgentID_DescendantCost, p_MJAIPromptRuns_AgentID_ValidationAttemptCount, p_MJAIPromptRuns_AgentID_SuccessfulValidationCount, p_MJAIPromptRuns_AgentID_FinalValidationPassed, p_MJAIPromptRuns_AgentID_ValidationBehavior, p_MJAIPromptRuns_AgentID_RetryStrategy, p_MJAIPromptRuns_AgentID_MaxRetriesConfigured, p_MJAIPromptRuns_AgentID_FinalValidationError, p_MJAIPromptRuns_AgentID_ValidationErrorCount, p_MJAIPromptRuns_AgentID_CommonValidationError, p_MJAIPromptRuns_AgentID_FirstAttemptAt, p_MJAIPromptRuns_AgentID_LastAttemptAt, p_MJAIPromptRuns_AgentID_TotalRetryDurationMS, p_MJAIPromptRuns_AgentID_ValidationAttempts, p_MJAIPromptRuns_AgentID_ValidationSummary, p_MJAIPromptRuns_AgentID_FailoverAttempts, p_MJAIPromptRuns_AgentID_FailoverErrors, p_MJAIPromptRuns_AgentID_FailoverDurations, p_MJAIPromptRuns_AgentID_OriginalModelID, p_MJAIPromptRuns_AgentID_OriginalRequestStartTime, p_MJAIPromptRuns_AgentID_TotalFailoverDuration, p_MJAIPromptRuns_AgentID_RerunFromPromptRunID, p_MJAIPromptRuns_AgentID_ModelSelection, p_MJAIPromptRuns_AgentID_Status, p_MJAIPromptRuns_AgentID_Cancelled, p_MJAIPromptRuns_AgentID_CancellationReason, p_MJAIPromptRuns_AgentID_ModelPowerRank, p_MJAIPromptRuns_AgentID_SelectionStrategy, p_MJAIPromptRuns_AgentID_CacheHit, p_MJAIPromptRuns_AgentID_CacheKey, p_MJAIPromptRuns_AgentID_JudgeID, p_MJAIPromptRuns_AgentID_JudgeScore, p_MJAIPromptRuns_AgentID_WasSelectedResult, p_MJAIPromptRuns_AgentID_StreamingEnabled, p_MJAIPromptRuns_AgentID_FirstTokenTime, p_MJAIPromptRuns_AgentID_ErrorDetails, p_MJAIPromptRuns_AgentID_ChildPromptID, p_MJAIPromptRuns_AgentID_QueueTime, p_MJAIPromptRuns_AgentID_PromptTime, p_MJAIPromptRuns_AgentID_CompletionTime, p_MJAIPromptRuns_AgentID_ModelSpecificResponseDetails, p_MJAIPromptRuns_AgentID_EffortLevel, p_MJAIPromptRuns_AgentID_RunName, p_MJAIPromptRuns_AgentID_Comments, p_MJAIPromptRuns_AgentID_TestRunID);

    END LOOP;

    
    -- Cascade update on AIResultCache using cursor to call spUpdateAIResultCache


    FOR _rec IN SELECT "ID", "AIPromptID", "AIModelID", "RunAt", "PromptText", "ResultText", "Status", "ExpiredOn", "VendorID", "AgentID", "ConfigurationID", "PromptEmbedding", "PromptRunID" FROM __mj."AIResultCache" WHERE "AgentID" = p_ID
    LOOP
        p_MJAIResultCache_AgentIDID := _rec."ID";
        p_MJAIResultCache_AgentID_AIPromptID := _rec."AIPromptID";
        p_MJAIResultCache_AgentID_AIModelID := _rec."AIModelID";
        p_MJAIResultCache_AgentID_RunAt := _rec."RunAt";
        p_MJAIResultCache_AgentID_PromptText := _rec."PromptText";
        p_MJAIResultCache_AgentID_ResultText := _rec."ResultText";
        p_MJAIResultCache_AgentID_Status := _rec."Status";
        p_MJAIResultCache_AgentID_ExpiredOn := _rec."ExpiredOn";
        p_MJAIResultCache_AgentID_VendorID := _rec."VendorID";
        p_MJAIResultCache_AgentID_AgentID := _rec."AgentID";
        p_MJAIResultCache_AgentID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIResultCache_AgentID_PromptEmbedding := _rec."PromptEmbedding";
        p_MJAIResultCache_AgentID_PromptRunID := _rec."PromptRunID";
        -- Set the FK field to NULL
        p_MJAIResultCache_AgentID_AgentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIResultCache"(p_MJAIResultCache_AgentIDID, p_MJAIResultCache_AgentID_AIPromptID, p_MJAIResultCache_AgentID_AIModelID, p_MJAIResultCache_AgentID_RunAt, p_MJAIResultCache_AgentID_PromptText, p_MJAIResultCache_AgentID_ResultText, p_MJAIResultCache_AgentID_Status, p_MJAIResultCache_AgentID_ExpiredOn, p_MJAIResultCache_AgentID_VendorID, p_MJAIResultCache_AgentID_AgentID, p_MJAIResultCache_AgentID_ConfigurationID, p_MJAIResultCache_AgentID_PromptEmbedding, p_MJAIResultCache_AgentID_PromptRunID);

    END LOOP;

    
    -- Cascade update on ConversationDetail using cursor to call spUpdateConversationDetail


    FOR _rec IN SELECT "ID", "ConversationID", "ExternalID", "Role", "Message", "Error", "HiddenToUser", "UserRating", "UserFeedback", "ReflectionInsights", "SummaryOfEarlierConversation", "UserID", "ArtifactID", "ArtifactVersionID", "CompletionTime", "IsPinned", "ParentID", "AgentID", "Status", "SuggestedResponses", "TestRunID", "ResponseForm", "ActionableCommands", "AutomaticCommands", "OriginalMessageChanged" FROM __mj."ConversationDetail" WHERE "AgentID" = p_ID
    LOOP
        p_MJConversationDetails_AgentIDID := _rec."ID";
        p_MJConversationDetails_AgentID_ConversationID := _rec."ConversationID";
        p_MJConversationDetails_AgentID_ExternalID := _rec."ExternalID";
        p_MJConversationDetails_AgentID_Role := _rec."Role";
        p_MJConversationDetails_AgentID_Message := _rec."Message";
        p_MJConversationDetails_AgentID_Error := _rec."Error";
        p_MJConversationDetails_AgentID_HiddenToUser := _rec."HiddenToUser";
        p_MJConversationDetails_AgentID_UserRating := _rec."UserRating";
        p_MJConversationDetails_AgentID_UserFeedback := _rec."UserFeedback";
        p_MJConversationDetails_AgentID_ReflectionInsights := _rec."ReflectionInsights";
        p_MJConversationDetails_AgentID_SummaryOfEarlierConversation := _rec."SummaryOfEarlierConversation";
        p_MJConversationDetails_AgentID_UserID := _rec."UserID";
        p_MJConversationDetails_AgentID_ArtifactID := _rec."ArtifactID";
        p_MJConversationDetails_AgentID_ArtifactVersionID := _rec."ArtifactVersionID";
        p_MJConversationDetails_AgentID_CompletionTime := _rec."CompletionTime";
        p_MJConversationDetails_AgentID_IsPinned := _rec."IsPinned";
        p_MJConversationDetails_AgentID_ParentID := _rec."ParentID";
        p_MJConversationDetails_AgentID_AgentID := _rec."AgentID";
        p_MJConversationDetails_AgentID_Status := _rec."Status";
        p_MJConversationDetails_AgentID_SuggestedResponses := _rec."SuggestedResponses";
        p_MJConversationDetails_AgentID_TestRunID := _rec."TestRunID";
        p_MJConversationDetails_AgentID_ResponseForm := _rec."ResponseForm";
        p_MJConversationDetails_AgentID_ActionableCommands := _rec."ActionableCommands";
        p_MJConversationDetails_AgentID_AutomaticCommands := _rec."AutomaticCommands";
        p_MJConversationDetails_AgentID_OriginalMessageChanged := _rec."OriginalMessageChanged";
        -- Set the FK field to NULL
        p_MJConversationDetails_AgentID_AgentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateConversationDetail"(p_MJConversationDetails_AgentIDID, p_MJConversationDetails_AgentID_ConversationID, p_MJConversationDetails_AgentID_ExternalID, p_MJConversationDetails_AgentID_Role, p_MJConversationDetails_AgentID_Message, p_MJConversationDetails_AgentID_Error, p_MJConversationDetails_AgentID_HiddenToUser, p_MJConversationDetails_AgentID_UserRating, p_MJConversationDetails_AgentID_UserFeedback, p_MJConversationDetails_AgentID_ReflectionInsights, p_MJConversationDetails_AgentID_SummaryOfEarlierConversation, p_MJConversationDetails_AgentID_UserID, p_MJConversationDetails_AgentID_ArtifactID, p_MJConversationDetails_AgentID_ArtifactVersionID, p_MJConversationDetails_AgentID_CompletionTime, p_MJConversationDetails_AgentID_IsPinned, p_MJConversationDetails_AgentID_ParentID, p_MJConversationDetails_AgentID_AgentID, p_MJConversationDetails_AgentID_Status, p_MJConversationDetails_AgentID_SuggestedResponses, p_MJConversationDetails_AgentID_TestRunID, p_MJConversationDetails_AgentID_ResponseForm, p_MJConversationDetails_AgentID_ActionableCommands, p_MJConversationDetails_AgentID_AutomaticCommands, p_MJConversationDetails_AgentID_OriginalMessageChanged);

    END LOOP;

    
    -- Cascade update on Task using cursor to call spUpdateTask


    FOR _rec IN SELECT "ID", "ParentID", "Name", "Description", "TypeID", "EnvironmentID", "ProjectID", "ConversationDetailID", "UserID", "AgentID", "Status", "PercentComplete", "DueAt", "StartedAt", "CompletedAt" FROM __mj."Task" WHERE "AgentID" = p_ID
    LOOP
        p_MJTasks_AgentIDID := _rec."ID";
        p_MJTasks_AgentID_ParentID := _rec."ParentID";
        p_MJTasks_AgentID_Name := _rec."Name";
        p_MJTasks_AgentID_Description := _rec."Description";
        p_MJTasks_AgentID_TypeID := _rec."TypeID";
        p_MJTasks_AgentID_EnvironmentID := _rec."EnvironmentID";
        p_MJTasks_AgentID_ProjectID := _rec."ProjectID";
        p_MJTasks_AgentID_ConversationDetailID := _rec."ConversationDetailID";
        p_MJTasks_AgentID_UserID := _rec."UserID";
        p_MJTasks_AgentID_AgentID := _rec."AgentID";
        p_MJTasks_AgentID_Status := _rec."Status";
        p_MJTasks_AgentID_PercentComplete := _rec."PercentComplete";
        p_MJTasks_AgentID_DueAt := _rec."DueAt";
        p_MJTasks_AgentID_StartedAt := _rec."StartedAt";
        p_MJTasks_AgentID_CompletedAt := _rec."CompletedAt";
        -- Set the FK field to NULL
        p_MJTasks_AgentID_AgentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateTask"(p_MJTasks_AgentIDID, p_MJTasks_AgentID_ParentID, p_MJTasks_AgentID_Name, p_MJTasks_AgentID_Description, p_MJTasks_AgentID_TypeID, p_MJTasks_AgentID_EnvironmentID, p_MJTasks_AgentID_ProjectID, p_MJTasks_AgentID_ConversationDetailID, p_MJTasks_AgentID_UserID, p_MJTasks_AgentID_AgentID, p_MJTasks_AgentID_Status, p_MJTasks_AgentID_PercentComplete, p_MJTasks_AgentID_DueAt, p_MJTasks_AgentID_StartedAt, p_MJTasks_AgentID_CompletedAt);

    END LOOP;

    

    DELETE FROM
        __mj."AIAgent"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIConfiguration"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_IsDefault BOOLEAN DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_DefaultPromptForContextCompressionID UUID DEFAULT NULL,
    IN p_DefaultPromptForContextSummarizationID UUID DEFAULT NULL,
    IN p_DefaultStorageProviderID UUID DEFAULT NULL,
    IN p_DefaultStorageRootPath VARCHAR(500) DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAIConfigurations" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIConfiguration"
            (
                "ID",
                "Name",
                "Description",
                "IsDefault",
                "Status",
                "DefaultPromptForContextCompressionID",
                "DefaultPromptForContextSummarizationID",
                "DefaultStorageProviderID",
                "DefaultStorageRootPath",
                "ParentID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                COALESCE(p_IsDefault, 0),
                COALESCE(p_Status, 'Active'),
                p_DefaultPromptForContextCompressionID,
                p_DefaultPromptForContextSummarizationID,
                p_DefaultStorageProviderID,
                p_DefaultStorageRootPath,
                p_ParentID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIConfiguration"
            (
                "Name",
                "Description",
                "IsDefault",
                "Status",
                "DefaultPromptForContextCompressionID",
                "DefaultPromptForContextSummarizationID",
                "DefaultStorageProviderID",
                "DefaultStorageRootPath",
                "ParentID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                COALESCE(p_IsDefault, 0),
                COALESCE(p_Status, 'Active'),
                p_DefaultPromptForContextCompressionID,
                p_DefaultPromptForContextSummarizationID,
                p_DefaultStorageProviderID,
                p_DefaultStorageRootPath,
                p_ParentID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIConfigurations" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIConfiguration"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_IsDefault BOOLEAN,
    IN p_Status VARCHAR(20),
    IN p_DefaultPromptForContextCompressionID UUID,
    IN p_DefaultPromptForContextSummarizationID UUID,
    IN p_DefaultStorageProviderID UUID,
    IN p_DefaultStorageRootPath VARCHAR(500),
    IN p_ParentID UUID
)
RETURNS SETOF __mj."vwAIConfigurations" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIConfiguration"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "IsDefault" = p_IsDefault,
        "Status" = p_Status,
        "DefaultPromptForContextCompressionID" = p_DefaultPromptForContextCompressionID,
        "DefaultPromptForContextSummarizationID" = p_DefaultPromptForContextSummarizationID,
        "DefaultStorageProviderID" = p_DefaultStorageProviderID,
        "DefaultStorageRootPath" = p_DefaultStorageRootPath,
        "ParentID" = p_ParentID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIConfigurations" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIConfigurations" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIModelAction"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AIModelID UUID DEFAULT NULL,
    IN p_AIActionID UUID DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwAIModelActions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIModelAction"
            (
                "ID",
                "AIModelID",
                "AIActionID",
                "IsActive"
            )
        VALUES
            (
                p_ID,
                p_AIModelID,
                p_AIActionID,
                COALESCE(p_IsActive, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIModelAction"
            (
                "AIModelID",
                "AIActionID",
                "IsActive"
            )
        VALUES
            (
                p_AIModelID,
                p_AIActionID,
                COALESCE(p_IsActive, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIModelActions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIModelAction"(
    IN p_ID UUID,
    IN p_AIModelID UUID,
    IN p_AIActionID UUID,
    IN p_IsActive BOOLEAN
)
RETURNS SETOF __mj."vwAIModelActions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIModelAction"
    SET
        "AIModelID" = p_AIModelID,
        "AIActionID" = p_AIActionID,
        "IsActive" = p_IsActive
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIModelActions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIModelActions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIModelAction"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIModelAction"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAICredentialBinding"(
    IN p_ID UUID DEFAULT NULL,
    IN p_CredentialID UUID DEFAULT NULL,
    IN p_BindingType VARCHAR(20) DEFAULT NULL,
    IN p_AIVendorID UUID DEFAULT NULL,
    IN p_AIModelVendorID UUID DEFAULT NULL,
    IN p_AIPromptModelID UUID DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwAICredentialBindings" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AICredentialBinding"
            (
                "ID",
                "CredentialID",
                "BindingType",
                "AIVendorID",
                "AIModelVendorID",
                "AIPromptModelID",
                "Priority",
                "IsActive"
            )
        VALUES
            (
                p_ID,
                p_CredentialID,
                p_BindingType,
                p_AIVendorID,
                p_AIModelVendorID,
                p_AIPromptModelID,
                COALESCE(p_Priority, 0),
                COALESCE(p_IsActive, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AICredentialBinding"
            (
                "CredentialID",
                "BindingType",
                "AIVendorID",
                "AIModelVendorID",
                "AIPromptModelID",
                "Priority",
                "IsActive"
            )
        VALUES
            (
                p_CredentialID,
                p_BindingType,
                p_AIVendorID,
                p_AIModelVendorID,
                p_AIPromptModelID,
                COALESCE(p_Priority, 0),
                COALESCE(p_IsActive, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAICredentialBindings" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAICredentialBinding"(
    IN p_ID UUID,
    IN p_CredentialID UUID,
    IN p_BindingType VARCHAR(20),
    IN p_AIVendorID UUID,
    IN p_AIModelVendorID UUID,
    IN p_AIPromptModelID UUID,
    IN p_Priority INTEGER,
    IN p_IsActive BOOLEAN
)
RETURNS SETOF __mj."vwAICredentialBindings" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AICredentialBinding"
    SET
        "CredentialID" = p_CredentialID,
        "BindingType" = p_BindingType,
        "AIVendorID" = p_AIVendorID,
        "AIModelVendorID" = p_AIModelVendorID,
        "AIPromptModelID" = p_AIPromptModelID,
        "Priority" = p_Priority,
        "IsActive" = p_IsActive
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAICredentialBindings" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAICredentialBindings" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAICredentialBinding"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AICredentialBinding"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIModelArchitecture"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ModelID UUID DEFAULT NULL,
    IN p_ArchitectureID UUID DEFAULT NULL,
    IN p_Rank INTEGER DEFAULT NULL,
    IN p_Weight NUMERIC(5,4) DEFAULT NULL,
    IN p_Notes VARCHAR(500) DEFAULT NULL
)
RETURNS SETOF __mj."vwAIModelArchitectures" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIModelArchitecture"
            (
                "ID",
                "ModelID",
                "ArchitectureID",
                "Rank",
                "Weight",
                "Notes"
            )
        VALUES
            (
                p_ID,
                p_ModelID,
                p_ArchitectureID,
                COALESCE(p_Rank, 1),
                p_Weight,
                p_Notes
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIModelArchitecture"
            (
                "ModelID",
                "ArchitectureID",
                "Rank",
                "Weight",
                "Notes"
            )
        VALUES
            (
                p_ModelID,
                p_ArchitectureID,
                COALESCE(p_Rank, 1),
                p_Weight,
                p_Notes
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIModelArchitectures" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIModelArchitecture"(
    IN p_ID UUID,
    IN p_ModelID UUID,
    IN p_ArchitectureID UUID,
    IN p_Rank INTEGER,
    IN p_Weight NUMERIC(5,4),
    IN p_Notes VARCHAR(500)
)
RETURNS SETOF __mj."vwAIModelArchitectures" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIModelArchitecture"
    SET
        "ModelID" = p_ModelID,
        "ArchitectureID" = p_ArchitectureID,
        "Rank" = p_Rank,
        "Weight" = p_Weight,
        "Notes" = p_Notes
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIModelArchitectures" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIModelArchitectures" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIModelArchitecture"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIModelArchitecture"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIConfiguration"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJAIAgentConfigurations_AIConfigurationIDID UUID;
    p_MJAIAgentConfigurations_AIConfigurationID_AgentID UUID;
    p_MJAIAgentConfigurations_AIConfigurationID_Name VARCHAR(100);
    p_MJAIAgentConfigurations_AIConfigurationID_DisplayName VARCHAR(200);
    p_MJAIAgentConfigurations_AIConfigurationID_Description TEXT;
    p_MJAIAgentConfigurations_AIConfigurationID_AIConfigurationID UUID;
    p_MJAIAgentConfigurations_AIConfigurationID_IsDefault BOOLEAN;
    p_MJAIAgentConfigurations_AIConfigurationID_Priority INTEGER;
    p_MJAIAgentConfigurations_AIConfigurationID_Status VARCHAR(20);
    p_MJAIAgentPrompts_ConfigurationIDID UUID;
    p_MJAIAgentRuns_ConfigurationIDID UUID;
    p_MJAIAgentRuns_ConfigurationID_AgentID UUID;
    p_MJAIAgentRuns_ConfigurationID_ParentRunID UUID;
    p_MJAIAgentRuns_ConfigurationID_Status VARCHAR(50);
    p_MJAIAgentRuns_ConfigurationID_StartedAt TIMESTAMPTZ;
    p_MJAIAgentRuns_ConfigurationID_CompletedAt TIMESTAMPTZ;
    p_MJAIAgentRuns_ConfigurationID_Success BOOLEAN;
    p_MJAIAgentRuns_ConfigurationID_ErrorMessage TEXT;
    p_MJAIAgentRuns_ConfigurationID_ConversationID UUID;
    p_MJAIAgentRuns_ConfigurationID_UserID UUID;
    p_MJAIAgentRuns_ConfigurationID_Result TEXT;
    p_MJAIAgentRuns_ConfigurationID_AgentState TEXT;
    p_MJAIAgentRuns_ConfigurationID_TotalTokensUsed INTEGER;
    p_MJAIAgentRuns_ConfigurationID_TotalCost NUMERIC(18,6);
    p_MJAIAgentRuns_ConfigurationID_TotalPromptTokensUsed INTEGER;
    p_MJAIAgentRuns_ConfigurationID_TotalCompletionTokensUsed INTEGER;
    p_MJAIAgentRuns_ConfigurationID_TotalTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_ConfigurationID_TotalPromptTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_ConfigurationID_TotalCompletionTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_ConfigurationID_TotalCostRollup NUMERIC(19,8);
    p_MJAIAgentRuns_ConfigurationID_ConversationDetailID UUID;
    p_MJAIAgentRuns_ConfigurationID_ConversationDetailSequence INTEGER;
    p_MJAIAgentRuns_ConfigurationID_CancellationReason VARCHAR(30);
    p_MJAIAgentRuns_ConfigurationID_FinalStep VARCHAR(30);
    p_MJAIAgentRuns_ConfigurationID_FinalPayload TEXT;
    p_MJAIAgentRuns_ConfigurationID_Message TEXT;
    p_MJAIAgentRuns_ConfigurationID_LastRunID UUID;
    p_MJAIAgentRuns_ConfigurationID_StartingPayload TEXT;
    p_MJAIAgentRuns_ConfigurationID_TotalPromptIterations INTEGER;
    p_MJAIAgentRuns_ConfigurationID_ConfigurationID UUID;
    p_MJAIAgentRuns_ConfigurationID_OverrideModelID UUID;
    p_MJAIAgentRuns_ConfigurationID_OverrideVendorID UUID;
    p_MJAIAgentRuns_ConfigurationID_Data TEXT;
    p_MJAIAgentRuns_ConfigurationID_Verbose BOOLEAN;
    p_MJAIAgentRuns_ConfigurationID_EffortLevel INTEGER;
    p_MJAIAgentRuns_ConfigurationID_RunName VARCHAR(255);
    p_MJAIAgentRuns_ConfigurationID_Comments TEXT;
    p_MJAIAgentRuns_ConfigurationID_ScheduledJobRunID UUID;
    p_MJAIAgentRuns_ConfigurationID_TestRunID UUID;
    p_MJAIAgentRuns_ConfigurationID_PrimaryScopeEntityID UUID;
    p_MJAIAgentRuns_ConfigurationID_PrimaryScopeRecordID VARCHAR(100);
    p_MJAIAgentRuns_ConfigurationID_SecondaryScopes TEXT;
    p_MJAIConfigurationParams_ConfigurationIDID UUID;
    p_MJAIConfigurations_ParentIDID UUID;
    p_MJAIConfigurations_ParentID_Name VARCHAR(100);
    p_MJAIConfigurations_ParentID_Description TEXT;
    p_MJAIConfigurations_ParentID_IsDefault BOOLEAN;
    p_MJAIConfigurations_ParentID_Status VARCHAR(20);
    p_MJAIConfigurations_ParentID_DefaultPromptForContextComp_77efd6 UUID;
    p_MJAIConfigurations_ParentID_DefaultPromptForContextSumm_ff5147 UUID;
    p_MJAIConfigurations_ParentID_DefaultStorageProviderID UUID;
    p_MJAIConfigurations_ParentID_DefaultStorageRootPath VARCHAR(500);
    p_MJAIConfigurations_ParentID_ParentID UUID;
    p_MJAIPromptModels_ConfigurationIDID UUID;
    p_MJAIPromptRuns_ConfigurationIDID UUID;
    p_MJAIPromptRuns_ConfigurationID_PromptID UUID;
    p_MJAIPromptRuns_ConfigurationID_ModelID UUID;
    p_MJAIPromptRuns_ConfigurationID_VendorID UUID;
    p_MJAIPromptRuns_ConfigurationID_AgentID UUID;
    p_MJAIPromptRuns_ConfigurationID_ConfigurationID UUID;
    p_MJAIPromptRuns_ConfigurationID_RunAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ConfigurationID_CompletedAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ConfigurationID_ExecutionTimeMS INTEGER;
    p_MJAIPromptRuns_ConfigurationID_Messages TEXT;
    p_MJAIPromptRuns_ConfigurationID_Result TEXT;
    p_MJAIPromptRuns_ConfigurationID_TokensUsed INTEGER;
    p_MJAIPromptRuns_ConfigurationID_TokensPrompt INTEGER;
    p_MJAIPromptRuns_ConfigurationID_TokensCompletion INTEGER;
    p_MJAIPromptRuns_ConfigurationID_TotalCost NUMERIC(18,6);
    p_MJAIPromptRuns_ConfigurationID_Success BOOLEAN;
    p_MJAIPromptRuns_ConfigurationID_ErrorMessage TEXT;
    p_MJAIPromptRuns_ConfigurationID_ParentID UUID;
    p_MJAIPromptRuns_ConfigurationID_RunType VARCHAR(20);
    p_MJAIPromptRuns_ConfigurationID_ExecutionOrder INTEGER;
    p_MJAIPromptRuns_ConfigurationID_AgentRunID UUID;
    p_MJAIPromptRuns_ConfigurationID_Cost NUMERIC(19,8);
    p_MJAIPromptRuns_ConfigurationID_CostCurrency VARCHAR(10);
    p_MJAIPromptRuns_ConfigurationID_TokensUsedRollup INTEGER;
    p_MJAIPromptRuns_ConfigurationID_TokensPromptRollup INTEGER;
    p_MJAIPromptRuns_ConfigurationID_TokensCompletionRollup INTEGER;
    p_MJAIPromptRuns_ConfigurationID_Temperature NUMERIC(3,2);
    p_MJAIPromptRuns_ConfigurationID_TopP NUMERIC(3,2);
    p_MJAIPromptRuns_ConfigurationID_TopK INTEGER;
    p_MJAIPromptRuns_ConfigurationID_MinP NUMERIC(3,2);
    p_MJAIPromptRuns_ConfigurationID_FrequencyPenalty NUMERIC(3,2);
    p_MJAIPromptRuns_ConfigurationID_PresencePenalty NUMERIC(3,2);
    p_MJAIPromptRuns_ConfigurationID_Seed INTEGER;
    p_MJAIPromptRuns_ConfigurationID_StopSequences TEXT;
    p_MJAIPromptRuns_ConfigurationID_ResponseFormat VARCHAR(50);
    p_MJAIPromptRuns_ConfigurationID_LogProbs BOOLEAN;
    p_MJAIPromptRuns_ConfigurationID_TopLogProbs INTEGER;
    p_MJAIPromptRuns_ConfigurationID_DescendantCost NUMERIC(18,6);
    p_MJAIPromptRuns_ConfigurationID_ValidationAttemptCount INTEGER;
    p_MJAIPromptRuns_ConfigurationID_SuccessfulValidationCount INTEGER;
    p_MJAIPromptRuns_ConfigurationID_FinalValidationPassed BOOLEAN;
    p_MJAIPromptRuns_ConfigurationID_ValidationBehavior VARCHAR(50);
    p_MJAIPromptRuns_ConfigurationID_RetryStrategy VARCHAR(50);
    p_MJAIPromptRuns_ConfigurationID_MaxRetriesConfigured INTEGER;
    p_MJAIPromptRuns_ConfigurationID_FinalValidationError VARCHAR(500);
    p_MJAIPromptRuns_ConfigurationID_ValidationErrorCount INTEGER;
    p_MJAIPromptRuns_ConfigurationID_CommonValidationError VARCHAR(255);
    p_MJAIPromptRuns_ConfigurationID_FirstAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ConfigurationID_LastAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ConfigurationID_TotalRetryDurationMS INTEGER;
    p_MJAIPromptRuns_ConfigurationID_ValidationAttempts TEXT;
    p_MJAIPromptRuns_ConfigurationID_ValidationSummary TEXT;
    p_MJAIPromptRuns_ConfigurationID_FailoverAttempts INTEGER;
    p_MJAIPromptRuns_ConfigurationID_FailoverErrors TEXT;
    p_MJAIPromptRuns_ConfigurationID_FailoverDurations TEXT;
    p_MJAIPromptRuns_ConfigurationID_OriginalModelID UUID;
    p_MJAIPromptRuns_ConfigurationID_OriginalRequestStartTime TIMESTAMPTZ;
    p_MJAIPromptRuns_ConfigurationID_TotalFailoverDuration INTEGER;
    p_MJAIPromptRuns_ConfigurationID_RerunFromPromptRunID UUID;
    p_MJAIPromptRuns_ConfigurationID_ModelSelection TEXT;
    p_MJAIPromptRuns_ConfigurationID_Status VARCHAR(50);
    p_MJAIPromptRuns_ConfigurationID_Cancelled BOOLEAN;
    p_MJAIPromptRuns_ConfigurationID_CancellationReason TEXT;
    p_MJAIPromptRuns_ConfigurationID_ModelPowerRank INTEGER;
    p_MJAIPromptRuns_ConfigurationID_SelectionStrategy VARCHAR(50);
    p_MJAIPromptRuns_ConfigurationID_CacheHit BOOLEAN;
    p_MJAIPromptRuns_ConfigurationID_CacheKey VARCHAR(500);
    p_MJAIPromptRuns_ConfigurationID_JudgeID UUID;
    p_MJAIPromptRuns_ConfigurationID_JudgeScore DOUBLE PRECISION;
    p_MJAIPromptRuns_ConfigurationID_WasSelectedResult BOOLEAN;
    p_MJAIPromptRuns_ConfigurationID_StreamingEnabled BOOLEAN;
    p_MJAIPromptRuns_ConfigurationID_FirstTokenTime INTEGER;
    p_MJAIPromptRuns_ConfigurationID_ErrorDetails TEXT;
    p_MJAIPromptRuns_ConfigurationID_ChildPromptID UUID;
    p_MJAIPromptRuns_ConfigurationID_QueueTime INTEGER;
    p_MJAIPromptRuns_ConfigurationID_PromptTime INTEGER;
    p_MJAIPromptRuns_ConfigurationID_CompletionTime INTEGER;
    p_MJAIPromptRuns_ConfigurationID_ModelSpecificResponseDetails TEXT;
    p_MJAIPromptRuns_ConfigurationID_EffortLevel INTEGER;
    p_MJAIPromptRuns_ConfigurationID_RunName VARCHAR(255);
    p_MJAIPromptRuns_ConfigurationID_Comments TEXT;
    p_MJAIPromptRuns_ConfigurationID_TestRunID UUID;
    p_MJAIResultCache_ConfigurationIDID UUID;
    p_MJAIResultCache_ConfigurationID_AIPromptID UUID;
    p_MJAIResultCache_ConfigurationID_AIModelID UUID;
    p_MJAIResultCache_ConfigurationID_RunAt TIMESTAMPTZ;
    p_MJAIResultCache_ConfigurationID_PromptText TEXT;
    p_MJAIResultCache_ConfigurationID_ResultText TEXT;
    p_MJAIResultCache_ConfigurationID_Status VARCHAR(50);
    p_MJAIResultCache_ConfigurationID_ExpiredOn TIMESTAMPTZ;
    p_MJAIResultCache_ConfigurationID_VendorID UUID;
    p_MJAIResultCache_ConfigurationID_AgentID UUID;
    p_MJAIResultCache_ConfigurationID_ConfigurationID UUID;
    p_MJAIResultCache_ConfigurationID_PromptEmbedding BYTEA;
    p_MJAIResultCache_ConfigurationID_PromptRunID UUID;
BEGIN
-- Cascade update on AIAgentConfiguration using cursor to call spUpdateAIAgentConfiguration


    FOR _rec IN SELECT "ID", "AgentID", "Name", "DisplayName", "Description", "AIConfigurationID", "IsDefault", "Priority", "Status" FROM __mj."AIAgentConfiguration" WHERE "AIConfigurationID" = p_ID
    LOOP
        p_MJAIAgentConfigurations_AIConfigurationIDID := _rec."ID";
        p_MJAIAgentConfigurations_AIConfigurationID_AgentID := _rec."AgentID";
        p_MJAIAgentConfigurations_AIConfigurationID_Name := _rec."Name";
        p_MJAIAgentConfigurations_AIConfigurationID_DisplayName := _rec."DisplayName";
        p_MJAIAgentConfigurations_AIConfigurationID_Description := _rec."Description";
        p_MJAIAgentConfigurations_AIConfigurationID_AIConfigurationID := _rec."AIConfigurationID";
        p_MJAIAgentConfigurations_AIConfigurationID_IsDefault := _rec."IsDefault";
        p_MJAIAgentConfigurations_AIConfigurationID_Priority := _rec."Priority";
        p_MJAIAgentConfigurations_AIConfigurationID_Status := _rec."Status";
        -- Set the FK field to NULL
        p_MJAIAgentConfigurations_AIConfigurationID_AIConfigurationID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentConfiguration"(p_MJAIAgentConfigurations_AIConfigurationIDID, p_MJAIAgentConfigurations_AIConfigurationID_AgentID, p_MJAIAgentConfigurations_AIConfigurationID_Name, p_MJAIAgentConfigurations_AIConfigurationID_DisplayName, p_MJAIAgentConfigurations_AIConfigurationID_Description, p_MJAIAgentConfigurations_AIConfigurationID_AIConfigurationID, p_MJAIAgentConfigurations_AIConfigurationID_IsDefault, p_MJAIAgentConfigurations_AIConfigurationID_Priority, p_MJAIAgentConfigurations_AIConfigurationID_Status);

    END LOOP;

    
    -- Cascade delete from AIAgentPrompt using cursor to call spDeleteAIAgentPrompt

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentPrompt" WHERE "ConfigurationID" = p_ID
    LOOP
        p_MJAIAgentPrompts_ConfigurationIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentPrompt"(p_MJAIAgentPrompts_ConfigurationIDID);
        
    END LOOP;
    
    
    -- Cascade update on AIAgentRun using cursor to call spUpdateAIAgentRun


    FOR _rec IN SELECT "ID", "AgentID", "ParentRunID", "Status", "StartedAt", "CompletedAt", "Success", "ErrorMessage", "ConversationID", "UserID", "Result", "AgentState", "TotalTokensUsed", "TotalCost", "TotalPromptTokensUsed", "TotalCompletionTokensUsed", "TotalTokensUsedRollup", "TotalPromptTokensUsedRollup", "TotalCompletionTokensUsedRollup", "TotalCostRollup", "ConversationDetailID", "ConversationDetailSequence", "CancellationReason", "FinalStep", "FinalPayload", "Message", "LastRunID", "StartingPayload", "TotalPromptIterations", "ConfigurationID", "OverrideModelID", "OverrideVendorID", "Data", "Verbose", "EffortLevel", "RunName", "Comments", "ScheduledJobRunID", "TestRunID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes" FROM __mj."AIAgentRun" WHERE "ConfigurationID" = p_ID
    LOOP
        p_MJAIAgentRuns_ConfigurationIDID := _rec."ID";
        p_MJAIAgentRuns_ConfigurationID_AgentID := _rec."AgentID";
        p_MJAIAgentRuns_ConfigurationID_ParentRunID := _rec."ParentRunID";
        p_MJAIAgentRuns_ConfigurationID_Status := _rec."Status";
        p_MJAIAgentRuns_ConfigurationID_StartedAt := _rec."StartedAt";
        p_MJAIAgentRuns_ConfigurationID_CompletedAt := _rec."CompletedAt";
        p_MJAIAgentRuns_ConfigurationID_Success := _rec."Success";
        p_MJAIAgentRuns_ConfigurationID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIAgentRuns_ConfigurationID_ConversationID := _rec."ConversationID";
        p_MJAIAgentRuns_ConfigurationID_UserID := _rec."UserID";
        p_MJAIAgentRuns_ConfigurationID_Result := _rec."Result";
        p_MJAIAgentRuns_ConfigurationID_AgentState := _rec."AgentState";
        p_MJAIAgentRuns_ConfigurationID_TotalTokensUsed := _rec."TotalTokensUsed";
        p_MJAIAgentRuns_ConfigurationID_TotalCost := _rec."TotalCost";
        p_MJAIAgentRuns_ConfigurationID_TotalPromptTokensUsed := _rec."TotalPromptTokensUsed";
        p_MJAIAgentRuns_ConfigurationID_TotalCompletionTokensUsed := _rec."TotalCompletionTokensUsed";
        p_MJAIAgentRuns_ConfigurationID_TotalTokensUsedRollup := _rec."TotalTokensUsedRollup";
        p_MJAIAgentRuns_ConfigurationID_TotalPromptTokensUsedRollup := _rec."TotalPromptTokensUsedRollup";
        p_MJAIAgentRuns_ConfigurationID_TotalCompletionTokensUsedRollup := _rec."TotalCompletionTokensUsedRollup";
        p_MJAIAgentRuns_ConfigurationID_TotalCostRollup := _rec."TotalCostRollup";
        p_MJAIAgentRuns_ConfigurationID_ConversationDetailID := _rec."ConversationDetailID";
        p_MJAIAgentRuns_ConfigurationID_ConversationDetailSequence := _rec."ConversationDetailSequence";
        p_MJAIAgentRuns_ConfigurationID_CancellationReason := _rec."CancellationReason";
        p_MJAIAgentRuns_ConfigurationID_FinalStep := _rec."FinalStep";
        p_MJAIAgentRuns_ConfigurationID_FinalPayload := _rec."FinalPayload";
        p_MJAIAgentRuns_ConfigurationID_Message := _rec."Message";
        p_MJAIAgentRuns_ConfigurationID_LastRunID := _rec."LastRunID";
        p_MJAIAgentRuns_ConfigurationID_StartingPayload := _rec."StartingPayload";
        p_MJAIAgentRuns_ConfigurationID_TotalPromptIterations := _rec."TotalPromptIterations";
        p_MJAIAgentRuns_ConfigurationID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIAgentRuns_ConfigurationID_OverrideModelID := _rec."OverrideModelID";
        p_MJAIAgentRuns_ConfigurationID_OverrideVendorID := _rec."OverrideVendorID";
        p_MJAIAgentRuns_ConfigurationID_Data := _rec."Data";
        p_MJAIAgentRuns_ConfigurationID_Verbose := _rec."Verbose";
        p_MJAIAgentRuns_ConfigurationID_EffortLevel := _rec."EffortLevel";
        p_MJAIAgentRuns_ConfigurationID_RunName := _rec."RunName";
        p_MJAIAgentRuns_ConfigurationID_Comments := _rec."Comments";
        p_MJAIAgentRuns_ConfigurationID_ScheduledJobRunID := _rec."ScheduledJobRunID";
        p_MJAIAgentRuns_ConfigurationID_TestRunID := _rec."TestRunID";
        p_MJAIAgentRuns_ConfigurationID_PrimaryScopeEntityID := _rec."PrimaryScopeEntityID";
        p_MJAIAgentRuns_ConfigurationID_PrimaryScopeRecordID := _rec."PrimaryScopeRecordID";
        p_MJAIAgentRuns_ConfigurationID_SecondaryScopes := _rec."SecondaryScopes";
        -- Set the FK field to NULL
        p_MJAIAgentRuns_ConfigurationID_ConfigurationID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentRun"(p_MJAIAgentRuns_ConfigurationIDID, p_MJAIAgentRuns_ConfigurationID_AgentID, p_MJAIAgentRuns_ConfigurationID_ParentRunID, p_MJAIAgentRuns_ConfigurationID_Status, p_MJAIAgentRuns_ConfigurationID_StartedAt, p_MJAIAgentRuns_ConfigurationID_CompletedAt, p_MJAIAgentRuns_ConfigurationID_Success, p_MJAIAgentRuns_ConfigurationID_ErrorMessage, p_MJAIAgentRuns_ConfigurationID_ConversationID, p_MJAIAgentRuns_ConfigurationID_UserID, p_MJAIAgentRuns_ConfigurationID_Result, p_MJAIAgentRuns_ConfigurationID_AgentState, p_MJAIAgentRuns_ConfigurationID_TotalTokensUsed, p_MJAIAgentRuns_ConfigurationID_TotalCost, p_MJAIAgentRuns_ConfigurationID_TotalPromptTokensUsed, p_MJAIAgentRuns_ConfigurationID_TotalCompletionTokensUsed, p_MJAIAgentRuns_ConfigurationID_TotalTokensUsedRollup, p_MJAIAgentRuns_ConfigurationID_TotalPromptTokensUsedRollup, p_MJAIAgentRuns_ConfigurationID_TotalCompletionTokensUsedRollup, p_MJAIAgentRuns_ConfigurationID_TotalCostRollup, p_MJAIAgentRuns_ConfigurationID_ConversationDetailID, p_MJAIAgentRuns_ConfigurationID_ConversationDetailSequence, p_MJAIAgentRuns_ConfigurationID_CancellationReason, p_MJAIAgentRuns_ConfigurationID_FinalStep, p_MJAIAgentRuns_ConfigurationID_FinalPayload, p_MJAIAgentRuns_ConfigurationID_Message, p_MJAIAgentRuns_ConfigurationID_LastRunID, p_MJAIAgentRuns_ConfigurationID_StartingPayload, p_MJAIAgentRuns_ConfigurationID_TotalPromptIterations, p_MJAIAgentRuns_ConfigurationID_ConfigurationID, p_MJAIAgentRuns_ConfigurationID_OverrideModelID, p_MJAIAgentRuns_ConfigurationID_OverrideVendorID, p_MJAIAgentRuns_ConfigurationID_Data, p_MJAIAgentRuns_ConfigurationID_Verbose, p_MJAIAgentRuns_ConfigurationID_EffortLevel, p_MJAIAgentRuns_ConfigurationID_RunName, p_MJAIAgentRuns_ConfigurationID_Comments, p_MJAIAgentRuns_ConfigurationID_ScheduledJobRunID, p_MJAIAgentRuns_ConfigurationID_TestRunID, p_MJAIAgentRuns_ConfigurationID_PrimaryScopeEntityID, p_MJAIAgentRuns_ConfigurationID_PrimaryScopeRecordID, p_MJAIAgentRuns_ConfigurationID_SecondaryScopes);

    END LOOP;

    
    -- Cascade delete from AIConfigurationParam using cursor to call spDeleteAIConfigurationParam

    FOR _rec IN SELECT "ID" FROM __mj."AIConfigurationParam" WHERE "ConfigurationID" = p_ID
    LOOP
        p_MJAIConfigurationParams_ConfigurationIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIConfigurationParam"(p_MJAIConfigurationParams_ConfigurationIDID);
        
    END LOOP;
    
    
    -- Cascade update on AIConfiguration using cursor to call spUpdateAIConfiguration


    FOR _rec IN SELECT "ID", "Name", "Description", "IsDefault", "Status", "DefaultPromptForContextCompressionID", "DefaultPromptForContextSummarizationID", "DefaultStorageProviderID", "DefaultStorageRootPath", "ParentID" FROM __mj."AIConfiguration" WHERE "ParentID" = p_ID
    LOOP
        p_MJAIConfigurations_ParentIDID := _rec."ID";
        p_MJAIConfigurations_ParentID_Name := _rec."Name";
        p_MJAIConfigurations_ParentID_Description := _rec."Description";
        p_MJAIConfigurations_ParentID_IsDefault := _rec."IsDefault";
        p_MJAIConfigurations_ParentID_Status := _rec."Status";
        p_MJAIConfigurations_ParentID_DefaultPromptForContextComp_77efd6 := _rec."DefaultPromptForContextCompressionID";
        p_MJAIConfigurations_ParentID_DefaultPromptForContextSumm_ff5147 := _rec."DefaultPromptForContextSummarizationID";
        p_MJAIConfigurations_ParentID_DefaultStorageProviderID := _rec."DefaultStorageProviderID";
        p_MJAIConfigurations_ParentID_DefaultStorageRootPath := _rec."DefaultStorageRootPath";
        p_MJAIConfigurations_ParentID_ParentID := _rec."ParentID";
        -- Set the FK field to NULL
        p_MJAIConfigurations_ParentID_ParentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIConfiguration"(p_MJAIConfigurations_ParentIDID, p_MJAIConfigurations_ParentID_Name, p_MJAIConfigurations_ParentID_Description, p_MJAIConfigurations_ParentID_IsDefault, p_MJAIConfigurations_ParentID_Status, p_MJAIConfigurations_ParentID_DefaultPromptForContextComp_77efd6, p_MJAIConfigurations_ParentID_DefaultPromptForContextSumm_ff5147, p_MJAIConfigurations_ParentID_DefaultStorageProviderID, p_MJAIConfigurations_ParentID_DefaultStorageRootPath, p_MJAIConfigurations_ParentID_ParentID);

    END LOOP;

    
    -- Cascade delete from AIPromptModel using cursor to call spDeleteAIPromptModel

    FOR _rec IN SELECT "ID" FROM __mj."AIPromptModel" WHERE "ConfigurationID" = p_ID
    LOOP
        p_MJAIPromptModels_ConfigurationIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIPromptModel"(p_MJAIPromptModels_ConfigurationIDID);
        
    END LOOP;
    
    
    -- Cascade update on AIPromptRun using cursor to call spUpdateAIPromptRun


    FOR _rec IN SELECT "ID", "PromptID", "ModelID", "VendorID", "AgentID", "ConfigurationID", "RunAt", "CompletedAt", "ExecutionTimeMS", "Messages", "Result", "TokensUsed", "TokensPrompt", "TokensCompletion", "TotalCost", "Success", "ErrorMessage", "ParentID", "RunType", "ExecutionOrder", "AgentRunID", "Cost", "CostCurrency", "TokensUsedRollup", "TokensPromptRollup", "TokensCompletionRollup", "Temperature", "TopP", "TopK", "MinP", "FrequencyPenalty", "PresencePenalty", "Seed", "StopSequences", "ResponseFormat", "LogProbs", "TopLogProbs", "DescendantCost", "ValidationAttemptCount", "SuccessfulValidationCount", "FinalValidationPassed", "ValidationBehavior", "RetryStrategy", "MaxRetriesConfigured", "FinalValidationError", "ValidationErrorCount", "CommonValidationError", "FirstAttemptAt", "LastAttemptAt", "TotalRetryDurationMS", "ValidationAttempts", "ValidationSummary", "FailoverAttempts", "FailoverErrors", "FailoverDurations", "OriginalModelID", "OriginalRequestStartTime", "TotalFailoverDuration", "RerunFromPromptRunID", "ModelSelection", "Status", "Cancelled", "CancellationReason", "ModelPowerRank", "SelectionStrategy", "CacheHit", "CacheKey", "JudgeID", "JudgeScore", "WasSelectedResult", "StreamingEnabled", "FirstTokenTime", "ErrorDetails", "ChildPromptID", "QueueTime", "PromptTime", "CompletionTime", "ModelSpecificResponseDetails", "EffortLevel", "RunName", "Comments", "TestRunID" FROM __mj."AIPromptRun" WHERE "ConfigurationID" = p_ID
    LOOP
        p_MJAIPromptRuns_ConfigurationIDID := _rec."ID";
        p_MJAIPromptRuns_ConfigurationID_PromptID := _rec."PromptID";
        p_MJAIPromptRuns_ConfigurationID_ModelID := _rec."ModelID";
        p_MJAIPromptRuns_ConfigurationID_VendorID := _rec."VendorID";
        p_MJAIPromptRuns_ConfigurationID_AgentID := _rec."AgentID";
        p_MJAIPromptRuns_ConfigurationID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIPromptRuns_ConfigurationID_RunAt := _rec."RunAt";
        p_MJAIPromptRuns_ConfigurationID_CompletedAt := _rec."CompletedAt";
        p_MJAIPromptRuns_ConfigurationID_ExecutionTimeMS := _rec."ExecutionTimeMS";
        p_MJAIPromptRuns_ConfigurationID_Messages := _rec."Messages";
        p_MJAIPromptRuns_ConfigurationID_Result := _rec."Result";
        p_MJAIPromptRuns_ConfigurationID_TokensUsed := _rec."TokensUsed";
        p_MJAIPromptRuns_ConfigurationID_TokensPrompt := _rec."TokensPrompt";
        p_MJAIPromptRuns_ConfigurationID_TokensCompletion := _rec."TokensCompletion";
        p_MJAIPromptRuns_ConfigurationID_TotalCost := _rec."TotalCost";
        p_MJAIPromptRuns_ConfigurationID_Success := _rec."Success";
        p_MJAIPromptRuns_ConfigurationID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIPromptRuns_ConfigurationID_ParentID := _rec."ParentID";
        p_MJAIPromptRuns_ConfigurationID_RunType := _rec."RunType";
        p_MJAIPromptRuns_ConfigurationID_ExecutionOrder := _rec."ExecutionOrder";
        p_MJAIPromptRuns_ConfigurationID_AgentRunID := _rec."AgentRunID";
        p_MJAIPromptRuns_ConfigurationID_Cost := _rec."Cost";
        p_MJAIPromptRuns_ConfigurationID_CostCurrency := _rec."CostCurrency";
        p_MJAIPromptRuns_ConfigurationID_TokensUsedRollup := _rec."TokensUsedRollup";
        p_MJAIPromptRuns_ConfigurationID_TokensPromptRollup := _rec."TokensPromptRollup";
        p_MJAIPromptRuns_ConfigurationID_TokensCompletionRollup := _rec."TokensCompletionRollup";
        p_MJAIPromptRuns_ConfigurationID_Temperature := _rec."Temperature";
        p_MJAIPromptRuns_ConfigurationID_TopP := _rec."TopP";
        p_MJAIPromptRuns_ConfigurationID_TopK := _rec."TopK";
        p_MJAIPromptRuns_ConfigurationID_MinP := _rec."MinP";
        p_MJAIPromptRuns_ConfigurationID_FrequencyPenalty := _rec."FrequencyPenalty";
        p_MJAIPromptRuns_ConfigurationID_PresencePenalty := _rec."PresencePenalty";
        p_MJAIPromptRuns_ConfigurationID_Seed := _rec."Seed";
        p_MJAIPromptRuns_ConfigurationID_StopSequences := _rec."StopSequences";
        p_MJAIPromptRuns_ConfigurationID_ResponseFormat := _rec."ResponseFormat";
        p_MJAIPromptRuns_ConfigurationID_LogProbs := _rec."LogProbs";
        p_MJAIPromptRuns_ConfigurationID_TopLogProbs := _rec."TopLogProbs";
        p_MJAIPromptRuns_ConfigurationID_DescendantCost := _rec."DescendantCost";
        p_MJAIPromptRuns_ConfigurationID_ValidationAttemptCount := _rec."ValidationAttemptCount";
        p_MJAIPromptRuns_ConfigurationID_SuccessfulValidationCount := _rec."SuccessfulValidationCount";
        p_MJAIPromptRuns_ConfigurationID_FinalValidationPassed := _rec."FinalValidationPassed";
        p_MJAIPromptRuns_ConfigurationID_ValidationBehavior := _rec."ValidationBehavior";
        p_MJAIPromptRuns_ConfigurationID_RetryStrategy := _rec."RetryStrategy";
        p_MJAIPromptRuns_ConfigurationID_MaxRetriesConfigured := _rec."MaxRetriesConfigured";
        p_MJAIPromptRuns_ConfigurationID_FinalValidationError := _rec."FinalValidationError";
        p_MJAIPromptRuns_ConfigurationID_ValidationErrorCount := _rec."ValidationErrorCount";
        p_MJAIPromptRuns_ConfigurationID_CommonValidationError := _rec."CommonValidationError";
        p_MJAIPromptRuns_ConfigurationID_FirstAttemptAt := _rec."FirstAttemptAt";
        p_MJAIPromptRuns_ConfigurationID_LastAttemptAt := _rec."LastAttemptAt";
        p_MJAIPromptRuns_ConfigurationID_TotalRetryDurationMS := _rec."TotalRetryDurationMS";
        p_MJAIPromptRuns_ConfigurationID_ValidationAttempts := _rec."ValidationAttempts";
        p_MJAIPromptRuns_ConfigurationID_ValidationSummary := _rec."ValidationSummary";
        p_MJAIPromptRuns_ConfigurationID_FailoverAttempts := _rec."FailoverAttempts";
        p_MJAIPromptRuns_ConfigurationID_FailoverErrors := _rec."FailoverErrors";
        p_MJAIPromptRuns_ConfigurationID_FailoverDurations := _rec."FailoverDurations";
        p_MJAIPromptRuns_ConfigurationID_OriginalModelID := _rec."OriginalModelID";
        p_MJAIPromptRuns_ConfigurationID_OriginalRequestStartTime := _rec."OriginalRequestStartTime";
        p_MJAIPromptRuns_ConfigurationID_TotalFailoverDuration := _rec."TotalFailoverDuration";
        p_MJAIPromptRuns_ConfigurationID_RerunFromPromptRunID := _rec."RerunFromPromptRunID";
        p_MJAIPromptRuns_ConfigurationID_ModelSelection := _rec."ModelSelection";
        p_MJAIPromptRuns_ConfigurationID_Status := _rec."Status";
        p_MJAIPromptRuns_ConfigurationID_Cancelled := _rec."Cancelled";
        p_MJAIPromptRuns_ConfigurationID_CancellationReason := _rec."CancellationReason";
        p_MJAIPromptRuns_ConfigurationID_ModelPowerRank := _rec."ModelPowerRank";
        p_MJAIPromptRuns_ConfigurationID_SelectionStrategy := _rec."SelectionStrategy";
        p_MJAIPromptRuns_ConfigurationID_CacheHit := _rec."CacheHit";
        p_MJAIPromptRuns_ConfigurationID_CacheKey := _rec."CacheKey";
        p_MJAIPromptRuns_ConfigurationID_JudgeID := _rec."JudgeID";
        p_MJAIPromptRuns_ConfigurationID_JudgeScore := _rec."JudgeScore";
        p_MJAIPromptRuns_ConfigurationID_WasSelectedResult := _rec."WasSelectedResult";
        p_MJAIPromptRuns_ConfigurationID_StreamingEnabled := _rec."StreamingEnabled";
        p_MJAIPromptRuns_ConfigurationID_FirstTokenTime := _rec."FirstTokenTime";
        p_MJAIPromptRuns_ConfigurationID_ErrorDetails := _rec."ErrorDetails";
        p_MJAIPromptRuns_ConfigurationID_ChildPromptID := _rec."ChildPromptID";
        p_MJAIPromptRuns_ConfigurationID_QueueTime := _rec."QueueTime";
        p_MJAIPromptRuns_ConfigurationID_PromptTime := _rec."PromptTime";
        p_MJAIPromptRuns_ConfigurationID_CompletionTime := _rec."CompletionTime";
        p_MJAIPromptRuns_ConfigurationID_ModelSpecificResponseDetails := _rec."ModelSpecificResponseDetails";
        p_MJAIPromptRuns_ConfigurationID_EffortLevel := _rec."EffortLevel";
        p_MJAIPromptRuns_ConfigurationID_RunName := _rec."RunName";
        p_MJAIPromptRuns_ConfigurationID_Comments := _rec."Comments";
        p_MJAIPromptRuns_ConfigurationID_TestRunID := _rec."TestRunID";
        -- Set the FK field to NULL
        p_MJAIPromptRuns_ConfigurationID_ConfigurationID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIPromptRun"(p_MJAIPromptRuns_ConfigurationIDID, p_MJAIPromptRuns_ConfigurationID_PromptID, p_MJAIPromptRuns_ConfigurationID_ModelID, p_MJAIPromptRuns_ConfigurationID_VendorID, p_MJAIPromptRuns_ConfigurationID_AgentID, p_MJAIPromptRuns_ConfigurationID_ConfigurationID, p_MJAIPromptRuns_ConfigurationID_RunAt, p_MJAIPromptRuns_ConfigurationID_CompletedAt, p_MJAIPromptRuns_ConfigurationID_ExecutionTimeMS, p_MJAIPromptRuns_ConfigurationID_Messages, p_MJAIPromptRuns_ConfigurationID_Result, p_MJAIPromptRuns_ConfigurationID_TokensUsed, p_MJAIPromptRuns_ConfigurationID_TokensPrompt, p_MJAIPromptRuns_ConfigurationID_TokensCompletion, p_MJAIPromptRuns_ConfigurationID_TotalCost, p_MJAIPromptRuns_ConfigurationID_Success, p_MJAIPromptRuns_ConfigurationID_ErrorMessage, p_MJAIPromptRuns_ConfigurationID_ParentID, p_MJAIPromptRuns_ConfigurationID_RunType, p_MJAIPromptRuns_ConfigurationID_ExecutionOrder, p_MJAIPromptRuns_ConfigurationID_AgentRunID, p_MJAIPromptRuns_ConfigurationID_Cost, p_MJAIPromptRuns_ConfigurationID_CostCurrency, p_MJAIPromptRuns_ConfigurationID_TokensUsedRollup, p_MJAIPromptRuns_ConfigurationID_TokensPromptRollup, p_MJAIPromptRuns_ConfigurationID_TokensCompletionRollup, p_MJAIPromptRuns_ConfigurationID_Temperature, p_MJAIPromptRuns_ConfigurationID_TopP, p_MJAIPromptRuns_ConfigurationID_TopK, p_MJAIPromptRuns_ConfigurationID_MinP, p_MJAIPromptRuns_ConfigurationID_FrequencyPenalty, p_MJAIPromptRuns_ConfigurationID_PresencePenalty, p_MJAIPromptRuns_ConfigurationID_Seed, p_MJAIPromptRuns_ConfigurationID_StopSequences, p_MJAIPromptRuns_ConfigurationID_ResponseFormat, p_MJAIPromptRuns_ConfigurationID_LogProbs, p_MJAIPromptRuns_ConfigurationID_TopLogProbs, p_MJAIPromptRuns_ConfigurationID_DescendantCost, p_MJAIPromptRuns_ConfigurationID_ValidationAttemptCount, p_MJAIPromptRuns_ConfigurationID_SuccessfulValidationCount, p_MJAIPromptRuns_ConfigurationID_FinalValidationPassed, p_MJAIPromptRuns_ConfigurationID_ValidationBehavior, p_MJAIPromptRuns_ConfigurationID_RetryStrategy, p_MJAIPromptRuns_ConfigurationID_MaxRetriesConfigured, p_MJAIPromptRuns_ConfigurationID_FinalValidationError, p_MJAIPromptRuns_ConfigurationID_ValidationErrorCount, p_MJAIPromptRuns_ConfigurationID_CommonValidationError, p_MJAIPromptRuns_ConfigurationID_FirstAttemptAt, p_MJAIPromptRuns_ConfigurationID_LastAttemptAt, p_MJAIPromptRuns_ConfigurationID_TotalRetryDurationMS, p_MJAIPromptRuns_ConfigurationID_ValidationAttempts, p_MJAIPromptRuns_ConfigurationID_ValidationSummary, p_MJAIPromptRuns_ConfigurationID_FailoverAttempts, p_MJAIPromptRuns_ConfigurationID_FailoverErrors, p_MJAIPromptRuns_ConfigurationID_FailoverDurations, p_MJAIPromptRuns_ConfigurationID_OriginalModelID, p_MJAIPromptRuns_ConfigurationID_OriginalRequestStartTime, p_MJAIPromptRuns_ConfigurationID_TotalFailoverDuration, p_MJAIPromptRuns_ConfigurationID_RerunFromPromptRunID, p_MJAIPromptRuns_ConfigurationID_ModelSelection, p_MJAIPromptRuns_ConfigurationID_Status, p_MJAIPromptRuns_ConfigurationID_Cancelled, p_MJAIPromptRuns_ConfigurationID_CancellationReason, p_MJAIPromptRuns_ConfigurationID_ModelPowerRank, p_MJAIPromptRuns_ConfigurationID_SelectionStrategy, p_MJAIPromptRuns_ConfigurationID_CacheHit, p_MJAIPromptRuns_ConfigurationID_CacheKey, p_MJAIPromptRuns_ConfigurationID_JudgeID, p_MJAIPromptRuns_ConfigurationID_JudgeScore, p_MJAIPromptRuns_ConfigurationID_WasSelectedResult, p_MJAIPromptRuns_ConfigurationID_StreamingEnabled, p_MJAIPromptRuns_ConfigurationID_FirstTokenTime, p_MJAIPromptRuns_ConfigurationID_ErrorDetails, p_MJAIPromptRuns_ConfigurationID_ChildPromptID, p_MJAIPromptRuns_ConfigurationID_QueueTime, p_MJAIPromptRuns_ConfigurationID_PromptTime, p_MJAIPromptRuns_ConfigurationID_CompletionTime, p_MJAIPromptRuns_ConfigurationID_ModelSpecificResponseDetails, p_MJAIPromptRuns_ConfigurationID_EffortLevel, p_MJAIPromptRuns_ConfigurationID_RunName, p_MJAIPromptRuns_ConfigurationID_Comments, p_MJAIPromptRuns_ConfigurationID_TestRunID);

    END LOOP;

    
    -- Cascade update on AIResultCache using cursor to call spUpdateAIResultCache


    FOR _rec IN SELECT "ID", "AIPromptID", "AIModelID", "RunAt", "PromptText", "ResultText", "Status", "ExpiredOn", "VendorID", "AgentID", "ConfigurationID", "PromptEmbedding", "PromptRunID" FROM __mj."AIResultCache" WHERE "ConfigurationID" = p_ID
    LOOP
        p_MJAIResultCache_ConfigurationIDID := _rec."ID";
        p_MJAIResultCache_ConfigurationID_AIPromptID := _rec."AIPromptID";
        p_MJAIResultCache_ConfigurationID_AIModelID := _rec."AIModelID";
        p_MJAIResultCache_ConfigurationID_RunAt := _rec."RunAt";
        p_MJAIResultCache_ConfigurationID_PromptText := _rec."PromptText";
        p_MJAIResultCache_ConfigurationID_ResultText := _rec."ResultText";
        p_MJAIResultCache_ConfigurationID_Status := _rec."Status";
        p_MJAIResultCache_ConfigurationID_ExpiredOn := _rec."ExpiredOn";
        p_MJAIResultCache_ConfigurationID_VendorID := _rec."VendorID";
        p_MJAIResultCache_ConfigurationID_AgentID := _rec."AgentID";
        p_MJAIResultCache_ConfigurationID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIResultCache_ConfigurationID_PromptEmbedding := _rec."PromptEmbedding";
        p_MJAIResultCache_ConfigurationID_PromptRunID := _rec."PromptRunID";
        -- Set the FK field to NULL
        p_MJAIResultCache_ConfigurationID_ConfigurationID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIResultCache"(p_MJAIResultCache_ConfigurationIDID, p_MJAIResultCache_ConfigurationID_AIPromptID, p_MJAIResultCache_ConfigurationID_AIModelID, p_MJAIResultCache_ConfigurationID_RunAt, p_MJAIResultCache_ConfigurationID_PromptText, p_MJAIResultCache_ConfigurationID_ResultText, p_MJAIResultCache_ConfigurationID_Status, p_MJAIResultCache_ConfigurationID_ExpiredOn, p_MJAIResultCache_ConfigurationID_VendorID, p_MJAIResultCache_ConfigurationID_AgentID, p_MJAIResultCache_ConfigurationID_ConfigurationID, p_MJAIResultCache_ConfigurationID_PromptEmbedding, p_MJAIResultCache_ConfigurationID_PromptRunID);

    END LOOP;

    

    DELETE FROM
        __mj."AIConfiguration"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIModelCost"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ModelID UUID DEFAULT NULL,
    IN p_VendorID UUID DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_Currency CHAR(3) DEFAULT NULL,
    IN p_PriceTypeID UUID DEFAULT NULL,
    IN p_InputPricePerUnit NUMERIC(18,8) DEFAULT NULL,
    IN p_OutputPricePerUnit NUMERIC(18,8) DEFAULT NULL,
    IN p_UnitTypeID UUID DEFAULT NULL,
    IN p_ProcessingType VARCHAR(20) DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIModelCosts" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIModelCost"
            (
                "ID",
                "ModelID",
                "VendorID",
                "StartedAt",
                "EndedAt",
                "Status",
                "Currency",
                "PriceTypeID",
                "InputPricePerUnit",
                "OutputPricePerUnit",
                "UnitTypeID",
                "ProcessingType",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_ModelID,
                p_VendorID,
                p_StartedAt,
                p_EndedAt,
                p_Status,
                p_Currency,
                p_PriceTypeID,
                p_InputPricePerUnit,
                p_OutputPricePerUnit,
                p_UnitTypeID,
                p_ProcessingType,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIModelCost"
            (
                "ModelID",
                "VendorID",
                "StartedAt",
                "EndedAt",
                "Status",
                "Currency",
                "PriceTypeID",
                "InputPricePerUnit",
                "OutputPricePerUnit",
                "UnitTypeID",
                "ProcessingType",
                "Comments"
            )
        VALUES
            (
                p_ModelID,
                p_VendorID,
                p_StartedAt,
                p_EndedAt,
                p_Status,
                p_Currency,
                p_PriceTypeID,
                p_InputPricePerUnit,
                p_OutputPricePerUnit,
                p_UnitTypeID,
                p_ProcessingType,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIModelCosts" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIModelCost"(
    IN p_ID UUID,
    IN p_ModelID UUID,
    IN p_VendorID UUID,
    IN p_StartedAt TIMESTAMPTZ,
    IN p_EndedAt TIMESTAMPTZ,
    IN p_Status VARCHAR(20),
    IN p_Currency CHAR(3),
    IN p_PriceTypeID UUID,
    IN p_InputPricePerUnit NUMERIC(18,8),
    IN p_OutputPricePerUnit NUMERIC(18,8),
    IN p_UnitTypeID UUID,
    IN p_ProcessingType VARCHAR(20),
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwAIModelCosts" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIModelCost"
    SET
        "ModelID" = p_ModelID,
        "VendorID" = p_VendorID,
        "StartedAt" = p_StartedAt,
        "EndedAt" = p_EndedAt,
        "Status" = p_Status,
        "Currency" = p_Currency,
        "PriceTypeID" = p_PriceTypeID,
        "InputPricePerUnit" = p_InputPricePerUnit,
        "OutputPricePerUnit" = p_OutputPricePerUnit,
        "UnitTypeID" = p_UnitTypeID,
        "ProcessingType" = p_ProcessingType,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIModelCosts" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIModelCosts" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIModelCost"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIModelCost"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIModelModality"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ModelID UUID DEFAULT NULL,
    IN p_ModalityID UUID DEFAULT NULL,
    IN p_Direction VARCHAR(10) DEFAULT NULL,
    IN p_IsSupported BOOLEAN DEFAULT NULL,
    IN p_IsRequired BOOLEAN DEFAULT NULL,
    IN p_SupportedFormats VARCHAR(500) DEFAULT NULL,
    IN p_MaxSizeBytes INTEGER DEFAULT NULL,
    IN p_MaxCountPerMessage INTEGER DEFAULT NULL,
    IN p_MaxDimension INTEGER DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIModelModalities" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIModelModality"
            (
                "ID",
                "ModelID",
                "ModalityID",
                "Direction",
                "IsSupported",
                "IsRequired",
                "SupportedFormats",
                "MaxSizeBytes",
                "MaxCountPerMessage",
                "MaxDimension",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_ModelID,
                p_ModalityID,
                p_Direction,
                COALESCE(p_IsSupported, 1),
                COALESCE(p_IsRequired, 0),
                p_SupportedFormats,
                p_MaxSizeBytes,
                p_MaxCountPerMessage,
                p_MaxDimension,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIModelModality"
            (
                "ModelID",
                "ModalityID",
                "Direction",
                "IsSupported",
                "IsRequired",
                "SupportedFormats",
                "MaxSizeBytes",
                "MaxCountPerMessage",
                "MaxDimension",
                "Comments"
            )
        VALUES
            (
                p_ModelID,
                p_ModalityID,
                p_Direction,
                COALESCE(p_IsSupported, 1),
                COALESCE(p_IsRequired, 0),
                p_SupportedFormats,
                p_MaxSizeBytes,
                p_MaxCountPerMessage,
                p_MaxDimension,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIModelModalities" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIModelModality"(
    IN p_ID UUID,
    IN p_ModelID UUID,
    IN p_ModalityID UUID,
    IN p_Direction VARCHAR(10),
    IN p_IsSupported BOOLEAN,
    IN p_IsRequired BOOLEAN,
    IN p_SupportedFormats VARCHAR(500),
    IN p_MaxSizeBytes INTEGER,
    IN p_MaxCountPerMessage INTEGER,
    IN p_MaxDimension INTEGER,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwAIModelModalities" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIModelModality"
    SET
        "ModelID" = p_ModelID,
        "ModalityID" = p_ModalityID,
        "Direction" = p_Direction,
        "IsSupported" = p_IsSupported,
        "IsRequired" = p_IsRequired,
        "SupportedFormats" = p_SupportedFormats,
        "MaxSizeBytes" = p_MaxSizeBytes,
        "MaxCountPerMessage" = p_MaxCountPerMessage,
        "MaxDimension" = p_MaxDimension,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIModelModalities" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIModelModalities" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIModelModality"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIModelModality"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIModelType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(50) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_DefaultInputModalityID UUID DEFAULT NULL,
    IN p_DefaultOutputModalityID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAIModelTypes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIModelType"
            (
                "ID",
                "Name",
                "Description",
                "DefaultInputModalityID",
                "DefaultOutputModalityID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_DefaultInputModalityID,
                p_DefaultOutputModalityID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIModelType"
            (
                "Name",
                "Description",
                "DefaultInputModalityID",
                "DefaultOutputModalityID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_DefaultInputModalityID,
                p_DefaultOutputModalityID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIModelTypes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIModelType"(
    IN p_ID UUID,
    IN p_Name VARCHAR(50),
    IN p_Description TEXT,
    IN p_DefaultInputModalityID UUID,
    IN p_DefaultOutputModalityID UUID
)
RETURNS SETOF __mj."vwAIModelTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIModelType"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "DefaultInputModalityID" = p_DefaultInputModalityID,
        "DefaultOutputModalityID" = p_DefaultOutputModalityID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIModelTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIModelTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIModelType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIModelType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIPromptCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIPromptCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIPromptCategory"
            (
                "ID",
                "Name",
                "ParentID",
                "Description"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_ParentID,
                p_Description
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIPromptCategory"
            (
                "Name",
                "ParentID",
                "Description"
            )
        VALUES
            (
                p_Name,
                p_ParentID,
                p_Description
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIPromptCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIPromptCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_ParentID UUID,
    IN p_Description TEXT
)
RETURNS SETOF __mj."vwAIPromptCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIPromptCategory"
    SET
        "Name" = p_Name,
        "ParentID" = p_ParentID,
        "Description" = p_Description
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIPromptCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIPromptCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIPromptCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIPromptCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIPromptRunMedia"(
    IN p_ID UUID DEFAULT NULL,
    IN p_PromptRunID UUID DEFAULT NULL,
    IN p_ModalityID UUID DEFAULT NULL,
    IN p_MimeType VARCHAR(100) DEFAULT NULL,
    IN p_FileName VARCHAR(255) DEFAULT NULL,
    IN p_FileSizeBytes INTEGER DEFAULT NULL,
    IN p_Width INTEGER DEFAULT NULL,
    IN p_Height INTEGER DEFAULT NULL,
    IN p_DurationSeconds NUMERIC(10,2) DEFAULT NULL,
    IN p_InlineData TEXT DEFAULT NULL,
    IN p_FileID UUID DEFAULT NULL,
    IN p_ThumbnailBase64 TEXT DEFAULT NULL,
    IN p_Metadata TEXT DEFAULT NULL,
    IN p_DisplayOrder INTEGER DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAIPromptRunMedias" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIPromptRunMedia"
            (
                "ID",
                "PromptRunID",
                "ModalityID",
                "MimeType",
                "FileName",
                "FileSizeBytes",
                "Width",
                "Height",
                "DurationSeconds",
                "InlineData",
                "FileID",
                "ThumbnailBase64",
                "Metadata",
                "DisplayOrder",
                "Description"
            )
        VALUES
            (
                p_ID,
                p_PromptRunID,
                p_ModalityID,
                p_MimeType,
                p_FileName,
                p_FileSizeBytes,
                p_Width,
                p_Height,
                p_DurationSeconds,
                p_InlineData,
                p_FileID,
                p_ThumbnailBase64,
                p_Metadata,
                COALESCE(p_DisplayOrder, 0),
                p_Description
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIPromptRunMedia"
            (
                "PromptRunID",
                "ModalityID",
                "MimeType",
                "FileName",
                "FileSizeBytes",
                "Width",
                "Height",
                "DurationSeconds",
                "InlineData",
                "FileID",
                "ThumbnailBase64",
                "Metadata",
                "DisplayOrder",
                "Description"
            )
        VALUES
            (
                p_PromptRunID,
                p_ModalityID,
                p_MimeType,
                p_FileName,
                p_FileSizeBytes,
                p_Width,
                p_Height,
                p_DurationSeconds,
                p_InlineData,
                p_FileID,
                p_ThumbnailBase64,
                p_Metadata,
                COALESCE(p_DisplayOrder, 0),
                p_Description
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIPromptRunMedias" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIPromptRunMedia"(
    IN p_ID UUID,
    IN p_PromptRunID UUID,
    IN p_ModalityID UUID,
    IN p_MimeType VARCHAR(100),
    IN p_FileName VARCHAR(255),
    IN p_FileSizeBytes INTEGER,
    IN p_Width INTEGER,
    IN p_Height INTEGER,
    IN p_DurationSeconds NUMERIC(10,2),
    IN p_InlineData TEXT,
    IN p_FileID UUID,
    IN p_ThumbnailBase64 TEXT,
    IN p_Metadata TEXT,
    IN p_DisplayOrder INTEGER,
    IN p_Description TEXT
)
RETURNS SETOF __mj."vwAIPromptRunMedias" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIPromptRunMedia"
    SET
        "PromptRunID" = p_PromptRunID,
        "ModalityID" = p_ModalityID,
        "MimeType" = p_MimeType,
        "FileName" = p_FileName,
        "FileSizeBytes" = p_FileSizeBytes,
        "Width" = p_Width,
        "Height" = p_Height,
        "DurationSeconds" = p_DurationSeconds,
        "InlineData" = p_InlineData,
        "FileID" = p_FileID,
        "ThumbnailBase64" = p_ThumbnailBase64,
        "Metadata" = p_Metadata,
        "DisplayOrder" = p_DisplayOrder,
        "Description" = p_Description
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIPromptRunMedias" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIPromptRunMedias" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIPromptRunMedia"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIPromptRunMedia"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIPromptModel"(
    IN p_ID UUID DEFAULT NULL,
    IN p_PromptID UUID DEFAULT NULL,
    IN p_ModelID UUID DEFAULT NULL,
    IN p_VendorID UUID DEFAULT NULL,
    IN p_ConfigurationID UUID DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL,
    IN p_ExecutionGroup INTEGER DEFAULT NULL,
    IN p_ModelParameters TEXT DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_ParallelizationMode VARCHAR(20) DEFAULT NULL,
    IN p_ParallelCount INTEGER DEFAULT NULL,
    IN p_ParallelConfigParam VARCHAR(100) DEFAULT NULL,
    IN p_EffortLevel INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwAIPromptModels" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIPromptModel"
            (
                "ID",
                "PromptID",
                "ModelID",
                "VendorID",
                "ConfigurationID",
                "Priority",
                "ExecutionGroup",
                "ModelParameters",
                "Status",
                "ParallelizationMode",
                "ParallelCount",
                "ParallelConfigParam",
                "EffortLevel"
            )
        VALUES
            (
                p_ID,
                p_PromptID,
                p_ModelID,
                p_VendorID,
                p_ConfigurationID,
                COALESCE(p_Priority, 0),
                COALESCE(p_ExecutionGroup, 0),
                p_ModelParameters,
                COALESCE(p_Status, 'Active'),
                COALESCE(p_ParallelizationMode, 'None'),
                COALESCE(p_ParallelCount, 1),
                p_ParallelConfigParam,
                p_EffortLevel
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIPromptModel"
            (
                "PromptID",
                "ModelID",
                "VendorID",
                "ConfigurationID",
                "Priority",
                "ExecutionGroup",
                "ModelParameters",
                "Status",
                "ParallelizationMode",
                "ParallelCount",
                "ParallelConfigParam",
                "EffortLevel"
            )
        VALUES
            (
                p_PromptID,
                p_ModelID,
                p_VendorID,
                p_ConfigurationID,
                COALESCE(p_Priority, 0),
                COALESCE(p_ExecutionGroup, 0),
                p_ModelParameters,
                COALESCE(p_Status, 'Active'),
                COALESCE(p_ParallelizationMode, 'None'),
                COALESCE(p_ParallelCount, 1),
                p_ParallelConfigParam,
                p_EffortLevel
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIPromptModels" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIPromptModel"(
    IN p_ID UUID,
    IN p_PromptID UUID,
    IN p_ModelID UUID,
    IN p_VendorID UUID,
    IN p_ConfigurationID UUID,
    IN p_Priority INTEGER,
    IN p_ExecutionGroup INTEGER,
    IN p_ModelParameters TEXT,
    IN p_Status VARCHAR(20),
    IN p_ParallelizationMode VARCHAR(20),
    IN p_ParallelCount INTEGER,
    IN p_ParallelConfigParam VARCHAR(100),
    IN p_EffortLevel INTEGER
)
RETURNS SETOF __mj."vwAIPromptModels" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIPromptModel"
    SET
        "PromptID" = p_PromptID,
        "ModelID" = p_ModelID,
        "VendorID" = p_VendorID,
        "ConfigurationID" = p_ConfigurationID,
        "Priority" = p_Priority,
        "ExecutionGroup" = p_ExecutionGroup,
        "ModelParameters" = p_ModelParameters,
        "Status" = p_Status,
        "ParallelizationMode" = p_ParallelizationMode,
        "ParallelCount" = p_ParallelCount,
        "ParallelConfigParam" = p_ParallelConfigParam,
        "EffortLevel" = p_EffortLevel
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIPromptModels" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIPromptModels" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIPromptModel"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIPromptModel"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIModelVendor"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ModelID UUID DEFAULT NULL,
    IN p_VendorID UUID DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_DriverClass VARCHAR(100) DEFAULT NULL,
    IN p_DriverImportPath VARCHAR(255) DEFAULT NULL,
    IN p_APIName VARCHAR(100) DEFAULT NULL,
    IN p_MaxInputTokens INTEGER DEFAULT NULL,
    IN p_MaxOutputTokens INTEGER DEFAULT NULL,
    IN p_SupportedResponseFormats VARCHAR(100) DEFAULT NULL,
    IN p_SupportsEffortLevel BOOLEAN DEFAULT NULL,
    IN p_SupportsStreaming BOOLEAN DEFAULT NULL,
    IN p_TypeID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAIModelVendors" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIModelVendor"
            (
                "ID",
                "ModelID",
                "VendorID",
                "Priority",
                "Status",
                "DriverClass",
                "DriverImportPath",
                "APIName",
                "MaxInputTokens",
                "MaxOutputTokens",
                "SupportedResponseFormats",
                "SupportsEffortLevel",
                "SupportsStreaming",
                "TypeID"
            )
        VALUES
            (
                p_ID,
                p_ModelID,
                p_VendorID,
                COALESCE(p_Priority, 0),
                COALESCE(p_Status, 'Active'),
                p_DriverClass,
                p_DriverImportPath,
                p_APIName,
                p_MaxInputTokens,
                p_MaxOutputTokens,
                COALESCE(p_SupportedResponseFormats, 'Any'),
                COALESCE(p_SupportsEffortLevel, 0),
                COALESCE(p_SupportsStreaming, 0),
                p_TypeID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIModelVendor"
            (
                "ModelID",
                "VendorID",
                "Priority",
                "Status",
                "DriverClass",
                "DriverImportPath",
                "APIName",
                "MaxInputTokens",
                "MaxOutputTokens",
                "SupportedResponseFormats",
                "SupportsEffortLevel",
                "SupportsStreaming",
                "TypeID"
            )
        VALUES
            (
                p_ModelID,
                p_VendorID,
                COALESCE(p_Priority, 0),
                COALESCE(p_Status, 'Active'),
                p_DriverClass,
                p_DriverImportPath,
                p_APIName,
                p_MaxInputTokens,
                p_MaxOutputTokens,
                COALESCE(p_SupportedResponseFormats, 'Any'),
                COALESCE(p_SupportsEffortLevel, 0),
                COALESCE(p_SupportsStreaming, 0),
                p_TypeID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIModelVendors" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIModelVendor"(
    IN p_ID UUID,
    IN p_ModelID UUID,
    IN p_VendorID UUID,
    IN p_Priority INTEGER,
    IN p_Status VARCHAR(20),
    IN p_DriverClass VARCHAR(100),
    IN p_DriverImportPath VARCHAR(255),
    IN p_APIName VARCHAR(100),
    IN p_MaxInputTokens INTEGER,
    IN p_MaxOutputTokens INTEGER,
    IN p_SupportedResponseFormats VARCHAR(100),
    IN p_SupportsEffortLevel BOOLEAN,
    IN p_SupportsStreaming BOOLEAN,
    IN p_TypeID UUID
)
RETURNS SETOF __mj."vwAIModelVendors" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIModelVendor"
    SET
        "ModelID" = p_ModelID,
        "VendorID" = p_VendorID,
        "Priority" = p_Priority,
        "Status" = p_Status,
        "DriverClass" = p_DriverClass,
        "DriverImportPath" = p_DriverImportPath,
        "APIName" = p_APIName,
        "MaxInputTokens" = p_MaxInputTokens,
        "MaxOutputTokens" = p_MaxOutputTokens,
        "SupportedResponseFormats" = p_SupportedResponseFormats,
        "SupportsEffortLevel" = p_SupportsEffortLevel,
        "SupportsStreaming" = p_SupportsStreaming,
        "TypeID" = p_TypeID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIModelVendors" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIModelVendors" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIModelVendor"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIModelVendor"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIPromptRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_PromptID UUID DEFAULT NULL,
    IN p_ModelID UUID DEFAULT NULL,
    IN p_VendorID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_ConfigurationID UUID DEFAULT NULL,
    IN p_RunAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CompletedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_ExecutionTimeMS INTEGER DEFAULT NULL,
    IN p_Messages TEXT DEFAULT NULL,
    IN p_Result TEXT DEFAULT NULL,
    IN p_TokensUsed INTEGER DEFAULT NULL,
    IN p_TokensPrompt INTEGER DEFAULT NULL,
    IN p_TokensCompletion INTEGER DEFAULT NULL,
    IN p_TotalCost NUMERIC(18,6) DEFAULT NULL,
    IN p_Success BOOLEAN DEFAULT NULL,
    IN p_ErrorMessage TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_RunType VARCHAR(20) DEFAULT NULL,
    IN p_ExecutionOrder INTEGER DEFAULT NULL,
    IN p_AgentRunID UUID DEFAULT NULL,
    IN p_Cost NUMERIC(19,8) DEFAULT NULL,
    IN p_CostCurrency VARCHAR(10) DEFAULT NULL,
    IN p_TokensUsedRollup INTEGER DEFAULT NULL,
    IN p_TokensPromptRollup INTEGER DEFAULT NULL,
    IN p_TokensCompletionRollup INTEGER DEFAULT NULL,
    IN p_Temperature NUMERIC(3,2) DEFAULT NULL,
    IN p_TopP NUMERIC(3,2) DEFAULT NULL,
    IN p_TopK INTEGER DEFAULT NULL,
    IN p_MinP NUMERIC(3,2) DEFAULT NULL,
    IN p_FrequencyPenalty NUMERIC(3,2) DEFAULT NULL,
    IN p_PresencePenalty NUMERIC(3,2) DEFAULT NULL,
    IN p_Seed INTEGER DEFAULT NULL,
    IN p_StopSequences TEXT DEFAULT NULL,
    IN p_ResponseFormat VARCHAR(50) DEFAULT NULL,
    IN p_LogProbs BOOLEAN DEFAULT NULL,
    IN p_TopLogProbs INTEGER DEFAULT NULL,
    IN p_DescendantCost NUMERIC(18,6) DEFAULT NULL,
    IN p_ValidationAttemptCount INTEGER DEFAULT NULL,
    IN p_SuccessfulValidationCount INTEGER DEFAULT NULL,
    IN p_FinalValidationPassed BOOLEAN DEFAULT NULL,
    IN p_ValidationBehavior VARCHAR(50) DEFAULT NULL,
    IN p_RetryStrategy VARCHAR(50) DEFAULT NULL,
    IN p_MaxRetriesConfigured INTEGER DEFAULT NULL,
    IN p_FinalValidationError VARCHAR(500) DEFAULT NULL,
    IN p_ValidationErrorCount INTEGER DEFAULT NULL,
    IN p_CommonValidationError VARCHAR(255) DEFAULT NULL,
    IN p_FirstAttemptAt TIMESTAMPTZ DEFAULT NULL,
    IN p_LastAttemptAt TIMESTAMPTZ DEFAULT NULL,
    IN p_TotalRetryDurationMS INTEGER DEFAULT NULL,
    IN p_ValidationAttempts TEXT DEFAULT NULL,
    IN p_ValidationSummary TEXT DEFAULT NULL,
    IN p_FailoverAttempts INTEGER DEFAULT NULL,
    IN p_FailoverErrors TEXT DEFAULT NULL,
    IN p_FailoverDurations TEXT DEFAULT NULL,
    IN p_OriginalModelID UUID DEFAULT NULL,
    IN p_OriginalRequestStartTime TIMESTAMPTZ DEFAULT NULL,
    IN p_TotalFailoverDuration INTEGER DEFAULT NULL,
    IN p_RerunFromPromptRunID UUID DEFAULT NULL,
    IN p_ModelSelection TEXT DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_Cancelled BOOLEAN DEFAULT NULL,
    IN p_CancellationReason TEXT DEFAULT NULL,
    IN p_ModelPowerRank INTEGER DEFAULT NULL,
    IN p_SelectionStrategy VARCHAR(50) DEFAULT NULL,
    IN p_CacheHit BOOLEAN DEFAULT NULL,
    IN p_CacheKey VARCHAR(500) DEFAULT NULL,
    IN p_JudgeID UUID DEFAULT NULL,
    IN p_JudgeScore DOUBLE PRECISION DEFAULT NULL,
    IN p_WasSelectedResult BOOLEAN DEFAULT NULL,
    IN p_StreamingEnabled BOOLEAN DEFAULT NULL,
    IN p_FirstTokenTime INTEGER DEFAULT NULL,
    IN p_ErrorDetails TEXT DEFAULT NULL,
    IN p_ChildPromptID UUID DEFAULT NULL,
    IN p_QueueTime INTEGER DEFAULT NULL,
    IN p_PromptTime INTEGER DEFAULT NULL,
    IN p_CompletionTime INTEGER DEFAULT NULL,
    IN p_ModelSpecificResponseDetails TEXT DEFAULT NULL,
    IN p_EffortLevel INTEGER DEFAULT NULL,
    IN p_RunName VARCHAR(255) DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL,
    IN p_TestRunID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAIPromptRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIPromptRun"
            (
                "ID",
                "PromptID",
                "ModelID",
                "VendorID",
                "AgentID",
                "ConfigurationID",
                "RunAt",
                "CompletedAt",
                "ExecutionTimeMS",
                "Messages",
                "Result",
                "TokensUsed",
                "TokensPrompt",
                "TokensCompletion",
                "TotalCost",
                "Success",
                "ErrorMessage",
                "ParentID",
                "RunType",
                "ExecutionOrder",
                "AgentRunID",
                "Cost",
                "CostCurrency",
                "TokensUsedRollup",
                "TokensPromptRollup",
                "TokensCompletionRollup",
                "Temperature",
                "TopP",
                "TopK",
                "MinP",
                "FrequencyPenalty",
                "PresencePenalty",
                "Seed",
                "StopSequences",
                "ResponseFormat",
                "LogProbs",
                "TopLogProbs",
                "DescendantCost",
                "ValidationAttemptCount",
                "SuccessfulValidationCount",
                "FinalValidationPassed",
                "ValidationBehavior",
                "RetryStrategy",
                "MaxRetriesConfigured",
                "FinalValidationError",
                "ValidationErrorCount",
                "CommonValidationError",
                "FirstAttemptAt",
                "LastAttemptAt",
                "TotalRetryDurationMS",
                "ValidationAttempts",
                "ValidationSummary",
                "FailoverAttempts",
                "FailoverErrors",
                "FailoverDurations",
                "OriginalModelID",
                "OriginalRequestStartTime",
                "TotalFailoverDuration",
                "RerunFromPromptRunID",
                "ModelSelection",
                "Status",
                "Cancelled",
                "CancellationReason",
                "ModelPowerRank",
                "SelectionStrategy",
                "CacheHit",
                "CacheKey",
                "JudgeID",
                "JudgeScore",
                "WasSelectedResult",
                "StreamingEnabled",
                "FirstTokenTime",
                "ErrorDetails",
                "ChildPromptID",
                "QueueTime",
                "PromptTime",
                "CompletionTime",
                "ModelSpecificResponseDetails",
                "EffortLevel",
                "RunName",
                "Comments",
                "TestRunID"
            )
        VALUES
            (
                p_ID,
                p_PromptID,
                p_ModelID,
                p_VendorID,
                p_AgentID,
                p_ConfigurationID,
                COALESCE(p_RunAt, NOW()),
                p_CompletedAt,
                p_ExecutionTimeMS,
                p_Messages,
                p_Result,
                p_TokensUsed,
                p_TokensPrompt,
                p_TokensCompletion,
                p_TotalCost,
                COALESCE(p_Success, 0),
                p_ErrorMessage,
                p_ParentID,
                COALESCE(p_RunType, 'Single'),
                p_ExecutionOrder,
                p_AgentRunID,
                p_Cost,
                p_CostCurrency,
                p_TokensUsedRollup,
                p_TokensPromptRollup,
                p_TokensCompletionRollup,
                p_Temperature,
                p_TopP,
                p_TopK,
                p_MinP,
                p_FrequencyPenalty,
                p_PresencePenalty,
                p_Seed,
                p_StopSequences,
                p_ResponseFormat,
                p_LogProbs,
                p_TopLogProbs,
                p_DescendantCost,
                p_ValidationAttemptCount,
                p_SuccessfulValidationCount,
                p_FinalValidationPassed,
                p_ValidationBehavior,
                p_RetryStrategy,
                p_MaxRetriesConfigured,
                p_FinalValidationError,
                p_ValidationErrorCount,
                p_CommonValidationError,
                p_FirstAttemptAt,
                p_LastAttemptAt,
                p_TotalRetryDurationMS,
                p_ValidationAttempts,
                p_ValidationSummary,
                p_FailoverAttempts,
                p_FailoverErrors,
                p_FailoverDurations,
                p_OriginalModelID,
                p_OriginalRequestStartTime,
                p_TotalFailoverDuration,
                p_RerunFromPromptRunID,
                p_ModelSelection,
                COALESCE(p_Status, 'Pending'),
                COALESCE(p_Cancelled, 0),
                p_CancellationReason,
                p_ModelPowerRank,
                p_SelectionStrategy,
                COALESCE(p_CacheHit, 0),
                p_CacheKey,
                p_JudgeID,
                p_JudgeScore,
                COALESCE(p_WasSelectedResult, 0),
                COALESCE(p_StreamingEnabled, 0),
                p_FirstTokenTime,
                p_ErrorDetails,
                p_ChildPromptID,
                p_QueueTime,
                p_PromptTime,
                p_CompletionTime,
                p_ModelSpecificResponseDetails,
                p_EffortLevel,
                p_RunName,
                p_Comments,
                p_TestRunID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIPromptRun"
            (
                "PromptID",
                "ModelID",
                "VendorID",
                "AgentID",
                "ConfigurationID",
                "RunAt",
                "CompletedAt",
                "ExecutionTimeMS",
                "Messages",
                "Result",
                "TokensUsed",
                "TokensPrompt",
                "TokensCompletion",
                "TotalCost",
                "Success",
                "ErrorMessage",
                "ParentID",
                "RunType",
                "ExecutionOrder",
                "AgentRunID",
                "Cost",
                "CostCurrency",
                "TokensUsedRollup",
                "TokensPromptRollup",
                "TokensCompletionRollup",
                "Temperature",
                "TopP",
                "TopK",
                "MinP",
                "FrequencyPenalty",
                "PresencePenalty",
                "Seed",
                "StopSequences",
                "ResponseFormat",
                "LogProbs",
                "TopLogProbs",
                "DescendantCost",
                "ValidationAttemptCount",
                "SuccessfulValidationCount",
                "FinalValidationPassed",
                "ValidationBehavior",
                "RetryStrategy",
                "MaxRetriesConfigured",
                "FinalValidationError",
                "ValidationErrorCount",
                "CommonValidationError",
                "FirstAttemptAt",
                "LastAttemptAt",
                "TotalRetryDurationMS",
                "ValidationAttempts",
                "ValidationSummary",
                "FailoverAttempts",
                "FailoverErrors",
                "FailoverDurations",
                "OriginalModelID",
                "OriginalRequestStartTime",
                "TotalFailoverDuration",
                "RerunFromPromptRunID",
                "ModelSelection",
                "Status",
                "Cancelled",
                "CancellationReason",
                "ModelPowerRank",
                "SelectionStrategy",
                "CacheHit",
                "CacheKey",
                "JudgeID",
                "JudgeScore",
                "WasSelectedResult",
                "StreamingEnabled",
                "FirstTokenTime",
                "ErrorDetails",
                "ChildPromptID",
                "QueueTime",
                "PromptTime",
                "CompletionTime",
                "ModelSpecificResponseDetails",
                "EffortLevel",
                "RunName",
                "Comments",
                "TestRunID"
            )
        VALUES
            (
                p_PromptID,
                p_ModelID,
                p_VendorID,
                p_AgentID,
                p_ConfigurationID,
                COALESCE(p_RunAt, NOW()),
                p_CompletedAt,
                p_ExecutionTimeMS,
                p_Messages,
                p_Result,
                p_TokensUsed,
                p_TokensPrompt,
                p_TokensCompletion,
                p_TotalCost,
                COALESCE(p_Success, 0),
                p_ErrorMessage,
                p_ParentID,
                COALESCE(p_RunType, 'Single'),
                p_ExecutionOrder,
                p_AgentRunID,
                p_Cost,
                p_CostCurrency,
                p_TokensUsedRollup,
                p_TokensPromptRollup,
                p_TokensCompletionRollup,
                p_Temperature,
                p_TopP,
                p_TopK,
                p_MinP,
                p_FrequencyPenalty,
                p_PresencePenalty,
                p_Seed,
                p_StopSequences,
                p_ResponseFormat,
                p_LogProbs,
                p_TopLogProbs,
                p_DescendantCost,
                p_ValidationAttemptCount,
                p_SuccessfulValidationCount,
                p_FinalValidationPassed,
                p_ValidationBehavior,
                p_RetryStrategy,
                p_MaxRetriesConfigured,
                p_FinalValidationError,
                p_ValidationErrorCount,
                p_CommonValidationError,
                p_FirstAttemptAt,
                p_LastAttemptAt,
                p_TotalRetryDurationMS,
                p_ValidationAttempts,
                p_ValidationSummary,
                p_FailoverAttempts,
                p_FailoverErrors,
                p_FailoverDurations,
                p_OriginalModelID,
                p_OriginalRequestStartTime,
                p_TotalFailoverDuration,
                p_RerunFromPromptRunID,
                p_ModelSelection,
                COALESCE(p_Status, 'Pending'),
                COALESCE(p_Cancelled, 0),
                p_CancellationReason,
                p_ModelPowerRank,
                p_SelectionStrategy,
                COALESCE(p_CacheHit, 0),
                p_CacheKey,
                p_JudgeID,
                p_JudgeScore,
                COALESCE(p_WasSelectedResult, 0),
                COALESCE(p_StreamingEnabled, 0),
                p_FirstTokenTime,
                p_ErrorDetails,
                p_ChildPromptID,
                p_QueueTime,
                p_PromptTime,
                p_CompletionTime,
                p_ModelSpecificResponseDetails,
                p_EffortLevel,
                p_RunName,
                p_Comments,
                p_TestRunID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIPromptRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIPromptRun"(
    IN p_ID UUID,
    IN p_PromptID UUID,
    IN p_ModelID UUID,
    IN p_VendorID UUID,
    IN p_AgentID UUID,
    IN p_ConfigurationID UUID,
    IN p_RunAt TIMESTAMPTZ,
    IN p_CompletedAt TIMESTAMPTZ,
    IN p_ExecutionTimeMS INTEGER,
    IN p_Messages TEXT,
    IN p_Result TEXT,
    IN p_TokensUsed INTEGER,
    IN p_TokensPrompt INTEGER,
    IN p_TokensCompletion INTEGER,
    IN p_TotalCost NUMERIC(18,6),
    IN p_Success BOOLEAN,
    IN p_ErrorMessage TEXT,
    IN p_ParentID UUID,
    IN p_RunType VARCHAR(20),
    IN p_ExecutionOrder INTEGER,
    IN p_AgentRunID UUID,
    IN p_Cost NUMERIC(19,8),
    IN p_CostCurrency VARCHAR(10),
    IN p_TokensUsedRollup INTEGER,
    IN p_TokensPromptRollup INTEGER,
    IN p_TokensCompletionRollup INTEGER,
    IN p_Temperature NUMERIC(3,2),
    IN p_TopP NUMERIC(3,2),
    IN p_TopK INTEGER,
    IN p_MinP NUMERIC(3,2),
    IN p_FrequencyPenalty NUMERIC(3,2),
    IN p_PresencePenalty NUMERIC(3,2),
    IN p_Seed INTEGER,
    IN p_StopSequences TEXT,
    IN p_ResponseFormat VARCHAR(50),
    IN p_LogProbs BOOLEAN,
    IN p_TopLogProbs INTEGER,
    IN p_DescendantCost NUMERIC(18,6),
    IN p_ValidationAttemptCount INTEGER,
    IN p_SuccessfulValidationCount INTEGER,
    IN p_FinalValidationPassed BOOLEAN,
    IN p_ValidationBehavior VARCHAR(50),
    IN p_RetryStrategy VARCHAR(50),
    IN p_MaxRetriesConfigured INTEGER,
    IN p_FinalValidationError VARCHAR(500),
    IN p_ValidationErrorCount INTEGER,
    IN p_CommonValidationError VARCHAR(255),
    IN p_FirstAttemptAt TIMESTAMPTZ,
    IN p_LastAttemptAt TIMESTAMPTZ,
    IN p_TotalRetryDurationMS INTEGER,
    IN p_ValidationAttempts TEXT,
    IN p_ValidationSummary TEXT,
    IN p_FailoverAttempts INTEGER,
    IN p_FailoverErrors TEXT,
    IN p_FailoverDurations TEXT,
    IN p_OriginalModelID UUID,
    IN p_OriginalRequestStartTime TIMESTAMPTZ,
    IN p_TotalFailoverDuration INTEGER,
    IN p_RerunFromPromptRunID UUID,
    IN p_ModelSelection TEXT,
    IN p_Status VARCHAR(50),
    IN p_Cancelled BOOLEAN,
    IN p_CancellationReason TEXT,
    IN p_ModelPowerRank INTEGER,
    IN p_SelectionStrategy VARCHAR(50),
    IN p_CacheHit BOOLEAN,
    IN p_CacheKey VARCHAR(500),
    IN p_JudgeID UUID,
    IN p_JudgeScore DOUBLE PRECISION,
    IN p_WasSelectedResult BOOLEAN,
    IN p_StreamingEnabled BOOLEAN,
    IN p_FirstTokenTime INTEGER,
    IN p_ErrorDetails TEXT,
    IN p_ChildPromptID UUID,
    IN p_QueueTime INTEGER,
    IN p_PromptTime INTEGER,
    IN p_CompletionTime INTEGER,
    IN p_ModelSpecificResponseDetails TEXT,
    IN p_EffortLevel INTEGER,
    IN p_RunName VARCHAR(255),
    IN p_Comments TEXT,
    IN p_TestRunID UUID
)
RETURNS SETOF __mj."vwAIPromptRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIPromptRun"
    SET
        "PromptID" = p_PromptID,
        "ModelID" = p_ModelID,
        "VendorID" = p_VendorID,
        "AgentID" = p_AgentID,
        "ConfigurationID" = p_ConfigurationID,
        "RunAt" = p_RunAt,
        "CompletedAt" = p_CompletedAt,
        "ExecutionTimeMS" = p_ExecutionTimeMS,
        "Messages" = p_Messages,
        "Result" = p_Result,
        "TokensUsed" = p_TokensUsed,
        "TokensPrompt" = p_TokensPrompt,
        "TokensCompletion" = p_TokensCompletion,
        "TotalCost" = p_TotalCost,
        "Success" = p_Success,
        "ErrorMessage" = p_ErrorMessage,
        "ParentID" = p_ParentID,
        "RunType" = p_RunType,
        "ExecutionOrder" = p_ExecutionOrder,
        "AgentRunID" = p_AgentRunID,
        "Cost" = p_Cost,
        "CostCurrency" = p_CostCurrency,
        "TokensUsedRollup" = p_TokensUsedRollup,
        "TokensPromptRollup" = p_TokensPromptRollup,
        "TokensCompletionRollup" = p_TokensCompletionRollup,
        "Temperature" = p_Temperature,
        "TopP" = p_TopP,
        "TopK" = p_TopK,
        "MinP" = p_MinP,
        "FrequencyPenalty" = p_FrequencyPenalty,
        "PresencePenalty" = p_PresencePenalty,
        "Seed" = p_Seed,
        "StopSequences" = p_StopSequences,
        "ResponseFormat" = p_ResponseFormat,
        "LogProbs" = p_LogProbs,
        "TopLogProbs" = p_TopLogProbs,
        "DescendantCost" = p_DescendantCost,
        "ValidationAttemptCount" = p_ValidationAttemptCount,
        "SuccessfulValidationCount" = p_SuccessfulValidationCount,
        "FinalValidationPassed" = p_FinalValidationPassed,
        "ValidationBehavior" = p_ValidationBehavior,
        "RetryStrategy" = p_RetryStrategy,
        "MaxRetriesConfigured" = p_MaxRetriesConfigured,
        "FinalValidationError" = p_FinalValidationError,
        "ValidationErrorCount" = p_ValidationErrorCount,
        "CommonValidationError" = p_CommonValidationError,
        "FirstAttemptAt" = p_FirstAttemptAt,
        "LastAttemptAt" = p_LastAttemptAt,
        "TotalRetryDurationMS" = p_TotalRetryDurationMS,
        "ValidationAttempts" = p_ValidationAttempts,
        "ValidationSummary" = p_ValidationSummary,
        "FailoverAttempts" = p_FailoverAttempts,
        "FailoverErrors" = p_FailoverErrors,
        "FailoverDurations" = p_FailoverDurations,
        "OriginalModelID" = p_OriginalModelID,
        "OriginalRequestStartTime" = p_OriginalRequestStartTime,
        "TotalFailoverDuration" = p_TotalFailoverDuration,
        "RerunFromPromptRunID" = p_RerunFromPromptRunID,
        "ModelSelection" = p_ModelSelection,
        "Status" = p_Status,
        "Cancelled" = p_Cancelled,
        "CancellationReason" = p_CancellationReason,
        "ModelPowerRank" = p_ModelPowerRank,
        "SelectionStrategy" = p_SelectionStrategy,
        "CacheHit" = p_CacheHit,
        "CacheKey" = p_CacheKey,
        "JudgeID" = p_JudgeID,
        "JudgeScore" = p_JudgeScore,
        "WasSelectedResult" = p_WasSelectedResult,
        "StreamingEnabled" = p_StreamingEnabled,
        "FirstTokenTime" = p_FirstTokenTime,
        "ErrorDetails" = p_ErrorDetails,
        "ChildPromptID" = p_ChildPromptID,
        "QueueTime" = p_QueueTime,
        "PromptTime" = p_PromptTime,
        "CompletionTime" = p_CompletionTime,
        "ModelSpecificResponseDetails" = p_ModelSpecificResponseDetails,
        "EffortLevel" = p_EffortLevel,
        "RunName" = p_RunName,
        "Comments" = p_Comments,
        "TestRunID" = p_TestRunID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIPromptRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIPromptRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIResultCache"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AIPromptID UUID DEFAULT NULL,
    IN p_AIModelID UUID DEFAULT NULL,
    IN p_RunAt TIMESTAMPTZ DEFAULT NULL,
    IN p_PromptText TEXT DEFAULT NULL,
    IN p_ResultText TEXT DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_ExpiredOn TIMESTAMPTZ DEFAULT NULL,
    IN p_VendorID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_ConfigurationID UUID DEFAULT NULL,
    IN p_PromptEmbedding BYTEA DEFAULT NULL,
    IN p_PromptRunID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAIResultCaches" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIResultCache"
            (
                "ID",
                "AIPromptID",
                "AIModelID",
                "RunAt",
                "PromptText",
                "ResultText",
                "Status",
                "ExpiredOn",
                "VendorID",
                "AgentID",
                "ConfigurationID",
                "PromptEmbedding",
                "PromptRunID"
            )
        VALUES
            (
                p_ID,
                p_AIPromptID,
                p_AIModelID,
                p_RunAt,
                p_PromptText,
                p_ResultText,
                p_Status,
                p_ExpiredOn,
                p_VendorID,
                p_AgentID,
                p_ConfigurationID,
                p_PromptEmbedding,
                p_PromptRunID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIResultCache"
            (
                "AIPromptID",
                "AIModelID",
                "RunAt",
                "PromptText",
                "ResultText",
                "Status",
                "ExpiredOn",
                "VendorID",
                "AgentID",
                "ConfigurationID",
                "PromptEmbedding",
                "PromptRunID"
            )
        VALUES
            (
                p_AIPromptID,
                p_AIModelID,
                p_RunAt,
                p_PromptText,
                p_ResultText,
                p_Status,
                p_ExpiredOn,
                p_VendorID,
                p_AgentID,
                p_ConfigurationID,
                p_PromptEmbedding,
                p_PromptRunID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIResultCaches" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIResultCache"(
    IN p_ID UUID,
    IN p_AIPromptID UUID,
    IN p_AIModelID UUID,
    IN p_RunAt TIMESTAMPTZ,
    IN p_PromptText TEXT,
    IN p_ResultText TEXT,
    IN p_Status VARCHAR(50),
    IN p_ExpiredOn TIMESTAMPTZ,
    IN p_VendorID UUID,
    IN p_AgentID UUID,
    IN p_ConfigurationID UUID,
    IN p_PromptEmbedding BYTEA,
    IN p_PromptRunID UUID
)
RETURNS SETOF __mj."vwAIResultCaches" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIResultCache"
    SET
        "AIPromptID" = p_AIPromptID,
        "AIModelID" = p_AIModelID,
        "RunAt" = p_RunAt,
        "PromptText" = p_PromptText,
        "ResultText" = p_ResultText,
        "Status" = p_Status,
        "ExpiredOn" = p_ExpiredOn,
        "VendorID" = p_VendorID,
        "AgentID" = p_AgentID,
        "ConfigurationID" = p_ConfigurationID,
        "PromptEmbedding" = p_PromptEmbedding,
        "PromptRunID" = p_PromptRunID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIResultCaches" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIResultCaches" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIResultCache"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIResultCache"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIPrompt"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_TemplateID UUID DEFAULT NULL,
    IN p_CategoryID UUID DEFAULT NULL,
    IN p_TypeID UUID DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_ResponseFormat VARCHAR(20) DEFAULT NULL,
    IN p_ModelSpecificResponseFormat TEXT DEFAULT NULL,
    IN p_AIModelTypeID UUID DEFAULT NULL,
    IN p_MinPowerRank INTEGER DEFAULT NULL,
    IN p_SelectionStrategy VARCHAR(20) DEFAULT NULL,
    IN p_PowerPreference VARCHAR(20) DEFAULT NULL,
    IN p_ParallelizationMode VARCHAR(20) DEFAULT NULL,
    IN p_ParallelCount INTEGER DEFAULT NULL,
    IN p_ParallelConfigParam VARCHAR(100) DEFAULT NULL,
    IN p_OutputType VARCHAR(50) DEFAULT NULL,
    IN p_OutputExample TEXT DEFAULT NULL,
    IN p_ValidationBehavior VARCHAR(50) DEFAULT NULL,
    IN p_MaxRetries INTEGER DEFAULT NULL,
    IN p_RetryDelayMS INTEGER DEFAULT NULL,
    IN p_RetryStrategy VARCHAR(20) DEFAULT NULL,
    IN p_ResultSelectorPromptID UUID DEFAULT NULL,
    IN p_EnableCaching BOOLEAN DEFAULT NULL,
    IN p_CacheTTLSeconds INTEGER DEFAULT NULL,
    IN p_CacheMatchType VARCHAR(20) DEFAULT NULL,
    IN p_CacheSimilarityThreshold DOUBLE PRECISION DEFAULT NULL,
    IN p_CacheMustMatchModel BOOLEAN DEFAULT NULL,
    IN p_CacheMustMatchVendor BOOLEAN DEFAULT NULL,
    IN p_CacheMustMatchAgent BOOLEAN DEFAULT NULL,
    IN p_CacheMustMatchConfig BOOLEAN DEFAULT NULL,
    IN p_PromptRole VARCHAR(20) DEFAULT NULL,
    IN p_PromptPosition VARCHAR(20) DEFAULT NULL,
    IN p_Temperature NUMERIC(3,2) DEFAULT NULL,
    IN p_TopP NUMERIC(3,2) DEFAULT NULL,
    IN p_TopK INTEGER DEFAULT NULL,
    IN p_MinP NUMERIC(3,2) DEFAULT NULL,
    IN p_FrequencyPenalty NUMERIC(3,2) DEFAULT NULL,
    IN p_PresencePenalty NUMERIC(3,2) DEFAULT NULL,
    IN p_Seed INTEGER DEFAULT NULL,
    IN p_StopSequences VARCHAR(1000) DEFAULT NULL,
    IN p_IncludeLogProbs BOOLEAN DEFAULT NULL,
    IN p_TopLogProbs INTEGER DEFAULT NULL,
    IN p_FailoverStrategy VARCHAR(50) DEFAULT NULL,
    IN p_FailoverMaxAttempts INTEGER DEFAULT NULL,
    IN p_FailoverDelaySeconds INTEGER DEFAULT NULL,
    IN p_FailoverModelStrategy VARCHAR(50) DEFAULT NULL,
    IN p_FailoverErrorScope VARCHAR(50) DEFAULT NULL,
    IN p_EffortLevel INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwAIPrompts" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIPrompt"
            (
                "ID",
                "Name",
                "Description",
                "TemplateID",
                "CategoryID",
                "TypeID",
                "Status",
                "ResponseFormat",
                "ModelSpecificResponseFormat",
                "AIModelTypeID",
                "MinPowerRank",
                "SelectionStrategy",
                "PowerPreference",
                "ParallelizationMode",
                "ParallelCount",
                "ParallelConfigParam",
                "OutputType",
                "OutputExample",
                "ValidationBehavior",
                "MaxRetries",
                "RetryDelayMS",
                "RetryStrategy",
                "ResultSelectorPromptID",
                "EnableCaching",
                "CacheTTLSeconds",
                "CacheMatchType",
                "CacheSimilarityThreshold",
                "CacheMustMatchModel",
                "CacheMustMatchVendor",
                "CacheMustMatchAgent",
                "CacheMustMatchConfig",
                "PromptRole",
                "PromptPosition",
                "Temperature",
                "TopP",
                "TopK",
                "MinP",
                "FrequencyPenalty",
                "PresencePenalty",
                "Seed",
                "StopSequences",
                "IncludeLogProbs",
                "TopLogProbs",
                "FailoverStrategy",
                "FailoverMaxAttempts",
                "FailoverDelaySeconds",
                "FailoverModelStrategy",
                "FailoverErrorScope",
                "EffortLevel"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_TemplateID,
                p_CategoryID,
                p_TypeID,
                p_Status,
                COALESCE(p_ResponseFormat, 'Any'),
                p_ModelSpecificResponseFormat,
                p_AIModelTypeID,
                p_MinPowerRank,
                COALESCE(p_SelectionStrategy, 'Default'),
                COALESCE(p_PowerPreference, 'Highest'),
                COALESCE(p_ParallelizationMode, 'None'),
                p_ParallelCount,
                p_ParallelConfigParam,
                COALESCE(p_OutputType, 'string'),
                p_OutputExample,
                COALESCE(p_ValidationBehavior, 'Warn'),
                COALESCE(p_MaxRetries, 0),
                COALESCE(p_RetryDelayMS, 0),
                COALESCE(p_RetryStrategy, 'Fixed'),
                p_ResultSelectorPromptID,
                COALESCE(p_EnableCaching, 0),
                p_CacheTTLSeconds,
                COALESCE(p_CacheMatchType, 'Exact'),
                p_CacheSimilarityThreshold,
                COALESCE(p_CacheMustMatchModel, 1),
                COALESCE(p_CacheMustMatchVendor, 1),
                COALESCE(p_CacheMustMatchAgent, 0),
                COALESCE(p_CacheMustMatchConfig, 0),
                COALESCE(p_PromptRole, 'System'),
                COALESCE(p_PromptPosition, 'First'),
                p_Temperature,
                p_TopP,
                p_TopK,
                p_MinP,
                p_FrequencyPenalty,
                p_PresencePenalty,
                p_Seed,
                p_StopSequences,
                p_IncludeLogProbs,
                p_TopLogProbs,
                COALESCE(p_FailoverStrategy, 'SameModelDifferentVendor'),
                p_FailoverMaxAttempts,
                p_FailoverDelaySeconds,
                COALESCE(p_FailoverModelStrategy, 'PreferSameModel'),
                COALESCE(p_FailoverErrorScope, 'All'),
                p_EffortLevel
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIPrompt"
            (
                "Name",
                "Description",
                "TemplateID",
                "CategoryID",
                "TypeID",
                "Status",
                "ResponseFormat",
                "ModelSpecificResponseFormat",
                "AIModelTypeID",
                "MinPowerRank",
                "SelectionStrategy",
                "PowerPreference",
                "ParallelizationMode",
                "ParallelCount",
                "ParallelConfigParam",
                "OutputType",
                "OutputExample",
                "ValidationBehavior",
                "MaxRetries",
                "RetryDelayMS",
                "RetryStrategy",
                "ResultSelectorPromptID",
                "EnableCaching",
                "CacheTTLSeconds",
                "CacheMatchType",
                "CacheSimilarityThreshold",
                "CacheMustMatchModel",
                "CacheMustMatchVendor",
                "CacheMustMatchAgent",
                "CacheMustMatchConfig",
                "PromptRole",
                "PromptPosition",
                "Temperature",
                "TopP",
                "TopK",
                "MinP",
                "FrequencyPenalty",
                "PresencePenalty",
                "Seed",
                "StopSequences",
                "IncludeLogProbs",
                "TopLogProbs",
                "FailoverStrategy",
                "FailoverMaxAttempts",
                "FailoverDelaySeconds",
                "FailoverModelStrategy",
                "FailoverErrorScope",
                "EffortLevel"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_TemplateID,
                p_CategoryID,
                p_TypeID,
                p_Status,
                COALESCE(p_ResponseFormat, 'Any'),
                p_ModelSpecificResponseFormat,
                p_AIModelTypeID,
                p_MinPowerRank,
                COALESCE(p_SelectionStrategy, 'Default'),
                COALESCE(p_PowerPreference, 'Highest'),
                COALESCE(p_ParallelizationMode, 'None'),
                p_ParallelCount,
                p_ParallelConfigParam,
                COALESCE(p_OutputType, 'string'),
                p_OutputExample,
                COALESCE(p_ValidationBehavior, 'Warn'),
                COALESCE(p_MaxRetries, 0),
                COALESCE(p_RetryDelayMS, 0),
                COALESCE(p_RetryStrategy, 'Fixed'),
                p_ResultSelectorPromptID,
                COALESCE(p_EnableCaching, 0),
                p_CacheTTLSeconds,
                COALESCE(p_CacheMatchType, 'Exact'),
                p_CacheSimilarityThreshold,
                COALESCE(p_CacheMustMatchModel, 1),
                COALESCE(p_CacheMustMatchVendor, 1),
                COALESCE(p_CacheMustMatchAgent, 0),
                COALESCE(p_CacheMustMatchConfig, 0),
                COALESCE(p_PromptRole, 'System'),
                COALESCE(p_PromptPosition, 'First'),
                p_Temperature,
                p_TopP,
                p_TopK,
                p_MinP,
                p_FrequencyPenalty,
                p_PresencePenalty,
                p_Seed,
                p_StopSequences,
                p_IncludeLogProbs,
                p_TopLogProbs,
                COALESCE(p_FailoverStrategy, 'SameModelDifferentVendor'),
                p_FailoverMaxAttempts,
                p_FailoverDelaySeconds,
                COALESCE(p_FailoverModelStrategy, 'PreferSameModel'),
                COALESCE(p_FailoverErrorScope, 'All'),
                p_EffortLevel
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIPrompts" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIPrompt"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_TemplateID UUID,
    IN p_CategoryID UUID,
    IN p_TypeID UUID,
    IN p_Status VARCHAR(50),
    IN p_ResponseFormat VARCHAR(20),
    IN p_ModelSpecificResponseFormat TEXT,
    IN p_AIModelTypeID UUID,
    IN p_MinPowerRank INTEGER,
    IN p_SelectionStrategy VARCHAR(20),
    IN p_PowerPreference VARCHAR(20),
    IN p_ParallelizationMode VARCHAR(20),
    IN p_ParallelCount INTEGER,
    IN p_ParallelConfigParam VARCHAR(100),
    IN p_OutputType VARCHAR(50),
    IN p_OutputExample TEXT,
    IN p_ValidationBehavior VARCHAR(50),
    IN p_MaxRetries INTEGER,
    IN p_RetryDelayMS INTEGER,
    IN p_RetryStrategy VARCHAR(20),
    IN p_ResultSelectorPromptID UUID,
    IN p_EnableCaching BOOLEAN,
    IN p_CacheTTLSeconds INTEGER,
    IN p_CacheMatchType VARCHAR(20),
    IN p_CacheSimilarityThreshold DOUBLE PRECISION,
    IN p_CacheMustMatchModel BOOLEAN,
    IN p_CacheMustMatchVendor BOOLEAN,
    IN p_CacheMustMatchAgent BOOLEAN,
    IN p_CacheMustMatchConfig BOOLEAN,
    IN p_PromptRole VARCHAR(20),
    IN p_PromptPosition VARCHAR(20),
    IN p_Temperature NUMERIC(3,2),
    IN p_TopP NUMERIC(3,2),
    IN p_TopK INTEGER,
    IN p_MinP NUMERIC(3,2),
    IN p_FrequencyPenalty NUMERIC(3,2),
    IN p_PresencePenalty NUMERIC(3,2),
    IN p_Seed INTEGER,
    IN p_StopSequences VARCHAR(1000),
    IN p_IncludeLogProbs BOOLEAN,
    IN p_TopLogProbs INTEGER,
    IN p_FailoverStrategy VARCHAR(50),
    IN p_FailoverMaxAttempts INTEGER,
    IN p_FailoverDelaySeconds INTEGER,
    IN p_FailoverModelStrategy VARCHAR(50),
    IN p_FailoverErrorScope VARCHAR(50),
    IN p_EffortLevel INTEGER
)
RETURNS SETOF __mj."vwAIPrompts" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIPrompt"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "TemplateID" = p_TemplateID,
        "CategoryID" = p_CategoryID,
        "TypeID" = p_TypeID,
        "Status" = p_Status,
        "ResponseFormat" = p_ResponseFormat,
        "ModelSpecificResponseFormat" = p_ModelSpecificResponseFormat,
        "AIModelTypeID" = p_AIModelTypeID,
        "MinPowerRank" = p_MinPowerRank,
        "SelectionStrategy" = p_SelectionStrategy,
        "PowerPreference" = p_PowerPreference,
        "ParallelizationMode" = p_ParallelizationMode,
        "ParallelCount" = p_ParallelCount,
        "ParallelConfigParam" = p_ParallelConfigParam,
        "OutputType" = p_OutputType,
        "OutputExample" = p_OutputExample,
        "ValidationBehavior" = p_ValidationBehavior,
        "MaxRetries" = p_MaxRetries,
        "RetryDelayMS" = p_RetryDelayMS,
        "RetryStrategy" = p_RetryStrategy,
        "ResultSelectorPromptID" = p_ResultSelectorPromptID,
        "EnableCaching" = p_EnableCaching,
        "CacheTTLSeconds" = p_CacheTTLSeconds,
        "CacheMatchType" = p_CacheMatchType,
        "CacheSimilarityThreshold" = p_CacheSimilarityThreshold,
        "CacheMustMatchModel" = p_CacheMustMatchModel,
        "CacheMustMatchVendor" = p_CacheMustMatchVendor,
        "CacheMustMatchAgent" = p_CacheMustMatchAgent,
        "CacheMustMatchConfig" = p_CacheMustMatchConfig,
        "PromptRole" = p_PromptRole,
        "PromptPosition" = p_PromptPosition,
        "Temperature" = p_Temperature,
        "TopP" = p_TopP,
        "TopK" = p_TopK,
        "MinP" = p_MinP,
        "FrequencyPenalty" = p_FrequencyPenalty,
        "PresencePenalty" = p_PresencePenalty,
        "Seed" = p_Seed,
        "StopSequences" = p_StopSequences,
        "IncludeLogProbs" = p_IncludeLogProbs,
        "TopLogProbs" = p_TopLogProbs,
        "FailoverStrategy" = p_FailoverStrategy,
        "FailoverMaxAttempts" = p_FailoverMaxAttempts,
        "FailoverDelaySeconds" = p_FailoverDelaySeconds,
        "FailoverModelStrategy" = p_FailoverModelStrategy,
        "FailoverErrorScope" = p_FailoverErrorScope,
        "EffortLevel" = p_EffortLevel
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIPrompts" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIPrompts" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIPromptRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJAIPromptRunMedias_PromptRunIDID UUID;
    p_MJAIPromptRuns_ParentIDID UUID;
    p_MJAIPromptRuns_ParentID_PromptID UUID;
    p_MJAIPromptRuns_ParentID_ModelID UUID;
    p_MJAIPromptRuns_ParentID_VendorID UUID;
    p_MJAIPromptRuns_ParentID_AgentID UUID;
    p_MJAIPromptRuns_ParentID_ConfigurationID UUID;
    p_MJAIPromptRuns_ParentID_RunAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ParentID_CompletedAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ParentID_ExecutionTimeMS INTEGER;
    p_MJAIPromptRuns_ParentID_Messages TEXT;
    p_MJAIPromptRuns_ParentID_Result TEXT;
    p_MJAIPromptRuns_ParentID_TokensUsed INTEGER;
    p_MJAIPromptRuns_ParentID_TokensPrompt INTEGER;
    p_MJAIPromptRuns_ParentID_TokensCompletion INTEGER;
    p_MJAIPromptRuns_ParentID_TotalCost NUMERIC(18,6);
    p_MJAIPromptRuns_ParentID_Success BOOLEAN;
    p_MJAIPromptRuns_ParentID_ErrorMessage TEXT;
    p_MJAIPromptRuns_ParentID_ParentID UUID;
    p_MJAIPromptRuns_ParentID_RunType VARCHAR(20);
    p_MJAIPromptRuns_ParentID_ExecutionOrder INTEGER;
    p_MJAIPromptRuns_ParentID_AgentRunID UUID;
    p_MJAIPromptRuns_ParentID_Cost NUMERIC(19,8);
    p_MJAIPromptRuns_ParentID_CostCurrency VARCHAR(10);
    p_MJAIPromptRuns_ParentID_TokensUsedRollup INTEGER;
    p_MJAIPromptRuns_ParentID_TokensPromptRollup INTEGER;
    p_MJAIPromptRuns_ParentID_TokensCompletionRollup INTEGER;
    p_MJAIPromptRuns_ParentID_Temperature NUMERIC(3,2);
    p_MJAIPromptRuns_ParentID_TopP NUMERIC(3,2);
    p_MJAIPromptRuns_ParentID_TopK INTEGER;
    p_MJAIPromptRuns_ParentID_MinP NUMERIC(3,2);
    p_MJAIPromptRuns_ParentID_FrequencyPenalty NUMERIC(3,2);
    p_MJAIPromptRuns_ParentID_PresencePenalty NUMERIC(3,2);
    p_MJAIPromptRuns_ParentID_Seed INTEGER;
    p_MJAIPromptRuns_ParentID_StopSequences TEXT;
    p_MJAIPromptRuns_ParentID_ResponseFormat VARCHAR(50);
    p_MJAIPromptRuns_ParentID_LogProbs BOOLEAN;
    p_MJAIPromptRuns_ParentID_TopLogProbs INTEGER;
    p_MJAIPromptRuns_ParentID_DescendantCost NUMERIC(18,6);
    p_MJAIPromptRuns_ParentID_ValidationAttemptCount INTEGER;
    p_MJAIPromptRuns_ParentID_SuccessfulValidationCount INTEGER;
    p_MJAIPromptRuns_ParentID_FinalValidationPassed BOOLEAN;
    p_MJAIPromptRuns_ParentID_ValidationBehavior VARCHAR(50);
    p_MJAIPromptRuns_ParentID_RetryStrategy VARCHAR(50);
    p_MJAIPromptRuns_ParentID_MaxRetriesConfigured INTEGER;
    p_MJAIPromptRuns_ParentID_FinalValidationError VARCHAR(500);
    p_MJAIPromptRuns_ParentID_ValidationErrorCount INTEGER;
    p_MJAIPromptRuns_ParentID_CommonValidationError VARCHAR(255);
    p_MJAIPromptRuns_ParentID_FirstAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ParentID_LastAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ParentID_TotalRetryDurationMS INTEGER;
    p_MJAIPromptRuns_ParentID_ValidationAttempts TEXT;
    p_MJAIPromptRuns_ParentID_ValidationSummary TEXT;
    p_MJAIPromptRuns_ParentID_FailoverAttempts INTEGER;
    p_MJAIPromptRuns_ParentID_FailoverErrors TEXT;
    p_MJAIPromptRuns_ParentID_FailoverDurations TEXT;
    p_MJAIPromptRuns_ParentID_OriginalModelID UUID;
    p_MJAIPromptRuns_ParentID_OriginalRequestStartTime TIMESTAMPTZ;
    p_MJAIPromptRuns_ParentID_TotalFailoverDuration INTEGER;
    p_MJAIPromptRuns_ParentID_RerunFromPromptRunID UUID;
    p_MJAIPromptRuns_ParentID_ModelSelection TEXT;
    p_MJAIPromptRuns_ParentID_Status VARCHAR(50);
    p_MJAIPromptRuns_ParentID_Cancelled BOOLEAN;
    p_MJAIPromptRuns_ParentID_CancellationReason TEXT;
    p_MJAIPromptRuns_ParentID_ModelPowerRank INTEGER;
    p_MJAIPromptRuns_ParentID_SelectionStrategy VARCHAR(50);
    p_MJAIPromptRuns_ParentID_CacheHit BOOLEAN;
    p_MJAIPromptRuns_ParentID_CacheKey VARCHAR(500);
    p_MJAIPromptRuns_ParentID_JudgeID UUID;
    p_MJAIPromptRuns_ParentID_JudgeScore DOUBLE PRECISION;
    p_MJAIPromptRuns_ParentID_WasSelectedResult BOOLEAN;
    p_MJAIPromptRuns_ParentID_StreamingEnabled BOOLEAN;
    p_MJAIPromptRuns_ParentID_FirstTokenTime INTEGER;
    p_MJAIPromptRuns_ParentID_ErrorDetails TEXT;
    p_MJAIPromptRuns_ParentID_ChildPromptID UUID;
    p_MJAIPromptRuns_ParentID_QueueTime INTEGER;
    p_MJAIPromptRuns_ParentID_PromptTime INTEGER;
    p_MJAIPromptRuns_ParentID_CompletionTime INTEGER;
    p_MJAIPromptRuns_ParentID_ModelSpecificResponseDetails TEXT;
    p_MJAIPromptRuns_ParentID_EffortLevel INTEGER;
    p_MJAIPromptRuns_ParentID_RunName VARCHAR(255);
    p_MJAIPromptRuns_ParentID_Comments TEXT;
    p_MJAIPromptRuns_ParentID_TestRunID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunIDID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_PromptID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_ModelID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_VendorID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_AgentID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_ConfigurationID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_RunAt TIMESTAMPTZ;
    p_MJAIPromptRuns_RerunFromPromptRunID_CompletedAt TIMESTAMPTZ;
    p_MJAIPromptRuns_RerunFromPromptRunID_ExecutionTimeMS INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_Messages TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_Result TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_TokensUsed INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_TokensPrompt INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_TokensCompletion INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_TotalCost NUMERIC(18,6);
    p_MJAIPromptRuns_RerunFromPromptRunID_Success BOOLEAN;
    p_MJAIPromptRuns_RerunFromPromptRunID_ErrorMessage TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_ParentID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_RunType VARCHAR(20);
    p_MJAIPromptRuns_RerunFromPromptRunID_ExecutionOrder INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_AgentRunID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_Cost NUMERIC(19,8);
    p_MJAIPromptRuns_RerunFromPromptRunID_CostCurrency VARCHAR(10);
    p_MJAIPromptRuns_RerunFromPromptRunID_TokensUsedRollup INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_TokensPromptRollup INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_TokensCompletionRollup INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_Temperature NUMERIC(3,2);
    p_MJAIPromptRuns_RerunFromPromptRunID_TopP NUMERIC(3,2);
    p_MJAIPromptRuns_RerunFromPromptRunID_TopK INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_MinP NUMERIC(3,2);
    p_MJAIPromptRuns_RerunFromPromptRunID_FrequencyPenalty NUMERIC(3,2);
    p_MJAIPromptRuns_RerunFromPromptRunID_PresencePenalty NUMERIC(3,2);
    p_MJAIPromptRuns_RerunFromPromptRunID_Seed INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_StopSequences TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_ResponseFormat VARCHAR(50);
    p_MJAIPromptRuns_RerunFromPromptRunID_LogProbs BOOLEAN;
    p_MJAIPromptRuns_RerunFromPromptRunID_TopLogProbs INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_DescendantCost NUMERIC(18,6);
    p_MJAIPromptRuns_RerunFromPromptRunID_ValidationAttemptCount INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_SuccessfulValidationCount INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_FinalValidationPassed BOOLEAN;
    p_MJAIPromptRuns_RerunFromPromptRunID_ValidationBehavior VARCHAR(50);
    p_MJAIPromptRuns_RerunFromPromptRunID_RetryStrategy VARCHAR(50);
    p_MJAIPromptRuns_RerunFromPromptRunID_MaxRetriesConfigured INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_FinalValidationError VARCHAR(500);
    p_MJAIPromptRuns_RerunFromPromptRunID_ValidationErrorCount INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_CommonValidationError VARCHAR(255);
    p_MJAIPromptRuns_RerunFromPromptRunID_FirstAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_RerunFromPromptRunID_LastAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_RerunFromPromptRunID_TotalRetryDurationMS INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_ValidationAttempts TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_ValidationSummary TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_FailoverAttempts INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_FailoverErrors TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_FailoverDurations TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_OriginalModelID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_OriginalRequestStartTime TIMESTAMPTZ;
    p_MJAIPromptRuns_RerunFromPromptRunID_TotalFailoverDuration INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_RerunFromPromptRunID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_ModelSelection TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_Status VARCHAR(50);
    p_MJAIPromptRuns_RerunFromPromptRunID_Cancelled BOOLEAN;
    p_MJAIPromptRuns_RerunFromPromptRunID_CancellationReason TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_ModelPowerRank INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_SelectionStrategy VARCHAR(50);
    p_MJAIPromptRuns_RerunFromPromptRunID_CacheHit BOOLEAN;
    p_MJAIPromptRuns_RerunFromPromptRunID_CacheKey VARCHAR(500);
    p_MJAIPromptRuns_RerunFromPromptRunID_JudgeID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_JudgeScore DOUBLE PRECISION;
    p_MJAIPromptRuns_RerunFromPromptRunID_WasSelectedResult BOOLEAN;
    p_MJAIPromptRuns_RerunFromPromptRunID_StreamingEnabled BOOLEAN;
    p_MJAIPromptRuns_RerunFromPromptRunID_FirstTokenTime INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_ErrorDetails TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_ChildPromptID UUID;
    p_MJAIPromptRuns_RerunFromPromptRunID_QueueTime INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_PromptTime INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_CompletionTime INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_ModelSpecificRespon_874f7c TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_EffortLevel INTEGER;
    p_MJAIPromptRuns_RerunFromPromptRunID_RunName VARCHAR(255);
    p_MJAIPromptRuns_RerunFromPromptRunID_Comments TEXT;
    p_MJAIPromptRuns_RerunFromPromptRunID_TestRunID UUID;
    p_MJAIResultCache_PromptRunIDID UUID;
    p_MJAIResultCache_PromptRunID_AIPromptID UUID;
    p_MJAIResultCache_PromptRunID_AIModelID UUID;
    p_MJAIResultCache_PromptRunID_RunAt TIMESTAMPTZ;
    p_MJAIResultCache_PromptRunID_PromptText TEXT;
    p_MJAIResultCache_PromptRunID_ResultText TEXT;
    p_MJAIResultCache_PromptRunID_Status VARCHAR(50);
    p_MJAIResultCache_PromptRunID_ExpiredOn TIMESTAMPTZ;
    p_MJAIResultCache_PromptRunID_VendorID UUID;
    p_MJAIResultCache_PromptRunID_AgentID UUID;
    p_MJAIResultCache_PromptRunID_ConfigurationID UUID;
    p_MJAIResultCache_PromptRunID_PromptEmbedding BYTEA;
    p_MJAIResultCache_PromptRunID_PromptRunID UUID;
BEGIN
-- Cascade delete from AIPromptRunMedia using cursor to call spDeleteAIPromptRunMedia

    FOR _rec IN SELECT "ID" FROM __mj."AIPromptRunMedia" WHERE "PromptRunID" = p_ID
    LOOP
        p_MJAIPromptRunMedias_PromptRunIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIPromptRunMedia"(p_MJAIPromptRunMedias_PromptRunIDID);
        
    END LOOP;
    
    
    -- Cascade update on AIPromptRun using cursor to call spUpdateAIPromptRun


    FOR _rec IN SELECT "ID", "PromptID", "ModelID", "VendorID", "AgentID", "ConfigurationID", "RunAt", "CompletedAt", "ExecutionTimeMS", "Messages", "Result", "TokensUsed", "TokensPrompt", "TokensCompletion", "TotalCost", "Success", "ErrorMessage", "ParentID", "RunType", "ExecutionOrder", "AgentRunID", "Cost", "CostCurrency", "TokensUsedRollup", "TokensPromptRollup", "TokensCompletionRollup", "Temperature", "TopP", "TopK", "MinP", "FrequencyPenalty", "PresencePenalty", "Seed", "StopSequences", "ResponseFormat", "LogProbs", "TopLogProbs", "DescendantCost", "ValidationAttemptCount", "SuccessfulValidationCount", "FinalValidationPassed", "ValidationBehavior", "RetryStrategy", "MaxRetriesConfigured", "FinalValidationError", "ValidationErrorCount", "CommonValidationError", "FirstAttemptAt", "LastAttemptAt", "TotalRetryDurationMS", "ValidationAttempts", "ValidationSummary", "FailoverAttempts", "FailoverErrors", "FailoverDurations", "OriginalModelID", "OriginalRequestStartTime", "TotalFailoverDuration", "RerunFromPromptRunID", "ModelSelection", "Status", "Cancelled", "CancellationReason", "ModelPowerRank", "SelectionStrategy", "CacheHit", "CacheKey", "JudgeID", "JudgeScore", "WasSelectedResult", "StreamingEnabled", "FirstTokenTime", "ErrorDetails", "ChildPromptID", "QueueTime", "PromptTime", "CompletionTime", "ModelSpecificResponseDetails", "EffortLevel", "RunName", "Comments", "TestRunID" FROM __mj."AIPromptRun" WHERE "ParentID" = p_ID
    LOOP
        p_MJAIPromptRuns_ParentIDID := _rec."ID";
        p_MJAIPromptRuns_ParentID_PromptID := _rec."PromptID";
        p_MJAIPromptRuns_ParentID_ModelID := _rec."ModelID";
        p_MJAIPromptRuns_ParentID_VendorID := _rec."VendorID";
        p_MJAIPromptRuns_ParentID_AgentID := _rec."AgentID";
        p_MJAIPromptRuns_ParentID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIPromptRuns_ParentID_RunAt := _rec."RunAt";
        p_MJAIPromptRuns_ParentID_CompletedAt := _rec."CompletedAt";
        p_MJAIPromptRuns_ParentID_ExecutionTimeMS := _rec."ExecutionTimeMS";
        p_MJAIPromptRuns_ParentID_Messages := _rec."Messages";
        p_MJAIPromptRuns_ParentID_Result := _rec."Result";
        p_MJAIPromptRuns_ParentID_TokensUsed := _rec."TokensUsed";
        p_MJAIPromptRuns_ParentID_TokensPrompt := _rec."TokensPrompt";
        p_MJAIPromptRuns_ParentID_TokensCompletion := _rec."TokensCompletion";
        p_MJAIPromptRuns_ParentID_TotalCost := _rec."TotalCost";
        p_MJAIPromptRuns_ParentID_Success := _rec."Success";
        p_MJAIPromptRuns_ParentID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIPromptRuns_ParentID_ParentID := _rec."ParentID";
        p_MJAIPromptRuns_ParentID_RunType := _rec."RunType";
        p_MJAIPromptRuns_ParentID_ExecutionOrder := _rec."ExecutionOrder";
        p_MJAIPromptRuns_ParentID_AgentRunID := _rec."AgentRunID";
        p_MJAIPromptRuns_ParentID_Cost := _rec."Cost";
        p_MJAIPromptRuns_ParentID_CostCurrency := _rec."CostCurrency";
        p_MJAIPromptRuns_ParentID_TokensUsedRollup := _rec."TokensUsedRollup";
        p_MJAIPromptRuns_ParentID_TokensPromptRollup := _rec."TokensPromptRollup";
        p_MJAIPromptRuns_ParentID_TokensCompletionRollup := _rec."TokensCompletionRollup";
        p_MJAIPromptRuns_ParentID_Temperature := _rec."Temperature";
        p_MJAIPromptRuns_ParentID_TopP := _rec."TopP";
        p_MJAIPromptRuns_ParentID_TopK := _rec."TopK";
        p_MJAIPromptRuns_ParentID_MinP := _rec."MinP";
        p_MJAIPromptRuns_ParentID_FrequencyPenalty := _rec."FrequencyPenalty";
        p_MJAIPromptRuns_ParentID_PresencePenalty := _rec."PresencePenalty";
        p_MJAIPromptRuns_ParentID_Seed := _rec."Seed";
        p_MJAIPromptRuns_ParentID_StopSequences := _rec."StopSequences";
        p_MJAIPromptRuns_ParentID_ResponseFormat := _rec."ResponseFormat";
        p_MJAIPromptRuns_ParentID_LogProbs := _rec."LogProbs";
        p_MJAIPromptRuns_ParentID_TopLogProbs := _rec."TopLogProbs";
        p_MJAIPromptRuns_ParentID_DescendantCost := _rec."DescendantCost";
        p_MJAIPromptRuns_ParentID_ValidationAttemptCount := _rec."ValidationAttemptCount";
        p_MJAIPromptRuns_ParentID_SuccessfulValidationCount := _rec."SuccessfulValidationCount";
        p_MJAIPromptRuns_ParentID_FinalValidationPassed := _rec."FinalValidationPassed";
        p_MJAIPromptRuns_ParentID_ValidationBehavior := _rec."ValidationBehavior";
        p_MJAIPromptRuns_ParentID_RetryStrategy := _rec."RetryStrategy";
        p_MJAIPromptRuns_ParentID_MaxRetriesConfigured := _rec."MaxRetriesConfigured";
        p_MJAIPromptRuns_ParentID_FinalValidationError := _rec."FinalValidationError";
        p_MJAIPromptRuns_ParentID_ValidationErrorCount := _rec."ValidationErrorCount";
        p_MJAIPromptRuns_ParentID_CommonValidationError := _rec."CommonValidationError";
        p_MJAIPromptRuns_ParentID_FirstAttemptAt := _rec."FirstAttemptAt";
        p_MJAIPromptRuns_ParentID_LastAttemptAt := _rec."LastAttemptAt";
        p_MJAIPromptRuns_ParentID_TotalRetryDurationMS := _rec."TotalRetryDurationMS";
        p_MJAIPromptRuns_ParentID_ValidationAttempts := _rec."ValidationAttempts";
        p_MJAIPromptRuns_ParentID_ValidationSummary := _rec."ValidationSummary";
        p_MJAIPromptRuns_ParentID_FailoverAttempts := _rec."FailoverAttempts";
        p_MJAIPromptRuns_ParentID_FailoverErrors := _rec."FailoverErrors";
        p_MJAIPromptRuns_ParentID_FailoverDurations := _rec."FailoverDurations";
        p_MJAIPromptRuns_ParentID_OriginalModelID := _rec."OriginalModelID";
        p_MJAIPromptRuns_ParentID_OriginalRequestStartTime := _rec."OriginalRequestStartTime";
        p_MJAIPromptRuns_ParentID_TotalFailoverDuration := _rec."TotalFailoverDuration";
        p_MJAIPromptRuns_ParentID_RerunFromPromptRunID := _rec."RerunFromPromptRunID";
        p_MJAIPromptRuns_ParentID_ModelSelection := _rec."ModelSelection";
        p_MJAIPromptRuns_ParentID_Status := _rec."Status";
        p_MJAIPromptRuns_ParentID_Cancelled := _rec."Cancelled";
        p_MJAIPromptRuns_ParentID_CancellationReason := _rec."CancellationReason";
        p_MJAIPromptRuns_ParentID_ModelPowerRank := _rec."ModelPowerRank";
        p_MJAIPromptRuns_ParentID_SelectionStrategy := _rec."SelectionStrategy";
        p_MJAIPromptRuns_ParentID_CacheHit := _rec."CacheHit";
        p_MJAIPromptRuns_ParentID_CacheKey := _rec."CacheKey";
        p_MJAIPromptRuns_ParentID_JudgeID := _rec."JudgeID";
        p_MJAIPromptRuns_ParentID_JudgeScore := _rec."JudgeScore";
        p_MJAIPromptRuns_ParentID_WasSelectedResult := _rec."WasSelectedResult";
        p_MJAIPromptRuns_ParentID_StreamingEnabled := _rec."StreamingEnabled";
        p_MJAIPromptRuns_ParentID_FirstTokenTime := _rec."FirstTokenTime";
        p_MJAIPromptRuns_ParentID_ErrorDetails := _rec."ErrorDetails";
        p_MJAIPromptRuns_ParentID_ChildPromptID := _rec."ChildPromptID";
        p_MJAIPromptRuns_ParentID_QueueTime := _rec."QueueTime";
        p_MJAIPromptRuns_ParentID_PromptTime := _rec."PromptTime";
        p_MJAIPromptRuns_ParentID_CompletionTime := _rec."CompletionTime";
        p_MJAIPromptRuns_ParentID_ModelSpecificResponseDetails := _rec."ModelSpecificResponseDetails";
        p_MJAIPromptRuns_ParentID_EffortLevel := _rec."EffortLevel";
        p_MJAIPromptRuns_ParentID_RunName := _rec."RunName";
        p_MJAIPromptRuns_ParentID_Comments := _rec."Comments";
        p_MJAIPromptRuns_ParentID_TestRunID := _rec."TestRunID";
        -- Set the FK field to NULL
        p_MJAIPromptRuns_ParentID_ParentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIPromptRun"(p_MJAIPromptRuns_ParentIDID, p_MJAIPromptRuns_ParentID_PromptID, p_MJAIPromptRuns_ParentID_ModelID, p_MJAIPromptRuns_ParentID_VendorID, p_MJAIPromptRuns_ParentID_AgentID, p_MJAIPromptRuns_ParentID_ConfigurationID, p_MJAIPromptRuns_ParentID_RunAt, p_MJAIPromptRuns_ParentID_CompletedAt, p_MJAIPromptRuns_ParentID_ExecutionTimeMS, p_MJAIPromptRuns_ParentID_Messages, p_MJAIPromptRuns_ParentID_Result, p_MJAIPromptRuns_ParentID_TokensUsed, p_MJAIPromptRuns_ParentID_TokensPrompt, p_MJAIPromptRuns_ParentID_TokensCompletion, p_MJAIPromptRuns_ParentID_TotalCost, p_MJAIPromptRuns_ParentID_Success, p_MJAIPromptRuns_ParentID_ErrorMessage, p_MJAIPromptRuns_ParentID_ParentID, p_MJAIPromptRuns_ParentID_RunType, p_MJAIPromptRuns_ParentID_ExecutionOrder, p_MJAIPromptRuns_ParentID_AgentRunID, p_MJAIPromptRuns_ParentID_Cost, p_MJAIPromptRuns_ParentID_CostCurrency, p_MJAIPromptRuns_ParentID_TokensUsedRollup, p_MJAIPromptRuns_ParentID_TokensPromptRollup, p_MJAIPromptRuns_ParentID_TokensCompletionRollup, p_MJAIPromptRuns_ParentID_Temperature, p_MJAIPromptRuns_ParentID_TopP, p_MJAIPromptRuns_ParentID_TopK, p_MJAIPromptRuns_ParentID_MinP, p_MJAIPromptRuns_ParentID_FrequencyPenalty, p_MJAIPromptRuns_ParentID_PresencePenalty, p_MJAIPromptRuns_ParentID_Seed, p_MJAIPromptRuns_ParentID_StopSequences, p_MJAIPromptRuns_ParentID_ResponseFormat, p_MJAIPromptRuns_ParentID_LogProbs, p_MJAIPromptRuns_ParentID_TopLogProbs, p_MJAIPromptRuns_ParentID_DescendantCost, p_MJAIPromptRuns_ParentID_ValidationAttemptCount, p_MJAIPromptRuns_ParentID_SuccessfulValidationCount, p_MJAIPromptRuns_ParentID_FinalValidationPassed, p_MJAIPromptRuns_ParentID_ValidationBehavior, p_MJAIPromptRuns_ParentID_RetryStrategy, p_MJAIPromptRuns_ParentID_MaxRetriesConfigured, p_MJAIPromptRuns_ParentID_FinalValidationError, p_MJAIPromptRuns_ParentID_ValidationErrorCount, p_MJAIPromptRuns_ParentID_CommonValidationError, p_MJAIPromptRuns_ParentID_FirstAttemptAt, p_MJAIPromptRuns_ParentID_LastAttemptAt, p_MJAIPromptRuns_ParentID_TotalRetryDurationMS, p_MJAIPromptRuns_ParentID_ValidationAttempts, p_MJAIPromptRuns_ParentID_ValidationSummary, p_MJAIPromptRuns_ParentID_FailoverAttempts, p_MJAIPromptRuns_ParentID_FailoverErrors, p_MJAIPromptRuns_ParentID_FailoverDurations, p_MJAIPromptRuns_ParentID_OriginalModelID, p_MJAIPromptRuns_ParentID_OriginalRequestStartTime, p_MJAIPromptRuns_ParentID_TotalFailoverDuration, p_MJAIPromptRuns_ParentID_RerunFromPromptRunID, p_MJAIPromptRuns_ParentID_ModelSelection, p_MJAIPromptRuns_ParentID_Status, p_MJAIPromptRuns_ParentID_Cancelled, p_MJAIPromptRuns_ParentID_CancellationReason, p_MJAIPromptRuns_ParentID_ModelPowerRank, p_MJAIPromptRuns_ParentID_SelectionStrategy, p_MJAIPromptRuns_ParentID_CacheHit, p_MJAIPromptRuns_ParentID_CacheKey, p_MJAIPromptRuns_ParentID_JudgeID, p_MJAIPromptRuns_ParentID_JudgeScore, p_MJAIPromptRuns_ParentID_WasSelectedResult, p_MJAIPromptRuns_ParentID_StreamingEnabled, p_MJAIPromptRuns_ParentID_FirstTokenTime, p_MJAIPromptRuns_ParentID_ErrorDetails, p_MJAIPromptRuns_ParentID_ChildPromptID, p_MJAIPromptRuns_ParentID_QueueTime, p_MJAIPromptRuns_ParentID_PromptTime, p_MJAIPromptRuns_ParentID_CompletionTime, p_MJAIPromptRuns_ParentID_ModelSpecificResponseDetails, p_MJAIPromptRuns_ParentID_EffortLevel, p_MJAIPromptRuns_ParentID_RunName, p_MJAIPromptRuns_ParentID_Comments, p_MJAIPromptRuns_ParentID_TestRunID);

    END LOOP;

    
    -- Cascade update on AIPromptRun using cursor to call spUpdateAIPromptRun


    FOR _rec IN SELECT "ID", "PromptID", "ModelID", "VendorID", "AgentID", "ConfigurationID", "RunAt", "CompletedAt", "ExecutionTimeMS", "Messages", "Result", "TokensUsed", "TokensPrompt", "TokensCompletion", "TotalCost", "Success", "ErrorMessage", "ParentID", "RunType", "ExecutionOrder", "AgentRunID", "Cost", "CostCurrency", "TokensUsedRollup", "TokensPromptRollup", "TokensCompletionRollup", "Temperature", "TopP", "TopK", "MinP", "FrequencyPenalty", "PresencePenalty", "Seed", "StopSequences", "ResponseFormat", "LogProbs", "TopLogProbs", "DescendantCost", "ValidationAttemptCount", "SuccessfulValidationCount", "FinalValidationPassed", "ValidationBehavior", "RetryStrategy", "MaxRetriesConfigured", "FinalValidationError", "ValidationErrorCount", "CommonValidationError", "FirstAttemptAt", "LastAttemptAt", "TotalRetryDurationMS", "ValidationAttempts", "ValidationSummary", "FailoverAttempts", "FailoverErrors", "FailoverDurations", "OriginalModelID", "OriginalRequestStartTime", "TotalFailoverDuration", "RerunFromPromptRunID", "ModelSelection", "Status", "Cancelled", "CancellationReason", "ModelPowerRank", "SelectionStrategy", "CacheHit", "CacheKey", "JudgeID", "JudgeScore", "WasSelectedResult", "StreamingEnabled", "FirstTokenTime", "ErrorDetails", "ChildPromptID", "QueueTime", "PromptTime", "CompletionTime", "ModelSpecificResponseDetails", "EffortLevel", "RunName", "Comments", "TestRunID" FROM __mj."AIPromptRun" WHERE "RerunFromPromptRunID" = p_ID
    LOOP
        p_MJAIPromptRuns_RerunFromPromptRunIDID := _rec."ID";
        p_MJAIPromptRuns_RerunFromPromptRunID_PromptID := _rec."PromptID";
        p_MJAIPromptRuns_RerunFromPromptRunID_ModelID := _rec."ModelID";
        p_MJAIPromptRuns_RerunFromPromptRunID_VendorID := _rec."VendorID";
        p_MJAIPromptRuns_RerunFromPromptRunID_AgentID := _rec."AgentID";
        p_MJAIPromptRuns_RerunFromPromptRunID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIPromptRuns_RerunFromPromptRunID_RunAt := _rec."RunAt";
        p_MJAIPromptRuns_RerunFromPromptRunID_CompletedAt := _rec."CompletedAt";
        p_MJAIPromptRuns_RerunFromPromptRunID_ExecutionTimeMS := _rec."ExecutionTimeMS";
        p_MJAIPromptRuns_RerunFromPromptRunID_Messages := _rec."Messages";
        p_MJAIPromptRuns_RerunFromPromptRunID_Result := _rec."Result";
        p_MJAIPromptRuns_RerunFromPromptRunID_TokensUsed := _rec."TokensUsed";
        p_MJAIPromptRuns_RerunFromPromptRunID_TokensPrompt := _rec."TokensPrompt";
        p_MJAIPromptRuns_RerunFromPromptRunID_TokensCompletion := _rec."TokensCompletion";
        p_MJAIPromptRuns_RerunFromPromptRunID_TotalCost := _rec."TotalCost";
        p_MJAIPromptRuns_RerunFromPromptRunID_Success := _rec."Success";
        p_MJAIPromptRuns_RerunFromPromptRunID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIPromptRuns_RerunFromPromptRunID_ParentID := _rec."ParentID";
        p_MJAIPromptRuns_RerunFromPromptRunID_RunType := _rec."RunType";
        p_MJAIPromptRuns_RerunFromPromptRunID_ExecutionOrder := _rec."ExecutionOrder";
        p_MJAIPromptRuns_RerunFromPromptRunID_AgentRunID := _rec."AgentRunID";
        p_MJAIPromptRuns_RerunFromPromptRunID_Cost := _rec."Cost";
        p_MJAIPromptRuns_RerunFromPromptRunID_CostCurrency := _rec."CostCurrency";
        p_MJAIPromptRuns_RerunFromPromptRunID_TokensUsedRollup := _rec."TokensUsedRollup";
        p_MJAIPromptRuns_RerunFromPromptRunID_TokensPromptRollup := _rec."TokensPromptRollup";
        p_MJAIPromptRuns_RerunFromPromptRunID_TokensCompletionRollup := _rec."TokensCompletionRollup";
        p_MJAIPromptRuns_RerunFromPromptRunID_Temperature := _rec."Temperature";
        p_MJAIPromptRuns_RerunFromPromptRunID_TopP := _rec."TopP";
        p_MJAIPromptRuns_RerunFromPromptRunID_TopK := _rec."TopK";
        p_MJAIPromptRuns_RerunFromPromptRunID_MinP := _rec."MinP";
        p_MJAIPromptRuns_RerunFromPromptRunID_FrequencyPenalty := _rec."FrequencyPenalty";
        p_MJAIPromptRuns_RerunFromPromptRunID_PresencePenalty := _rec."PresencePenalty";
        p_MJAIPromptRuns_RerunFromPromptRunID_Seed := _rec."Seed";
        p_MJAIPromptRuns_RerunFromPromptRunID_StopSequences := _rec."StopSequences";
        p_MJAIPromptRuns_RerunFromPromptRunID_ResponseFormat := _rec."ResponseFormat";
        p_MJAIPromptRuns_RerunFromPromptRunID_LogProbs := _rec."LogProbs";
        p_MJAIPromptRuns_RerunFromPromptRunID_TopLogProbs := _rec."TopLogProbs";
        p_MJAIPromptRuns_RerunFromPromptRunID_DescendantCost := _rec."DescendantCost";
        p_MJAIPromptRuns_RerunFromPromptRunID_ValidationAttemptCount := _rec."ValidationAttemptCount";
        p_MJAIPromptRuns_RerunFromPromptRunID_SuccessfulValidationCount := _rec."SuccessfulValidationCount";
        p_MJAIPromptRuns_RerunFromPromptRunID_FinalValidationPassed := _rec."FinalValidationPassed";
        p_MJAIPromptRuns_RerunFromPromptRunID_ValidationBehavior := _rec."ValidationBehavior";
        p_MJAIPromptRuns_RerunFromPromptRunID_RetryStrategy := _rec."RetryStrategy";
        p_MJAIPromptRuns_RerunFromPromptRunID_MaxRetriesConfigured := _rec."MaxRetriesConfigured";
        p_MJAIPromptRuns_RerunFromPromptRunID_FinalValidationError := _rec."FinalValidationError";
        p_MJAIPromptRuns_RerunFromPromptRunID_ValidationErrorCount := _rec."ValidationErrorCount";
        p_MJAIPromptRuns_RerunFromPromptRunID_CommonValidationError := _rec."CommonValidationError";
        p_MJAIPromptRuns_RerunFromPromptRunID_FirstAttemptAt := _rec."FirstAttemptAt";
        p_MJAIPromptRuns_RerunFromPromptRunID_LastAttemptAt := _rec."LastAttemptAt";
        p_MJAIPromptRuns_RerunFromPromptRunID_TotalRetryDurationMS := _rec."TotalRetryDurationMS";
        p_MJAIPromptRuns_RerunFromPromptRunID_ValidationAttempts := _rec."ValidationAttempts";
        p_MJAIPromptRuns_RerunFromPromptRunID_ValidationSummary := _rec."ValidationSummary";
        p_MJAIPromptRuns_RerunFromPromptRunID_FailoverAttempts := _rec."FailoverAttempts";
        p_MJAIPromptRuns_RerunFromPromptRunID_FailoverErrors := _rec."FailoverErrors";
        p_MJAIPromptRuns_RerunFromPromptRunID_FailoverDurations := _rec."FailoverDurations";
        p_MJAIPromptRuns_RerunFromPromptRunID_OriginalModelID := _rec."OriginalModelID";
        p_MJAIPromptRuns_RerunFromPromptRunID_OriginalRequestStartTime := _rec."OriginalRequestStartTime";
        p_MJAIPromptRuns_RerunFromPromptRunID_TotalFailoverDuration := _rec."TotalFailoverDuration";
        p_MJAIPromptRuns_RerunFromPromptRunID_RerunFromPromptRunID := _rec."RerunFromPromptRunID";
        p_MJAIPromptRuns_RerunFromPromptRunID_ModelSelection := _rec."ModelSelection";
        p_MJAIPromptRuns_RerunFromPromptRunID_Status := _rec."Status";
        p_MJAIPromptRuns_RerunFromPromptRunID_Cancelled := _rec."Cancelled";
        p_MJAIPromptRuns_RerunFromPromptRunID_CancellationReason := _rec."CancellationReason";
        p_MJAIPromptRuns_RerunFromPromptRunID_ModelPowerRank := _rec."ModelPowerRank";
        p_MJAIPromptRuns_RerunFromPromptRunID_SelectionStrategy := _rec."SelectionStrategy";
        p_MJAIPromptRuns_RerunFromPromptRunID_CacheHit := _rec."CacheHit";
        p_MJAIPromptRuns_RerunFromPromptRunID_CacheKey := _rec."CacheKey";
        p_MJAIPromptRuns_RerunFromPromptRunID_JudgeID := _rec."JudgeID";
        p_MJAIPromptRuns_RerunFromPromptRunID_JudgeScore := _rec."JudgeScore";
        p_MJAIPromptRuns_RerunFromPromptRunID_WasSelectedResult := _rec."WasSelectedResult";
        p_MJAIPromptRuns_RerunFromPromptRunID_StreamingEnabled := _rec."StreamingEnabled";
        p_MJAIPromptRuns_RerunFromPromptRunID_FirstTokenTime := _rec."FirstTokenTime";
        p_MJAIPromptRuns_RerunFromPromptRunID_ErrorDetails := _rec."ErrorDetails";
        p_MJAIPromptRuns_RerunFromPromptRunID_ChildPromptID := _rec."ChildPromptID";
        p_MJAIPromptRuns_RerunFromPromptRunID_QueueTime := _rec."QueueTime";
        p_MJAIPromptRuns_RerunFromPromptRunID_PromptTime := _rec."PromptTime";
        p_MJAIPromptRuns_RerunFromPromptRunID_CompletionTime := _rec."CompletionTime";
        p_MJAIPromptRuns_RerunFromPromptRunID_ModelSpecificRespon_874f7c := _rec."ModelSpecificResponseDetails";
        p_MJAIPromptRuns_RerunFromPromptRunID_EffortLevel := _rec."EffortLevel";
        p_MJAIPromptRuns_RerunFromPromptRunID_RunName := _rec."RunName";
        p_MJAIPromptRuns_RerunFromPromptRunID_Comments := _rec."Comments";
        p_MJAIPromptRuns_RerunFromPromptRunID_TestRunID := _rec."TestRunID";
        -- Set the FK field to NULL
        p_MJAIPromptRuns_RerunFromPromptRunID_RerunFromPromptRunID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIPromptRun"(p_MJAIPromptRuns_RerunFromPromptRunIDID, p_MJAIPromptRuns_RerunFromPromptRunID_PromptID, p_MJAIPromptRuns_RerunFromPromptRunID_ModelID, p_MJAIPromptRuns_RerunFromPromptRunID_VendorID, p_MJAIPromptRuns_RerunFromPromptRunID_AgentID, p_MJAIPromptRuns_RerunFromPromptRunID_ConfigurationID, p_MJAIPromptRuns_RerunFromPromptRunID_RunAt, p_MJAIPromptRuns_RerunFromPromptRunID_CompletedAt, p_MJAIPromptRuns_RerunFromPromptRunID_ExecutionTimeMS, p_MJAIPromptRuns_RerunFromPromptRunID_Messages, p_MJAIPromptRuns_RerunFromPromptRunID_Result, p_MJAIPromptRuns_RerunFromPromptRunID_TokensUsed, p_MJAIPromptRuns_RerunFromPromptRunID_TokensPrompt, p_MJAIPromptRuns_RerunFromPromptRunID_TokensCompletion, p_MJAIPromptRuns_RerunFromPromptRunID_TotalCost, p_MJAIPromptRuns_RerunFromPromptRunID_Success, p_MJAIPromptRuns_RerunFromPromptRunID_ErrorMessage, p_MJAIPromptRuns_RerunFromPromptRunID_ParentID, p_MJAIPromptRuns_RerunFromPromptRunID_RunType, p_MJAIPromptRuns_RerunFromPromptRunID_ExecutionOrder, p_MJAIPromptRuns_RerunFromPromptRunID_AgentRunID, p_MJAIPromptRuns_RerunFromPromptRunID_Cost, p_MJAIPromptRuns_RerunFromPromptRunID_CostCurrency, p_MJAIPromptRuns_RerunFromPromptRunID_TokensUsedRollup, p_MJAIPromptRuns_RerunFromPromptRunID_TokensPromptRollup, p_MJAIPromptRuns_RerunFromPromptRunID_TokensCompletionRollup, p_MJAIPromptRuns_RerunFromPromptRunID_Temperature, p_MJAIPromptRuns_RerunFromPromptRunID_TopP, p_MJAIPromptRuns_RerunFromPromptRunID_TopK, p_MJAIPromptRuns_RerunFromPromptRunID_MinP, p_MJAIPromptRuns_RerunFromPromptRunID_FrequencyPenalty, p_MJAIPromptRuns_RerunFromPromptRunID_PresencePenalty, p_MJAIPromptRuns_RerunFromPromptRunID_Seed, p_MJAIPromptRuns_RerunFromPromptRunID_StopSequences, p_MJAIPromptRuns_RerunFromPromptRunID_ResponseFormat, p_MJAIPromptRuns_RerunFromPromptRunID_LogProbs, p_MJAIPromptRuns_RerunFromPromptRunID_TopLogProbs, p_MJAIPromptRuns_RerunFromPromptRunID_DescendantCost, p_MJAIPromptRuns_RerunFromPromptRunID_ValidationAttemptCount, p_MJAIPromptRuns_RerunFromPromptRunID_SuccessfulValidationCount, p_MJAIPromptRuns_RerunFromPromptRunID_FinalValidationPassed, p_MJAIPromptRuns_RerunFromPromptRunID_ValidationBehavior, p_MJAIPromptRuns_RerunFromPromptRunID_RetryStrategy, p_MJAIPromptRuns_RerunFromPromptRunID_MaxRetriesConfigured, p_MJAIPromptRuns_RerunFromPromptRunID_FinalValidationError, p_MJAIPromptRuns_RerunFromPromptRunID_ValidationErrorCount, p_MJAIPromptRuns_RerunFromPromptRunID_CommonValidationError, p_MJAIPromptRuns_RerunFromPromptRunID_FirstAttemptAt, p_MJAIPromptRuns_RerunFromPromptRunID_LastAttemptAt, p_MJAIPromptRuns_RerunFromPromptRunID_TotalRetryDurationMS, p_MJAIPromptRuns_RerunFromPromptRunID_ValidationAttempts, p_MJAIPromptRuns_RerunFromPromptRunID_ValidationSummary, p_MJAIPromptRuns_RerunFromPromptRunID_FailoverAttempts, p_MJAIPromptRuns_RerunFromPromptRunID_FailoverErrors, p_MJAIPromptRuns_RerunFromPromptRunID_FailoverDurations, p_MJAIPromptRuns_RerunFromPromptRunID_OriginalModelID, p_MJAIPromptRuns_RerunFromPromptRunID_OriginalRequestStartTime, p_MJAIPromptRuns_RerunFromPromptRunID_TotalFailoverDuration, p_MJAIPromptRuns_RerunFromPromptRunID_RerunFromPromptRunID, p_MJAIPromptRuns_RerunFromPromptRunID_ModelSelection, p_MJAIPromptRuns_RerunFromPromptRunID_Status, p_MJAIPromptRuns_RerunFromPromptRunID_Cancelled, p_MJAIPromptRuns_RerunFromPromptRunID_CancellationReason, p_MJAIPromptRuns_RerunFromPromptRunID_ModelPowerRank, p_MJAIPromptRuns_RerunFromPromptRunID_SelectionStrategy, p_MJAIPromptRuns_RerunFromPromptRunID_CacheHit, p_MJAIPromptRuns_RerunFromPromptRunID_CacheKey, p_MJAIPromptRuns_RerunFromPromptRunID_JudgeID, p_MJAIPromptRuns_RerunFromPromptRunID_JudgeScore, p_MJAIPromptRuns_RerunFromPromptRunID_WasSelectedResult, p_MJAIPromptRuns_RerunFromPromptRunID_StreamingEnabled, p_MJAIPromptRuns_RerunFromPromptRunID_FirstTokenTime, p_MJAIPromptRuns_RerunFromPromptRunID_ErrorDetails, p_MJAIPromptRuns_RerunFromPromptRunID_ChildPromptID, p_MJAIPromptRuns_RerunFromPromptRunID_QueueTime, p_MJAIPromptRuns_RerunFromPromptRunID_PromptTime, p_MJAIPromptRuns_RerunFromPromptRunID_CompletionTime, p_MJAIPromptRuns_RerunFromPromptRunID_ModelSpecificRespon_874f7c, p_MJAIPromptRuns_RerunFromPromptRunID_EffortLevel, p_MJAIPromptRuns_RerunFromPromptRunID_RunName, p_MJAIPromptRuns_RerunFromPromptRunID_Comments, p_MJAIPromptRuns_RerunFromPromptRunID_TestRunID);

    END LOOP;

    
    -- Cascade update on AIResultCache using cursor to call spUpdateAIResultCache


    FOR _rec IN SELECT "ID", "AIPromptID", "AIModelID", "RunAt", "PromptText", "ResultText", "Status", "ExpiredOn", "VendorID", "AgentID", "ConfigurationID", "PromptEmbedding", "PromptRunID" FROM __mj."AIResultCache" WHERE "PromptRunID" = p_ID
    LOOP
        p_MJAIResultCache_PromptRunIDID := _rec."ID";
        p_MJAIResultCache_PromptRunID_AIPromptID := _rec."AIPromptID";
        p_MJAIResultCache_PromptRunID_AIModelID := _rec."AIModelID";
        p_MJAIResultCache_PromptRunID_RunAt := _rec."RunAt";
        p_MJAIResultCache_PromptRunID_PromptText := _rec."PromptText";
        p_MJAIResultCache_PromptRunID_ResultText := _rec."ResultText";
        p_MJAIResultCache_PromptRunID_Status := _rec."Status";
        p_MJAIResultCache_PromptRunID_ExpiredOn := _rec."ExpiredOn";
        p_MJAIResultCache_PromptRunID_VendorID := _rec."VendorID";
        p_MJAIResultCache_PromptRunID_AgentID := _rec."AgentID";
        p_MJAIResultCache_PromptRunID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIResultCache_PromptRunID_PromptEmbedding := _rec."PromptEmbedding";
        p_MJAIResultCache_PromptRunID_PromptRunID := _rec."PromptRunID";
        -- Set the FK field to NULL
        p_MJAIResultCache_PromptRunID_PromptRunID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIResultCache"(p_MJAIResultCache_PromptRunIDID, p_MJAIResultCache_PromptRunID_AIPromptID, p_MJAIResultCache_PromptRunID_AIModelID, p_MJAIResultCache_PromptRunID_RunAt, p_MJAIResultCache_PromptRunID_PromptText, p_MJAIResultCache_PromptRunID_ResultText, p_MJAIResultCache_PromptRunID_Status, p_MJAIResultCache_PromptRunID_ExpiredOn, p_MJAIResultCache_PromptRunID_VendorID, p_MJAIResultCache_PromptRunID_AgentID, p_MJAIResultCache_PromptRunID_ConfigurationID, p_MJAIResultCache_PromptRunID_PromptEmbedding, p_MJAIResultCache_PromptRunID_PromptRunID);

    END LOOP;

    

    DELETE FROM
        __mj."AIPromptRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIPrompt"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJActions_DefaultCompactPromptIDID UUID;
    p_MJActions_DefaultCompactPromptID_CategoryID UUID;
    p_MJActions_DefaultCompactPromptID_Name VARCHAR(425);
    p_MJActions_DefaultCompactPromptID_Description TEXT;
    p_MJActions_DefaultCompactPromptID_Type VARCHAR(20);
    p_MJActions_DefaultCompactPromptID_UserPrompt TEXT;
    p_MJActions_DefaultCompactPromptID_UserComments TEXT;
    p_MJActions_DefaultCompactPromptID_Code TEXT;
    p_MJActions_DefaultCompactPromptID_CodeComments TEXT;
    p_MJActions_DefaultCompactPromptID_CodeApprovalStatus VARCHAR(20);
    p_MJActions_DefaultCompactPromptID_CodeApprovalComments TEXT;
    p_MJActions_DefaultCompactPromptID_CodeApprovedByUserID UUID;
    p_MJActions_DefaultCompactPromptID_CodeApprovedAt TIMESTAMPTZ;
    p_MJActions_DefaultCompactPromptID_CodeLocked BOOLEAN;
    p_MJActions_DefaultCompactPromptID_ForceCodeGeneration BOOLEAN;
    p_MJActions_DefaultCompactPromptID_RetentionPeriod INTEGER;
    p_MJActions_DefaultCompactPromptID_Status VARCHAR(20);
    p_MJActions_DefaultCompactPromptID_DriverClass VARCHAR(255);
    p_MJActions_DefaultCompactPromptID_ParentID UUID;
    p_MJActions_DefaultCompactPromptID_IconClass VARCHAR(100);
    p_MJActions_DefaultCompactPromptID_DefaultCompactPromptID UUID;
    p_MJAIAgentActions_CompactPromptIDID UUID;
    p_MJAIAgentActions_CompactPromptID_AgentID UUID;
    p_MJAIAgentActions_CompactPromptID_ActionID UUID;
    p_MJAIAgentActions_CompactPromptID_Status VARCHAR(15);
    p_MJAIAgentActions_CompactPromptID_MinExecutionsPerRun INTEGER;
    p_MJAIAgentActions_CompactPromptID_MaxExecutionsPerRun INTEGER;
    p_MJAIAgentActions_CompactPromptID_ResultExpirationTurns INTEGER;
    p_MJAIAgentActions_CompactPromptID_ResultExpirationMode VARCHAR(20);
    p_MJAIAgentActions_CompactPromptID_CompactMode VARCHAR(20);
    p_MJAIAgentActions_CompactPromptID_CompactLength INTEGER;
    p_MJAIAgentActions_CompactPromptID_CompactPromptID UUID;
    p_MJAIAgentPrompts_PromptIDID UUID;
    p_MJAIAgentSteps_PromptIDID UUID;
    p_MJAIAgentSteps_PromptID_AgentID UUID;
    p_MJAIAgentSteps_PromptID_Name VARCHAR(255);
    p_MJAIAgentSteps_PromptID_Description TEXT;
    p_MJAIAgentSteps_PromptID_StepType VARCHAR(20);
    p_MJAIAgentSteps_PromptID_StartingStep BOOLEAN;
    p_MJAIAgentSteps_PromptID_TimeoutSeconds INTEGER;
    p_MJAIAgentSteps_PromptID_RetryCount INTEGER;
    p_MJAIAgentSteps_PromptID_OnErrorBehavior VARCHAR(20);
    p_MJAIAgentSteps_PromptID_ActionID UUID;
    p_MJAIAgentSteps_PromptID_SubAgentID UUID;
    p_MJAIAgentSteps_PromptID_PromptID UUID;
    p_MJAIAgentSteps_PromptID_ActionOutputMapping TEXT;
    p_MJAIAgentSteps_PromptID_PositionX INTEGER;
    p_MJAIAgentSteps_PromptID_PositionY INTEGER;
    p_MJAIAgentSteps_PromptID_Width INTEGER;
    p_MJAIAgentSteps_PromptID_Height INTEGER;
    p_MJAIAgentSteps_PromptID_Status VARCHAR(20);
    p_MJAIAgentSteps_PromptID_ActionInputMapping TEXT;
    p_MJAIAgentSteps_PromptID_LoopBodyType VARCHAR(50);
    p_MJAIAgentSteps_PromptID_Configuration TEXT;
    p_MJAIAgentTypes_SystemPromptIDID UUID;
    p_MJAIAgentTypes_SystemPromptID_Name VARCHAR(100);
    p_MJAIAgentTypes_SystemPromptID_Description TEXT;
    p_MJAIAgentTypes_SystemPromptID_SystemPromptID UUID;
    p_MJAIAgentTypes_SystemPromptID_IsActive BOOLEAN;
    p_MJAIAgentTypes_SystemPromptID_AgentPromptPlaceholder VARCHAR(255);
    p_MJAIAgentTypes_SystemPromptID_DriverClass VARCHAR(255);
    p_MJAIAgentTypes_SystemPromptID_UIFormSectionKey VARCHAR(500);
    p_MJAIAgentTypes_SystemPromptID_UIFormKey VARCHAR(500);
    p_MJAIAgentTypes_SystemPromptID_UIFormSectionExpandedByDefault BOOLEAN;
    p_MJAIAgentTypes_SystemPromptID_PromptParamsSchema TEXT;
    p_MJAIAgents_ContextCompressionPromptIDID UUID;
    p_MJAIAgents_ContextCompressionPromptID_Name VARCHAR(255);
    p_MJAIAgents_ContextCompressionPromptID_Description TEXT;
    p_MJAIAgents_ContextCompressionPromptID_LogoURL VARCHAR(255);
    p_MJAIAgents_ContextCompressionPromptID_ParentID UUID;
    p_MJAIAgents_ContextCompressionPromptID_ExposeAsAction BOOLEAN;
    p_MJAIAgents_ContextCompressionPromptID_ExecutionOrder INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_ExecutionMode VARCHAR(20);
    p_MJAIAgents_ContextCompressionPromptID_EnableContextComp_017508 BOOLEAN;
    p_MJAIAgents_ContextCompressionPromptID_ContextCompressio_09124d INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_ContextCompressio_a2467d UUID;
    p_MJAIAgents_ContextCompressionPromptID_ContextCompressio_6c27f1 INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_TypeID UUID;
    p_MJAIAgents_ContextCompressionPromptID_Status VARCHAR(20);
    p_MJAIAgents_ContextCompressionPromptID_DriverClass VARCHAR(255);
    p_MJAIAgents_ContextCompressionPromptID_IconClass VARCHAR(100);
    p_MJAIAgents_ContextCompressionPromptID_ModelSelectionMode VARCHAR(50);
    p_MJAIAgents_ContextCompressionPromptID_PayloadDownstreamPaths TEXT;
    p_MJAIAgents_ContextCompressionPromptID_PayloadUpstreamPaths TEXT;
    p_MJAIAgents_ContextCompressionPromptID_PayloadSelfReadPaths TEXT;
    p_MJAIAgents_ContextCompressionPromptID_PayloadSelfWritePaths TEXT;
    p_MJAIAgents_ContextCompressionPromptID_PayloadScope TEXT;
    p_MJAIAgents_ContextCompressionPromptID_FinalPayloadValidation TEXT;
    p_MJAIAgents_ContextCompressionPromptID_FinalPayloadValid_a7a211 VARCHAR(25);
    p_MJAIAgents_ContextCompressionPromptID_FinalPayloadValid_a47251 INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_MaxCostPerRun NUMERIC(10,4);
    p_MJAIAgents_ContextCompressionPromptID_MaxTokensPerRun INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_MaxIterationsPerRun INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_MaxTimePerRun INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_MinExecutionsPerRun INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_MaxExecutionsPerRun INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_StartingPayloadVa_df2a60 TEXT;
    p_MJAIAgents_ContextCompressionPromptID_StartingPayloadVa_849b88 VARCHAR(25);
    p_MJAIAgents_ContextCompressionPromptID_DefaultPromptEffo_322203 INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_ChatHandlingOption VARCHAR(30);
    p_MJAIAgents_ContextCompressionPromptID_DefaultArtifactTypeID UUID;
    p_MJAIAgents_ContextCompressionPromptID_OwnerUserID UUID;
    p_MJAIAgents_ContextCompressionPromptID_InvocationMode VARCHAR(20);
    p_MJAIAgents_ContextCompressionPromptID_ArtifactCreationMode VARCHAR(20);
    p_MJAIAgents_ContextCompressionPromptID_FunctionalRequirements TEXT;
    p_MJAIAgents_ContextCompressionPromptID_TechnicalDesign TEXT;
    p_MJAIAgents_ContextCompressionPromptID_InjectNotes BOOLEAN;
    p_MJAIAgents_ContextCompressionPromptID_MaxNotesToInject INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_NoteInjectionStrategy VARCHAR(20);
    p_MJAIAgents_ContextCompressionPromptID_InjectExamples BOOLEAN;
    p_MJAIAgents_ContextCompressionPromptID_MaxExamplesToInject INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_ExampleInjectionS_27b212 VARCHAR(20);
    p_MJAIAgents_ContextCompressionPromptID_IsRestricted BOOLEAN;
    p_MJAIAgents_ContextCompressionPromptID_MessageMode VARCHAR(50);
    p_MJAIAgents_ContextCompressionPromptID_MaxMessages INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_AttachmentStorage_81bfaf UUID;
    p_MJAIAgents_ContextCompressionPromptID_AttachmentRootPath VARCHAR(500);
    p_MJAIAgents_ContextCompressionPromptID_InlineStorageThre_804eef INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_AgentTypePromptParams TEXT;
    p_MJAIAgents_ContextCompressionPromptID_ScopeConfig TEXT;
    p_MJAIAgents_ContextCompressionPromptID_NoteRetentionDays INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_ExampleRetentionDays INTEGER;
    p_MJAIAgents_ContextCompressionPromptID_AutoArchiveEnabled BOOLEAN;
    p_MJAIAgents_ContextCompressionPromptID_RerankerConfiguration TEXT;
    p_MJAIConfigurations_DefaultPromptForContextCompressionIDID UUID;
    p_MJAIConfigurations_DefaultPromptForContextCompressionID_Name VARCHAR(100);
    p_MJAIConfigurations_DefaultPromptForContextCompressionID_da9038 TEXT;
    p_MJAIConfigurations_DefaultPromptForContextCompressionID_6adeb7 BOOLEAN;
    p_MJAIConfigurations_DefaultPromptForContextCompressionID_d74408 VARCHAR(20);
    p_MJAIConfigurations_DefaultPromptForContextCompressionID_62528c UUID;
    p_MJAIConfigurations_DefaultPromptForContextCompressionID_dbdd4d UUID;
    p_MJAIConfigurations_DefaultPromptForContextCompressionID_30722a UUID;
    p_MJAIConfigurations_DefaultPromptForContextCompressionID_70e3ed VARCHAR(500);
    p_MJAIConfigurations_DefaultPromptForContextCompressionID_0dd4a4 UUID;
    p_MJAIConfigurations_DefaultPromptForContextSummarizationIDID UUID;
    p_MJAIConfigurations_DefaultPromptForContextSummarization_c5c467 VARCHAR(100);
    p_MJAIConfigurations_DefaultPromptForContextSummarization_6a1d29 TEXT;
    p_MJAIConfigurations_DefaultPromptForContextSummarization_bf32c6 BOOLEAN;
    p_MJAIConfigurations_DefaultPromptForContextSummarization_6fd740 VARCHAR(20);
    p_MJAIConfigurations_DefaultPromptForContextSummarization_ac095a UUID;
    p_MJAIConfigurations_DefaultPromptForContextSummarization_931872 UUID;
    p_MJAIConfigurations_DefaultPromptForContextSummarization_991e80 UUID;
    p_MJAIConfigurations_DefaultPromptForContextSummarization_b4211c VARCHAR(500);
    p_MJAIConfigurations_DefaultPromptForContextSummarization_ce7c84 UUID;
    p_MJAIPromptModels_PromptIDID UUID;
    p_MJAIPromptRuns_PromptIDID UUID;
    p_MJAIPromptRuns_JudgeIDID UUID;
    p_MJAIPromptRuns_JudgeID_PromptID UUID;
    p_MJAIPromptRuns_JudgeID_ModelID UUID;
    p_MJAIPromptRuns_JudgeID_VendorID UUID;
    p_MJAIPromptRuns_JudgeID_AgentID UUID;
    p_MJAIPromptRuns_JudgeID_ConfigurationID UUID;
    p_MJAIPromptRuns_JudgeID_RunAt TIMESTAMPTZ;
    p_MJAIPromptRuns_JudgeID_CompletedAt TIMESTAMPTZ;
    p_MJAIPromptRuns_JudgeID_ExecutionTimeMS INTEGER;
    p_MJAIPromptRuns_JudgeID_Messages TEXT;
    p_MJAIPromptRuns_JudgeID_Result TEXT;
    p_MJAIPromptRuns_JudgeID_TokensUsed INTEGER;
    p_MJAIPromptRuns_JudgeID_TokensPrompt INTEGER;
    p_MJAIPromptRuns_JudgeID_TokensCompletion INTEGER;
    p_MJAIPromptRuns_JudgeID_TotalCost NUMERIC(18,6);
    p_MJAIPromptRuns_JudgeID_Success BOOLEAN;
    p_MJAIPromptRuns_JudgeID_ErrorMessage TEXT;
    p_MJAIPromptRuns_JudgeID_ParentID UUID;
    p_MJAIPromptRuns_JudgeID_RunType VARCHAR(20);
    p_MJAIPromptRuns_JudgeID_ExecutionOrder INTEGER;
    p_MJAIPromptRuns_JudgeID_AgentRunID UUID;
    p_MJAIPromptRuns_JudgeID_Cost NUMERIC(19,8);
    p_MJAIPromptRuns_JudgeID_CostCurrency VARCHAR(10);
    p_MJAIPromptRuns_JudgeID_TokensUsedRollup INTEGER;
    p_MJAIPromptRuns_JudgeID_TokensPromptRollup INTEGER;
    p_MJAIPromptRuns_JudgeID_TokensCompletionRollup INTEGER;
    p_MJAIPromptRuns_JudgeID_Temperature NUMERIC(3,2);
    p_MJAIPromptRuns_JudgeID_TopP NUMERIC(3,2);
    p_MJAIPromptRuns_JudgeID_TopK INTEGER;
    p_MJAIPromptRuns_JudgeID_MinP NUMERIC(3,2);
    p_MJAIPromptRuns_JudgeID_FrequencyPenalty NUMERIC(3,2);
    p_MJAIPromptRuns_JudgeID_PresencePenalty NUMERIC(3,2);
    p_MJAIPromptRuns_JudgeID_Seed INTEGER;
    p_MJAIPromptRuns_JudgeID_StopSequences TEXT;
    p_MJAIPromptRuns_JudgeID_ResponseFormat VARCHAR(50);
    p_MJAIPromptRuns_JudgeID_LogProbs BOOLEAN;
    p_MJAIPromptRuns_JudgeID_TopLogProbs INTEGER;
    p_MJAIPromptRuns_JudgeID_DescendantCost NUMERIC(18,6);
    p_MJAIPromptRuns_JudgeID_ValidationAttemptCount INTEGER;
    p_MJAIPromptRuns_JudgeID_SuccessfulValidationCount INTEGER;
    p_MJAIPromptRuns_JudgeID_FinalValidationPassed BOOLEAN;
    p_MJAIPromptRuns_JudgeID_ValidationBehavior VARCHAR(50);
    p_MJAIPromptRuns_JudgeID_RetryStrategy VARCHAR(50);
    p_MJAIPromptRuns_JudgeID_MaxRetriesConfigured INTEGER;
    p_MJAIPromptRuns_JudgeID_FinalValidationError VARCHAR(500);
    p_MJAIPromptRuns_JudgeID_ValidationErrorCount INTEGER;
    p_MJAIPromptRuns_JudgeID_CommonValidationError VARCHAR(255);
    p_MJAIPromptRuns_JudgeID_FirstAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_JudgeID_LastAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_JudgeID_TotalRetryDurationMS INTEGER;
    p_MJAIPromptRuns_JudgeID_ValidationAttempts TEXT;
    p_MJAIPromptRuns_JudgeID_ValidationSummary TEXT;
    p_MJAIPromptRuns_JudgeID_FailoverAttempts INTEGER;
    p_MJAIPromptRuns_JudgeID_FailoverErrors TEXT;
    p_MJAIPromptRuns_JudgeID_FailoverDurations TEXT;
    p_MJAIPromptRuns_JudgeID_OriginalModelID UUID;
    p_MJAIPromptRuns_JudgeID_OriginalRequestStartTime TIMESTAMPTZ;
    p_MJAIPromptRuns_JudgeID_TotalFailoverDuration INTEGER;
    p_MJAIPromptRuns_JudgeID_RerunFromPromptRunID UUID;
    p_MJAIPromptRuns_JudgeID_ModelSelection TEXT;
    p_MJAIPromptRuns_JudgeID_Status VARCHAR(50);
    p_MJAIPromptRuns_JudgeID_Cancelled BOOLEAN;
    p_MJAIPromptRuns_JudgeID_CancellationReason TEXT;
    p_MJAIPromptRuns_JudgeID_ModelPowerRank INTEGER;
    p_MJAIPromptRuns_JudgeID_SelectionStrategy VARCHAR(50);
    p_MJAIPromptRuns_JudgeID_CacheHit BOOLEAN;
    p_MJAIPromptRuns_JudgeID_CacheKey VARCHAR(500);
    p_MJAIPromptRuns_JudgeID_JudgeID UUID;
    p_MJAIPromptRuns_JudgeID_JudgeScore DOUBLE PRECISION;
    p_MJAIPromptRuns_JudgeID_WasSelectedResult BOOLEAN;
    p_MJAIPromptRuns_JudgeID_StreamingEnabled BOOLEAN;
    p_MJAIPromptRuns_JudgeID_FirstTokenTime INTEGER;
    p_MJAIPromptRuns_JudgeID_ErrorDetails TEXT;
    p_MJAIPromptRuns_JudgeID_ChildPromptID UUID;
    p_MJAIPromptRuns_JudgeID_QueueTime INTEGER;
    p_MJAIPromptRuns_JudgeID_PromptTime INTEGER;
    p_MJAIPromptRuns_JudgeID_CompletionTime INTEGER;
    p_MJAIPromptRuns_JudgeID_ModelSpecificResponseDetails TEXT;
    p_MJAIPromptRuns_JudgeID_EffortLevel INTEGER;
    p_MJAIPromptRuns_JudgeID_RunName VARCHAR(255);
    p_MJAIPromptRuns_JudgeID_Comments TEXT;
    p_MJAIPromptRuns_JudgeID_TestRunID UUID;
    p_MJAIPromptRuns_ChildPromptIDID UUID;
    p_MJAIPromptRuns_ChildPromptID_PromptID UUID;
    p_MJAIPromptRuns_ChildPromptID_ModelID UUID;
    p_MJAIPromptRuns_ChildPromptID_VendorID UUID;
    p_MJAIPromptRuns_ChildPromptID_AgentID UUID;
    p_MJAIPromptRuns_ChildPromptID_ConfigurationID UUID;
    p_MJAIPromptRuns_ChildPromptID_RunAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ChildPromptID_CompletedAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ChildPromptID_ExecutionTimeMS INTEGER;
    p_MJAIPromptRuns_ChildPromptID_Messages TEXT;
    p_MJAIPromptRuns_ChildPromptID_Result TEXT;
    p_MJAIPromptRuns_ChildPromptID_TokensUsed INTEGER;
    p_MJAIPromptRuns_ChildPromptID_TokensPrompt INTEGER;
    p_MJAIPromptRuns_ChildPromptID_TokensCompletion INTEGER;
    p_MJAIPromptRuns_ChildPromptID_TotalCost NUMERIC(18,6);
    p_MJAIPromptRuns_ChildPromptID_Success BOOLEAN;
    p_MJAIPromptRuns_ChildPromptID_ErrorMessage TEXT;
    p_MJAIPromptRuns_ChildPromptID_ParentID UUID;
    p_MJAIPromptRuns_ChildPromptID_RunType VARCHAR(20);
    p_MJAIPromptRuns_ChildPromptID_ExecutionOrder INTEGER;
    p_MJAIPromptRuns_ChildPromptID_AgentRunID UUID;
    p_MJAIPromptRuns_ChildPromptID_Cost NUMERIC(19,8);
    p_MJAIPromptRuns_ChildPromptID_CostCurrency VARCHAR(10);
    p_MJAIPromptRuns_ChildPromptID_TokensUsedRollup INTEGER;
    p_MJAIPromptRuns_ChildPromptID_TokensPromptRollup INTEGER;
    p_MJAIPromptRuns_ChildPromptID_TokensCompletionRollup INTEGER;
    p_MJAIPromptRuns_ChildPromptID_Temperature NUMERIC(3,2);
    p_MJAIPromptRuns_ChildPromptID_TopP NUMERIC(3,2);
    p_MJAIPromptRuns_ChildPromptID_TopK INTEGER;
    p_MJAIPromptRuns_ChildPromptID_MinP NUMERIC(3,2);
    p_MJAIPromptRuns_ChildPromptID_FrequencyPenalty NUMERIC(3,2);
    p_MJAIPromptRuns_ChildPromptID_PresencePenalty NUMERIC(3,2);
    p_MJAIPromptRuns_ChildPromptID_Seed INTEGER;
    p_MJAIPromptRuns_ChildPromptID_StopSequences TEXT;
    p_MJAIPromptRuns_ChildPromptID_ResponseFormat VARCHAR(50);
    p_MJAIPromptRuns_ChildPromptID_LogProbs BOOLEAN;
    p_MJAIPromptRuns_ChildPromptID_TopLogProbs INTEGER;
    p_MJAIPromptRuns_ChildPromptID_DescendantCost NUMERIC(18,6);
    p_MJAIPromptRuns_ChildPromptID_ValidationAttemptCount INTEGER;
    p_MJAIPromptRuns_ChildPromptID_SuccessfulValidationCount INTEGER;
    p_MJAIPromptRuns_ChildPromptID_FinalValidationPassed BOOLEAN;
    p_MJAIPromptRuns_ChildPromptID_ValidationBehavior VARCHAR(50);
    p_MJAIPromptRuns_ChildPromptID_RetryStrategy VARCHAR(50);
    p_MJAIPromptRuns_ChildPromptID_MaxRetriesConfigured INTEGER;
    p_MJAIPromptRuns_ChildPromptID_FinalValidationError VARCHAR(500);
    p_MJAIPromptRuns_ChildPromptID_ValidationErrorCount INTEGER;
    p_MJAIPromptRuns_ChildPromptID_CommonValidationError VARCHAR(255);
    p_MJAIPromptRuns_ChildPromptID_FirstAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ChildPromptID_LastAttemptAt TIMESTAMPTZ;
    p_MJAIPromptRuns_ChildPromptID_TotalRetryDurationMS INTEGER;
    p_MJAIPromptRuns_ChildPromptID_ValidationAttempts TEXT;
    p_MJAIPromptRuns_ChildPromptID_ValidationSummary TEXT;
    p_MJAIPromptRuns_ChildPromptID_FailoverAttempts INTEGER;
    p_MJAIPromptRuns_ChildPromptID_FailoverErrors TEXT;
    p_MJAIPromptRuns_ChildPromptID_FailoverDurations TEXT;
    p_MJAIPromptRuns_ChildPromptID_OriginalModelID UUID;
    p_MJAIPromptRuns_ChildPromptID_OriginalRequestStartTime TIMESTAMPTZ;
    p_MJAIPromptRuns_ChildPromptID_TotalFailoverDuration INTEGER;
    p_MJAIPromptRuns_ChildPromptID_RerunFromPromptRunID UUID;
    p_MJAIPromptRuns_ChildPromptID_ModelSelection TEXT;
    p_MJAIPromptRuns_ChildPromptID_Status VARCHAR(50);
    p_MJAIPromptRuns_ChildPromptID_Cancelled BOOLEAN;
    p_MJAIPromptRuns_ChildPromptID_CancellationReason TEXT;
    p_MJAIPromptRuns_ChildPromptID_ModelPowerRank INTEGER;
    p_MJAIPromptRuns_ChildPromptID_SelectionStrategy VARCHAR(50);
    p_MJAIPromptRuns_ChildPromptID_CacheHit BOOLEAN;
    p_MJAIPromptRuns_ChildPromptID_CacheKey VARCHAR(500);
    p_MJAIPromptRuns_ChildPromptID_JudgeID UUID;
    p_MJAIPromptRuns_ChildPromptID_JudgeScore DOUBLE PRECISION;
    p_MJAIPromptRuns_ChildPromptID_WasSelectedResult BOOLEAN;
    p_MJAIPromptRuns_ChildPromptID_StreamingEnabled BOOLEAN;
    p_MJAIPromptRuns_ChildPromptID_FirstTokenTime INTEGER;
    p_MJAIPromptRuns_ChildPromptID_ErrorDetails TEXT;
    p_MJAIPromptRuns_ChildPromptID_ChildPromptID UUID;
    p_MJAIPromptRuns_ChildPromptID_QueueTime INTEGER;
    p_MJAIPromptRuns_ChildPromptID_PromptTime INTEGER;
    p_MJAIPromptRuns_ChildPromptID_CompletionTime INTEGER;
    p_MJAIPromptRuns_ChildPromptID_ModelSpecificResponseDetails TEXT;
    p_MJAIPromptRuns_ChildPromptID_EffortLevel INTEGER;
    p_MJAIPromptRuns_ChildPromptID_RunName VARCHAR(255);
    p_MJAIPromptRuns_ChildPromptID_Comments TEXT;
    p_MJAIPromptRuns_ChildPromptID_TestRunID UUID;
    p_MJAIPrompts_ResultSelectorPromptIDID UUID;
    p_MJAIPrompts_ResultSelectorPromptID_Name VARCHAR(255);
    p_MJAIPrompts_ResultSelectorPromptID_Description TEXT;
    p_MJAIPrompts_ResultSelectorPromptID_TemplateID UUID;
    p_MJAIPrompts_ResultSelectorPromptID_CategoryID UUID;
    p_MJAIPrompts_ResultSelectorPromptID_TypeID UUID;
    p_MJAIPrompts_ResultSelectorPromptID_Status VARCHAR(50);
    p_MJAIPrompts_ResultSelectorPromptID_ResponseFormat VARCHAR(20);
    p_MJAIPrompts_ResultSelectorPromptID_ModelSpecificRespons_905abd TEXT;
    p_MJAIPrompts_ResultSelectorPromptID_AIModelTypeID UUID;
    p_MJAIPrompts_ResultSelectorPromptID_MinPowerRank INTEGER;
    p_MJAIPrompts_ResultSelectorPromptID_SelectionStrategy VARCHAR(20);
    p_MJAIPrompts_ResultSelectorPromptID_PowerPreference VARCHAR(20);
    p_MJAIPrompts_ResultSelectorPromptID_ParallelizationMode VARCHAR(20);
    p_MJAIPrompts_ResultSelectorPromptID_ParallelCount INTEGER;
    p_MJAIPrompts_ResultSelectorPromptID_ParallelConfigParam VARCHAR(100);
    p_MJAIPrompts_ResultSelectorPromptID_OutputType VARCHAR(50);
    p_MJAIPrompts_ResultSelectorPromptID_OutputExample TEXT;
    p_MJAIPrompts_ResultSelectorPromptID_ValidationBehavior VARCHAR(50);
    p_MJAIPrompts_ResultSelectorPromptID_MaxRetries INTEGER;
    p_MJAIPrompts_ResultSelectorPromptID_RetryDelayMS INTEGER;
    p_MJAIPrompts_ResultSelectorPromptID_RetryStrategy VARCHAR(20);
    p_MJAIPrompts_ResultSelectorPromptID_ResultSelectorPromptID UUID;
    p_MJAIPrompts_ResultSelectorPromptID_EnableCaching BOOLEAN;
    p_MJAIPrompts_ResultSelectorPromptID_CacheTTLSeconds INTEGER;
    p_MJAIPrompts_ResultSelectorPromptID_CacheMatchType VARCHAR(20);
    p_MJAIPrompts_ResultSelectorPromptID_CacheSimilarityThreshold DOUBLE PRECISION;
    p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchModel BOOLEAN;
    p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchVendor BOOLEAN;
    p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchAgent BOOLEAN;
    p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchConfig BOOLEAN;
    p_MJAIPrompts_ResultSelectorPromptID_PromptRole VARCHAR(20);
    p_MJAIPrompts_ResultSelectorPromptID_PromptPosition VARCHAR(20);
    p_MJAIPrompts_ResultSelectorPromptID_Temperature NUMERIC(3,2);
    p_MJAIPrompts_ResultSelectorPromptID_TopP NUMERIC(3,2);
    p_MJAIPrompts_ResultSelectorPromptID_TopK INTEGER;
    p_MJAIPrompts_ResultSelectorPromptID_MinP NUMERIC(3,2);
    p_MJAIPrompts_ResultSelectorPromptID_FrequencyPenalty NUMERIC(3,2);
    p_MJAIPrompts_ResultSelectorPromptID_PresencePenalty NUMERIC(3,2);
    p_MJAIPrompts_ResultSelectorPromptID_Seed INTEGER;
    p_MJAIPrompts_ResultSelectorPromptID_StopSequences VARCHAR(1000);
    p_MJAIPrompts_ResultSelectorPromptID_IncludeLogProbs BOOLEAN;
    p_MJAIPrompts_ResultSelectorPromptID_TopLogProbs INTEGER;
    p_MJAIPrompts_ResultSelectorPromptID_FailoverStrategy VARCHAR(50);
    p_MJAIPrompts_ResultSelectorPromptID_FailoverMaxAttempts INTEGER;
    p_MJAIPrompts_ResultSelectorPromptID_FailoverDelaySeconds INTEGER;
    p_MJAIPrompts_ResultSelectorPromptID_FailoverModelStrategy VARCHAR(50);
    p_MJAIPrompts_ResultSelectorPromptID_FailoverErrorScope VARCHAR(50);
    p_MJAIPrompts_ResultSelectorPromptID_EffortLevel INTEGER;
    p_MJAIResultCache_AIPromptIDID UUID;
BEGIN
-- Cascade update on Action using cursor to call spUpdateAction


    FOR _rec IN SELECT "ID", "CategoryID", "Name", "Description", "Type", "UserPrompt", "UserComments", "Code", "CodeComments", "CodeApprovalStatus", "CodeApprovalComments", "CodeApprovedByUserID", "CodeApprovedAt", "CodeLocked", "ForceCodeGeneration", "RetentionPeriod", "Status", "DriverClass", "ParentID", "IconClass", "DefaultCompactPromptID" FROM __mj."Action" WHERE "DefaultCompactPromptID" = p_ID
    LOOP
        p_MJActions_DefaultCompactPromptIDID := _rec."ID";
        p_MJActions_DefaultCompactPromptID_CategoryID := _rec."CategoryID";
        p_MJActions_DefaultCompactPromptID_Name := _rec."Name";
        p_MJActions_DefaultCompactPromptID_Description := _rec."Description";
        p_MJActions_DefaultCompactPromptID_Type := _rec."Type";
        p_MJActions_DefaultCompactPromptID_UserPrompt := _rec."UserPrompt";
        p_MJActions_DefaultCompactPromptID_UserComments := _rec."UserComments";
        p_MJActions_DefaultCompactPromptID_Code := _rec."Code";
        p_MJActions_DefaultCompactPromptID_CodeComments := _rec."CodeComments";
        p_MJActions_DefaultCompactPromptID_CodeApprovalStatus := _rec."CodeApprovalStatus";
        p_MJActions_DefaultCompactPromptID_CodeApprovalComments := _rec."CodeApprovalComments";
        p_MJActions_DefaultCompactPromptID_CodeApprovedByUserID := _rec."CodeApprovedByUserID";
        p_MJActions_DefaultCompactPromptID_CodeApprovedAt := _rec."CodeApprovedAt";
        p_MJActions_DefaultCompactPromptID_CodeLocked := _rec."CodeLocked";
        p_MJActions_DefaultCompactPromptID_ForceCodeGeneration := _rec."ForceCodeGeneration";
        p_MJActions_DefaultCompactPromptID_RetentionPeriod := _rec."RetentionPeriod";
        p_MJActions_DefaultCompactPromptID_Status := _rec."Status";
        p_MJActions_DefaultCompactPromptID_DriverClass := _rec."DriverClass";
        p_MJActions_DefaultCompactPromptID_ParentID := _rec."ParentID";
        p_MJActions_DefaultCompactPromptID_IconClass := _rec."IconClass";
        p_MJActions_DefaultCompactPromptID_DefaultCompactPromptID := _rec."DefaultCompactPromptID";
        -- Set the FK field to NULL
        p_MJActions_DefaultCompactPromptID_DefaultCompactPromptID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAction"(p_MJActions_DefaultCompactPromptIDID, p_MJActions_DefaultCompactPromptID_CategoryID, p_MJActions_DefaultCompactPromptID_Name, p_MJActions_DefaultCompactPromptID_Description, p_MJActions_DefaultCompactPromptID_Type, p_MJActions_DefaultCompactPromptID_UserPrompt, p_MJActions_DefaultCompactPromptID_UserComments, p_MJActions_DefaultCompactPromptID_Code, p_MJActions_DefaultCompactPromptID_CodeComments, p_MJActions_DefaultCompactPromptID_CodeApprovalStatus, p_MJActions_DefaultCompactPromptID_CodeApprovalComments, p_MJActions_DefaultCompactPromptID_CodeApprovedByUserID, p_MJActions_DefaultCompactPromptID_CodeApprovedAt, p_MJActions_DefaultCompactPromptID_CodeLocked, p_MJActions_DefaultCompactPromptID_ForceCodeGeneration, p_MJActions_DefaultCompactPromptID_RetentionPeriod, p_MJActions_DefaultCompactPromptID_Status, p_MJActions_DefaultCompactPromptID_DriverClass, p_MJActions_DefaultCompactPromptID_ParentID, p_MJActions_DefaultCompactPromptID_IconClass, p_MJActions_DefaultCompactPromptID_DefaultCompactPromptID);

    END LOOP;

    
    -- Cascade update on AIAgentAction using cursor to call spUpdateAIAgentAction


    FOR _rec IN SELECT "ID", "AgentID", "ActionID", "Status", "MinExecutionsPerRun", "MaxExecutionsPerRun", "ResultExpirationTurns", "ResultExpirationMode", "CompactMode", "CompactLength", "CompactPromptID" FROM __mj."AIAgentAction" WHERE "CompactPromptID" = p_ID
    LOOP
        p_MJAIAgentActions_CompactPromptIDID := _rec."ID";
        p_MJAIAgentActions_CompactPromptID_AgentID := _rec."AgentID";
        p_MJAIAgentActions_CompactPromptID_ActionID := _rec."ActionID";
        p_MJAIAgentActions_CompactPromptID_Status := _rec."Status";
        p_MJAIAgentActions_CompactPromptID_MinExecutionsPerRun := _rec."MinExecutionsPerRun";
        p_MJAIAgentActions_CompactPromptID_MaxExecutionsPerRun := _rec."MaxExecutionsPerRun";
        p_MJAIAgentActions_CompactPromptID_ResultExpirationTurns := _rec."ResultExpirationTurns";
        p_MJAIAgentActions_CompactPromptID_ResultExpirationMode := _rec."ResultExpirationMode";
        p_MJAIAgentActions_CompactPromptID_CompactMode := _rec."CompactMode";
        p_MJAIAgentActions_CompactPromptID_CompactLength := _rec."CompactLength";
        p_MJAIAgentActions_CompactPromptID_CompactPromptID := _rec."CompactPromptID";
        -- Set the FK field to NULL
        p_MJAIAgentActions_CompactPromptID_CompactPromptID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentAction"(p_MJAIAgentActions_CompactPromptIDID, p_MJAIAgentActions_CompactPromptID_AgentID, p_MJAIAgentActions_CompactPromptID_ActionID, p_MJAIAgentActions_CompactPromptID_Status, p_MJAIAgentActions_CompactPromptID_MinExecutionsPerRun, p_MJAIAgentActions_CompactPromptID_MaxExecutionsPerRun, p_MJAIAgentActions_CompactPromptID_ResultExpirationTurns, p_MJAIAgentActions_CompactPromptID_ResultExpirationMode, p_MJAIAgentActions_CompactPromptID_CompactMode, p_MJAIAgentActions_CompactPromptID_CompactLength, p_MJAIAgentActions_CompactPromptID_CompactPromptID);

    END LOOP;

    
    -- Cascade delete from AIAgentPrompt using cursor to call spDeleteAIAgentPrompt

    FOR _rec IN SELECT "ID" FROM __mj."AIAgentPrompt" WHERE "PromptID" = p_ID
    LOOP
        p_MJAIAgentPrompts_PromptIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIAgentPrompt"(p_MJAIAgentPrompts_PromptIDID);
        
    END LOOP;
    
    
    -- Cascade update on AIAgentStep using cursor to call spUpdateAIAgentStep


    FOR _rec IN SELECT "ID", "AgentID", "Name", "Description", "StepType", "StartingStep", "TimeoutSeconds", "RetryCount", "OnErrorBehavior", "ActionID", "SubAgentID", "PromptID", "ActionOutputMapping", "PositionX", "PositionY", "Width", "Height", "Status", "ActionInputMapping", "LoopBodyType", "Configuration" FROM __mj."AIAgentStep" WHERE "PromptID" = p_ID
    LOOP
        p_MJAIAgentSteps_PromptIDID := _rec."ID";
        p_MJAIAgentSteps_PromptID_AgentID := _rec."AgentID";
        p_MJAIAgentSteps_PromptID_Name := _rec."Name";
        p_MJAIAgentSteps_PromptID_Description := _rec."Description";
        p_MJAIAgentSteps_PromptID_StepType := _rec."StepType";
        p_MJAIAgentSteps_PromptID_StartingStep := _rec."StartingStep";
        p_MJAIAgentSteps_PromptID_TimeoutSeconds := _rec."TimeoutSeconds";
        p_MJAIAgentSteps_PromptID_RetryCount := _rec."RetryCount";
        p_MJAIAgentSteps_PromptID_OnErrorBehavior := _rec."OnErrorBehavior";
        p_MJAIAgentSteps_PromptID_ActionID := _rec."ActionID";
        p_MJAIAgentSteps_PromptID_SubAgentID := _rec."SubAgentID";
        p_MJAIAgentSteps_PromptID_PromptID := _rec."PromptID";
        p_MJAIAgentSteps_PromptID_ActionOutputMapping := _rec."ActionOutputMapping";
        p_MJAIAgentSteps_PromptID_PositionX := _rec."PositionX";
        p_MJAIAgentSteps_PromptID_PositionY := _rec."PositionY";
        p_MJAIAgentSteps_PromptID_Width := _rec."Width";
        p_MJAIAgentSteps_PromptID_Height := _rec."Height";
        p_MJAIAgentSteps_PromptID_Status := _rec."Status";
        p_MJAIAgentSteps_PromptID_ActionInputMapping := _rec."ActionInputMapping";
        p_MJAIAgentSteps_PromptID_LoopBodyType := _rec."LoopBodyType";
        p_MJAIAgentSteps_PromptID_Configuration := _rec."Configuration";
        -- Set the FK field to NULL
        p_MJAIAgentSteps_PromptID_PromptID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentStep"(p_MJAIAgentSteps_PromptIDID, p_MJAIAgentSteps_PromptID_AgentID, p_MJAIAgentSteps_PromptID_Name, p_MJAIAgentSteps_PromptID_Description, p_MJAIAgentSteps_PromptID_StepType, p_MJAIAgentSteps_PromptID_StartingStep, p_MJAIAgentSteps_PromptID_TimeoutSeconds, p_MJAIAgentSteps_PromptID_RetryCount, p_MJAIAgentSteps_PromptID_OnErrorBehavior, p_MJAIAgentSteps_PromptID_ActionID, p_MJAIAgentSteps_PromptID_SubAgentID, p_MJAIAgentSteps_PromptID_PromptID, p_MJAIAgentSteps_PromptID_ActionOutputMapping, p_MJAIAgentSteps_PromptID_PositionX, p_MJAIAgentSteps_PromptID_PositionY, p_MJAIAgentSteps_PromptID_Width, p_MJAIAgentSteps_PromptID_Height, p_MJAIAgentSteps_PromptID_Status, p_MJAIAgentSteps_PromptID_ActionInputMapping, p_MJAIAgentSteps_PromptID_LoopBodyType, p_MJAIAgentSteps_PromptID_Configuration);

    END LOOP;

    
    -- Cascade update on AIAgentType using cursor to call spUpdateAIAgentType


    FOR _rec IN SELECT "ID", "Name", "Description", "SystemPromptID", "IsActive", "AgentPromptPlaceholder", "DriverClass", "UIFormSectionKey", "UIFormKey", "UIFormSectionExpandedByDefault", "PromptParamsSchema" FROM __mj."AIAgentType" WHERE "SystemPromptID" = p_ID
    LOOP
        p_MJAIAgentTypes_SystemPromptIDID := _rec."ID";
        p_MJAIAgentTypes_SystemPromptID_Name := _rec."Name";
        p_MJAIAgentTypes_SystemPromptID_Description := _rec."Description";
        p_MJAIAgentTypes_SystemPromptID_SystemPromptID := _rec."SystemPromptID";
        p_MJAIAgentTypes_SystemPromptID_IsActive := _rec."IsActive";
        p_MJAIAgentTypes_SystemPromptID_AgentPromptPlaceholder := _rec."AgentPromptPlaceholder";
        p_MJAIAgentTypes_SystemPromptID_DriverClass := _rec."DriverClass";
        p_MJAIAgentTypes_SystemPromptID_UIFormSectionKey := _rec."UIFormSectionKey";
        p_MJAIAgentTypes_SystemPromptID_UIFormKey := _rec."UIFormKey";
        p_MJAIAgentTypes_SystemPromptID_UIFormSectionExpandedByDefault := _rec."UIFormSectionExpandedByDefault";
        p_MJAIAgentTypes_SystemPromptID_PromptParamsSchema := _rec."PromptParamsSchema";
        -- Set the FK field to NULL
        p_MJAIAgentTypes_SystemPromptID_SystemPromptID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentType"(p_MJAIAgentTypes_SystemPromptIDID, p_MJAIAgentTypes_SystemPromptID_Name, p_MJAIAgentTypes_SystemPromptID_Description, p_MJAIAgentTypes_SystemPromptID_SystemPromptID, p_MJAIAgentTypes_SystemPromptID_IsActive, p_MJAIAgentTypes_SystemPromptID_AgentPromptPlaceholder, p_MJAIAgentTypes_SystemPromptID_DriverClass, p_MJAIAgentTypes_SystemPromptID_UIFormSectionKey, p_MJAIAgentTypes_SystemPromptID_UIFormKey, p_MJAIAgentTypes_SystemPromptID_UIFormSectionExpandedByDefault, p_MJAIAgentTypes_SystemPromptID_PromptParamsSchema);

    END LOOP;

    
    -- Cascade update on AIAgent using cursor to call spUpdateAIAgent


    FOR _rec IN SELECT "ID", "Name", "Description", "LogoURL", "ParentID", "ExposeAsAction", "ExecutionOrder", "ExecutionMode", "EnableContextCompression", "ContextCompressionMessageThreshold", "ContextCompressionPromptID", "ContextCompressionMessageRetentionCount", "TypeID", "Status", "DriverClass", "IconClass", "ModelSelectionMode", "PayloadDownstreamPaths", "PayloadUpstreamPaths", "PayloadSelfReadPaths", "PayloadSelfWritePaths", "PayloadScope", "FinalPayloadValidation", "FinalPayloadValidationMode", "FinalPayloadValidationMaxRetries", "MaxCostPerRun", "MaxTokensPerRun", "MaxIterationsPerRun", "MaxTimePerRun", "MinExecutionsPerRun", "MaxExecutionsPerRun", "StartingPayloadValidation", "StartingPayloadValidationMode", "DefaultPromptEffortLevel", "ChatHandlingOption", "DefaultArtifactTypeID", "OwnerUserID", "InvocationMode", "ArtifactCreationMode", "FunctionalRequirements", "TechnicalDesign", "InjectNotes", "MaxNotesToInject", "NoteInjectionStrategy", "InjectExamples", "MaxExamplesToInject", "ExampleInjectionStrategy", "IsRestricted", "MessageMode", "MaxMessages", "AttachmentStorageProviderID", "AttachmentRootPath", "InlineStorageThresholdBytes", "AgentTypePromptParams", "ScopeConfig", "NoteRetentionDays", "ExampleRetentionDays", "AutoArchiveEnabled", "RerankerConfiguration" FROM __mj."AIAgent" WHERE "ContextCompressionPromptID" = p_ID
    LOOP
        p_MJAIAgents_ContextCompressionPromptIDID := _rec."ID";
        p_MJAIAgents_ContextCompressionPromptID_Name := _rec."Name";
        p_MJAIAgents_ContextCompressionPromptID_Description := _rec."Description";
        p_MJAIAgents_ContextCompressionPromptID_LogoURL := _rec."LogoURL";
        p_MJAIAgents_ContextCompressionPromptID_ParentID := _rec."ParentID";
        p_MJAIAgents_ContextCompressionPromptID_ExposeAsAction := _rec."ExposeAsAction";
        p_MJAIAgents_ContextCompressionPromptID_ExecutionOrder := _rec."ExecutionOrder";
        p_MJAIAgents_ContextCompressionPromptID_ExecutionMode := _rec."ExecutionMode";
        p_MJAIAgents_ContextCompressionPromptID_EnableContextComp_017508 := _rec."EnableContextCompression";
        p_MJAIAgents_ContextCompressionPromptID_ContextCompressio_09124d := _rec."ContextCompressionMessageThreshold";
        p_MJAIAgents_ContextCompressionPromptID_ContextCompressio_a2467d := _rec."ContextCompressionPromptID";
        p_MJAIAgents_ContextCompressionPromptID_ContextCompressio_6c27f1 := _rec."ContextCompressionMessageRetentionCount";
        p_MJAIAgents_ContextCompressionPromptID_TypeID := _rec."TypeID";
        p_MJAIAgents_ContextCompressionPromptID_Status := _rec."Status";
        p_MJAIAgents_ContextCompressionPromptID_DriverClass := _rec."DriverClass";
        p_MJAIAgents_ContextCompressionPromptID_IconClass := _rec."IconClass";
        p_MJAIAgents_ContextCompressionPromptID_ModelSelectionMode := _rec."ModelSelectionMode";
        p_MJAIAgents_ContextCompressionPromptID_PayloadDownstreamPaths := _rec."PayloadDownstreamPaths";
        p_MJAIAgents_ContextCompressionPromptID_PayloadUpstreamPaths := _rec."PayloadUpstreamPaths";
        p_MJAIAgents_ContextCompressionPromptID_PayloadSelfReadPaths := _rec."PayloadSelfReadPaths";
        p_MJAIAgents_ContextCompressionPromptID_PayloadSelfWritePaths := _rec."PayloadSelfWritePaths";
        p_MJAIAgents_ContextCompressionPromptID_PayloadScope := _rec."PayloadScope";
        p_MJAIAgents_ContextCompressionPromptID_FinalPayloadValidation := _rec."FinalPayloadValidation";
        p_MJAIAgents_ContextCompressionPromptID_FinalPayloadValid_a7a211 := _rec."FinalPayloadValidationMode";
        p_MJAIAgents_ContextCompressionPromptID_FinalPayloadValid_a47251 := _rec."FinalPayloadValidationMaxRetries";
        p_MJAIAgents_ContextCompressionPromptID_MaxCostPerRun := _rec."MaxCostPerRun";
        p_MJAIAgents_ContextCompressionPromptID_MaxTokensPerRun := _rec."MaxTokensPerRun";
        p_MJAIAgents_ContextCompressionPromptID_MaxIterationsPerRun := _rec."MaxIterationsPerRun";
        p_MJAIAgents_ContextCompressionPromptID_MaxTimePerRun := _rec."MaxTimePerRun";
        p_MJAIAgents_ContextCompressionPromptID_MinExecutionsPerRun := _rec."MinExecutionsPerRun";
        p_MJAIAgents_ContextCompressionPromptID_MaxExecutionsPerRun := _rec."MaxExecutionsPerRun";
        p_MJAIAgents_ContextCompressionPromptID_StartingPayloadVa_df2a60 := _rec."StartingPayloadValidation";
        p_MJAIAgents_ContextCompressionPromptID_StartingPayloadVa_df2a60Mode := _rec."StartingPayloadValidationMode";
        p_MJAIAgents_ContextCompressionPromptID_DefaultPromptEffo_322203 := _rec."DefaultPromptEffortLevel";
        p_MJAIAgents_ContextCompressionPromptID_ChatHandlingOption := _rec."ChatHandlingOption";
        p_MJAIAgents_ContextCompressionPromptID_DefaultArtifactTypeID := _rec."DefaultArtifactTypeID";
        p_MJAIAgents_ContextCompressionPromptID_OwnerUserID := _rec."OwnerUserID";
        p_MJAIAgents_ContextCompressionPromptID_InvocationMode := _rec."InvocationMode";
        p_MJAIAgents_ContextCompressionPromptID_ArtifactCreationMode := _rec."ArtifactCreationMode";
        p_MJAIAgents_ContextCompressionPromptID_FunctionalRequirements := _rec."FunctionalRequirements";
        p_MJAIAgents_ContextCompressionPromptID_TechnicalDesign := _rec."TechnicalDesign";
        p_MJAIAgents_ContextCompressionPromptID_InjectNotes := _rec."InjectNotes";
        p_MJAIAgents_ContextCompressionPromptID_MaxNotesToInject := _rec."MaxNotesToInject";
        p_MJAIAgents_ContextCompressionPromptID_NoteInjectionStrategy := _rec."NoteInjectionStrategy";
        p_MJAIAgents_ContextCompressionPromptID_InjectExamples := _rec."InjectExamples";
        p_MJAIAgents_ContextCompressionPromptID_MaxExamplesToInject := _rec."MaxExamplesToInject";
        p_MJAIAgents_ContextCompressionPromptID_ExampleInjectionS_27b212 := _rec."ExampleInjectionStrategy";
        p_MJAIAgents_ContextCompressionPromptID_IsRestricted := _rec."IsRestricted";
        p_MJAIAgents_ContextCompressionPromptID_MessageMode := _rec."MessageMode";
        p_MJAIAgents_ContextCompressionPromptID_MaxMessages := _rec."MaxMessages";
        p_MJAIAgents_ContextCompressionPromptID_AttachmentStorage_81bfaf := _rec."AttachmentStorageProviderID";
        p_MJAIAgents_ContextCompressionPromptID_AttachmentRootPath := _rec."AttachmentRootPath";
        p_MJAIAgents_ContextCompressionPromptID_InlineStorageThre_804eef := _rec."InlineStorageThresholdBytes";
        p_MJAIAgents_ContextCompressionPromptID_AgentTypePromptParams := _rec."AgentTypePromptParams";
        p_MJAIAgents_ContextCompressionPromptID_ScopeConfig := _rec."ScopeConfig";
        p_MJAIAgents_ContextCompressionPromptID_NoteRetentionDays := _rec."NoteRetentionDays";
        p_MJAIAgents_ContextCompressionPromptID_ExampleRetentionDays := _rec."ExampleRetentionDays";
        p_MJAIAgents_ContextCompressionPromptID_AutoArchiveEnabled := _rec."AutoArchiveEnabled";
        p_MJAIAgents_ContextCompressionPromptID_RerankerConfiguration := _rec."RerankerConfiguration";
        -- Set the FK field to NULL
        p_MJAIAgents_ContextCompressionPromptID_ContextCompressio_a2467d := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgent"(p_MJAIAgents_ContextCompressionPromptIDID, p_MJAIAgents_ContextCompressionPromptID_Name, p_MJAIAgents_ContextCompressionPromptID_Description, p_MJAIAgents_ContextCompressionPromptID_LogoURL, p_MJAIAgents_ContextCompressionPromptID_ParentID, p_MJAIAgents_ContextCompressionPromptID_ExposeAsAction, p_MJAIAgents_ContextCompressionPromptID_ExecutionOrder, p_MJAIAgents_ContextCompressionPromptID_ExecutionMode, p_MJAIAgents_ContextCompressionPromptID_EnableContextComp_017508, p_MJAIAgents_ContextCompressionPromptID_ContextCompressio_09124d, p_MJAIAgents_ContextCompressionPromptID_ContextCompressio_a2467d, p_MJAIAgents_ContextCompressionPromptID_ContextCompressio_6c27f1, p_MJAIAgents_ContextCompressionPromptID_TypeID, p_MJAIAgents_ContextCompressionPromptID_Status, p_MJAIAgents_ContextCompressionPromptID_DriverClass, p_MJAIAgents_ContextCompressionPromptID_IconClass, p_MJAIAgents_ContextCompressionPromptID_ModelSelectionMode, p_MJAIAgents_ContextCompressionPromptID_PayloadDownstreamPaths, p_MJAIAgents_ContextCompressionPromptID_PayloadUpstreamPaths, p_MJAIAgents_ContextCompressionPromptID_PayloadSelfReadPaths, p_MJAIAgents_ContextCompressionPromptID_PayloadSelfWritePaths, p_MJAIAgents_ContextCompressionPromptID_PayloadScope, p_MJAIAgents_ContextCompressionPromptID_FinalPayloadValidation, p_MJAIAgents_ContextCompressionPromptID_FinalPayloadValid_a7a211, p_MJAIAgents_ContextCompressionPromptID_FinalPayloadValid_a47251, p_MJAIAgents_ContextCompressionPromptID_MaxCostPerRun, p_MJAIAgents_ContextCompressionPromptID_MaxTokensPerRun, p_MJAIAgents_ContextCompressionPromptID_MaxIterationsPerRun, p_MJAIAgents_ContextCompressionPromptID_MaxTimePerRun, p_MJAIAgents_ContextCompressionPromptID_MinExecutionsPerRun, p_MJAIAgents_ContextCompressionPromptID_MaxExecutionsPerRun, p_MJAIAgents_ContextCompressionPromptID_StartingPayloadVa_df2a60, p_MJAIAgents_ContextCompressionPromptID_StartingPayloadVa_df2a60Mode, p_MJAIAgents_ContextCompressionPromptID_DefaultPromptEffo_322203, p_MJAIAgents_ContextCompressionPromptID_ChatHandlingOption, p_MJAIAgents_ContextCompressionPromptID_DefaultArtifactTypeID, p_MJAIAgents_ContextCompressionPromptID_OwnerUserID, p_MJAIAgents_ContextCompressionPromptID_InvocationMode, p_MJAIAgents_ContextCompressionPromptID_ArtifactCreationMode, p_MJAIAgents_ContextCompressionPromptID_FunctionalRequirements, p_MJAIAgents_ContextCompressionPromptID_TechnicalDesign, p_MJAIAgents_ContextCompressionPromptID_InjectNotes, p_MJAIAgents_ContextCompressionPromptID_MaxNotesToInject, p_MJAIAgents_ContextCompressionPromptID_NoteInjectionStrategy, p_MJAIAgents_ContextCompressionPromptID_InjectExamples, p_MJAIAgents_ContextCompressionPromptID_MaxExamplesToInject, p_MJAIAgents_ContextCompressionPromptID_ExampleInjectionS_27b212, p_MJAIAgents_ContextCompressionPromptID_IsRestricted, p_MJAIAgents_ContextCompressionPromptID_MessageMode, p_MJAIAgents_ContextCompressionPromptID_MaxMessages, p_MJAIAgents_ContextCompressionPromptID_AttachmentStorage_81bfaf, p_MJAIAgents_ContextCompressionPromptID_AttachmentRootPath, p_MJAIAgents_ContextCompressionPromptID_InlineStorageThre_804eef, p_MJAIAgents_ContextCompressionPromptID_AgentTypePromptParams, p_MJAIAgents_ContextCompressionPromptID_ScopeConfig, p_MJAIAgents_ContextCompressionPromptID_NoteRetentionDays, p_MJAIAgents_ContextCompressionPromptID_ExampleRetentionDays, p_MJAIAgents_ContextCompressionPromptID_AutoArchiveEnabled, p_MJAIAgents_ContextCompressionPromptID_RerankerConfiguration);

    END LOOP;

    
    -- Cascade update on AIConfiguration using cursor to call spUpdateAIConfiguration


    FOR _rec IN SELECT "ID", "Name", "Description", "IsDefault", "Status", "DefaultPromptForContextCompressionID", "DefaultPromptForContextSummarizationID", "DefaultStorageProviderID", "DefaultStorageRootPath", "ParentID" FROM __mj."AIConfiguration" WHERE "DefaultPromptForContextCompressionID" = p_ID
    LOOP
        p_MJAIConfigurations_DefaultPromptForContextCompressionIDID := _rec."ID";
        p_MJAIConfigurations_DefaultPromptForContextCompressionID_Name := _rec."Name";
        p_MJAIConfigurations_DefaultPromptForContextCompressionID_da9038 := _rec."Description";
        p_MJAIConfigurations_DefaultPromptForContextCompressionID_6adeb7 := _rec."IsDefault";
        p_MJAIConfigurations_DefaultPromptForContextCompressionID_d74408 := _rec."Status";
        p_MJAIConfigurations_DefaultPromptForContextCompressionID_62528c := _rec."DefaultPromptForContextCompressionID";
        p_MJAIConfigurations_DefaultPromptForContextCompressionID_dbdd4d := _rec."DefaultPromptForContextSummarizationID";
        p_MJAIConfigurations_DefaultPromptForContextCompressionID_30722a := _rec."DefaultStorageProviderID";
        p_MJAIConfigurations_DefaultPromptForContextCompressionID_70e3ed := _rec."DefaultStorageRootPath";
        p_MJAIConfigurations_DefaultPromptForContextCompressionID_0dd4a4 := _rec."ParentID";
        -- Set the FK field to NULL
        p_MJAIConfigurations_DefaultPromptForContextCompressionID_62528c := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIConfiguration"(p_MJAIConfigurations_DefaultPromptForContextCompressionIDID, p_MJAIConfigurations_DefaultPromptForContextCompressionID_Name, p_MJAIConfigurations_DefaultPromptForContextCompressionID_da9038, p_MJAIConfigurations_DefaultPromptForContextCompressionID_6adeb7, p_MJAIConfigurations_DefaultPromptForContextCompressionID_d74408, p_MJAIConfigurations_DefaultPromptForContextCompressionID_62528c, p_MJAIConfigurations_DefaultPromptForContextCompressionID_dbdd4d, p_MJAIConfigurations_DefaultPromptForContextCompressionID_30722a, p_MJAIConfigurations_DefaultPromptForContextCompressionID_70e3ed, p_MJAIConfigurations_DefaultPromptForContextCompressionID_0dd4a4);

    END LOOP;

    
    -- Cascade update on AIConfiguration using cursor to call spUpdateAIConfiguration


    FOR _rec IN SELECT "ID", "Name", "Description", "IsDefault", "Status", "DefaultPromptForContextCompressionID", "DefaultPromptForContextSummarizationID", "DefaultStorageProviderID", "DefaultStorageRootPath", "ParentID" FROM __mj."AIConfiguration" WHERE "DefaultPromptForContextSummarizationID" = p_ID
    LOOP
        p_MJAIConfigurations_DefaultPromptForContextSummarizationIDID := _rec."ID";
        p_MJAIConfigurations_DefaultPromptForContextSummarization_c5c467 := _rec."Name";
        p_MJAIConfigurations_DefaultPromptForContextSummarization_6a1d29 := _rec."Description";
        p_MJAIConfigurations_DefaultPromptForContextSummarization_bf32c6 := _rec."IsDefault";
        p_MJAIConfigurations_DefaultPromptForContextSummarization_6fd740 := _rec."Status";
        p_MJAIConfigurations_DefaultPromptForContextSummarization_ac095a := _rec."DefaultPromptForContextCompressionID";
        p_MJAIConfigurations_DefaultPromptForContextSummarization_931872 := _rec."DefaultPromptForContextSummarizationID";
        p_MJAIConfigurations_DefaultPromptForContextSummarization_991e80 := _rec."DefaultStorageProviderID";
        p_MJAIConfigurations_DefaultPromptForContextSummarization_b4211c := _rec."DefaultStorageRootPath";
        p_MJAIConfigurations_DefaultPromptForContextSummarization_ce7c84 := _rec."ParentID";
        -- Set the FK field to NULL
        p_MJAIConfigurations_DefaultPromptForContextSummarization_931872 := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIConfiguration"(p_MJAIConfigurations_DefaultPromptForContextSummarizationIDID, p_MJAIConfigurations_DefaultPromptForContextSummarization_c5c467, p_MJAIConfigurations_DefaultPromptForContextSummarization_6a1d29, p_MJAIConfigurations_DefaultPromptForContextSummarization_bf32c6, p_MJAIConfigurations_DefaultPromptForContextSummarization_6fd740, p_MJAIConfigurations_DefaultPromptForContextSummarization_ac095a, p_MJAIConfigurations_DefaultPromptForContextSummarization_931872, p_MJAIConfigurations_DefaultPromptForContextSummarization_991e80, p_MJAIConfigurations_DefaultPromptForContextSummarization_b4211c, p_MJAIConfigurations_DefaultPromptForContextSummarization_ce7c84);

    END LOOP;

    
    -- Cascade delete from AIPromptModel using cursor to call spDeleteAIPromptModel

    FOR _rec IN SELECT "ID" FROM __mj."AIPromptModel" WHERE "PromptID" = p_ID
    LOOP
        p_MJAIPromptModels_PromptIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIPromptModel"(p_MJAIPromptModels_PromptIDID);
        
    END LOOP;
    
    
    -- Cascade delete from AIPromptRun using cursor to call spDeleteAIPromptRun

    FOR _rec IN SELECT "ID" FROM __mj."AIPromptRun" WHERE "PromptID" = p_ID
    LOOP
        p_MJAIPromptRuns_PromptIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIPromptRun"(p_MJAIPromptRuns_PromptIDID);
        
    END LOOP;
    
    
    -- Cascade update on AIPromptRun using cursor to call spUpdateAIPromptRun


    FOR _rec IN SELECT "ID", "PromptID", "ModelID", "VendorID", "AgentID", "ConfigurationID", "RunAt", "CompletedAt", "ExecutionTimeMS", "Messages", "Result", "TokensUsed", "TokensPrompt", "TokensCompletion", "TotalCost", "Success", "ErrorMessage", "ParentID", "RunType", "ExecutionOrder", "AgentRunID", "Cost", "CostCurrency", "TokensUsedRollup", "TokensPromptRollup", "TokensCompletionRollup", "Temperature", "TopP", "TopK", "MinP", "FrequencyPenalty", "PresencePenalty", "Seed", "StopSequences", "ResponseFormat", "LogProbs", "TopLogProbs", "DescendantCost", "ValidationAttemptCount", "SuccessfulValidationCount", "FinalValidationPassed", "ValidationBehavior", "RetryStrategy", "MaxRetriesConfigured", "FinalValidationError", "ValidationErrorCount", "CommonValidationError", "FirstAttemptAt", "LastAttemptAt", "TotalRetryDurationMS", "ValidationAttempts", "ValidationSummary", "FailoverAttempts", "FailoverErrors", "FailoverDurations", "OriginalModelID", "OriginalRequestStartTime", "TotalFailoverDuration", "RerunFromPromptRunID", "ModelSelection", "Status", "Cancelled", "CancellationReason", "ModelPowerRank", "SelectionStrategy", "CacheHit", "CacheKey", "JudgeID", "JudgeScore", "WasSelectedResult", "StreamingEnabled", "FirstTokenTime", "ErrorDetails", "ChildPromptID", "QueueTime", "PromptTime", "CompletionTime", "ModelSpecificResponseDetails", "EffortLevel", "RunName", "Comments", "TestRunID" FROM __mj."AIPromptRun" WHERE "JudgeID" = p_ID
    LOOP
        p_MJAIPromptRuns_JudgeIDID := _rec."ID";
        p_MJAIPromptRuns_JudgeID_PromptID := _rec."PromptID";
        p_MJAIPromptRuns_JudgeID_ModelID := _rec."ModelID";
        p_MJAIPromptRuns_JudgeID_VendorID := _rec."VendorID";
        p_MJAIPromptRuns_JudgeID_AgentID := _rec."AgentID";
        p_MJAIPromptRuns_JudgeID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIPromptRuns_JudgeID_RunAt := _rec."RunAt";
        p_MJAIPromptRuns_JudgeID_CompletedAt := _rec."CompletedAt";
        p_MJAIPromptRuns_JudgeID_ExecutionTimeMS := _rec."ExecutionTimeMS";
        p_MJAIPromptRuns_JudgeID_Messages := _rec."Messages";
        p_MJAIPromptRuns_JudgeID_Result := _rec."Result";
        p_MJAIPromptRuns_JudgeID_TokensUsed := _rec."TokensUsed";
        p_MJAIPromptRuns_JudgeID_TokensPrompt := _rec."TokensPrompt";
        p_MJAIPromptRuns_JudgeID_TokensCompletion := _rec."TokensCompletion";
        p_MJAIPromptRuns_JudgeID_TotalCost := _rec."TotalCost";
        p_MJAIPromptRuns_JudgeID_Success := _rec."Success";
        p_MJAIPromptRuns_JudgeID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIPromptRuns_JudgeID_ParentID := _rec."ParentID";
        p_MJAIPromptRuns_JudgeID_RunType := _rec."RunType";
        p_MJAIPromptRuns_JudgeID_ExecutionOrder := _rec."ExecutionOrder";
        p_MJAIPromptRuns_JudgeID_AgentRunID := _rec."AgentRunID";
        p_MJAIPromptRuns_JudgeID_Cost := _rec."Cost";
        p_MJAIPromptRuns_JudgeID_CostCurrency := _rec."CostCurrency";
        p_MJAIPromptRuns_JudgeID_TokensUsedRollup := _rec."TokensUsedRollup";
        p_MJAIPromptRuns_JudgeID_TokensPromptRollup := _rec."TokensPromptRollup";
        p_MJAIPromptRuns_JudgeID_TokensCompletionRollup := _rec."TokensCompletionRollup";
        p_MJAIPromptRuns_JudgeID_Temperature := _rec."Temperature";
        p_MJAIPromptRuns_JudgeID_TopP := _rec."TopP";
        p_MJAIPromptRuns_JudgeID_TopK := _rec."TopK";
        p_MJAIPromptRuns_JudgeID_MinP := _rec."MinP";
        p_MJAIPromptRuns_JudgeID_FrequencyPenalty := _rec."FrequencyPenalty";
        p_MJAIPromptRuns_JudgeID_PresencePenalty := _rec."PresencePenalty";
        p_MJAIPromptRuns_JudgeID_Seed := _rec."Seed";
        p_MJAIPromptRuns_JudgeID_StopSequences := _rec."StopSequences";
        p_MJAIPromptRuns_JudgeID_ResponseFormat := _rec."ResponseFormat";
        p_MJAIPromptRuns_JudgeID_LogProbs := _rec."LogProbs";
        p_MJAIPromptRuns_JudgeID_TopLogProbs := _rec."TopLogProbs";
        p_MJAIPromptRuns_JudgeID_DescendantCost := _rec."DescendantCost";
        p_MJAIPromptRuns_JudgeID_ValidationAttemptCount := _rec."ValidationAttemptCount";
        p_MJAIPromptRuns_JudgeID_SuccessfulValidationCount := _rec."SuccessfulValidationCount";
        p_MJAIPromptRuns_JudgeID_FinalValidationPassed := _rec."FinalValidationPassed";
        p_MJAIPromptRuns_JudgeID_ValidationBehavior := _rec."ValidationBehavior";
        p_MJAIPromptRuns_JudgeID_RetryStrategy := _rec."RetryStrategy";
        p_MJAIPromptRuns_JudgeID_MaxRetriesConfigured := _rec."MaxRetriesConfigured";
        p_MJAIPromptRuns_JudgeID_FinalValidationError := _rec."FinalValidationError";
        p_MJAIPromptRuns_JudgeID_ValidationErrorCount := _rec."ValidationErrorCount";
        p_MJAIPromptRuns_JudgeID_CommonValidationError := _rec."CommonValidationError";
        p_MJAIPromptRuns_JudgeID_FirstAttemptAt := _rec."FirstAttemptAt";
        p_MJAIPromptRuns_JudgeID_LastAttemptAt := _rec."LastAttemptAt";
        p_MJAIPromptRuns_JudgeID_TotalRetryDurationMS := _rec."TotalRetryDurationMS";
        p_MJAIPromptRuns_JudgeID_ValidationAttempts := _rec."ValidationAttempts";
        p_MJAIPromptRuns_JudgeID_ValidationSummary := _rec."ValidationSummary";
        p_MJAIPromptRuns_JudgeID_FailoverAttempts := _rec."FailoverAttempts";
        p_MJAIPromptRuns_JudgeID_FailoverErrors := _rec."FailoverErrors";
        p_MJAIPromptRuns_JudgeID_FailoverDurations := _rec."FailoverDurations";
        p_MJAIPromptRuns_JudgeID_OriginalModelID := _rec."OriginalModelID";
        p_MJAIPromptRuns_JudgeID_OriginalRequestStartTime := _rec."OriginalRequestStartTime";
        p_MJAIPromptRuns_JudgeID_TotalFailoverDuration := _rec."TotalFailoverDuration";
        p_MJAIPromptRuns_JudgeID_RerunFromPromptRunID := _rec."RerunFromPromptRunID";
        p_MJAIPromptRuns_JudgeID_ModelSelection := _rec."ModelSelection";
        p_MJAIPromptRuns_JudgeID_Status := _rec."Status";
        p_MJAIPromptRuns_JudgeID_Cancelled := _rec."Cancelled";
        p_MJAIPromptRuns_JudgeID_CancellationReason := _rec."CancellationReason";
        p_MJAIPromptRuns_JudgeID_ModelPowerRank := _rec."ModelPowerRank";
        p_MJAIPromptRuns_JudgeID_SelectionStrategy := _rec."SelectionStrategy";
        p_MJAIPromptRuns_JudgeID_CacheHit := _rec."CacheHit";
        p_MJAIPromptRuns_JudgeID_CacheKey := _rec."CacheKey";
        p_MJAIPromptRuns_JudgeID_JudgeID := _rec."JudgeID";
        p_MJAIPromptRuns_JudgeID_JudgeScore := _rec."JudgeScore";
        p_MJAIPromptRuns_JudgeID_WasSelectedResult := _rec."WasSelectedResult";
        p_MJAIPromptRuns_JudgeID_StreamingEnabled := _rec."StreamingEnabled";
        p_MJAIPromptRuns_JudgeID_FirstTokenTime := _rec."FirstTokenTime";
        p_MJAIPromptRuns_JudgeID_ErrorDetails := _rec."ErrorDetails";
        p_MJAIPromptRuns_JudgeID_ChildPromptID := _rec."ChildPromptID";
        p_MJAIPromptRuns_JudgeID_QueueTime := _rec."QueueTime";
        p_MJAIPromptRuns_JudgeID_PromptTime := _rec."PromptTime";
        p_MJAIPromptRuns_JudgeID_CompletionTime := _rec."CompletionTime";
        p_MJAIPromptRuns_JudgeID_ModelSpecificResponseDetails := _rec."ModelSpecificResponseDetails";
        p_MJAIPromptRuns_JudgeID_EffortLevel := _rec."EffortLevel";
        p_MJAIPromptRuns_JudgeID_RunName := _rec."RunName";
        p_MJAIPromptRuns_JudgeID_Comments := _rec."Comments";
        p_MJAIPromptRuns_JudgeID_TestRunID := _rec."TestRunID";
        -- Set the FK field to NULL
        p_MJAIPromptRuns_JudgeID_JudgeID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIPromptRun"(p_MJAIPromptRuns_JudgeIDID, p_MJAIPromptRuns_JudgeID_PromptID, p_MJAIPromptRuns_JudgeID_ModelID, p_MJAIPromptRuns_JudgeID_VendorID, p_MJAIPromptRuns_JudgeID_AgentID, p_MJAIPromptRuns_JudgeID_ConfigurationID, p_MJAIPromptRuns_JudgeID_RunAt, p_MJAIPromptRuns_JudgeID_CompletedAt, p_MJAIPromptRuns_JudgeID_ExecutionTimeMS, p_MJAIPromptRuns_JudgeID_Messages, p_MJAIPromptRuns_JudgeID_Result, p_MJAIPromptRuns_JudgeID_TokensUsed, p_MJAIPromptRuns_JudgeID_TokensPrompt, p_MJAIPromptRuns_JudgeID_TokensCompletion, p_MJAIPromptRuns_JudgeID_TotalCost, p_MJAIPromptRuns_JudgeID_Success, p_MJAIPromptRuns_JudgeID_ErrorMessage, p_MJAIPromptRuns_JudgeID_ParentID, p_MJAIPromptRuns_JudgeID_RunType, p_MJAIPromptRuns_JudgeID_ExecutionOrder, p_MJAIPromptRuns_JudgeID_AgentRunID, p_MJAIPromptRuns_JudgeID_Cost, p_MJAIPromptRuns_JudgeID_CostCurrency, p_MJAIPromptRuns_JudgeID_TokensUsedRollup, p_MJAIPromptRuns_JudgeID_TokensPromptRollup, p_MJAIPromptRuns_JudgeID_TokensCompletionRollup, p_MJAIPromptRuns_JudgeID_Temperature, p_MJAIPromptRuns_JudgeID_TopP, p_MJAIPromptRuns_JudgeID_TopK, p_MJAIPromptRuns_JudgeID_MinP, p_MJAIPromptRuns_JudgeID_FrequencyPenalty, p_MJAIPromptRuns_JudgeID_PresencePenalty, p_MJAIPromptRuns_JudgeID_Seed, p_MJAIPromptRuns_JudgeID_StopSequences, p_MJAIPromptRuns_JudgeID_ResponseFormat, p_MJAIPromptRuns_JudgeID_LogProbs, p_MJAIPromptRuns_JudgeID_TopLogProbs, p_MJAIPromptRuns_JudgeID_DescendantCost, p_MJAIPromptRuns_JudgeID_ValidationAttemptCount, p_MJAIPromptRuns_JudgeID_SuccessfulValidationCount, p_MJAIPromptRuns_JudgeID_FinalValidationPassed, p_MJAIPromptRuns_JudgeID_ValidationBehavior, p_MJAIPromptRuns_JudgeID_RetryStrategy, p_MJAIPromptRuns_JudgeID_MaxRetriesConfigured, p_MJAIPromptRuns_JudgeID_FinalValidationError, p_MJAIPromptRuns_JudgeID_ValidationErrorCount, p_MJAIPromptRuns_JudgeID_CommonValidationError, p_MJAIPromptRuns_JudgeID_FirstAttemptAt, p_MJAIPromptRuns_JudgeID_LastAttemptAt, p_MJAIPromptRuns_JudgeID_TotalRetryDurationMS, p_MJAIPromptRuns_JudgeID_ValidationAttempts, p_MJAIPromptRuns_JudgeID_ValidationSummary, p_MJAIPromptRuns_JudgeID_FailoverAttempts, p_MJAIPromptRuns_JudgeID_FailoverErrors, p_MJAIPromptRuns_JudgeID_FailoverDurations, p_MJAIPromptRuns_JudgeID_OriginalModelID, p_MJAIPromptRuns_JudgeID_OriginalRequestStartTime, p_MJAIPromptRuns_JudgeID_TotalFailoverDuration, p_MJAIPromptRuns_JudgeID_RerunFromPromptRunID, p_MJAIPromptRuns_JudgeID_ModelSelection, p_MJAIPromptRuns_JudgeID_Status, p_MJAIPromptRuns_JudgeID_Cancelled, p_MJAIPromptRuns_JudgeID_CancellationReason, p_MJAIPromptRuns_JudgeID_ModelPowerRank, p_MJAIPromptRuns_JudgeID_SelectionStrategy, p_MJAIPromptRuns_JudgeID_CacheHit, p_MJAIPromptRuns_JudgeID_CacheKey, p_MJAIPromptRuns_JudgeID_JudgeID, p_MJAIPromptRuns_JudgeID_JudgeScore, p_MJAIPromptRuns_JudgeID_WasSelectedResult, p_MJAIPromptRuns_JudgeID_StreamingEnabled, p_MJAIPromptRuns_JudgeID_FirstTokenTime, p_MJAIPromptRuns_JudgeID_ErrorDetails, p_MJAIPromptRuns_JudgeID_ChildPromptID, p_MJAIPromptRuns_JudgeID_QueueTime, p_MJAIPromptRuns_JudgeID_PromptTime, p_MJAIPromptRuns_JudgeID_CompletionTime, p_MJAIPromptRuns_JudgeID_ModelSpecificResponseDetails, p_MJAIPromptRuns_JudgeID_EffortLevel, p_MJAIPromptRuns_JudgeID_RunName, p_MJAIPromptRuns_JudgeID_Comments, p_MJAIPromptRuns_JudgeID_TestRunID);

    END LOOP;

    
    -- Cascade update on AIPromptRun using cursor to call spUpdateAIPromptRun


    FOR _rec IN SELECT "ID", "PromptID", "ModelID", "VendorID", "AgentID", "ConfigurationID", "RunAt", "CompletedAt", "ExecutionTimeMS", "Messages", "Result", "TokensUsed", "TokensPrompt", "TokensCompletion", "TotalCost", "Success", "ErrorMessage", "ParentID", "RunType", "ExecutionOrder", "AgentRunID", "Cost", "CostCurrency", "TokensUsedRollup", "TokensPromptRollup", "TokensCompletionRollup", "Temperature", "TopP", "TopK", "MinP", "FrequencyPenalty", "PresencePenalty", "Seed", "StopSequences", "ResponseFormat", "LogProbs", "TopLogProbs", "DescendantCost", "ValidationAttemptCount", "SuccessfulValidationCount", "FinalValidationPassed", "ValidationBehavior", "RetryStrategy", "MaxRetriesConfigured", "FinalValidationError", "ValidationErrorCount", "CommonValidationError", "FirstAttemptAt", "LastAttemptAt", "TotalRetryDurationMS", "ValidationAttempts", "ValidationSummary", "FailoverAttempts", "FailoverErrors", "FailoverDurations", "OriginalModelID", "OriginalRequestStartTime", "TotalFailoverDuration", "RerunFromPromptRunID", "ModelSelection", "Status", "Cancelled", "CancellationReason", "ModelPowerRank", "SelectionStrategy", "CacheHit", "CacheKey", "JudgeID", "JudgeScore", "WasSelectedResult", "StreamingEnabled", "FirstTokenTime", "ErrorDetails", "ChildPromptID", "QueueTime", "PromptTime", "CompletionTime", "ModelSpecificResponseDetails", "EffortLevel", "RunName", "Comments", "TestRunID" FROM __mj."AIPromptRun" WHERE "ChildPromptID" = p_ID
    LOOP
        p_MJAIPromptRuns_ChildPromptIDID := _rec."ID";
        p_MJAIPromptRuns_ChildPromptID_PromptID := _rec."PromptID";
        p_MJAIPromptRuns_ChildPromptID_ModelID := _rec."ModelID";
        p_MJAIPromptRuns_ChildPromptID_VendorID := _rec."VendorID";
        p_MJAIPromptRuns_ChildPromptID_AgentID := _rec."AgentID";
        p_MJAIPromptRuns_ChildPromptID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIPromptRuns_ChildPromptID_RunAt := _rec."RunAt";
        p_MJAIPromptRuns_ChildPromptID_CompletedAt := _rec."CompletedAt";
        p_MJAIPromptRuns_ChildPromptID_ExecutionTimeMS := _rec."ExecutionTimeMS";
        p_MJAIPromptRuns_ChildPromptID_Messages := _rec."Messages";
        p_MJAIPromptRuns_ChildPromptID_Result := _rec."Result";
        p_MJAIPromptRuns_ChildPromptID_TokensUsed := _rec."TokensUsed";
        p_MJAIPromptRuns_ChildPromptID_TokensPrompt := _rec."TokensPrompt";
        p_MJAIPromptRuns_ChildPromptID_TokensCompletion := _rec."TokensCompletion";
        p_MJAIPromptRuns_ChildPromptID_TotalCost := _rec."TotalCost";
        p_MJAIPromptRuns_ChildPromptID_Success := _rec."Success";
        p_MJAIPromptRuns_ChildPromptID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIPromptRuns_ChildPromptID_ParentID := _rec."ParentID";
        p_MJAIPromptRuns_ChildPromptID_RunType := _rec."RunType";
        p_MJAIPromptRuns_ChildPromptID_ExecutionOrder := _rec."ExecutionOrder";
        p_MJAIPromptRuns_ChildPromptID_AgentRunID := _rec."AgentRunID";
        p_MJAIPromptRuns_ChildPromptID_Cost := _rec."Cost";
        p_MJAIPromptRuns_ChildPromptID_CostCurrency := _rec."CostCurrency";
        p_MJAIPromptRuns_ChildPromptID_TokensUsedRollup := _rec."TokensUsedRollup";
        p_MJAIPromptRuns_ChildPromptID_TokensPromptRollup := _rec."TokensPromptRollup";
        p_MJAIPromptRuns_ChildPromptID_TokensCompletionRollup := _rec."TokensCompletionRollup";
        p_MJAIPromptRuns_ChildPromptID_Temperature := _rec."Temperature";
        p_MJAIPromptRuns_ChildPromptID_TopP := _rec."TopP";
        p_MJAIPromptRuns_ChildPromptID_TopK := _rec."TopK";
        p_MJAIPromptRuns_ChildPromptID_MinP := _rec."MinP";
        p_MJAIPromptRuns_ChildPromptID_FrequencyPenalty := _rec."FrequencyPenalty";
        p_MJAIPromptRuns_ChildPromptID_PresencePenalty := _rec."PresencePenalty";
        p_MJAIPromptRuns_ChildPromptID_Seed := _rec."Seed";
        p_MJAIPromptRuns_ChildPromptID_StopSequences := _rec."StopSequences";
        p_MJAIPromptRuns_ChildPromptID_ResponseFormat := _rec."ResponseFormat";
        p_MJAIPromptRuns_ChildPromptID_LogProbs := _rec."LogProbs";
        p_MJAIPromptRuns_ChildPromptID_TopLogProbs := _rec."TopLogProbs";
        p_MJAIPromptRuns_ChildPromptID_DescendantCost := _rec."DescendantCost";
        p_MJAIPromptRuns_ChildPromptID_ValidationAttemptCount := _rec."ValidationAttemptCount";
        p_MJAIPromptRuns_ChildPromptID_SuccessfulValidationCount := _rec."SuccessfulValidationCount";
        p_MJAIPromptRuns_ChildPromptID_FinalValidationPassed := _rec."FinalValidationPassed";
        p_MJAIPromptRuns_ChildPromptID_ValidationBehavior := _rec."ValidationBehavior";
        p_MJAIPromptRuns_ChildPromptID_RetryStrategy := _rec."RetryStrategy";
        p_MJAIPromptRuns_ChildPromptID_MaxRetriesConfigured := _rec."MaxRetriesConfigured";
        p_MJAIPromptRuns_ChildPromptID_FinalValidationError := _rec."FinalValidationError";
        p_MJAIPromptRuns_ChildPromptID_ValidationErrorCount := _rec."ValidationErrorCount";
        p_MJAIPromptRuns_ChildPromptID_CommonValidationError := _rec."CommonValidationError";
        p_MJAIPromptRuns_ChildPromptID_FirstAttemptAt := _rec."FirstAttemptAt";
        p_MJAIPromptRuns_ChildPromptID_LastAttemptAt := _rec."LastAttemptAt";
        p_MJAIPromptRuns_ChildPromptID_TotalRetryDurationMS := _rec."TotalRetryDurationMS";
        p_MJAIPromptRuns_ChildPromptID_ValidationAttempts := _rec."ValidationAttempts";
        p_MJAIPromptRuns_ChildPromptID_ValidationSummary := _rec."ValidationSummary";
        p_MJAIPromptRuns_ChildPromptID_FailoverAttempts := _rec."FailoverAttempts";
        p_MJAIPromptRuns_ChildPromptID_FailoverErrors := _rec."FailoverErrors";
        p_MJAIPromptRuns_ChildPromptID_FailoverDurations := _rec."FailoverDurations";
        p_MJAIPromptRuns_ChildPromptID_OriginalModelID := _rec."OriginalModelID";
        p_MJAIPromptRuns_ChildPromptID_OriginalRequestStartTime := _rec."OriginalRequestStartTime";
        p_MJAIPromptRuns_ChildPromptID_TotalFailoverDuration := _rec."TotalFailoverDuration";
        p_MJAIPromptRuns_ChildPromptID_RerunFromPromptRunID := _rec."RerunFromPromptRunID";
        p_MJAIPromptRuns_ChildPromptID_ModelSelection := _rec."ModelSelection";
        p_MJAIPromptRuns_ChildPromptID_Status := _rec."Status";
        p_MJAIPromptRuns_ChildPromptID_Cancelled := _rec."Cancelled";
        p_MJAIPromptRuns_ChildPromptID_CancellationReason := _rec."CancellationReason";
        p_MJAIPromptRuns_ChildPromptID_ModelPowerRank := _rec."ModelPowerRank";
        p_MJAIPromptRuns_ChildPromptID_SelectionStrategy := _rec."SelectionStrategy";
        p_MJAIPromptRuns_ChildPromptID_CacheHit := _rec."CacheHit";
        p_MJAIPromptRuns_ChildPromptID_CacheKey := _rec."CacheKey";
        p_MJAIPromptRuns_ChildPromptID_JudgeID := _rec."JudgeID";
        p_MJAIPromptRuns_ChildPromptID_JudgeScore := _rec."JudgeScore";
        p_MJAIPromptRuns_ChildPromptID_WasSelectedResult := _rec."WasSelectedResult";
        p_MJAIPromptRuns_ChildPromptID_StreamingEnabled := _rec."StreamingEnabled";
        p_MJAIPromptRuns_ChildPromptID_FirstTokenTime := _rec."FirstTokenTime";
        p_MJAIPromptRuns_ChildPromptID_ErrorDetails := _rec."ErrorDetails";
        p_MJAIPromptRuns_ChildPromptID_ChildPromptID := _rec."ChildPromptID";
        p_MJAIPromptRuns_ChildPromptID_QueueTime := _rec."QueueTime";
        p_MJAIPromptRuns_ChildPromptID_PromptTime := _rec."PromptTime";
        p_MJAIPromptRuns_ChildPromptID_CompletionTime := _rec."CompletionTime";
        p_MJAIPromptRuns_ChildPromptID_ModelSpecificResponseDetails := _rec."ModelSpecificResponseDetails";
        p_MJAIPromptRuns_ChildPromptID_EffortLevel := _rec."EffortLevel";
        p_MJAIPromptRuns_ChildPromptID_RunName := _rec."RunName";
        p_MJAIPromptRuns_ChildPromptID_Comments := _rec."Comments";
        p_MJAIPromptRuns_ChildPromptID_TestRunID := _rec."TestRunID";
        -- Set the FK field to NULL
        p_MJAIPromptRuns_ChildPromptID_ChildPromptID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIPromptRun"(p_MJAIPromptRuns_ChildPromptIDID, p_MJAIPromptRuns_ChildPromptID_PromptID, p_MJAIPromptRuns_ChildPromptID_ModelID, p_MJAIPromptRuns_ChildPromptID_VendorID, p_MJAIPromptRuns_ChildPromptID_AgentID, p_MJAIPromptRuns_ChildPromptID_ConfigurationID, p_MJAIPromptRuns_ChildPromptID_RunAt, p_MJAIPromptRuns_ChildPromptID_CompletedAt, p_MJAIPromptRuns_ChildPromptID_ExecutionTimeMS, p_MJAIPromptRuns_ChildPromptID_Messages, p_MJAIPromptRuns_ChildPromptID_Result, p_MJAIPromptRuns_ChildPromptID_TokensUsed, p_MJAIPromptRuns_ChildPromptID_TokensPrompt, p_MJAIPromptRuns_ChildPromptID_TokensCompletion, p_MJAIPromptRuns_ChildPromptID_TotalCost, p_MJAIPromptRuns_ChildPromptID_Success, p_MJAIPromptRuns_ChildPromptID_ErrorMessage, p_MJAIPromptRuns_ChildPromptID_ParentID, p_MJAIPromptRuns_ChildPromptID_RunType, p_MJAIPromptRuns_ChildPromptID_ExecutionOrder, p_MJAIPromptRuns_ChildPromptID_AgentRunID, p_MJAIPromptRuns_ChildPromptID_Cost, p_MJAIPromptRuns_ChildPromptID_CostCurrency, p_MJAIPromptRuns_ChildPromptID_TokensUsedRollup, p_MJAIPromptRuns_ChildPromptID_TokensPromptRollup, p_MJAIPromptRuns_ChildPromptID_TokensCompletionRollup, p_MJAIPromptRuns_ChildPromptID_Temperature, p_MJAIPromptRuns_ChildPromptID_TopP, p_MJAIPromptRuns_ChildPromptID_TopK, p_MJAIPromptRuns_ChildPromptID_MinP, p_MJAIPromptRuns_ChildPromptID_FrequencyPenalty, p_MJAIPromptRuns_ChildPromptID_PresencePenalty, p_MJAIPromptRuns_ChildPromptID_Seed, p_MJAIPromptRuns_ChildPromptID_StopSequences, p_MJAIPromptRuns_ChildPromptID_ResponseFormat, p_MJAIPromptRuns_ChildPromptID_LogProbs, p_MJAIPromptRuns_ChildPromptID_TopLogProbs, p_MJAIPromptRuns_ChildPromptID_DescendantCost, p_MJAIPromptRuns_ChildPromptID_ValidationAttemptCount, p_MJAIPromptRuns_ChildPromptID_SuccessfulValidationCount, p_MJAIPromptRuns_ChildPromptID_FinalValidationPassed, p_MJAIPromptRuns_ChildPromptID_ValidationBehavior, p_MJAIPromptRuns_ChildPromptID_RetryStrategy, p_MJAIPromptRuns_ChildPromptID_MaxRetriesConfigured, p_MJAIPromptRuns_ChildPromptID_FinalValidationError, p_MJAIPromptRuns_ChildPromptID_ValidationErrorCount, p_MJAIPromptRuns_ChildPromptID_CommonValidationError, p_MJAIPromptRuns_ChildPromptID_FirstAttemptAt, p_MJAIPromptRuns_ChildPromptID_LastAttemptAt, p_MJAIPromptRuns_ChildPromptID_TotalRetryDurationMS, p_MJAIPromptRuns_ChildPromptID_ValidationAttempts, p_MJAIPromptRuns_ChildPromptID_ValidationSummary, p_MJAIPromptRuns_ChildPromptID_FailoverAttempts, p_MJAIPromptRuns_ChildPromptID_FailoverErrors, p_MJAIPromptRuns_ChildPromptID_FailoverDurations, p_MJAIPromptRuns_ChildPromptID_OriginalModelID, p_MJAIPromptRuns_ChildPromptID_OriginalRequestStartTime, p_MJAIPromptRuns_ChildPromptID_TotalFailoverDuration, p_MJAIPromptRuns_ChildPromptID_RerunFromPromptRunID, p_MJAIPromptRuns_ChildPromptID_ModelSelection, p_MJAIPromptRuns_ChildPromptID_Status, p_MJAIPromptRuns_ChildPromptID_Cancelled, p_MJAIPromptRuns_ChildPromptID_CancellationReason, p_MJAIPromptRuns_ChildPromptID_ModelPowerRank, p_MJAIPromptRuns_ChildPromptID_SelectionStrategy, p_MJAIPromptRuns_ChildPromptID_CacheHit, p_MJAIPromptRuns_ChildPromptID_CacheKey, p_MJAIPromptRuns_ChildPromptID_JudgeID, p_MJAIPromptRuns_ChildPromptID_JudgeScore, p_MJAIPromptRuns_ChildPromptID_WasSelectedResult, p_MJAIPromptRuns_ChildPromptID_StreamingEnabled, p_MJAIPromptRuns_ChildPromptID_FirstTokenTime, p_MJAIPromptRuns_ChildPromptID_ErrorDetails, p_MJAIPromptRuns_ChildPromptID_ChildPromptID, p_MJAIPromptRuns_ChildPromptID_QueueTime, p_MJAIPromptRuns_ChildPromptID_PromptTime, p_MJAIPromptRuns_ChildPromptID_CompletionTime, p_MJAIPromptRuns_ChildPromptID_ModelSpecificResponseDetails, p_MJAIPromptRuns_ChildPromptID_EffortLevel, p_MJAIPromptRuns_ChildPromptID_RunName, p_MJAIPromptRuns_ChildPromptID_Comments, p_MJAIPromptRuns_ChildPromptID_TestRunID);

    END LOOP;

    
    -- Cascade update on AIPrompt using cursor to call spUpdateAIPrompt


    FOR _rec IN SELECT "ID", "Name", "Description", "TemplateID", "CategoryID", "TypeID", "Status", "ResponseFormat", "ModelSpecificResponseFormat", "AIModelTypeID", "MinPowerRank", "SelectionStrategy", "PowerPreference", "ParallelizationMode", "ParallelCount", "ParallelConfigParam", "OutputType", "OutputExample", "ValidationBehavior", "MaxRetries", "RetryDelayMS", "RetryStrategy", "ResultSelectorPromptID", "EnableCaching", "CacheTTLSeconds", "CacheMatchType", "CacheSimilarityThreshold", "CacheMustMatchModel", "CacheMustMatchVendor", "CacheMustMatchAgent", "CacheMustMatchConfig", "PromptRole", "PromptPosition", "Temperature", "TopP", "TopK", "MinP", "FrequencyPenalty", "PresencePenalty", "Seed", "StopSequences", "IncludeLogProbs", "TopLogProbs", "FailoverStrategy", "FailoverMaxAttempts", "FailoverDelaySeconds", "FailoverModelStrategy", "FailoverErrorScope", "EffortLevel" FROM __mj."AIPrompt" WHERE "ResultSelectorPromptID" = p_ID
    LOOP
        p_MJAIPrompts_ResultSelectorPromptIDID := _rec."ID";
        p_MJAIPrompts_ResultSelectorPromptID_Name := _rec."Name";
        p_MJAIPrompts_ResultSelectorPromptID_Description := _rec."Description";
        p_MJAIPrompts_ResultSelectorPromptID_TemplateID := _rec."TemplateID";
        p_MJAIPrompts_ResultSelectorPromptID_CategoryID := _rec."CategoryID";
        p_MJAIPrompts_ResultSelectorPromptID_TypeID := _rec."TypeID";
        p_MJAIPrompts_ResultSelectorPromptID_Status := _rec."Status";
        p_MJAIPrompts_ResultSelectorPromptID_ResponseFormat := _rec."ResponseFormat";
        p_MJAIPrompts_ResultSelectorPromptID_ModelSpecificRespons_905abd := _rec."ModelSpecificResponseFormat";
        p_MJAIPrompts_ResultSelectorPromptID_AIModelTypeID := _rec."AIModelTypeID";
        p_MJAIPrompts_ResultSelectorPromptID_MinPowerRank := _rec."MinPowerRank";
        p_MJAIPrompts_ResultSelectorPromptID_SelectionStrategy := _rec."SelectionStrategy";
        p_MJAIPrompts_ResultSelectorPromptID_PowerPreference := _rec."PowerPreference";
        p_MJAIPrompts_ResultSelectorPromptID_ParallelizationMode := _rec."ParallelizationMode";
        p_MJAIPrompts_ResultSelectorPromptID_ParallelCount := _rec."ParallelCount";
        p_MJAIPrompts_ResultSelectorPromptID_ParallelConfigParam := _rec."ParallelConfigParam";
        p_MJAIPrompts_ResultSelectorPromptID_OutputType := _rec."OutputType";
        p_MJAIPrompts_ResultSelectorPromptID_OutputExample := _rec."OutputExample";
        p_MJAIPrompts_ResultSelectorPromptID_ValidationBehavior := _rec."ValidationBehavior";
        p_MJAIPrompts_ResultSelectorPromptID_MaxRetries := _rec."MaxRetries";
        p_MJAIPrompts_ResultSelectorPromptID_RetryDelayMS := _rec."RetryDelayMS";
        p_MJAIPrompts_ResultSelectorPromptID_RetryStrategy := _rec."RetryStrategy";
        p_MJAIPrompts_ResultSelectorPromptID_ResultSelectorPromptID := _rec."ResultSelectorPromptID";
        p_MJAIPrompts_ResultSelectorPromptID_EnableCaching := _rec."EnableCaching";
        p_MJAIPrompts_ResultSelectorPromptID_CacheTTLSeconds := _rec."CacheTTLSeconds";
        p_MJAIPrompts_ResultSelectorPromptID_CacheMatchType := _rec."CacheMatchType";
        p_MJAIPrompts_ResultSelectorPromptID_CacheSimilarityThreshold := _rec."CacheSimilarityThreshold";
        p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchModel := _rec."CacheMustMatchModel";
        p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchVendor := _rec."CacheMustMatchVendor";
        p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchAgent := _rec."CacheMustMatchAgent";
        p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchConfig := _rec."CacheMustMatchConfig";
        p_MJAIPrompts_ResultSelectorPromptID_PromptRole := _rec."PromptRole";
        p_MJAIPrompts_ResultSelectorPromptID_PromptPosition := _rec."PromptPosition";
        p_MJAIPrompts_ResultSelectorPromptID_Temperature := _rec."Temperature";
        p_MJAIPrompts_ResultSelectorPromptID_TopP := _rec."TopP";
        p_MJAIPrompts_ResultSelectorPromptID_TopK := _rec."TopK";
        p_MJAIPrompts_ResultSelectorPromptID_MinP := _rec."MinP";
        p_MJAIPrompts_ResultSelectorPromptID_FrequencyPenalty := _rec."FrequencyPenalty";
        p_MJAIPrompts_ResultSelectorPromptID_PresencePenalty := _rec."PresencePenalty";
        p_MJAIPrompts_ResultSelectorPromptID_Seed := _rec."Seed";
        p_MJAIPrompts_ResultSelectorPromptID_StopSequences := _rec."StopSequences";
        p_MJAIPrompts_ResultSelectorPromptID_IncludeLogProbs := _rec."IncludeLogProbs";
        p_MJAIPrompts_ResultSelectorPromptID_TopLogProbs := _rec."TopLogProbs";
        p_MJAIPrompts_ResultSelectorPromptID_FailoverStrategy := _rec."FailoverStrategy";
        p_MJAIPrompts_ResultSelectorPromptID_FailoverMaxAttempts := _rec."FailoverMaxAttempts";
        p_MJAIPrompts_ResultSelectorPromptID_FailoverDelaySeconds := _rec."FailoverDelaySeconds";
        p_MJAIPrompts_ResultSelectorPromptID_FailoverModelStrategy := _rec."FailoverModelStrategy";
        p_MJAIPrompts_ResultSelectorPromptID_FailoverErrorScope := _rec."FailoverErrorScope";
        p_MJAIPrompts_ResultSelectorPromptID_EffortLevel := _rec."EffortLevel";
        -- Set the FK field to NULL
        p_MJAIPrompts_ResultSelectorPromptID_ResultSelectorPromptID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIPrompt"(p_MJAIPrompts_ResultSelectorPromptIDID, p_MJAIPrompts_ResultSelectorPromptID_Name, p_MJAIPrompts_ResultSelectorPromptID_Description, p_MJAIPrompts_ResultSelectorPromptID_TemplateID, p_MJAIPrompts_ResultSelectorPromptID_CategoryID, p_MJAIPrompts_ResultSelectorPromptID_TypeID, p_MJAIPrompts_ResultSelectorPromptID_Status, p_MJAIPrompts_ResultSelectorPromptID_ResponseFormat, p_MJAIPrompts_ResultSelectorPromptID_ModelSpecificRespons_905abd, p_MJAIPrompts_ResultSelectorPromptID_AIModelTypeID, p_MJAIPrompts_ResultSelectorPromptID_MinPowerRank, p_MJAIPrompts_ResultSelectorPromptID_SelectionStrategy, p_MJAIPrompts_ResultSelectorPromptID_PowerPreference, p_MJAIPrompts_ResultSelectorPromptID_ParallelizationMode, p_MJAIPrompts_ResultSelectorPromptID_ParallelCount, p_MJAIPrompts_ResultSelectorPromptID_ParallelConfigParam, p_MJAIPrompts_ResultSelectorPromptID_OutputType, p_MJAIPrompts_ResultSelectorPromptID_OutputExample, p_MJAIPrompts_ResultSelectorPromptID_ValidationBehavior, p_MJAIPrompts_ResultSelectorPromptID_MaxRetries, p_MJAIPrompts_ResultSelectorPromptID_RetryDelayMS, p_MJAIPrompts_ResultSelectorPromptID_RetryStrategy, p_MJAIPrompts_ResultSelectorPromptID_ResultSelectorPromptID, p_MJAIPrompts_ResultSelectorPromptID_EnableCaching, p_MJAIPrompts_ResultSelectorPromptID_CacheTTLSeconds, p_MJAIPrompts_ResultSelectorPromptID_CacheMatchType, p_MJAIPrompts_ResultSelectorPromptID_CacheSimilarityThreshold, p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchModel, p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchVendor, p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchAgent, p_MJAIPrompts_ResultSelectorPromptID_CacheMustMatchConfig, p_MJAIPrompts_ResultSelectorPromptID_PromptRole, p_MJAIPrompts_ResultSelectorPromptID_PromptPosition, p_MJAIPrompts_ResultSelectorPromptID_Temperature, p_MJAIPrompts_ResultSelectorPromptID_TopP, p_MJAIPrompts_ResultSelectorPromptID_TopK, p_MJAIPrompts_ResultSelectorPromptID_MinP, p_MJAIPrompts_ResultSelectorPromptID_FrequencyPenalty, p_MJAIPrompts_ResultSelectorPromptID_PresencePenalty, p_MJAIPrompts_ResultSelectorPromptID_Seed, p_MJAIPrompts_ResultSelectorPromptID_StopSequences, p_MJAIPrompts_ResultSelectorPromptID_IncludeLogProbs, p_MJAIPrompts_ResultSelectorPromptID_TopLogProbs, p_MJAIPrompts_ResultSelectorPromptID_FailoverStrategy, p_MJAIPrompts_ResultSelectorPromptID_FailoverMaxAttempts, p_MJAIPrompts_ResultSelectorPromptID_FailoverDelaySeconds, p_MJAIPrompts_ResultSelectorPromptID_FailoverModelStrategy, p_MJAIPrompts_ResultSelectorPromptID_FailoverErrorScope, p_MJAIPrompts_ResultSelectorPromptID_EffortLevel);

    END LOOP;

    
    -- Cascade delete from AIResultCache using cursor to call spDeleteAIResultCache

    FOR _rec IN SELECT "ID" FROM __mj."AIResultCache" WHERE "AIPromptID" = p_ID
    LOOP
        p_MJAIResultCache_AIPromptIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteAIResultCache"(p_MJAIResultCache_AIPromptIDID);
        
    END LOOP;
    
    

    DELETE FROM
        __mj."AIPrompt"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIVendorType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_VendorID UUID DEFAULT NULL,
    IN p_TypeID UUID DEFAULT NULL,
    IN p_Rank INTEGER DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwAIVendorTypes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIVendorType"
            (
                "ID",
                "VendorID",
                "TypeID",
                "Rank",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_VendorID,
                p_TypeID,
                COALESCE(p_Rank, 0),
                COALESCE(p_Status, 'Active')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIVendorType"
            (
                "VendorID",
                "TypeID",
                "Rank",
                "Status"
            )
        VALUES
            (
                p_VendorID,
                p_TypeID,
                COALESCE(p_Rank, 0),
                COALESCE(p_Status, 'Active')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIVendorTypes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIVendorType"(
    IN p_ID UUID,
    IN p_VendorID UUID,
    IN p_TypeID UUID,
    IN p_Rank INTEGER,
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwAIVendorTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIVendorType"
    SET
        "VendorID" = p_VendorID,
        "TypeID" = p_TypeID,
        "Rank" = p_Rank,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIVendorTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIVendorTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIVendorType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIVendorType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAIVendor"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(50) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_CredentialTypeID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAIVendors" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AIVendor"
            (
                "ID",
                "Name",
                "Description",
                "CredentialTypeID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_CredentialTypeID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AIVendor"
            (
                "Name",
                "Description",
                "CredentialTypeID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_CredentialTypeID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAIVendors" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAIVendor"(
    IN p_ID UUID,
    IN p_Name VARCHAR(50),
    IN p_Description TEXT,
    IN p_CredentialTypeID UUID
)
RETURNS SETOF __mj."vwAIVendors" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AIVendor"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "CredentialTypeID" = p_CredentialTypeID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAIVendors" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAIVendors" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAIVendor"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AIVendor"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAPIApplicationScope"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ApplicationID UUID DEFAULT NULL,
    IN p_ScopeID UUID DEFAULT NULL,
    IN p_ResourcePattern VARCHAR(750) DEFAULT NULL,
    IN p_PatternType VARCHAR(20) DEFAULT NULL,
    IN p_IsDeny BOOLEAN DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwAPIApplicationScopes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."APIApplicationScope"
            (
                "ID",
                "ApplicationID",
                "ScopeID",
                "ResourcePattern",
                "PatternType",
                "IsDeny",
                "Priority"
            )
        VALUES
            (
                p_ID,
                p_ApplicationID,
                p_ScopeID,
                p_ResourcePattern,
                COALESCE(p_PatternType, 'Include'),
                COALESCE(p_IsDeny, 0),
                COALESCE(p_Priority, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."APIApplicationScope"
            (
                "ApplicationID",
                "ScopeID",
                "ResourcePattern",
                "PatternType",
                "IsDeny",
                "Priority"
            )
        VALUES
            (
                p_ApplicationID,
                p_ScopeID,
                p_ResourcePattern,
                COALESCE(p_PatternType, 'Include'),
                COALESCE(p_IsDeny, 0),
                COALESCE(p_Priority, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAPIApplicationScopes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAPIApplicationScope"(
    IN p_ID UUID,
    IN p_ApplicationID UUID,
    IN p_ScopeID UUID,
    IN p_ResourcePattern VARCHAR(750),
    IN p_PatternType VARCHAR(20),
    IN p_IsDeny BOOLEAN,
    IN p_Priority INTEGER
)
RETURNS SETOF __mj."vwAPIApplicationScopes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."APIApplicationScope"
    SET
        "ApplicationID" = p_ApplicationID,
        "ScopeID" = p_ScopeID,
        "ResourcePattern" = p_ResourcePattern,
        "PatternType" = p_PatternType,
        "IsDeny" = p_IsDeny,
        "Priority" = p_Priority
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAPIApplicationScopes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAPIApplicationScopes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAPIApplicationScope"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."APIApplicationScope"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAPIKeyApplication"(
    IN p_ID UUID DEFAULT NULL,
    IN p_APIKeyID UUID DEFAULT NULL,
    IN p_ApplicationID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAPIKeyApplications" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."APIKeyApplication"
            (
                "ID",
                "APIKeyID",
                "ApplicationID"
            )
        VALUES
            (
                p_ID,
                p_APIKeyID,
                p_ApplicationID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."APIKeyApplication"
            (
                "APIKeyID",
                "ApplicationID"
            )
        VALUES
            (
                p_APIKeyID,
                p_ApplicationID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAPIKeyApplications" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAPIKeyApplication"(
    IN p_ID UUID,
    IN p_APIKeyID UUID,
    IN p_ApplicationID UUID
)
RETURNS SETOF __mj."vwAPIKeyApplications" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."APIKeyApplication"
    SET
        "APIKeyID" = p_APIKeyID,
        "ApplicationID" = p_ApplicationID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAPIKeyApplications" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAPIKeyApplications" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAPIKeyApplication"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."APIKeyApplication"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAPIKeyScope"(
    IN p_ID UUID DEFAULT NULL,
    IN p_APIKeyID UUID DEFAULT NULL,
    IN p_ScopeID UUID DEFAULT NULL,
    IN p_ResourcePattern VARCHAR(750) DEFAULT NULL,
    IN p_PatternType VARCHAR(20) DEFAULT NULL,
    IN p_IsDeny BOOLEAN DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwAPIKeyScopes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."APIKeyScope"
            (
                "ID",
                "APIKeyID",
                "ScopeID",
                "ResourcePattern",
                "PatternType",
                "IsDeny",
                "Priority"
            )
        VALUES
            (
                p_ID,
                p_APIKeyID,
                p_ScopeID,
                p_ResourcePattern,
                COALESCE(p_PatternType, 'Include'),
                COALESCE(p_IsDeny, 0),
                COALESCE(p_Priority, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."APIKeyScope"
            (
                "APIKeyID",
                "ScopeID",
                "ResourcePattern",
                "PatternType",
                "IsDeny",
                "Priority"
            )
        VALUES
            (
                p_APIKeyID,
                p_ScopeID,
                p_ResourcePattern,
                COALESCE(p_PatternType, 'Include'),
                COALESCE(p_IsDeny, 0),
                COALESCE(p_Priority, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAPIKeyScopes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAPIKeyScope"(
    IN p_ID UUID,
    IN p_APIKeyID UUID,
    IN p_ScopeID UUID,
    IN p_ResourcePattern VARCHAR(750),
    IN p_PatternType VARCHAR(20),
    IN p_IsDeny BOOLEAN,
    IN p_Priority INTEGER
)
RETURNS SETOF __mj."vwAPIKeyScopes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."APIKeyScope"
    SET
        "APIKeyID" = p_APIKeyID,
        "ScopeID" = p_ScopeID,
        "ResourcePattern" = p_ResourcePattern,
        "PatternType" = p_PatternType,
        "IsDeny" = p_IsDeny,
        "Priority" = p_Priority
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAPIKeyScopes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAPIKeyScopes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAPIKeyScope"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."APIKeyScope"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAPIKeyUsageLog"(
    IN p_ID UUID DEFAULT NULL,
    IN p_APIKeyID UUID DEFAULT NULL,
    IN p_Endpoint VARCHAR(500) DEFAULT NULL,
    IN p_Operation VARCHAR(255) DEFAULT NULL,
    IN p_Method VARCHAR(10) DEFAULT NULL,
    IN p_StatusCode INTEGER DEFAULT NULL,
    IN p_ResponseTimeMs INTEGER DEFAULT NULL,
    IN p_IPAddress VARCHAR(45) DEFAULT NULL,
    IN p_UserAgent VARCHAR(500) DEFAULT NULL,
    IN p_ApplicationID UUID DEFAULT NULL,
    IN p_RequestedResource VARCHAR(500) DEFAULT NULL,
    IN p_ScopesEvaluated TEXT DEFAULT NULL,
    IN p_AuthorizationResult VARCHAR(20) DEFAULT NULL,
    IN p_DeniedReason VARCHAR(500) DEFAULT NULL
)
RETURNS SETOF __mj."vwAPIKeyUsageLogs" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."APIKeyUsageLog"
            (
                "ID",
                "APIKeyID",
                "Endpoint",
                "Operation",
                "Method",
                "StatusCode",
                "ResponseTimeMs",
                "IPAddress",
                "UserAgent",
                "ApplicationID",
                "RequestedResource",
                "ScopesEvaluated",
                "AuthorizationResult",
                "DeniedReason"
            )
        VALUES
            (
                p_ID,
                p_APIKeyID,
                p_Endpoint,
                p_Operation,
                p_Method,
                p_StatusCode,
                p_ResponseTimeMs,
                p_IPAddress,
                p_UserAgent,
                p_ApplicationID,
                p_RequestedResource,
                p_ScopesEvaluated,
                COALESCE(p_AuthorizationResult, 'Allowed'),
                p_DeniedReason
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."APIKeyUsageLog"
            (
                "APIKeyID",
                "Endpoint",
                "Operation",
                "Method",
                "StatusCode",
                "ResponseTimeMs",
                "IPAddress",
                "UserAgent",
                "ApplicationID",
                "RequestedResource",
                "ScopesEvaluated",
                "AuthorizationResult",
                "DeniedReason"
            )
        VALUES
            (
                p_APIKeyID,
                p_Endpoint,
                p_Operation,
                p_Method,
                p_StatusCode,
                p_ResponseTimeMs,
                p_IPAddress,
                p_UserAgent,
                p_ApplicationID,
                p_RequestedResource,
                p_ScopesEvaluated,
                COALESCE(p_AuthorizationResult, 'Allowed'),
                p_DeniedReason
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAPIKeyUsageLogs" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAPIKeyUsageLog"(
    IN p_ID UUID,
    IN p_APIKeyID UUID,
    IN p_Endpoint VARCHAR(500),
    IN p_Operation VARCHAR(255),
    IN p_Method VARCHAR(10),
    IN p_StatusCode INTEGER,
    IN p_ResponseTimeMs INTEGER,
    IN p_IPAddress VARCHAR(45),
    IN p_UserAgent VARCHAR(500),
    IN p_ApplicationID UUID,
    IN p_RequestedResource VARCHAR(500),
    IN p_ScopesEvaluated TEXT,
    IN p_AuthorizationResult VARCHAR(20),
    IN p_DeniedReason VARCHAR(500)
)
RETURNS SETOF __mj."vwAPIKeyUsageLogs" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."APIKeyUsageLog"
    SET
        "APIKeyID" = p_APIKeyID,
        "Endpoint" = p_Endpoint,
        "Operation" = p_Operation,
        "Method" = p_Method,
        "StatusCode" = p_StatusCode,
        "ResponseTimeMs" = p_ResponseTimeMs,
        "IPAddress" = p_IPAddress,
        "UserAgent" = p_UserAgent,
        "ApplicationID" = p_ApplicationID,
        "RequestedResource" = p_RequestedResource,
        "ScopesEvaluated" = p_ScopesEvaluated,
        "AuthorizationResult" = p_AuthorizationResult,
        "DeniedReason" = p_DeniedReason
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAPIKeyUsageLogs" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAPIKeyUsageLogs" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAPIKeyUsageLog"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."APIKeyUsageLog"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAPIKey"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Hash VARCHAR(64) DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Label VARCHAR(255) DEFAULT NULL,
    IN p_Description VARCHAR(1000) DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_ExpiresAt TIMESTAMPTZ DEFAULT NULL,
    IN p_LastUsedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CreatedByUserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAPIKeys" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."APIKey"
            (
                "ID",
                "Hash",
                "UserID",
                "Label",
                "Description",
                "Status",
                "ExpiresAt",
                "LastUsedAt",
                "CreatedByUserID"
            )
        VALUES
            (
                p_ID,
                p_Hash,
                p_UserID,
                p_Label,
                p_Description,
                COALESCE(p_Status, 'Active'),
                p_ExpiresAt,
                p_LastUsedAt,
                p_CreatedByUserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."APIKey"
            (
                "Hash",
                "UserID",
                "Label",
                "Description",
                "Status",
                "ExpiresAt",
                "LastUsedAt",
                "CreatedByUserID"
            )
        VALUES
            (
                p_Hash,
                p_UserID,
                p_Label,
                p_Description,
                COALESCE(p_Status, 'Active'),
                p_ExpiresAt,
                p_LastUsedAt,
                p_CreatedByUserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAPIKeys" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAPIKey"(
    IN p_ID UUID,
    IN p_Hash VARCHAR(64),
    IN p_UserID UUID,
    IN p_Label VARCHAR(255),
    IN p_Description VARCHAR(1000),
    IN p_Status VARCHAR(20),
    IN p_ExpiresAt TIMESTAMPTZ,
    IN p_LastUsedAt TIMESTAMPTZ,
    IN p_CreatedByUserID UUID
)
RETURNS SETOF __mj."vwAPIKeys" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."APIKey"
    SET
        "Hash" = p_Hash,
        "UserID" = p_UserID,
        "Label" = p_Label,
        "Description" = p_Description,
        "Status" = p_Status,
        "ExpiresAt" = p_ExpiresAt,
        "LastUsedAt" = p_LastUsedAt,
        "CreatedByUserID" = p_CreatedByUserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAPIKeys" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAPIKeys" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAPIKey"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."APIKey"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAPIScope"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Category VARCHAR(100) DEFAULT NULL,
    IN p_Description VARCHAR(500) DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_FullPath VARCHAR(500) DEFAULT NULL,
    IN p_ResourceType VARCHAR(50) DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL,
    IN p_UIConfig TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAPIScopes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."APIScope"
            (
                "ID",
                "Name",
                "Category",
                "Description",
                "ParentID",
                "FullPath",
                "ResourceType",
                "IsActive",
                "UIConfig"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Category,
                p_Description,
                p_ParentID,
                p_FullPath,
                p_ResourceType,
                COALESCE(p_IsActive, 1),
                p_UIConfig
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."APIScope"
            (
                "Name",
                "Category",
                "Description",
                "ParentID",
                "FullPath",
                "ResourceType",
                "IsActive",
                "UIConfig"
            )
        VALUES
            (
                p_Name,
                p_Category,
                p_Description,
                p_ParentID,
                p_FullPath,
                p_ResourceType,
                COALESCE(p_IsActive, 1),
                p_UIConfig
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAPIScopes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAPIScope"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Category VARCHAR(100),
    IN p_Description VARCHAR(500),
    IN p_ParentID UUID,
    IN p_FullPath VARCHAR(500),
    IN p_ResourceType VARCHAR(50),
    IN p_IsActive BOOLEAN,
    IN p_UIConfig TEXT
)
RETURNS SETOF __mj."vwAPIScopes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."APIScope"
    SET
        "Name" = p_Name,
        "Category" = p_Category,
        "Description" = p_Description,
        "ParentID" = p_ParentID,
        "FullPath" = p_FullPath,
        "ResourceType" = p_ResourceType,
        "IsActive" = p_IsActive,
        "UIConfig" = p_UIConfig
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAPIScopes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAPIScopes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAPIScope"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."APIScope"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateApplicationSetting"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ApplicationID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Value TEXT DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwApplicationSettings" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ApplicationSetting"
            (
                "ID",
                "ApplicationID",
                "Name",
                "Value",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_ApplicationID,
                p_Name,
                p_Value,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ApplicationSetting"
            (
                "ApplicationID",
                "Name",
                "Value",
                "Comments"
            )
        VALUES
            (
                p_ApplicationID,
                p_Name,
                p_Value,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwApplicationSettings" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateApplicationSetting"(
    IN p_ID UUID,
    IN p_ApplicationID UUID,
    IN p_Name VARCHAR(100),
    IN p_Value TEXT,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwApplicationSettings" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ApplicationSetting"
    SET
        "ApplicationID" = p_ApplicationID,
        "Name" = p_Name,
        "Value" = p_Value,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwApplicationSettings" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwApplicationSettings" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteApplicationSetting"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ApplicationSetting"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateArtifactType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ContentType VARCHAR(100) DEFAULT NULL,
    IN p_IsEnabled BOOLEAN DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_ExtractRules TEXT DEFAULT NULL,
    IN p_DriverClass VARCHAR(255) DEFAULT NULL,
    IN p_Icon VARCHAR(255) DEFAULT NULL
)
RETURNS SETOF __mj."vwArtifactTypes" AS
$$
DECLARE
    p_ActualID UUID := COALESCE(p_ID, gen_random_uuid());
BEGIN
INSERT INTO
    __mj."ArtifactType"
        (
            "Name",
                "Description",
                "ContentType",
                "IsEnabled",
                "ParentID",
                "ExtractRules",
                "DriverClass",
                "Icon",
                "ID"
        )
    VALUES
        (
            p_Name,
                p_Description,
                p_ContentType,
                COALESCE(p_IsEnabled, 1),
                p_ParentID,
                p_ExtractRules,
                p_DriverClass,
                p_Icon,
                p_ActualID
        );
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwArtifactTypes" WHERE "ID" = p_ActualID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateArtifactType"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_ContentType VARCHAR(100),
    IN p_IsEnabled BOOLEAN,
    IN p_ParentID UUID,
    IN p_ExtractRules TEXT,
    IN p_DriverClass VARCHAR(255),
    IN p_Icon VARCHAR(255)
)
RETURNS SETOF __mj."vwArtifactTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ArtifactType"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ContentType" = p_ContentType,
        "IsEnabled" = p_IsEnabled,
        "ParentID" = p_ParentID,
        "ExtractRules" = p_ExtractRules,
        "DriverClass" = p_DriverClass,
        "Icon" = p_Icon
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwArtifactTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwArtifactTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteArtifactType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ArtifactType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateArtifactPermission"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ArtifactID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_CanRead BOOLEAN DEFAULT NULL,
    IN p_CanEdit BOOLEAN DEFAULT NULL,
    IN p_CanDelete BOOLEAN DEFAULT NULL,
    IN p_CanShare BOOLEAN DEFAULT NULL,
    IN p_SharedByUserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwArtifactPermissions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ArtifactPermission"
            (
                "ID",
                "ArtifactID",
                "UserID",
                "CanRead",
                "CanEdit",
                "CanDelete",
                "CanShare",
                "SharedByUserID"
            )
        VALUES
            (
                p_ID,
                p_ArtifactID,
                p_UserID,
                COALESCE(p_CanRead, 1),
                COALESCE(p_CanEdit, 0),
                COALESCE(p_CanDelete, 0),
                COALESCE(p_CanShare, 0),
                p_SharedByUserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ArtifactPermission"
            (
                "ArtifactID",
                "UserID",
                "CanRead",
                "CanEdit",
                "CanDelete",
                "CanShare",
                "SharedByUserID"
            )
        VALUES
            (
                p_ArtifactID,
                p_UserID,
                COALESCE(p_CanRead, 1),
                COALESCE(p_CanEdit, 0),
                COALESCE(p_CanDelete, 0),
                COALESCE(p_CanShare, 0),
                p_SharedByUserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwArtifactPermissions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateArtifactPermission"(
    IN p_ID UUID,
    IN p_ArtifactID UUID,
    IN p_UserID UUID,
    IN p_CanRead BOOLEAN,
    IN p_CanEdit BOOLEAN,
    IN p_CanDelete BOOLEAN,
    IN p_CanShare BOOLEAN,
    IN p_SharedByUserID UUID
)
RETURNS SETOF __mj."vwArtifactPermissions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ArtifactPermission"
    SET
        "ArtifactID" = p_ArtifactID,
        "UserID" = p_UserID,
        "CanRead" = p_CanRead,
        "CanEdit" = p_CanEdit,
        "CanDelete" = p_CanDelete,
        "CanShare" = p_CanShare,
        "SharedByUserID" = p_SharedByUserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwArtifactPermissions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwArtifactPermissions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteArtifactPermission"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ArtifactPermission"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateArtifactUse"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ArtifactVersionID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_UsageType VARCHAR(20) DEFAULT NULL,
    IN p_UsageContext TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwArtifactUses" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ArtifactUse"
            (
                "ID",
                "ArtifactVersionID",
                "UserID",
                "UsageType",
                "UsageContext"
            )
        VALUES
            (
                p_ID,
                p_ArtifactVersionID,
                p_UserID,
                p_UsageType,
                p_UsageContext
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ArtifactUse"
            (
                "ArtifactVersionID",
                "UserID",
                "UsageType",
                "UsageContext"
            )
        VALUES
            (
                p_ArtifactVersionID,
                p_UserID,
                p_UsageType,
                p_UsageContext
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwArtifactUses" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateArtifactUse"(
    IN p_ID UUID,
    IN p_ArtifactVersionID UUID,
    IN p_UserID UUID,
    IN p_UsageType VARCHAR(20),
    IN p_UsageContext TEXT
)
RETURNS SETOF __mj."vwArtifactUses" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ArtifactUse"
    SET
        "ArtifactVersionID" = p_ArtifactVersionID,
        "UserID" = p_UserID,
        "UsageType" = p_UsageType,
        "UsageContext" = p_UsageContext
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwArtifactUses" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwArtifactUses" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteArtifactUse"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ArtifactUse"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateArtifactVersion"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ArtifactID UUID DEFAULT NULL,
    IN p_VersionNumber INTEGER DEFAULT NULL,
    IN p_Content TEXT DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_ContentHash VARCHAR(500) DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwArtifactVersions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ArtifactVersion"
            (
                "ID",
                "ArtifactID",
                "VersionNumber",
                "Content",
                "Configuration",
                "Comments",
                "UserID",
                "ContentHash",
                "Name",
                "Description"
            )
        VALUES
            (
                p_ID,
                p_ArtifactID,
                p_VersionNumber,
                p_Content,
                p_Configuration,
                p_Comments,
                p_UserID,
                p_ContentHash,
                p_Name,
                p_Description
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ArtifactVersion"
            (
                "ArtifactID",
                "VersionNumber",
                "Content",
                "Configuration",
                "Comments",
                "UserID",
                "ContentHash",
                "Name",
                "Description"
            )
        VALUES
            (
                p_ArtifactID,
                p_VersionNumber,
                p_Content,
                p_Configuration,
                p_Comments,
                p_UserID,
                p_ContentHash,
                p_Name,
                p_Description
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwArtifactVersions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateArtifactVersion"(
    IN p_ID UUID,
    IN p_ArtifactID UUID,
    IN p_VersionNumber INTEGER,
    IN p_Content TEXT,
    IN p_Configuration TEXT,
    IN p_Comments TEXT,
    IN p_UserID UUID,
    IN p_ContentHash VARCHAR(500),
    IN p_Name VARCHAR(255),
    IN p_Description TEXT
)
RETURNS SETOF __mj."vwArtifactVersions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ArtifactVersion"
    SET
        "ArtifactID" = p_ArtifactID,
        "VersionNumber" = p_VersionNumber,
        "Content" = p_Content,
        "Configuration" = p_Configuration,
        "Comments" = p_Comments,
        "UserID" = p_UserID,
        "ContentHash" = p_ContentHash,
        "Name" = p_Name,
        "Description" = p_Description
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwArtifactVersions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwArtifactVersions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteArtifactVersion"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ArtifactVersion"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateArtifactVersionAttribute"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ArtifactVersionID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Type VARCHAR(500) DEFAULT NULL,
    IN p_Value TEXT DEFAULT NULL,
    IN p_StandardProperty VARCHAR(50) DEFAULT NULL
)
RETURNS SETOF __mj."vwArtifactVersionAttributes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ArtifactVersionAttribute"
            (
                "ID",
                "ArtifactVersionID",
                "Name",
                "Type",
                "Value",
                "StandardProperty"
            )
        VALUES
            (
                p_ID,
                p_ArtifactVersionID,
                p_Name,
                p_Type,
                p_Value,
                p_StandardProperty
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ArtifactVersionAttribute"
            (
                "ArtifactVersionID",
                "Name",
                "Type",
                "Value",
                "StandardProperty"
            )
        VALUES
            (
                p_ArtifactVersionID,
                p_Name,
                p_Type,
                p_Value,
                p_StandardProperty
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwArtifactVersionAttributes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateArtifactVersionAttribute"(
    IN p_ID UUID,
    IN p_ArtifactVersionID UUID,
    IN p_Name VARCHAR(255),
    IN p_Type VARCHAR(500),
    IN p_Value TEXT,
    IN p_StandardProperty VARCHAR(50)
)
RETURNS SETOF __mj."vwArtifactVersionAttributes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ArtifactVersionAttribute"
    SET
        "ArtifactVersionID" = p_ArtifactVersionID,
        "Name" = p_Name,
        "Type" = p_Type,
        "Value" = p_Value,
        "StandardProperty" = p_StandardProperty
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwArtifactVersionAttributes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwArtifactVersionAttributes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteArtifactVersionAttribute"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ArtifactVersionAttribute"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateArtifact"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EnvironmentID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_TypeID UUID DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Visibility VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwArtifacts" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Artifact"
            (
                "ID",
                "EnvironmentID",
                "Name",
                "Description",
                "TypeID",
                "Comments",
                "UserID",
                "Visibility"
            )
        VALUES
            (
                p_ID,
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END,
                p_Name,
                p_Description,
                p_TypeID,
                p_Comments,
                p_UserID,
                COALESCE(p_Visibility, 'Always')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Artifact"
            (
                "EnvironmentID",
                "Name",
                "Description",
                "TypeID",
                "Comments",
                "UserID",
                "Visibility"
            )
        VALUES
            (
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END,
                p_Name,
                p_Description,
                p_TypeID,
                p_Comments,
                p_UserID,
                COALESCE(p_Visibility, 'Always')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwArtifacts" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateArtifact"(
    IN p_ID UUID,
    IN p_EnvironmentID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_TypeID UUID,
    IN p_Comments TEXT,
    IN p_UserID UUID,
    IN p_Visibility VARCHAR(20)
)
RETURNS SETOF __mj."vwArtifacts" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Artifact"
    SET
        "EnvironmentID" = p_EnvironmentID,
        "Name" = p_Name,
        "Description" = p_Description,
        "TypeID" = p_TypeID,
        "Comments" = p_Comments,
        "UserID" = p_UserID,
        "Visibility" = p_Visibility
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwArtifacts" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwArtifacts" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteArtifact"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Artifact"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAuditLogType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(50) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_AuthorizationID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwAuditLogTypes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AuditLogType"
            (
                "ID",
                "Name",
                "Description",
                "ParentID",
                "AuthorizationID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ParentID,
                p_AuthorizationID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AuditLogType"
            (
                "Name",
                "Description",
                "ParentID",
                "AuthorizationID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ParentID,
                p_AuthorizationID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAuditLogTypes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAuditLogType"(
    IN p_ID UUID,
    IN p_Name VARCHAR(50),
    IN p_Description TEXT,
    IN p_ParentID UUID,
    IN p_AuthorizationID UUID
)
RETURNS SETOF __mj."vwAuditLogTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AuditLogType"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ParentID" = p_ParentID,
        "AuthorizationID" = p_AuthorizationID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAuditLogTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAuditLogTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAuditLogType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AuditLogType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAuditLog"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_AuditLogTypeID UUID DEFAULT NULL,
    IN p_AuthorizationID UUID DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Details TEXT DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(450) DEFAULT NULL
)
RETURNS SETOF __mj."vwAuditLogs" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AuditLog"
            (
                "ID",
                "UserID",
                "AuditLogTypeID",
                "AuthorizationID",
                "Status",
                "Description",
                "Details",
                "EntityID",
                "RecordID"
            )
        VALUES
            (
                p_ID,
                p_UserID,
                p_AuditLogTypeID,
                p_AuthorizationID,
                COALESCE(p_Status, 'Allow'),
                p_Description,
                p_Details,
                p_EntityID,
                p_RecordID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AuditLog"
            (
                "UserID",
                "AuditLogTypeID",
                "AuthorizationID",
                "Status",
                "Description",
                "Details",
                "EntityID",
                "RecordID"
            )
        VALUES
            (
                p_UserID,
                p_AuditLogTypeID,
                p_AuthorizationID,
                COALESCE(p_Status, 'Allow'),
                p_Description,
                p_Details,
                p_EntityID,
                p_RecordID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAuditLogs" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAuditLog"(
    IN p_ID UUID,
    IN p_UserID UUID,
    IN p_AuditLogTypeID UUID,
    IN p_AuthorizationID UUID,
    IN p_Status VARCHAR(50),
    IN p_Description TEXT,
    IN p_Details TEXT,
    IN p_EntityID UUID,
    IN p_RecordID VARCHAR(450)
)
RETURNS SETOF __mj."vwAuditLogs" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AuditLog"
    SET
        "UserID" = p_UserID,
        "AuditLogTypeID" = p_AuditLogTypeID,
        "AuthorizationID" = p_AuthorizationID,
        "Status" = p_Status,
        "Description" = p_Description,
        "Details" = p_Details,
        "EntityID" = p_EntityID,
        "RecordID" = p_RecordID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAuditLogs" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAuditLogs" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAuditLog"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AuditLog"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAuthorizationRole"(
    IN p_ID UUID DEFAULT NULL,
    IN p_AuthorizationID UUID DEFAULT NULL,
    IN p_RoleID UUID DEFAULT NULL,
    IN p_Type CHAR(10) DEFAULT NULL
)
RETURNS SETOF __mj."vwAuthorizationRoles" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."AuthorizationRole"
            (
                "ID",
                "AuthorizationID",
                "RoleID",
                "Type"
            )
        VALUES
            (
                p_ID,
                p_AuthorizationID,
                p_RoleID,
                COALESCE(p_Type, 'grant')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."AuthorizationRole"
            (
                "AuthorizationID",
                "RoleID",
                "Type"
            )
        VALUES
            (
                p_AuthorizationID,
                p_RoleID,
                COALESCE(p_Type, 'grant')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAuthorizationRoles" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAuthorizationRole"(
    IN p_ID UUID,
    IN p_AuthorizationID UUID,
    IN p_RoleID UUID,
    IN p_Type CHAR(10)
)
RETURNS SETOF __mj."vwAuthorizationRoles" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."AuthorizationRole"
    SET
        "AuthorizationID" = p_AuthorizationID,
        "RoleID" = p_RoleID,
        "Type" = p_Type
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAuthorizationRoles" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAuthorizationRoles" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAuthorizationRole"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."AuthorizationRole"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateAuthorization"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL,
    IN p_UseAuditLog BOOLEAN DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwAuthorizations" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Authorization"
            (
                "ID",
                "ParentID",
                "Name",
                "IsActive",
                "UseAuditLog",
                "Description"
            )
        VALUES
            (
                p_ID,
                p_ParentID,
                p_Name,
                COALESCE(p_IsActive, 1),
                COALESCE(p_UseAuditLog, 1),
                p_Description
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Authorization"
            (
                "ParentID",
                "Name",
                "IsActive",
                "UseAuditLog",
                "Description"
            )
        VALUES
            (
                p_ParentID,
                p_Name,
                COALESCE(p_IsActive, 1),
                COALESCE(p_UseAuditLog, 1),
                p_Description
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwAuthorizations" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateAuthorization"(
    IN p_ID UUID,
    IN p_ParentID UUID,
    IN p_Name VARCHAR(100),
    IN p_IsActive BOOLEAN,
    IN p_UseAuditLog BOOLEAN,
    IN p_Description TEXT
)
RETURNS SETOF __mj."vwAuthorizations" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Authorization"
    SET
        "ParentID" = p_ParentID,
        "Name" = p_Name,
        "IsActive" = p_IsActive,
        "UseAuditLog" = p_UseAuditLog,
        "Description" = p_Description
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwAuthorizations" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwAuthorizations" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteAuthorization"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Authorization"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateCollectionPermission"(
    IN p_ID UUID DEFAULT NULL,
    IN p_CollectionID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_CanRead BOOLEAN DEFAULT NULL,
    IN p_CanShare BOOLEAN DEFAULT NULL,
    IN p_CanEdit BOOLEAN DEFAULT NULL,
    IN p_CanDelete BOOLEAN DEFAULT NULL,
    IN p_SharedByUserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwCollectionPermissions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."CollectionPermission"
            (
                "ID",
                "CollectionID",
                "UserID",
                "CanRead",
                "CanShare",
                "CanEdit",
                "CanDelete",
                "SharedByUserID"
            )
        VALUES
            (
                p_ID,
                p_CollectionID,
                p_UserID,
                COALESCE(p_CanRead, 1),
                COALESCE(p_CanShare, 0),
                COALESCE(p_CanEdit, 0),
                COALESCE(p_CanDelete, 0),
                p_SharedByUserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."CollectionPermission"
            (
                "CollectionID",
                "UserID",
                "CanRead",
                "CanShare",
                "CanEdit",
                "CanDelete",
                "SharedByUserID"
            )
        VALUES
            (
                p_CollectionID,
                p_UserID,
                COALESCE(p_CanRead, 1),
                COALESCE(p_CanShare, 0),
                COALESCE(p_CanEdit, 0),
                COALESCE(p_CanDelete, 0),
                p_SharedByUserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwCollectionPermissions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateCollectionPermission"(
    IN p_ID UUID,
    IN p_CollectionID UUID,
    IN p_UserID UUID,
    IN p_CanRead BOOLEAN,
    IN p_CanShare BOOLEAN,
    IN p_CanEdit BOOLEAN,
    IN p_CanDelete BOOLEAN,
    IN p_SharedByUserID UUID
)
RETURNS SETOF __mj."vwCollectionPermissions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."CollectionPermission"
    SET
        "CollectionID" = p_CollectionID,
        "UserID" = p_UserID,
        "CanRead" = p_CanRead,
        "CanShare" = p_CanShare,
        "CanEdit" = p_CanEdit,
        "CanDelete" = p_CanDelete,
        "SharedByUserID" = p_SharedByUserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwCollectionPermissions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwCollectionPermissions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteCollectionPermission"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."CollectionPermission"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateCollectionArtifact"(
    IN p_ID UUID DEFAULT NULL,
    IN p_CollectionID UUID DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_ArtifactVersionID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwCollectionArtifacts" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."CollectionArtifact"
            (
                "ID",
                "CollectionID",
                "Sequence",
                "ArtifactVersionID"
            )
        VALUES
            (
                p_ID,
                p_CollectionID,
                COALESCE(p_Sequence, 0),
                p_ArtifactVersionID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."CollectionArtifact"
            (
                "CollectionID",
                "Sequence",
                "ArtifactVersionID"
            )
        VALUES
            (
                p_CollectionID,
                COALESCE(p_Sequence, 0),
                p_ArtifactVersionID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwCollectionArtifacts" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateCollectionArtifact"(
    IN p_ID UUID,
    IN p_CollectionID UUID,
    IN p_Sequence INTEGER,
    IN p_ArtifactVersionID UUID
)
RETURNS SETOF __mj."vwCollectionArtifacts" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."CollectionArtifact"
    SET
        "CollectionID" = p_CollectionID,
        "Sequence" = p_Sequence,
        "ArtifactVersionID" = p_ArtifactVersionID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwCollectionArtifacts" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwCollectionArtifacts" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteCollectionArtifact"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."CollectionArtifact"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateCollection"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EnvironmentID UUID DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Icon VARCHAR(50) DEFAULT NULL,
    IN p_Color VARCHAR(7) DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_OwnerID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwCollections" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Collection"
            (
                "ID",
                "EnvironmentID",
                "ParentID",
                "Name",
                "Description",
                "Icon",
                "Color",
                "Sequence",
                "OwnerID"
            )
        VALUES
            (
                p_ID,
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END,
                p_ParentID,
                p_Name,
                p_Description,
                p_Icon,
                p_Color,
                p_Sequence,
                p_OwnerID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Collection"
            (
                "EnvironmentID",
                "ParentID",
                "Name",
                "Description",
                "Icon",
                "Color",
                "Sequence",
                "OwnerID"
            )
        VALUES
            (
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END,
                p_ParentID,
                p_Name,
                p_Description,
                p_Icon,
                p_Color,
                p_Sequence,
                p_OwnerID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwCollections" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateCollection"(
    IN p_ID UUID,
    IN p_EnvironmentID UUID,
    IN p_ParentID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_Icon VARCHAR(50),
    IN p_Color VARCHAR(7),
    IN p_Sequence INTEGER,
    IN p_OwnerID UUID
)
RETURNS SETOF __mj."vwCollections" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Collection"
    SET
        "EnvironmentID" = p_EnvironmentID,
        "ParentID" = p_ParentID,
        "Name" = p_Name,
        "Description" = p_Description,
        "Icon" = p_Icon,
        "Color" = p_Color,
        "Sequence" = p_Sequence,
        "OwnerID" = p_OwnerID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwCollections" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwCollections" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteCollection"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Collection"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateCommunicationProviderMessageType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_CommunicationProviderID UUID DEFAULT NULL,
    IN p_CommunicationBaseMessageTypeID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_AdditionalAttributes TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwCommunicationProviderMessageTypes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."CommunicationProviderMessageType"
            (
                "ID",
                "CommunicationProviderID",
                "CommunicationBaseMessageTypeID",
                "Name",
                "Status",
                "AdditionalAttributes"
            )
        VALUES
            (
                p_ID,
                p_CommunicationProviderID,
                p_CommunicationBaseMessageTypeID,
                p_Name,
                COALESCE(p_Status, 'Disabled'),
                p_AdditionalAttributes
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."CommunicationProviderMessageType"
            (
                "CommunicationProviderID",
                "CommunicationBaseMessageTypeID",
                "Name",
                "Status",
                "AdditionalAttributes"
            )
        VALUES
            (
                p_CommunicationProviderID,
                p_CommunicationBaseMessageTypeID,
                p_Name,
                COALESCE(p_Status, 'Disabled'),
                p_AdditionalAttributes
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwCommunicationProviderMessageTypes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateCommunicationProviderMessageType"(
    IN p_ID UUID,
    IN p_CommunicationProviderID UUID,
    IN p_CommunicationBaseMessageTypeID UUID,
    IN p_Name VARCHAR(255),
    IN p_Status VARCHAR(20),
    IN p_AdditionalAttributes TEXT
)
RETURNS SETOF __mj."vwCommunicationProviderMessageTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."CommunicationProviderMessageType"
    SET
        "CommunicationProviderID" = p_CommunicationProviderID,
        "CommunicationBaseMessageTypeID" = p_CommunicationBaseMessageTypeID,
        "Name" = p_Name,
        "Status" = p_Status,
        "AdditionalAttributes" = p_AdditionalAttributes
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwCommunicationProviderMessageTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwCommunicationProviderMessageTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteCommunicationProviderMessageType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."CommunicationProviderMessageType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateCommunicationLog"(
    IN p_ID UUID DEFAULT NULL,
    IN p_CommunicationProviderID UUID DEFAULT NULL,
    IN p_CommunicationProviderMessageTypeID UUID DEFAULT NULL,
    IN p_CommunicationRunID UUID DEFAULT NULL,
    IN p_Direction VARCHAR(20) DEFAULT NULL,
    IN p_MessageDate TIMESTAMPTZ DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_MessageContent TEXT DEFAULT NULL,
    IN p_ErrorMessage TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwCommunicationLogs" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."CommunicationLog"
            (
                "ID",
                "CommunicationProviderID",
                "CommunicationProviderMessageTypeID",
                "CommunicationRunID",
                "Direction",
                "MessageDate",
                "Status",
                "MessageContent",
                "ErrorMessage"
            )
        VALUES
            (
                p_ID,
                p_CommunicationProviderID,
                p_CommunicationProviderMessageTypeID,
                p_CommunicationRunID,
                p_Direction,
                p_MessageDate,
                COALESCE(p_Status, 'Pending'),
                p_MessageContent,
                p_ErrorMessage
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."CommunicationLog"
            (
                "CommunicationProviderID",
                "CommunicationProviderMessageTypeID",
                "CommunicationRunID",
                "Direction",
                "MessageDate",
                "Status",
                "MessageContent",
                "ErrorMessage"
            )
        VALUES
            (
                p_CommunicationProviderID,
                p_CommunicationProviderMessageTypeID,
                p_CommunicationRunID,
                p_Direction,
                p_MessageDate,
                COALESCE(p_Status, 'Pending'),
                p_MessageContent,
                p_ErrorMessage
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwCommunicationLogs" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateCommunicationLog"(
    IN p_ID UUID,
    IN p_CommunicationProviderID UUID,
    IN p_CommunicationProviderMessageTypeID UUID,
    IN p_CommunicationRunID UUID,
    IN p_Direction VARCHAR(20),
    IN p_MessageDate TIMESTAMPTZ,
    IN p_Status VARCHAR(20),
    IN p_MessageContent TEXT,
    IN p_ErrorMessage TEXT
)
RETURNS SETOF __mj."vwCommunicationLogs" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."CommunicationLog"
    SET
        "CommunicationProviderID" = p_CommunicationProviderID,
        "CommunicationProviderMessageTypeID" = p_CommunicationProviderMessageTypeID,
        "CommunicationRunID" = p_CommunicationRunID,
        "Direction" = p_Direction,
        "MessageDate" = p_MessageDate,
        "Status" = p_Status,
        "MessageContent" = p_MessageContent,
        "ErrorMessage" = p_ErrorMessage
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwCommunicationLogs" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwCommunicationLogs" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteCommunicationLog"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."CommunicationLog"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateCommunicationRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Direction VARCHAR(20) DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL,
    IN p_ErrorMessage TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwCommunicationRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."CommunicationRun"
            (
                "ID",
                "UserID",
                "Direction",
                "Status",
                "StartedAt",
                "EndedAt",
                "Comments",
                "ErrorMessage"
            )
        VALUES
            (
                p_ID,
                p_UserID,
                p_Direction,
                p_Status,
                p_StartedAt,
                p_EndedAt,
                p_Comments,
                p_ErrorMessage
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."CommunicationRun"
            (
                "UserID",
                "Direction",
                "Status",
                "StartedAt",
                "EndedAt",
                "Comments",
                "ErrorMessage"
            )
        VALUES
            (
                p_UserID,
                p_Direction,
                p_Status,
                p_StartedAt,
                p_EndedAt,
                p_Comments,
                p_ErrorMessage
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwCommunicationRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateCommunicationRun"(
    IN p_ID UUID,
    IN p_UserID UUID,
    IN p_Direction VARCHAR(20),
    IN p_Status VARCHAR(20),
    IN p_StartedAt TIMESTAMPTZ,
    IN p_EndedAt TIMESTAMPTZ,
    IN p_Comments TEXT,
    IN p_ErrorMessage TEXT
)
RETURNS SETOF __mj."vwCommunicationRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."CommunicationRun"
    SET
        "UserID" = p_UserID,
        "Direction" = p_Direction,
        "Status" = p_Status,
        "StartedAt" = p_StartedAt,
        "EndedAt" = p_EndedAt,
        "Comments" = p_Comments,
        "ErrorMessage" = p_ErrorMessage
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwCommunicationRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwCommunicationRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteCommunicationRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."CommunicationRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateCompanyIntegrationRecordMap"(
    IN p_ID UUID DEFAULT NULL,
    IN p_CompanyIntegrationID UUID DEFAULT NULL,
    IN p_ExternalSystemRecordID VARCHAR(750) DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_EntityRecordID VARCHAR(750) DEFAULT NULL
)
RETURNS SETOF __mj."vwCompanyIntegrationRecordMaps" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."CompanyIntegrationRecordMap"
            (
                "ID",
                "CompanyIntegrationID",
                "ExternalSystemRecordID",
                "EntityID",
                "EntityRecordID"
            )
        VALUES
            (
                p_ID,
                p_CompanyIntegrationID,
                p_ExternalSystemRecordID,
                p_EntityID,
                p_EntityRecordID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."CompanyIntegrationRecordMap"
            (
                "CompanyIntegrationID",
                "ExternalSystemRecordID",
                "EntityID",
                "EntityRecordID"
            )
        VALUES
            (
                p_CompanyIntegrationID,
                p_ExternalSystemRecordID,
                p_EntityID,
                p_EntityRecordID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwCompanyIntegrationRecordMaps" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateCompanyIntegrationRecordMap"(
    IN p_ID UUID,
    IN p_CompanyIntegrationID UUID,
    IN p_ExternalSystemRecordID VARCHAR(750),
    IN p_EntityID UUID,
    IN p_EntityRecordID VARCHAR(750)
)
RETURNS SETOF __mj."vwCompanyIntegrationRecordMaps" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."CompanyIntegrationRecordMap"
    SET
        "CompanyIntegrationID" = p_CompanyIntegrationID,
        "ExternalSystemRecordID" = p_ExternalSystemRecordID,
        "EntityID" = p_EntityID,
        "EntityRecordID" = p_EntityRecordID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwCompanyIntegrationRecordMaps" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwCompanyIntegrationRecordMaps" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteCompanyIntegrationRecordMap"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."CompanyIntegrationRecordMap"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateCompanyIntegrationRunAPILog"(
    IN p_ID UUID DEFAULT NULL,
    IN p_CompanyIntegrationRunID UUID DEFAULT NULL,
    IN p_ExecutedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_IsSuccess BOOLEAN DEFAULT NULL,
    IN p_RequestMethod VARCHAR(12) DEFAULT NULL,
    IN p_URL TEXT DEFAULT NULL,
    IN p_Parameters TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwCompanyIntegrationRunAPILogs" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."CompanyIntegrationRunAPILog"
            (
                "ID",
                "CompanyIntegrationRunID",
                "ExecutedAt",
                "IsSuccess",
                "RequestMethod",
                "URL",
                "Parameters"
            )
        VALUES
            (
                p_ID,
                p_CompanyIntegrationRunID,
                COALESCE(p_ExecutedAt, NOW()),
                COALESCE(p_IsSuccess, 0),
                p_RequestMethod,
                p_URL,
                p_Parameters
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."CompanyIntegrationRunAPILog"
            (
                "CompanyIntegrationRunID",
                "ExecutedAt",
                "IsSuccess",
                "RequestMethod",
                "URL",
                "Parameters"
            )
        VALUES
            (
                p_CompanyIntegrationRunID,
                COALESCE(p_ExecutedAt, NOW()),
                COALESCE(p_IsSuccess, 0),
                p_RequestMethod,
                p_URL,
                p_Parameters
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwCompanyIntegrationRunAPILogs" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateCompanyIntegrationRunAPILog"(
    IN p_ID UUID,
    IN p_CompanyIntegrationRunID UUID,
    IN p_ExecutedAt TIMESTAMPTZ,
    IN p_IsSuccess BOOLEAN,
    IN p_RequestMethod VARCHAR(12),
    IN p_URL TEXT,
    IN p_Parameters TEXT
)
RETURNS SETOF __mj."vwCompanyIntegrationRunAPILogs" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."CompanyIntegrationRunAPILog"
    SET
        "CompanyIntegrationRunID" = p_CompanyIntegrationRunID,
        "ExecutedAt" = p_ExecutedAt,
        "IsSuccess" = p_IsSuccess,
        "RequestMethod" = p_RequestMethod,
        "URL" = p_URL,
        "Parameters" = p_Parameters
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwCompanyIntegrationRunAPILogs" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwCompanyIntegrationRunAPILogs" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteCompanyIntegrationRunAPILog"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."CompanyIntegrationRunAPILog"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateComponentLibraryLink"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ComponentID UUID DEFAULT NULL,
    IN p_LibraryID UUID DEFAULT NULL,
    IN p_MinVersion VARCHAR(100) DEFAULT NULL
)
RETURNS SETOF __mj."vwComponentLibraryLinks" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ComponentLibraryLink"
            (
                "ID",
                "ComponentID",
                "LibraryID",
                "MinVersion"
            )
        VALUES
            (
                p_ID,
                p_ComponentID,
                p_LibraryID,
                p_MinVersion
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ComponentLibraryLink"
            (
                "ComponentID",
                "LibraryID",
                "MinVersion"
            )
        VALUES
            (
                p_ComponentID,
                p_LibraryID,
                p_MinVersion
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwComponentLibraryLinks" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateComponentLibraryLink"(
    IN p_ID UUID,
    IN p_ComponentID UUID,
    IN p_LibraryID UUID,
    IN p_MinVersion VARCHAR(100)
)
RETURNS SETOF __mj."vwComponentLibraryLinks" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ComponentLibraryLink"
    SET
        "ComponentID" = p_ComponentID,
        "LibraryID" = p_LibraryID,
        "MinVersion" = p_MinVersion
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwComponentLibraryLinks" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwComponentLibraryLinks" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteComponentLibraryLink"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ComponentLibraryLink"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateComponentDependency"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ComponentID UUID DEFAULT NULL,
    IN p_DependencyComponentID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwComponentDependencies" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ComponentDependency"
            (
                "ID",
                "ComponentID",
                "DependencyComponentID"
            )
        VALUES
            (
                p_ID,
                p_ComponentID,
                p_DependencyComponentID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ComponentDependency"
            (
                "ComponentID",
                "DependencyComponentID"
            )
        VALUES
            (
                p_ComponentID,
                p_DependencyComponentID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwComponentDependencies" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateComponentDependency"(
    IN p_ID UUID,
    IN p_ComponentID UUID,
    IN p_DependencyComponentID UUID
)
RETURNS SETOF __mj."vwComponentDependencies" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ComponentDependency"
    SET
        "ComponentID" = p_ComponentID,
        "DependencyComponentID" = p_DependencyComponentID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwComponentDependencies" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwComponentDependencies" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteComponentDependency"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ComponentDependency"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateContentItemAttribute"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ContentItemID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Value TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwContentItemAttributes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ContentItemAttribute"
            (
                "ID",
                "ContentItemID",
                "Name",
                "Value"
            )
        VALUES
            (
                p_ID,
                p_ContentItemID,
                p_Name,
                p_Value
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ContentItemAttribute"
            (
                "ContentItemID",
                "Name",
                "Value"
            )
        VALUES
            (
                p_ContentItemID,
                p_Name,
                p_Value
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwContentItemAttributes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateContentItemAttribute"(
    IN p_ID UUID,
    IN p_ContentItemID UUID,
    IN p_Name VARCHAR(100),
    IN p_Value TEXT
)
RETURNS SETOF __mj."vwContentItemAttributes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ContentItemAttribute"
    SET
        "ContentItemID" = p_ContentItemID,
        "Name" = p_Name,
        "Value" = p_Value
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwContentItemAttributes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwContentItemAttributes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteContentItemAttribute"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ContentItemAttribute"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateContentItemTag"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ItemID UUID DEFAULT NULL,
    IN p_Tag VARCHAR(200) DEFAULT NULL
)
RETURNS SETOF __mj."vwContentItemTags" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ContentItemTag"
            (
                "ID",
                "ItemID",
                "Tag"
            )
        VALUES
            (
                p_ID,
                p_ItemID,
                p_Tag
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ContentItemTag"
            (
                "ItemID",
                "Tag"
            )
        VALUES
            (
                p_ItemID,
                p_Tag
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwContentItemTags" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateContentItemTag"(
    IN p_ID UUID,
    IN p_ItemID UUID,
    IN p_Tag VARCHAR(200)
)
RETURNS SETOF __mj."vwContentItemTags" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ContentItemTag"
    SET
        "ItemID" = p_ItemID,
        "Tag" = p_Tag
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwContentItemTags" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwContentItemTags" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteContentItemTag"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ContentItemTag"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateComponent"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Namespace TEXT DEFAULT NULL,
    IN p_Name VARCHAR(500) DEFAULT NULL,
    IN p_Version VARCHAR(50) DEFAULT NULL,
    IN p_VersionSequence INTEGER DEFAULT NULL,
    IN p_Title VARCHAR(1000) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Type VARCHAR(255) DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_DeveloperName VARCHAR(255) DEFAULT NULL,
    IN p_DeveloperEmail VARCHAR(255) DEFAULT NULL,
    IN p_DeveloperOrganization VARCHAR(255) DEFAULT NULL,
    IN p_SourceRegistryID UUID DEFAULT NULL,
    IN p_ReplicatedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_LastSyncedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Specification TEXT DEFAULT NULL,
    IN p_FunctionalRequirements TEXT DEFAULT NULL,
    IN p_TechnicalDesign TEXT DEFAULT NULL,
    IN p_FunctionalRequirementsVector TEXT DEFAULT NULL,
    IN p_TechnicalDesignVector TEXT DEFAULT NULL,
    IN p_HasCustomProps BOOLEAN DEFAULT NULL,
    IN p_HasCustomEvents BOOLEAN DEFAULT NULL,
    IN p_RequiresData BOOLEAN DEFAULT NULL,
    IN p_DependencyCount INTEGER DEFAULT NULL,
    IN p_TechnicalDesignVectorEmbeddingModelID TEXT DEFAULT NULL,
    IN p_FunctionalRequirementsVectorEmbeddingModelID TEXT DEFAULT NULL,
    IN p_HasRequiredCustomProps BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwComponents" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Component"
            (
                "ID",
                "Namespace",
                "Name",
                "Version",
                "VersionSequence",
                "Title",
                "Description",
                "Type",
                "Status",
                "DeveloperName",
                "DeveloperEmail",
                "DeveloperOrganization",
                "SourceRegistryID",
                "ReplicatedAt",
                "LastSyncedAt",
                "Specification",
                "FunctionalRequirements",
                "TechnicalDesign",
                "FunctionalRequirementsVector",
                "TechnicalDesignVector",
                "HasCustomProps",
                "HasCustomEvents",
                "RequiresData",
                "DependencyCount",
                "TechnicalDesignVectorEmbeddingModelID",
                "FunctionalRequirementsVectorEmbeddingModelID",
                "HasRequiredCustomProps"
            )
        VALUES
            (
                p_ID,
                p_Namespace,
                p_Name,
                p_Version,
                COALESCE(p_VersionSequence, 0),
                p_Title,
                p_Description,
                p_Type,
                p_Status,
                p_DeveloperName,
                p_DeveloperEmail,
                p_DeveloperOrganization,
                p_SourceRegistryID,
                p_ReplicatedAt,
                p_LastSyncedAt,
                p_Specification,
                p_FunctionalRequirements,
                p_TechnicalDesign,
                p_FunctionalRequirementsVector,
                p_TechnicalDesignVector,
                COALESCE(p_HasCustomProps, 0),
                COALESCE(p_HasCustomEvents, 0),
                COALESCE(p_RequiresData, 0),
                COALESCE(p_DependencyCount, 0),
                p_TechnicalDesignVectorEmbeddingModelID,
                p_FunctionalRequirementsVectorEmbeddingModelID,
                COALESCE(p_HasRequiredCustomProps, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Component"
            (
                "Namespace",
                "Name",
                "Version",
                "VersionSequence",
                "Title",
                "Description",
                "Type",
                "Status",
                "DeveloperName",
                "DeveloperEmail",
                "DeveloperOrganization",
                "SourceRegistryID",
                "ReplicatedAt",
                "LastSyncedAt",
                "Specification",
                "FunctionalRequirements",
                "TechnicalDesign",
                "FunctionalRequirementsVector",
                "TechnicalDesignVector",
                "HasCustomProps",
                "HasCustomEvents",
                "RequiresData",
                "DependencyCount",
                "TechnicalDesignVectorEmbeddingModelID",
                "FunctionalRequirementsVectorEmbeddingModelID",
                "HasRequiredCustomProps"
            )
        VALUES
            (
                p_Namespace,
                p_Name,
                p_Version,
                COALESCE(p_VersionSequence, 0),
                p_Title,
                p_Description,
                p_Type,
                p_Status,
                p_DeveloperName,
                p_DeveloperEmail,
                p_DeveloperOrganization,
                p_SourceRegistryID,
                p_ReplicatedAt,
                p_LastSyncedAt,
                p_Specification,
                p_FunctionalRequirements,
                p_TechnicalDesign,
                p_FunctionalRequirementsVector,
                p_TechnicalDesignVector,
                COALESCE(p_HasCustomProps, 0),
                COALESCE(p_HasCustomEvents, 0),
                COALESCE(p_RequiresData, 0),
                COALESCE(p_DependencyCount, 0),
                p_TechnicalDesignVectorEmbeddingModelID,
                p_FunctionalRequirementsVectorEmbeddingModelID,
                COALESCE(p_HasRequiredCustomProps, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwComponents" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateComponent"(
    IN p_ID UUID,
    IN p_Namespace TEXT,
    IN p_Name VARCHAR(500),
    IN p_Version VARCHAR(50),
    IN p_VersionSequence INTEGER,
    IN p_Title VARCHAR(1000),
    IN p_Description TEXT,
    IN p_Type VARCHAR(255),
    IN p_Status VARCHAR(50),
    IN p_DeveloperName VARCHAR(255),
    IN p_DeveloperEmail VARCHAR(255),
    IN p_DeveloperOrganization VARCHAR(255),
    IN p_SourceRegistryID UUID,
    IN p_ReplicatedAt TIMESTAMPTZ,
    IN p_LastSyncedAt TIMESTAMPTZ,
    IN p_Specification TEXT,
    IN p_FunctionalRequirements TEXT,
    IN p_TechnicalDesign TEXT,
    IN p_FunctionalRequirementsVector TEXT,
    IN p_TechnicalDesignVector TEXT,
    IN p_HasCustomProps BOOLEAN,
    IN p_HasCustomEvents BOOLEAN,
    IN p_RequiresData BOOLEAN,
    IN p_DependencyCount INTEGER,
    IN p_TechnicalDesignVectorEmbeddingModelID TEXT,
    IN p_FunctionalRequirementsVectorEmbeddingModelID TEXT,
    IN p_HasRequiredCustomProps BOOLEAN
)
RETURNS SETOF __mj."vwComponents" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Component"
    SET
        "Namespace" = p_Namespace,
        "Name" = p_Name,
        "Version" = p_Version,
        "VersionSequence" = p_VersionSequence,
        "Title" = p_Title,
        "Description" = p_Description,
        "Type" = p_Type,
        "Status" = p_Status,
        "DeveloperName" = p_DeveloperName,
        "DeveloperEmail" = p_DeveloperEmail,
        "DeveloperOrganization" = p_DeveloperOrganization,
        "SourceRegistryID" = p_SourceRegistryID,
        "ReplicatedAt" = p_ReplicatedAt,
        "LastSyncedAt" = p_LastSyncedAt,
        "Specification" = p_Specification,
        "FunctionalRequirements" = p_FunctionalRequirements,
        "TechnicalDesign" = p_TechnicalDesign,
        "FunctionalRequirementsVector" = p_FunctionalRequirementsVector,
        "TechnicalDesignVector" = p_TechnicalDesignVector,
        "HasCustomProps" = p_HasCustomProps,
        "HasCustomEvents" = p_HasCustomEvents,
        "RequiresData" = p_RequiresData,
        "DependencyCount" = p_DependencyCount,
        "TechnicalDesignVectorEmbeddingModelID" = p_TechnicalDesignVectorEmbeddingModelID,
        "FunctionalRequirementsVectorEmbeddingModelID" = p_FunctionalRequirementsVectorEmbeddingModelID,
        "HasRequiredCustomProps" = p_HasRequiredCustomProps
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwComponents" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwComponents" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteComponent"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Component"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateContentItem"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ContentSourceID UUID DEFAULT NULL,
    IN p_Name VARCHAR(250) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ContentTypeID UUID DEFAULT NULL,
    IN p_ContentSourceTypeID UUID DEFAULT NULL,
    IN p_ContentFileTypeID UUID DEFAULT NULL,
    IN p_Checksum VARCHAR(100) DEFAULT NULL,
    IN p_URL VARCHAR(2000) DEFAULT NULL,
    IN p_Text TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwContentItems" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ContentItem"
            (
                "ID",
                "ContentSourceID",
                "Name",
                "Description",
                "ContentTypeID",
                "ContentSourceTypeID",
                "ContentFileTypeID",
                "Checksum",
                "URL",
                "Text"
            )
        VALUES
            (
                p_ID,
                p_ContentSourceID,
                p_Name,
                p_Description,
                p_ContentTypeID,
                p_ContentSourceTypeID,
                p_ContentFileTypeID,
                p_Checksum,
                p_URL,
                p_Text
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ContentItem"
            (
                "ContentSourceID",
                "Name",
                "Description",
                "ContentTypeID",
                "ContentSourceTypeID",
                "ContentFileTypeID",
                "Checksum",
                "URL",
                "Text"
            )
        VALUES
            (
                p_ContentSourceID,
                p_Name,
                p_Description,
                p_ContentTypeID,
                p_ContentSourceTypeID,
                p_ContentFileTypeID,
                p_Checksum,
                p_URL,
                p_Text
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwContentItems" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateContentItem"(
    IN p_ID UUID,
    IN p_ContentSourceID UUID,
    IN p_Name VARCHAR(250),
    IN p_Description TEXT,
    IN p_ContentTypeID UUID,
    IN p_ContentSourceTypeID UUID,
    IN p_ContentFileTypeID UUID,
    IN p_Checksum VARCHAR(100),
    IN p_URL VARCHAR(2000),
    IN p_Text TEXT
)
RETURNS SETOF __mj."vwContentItems" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ContentItem"
    SET
        "ContentSourceID" = p_ContentSourceID,
        "Name" = p_Name,
        "Description" = p_Description,
        "ContentTypeID" = p_ContentTypeID,
        "ContentSourceTypeID" = p_ContentSourceTypeID,
        "ContentFileTypeID" = p_ContentFileTypeID,
        "Checksum" = p_Checksum,
        "URL" = p_URL,
        "Text" = p_Text
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwContentItems" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwContentItems" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteContentItem"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ContentItem"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateContentProcessRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_SourceID UUID DEFAULT NULL,
    IN p_StartTime TIMESTAMPTZ DEFAULT NULL,
    IN p_EndTime TIMESTAMPTZ DEFAULT NULL,
    IN p_Status VARCHAR(100) DEFAULT NULL,
    IN p_ProcessedItems INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwContentProcessRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ContentProcessRun"
            (
                "ID",
                "SourceID",
                "StartTime",
                "EndTime",
                "Status",
                "ProcessedItems"
            )
        VALUES
            (
                p_ID,
                p_SourceID,
                p_StartTime,
                p_EndTime,
                p_Status,
                p_ProcessedItems
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ContentProcessRun"
            (
                "SourceID",
                "StartTime",
                "EndTime",
                "Status",
                "ProcessedItems"
            )
        VALUES
            (
                p_SourceID,
                p_StartTime,
                p_EndTime,
                p_Status,
                p_ProcessedItems
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwContentProcessRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateContentProcessRun"(
    IN p_ID UUID,
    IN p_SourceID UUID,
    IN p_StartTime TIMESTAMPTZ,
    IN p_EndTime TIMESTAMPTZ,
    IN p_Status VARCHAR(100),
    IN p_ProcessedItems INTEGER
)
RETURNS SETOF __mj."vwContentProcessRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ContentProcessRun"
    SET
        "SourceID" = p_SourceID,
        "StartTime" = p_StartTime,
        "EndTime" = p_EndTime,
        "Status" = p_Status,
        "ProcessedItems" = p_ProcessedItems
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwContentProcessRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwContentProcessRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteContentProcessRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ContentProcessRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateContentSourceParam"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ContentSourceID UUID DEFAULT NULL,
    IN p_ContentSourceTypeParamID UUID DEFAULT NULL,
    IN p_Value TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwContentSourceParams" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ContentSourceParam"
            (
                "ID",
                "ContentSourceID",
                "ContentSourceTypeParamID",
                "Value"
            )
        VALUES
            (
                p_ID,
                p_ContentSourceID,
                p_ContentSourceTypeParamID,
                p_Value
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ContentSourceParam"
            (
                "ContentSourceID",
                "ContentSourceTypeParamID",
                "Value"
            )
        VALUES
            (
                p_ContentSourceID,
                p_ContentSourceTypeParamID,
                p_Value
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwContentSourceParams" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateContentSourceParam"(
    IN p_ID UUID,
    IN p_ContentSourceID UUID,
    IN p_ContentSourceTypeParamID UUID,
    IN p_Value TEXT
)
RETURNS SETOF __mj."vwContentSourceParams" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ContentSourceParam"
    SET
        "ContentSourceID" = p_ContentSourceID,
        "ContentSourceTypeParamID" = p_ContentSourceTypeParamID,
        "Value" = p_Value
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwContentSourceParams" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwContentSourceParams" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteContentSourceParam"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ContentSourceParam"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateContentSource"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_ContentTypeID UUID DEFAULT NULL,
    IN p_ContentSourceTypeID UUID DEFAULT NULL,
    IN p_ContentFileTypeID UUID DEFAULT NULL,
    IN p_URL VARCHAR(2000) DEFAULT NULL
)
RETURNS SETOF __mj."vwContentSources" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ContentSource"
            (
                "ID",
                "Name",
                "ContentTypeID",
                "ContentSourceTypeID",
                "ContentFileTypeID",
                "URL"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_ContentTypeID,
                p_ContentSourceTypeID,
                p_ContentFileTypeID,
                p_URL
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ContentSource"
            (
                "Name",
                "ContentTypeID",
                "ContentSourceTypeID",
                "ContentFileTypeID",
                "URL"
            )
        VALUES
            (
                p_Name,
                p_ContentTypeID,
                p_ContentSourceTypeID,
                p_ContentFileTypeID,
                p_URL
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwContentSources" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateContentSource"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_ContentTypeID UUID,
    IN p_ContentSourceTypeID UUID,
    IN p_ContentFileTypeID UUID,
    IN p_URL VARCHAR(2000)
)
RETURNS SETOF __mj."vwContentSources" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ContentSource"
    SET
        "Name" = p_Name,
        "ContentTypeID" = p_ContentTypeID,
        "ContentSourceTypeID" = p_ContentSourceTypeID,
        "ContentFileTypeID" = p_ContentFileTypeID,
        "URL" = p_URL
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwContentSources" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwContentSources" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteContentSource"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ContentSource"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateContentType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_AIModelID UUID DEFAULT NULL,
    IN p_MinTags INTEGER DEFAULT NULL,
    IN p_MaxTags INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwContentTypes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ContentType"
            (
                "ID",
                "Name",
                "Description",
                "AIModelID",
                "MinTags",
                "MaxTags"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_AIModelID,
                p_MinTags,
                p_MaxTags
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ContentType"
            (
                "Name",
                "Description",
                "AIModelID",
                "MinTags",
                "MaxTags"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_AIModelID,
                p_MinTags,
                p_MaxTags
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwContentTypes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateContentType"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_AIModelID UUID,
    IN p_MinTags INTEGER,
    IN p_MaxTags INTEGER
)
RETURNS SETOF __mj."vwContentTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ContentType"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "AIModelID" = p_AIModelID,
        "MinTags" = p_MinTags,
        "MaxTags" = p_MaxTags
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwContentTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwContentTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteContentType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ContentType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateConversationArtifactPermission"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ConversationArtifactID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_AccessLevel VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwConversationArtifactPermissions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ConversationArtifactPermission"
            (
                "ID",
                "ConversationArtifactID",
                "UserID",
                "AccessLevel"
            )
        VALUES
            (
                p_ID,
                p_ConversationArtifactID,
                p_UserID,
                p_AccessLevel
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ConversationArtifactPermission"
            (
                "ConversationArtifactID",
                "UserID",
                "AccessLevel"
            )
        VALUES
            (
                p_ConversationArtifactID,
                p_UserID,
                p_AccessLevel
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwConversationArtifactPermissions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateConversationArtifactPermission"(
    IN p_ID UUID,
    IN p_ConversationArtifactID UUID,
    IN p_UserID UUID,
    IN p_AccessLevel VARCHAR(20)
)
RETURNS SETOF __mj."vwConversationArtifactPermissions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ConversationArtifactPermission"
    SET
        "ConversationArtifactID" = p_ConversationArtifactID,
        "UserID" = p_UserID,
        "AccessLevel" = p_AccessLevel
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwConversationArtifactPermissions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwConversationArtifactPermissions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteConversationArtifactPermission"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ConversationArtifactPermission"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateConversationArtifactVersion"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ConversationArtifactID UUID DEFAULT NULL,
    IN p_Version INTEGER DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL,
    IN p_Content TEXT DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwConversationArtifactVersions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ConversationArtifactVersion"
            (
                "ID",
                "ConversationArtifactID",
                "Version",
                "Configuration",
                "Content",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_ConversationArtifactID,
                p_Version,
                p_Configuration,
                p_Content,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ConversationArtifactVersion"
            (
                "ConversationArtifactID",
                "Version",
                "Configuration",
                "Content",
                "Comments"
            )
        VALUES
            (
                p_ConversationArtifactID,
                p_Version,
                p_Configuration,
                p_Content,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwConversationArtifactVersions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateConversationArtifactVersion"(
    IN p_ID UUID,
    IN p_ConversationArtifactID UUID,
    IN p_Version INTEGER,
    IN p_Configuration TEXT,
    IN p_Content TEXT,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwConversationArtifactVersions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ConversationArtifactVersion"
    SET
        "ConversationArtifactID" = p_ConversationArtifactID,
        "Version" = p_Version,
        "Configuration" = p_Configuration,
        "Content" = p_Content,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwConversationArtifactVersions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwConversationArtifactVersions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateConversationArtifact"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ConversationID UUID DEFAULT NULL,
    IN p_ArtifactTypeID UUID DEFAULT NULL,
    IN p_SharingScope VARCHAR(50) DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwConversationArtifacts" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ConversationArtifact"
            (
                "ID",
                "Name",
                "Description",
                "ConversationID",
                "ArtifactTypeID",
                "SharingScope",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ConversationID,
                p_ArtifactTypeID,
                p_SharingScope,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ConversationArtifact"
            (
                "Name",
                "Description",
                "ConversationID",
                "ArtifactTypeID",
                "SharingScope",
                "Comments"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ConversationID,
                p_ArtifactTypeID,
                p_SharingScope,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwConversationArtifacts" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateConversationArtifact"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_ConversationID UUID,
    IN p_ArtifactTypeID UUID,
    IN p_SharingScope VARCHAR(50),
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwConversationArtifacts" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ConversationArtifact"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ConversationID" = p_ConversationID,
        "ArtifactTypeID" = p_ArtifactTypeID,
        "SharingScope" = p_SharingScope,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwConversationArtifacts" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwConversationArtifacts" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteConversationArtifactVersion"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJConversationDetails_ArtifactVersionIDID UUID;
    p_MJConversationDetails_ArtifactVersionID_ConversationID UUID;
    p_MJConversationDetails_ArtifactVersionID_ExternalID VARCHAR(100);
    p_MJConversationDetails_ArtifactVersionID_Role VARCHAR(20);
    p_MJConversationDetails_ArtifactVersionID_Message TEXT;
    p_MJConversationDetails_ArtifactVersionID_Error TEXT;
    p_MJConversationDetails_ArtifactVersionID_HiddenToUser BOOLEAN;
    p_MJConversationDetails_ArtifactVersionID_UserRating INTEGER;
    p_MJConversationDetails_ArtifactVersionID_UserFeedback TEXT;
    p_MJConversationDetails_ArtifactVersionID_ReflectionInsights TEXT;
    p_MJConversationDetails_ArtifactVersionID_SummaryOfEarlie_0dd4da TEXT;
    p_MJConversationDetails_ArtifactVersionID_UserID UUID;
    p_MJConversationDetails_ArtifactVersionID_ArtifactID UUID;
    p_MJConversationDetails_ArtifactVersionID_ArtifactVersionID UUID;
    p_MJConversationDetails_ArtifactVersionID_CompletionTime BIGINT;
    p_MJConversationDetails_ArtifactVersionID_IsPinned BOOLEAN;
    p_MJConversationDetails_ArtifactVersionID_ParentID UUID;
    p_MJConversationDetails_ArtifactVersionID_AgentID UUID;
    p_MJConversationDetails_ArtifactVersionID_Status VARCHAR(20);
    p_MJConversationDetails_ArtifactVersionID_SuggestedResponses TEXT;
    p_MJConversationDetails_ArtifactVersionID_TestRunID UUID;
    p_MJConversationDetails_ArtifactVersionID_ResponseForm TEXT;
    p_MJConversationDetails_ArtifactVersionID_ActionableCommands TEXT;
    p_MJConversationDetails_ArtifactVersionID_AutomaticCommands TEXT;
    p_MJConversationDetails_ArtifactVersionID_OriginalMessage_672e5e BOOLEAN;
BEGIN
-- Cascade update on ConversationDetail using cursor to call spUpdateConversationDetail


    FOR _rec IN SELECT "ID", "ConversationID", "ExternalID", "Role", "Message", "Error", "HiddenToUser", "UserRating", "UserFeedback", "ReflectionInsights", "SummaryOfEarlierConversation", "UserID", "ArtifactID", "ArtifactVersionID", "CompletionTime", "IsPinned", "ParentID", "AgentID", "Status", "SuggestedResponses", "TestRunID", "ResponseForm", "ActionableCommands", "AutomaticCommands", "OriginalMessageChanged" FROM __mj."ConversationDetail" WHERE "ArtifactVersionID" = p_ID
    LOOP
        p_MJConversationDetails_ArtifactVersionIDID := _rec."ID";
        p_MJConversationDetails_ArtifactVersionID_ConversationID := _rec."ConversationID";
        p_MJConversationDetails_ArtifactVersionID_ExternalID := _rec."ExternalID";
        p_MJConversationDetails_ArtifactVersionID_Role := _rec."Role";
        p_MJConversationDetails_ArtifactVersionID_Message := _rec."Message";
        p_MJConversationDetails_ArtifactVersionID_Error := _rec."Error";
        p_MJConversationDetails_ArtifactVersionID_HiddenToUser := _rec."HiddenToUser";
        p_MJConversationDetails_ArtifactVersionID_UserRating := _rec."UserRating";
        p_MJConversationDetails_ArtifactVersionID_UserFeedback := _rec."UserFeedback";
        p_MJConversationDetails_ArtifactVersionID_ReflectionInsights := _rec."ReflectionInsights";
        p_MJConversationDetails_ArtifactVersionID_SummaryOfEarlie_0dd4da := _rec."SummaryOfEarlierConversation";
        p_MJConversationDetails_ArtifactVersionID_UserID := _rec."UserID";
        p_MJConversationDetails_ArtifactVersionID_ArtifactID := _rec."ArtifactID";
        p_MJConversationDetails_ArtifactVersionID_ArtifactVersionID := _rec."ArtifactVersionID";
        p_MJConversationDetails_ArtifactVersionID_CompletionTime := _rec."CompletionTime";
        p_MJConversationDetails_ArtifactVersionID_IsPinned := _rec."IsPinned";
        p_MJConversationDetails_ArtifactVersionID_ParentID := _rec."ParentID";
        p_MJConversationDetails_ArtifactVersionID_AgentID := _rec."AgentID";
        p_MJConversationDetails_ArtifactVersionID_Status := _rec."Status";
        p_MJConversationDetails_ArtifactVersionID_SuggestedResponses := _rec."SuggestedResponses";
        p_MJConversationDetails_ArtifactVersionID_TestRunID := _rec."TestRunID";
        p_MJConversationDetails_ArtifactVersionID_ResponseForm := _rec."ResponseForm";
        p_MJConversationDetails_ArtifactVersionID_ActionableCommands := _rec."ActionableCommands";
        p_MJConversationDetails_ArtifactVersionID_AutomaticCommands := _rec."AutomaticCommands";
        p_MJConversationDetails_ArtifactVersionID_OriginalMessage_672e5e := _rec."OriginalMessageChanged";
        -- Set the FK field to NULL
        p_MJConversationDetails_ArtifactVersionID_ArtifactVersionID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateConversationDetail"(p_MJConversationDetails_ArtifactVersionIDID, p_MJConversationDetails_ArtifactVersionID_ConversationID, p_MJConversationDetails_ArtifactVersionID_ExternalID, p_MJConversationDetails_ArtifactVersionID_Role, p_MJConversationDetails_ArtifactVersionID_Message, p_MJConversationDetails_ArtifactVersionID_Error, p_MJConversationDetails_ArtifactVersionID_HiddenToUser, p_MJConversationDetails_ArtifactVersionID_UserRating, p_MJConversationDetails_ArtifactVersionID_UserFeedback, p_MJConversationDetails_ArtifactVersionID_ReflectionInsights, p_MJConversationDetails_ArtifactVersionID_SummaryOfEarlie_0dd4da, p_MJConversationDetails_ArtifactVersionID_UserID, p_MJConversationDetails_ArtifactVersionID_ArtifactID, p_MJConversationDetails_ArtifactVersionID_ArtifactVersionID, p_MJConversationDetails_ArtifactVersionID_CompletionTime, p_MJConversationDetails_ArtifactVersionID_IsPinned, p_MJConversationDetails_ArtifactVersionID_ParentID, p_MJConversationDetails_ArtifactVersionID_AgentID, p_MJConversationDetails_ArtifactVersionID_Status, p_MJConversationDetails_ArtifactVersionID_SuggestedResponses, p_MJConversationDetails_ArtifactVersionID_TestRunID, p_MJConversationDetails_ArtifactVersionID_ResponseForm, p_MJConversationDetails_ArtifactVersionID_ActionableCommands, p_MJConversationDetails_ArtifactVersionID_AutomaticCommands, p_MJConversationDetails_ArtifactVersionID_OriginalMessage_672e5e);

    END LOOP;

    

    DELETE FROM
        __mj."ConversationArtifactVersion"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteConversationArtifact"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJConversationArtifactPermissions_ConversationArtifactIDID UUID;
    p_MJConversationArtifactVersions_ConversationArtifactIDID UUID;
    p_MJConversationDetails_ArtifactIDID UUID;
    p_MJConversationDetails_ArtifactID_ConversationID UUID;
    p_MJConversationDetails_ArtifactID_ExternalID VARCHAR(100);
    p_MJConversationDetails_ArtifactID_Role VARCHAR(20);
    p_MJConversationDetails_ArtifactID_Message TEXT;
    p_MJConversationDetails_ArtifactID_Error TEXT;
    p_MJConversationDetails_ArtifactID_HiddenToUser BOOLEAN;
    p_MJConversationDetails_ArtifactID_UserRating INTEGER;
    p_MJConversationDetails_ArtifactID_UserFeedback TEXT;
    p_MJConversationDetails_ArtifactID_ReflectionInsights TEXT;
    p_MJConversationDetails_ArtifactID_SummaryOfEarlierConversation TEXT;
    p_MJConversationDetails_ArtifactID_UserID UUID;
    p_MJConversationDetails_ArtifactID_ArtifactID UUID;
    p_MJConversationDetails_ArtifactID_ArtifactVersionID UUID;
    p_MJConversationDetails_ArtifactID_CompletionTime BIGINT;
    p_MJConversationDetails_ArtifactID_IsPinned BOOLEAN;
    p_MJConversationDetails_ArtifactID_ParentID UUID;
    p_MJConversationDetails_ArtifactID_AgentID UUID;
    p_MJConversationDetails_ArtifactID_Status VARCHAR(20);
    p_MJConversationDetails_ArtifactID_SuggestedResponses TEXT;
    p_MJConversationDetails_ArtifactID_TestRunID UUID;
    p_MJConversationDetails_ArtifactID_ResponseForm TEXT;
    p_MJConversationDetails_ArtifactID_ActionableCommands TEXT;
    p_MJConversationDetails_ArtifactID_AutomaticCommands TEXT;
    p_MJConversationDetails_ArtifactID_OriginalMessageChanged BOOLEAN;
BEGIN
-- Cascade delete from ConversationArtifactPermission using cursor to call spDeleteConversationArtifactPermission

    FOR _rec IN SELECT "ID" FROM __mj."ConversationArtifactPermission" WHERE "ConversationArtifactID" = p_ID
    LOOP
        p_MJConversationArtifactPermissions_ConversationArtifactIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteConversationArtifactPermission"(p_MJConversationArtifactPermissions_ConversationArtifactIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ConversationArtifactVersion using cursor to call spDeleteConversationArtifactVersion

    FOR _rec IN SELECT "ID" FROM __mj."ConversationArtifactVersion" WHERE "ConversationArtifactID" = p_ID
    LOOP
        p_MJConversationArtifactVersions_ConversationArtifactIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteConversationArtifactVersion"(p_MJConversationArtifactVersions_ConversationArtifactIDID);
        
    END LOOP;
    
    
    -- Cascade update on ConversationDetail using cursor to call spUpdateConversationDetail


    FOR _rec IN SELECT "ID", "ConversationID", "ExternalID", "Role", "Message", "Error", "HiddenToUser", "UserRating", "UserFeedback", "ReflectionInsights", "SummaryOfEarlierConversation", "UserID", "ArtifactID", "ArtifactVersionID", "CompletionTime", "IsPinned", "ParentID", "AgentID", "Status", "SuggestedResponses", "TestRunID", "ResponseForm", "ActionableCommands", "AutomaticCommands", "OriginalMessageChanged" FROM __mj."ConversationDetail" WHERE "ArtifactID" = p_ID
    LOOP
        p_MJConversationDetails_ArtifactIDID := _rec."ID";
        p_MJConversationDetails_ArtifactID_ConversationID := _rec."ConversationID";
        p_MJConversationDetails_ArtifactID_ExternalID := _rec."ExternalID";
        p_MJConversationDetails_ArtifactID_Role := _rec."Role";
        p_MJConversationDetails_ArtifactID_Message := _rec."Message";
        p_MJConversationDetails_ArtifactID_Error := _rec."Error";
        p_MJConversationDetails_ArtifactID_HiddenToUser := _rec."HiddenToUser";
        p_MJConversationDetails_ArtifactID_UserRating := _rec."UserRating";
        p_MJConversationDetails_ArtifactID_UserFeedback := _rec."UserFeedback";
        p_MJConversationDetails_ArtifactID_ReflectionInsights := _rec."ReflectionInsights";
        p_MJConversationDetails_ArtifactID_SummaryOfEarlierConversation := _rec."SummaryOfEarlierConversation";
        p_MJConversationDetails_ArtifactID_UserID := _rec."UserID";
        p_MJConversationDetails_ArtifactID_ArtifactID := _rec."ArtifactID";
        p_MJConversationDetails_ArtifactID_ArtifactVersionID := _rec."ArtifactVersionID";
        p_MJConversationDetails_ArtifactID_CompletionTime := _rec."CompletionTime";
        p_MJConversationDetails_ArtifactID_IsPinned := _rec."IsPinned";
        p_MJConversationDetails_ArtifactID_ParentID := _rec."ParentID";
        p_MJConversationDetails_ArtifactID_AgentID := _rec."AgentID";
        p_MJConversationDetails_ArtifactID_Status := _rec."Status";
        p_MJConversationDetails_ArtifactID_SuggestedResponses := _rec."SuggestedResponses";
        p_MJConversationDetails_ArtifactID_TestRunID := _rec."TestRunID";
        p_MJConversationDetails_ArtifactID_ResponseForm := _rec."ResponseForm";
        p_MJConversationDetails_ArtifactID_ActionableCommands := _rec."ActionableCommands";
        p_MJConversationDetails_ArtifactID_AutomaticCommands := _rec."AutomaticCommands";
        p_MJConversationDetails_ArtifactID_OriginalMessageChanged := _rec."OriginalMessageChanged";
        -- Set the FK field to NULL
        p_MJConversationDetails_ArtifactID_ArtifactID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateConversationDetail"(p_MJConversationDetails_ArtifactIDID, p_MJConversationDetails_ArtifactID_ConversationID, p_MJConversationDetails_ArtifactID_ExternalID, p_MJConversationDetails_ArtifactID_Role, p_MJConversationDetails_ArtifactID_Message, p_MJConversationDetails_ArtifactID_Error, p_MJConversationDetails_ArtifactID_HiddenToUser, p_MJConversationDetails_ArtifactID_UserRating, p_MJConversationDetails_ArtifactID_UserFeedback, p_MJConversationDetails_ArtifactID_ReflectionInsights, p_MJConversationDetails_ArtifactID_SummaryOfEarlierConversation, p_MJConversationDetails_ArtifactID_UserID, p_MJConversationDetails_ArtifactID_ArtifactID, p_MJConversationDetails_ArtifactID_ArtifactVersionID, p_MJConversationDetails_ArtifactID_CompletionTime, p_MJConversationDetails_ArtifactID_IsPinned, p_MJConversationDetails_ArtifactID_ParentID, p_MJConversationDetails_ArtifactID_AgentID, p_MJConversationDetails_ArtifactID_Status, p_MJConversationDetails_ArtifactID_SuggestedResponses, p_MJConversationDetails_ArtifactID_TestRunID, p_MJConversationDetails_ArtifactID_ResponseForm, p_MJConversationDetails_ArtifactID_ActionableCommands, p_MJConversationDetails_ArtifactID_AutomaticCommands, p_MJConversationDetails_ArtifactID_OriginalMessageChanged);

    END LOOP;

    

    DELETE FROM
        __mj."ConversationArtifact"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateConversationDetail"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ConversationID UUID DEFAULT NULL,
    IN p_ExternalID VARCHAR(100) DEFAULT NULL,
    IN p_Role VARCHAR(20) DEFAULT NULL,
    IN p_Message TEXT DEFAULT NULL,
    IN p_Error TEXT DEFAULT NULL,
    IN p_HiddenToUser BOOLEAN DEFAULT NULL,
    IN p_UserRating INTEGER DEFAULT NULL,
    IN p_UserFeedback TEXT DEFAULT NULL,
    IN p_ReflectionInsights TEXT DEFAULT NULL,
    IN p_SummaryOfEarlierConversation TEXT DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_ArtifactID UUID DEFAULT NULL,
    IN p_ArtifactVersionID UUID DEFAULT NULL,
    IN p_CompletionTime BIGINT DEFAULT NULL,
    IN p_IsPinned BOOLEAN DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_SuggestedResponses TEXT DEFAULT NULL,
    IN p_TestRunID UUID DEFAULT NULL,
    IN p_ResponseForm TEXT DEFAULT NULL,
    IN p_ActionableCommands TEXT DEFAULT NULL,
    IN p_AutomaticCommands TEXT DEFAULT NULL,
    IN p_OriginalMessageChanged BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwConversationDetails" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ConversationDetail"
            (
                "ID",
                "ConversationID",
                "ExternalID",
                "Role",
                "Message",
                "Error",
                "HiddenToUser",
                "UserRating",
                "UserFeedback",
                "ReflectionInsights",
                "SummaryOfEarlierConversation",
                "UserID",
                "ArtifactID",
                "ArtifactVersionID",
                "CompletionTime",
                "IsPinned",
                "ParentID",
                "AgentID",
                "Status",
                "SuggestedResponses",
                "TestRunID",
                "ResponseForm",
                "ActionableCommands",
                "AutomaticCommands",
                "OriginalMessageChanged"
            )
        VALUES
            (
                p_ID,
                p_ConversationID,
                p_ExternalID,
                COALESCE(p_Role, current_user),
                p_Message,
                p_Error,
                COALESCE(p_HiddenToUser, 0),
                p_UserRating,
                p_UserFeedback,
                p_ReflectionInsights,
                p_SummaryOfEarlierConversation,
                p_UserID,
                p_ArtifactID,
                p_ArtifactVersionID,
                p_CompletionTime,
                COALESCE(p_IsPinned, 0),
                p_ParentID,
                p_AgentID,
                COALESCE(p_Status, 'Complete'),
                p_SuggestedResponses,
                p_TestRunID,
                p_ResponseForm,
                p_ActionableCommands,
                p_AutomaticCommands,
                COALESCE(p_OriginalMessageChanged, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ConversationDetail"
            (
                "ConversationID",
                "ExternalID",
                "Role",
                "Message",
                "Error",
                "HiddenToUser",
                "UserRating",
                "UserFeedback",
                "ReflectionInsights",
                "SummaryOfEarlierConversation",
                "UserID",
                "ArtifactID",
                "ArtifactVersionID",
                "CompletionTime",
                "IsPinned",
                "ParentID",
                "AgentID",
                "Status",
                "SuggestedResponses",
                "TestRunID",
                "ResponseForm",
                "ActionableCommands",
                "AutomaticCommands",
                "OriginalMessageChanged"
            )
        VALUES
            (
                p_ConversationID,
                p_ExternalID,
                COALESCE(p_Role, current_user),
                p_Message,
                p_Error,
                COALESCE(p_HiddenToUser, 0),
                p_UserRating,
                p_UserFeedback,
                p_ReflectionInsights,
                p_SummaryOfEarlierConversation,
                p_UserID,
                p_ArtifactID,
                p_ArtifactVersionID,
                p_CompletionTime,
                COALESCE(p_IsPinned, 0),
                p_ParentID,
                p_AgentID,
                COALESCE(p_Status, 'Complete'),
                p_SuggestedResponses,
                p_TestRunID,
                p_ResponseForm,
                p_ActionableCommands,
                p_AutomaticCommands,
                COALESCE(p_OriginalMessageChanged, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwConversationDetails" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateConversationDetail"(
    IN p_ID UUID,
    IN p_ConversationID UUID,
    IN p_ExternalID VARCHAR(100),
    IN p_Role VARCHAR(20),
    IN p_Message TEXT,
    IN p_Error TEXT,
    IN p_HiddenToUser BOOLEAN,
    IN p_UserRating INTEGER,
    IN p_UserFeedback TEXT,
    IN p_ReflectionInsights TEXT,
    IN p_SummaryOfEarlierConversation TEXT,
    IN p_UserID UUID,
    IN p_ArtifactID UUID,
    IN p_ArtifactVersionID UUID,
    IN p_CompletionTime BIGINT,
    IN p_IsPinned BOOLEAN,
    IN p_ParentID UUID,
    IN p_AgentID UUID,
    IN p_Status VARCHAR(20),
    IN p_SuggestedResponses TEXT,
    IN p_TestRunID UUID,
    IN p_ResponseForm TEXT,
    IN p_ActionableCommands TEXT,
    IN p_AutomaticCommands TEXT,
    IN p_OriginalMessageChanged BOOLEAN
)
RETURNS SETOF __mj."vwConversationDetails" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ConversationDetail"
    SET
        "ConversationID" = p_ConversationID,
        "ExternalID" = p_ExternalID,
        "Role" = p_Role,
        "Message" = p_Message,
        "Error" = p_Error,
        "HiddenToUser" = p_HiddenToUser,
        "UserRating" = p_UserRating,
        "UserFeedback" = p_UserFeedback,
        "ReflectionInsights" = p_ReflectionInsights,
        "SummaryOfEarlierConversation" = p_SummaryOfEarlierConversation,
        "UserID" = p_UserID,
        "ArtifactID" = p_ArtifactID,
        "ArtifactVersionID" = p_ArtifactVersionID,
        "CompletionTime" = p_CompletionTime,
        "IsPinned" = p_IsPinned,
        "ParentID" = p_ParentID,
        "AgentID" = p_AgentID,
        "Status" = p_Status,
        "SuggestedResponses" = p_SuggestedResponses,
        "TestRunID" = p_TestRunID,
        "ResponseForm" = p_ResponseForm,
        "ActionableCommands" = p_ActionableCommands,
        "AutomaticCommands" = p_AutomaticCommands,
        "OriginalMessageChanged" = p_OriginalMessageChanged
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwConversationDetails" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwConversationDetails" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateConversationDetailArtifact"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ConversationDetailID UUID DEFAULT NULL,
    IN p_ArtifactVersionID UUID DEFAULT NULL,
    IN p_Direction VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwConversationDetailArtifacts" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ConversationDetailArtifact"
            (
                "ID",
                "ConversationDetailID",
                "ArtifactVersionID",
                "Direction"
            )
        VALUES
            (
                p_ID,
                p_ConversationDetailID,
                p_ArtifactVersionID,
                COALESCE(p_Direction, 'Output')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ConversationDetailArtifact"
            (
                "ConversationDetailID",
                "ArtifactVersionID",
                "Direction"
            )
        VALUES
            (
                p_ConversationDetailID,
                p_ArtifactVersionID,
                COALESCE(p_Direction, 'Output')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwConversationDetailArtifacts" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateConversationDetailArtifact"(
    IN p_ID UUID,
    IN p_ConversationDetailID UUID,
    IN p_ArtifactVersionID UUID,
    IN p_Direction VARCHAR(20)
)
RETURNS SETOF __mj."vwConversationDetailArtifacts" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ConversationDetailArtifact"
    SET
        "ConversationDetailID" = p_ConversationDetailID,
        "ArtifactVersionID" = p_ArtifactVersionID,
        "Direction" = p_Direction
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwConversationDetailArtifacts" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwConversationDetailArtifacts" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteConversationDetailArtifact"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ConversationDetailArtifact"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateConversationDetailRating"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ConversationDetailID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Rating INTEGER DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwConversationDetailRatings" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ConversationDetailRating"
            (
                "ID",
                "ConversationDetailID",
                "UserID",
                "Rating",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_ConversationDetailID,
                p_UserID,
                p_Rating,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ConversationDetailRating"
            (
                "ConversationDetailID",
                "UserID",
                "Rating",
                "Comments"
            )
        VALUES
            (
                p_ConversationDetailID,
                p_UserID,
                p_Rating,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwConversationDetailRatings" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateConversationDetailRating"(
    IN p_ID UUID,
    IN p_ConversationDetailID UUID,
    IN p_UserID UUID,
    IN p_Rating INTEGER,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwConversationDetailRatings" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ConversationDetailRating"
    SET
        "ConversationDetailID" = p_ConversationDetailID,
        "UserID" = p_UserID,
        "Rating" = p_Rating,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwConversationDetailRatings" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwConversationDetailRatings" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteConversationDetailRating"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ConversationDetailRating"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateConversationDetailAttachment"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ConversationDetailID UUID DEFAULT NULL,
    IN p_ModalityID UUID DEFAULT NULL,
    IN p_MimeType VARCHAR(100) DEFAULT NULL,
    IN p_FileName VARCHAR(4000) DEFAULT NULL,
    IN p_FileSizeBytes INTEGER DEFAULT NULL,
    IN p_Width INTEGER DEFAULT NULL,
    IN p_Height INTEGER DEFAULT NULL,
    IN p_DurationSeconds INTEGER DEFAULT NULL,
    IN p_InlineData TEXT DEFAULT NULL,
    IN p_FileID UUID DEFAULT NULL,
    IN p_DisplayOrder INTEGER DEFAULT NULL,
    IN p_ThumbnailBase64 TEXT DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwConversationDetailAttachments" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ConversationDetailAttachment"
            (
                "ID",
                "ConversationDetailID",
                "ModalityID",
                "MimeType",
                "FileName",
                "FileSizeBytes",
                "Width",
                "Height",
                "DurationSeconds",
                "InlineData",
                "FileID",
                "DisplayOrder",
                "ThumbnailBase64",
                "Description"
            )
        VALUES
            (
                p_ID,
                p_ConversationDetailID,
                p_ModalityID,
                p_MimeType,
                p_FileName,
                p_FileSizeBytes,
                p_Width,
                p_Height,
                p_DurationSeconds,
                p_InlineData,
                p_FileID,
                COALESCE(p_DisplayOrder, 0),
                p_ThumbnailBase64,
                p_Description
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ConversationDetailAttachment"
            (
                "ConversationDetailID",
                "ModalityID",
                "MimeType",
                "FileName",
                "FileSizeBytes",
                "Width",
                "Height",
                "DurationSeconds",
                "InlineData",
                "FileID",
                "DisplayOrder",
                "ThumbnailBase64",
                "Description"
            )
        VALUES
            (
                p_ConversationDetailID,
                p_ModalityID,
                p_MimeType,
                p_FileName,
                p_FileSizeBytes,
                p_Width,
                p_Height,
                p_DurationSeconds,
                p_InlineData,
                p_FileID,
                COALESCE(p_DisplayOrder, 0),
                p_ThumbnailBase64,
                p_Description
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwConversationDetailAttachments" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateConversationDetailAttachment"(
    IN p_ID UUID,
    IN p_ConversationDetailID UUID,
    IN p_ModalityID UUID,
    IN p_MimeType VARCHAR(100),
    IN p_FileName VARCHAR(4000),
    IN p_FileSizeBytes INTEGER,
    IN p_Width INTEGER,
    IN p_Height INTEGER,
    IN p_DurationSeconds INTEGER,
    IN p_InlineData TEXT,
    IN p_FileID UUID,
    IN p_DisplayOrder INTEGER,
    IN p_ThumbnailBase64 TEXT,
    IN p_Description TEXT
)
RETURNS SETOF __mj."vwConversationDetailAttachments" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ConversationDetailAttachment"
    SET
        "ConversationDetailID" = p_ConversationDetailID,
        "ModalityID" = p_ModalityID,
        "MimeType" = p_MimeType,
        "FileName" = p_FileName,
        "FileSizeBytes" = p_FileSizeBytes,
        "Width" = p_Width,
        "Height" = p_Height,
        "DurationSeconds" = p_DurationSeconds,
        "InlineData" = p_InlineData,
        "FileID" = p_FileID,
        "DisplayOrder" = p_DisplayOrder,
        "ThumbnailBase64" = p_ThumbnailBase64,
        "Description" = p_Description
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwConversationDetailAttachments" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwConversationDetailAttachments" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteConversationDetailAttachment"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ConversationDetailAttachment"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateConversation"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_ExternalID VARCHAR(500) DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Type VARCHAR(50) DEFAULT NULL,
    IN p_IsArchived BOOLEAN DEFAULT NULL,
    IN p_LinkedEntityID UUID DEFAULT NULL,
    IN p_LinkedRecordID VARCHAR(500) DEFAULT NULL,
    IN p_DataContextID UUID DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_EnvironmentID UUID DEFAULT NULL,
    IN p_ProjectID UUID DEFAULT NULL,
    IN p_IsPinned BOOLEAN DEFAULT NULL,
    IN p_TestRunID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwConversations" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Conversation"
            (
                "ID",
                "UserID",
                "ExternalID",
                "Name",
                "Description",
                "Type",
                "IsArchived",
                "LinkedEntityID",
                "LinkedRecordID",
                "DataContextID",
                "Status",
                "EnvironmentID",
                "ProjectID",
                "IsPinned",
                "TestRunID"
            )
        VALUES
            (
                p_ID,
                p_UserID,
                p_ExternalID,
                p_Name,
                p_Description,
                COALESCE(p_Type, 'Skip'),
                COALESCE(p_IsArchived, 0),
                p_LinkedEntityID,
                p_LinkedRecordID,
                p_DataContextID,
                COALESCE(p_Status, 'Available'),
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END,
                p_ProjectID,
                COALESCE(p_IsPinned, 0),
                p_TestRunID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Conversation"
            (
                "UserID",
                "ExternalID",
                "Name",
                "Description",
                "Type",
                "IsArchived",
                "LinkedEntityID",
                "LinkedRecordID",
                "DataContextID",
                "Status",
                "EnvironmentID",
                "ProjectID",
                "IsPinned",
                "TestRunID"
            )
        VALUES
            (
                p_UserID,
                p_ExternalID,
                p_Name,
                p_Description,
                COALESCE(p_Type, 'Skip'),
                COALESCE(p_IsArchived, 0),
                p_LinkedEntityID,
                p_LinkedRecordID,
                p_DataContextID,
                COALESCE(p_Status, 'Available'),
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END,
                p_ProjectID,
                COALESCE(p_IsPinned, 0),
                p_TestRunID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwConversations" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateConversation"(
    IN p_ID UUID,
    IN p_UserID UUID,
    IN p_ExternalID VARCHAR(500),
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_Type VARCHAR(50),
    IN p_IsArchived BOOLEAN,
    IN p_LinkedEntityID UUID,
    IN p_LinkedRecordID VARCHAR(500),
    IN p_DataContextID UUID,
    IN p_Status VARCHAR(20),
    IN p_EnvironmentID UUID,
    IN p_ProjectID UUID,
    IN p_IsPinned BOOLEAN,
    IN p_TestRunID UUID
)
RETURNS SETOF __mj."vwConversations" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Conversation"
    SET
        "UserID" = p_UserID,
        "ExternalID" = p_ExternalID,
        "Name" = p_Name,
        "Description" = p_Description,
        "Type" = p_Type,
        "IsArchived" = p_IsArchived,
        "LinkedEntityID" = p_LinkedEntityID,
        "LinkedRecordID" = p_LinkedRecordID,
        "DataContextID" = p_DataContextID,
        "Status" = p_Status,
        "EnvironmentID" = p_EnvironmentID,
        "ProjectID" = p_ProjectID,
        "IsPinned" = p_IsPinned,
        "TestRunID" = p_TestRunID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwConversations" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwConversations" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteConversation"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJAIAgentExamples_SourceConversationIDID UUID;
    p_MJAIAgentExamples_SourceConversationID_AgentID UUID;
    p_MJAIAgentExamples_SourceConversationID_UserID UUID;
    p_MJAIAgentExamples_SourceConversationID_CompanyID UUID;
    p_MJAIAgentExamples_SourceConversationID_Type VARCHAR(20);
    p_MJAIAgentExamples_SourceConversationID_ExampleInput TEXT;
    p_MJAIAgentExamples_SourceConversationID_ExampleOutput TEXT;
    p_MJAIAgentExamples_SourceConversationID_IsAutoGenerated BOOLEAN;
    p_MJAIAgentExamples_SourceConversationID_SourceConversationID UUID;
    p_MJAIAgentExamples_SourceConversationID_SourceConversati_b98bb5 UUID;
    p_MJAIAgentExamples_SourceConversationID_SourceAIAgentRunID UUID;
    p_MJAIAgentExamples_SourceConversationID_SuccessScore NUMERIC(5,2);
    p_MJAIAgentExamples_SourceConversationID_Comments TEXT;
    p_MJAIAgentExamples_SourceConversationID_Status VARCHAR(20);
    p_MJAIAgentExamples_SourceConversationID_EmbeddingVector TEXT;
    p_MJAIAgentExamples_SourceConversationID_EmbeddingModelID UUID;
    p_MJAIAgentExamples_SourceConversationID_PrimaryScopeEntityID UUID;
    p_MJAIAgentExamples_SourceConversationID_PrimaryScopeRecordID VARCHAR(100);
    p_MJAIAgentExamples_SourceConversationID_SecondaryScopes TEXT;
    p_MJAIAgentExamples_SourceConversationID_LastAccessedAt TIMESTAMPTZ;
    p_MJAIAgentExamples_SourceConversationID_AccessCount INTEGER;
    p_MJAIAgentExamples_SourceConversationID_ExpiresAt TIMESTAMPTZ;
    p_MJAIAgentNotes_SourceConversationIDID UUID;
    p_MJAIAgentNotes_SourceConversationID_AgentID UUID;
    p_MJAIAgentNotes_SourceConversationID_AgentNoteTypeID UUID;
    p_MJAIAgentNotes_SourceConversationID_Note TEXT;
    p_MJAIAgentNotes_SourceConversationID_UserID UUID;
    p_MJAIAgentNotes_SourceConversationID_Type VARCHAR(20);
    p_MJAIAgentNotes_SourceConversationID_IsAutoGenerated BOOLEAN;
    p_MJAIAgentNotes_SourceConversationID_Comments TEXT;
    p_MJAIAgentNotes_SourceConversationID_Status VARCHAR(20);
    p_MJAIAgentNotes_SourceConversationID_SourceConversationID UUID;
    p_MJAIAgentNotes_SourceConversationID_SourceConversationD_de4992 UUID;
    p_MJAIAgentNotes_SourceConversationID_SourceAIAgentRunID UUID;
    p_MJAIAgentNotes_SourceConversationID_CompanyID UUID;
    p_MJAIAgentNotes_SourceConversationID_EmbeddingVector TEXT;
    p_MJAIAgentNotes_SourceConversationID_EmbeddingModelID UUID;
    p_MJAIAgentNotes_SourceConversationID_PrimaryScopeEntityID UUID;
    p_MJAIAgentNotes_SourceConversationID_PrimaryScopeRecordID VARCHAR(100);
    p_MJAIAgentNotes_SourceConversationID_SecondaryScopes TEXT;
    p_MJAIAgentNotes_SourceConversationID_LastAccessedAt TIMESTAMPTZ;
    p_MJAIAgentNotes_SourceConversationID_AccessCount INTEGER;
    p_MJAIAgentNotes_SourceConversationID_ExpiresAt TIMESTAMPTZ;
    p_MJAIAgentRuns_ConversationIDID UUID;
    p_MJAIAgentRuns_ConversationID_AgentID UUID;
    p_MJAIAgentRuns_ConversationID_ParentRunID UUID;
    p_MJAIAgentRuns_ConversationID_Status VARCHAR(50);
    p_MJAIAgentRuns_ConversationID_StartedAt TIMESTAMPTZ;
    p_MJAIAgentRuns_ConversationID_CompletedAt TIMESTAMPTZ;
    p_MJAIAgentRuns_ConversationID_Success BOOLEAN;
    p_MJAIAgentRuns_ConversationID_ErrorMessage TEXT;
    p_MJAIAgentRuns_ConversationID_ConversationID UUID;
    p_MJAIAgentRuns_ConversationID_UserID UUID;
    p_MJAIAgentRuns_ConversationID_Result TEXT;
    p_MJAIAgentRuns_ConversationID_AgentState TEXT;
    p_MJAIAgentRuns_ConversationID_TotalTokensUsed INTEGER;
    p_MJAIAgentRuns_ConversationID_TotalCost NUMERIC(18,6);
    p_MJAIAgentRuns_ConversationID_TotalPromptTokensUsed INTEGER;
    p_MJAIAgentRuns_ConversationID_TotalCompletionTokensUsed INTEGER;
    p_MJAIAgentRuns_ConversationID_TotalTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_ConversationID_TotalPromptTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_ConversationID_TotalCompletionTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_ConversationID_TotalCostRollup NUMERIC(19,8);
    p_MJAIAgentRuns_ConversationID_ConversationDetailID UUID;
    p_MJAIAgentRuns_ConversationID_ConversationDetailSequence INTEGER;
    p_MJAIAgentRuns_ConversationID_CancellationReason VARCHAR(30);
    p_MJAIAgentRuns_ConversationID_FinalStep VARCHAR(30);
    p_MJAIAgentRuns_ConversationID_FinalPayload TEXT;
    p_MJAIAgentRuns_ConversationID_Message TEXT;
    p_MJAIAgentRuns_ConversationID_LastRunID UUID;
    p_MJAIAgentRuns_ConversationID_StartingPayload TEXT;
    p_MJAIAgentRuns_ConversationID_TotalPromptIterations INTEGER;
    p_MJAIAgentRuns_ConversationID_ConfigurationID UUID;
    p_MJAIAgentRuns_ConversationID_OverrideModelID UUID;
    p_MJAIAgentRuns_ConversationID_OverrideVendorID UUID;
    p_MJAIAgentRuns_ConversationID_Data TEXT;
    p_MJAIAgentRuns_ConversationID_Verbose BOOLEAN;
    p_MJAIAgentRuns_ConversationID_EffortLevel INTEGER;
    p_MJAIAgentRuns_ConversationID_RunName VARCHAR(255);
    p_MJAIAgentRuns_ConversationID_Comments TEXT;
    p_MJAIAgentRuns_ConversationID_ScheduledJobRunID UUID;
    p_MJAIAgentRuns_ConversationID_TestRunID UUID;
    p_MJAIAgentRuns_ConversationID_PrimaryScopeEntityID UUID;
    p_MJAIAgentRuns_ConversationID_PrimaryScopeRecordID VARCHAR(100);
    p_MJAIAgentRuns_ConversationID_SecondaryScopes TEXT;
    p_MJConversationArtifacts_ConversationIDID UUID;
    p_MJConversationDetails_ConversationIDID UUID;
    p_MJReports_ConversationIDID UUID;
    p_MJReports_ConversationID_Name VARCHAR(255);
    p_MJReports_ConversationID_Description TEXT;
    p_MJReports_ConversationID_CategoryID UUID;
    p_MJReports_ConversationID_UserID UUID;
    p_MJReports_ConversationID_SharingScope VARCHAR(20);
    p_MJReports_ConversationID_ConversationID UUID;
    p_MJReports_ConversationID_ConversationDetailID UUID;
    p_MJReports_ConversationID_DataContextID UUID;
    p_MJReports_ConversationID_Configuration TEXT;
    p_MJReports_ConversationID_OutputTriggerTypeID UUID;
    p_MJReports_ConversationID_OutputFormatTypeID UUID;
    p_MJReports_ConversationID_OutputDeliveryTypeID UUID;
    p_MJReports_ConversationID_OutputFrequency VARCHAR(50);
    p_MJReports_ConversationID_OutputTargetEmail VARCHAR(255);
    p_MJReports_ConversationID_OutputWorkflowID UUID;
    p_MJReports_ConversationID_Thumbnail TEXT;
    p_MJReports_ConversationID_EnvironmentID UUID;
BEGIN
-- Cascade update on AIAgentExample using cursor to call spUpdateAIAgentExample


    FOR _rec IN SELECT "ID", "AgentID", "UserID", "CompanyID", "Type", "ExampleInput", "ExampleOutput", "IsAutoGenerated", "SourceConversationID", "SourceConversationDetailID", "SourceAIAgentRunID", "SuccessScore", "Comments", "Status", "EmbeddingVector", "EmbeddingModelID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes", "LastAccessedAt", "AccessCount", "ExpiresAt" FROM __mj."AIAgentExample" WHERE "SourceConversationID" = p_ID
    LOOP
        p_MJAIAgentExamples_SourceConversationIDID := _rec."ID";
        p_MJAIAgentExamples_SourceConversationID_AgentID := _rec."AgentID";
        p_MJAIAgentExamples_SourceConversationID_UserID := _rec."UserID";
        p_MJAIAgentExamples_SourceConversationID_CompanyID := _rec."CompanyID";
        p_MJAIAgentExamples_SourceConversationID_Type := _rec."Type";
        p_MJAIAgentExamples_SourceConversationID_ExampleInput := _rec."ExampleInput";
        p_MJAIAgentExamples_SourceConversationID_ExampleOutput := _rec."ExampleOutput";
        p_MJAIAgentExamples_SourceConversationID_IsAutoGenerated := _rec."IsAutoGenerated";
        p_MJAIAgentExamples_SourceConversationID_SourceConversationID := _rec."SourceConversationID";
        p_MJAIAgentExamples_SourceConversationID_SourceConversati_b98bb5 := _rec."SourceConversationDetailID";
        p_MJAIAgentExamples_SourceConversationID_SourceAIAgentRunID := _rec."SourceAIAgentRunID";
        p_MJAIAgentExamples_SourceConversationID_SuccessScore := _rec."SuccessScore";
        p_MJAIAgentExamples_SourceConversationID_Comments := _rec."Comments";
        p_MJAIAgentExamples_SourceConversationID_Status := _rec."Status";
        p_MJAIAgentExamples_SourceConversationID_EmbeddingVector := _rec."EmbeddingVector";
        p_MJAIAgentExamples_SourceConversationID_EmbeddingModelID := _rec."EmbeddingModelID";
        p_MJAIAgentExamples_SourceConversationID_PrimaryScopeEntityID := _rec."PrimaryScopeEntityID";
        p_MJAIAgentExamples_SourceConversationID_PrimaryScopeRecordID := _rec."PrimaryScopeRecordID";
        p_MJAIAgentExamples_SourceConversationID_SecondaryScopes := _rec."SecondaryScopes";
        p_MJAIAgentExamples_SourceConversationID_LastAccessedAt := _rec."LastAccessedAt";
        p_MJAIAgentExamples_SourceConversationID_AccessCount := _rec."AccessCount";
        p_MJAIAgentExamples_SourceConversationID_ExpiresAt := _rec."ExpiresAt";
        -- Set the FK field to NULL
        p_MJAIAgentExamples_SourceConversationID_SourceConversationID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentExample"(p_MJAIAgentExamples_SourceConversationIDID, p_MJAIAgentExamples_SourceConversationID_AgentID, p_MJAIAgentExamples_SourceConversationID_UserID, p_MJAIAgentExamples_SourceConversationID_CompanyID, p_MJAIAgentExamples_SourceConversationID_Type, p_MJAIAgentExamples_SourceConversationID_ExampleInput, p_MJAIAgentExamples_SourceConversationID_ExampleOutput, p_MJAIAgentExamples_SourceConversationID_IsAutoGenerated, p_MJAIAgentExamples_SourceConversationID_SourceConversationID, p_MJAIAgentExamples_SourceConversationID_SourceConversati_b98bb5, p_MJAIAgentExamples_SourceConversationID_SourceAIAgentRunID, p_MJAIAgentExamples_SourceConversationID_SuccessScore, p_MJAIAgentExamples_SourceConversationID_Comments, p_MJAIAgentExamples_SourceConversationID_Status, p_MJAIAgentExamples_SourceConversationID_EmbeddingVector, p_MJAIAgentExamples_SourceConversationID_EmbeddingModelID, p_MJAIAgentExamples_SourceConversationID_PrimaryScopeEntityID, p_MJAIAgentExamples_SourceConversationID_PrimaryScopeRecordID, p_MJAIAgentExamples_SourceConversationID_SecondaryScopes, p_MJAIAgentExamples_SourceConversationID_LastAccessedAt, p_MJAIAgentExamples_SourceConversationID_AccessCount, p_MJAIAgentExamples_SourceConversationID_ExpiresAt);

    END LOOP;

    
    -- Cascade update on AIAgentNote using cursor to call spUpdateAIAgentNote


    FOR _rec IN SELECT "ID", "AgentID", "AgentNoteTypeID", "Note", "UserID", "Type", "IsAutoGenerated", "Comments", "Status", "SourceConversationID", "SourceConversationDetailID", "SourceAIAgentRunID", "CompanyID", "EmbeddingVector", "EmbeddingModelID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes", "LastAccessedAt", "AccessCount", "ExpiresAt" FROM __mj."AIAgentNote" WHERE "SourceConversationID" = p_ID
    LOOP
        p_MJAIAgentNotes_SourceConversationIDID := _rec."ID";
        p_MJAIAgentNotes_SourceConversationID_AgentID := _rec."AgentID";
        p_MJAIAgentNotes_SourceConversationID_AgentNoteTypeID := _rec."AgentNoteTypeID";
        p_MJAIAgentNotes_SourceConversationID_Note := _rec."Note";
        p_MJAIAgentNotes_SourceConversationID_UserID := _rec."UserID";
        p_MJAIAgentNotes_SourceConversationID_Type := _rec."Type";
        p_MJAIAgentNotes_SourceConversationID_IsAutoGenerated := _rec."IsAutoGenerated";
        p_MJAIAgentNotes_SourceConversationID_Comments := _rec."Comments";
        p_MJAIAgentNotes_SourceConversationID_Status := _rec."Status";
        p_MJAIAgentNotes_SourceConversationID_SourceConversationID := _rec."SourceConversationID";
        p_MJAIAgentNotes_SourceConversationID_SourceConversationD_de4992 := _rec."SourceConversationDetailID";
        p_MJAIAgentNotes_SourceConversationID_SourceAIAgentRunID := _rec."SourceAIAgentRunID";
        p_MJAIAgentNotes_SourceConversationID_CompanyID := _rec."CompanyID";
        p_MJAIAgentNotes_SourceConversationID_EmbeddingVector := _rec."EmbeddingVector";
        p_MJAIAgentNotes_SourceConversationID_EmbeddingModelID := _rec."EmbeddingModelID";
        p_MJAIAgentNotes_SourceConversationID_PrimaryScopeEntityID := _rec."PrimaryScopeEntityID";
        p_MJAIAgentNotes_SourceConversationID_PrimaryScopeRecordID := _rec."PrimaryScopeRecordID";
        p_MJAIAgentNotes_SourceConversationID_SecondaryScopes := _rec."SecondaryScopes";
        p_MJAIAgentNotes_SourceConversationID_LastAccessedAt := _rec."LastAccessedAt";
        p_MJAIAgentNotes_SourceConversationID_AccessCount := _rec."AccessCount";
        p_MJAIAgentNotes_SourceConversationID_ExpiresAt := _rec."ExpiresAt";
        -- Set the FK field to NULL
        p_MJAIAgentNotes_SourceConversationID_SourceConversationID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentNote"(p_MJAIAgentNotes_SourceConversationIDID, p_MJAIAgentNotes_SourceConversationID_AgentID, p_MJAIAgentNotes_SourceConversationID_AgentNoteTypeID, p_MJAIAgentNotes_SourceConversationID_Note, p_MJAIAgentNotes_SourceConversationID_UserID, p_MJAIAgentNotes_SourceConversationID_Type, p_MJAIAgentNotes_SourceConversationID_IsAutoGenerated, p_MJAIAgentNotes_SourceConversationID_Comments, p_MJAIAgentNotes_SourceConversationID_Status, p_MJAIAgentNotes_SourceConversationID_SourceConversationID, p_MJAIAgentNotes_SourceConversationID_SourceConversationD_de4992, p_MJAIAgentNotes_SourceConversationID_SourceAIAgentRunID, p_MJAIAgentNotes_SourceConversationID_CompanyID, p_MJAIAgentNotes_SourceConversationID_EmbeddingVector, p_MJAIAgentNotes_SourceConversationID_EmbeddingModelID, p_MJAIAgentNotes_SourceConversationID_PrimaryScopeEntityID, p_MJAIAgentNotes_SourceConversationID_PrimaryScopeRecordID, p_MJAIAgentNotes_SourceConversationID_SecondaryScopes, p_MJAIAgentNotes_SourceConversationID_LastAccessedAt, p_MJAIAgentNotes_SourceConversationID_AccessCount, p_MJAIAgentNotes_SourceConversationID_ExpiresAt);

    END LOOP;

    
    -- Cascade update on AIAgentRun using cursor to call spUpdateAIAgentRun


    FOR _rec IN SELECT "ID", "AgentID", "ParentRunID", "Status", "StartedAt", "CompletedAt", "Success", "ErrorMessage", "ConversationID", "UserID", "Result", "AgentState", "TotalTokensUsed", "TotalCost", "TotalPromptTokensUsed", "TotalCompletionTokensUsed", "TotalTokensUsedRollup", "TotalPromptTokensUsedRollup", "TotalCompletionTokensUsedRollup", "TotalCostRollup", "ConversationDetailID", "ConversationDetailSequence", "CancellationReason", "FinalStep", "FinalPayload", "Message", "LastRunID", "StartingPayload", "TotalPromptIterations", "ConfigurationID", "OverrideModelID", "OverrideVendorID", "Data", "Verbose", "EffortLevel", "RunName", "Comments", "ScheduledJobRunID", "TestRunID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes" FROM __mj."AIAgentRun" WHERE "ConversationID" = p_ID
    LOOP
        p_MJAIAgentRuns_ConversationIDID := _rec."ID";
        p_MJAIAgentRuns_ConversationID_AgentID := _rec."AgentID";
        p_MJAIAgentRuns_ConversationID_ParentRunID := _rec."ParentRunID";
        p_MJAIAgentRuns_ConversationID_Status := _rec."Status";
        p_MJAIAgentRuns_ConversationID_StartedAt := _rec."StartedAt";
        p_MJAIAgentRuns_ConversationID_CompletedAt := _rec."CompletedAt";
        p_MJAIAgentRuns_ConversationID_Success := _rec."Success";
        p_MJAIAgentRuns_ConversationID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIAgentRuns_ConversationID_ConversationID := _rec."ConversationID";
        p_MJAIAgentRuns_ConversationID_UserID := _rec."UserID";
        p_MJAIAgentRuns_ConversationID_Result := _rec."Result";
        p_MJAIAgentRuns_ConversationID_AgentState := _rec."AgentState";
        p_MJAIAgentRuns_ConversationID_TotalTokensUsed := _rec."TotalTokensUsed";
        p_MJAIAgentRuns_ConversationID_TotalCost := _rec."TotalCost";
        p_MJAIAgentRuns_ConversationID_TotalPromptTokensUsed := _rec."TotalPromptTokensUsed";
        p_MJAIAgentRuns_ConversationID_TotalCompletionTokensUsed := _rec."TotalCompletionTokensUsed";
        p_MJAIAgentRuns_ConversationID_TotalTokensUsedRollup := _rec."TotalTokensUsedRollup";
        p_MJAIAgentRuns_ConversationID_TotalPromptTokensUsedRollup := _rec."TotalPromptTokensUsedRollup";
        p_MJAIAgentRuns_ConversationID_TotalCompletionTokensUsedRollup := _rec."TotalCompletionTokensUsedRollup";
        p_MJAIAgentRuns_ConversationID_TotalCostRollup := _rec."TotalCostRollup";
        p_MJAIAgentRuns_ConversationID_ConversationDetailID := _rec."ConversationDetailID";
        p_MJAIAgentRuns_ConversationID_ConversationDetailSequence := _rec."ConversationDetailSequence";
        p_MJAIAgentRuns_ConversationID_CancellationReason := _rec."CancellationReason";
        p_MJAIAgentRuns_ConversationID_FinalStep := _rec."FinalStep";
        p_MJAIAgentRuns_ConversationID_FinalPayload := _rec."FinalPayload";
        p_MJAIAgentRuns_ConversationID_Message := _rec."Message";
        p_MJAIAgentRuns_ConversationID_LastRunID := _rec."LastRunID";
        p_MJAIAgentRuns_ConversationID_StartingPayload := _rec."StartingPayload";
        p_MJAIAgentRuns_ConversationID_TotalPromptIterations := _rec."TotalPromptIterations";
        p_MJAIAgentRuns_ConversationID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIAgentRuns_ConversationID_OverrideModelID := _rec."OverrideModelID";
        p_MJAIAgentRuns_ConversationID_OverrideVendorID := _rec."OverrideVendorID";
        p_MJAIAgentRuns_ConversationID_Data := _rec."Data";
        p_MJAIAgentRuns_ConversationID_Verbose := _rec."Verbose";
        p_MJAIAgentRuns_ConversationID_EffortLevel := _rec."EffortLevel";
        p_MJAIAgentRuns_ConversationID_RunName := _rec."RunName";
        p_MJAIAgentRuns_ConversationID_Comments := _rec."Comments";
        p_MJAIAgentRuns_ConversationID_ScheduledJobRunID := _rec."ScheduledJobRunID";
        p_MJAIAgentRuns_ConversationID_TestRunID := _rec."TestRunID";
        p_MJAIAgentRuns_ConversationID_PrimaryScopeEntityID := _rec."PrimaryScopeEntityID";
        p_MJAIAgentRuns_ConversationID_PrimaryScopeRecordID := _rec."PrimaryScopeRecordID";
        p_MJAIAgentRuns_ConversationID_SecondaryScopes := _rec."SecondaryScopes";
        -- Set the FK field to NULL
        p_MJAIAgentRuns_ConversationID_ConversationID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentRun"(p_MJAIAgentRuns_ConversationIDID, p_MJAIAgentRuns_ConversationID_AgentID, p_MJAIAgentRuns_ConversationID_ParentRunID, p_MJAIAgentRuns_ConversationID_Status, p_MJAIAgentRuns_ConversationID_StartedAt, p_MJAIAgentRuns_ConversationID_CompletedAt, p_MJAIAgentRuns_ConversationID_Success, p_MJAIAgentRuns_ConversationID_ErrorMessage, p_MJAIAgentRuns_ConversationID_ConversationID, p_MJAIAgentRuns_ConversationID_UserID, p_MJAIAgentRuns_ConversationID_Result, p_MJAIAgentRuns_ConversationID_AgentState, p_MJAIAgentRuns_ConversationID_TotalTokensUsed, p_MJAIAgentRuns_ConversationID_TotalCost, p_MJAIAgentRuns_ConversationID_TotalPromptTokensUsed, p_MJAIAgentRuns_ConversationID_TotalCompletionTokensUsed, p_MJAIAgentRuns_ConversationID_TotalTokensUsedRollup, p_MJAIAgentRuns_ConversationID_TotalPromptTokensUsedRollup, p_MJAIAgentRuns_ConversationID_TotalCompletionTokensUsedRollup, p_MJAIAgentRuns_ConversationID_TotalCostRollup, p_MJAIAgentRuns_ConversationID_ConversationDetailID, p_MJAIAgentRuns_ConversationID_ConversationDetailSequence, p_MJAIAgentRuns_ConversationID_CancellationReason, p_MJAIAgentRuns_ConversationID_FinalStep, p_MJAIAgentRuns_ConversationID_FinalPayload, p_MJAIAgentRuns_ConversationID_Message, p_MJAIAgentRuns_ConversationID_LastRunID, p_MJAIAgentRuns_ConversationID_StartingPayload, p_MJAIAgentRuns_ConversationID_TotalPromptIterations, p_MJAIAgentRuns_ConversationID_ConfigurationID, p_MJAIAgentRuns_ConversationID_OverrideModelID, p_MJAIAgentRuns_ConversationID_OverrideVendorID, p_MJAIAgentRuns_ConversationID_Data, p_MJAIAgentRuns_ConversationID_Verbose, p_MJAIAgentRuns_ConversationID_EffortLevel, p_MJAIAgentRuns_ConversationID_RunName, p_MJAIAgentRuns_ConversationID_Comments, p_MJAIAgentRuns_ConversationID_ScheduledJobRunID, p_MJAIAgentRuns_ConversationID_TestRunID, p_MJAIAgentRuns_ConversationID_PrimaryScopeEntityID, p_MJAIAgentRuns_ConversationID_PrimaryScopeRecordID, p_MJAIAgentRuns_ConversationID_SecondaryScopes);

    END LOOP;

    
    -- Cascade delete from ConversationArtifact using cursor to call spDeleteConversationArtifact

    FOR _rec IN SELECT "ID" FROM __mj."ConversationArtifact" WHERE "ConversationID" = p_ID
    LOOP
        p_MJConversationArtifacts_ConversationIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteConversationArtifact"(p_MJConversationArtifacts_ConversationIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ConversationDetail using cursor to call spDeleteConversationDetail

    FOR _rec IN SELECT "ID" FROM __mj."ConversationDetail" WHERE "ConversationID" = p_ID
    LOOP
        p_MJConversationDetails_ConversationIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteConversationDetail"(p_MJConversationDetails_ConversationIDID);
        
    END LOOP;
    
    
    -- Cascade update on Report using cursor to call spUpdateReport


    FOR _rec IN SELECT "ID", "Name", "Description", "CategoryID", "UserID", "SharingScope", "ConversationID", "ConversationDetailID", "DataContextID", "Configuration", "OutputTriggerTypeID", "OutputFormatTypeID", "OutputDeliveryTypeID", "OutputFrequency", "OutputTargetEmail", "OutputWorkflowID", "Thumbnail", "EnvironmentID" FROM __mj."Report" WHERE "ConversationID" = p_ID
    LOOP
        p_MJReports_ConversationIDID := _rec."ID";
        p_MJReports_ConversationID_Name := _rec."Name";
        p_MJReports_ConversationID_Description := _rec."Description";
        p_MJReports_ConversationID_CategoryID := _rec."CategoryID";
        p_MJReports_ConversationID_UserID := _rec."UserID";
        p_MJReports_ConversationID_SharingScope := _rec."SharingScope";
        p_MJReports_ConversationID_ConversationID := _rec."ConversationID";
        p_MJReports_ConversationID_ConversationDetailID := _rec."ConversationDetailID";
        p_MJReports_ConversationID_DataContextID := _rec."DataContextID";
        p_MJReports_ConversationID_Configuration := _rec."Configuration";
        p_MJReports_ConversationID_OutputTriggerTypeID := _rec."OutputTriggerTypeID";
        p_MJReports_ConversationID_OutputFormatTypeID := _rec."OutputFormatTypeID";
        p_MJReports_ConversationID_OutputDeliveryTypeID := _rec."OutputDeliveryTypeID";
        p_MJReports_ConversationID_OutputFrequency := _rec."OutputFrequency";
        p_MJReports_ConversationID_OutputTargetEmail := _rec."OutputTargetEmail";
        p_MJReports_ConversationID_OutputWorkflowID := _rec."OutputWorkflowID";
        p_MJReports_ConversationID_Thumbnail := _rec."Thumbnail";
        p_MJReports_ConversationID_EnvironmentID := _rec."EnvironmentID";
        -- Set the FK field to NULL
        p_MJReports_ConversationID_ConversationID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateReport"(p_MJReports_ConversationIDID, p_MJReports_ConversationID_Name, p_MJReports_ConversationID_Description, p_MJReports_ConversationID_CategoryID, p_MJReports_ConversationID_UserID, p_MJReports_ConversationID_SharingScope, p_MJReports_ConversationID_ConversationID, p_MJReports_ConversationID_ConversationDetailID, p_MJReports_ConversationID_DataContextID, p_MJReports_ConversationID_Configuration, p_MJReports_ConversationID_OutputTriggerTypeID, p_MJReports_ConversationID_OutputFormatTypeID, p_MJReports_ConversationID_OutputDeliveryTypeID, p_MJReports_ConversationID_OutputFrequency, p_MJReports_ConversationID_OutputTargetEmail, p_MJReports_ConversationID_OutputWorkflowID, p_MJReports_ConversationID_Thumbnail, p_MJReports_ConversationID_EnvironmentID);

    END LOOP;

    

    DELETE FROM
        __mj."Conversation"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteConversationDetail"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJAIAgentExamples_SourceConversationDetailIDID UUID;
    p_MJAIAgentExamples_SourceConversationDetailID_AgentID UUID;
    p_MJAIAgentExamples_SourceConversationDetailID_UserID UUID;
    p_MJAIAgentExamples_SourceConversationDetailID_CompanyID UUID;
    p_MJAIAgentExamples_SourceConversationDetailID_Type VARCHAR(20);
    p_MJAIAgentExamples_SourceConversationDetailID_ExampleInput TEXT;
    p_MJAIAgentExamples_SourceConversationDetailID_ExampleOutput TEXT;
    p_MJAIAgentExamples_SourceConversationDetailID_IsAutoGenerated BOOLEAN;
    p_MJAIAgentExamples_SourceConversationDetailID_SourceConv_b3263f UUID;
    p_MJAIAgentExamples_SourceConversationDetailID_SourceConv_591540 UUID;
    p_MJAIAgentExamples_SourceConversationDetailID_SourceAIAg_987eaf UUID;
    p_MJAIAgentExamples_SourceConversationDetailID_SuccessScore NUMERIC(5,2);
    p_MJAIAgentExamples_SourceConversationDetailID_Comments TEXT;
    p_MJAIAgentExamples_SourceConversationDetailID_Status VARCHAR(20);
    p_MJAIAgentExamples_SourceConversationDetailID_EmbeddingVector TEXT;
    p_MJAIAgentExamples_SourceConversationDetailID_EmbeddingModelID UUID;
    p_MJAIAgentExamples_SourceConversationDetailID_PrimarySco_8c9509 UUID;
    p_MJAIAgentExamples_SourceConversationDetailID_PrimarySco_da3d2d VARCHAR(100);
    p_MJAIAgentExamples_SourceConversationDetailID_SecondaryScopes TEXT;
    p_MJAIAgentExamples_SourceConversationDetailID_LastAccessedAt TIMESTAMPTZ;
    p_MJAIAgentExamples_SourceConversationDetailID_AccessCount INTEGER;
    p_MJAIAgentExamples_SourceConversationDetailID_ExpiresAt TIMESTAMPTZ;
    p_MJAIAgentNotes_SourceConversationDetailIDID UUID;
    p_MJAIAgentNotes_SourceConversationDetailID_AgentID UUID;
    p_MJAIAgentNotes_SourceConversationDetailID_AgentNoteTypeID UUID;
    p_MJAIAgentNotes_SourceConversationDetailID_Note TEXT;
    p_MJAIAgentNotes_SourceConversationDetailID_UserID UUID;
    p_MJAIAgentNotes_SourceConversationDetailID_Type VARCHAR(20);
    p_MJAIAgentNotes_SourceConversationDetailID_IsAutoGenerated BOOLEAN;
    p_MJAIAgentNotes_SourceConversationDetailID_Comments TEXT;
    p_MJAIAgentNotes_SourceConversationDetailID_Status VARCHAR(20);
    p_MJAIAgentNotes_SourceConversationDetailID_SourceConvers_d7e41b UUID;
    p_MJAIAgentNotes_SourceConversationDetailID_SourceConvers_ec3b0d UUID;
    p_MJAIAgentNotes_SourceConversationDetailID_SourceAIAgentRunID UUID;
    p_MJAIAgentNotes_SourceConversationDetailID_CompanyID UUID;
    p_MJAIAgentNotes_SourceConversationDetailID_EmbeddingVector TEXT;
    p_MJAIAgentNotes_SourceConversationDetailID_EmbeddingModelID UUID;
    p_MJAIAgentNotes_SourceConversationDetailID_PrimaryScopeE_b152e5 UUID;
    p_MJAIAgentNotes_SourceConversationDetailID_PrimaryScopeR_fefb0a VARCHAR(100);
    p_MJAIAgentNotes_SourceConversationDetailID_SecondaryScopes TEXT;
    p_MJAIAgentNotes_SourceConversationDetailID_LastAccessedAt TIMESTAMPTZ;
    p_MJAIAgentNotes_SourceConversationDetailID_AccessCount INTEGER;
    p_MJAIAgentNotes_SourceConversationDetailID_ExpiresAt TIMESTAMPTZ;
    p_MJAIAgentRuns_ConversationDetailIDID UUID;
    p_MJAIAgentRuns_ConversationDetailID_AgentID UUID;
    p_MJAIAgentRuns_ConversationDetailID_ParentRunID UUID;
    p_MJAIAgentRuns_ConversationDetailID_Status VARCHAR(50);
    p_MJAIAgentRuns_ConversationDetailID_StartedAt TIMESTAMPTZ;
    p_MJAIAgentRuns_ConversationDetailID_CompletedAt TIMESTAMPTZ;
    p_MJAIAgentRuns_ConversationDetailID_Success BOOLEAN;
    p_MJAIAgentRuns_ConversationDetailID_ErrorMessage TEXT;
    p_MJAIAgentRuns_ConversationDetailID_ConversationID UUID;
    p_MJAIAgentRuns_ConversationDetailID_UserID UUID;
    p_MJAIAgentRuns_ConversationDetailID_Result TEXT;
    p_MJAIAgentRuns_ConversationDetailID_AgentState TEXT;
    p_MJAIAgentRuns_ConversationDetailID_TotalTokensUsed INTEGER;
    p_MJAIAgentRuns_ConversationDetailID_TotalCost NUMERIC(18,6);
    p_MJAIAgentRuns_ConversationDetailID_TotalPromptTokensUsed INTEGER;
    p_MJAIAgentRuns_ConversationDetailID_TotalCompletionTokensUsed INTEGER;
    p_MJAIAgentRuns_ConversationDetailID_TotalTokensUsedRollup INTEGER;
    p_MJAIAgentRuns_ConversationDetailID_TotalPromptTokensUse_5ca82d INTEGER;
    p_MJAIAgentRuns_ConversationDetailID_TotalCompletionToken_43c4ab INTEGER;
    p_MJAIAgentRuns_ConversationDetailID_TotalCostRollup NUMERIC(19,8);
    p_MJAIAgentRuns_ConversationDetailID_ConversationDetailID UUID;
    p_MJAIAgentRuns_ConversationDetailID_ConversationDetailSequence INTEGER;
    p_MJAIAgentRuns_ConversationDetailID_CancellationReason VARCHAR(30);
    p_MJAIAgentRuns_ConversationDetailID_FinalStep VARCHAR(30);
    p_MJAIAgentRuns_ConversationDetailID_FinalPayload TEXT;
    p_MJAIAgentRuns_ConversationDetailID_Message TEXT;
    p_MJAIAgentRuns_ConversationDetailID_LastRunID UUID;
    p_MJAIAgentRuns_ConversationDetailID_StartingPayload TEXT;
    p_MJAIAgentRuns_ConversationDetailID_TotalPromptIterations INTEGER;
    p_MJAIAgentRuns_ConversationDetailID_ConfigurationID UUID;
    p_MJAIAgentRuns_ConversationDetailID_OverrideModelID UUID;
    p_MJAIAgentRuns_ConversationDetailID_OverrideVendorID UUID;
    p_MJAIAgentRuns_ConversationDetailID_Data TEXT;
    p_MJAIAgentRuns_ConversationDetailID_Verbose BOOLEAN;
    p_MJAIAgentRuns_ConversationDetailID_EffortLevel INTEGER;
    p_MJAIAgentRuns_ConversationDetailID_RunName VARCHAR(255);
    p_MJAIAgentRuns_ConversationDetailID_Comments TEXT;
    p_MJAIAgentRuns_ConversationDetailID_ScheduledJobRunID UUID;
    p_MJAIAgentRuns_ConversationDetailID_TestRunID UUID;
    p_MJAIAgentRuns_ConversationDetailID_PrimaryScopeEntityID UUID;
    p_MJAIAgentRuns_ConversationDetailID_PrimaryScopeRecordID VARCHAR(100);
    p_MJAIAgentRuns_ConversationDetailID_SecondaryScopes TEXT;
    p_MJConversationDetailArtifacts_ConversationDetailIDID UUID;
    p_MJConversationDetailAttachments_ConversationDetailIDID UUID;
    p_MJConversationDetailRatings_ConversationDetailIDID UUID;
    p_MJConversationDetails_ParentIDID UUID;
    p_MJConversationDetails_ParentID_ConversationID UUID;
    p_MJConversationDetails_ParentID_ExternalID VARCHAR(100);
    p_MJConversationDetails_ParentID_Role VARCHAR(20);
    p_MJConversationDetails_ParentID_Message TEXT;
    p_MJConversationDetails_ParentID_Error TEXT;
    p_MJConversationDetails_ParentID_HiddenToUser BOOLEAN;
    p_MJConversationDetails_ParentID_UserRating INTEGER;
    p_MJConversationDetails_ParentID_UserFeedback TEXT;
    p_MJConversationDetails_ParentID_ReflectionInsights TEXT;
    p_MJConversationDetails_ParentID_SummaryOfEarlierConversation TEXT;
    p_MJConversationDetails_ParentID_UserID UUID;
    p_MJConversationDetails_ParentID_ArtifactID UUID;
    p_MJConversationDetails_ParentID_ArtifactVersionID UUID;
    p_MJConversationDetails_ParentID_CompletionTime BIGINT;
    p_MJConversationDetails_ParentID_IsPinned BOOLEAN;
    p_MJConversationDetails_ParentID_ParentID UUID;
    p_MJConversationDetails_ParentID_AgentID UUID;
    p_MJConversationDetails_ParentID_Status VARCHAR(20);
    p_MJConversationDetails_ParentID_SuggestedResponses TEXT;
    p_MJConversationDetails_ParentID_TestRunID UUID;
    p_MJConversationDetails_ParentID_ResponseForm TEXT;
    p_MJConversationDetails_ParentID_ActionableCommands TEXT;
    p_MJConversationDetails_ParentID_AutomaticCommands TEXT;
    p_MJConversationDetails_ParentID_OriginalMessageChanged BOOLEAN;
    p_MJReports_ConversationDetailIDID UUID;
    p_MJReports_ConversationDetailID_Name VARCHAR(255);
    p_MJReports_ConversationDetailID_Description TEXT;
    p_MJReports_ConversationDetailID_CategoryID UUID;
    p_MJReports_ConversationDetailID_UserID UUID;
    p_MJReports_ConversationDetailID_SharingScope VARCHAR(20);
    p_MJReports_ConversationDetailID_ConversationID UUID;
    p_MJReports_ConversationDetailID_ConversationDetailID UUID;
    p_MJReports_ConversationDetailID_DataContextID UUID;
    p_MJReports_ConversationDetailID_Configuration TEXT;
    p_MJReports_ConversationDetailID_OutputTriggerTypeID UUID;
    p_MJReports_ConversationDetailID_OutputFormatTypeID UUID;
    p_MJReports_ConversationDetailID_OutputDeliveryTypeID UUID;
    p_MJReports_ConversationDetailID_OutputFrequency VARCHAR(50);
    p_MJReports_ConversationDetailID_OutputTargetEmail VARCHAR(255);
    p_MJReports_ConversationDetailID_OutputWorkflowID UUID;
    p_MJReports_ConversationDetailID_Thumbnail TEXT;
    p_MJReports_ConversationDetailID_EnvironmentID UUID;
    p_MJTasks_ConversationDetailIDID UUID;
    p_MJTasks_ConversationDetailID_ParentID UUID;
    p_MJTasks_ConversationDetailID_Name VARCHAR(255);
    p_MJTasks_ConversationDetailID_Description TEXT;
    p_MJTasks_ConversationDetailID_TypeID UUID;
    p_MJTasks_ConversationDetailID_EnvironmentID UUID;
    p_MJTasks_ConversationDetailID_ProjectID UUID;
    p_MJTasks_ConversationDetailID_ConversationDetailID UUID;
    p_MJTasks_ConversationDetailID_UserID UUID;
    p_MJTasks_ConversationDetailID_AgentID UUID;
    p_MJTasks_ConversationDetailID_Status VARCHAR(50);
    p_MJTasks_ConversationDetailID_PercentComplete INTEGER;
    p_MJTasks_ConversationDetailID_DueAt TIMESTAMPTZ;
    p_MJTasks_ConversationDetailID_StartedAt TIMESTAMPTZ;
    p_MJTasks_ConversationDetailID_CompletedAt TIMESTAMPTZ;
BEGIN
-- Cascade update on AIAgentExample using cursor to call spUpdateAIAgentExample


    FOR _rec IN SELECT "ID", "AgentID", "UserID", "CompanyID", "Type", "ExampleInput", "ExampleOutput", "IsAutoGenerated", "SourceConversationID", "SourceConversationDetailID", "SourceAIAgentRunID", "SuccessScore", "Comments", "Status", "EmbeddingVector", "EmbeddingModelID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes", "LastAccessedAt", "AccessCount", "ExpiresAt" FROM __mj."AIAgentExample" WHERE "SourceConversationDetailID" = p_ID
    LOOP
        p_MJAIAgentExamples_SourceConversationDetailIDID := _rec."ID";
        p_MJAIAgentExamples_SourceConversationDetailID_AgentID := _rec."AgentID";
        p_MJAIAgentExamples_SourceConversationDetailID_UserID := _rec."UserID";
        p_MJAIAgentExamples_SourceConversationDetailID_CompanyID := _rec."CompanyID";
        p_MJAIAgentExamples_SourceConversationDetailID_Type := _rec."Type";
        p_MJAIAgentExamples_SourceConversationDetailID_ExampleInput := _rec."ExampleInput";
        p_MJAIAgentExamples_SourceConversationDetailID_ExampleOutput := _rec."ExampleOutput";
        p_MJAIAgentExamples_SourceConversationDetailID_IsAutoGenerated := _rec."IsAutoGenerated";
        p_MJAIAgentExamples_SourceConversationDetailID_SourceConv_b3263f := _rec."SourceConversationID";
        p_MJAIAgentExamples_SourceConversationDetailID_SourceConv_591540 := _rec."SourceConversationDetailID";
        p_MJAIAgentExamples_SourceConversationDetailID_SourceAIAg_987eaf := _rec."SourceAIAgentRunID";
        p_MJAIAgentExamples_SourceConversationDetailID_SuccessScore := _rec."SuccessScore";
        p_MJAIAgentExamples_SourceConversationDetailID_Comments := _rec."Comments";
        p_MJAIAgentExamples_SourceConversationDetailID_Status := _rec."Status";
        p_MJAIAgentExamples_SourceConversationDetailID_EmbeddingVector := _rec."EmbeddingVector";
        p_MJAIAgentExamples_SourceConversationDetailID_EmbeddingModelID := _rec."EmbeddingModelID";
        p_MJAIAgentExamples_SourceConversationDetailID_PrimarySco_8c9509 := _rec."PrimaryScopeEntityID";
        p_MJAIAgentExamples_SourceConversationDetailID_PrimarySco_da3d2d := _rec."PrimaryScopeRecordID";
        p_MJAIAgentExamples_SourceConversationDetailID_SecondaryScopes := _rec."SecondaryScopes";
        p_MJAIAgentExamples_SourceConversationDetailID_LastAccessedAt := _rec."LastAccessedAt";
        p_MJAIAgentExamples_SourceConversationDetailID_AccessCount := _rec."AccessCount";
        p_MJAIAgentExamples_SourceConversationDetailID_ExpiresAt := _rec."ExpiresAt";
        -- Set the FK field to NULL
        p_MJAIAgentExamples_SourceConversationDetailID_SourceConv_591540 := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentExample"(p_MJAIAgentExamples_SourceConversationDetailIDID, p_MJAIAgentExamples_SourceConversationDetailID_AgentID, p_MJAIAgentExamples_SourceConversationDetailID_UserID, p_MJAIAgentExamples_SourceConversationDetailID_CompanyID, p_MJAIAgentExamples_SourceConversationDetailID_Type, p_MJAIAgentExamples_SourceConversationDetailID_ExampleInput, p_MJAIAgentExamples_SourceConversationDetailID_ExampleOutput, p_MJAIAgentExamples_SourceConversationDetailID_IsAutoGenerated, p_MJAIAgentExamples_SourceConversationDetailID_SourceConv_b3263f, p_MJAIAgentExamples_SourceConversationDetailID_SourceConv_591540, p_MJAIAgentExamples_SourceConversationDetailID_SourceAIAg_987eaf, p_MJAIAgentExamples_SourceConversationDetailID_SuccessScore, p_MJAIAgentExamples_SourceConversationDetailID_Comments, p_MJAIAgentExamples_SourceConversationDetailID_Status, p_MJAIAgentExamples_SourceConversationDetailID_EmbeddingVector, p_MJAIAgentExamples_SourceConversationDetailID_EmbeddingModelID, p_MJAIAgentExamples_SourceConversationDetailID_PrimarySco_8c9509, p_MJAIAgentExamples_SourceConversationDetailID_PrimarySco_da3d2d, p_MJAIAgentExamples_SourceConversationDetailID_SecondaryScopes, p_MJAIAgentExamples_SourceConversationDetailID_LastAccessedAt, p_MJAIAgentExamples_SourceConversationDetailID_AccessCount, p_MJAIAgentExamples_SourceConversationDetailID_ExpiresAt);

    END LOOP;

    
    -- Cascade update on AIAgentNote using cursor to call spUpdateAIAgentNote


    FOR _rec IN SELECT "ID", "AgentID", "AgentNoteTypeID", "Note", "UserID", "Type", "IsAutoGenerated", "Comments", "Status", "SourceConversationID", "SourceConversationDetailID", "SourceAIAgentRunID", "CompanyID", "EmbeddingVector", "EmbeddingModelID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes", "LastAccessedAt", "AccessCount", "ExpiresAt" FROM __mj."AIAgentNote" WHERE "SourceConversationDetailID" = p_ID
    LOOP
        p_MJAIAgentNotes_SourceConversationDetailIDID := _rec."ID";
        p_MJAIAgentNotes_SourceConversationDetailID_AgentID := _rec."AgentID";
        p_MJAIAgentNotes_SourceConversationDetailID_AgentNoteTypeID := _rec."AgentNoteTypeID";
        p_MJAIAgentNotes_SourceConversationDetailID_Note := _rec."Note";
        p_MJAIAgentNotes_SourceConversationDetailID_UserID := _rec."UserID";
        p_MJAIAgentNotes_SourceConversationDetailID_Type := _rec."Type";
        p_MJAIAgentNotes_SourceConversationDetailID_IsAutoGenerated := _rec."IsAutoGenerated";
        p_MJAIAgentNotes_SourceConversationDetailID_Comments := _rec."Comments";
        p_MJAIAgentNotes_SourceConversationDetailID_Status := _rec."Status";
        p_MJAIAgentNotes_SourceConversationDetailID_SourceConvers_d7e41b := _rec."SourceConversationID";
        p_MJAIAgentNotes_SourceConversationDetailID_SourceConvers_ec3b0d := _rec."SourceConversationDetailID";
        p_MJAIAgentNotes_SourceConversationDetailID_SourceAIAgentRunID := _rec."SourceAIAgentRunID";
        p_MJAIAgentNotes_SourceConversationDetailID_CompanyID := _rec."CompanyID";
        p_MJAIAgentNotes_SourceConversationDetailID_EmbeddingVector := _rec."EmbeddingVector";
        p_MJAIAgentNotes_SourceConversationDetailID_EmbeddingModelID := _rec."EmbeddingModelID";
        p_MJAIAgentNotes_SourceConversationDetailID_PrimaryScopeE_b152e5 := _rec."PrimaryScopeEntityID";
        p_MJAIAgentNotes_SourceConversationDetailID_PrimaryScopeR_fefb0a := _rec."PrimaryScopeRecordID";
        p_MJAIAgentNotes_SourceConversationDetailID_SecondaryScopes := _rec."SecondaryScopes";
        p_MJAIAgentNotes_SourceConversationDetailID_LastAccessedAt := _rec."LastAccessedAt";
        p_MJAIAgentNotes_SourceConversationDetailID_AccessCount := _rec."AccessCount";
        p_MJAIAgentNotes_SourceConversationDetailID_ExpiresAt := _rec."ExpiresAt";
        -- Set the FK field to NULL
        p_MJAIAgentNotes_SourceConversationDetailID_SourceConvers_ec3b0d := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentNote"(p_MJAIAgentNotes_SourceConversationDetailIDID, p_MJAIAgentNotes_SourceConversationDetailID_AgentID, p_MJAIAgentNotes_SourceConversationDetailID_AgentNoteTypeID, p_MJAIAgentNotes_SourceConversationDetailID_Note, p_MJAIAgentNotes_SourceConversationDetailID_UserID, p_MJAIAgentNotes_SourceConversationDetailID_Type, p_MJAIAgentNotes_SourceConversationDetailID_IsAutoGenerated, p_MJAIAgentNotes_SourceConversationDetailID_Comments, p_MJAIAgentNotes_SourceConversationDetailID_Status, p_MJAIAgentNotes_SourceConversationDetailID_SourceConvers_d7e41b, p_MJAIAgentNotes_SourceConversationDetailID_SourceConvers_ec3b0d, p_MJAIAgentNotes_SourceConversationDetailID_SourceAIAgentRunID, p_MJAIAgentNotes_SourceConversationDetailID_CompanyID, p_MJAIAgentNotes_SourceConversationDetailID_EmbeddingVector, p_MJAIAgentNotes_SourceConversationDetailID_EmbeddingModelID, p_MJAIAgentNotes_SourceConversationDetailID_PrimaryScopeE_b152e5, p_MJAIAgentNotes_SourceConversationDetailID_PrimaryScopeR_fefb0a, p_MJAIAgentNotes_SourceConversationDetailID_SecondaryScopes, p_MJAIAgentNotes_SourceConversationDetailID_LastAccessedAt, p_MJAIAgentNotes_SourceConversationDetailID_AccessCount, p_MJAIAgentNotes_SourceConversationDetailID_ExpiresAt);

    END LOOP;

    
    -- Cascade update on AIAgentRun using cursor to call spUpdateAIAgentRun


    FOR _rec IN SELECT "ID", "AgentID", "ParentRunID", "Status", "StartedAt", "CompletedAt", "Success", "ErrorMessage", "ConversationID", "UserID", "Result", "AgentState", "TotalTokensUsed", "TotalCost", "TotalPromptTokensUsed", "TotalCompletionTokensUsed", "TotalTokensUsedRollup", "TotalPromptTokensUsedRollup", "TotalCompletionTokensUsedRollup", "TotalCostRollup", "ConversationDetailID", "ConversationDetailSequence", "CancellationReason", "FinalStep", "FinalPayload", "Message", "LastRunID", "StartingPayload", "TotalPromptIterations", "ConfigurationID", "OverrideModelID", "OverrideVendorID", "Data", "Verbose", "EffortLevel", "RunName", "Comments", "ScheduledJobRunID", "TestRunID", "PrimaryScopeEntityID", "PrimaryScopeRecordID", "SecondaryScopes" FROM __mj."AIAgentRun" WHERE "ConversationDetailID" = p_ID
    LOOP
        p_MJAIAgentRuns_ConversationDetailIDID := _rec."ID";
        p_MJAIAgentRuns_ConversationDetailID_AgentID := _rec."AgentID";
        p_MJAIAgentRuns_ConversationDetailID_ParentRunID := _rec."ParentRunID";
        p_MJAIAgentRuns_ConversationDetailID_Status := _rec."Status";
        p_MJAIAgentRuns_ConversationDetailID_StartedAt := _rec."StartedAt";
        p_MJAIAgentRuns_ConversationDetailID_CompletedAt := _rec."CompletedAt";
        p_MJAIAgentRuns_ConversationDetailID_Success := _rec."Success";
        p_MJAIAgentRuns_ConversationDetailID_ErrorMessage := _rec."ErrorMessage";
        p_MJAIAgentRuns_ConversationDetailID_ConversationID := _rec."ConversationID";
        p_MJAIAgentRuns_ConversationDetailID_UserID := _rec."UserID";
        p_MJAIAgentRuns_ConversationDetailID_Result := _rec."Result";
        p_MJAIAgentRuns_ConversationDetailID_AgentState := _rec."AgentState";
        p_MJAIAgentRuns_ConversationDetailID_TotalTokensUsed := _rec."TotalTokensUsed";
        p_MJAIAgentRuns_ConversationDetailID_TotalCost := _rec."TotalCost";
        p_MJAIAgentRuns_ConversationDetailID_TotalPromptTokensUsed := _rec."TotalPromptTokensUsed";
        p_MJAIAgentRuns_ConversationDetailID_TotalCompletionTokensUsed := _rec."TotalCompletionTokensUsed";
        p_MJAIAgentRuns_ConversationDetailID_TotalTokensUsedRollup := _rec."TotalTokensUsedRollup";
        p_MJAIAgentRuns_ConversationDetailID_TotalPromptTokensUse_5ca82d := _rec."TotalPromptTokensUsedRollup";
        p_MJAIAgentRuns_ConversationDetailID_TotalCompletionToken_43c4ab := _rec."TotalCompletionTokensUsedRollup";
        p_MJAIAgentRuns_ConversationDetailID_TotalCostRollup := _rec."TotalCostRollup";
        p_MJAIAgentRuns_ConversationDetailID_ConversationDetailID := _rec."ConversationDetailID";
        p_MJAIAgentRuns_ConversationDetailID_ConversationDetailSequence := _rec."ConversationDetailSequence";
        p_MJAIAgentRuns_ConversationDetailID_CancellationReason := _rec."CancellationReason";
        p_MJAIAgentRuns_ConversationDetailID_FinalStep := _rec."FinalStep";
        p_MJAIAgentRuns_ConversationDetailID_FinalPayload := _rec."FinalPayload";
        p_MJAIAgentRuns_ConversationDetailID_Message := _rec."Message";
        p_MJAIAgentRuns_ConversationDetailID_LastRunID := _rec."LastRunID";
        p_MJAIAgentRuns_ConversationDetailID_StartingPayload := _rec."StartingPayload";
        p_MJAIAgentRuns_ConversationDetailID_TotalPromptIterations := _rec."TotalPromptIterations";
        p_MJAIAgentRuns_ConversationDetailID_ConfigurationID := _rec."ConfigurationID";
        p_MJAIAgentRuns_ConversationDetailID_OverrideModelID := _rec."OverrideModelID";
        p_MJAIAgentRuns_ConversationDetailID_OverrideVendorID := _rec."OverrideVendorID";
        p_MJAIAgentRuns_ConversationDetailID_Data := _rec."Data";
        p_MJAIAgentRuns_ConversationDetailID_Verbose := _rec."Verbose";
        p_MJAIAgentRuns_ConversationDetailID_EffortLevel := _rec."EffortLevel";
        p_MJAIAgentRuns_ConversationDetailID_RunName := _rec."RunName";
        p_MJAIAgentRuns_ConversationDetailID_Comments := _rec."Comments";
        p_MJAIAgentRuns_ConversationDetailID_ScheduledJobRunID := _rec."ScheduledJobRunID";
        p_MJAIAgentRuns_ConversationDetailID_TestRunID := _rec."TestRunID";
        p_MJAIAgentRuns_ConversationDetailID_PrimaryScopeEntityID := _rec."PrimaryScopeEntityID";
        p_MJAIAgentRuns_ConversationDetailID_PrimaryScopeRecordID := _rec."PrimaryScopeRecordID";
        p_MJAIAgentRuns_ConversationDetailID_SecondaryScopes := _rec."SecondaryScopes";
        -- Set the FK field to NULL
        p_MJAIAgentRuns_ConversationDetailID_ConversationDetailID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateAIAgentRun"(p_MJAIAgentRuns_ConversationDetailIDID, p_MJAIAgentRuns_ConversationDetailID_AgentID, p_MJAIAgentRuns_ConversationDetailID_ParentRunID, p_MJAIAgentRuns_ConversationDetailID_Status, p_MJAIAgentRuns_ConversationDetailID_StartedAt, p_MJAIAgentRuns_ConversationDetailID_CompletedAt, p_MJAIAgentRuns_ConversationDetailID_Success, p_MJAIAgentRuns_ConversationDetailID_ErrorMessage, p_MJAIAgentRuns_ConversationDetailID_ConversationID, p_MJAIAgentRuns_ConversationDetailID_UserID, p_MJAIAgentRuns_ConversationDetailID_Result, p_MJAIAgentRuns_ConversationDetailID_AgentState, p_MJAIAgentRuns_ConversationDetailID_TotalTokensUsed, p_MJAIAgentRuns_ConversationDetailID_TotalCost, p_MJAIAgentRuns_ConversationDetailID_TotalPromptTokensUsed, p_MJAIAgentRuns_ConversationDetailID_TotalCompletionTokensUsed, p_MJAIAgentRuns_ConversationDetailID_TotalTokensUsedRollup, p_MJAIAgentRuns_ConversationDetailID_TotalPromptTokensUse_5ca82d, p_MJAIAgentRuns_ConversationDetailID_TotalCompletionToken_43c4ab, p_MJAIAgentRuns_ConversationDetailID_TotalCostRollup, p_MJAIAgentRuns_ConversationDetailID_ConversationDetailID, p_MJAIAgentRuns_ConversationDetailID_ConversationDetailSequence, p_MJAIAgentRuns_ConversationDetailID_CancellationReason, p_MJAIAgentRuns_ConversationDetailID_FinalStep, p_MJAIAgentRuns_ConversationDetailID_FinalPayload, p_MJAIAgentRuns_ConversationDetailID_Message, p_MJAIAgentRuns_ConversationDetailID_LastRunID, p_MJAIAgentRuns_ConversationDetailID_StartingPayload, p_MJAIAgentRuns_ConversationDetailID_TotalPromptIterations, p_MJAIAgentRuns_ConversationDetailID_ConfigurationID, p_MJAIAgentRuns_ConversationDetailID_OverrideModelID, p_MJAIAgentRuns_ConversationDetailID_OverrideVendorID, p_MJAIAgentRuns_ConversationDetailID_Data, p_MJAIAgentRuns_ConversationDetailID_Verbose, p_MJAIAgentRuns_ConversationDetailID_EffortLevel, p_MJAIAgentRuns_ConversationDetailID_RunName, p_MJAIAgentRuns_ConversationDetailID_Comments, p_MJAIAgentRuns_ConversationDetailID_ScheduledJobRunID, p_MJAIAgentRuns_ConversationDetailID_TestRunID, p_MJAIAgentRuns_ConversationDetailID_PrimaryScopeEntityID, p_MJAIAgentRuns_ConversationDetailID_PrimaryScopeRecordID, p_MJAIAgentRuns_ConversationDetailID_SecondaryScopes);

    END LOOP;

    
    -- Cascade delete from ConversationDetailArtifact using cursor to call spDeleteConversationDetailArtifact

    FOR _rec IN SELECT "ID" FROM __mj."ConversationDetailArtifact" WHERE "ConversationDetailID" = p_ID
    LOOP
        p_MJConversationDetailArtifacts_ConversationDetailIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteConversationDetailArtifact"(p_MJConversationDetailArtifacts_ConversationDetailIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ConversationDetailAttachment using cursor to call spDeleteConversationDetailAttachment

    FOR _rec IN SELECT "ID" FROM __mj."ConversationDetailAttachment" WHERE "ConversationDetailID" = p_ID
    LOOP
        p_MJConversationDetailAttachments_ConversationDetailIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteConversationDetailAttachment"(p_MJConversationDetailAttachments_ConversationDetailIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ConversationDetailRating using cursor to call spDeleteConversationDetailRating

    FOR _rec IN SELECT "ID" FROM __mj."ConversationDetailRating" WHERE "ConversationDetailID" = p_ID
    LOOP
        p_MJConversationDetailRatings_ConversationDetailIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteConversationDetailRating"(p_MJConversationDetailRatings_ConversationDetailIDID);
        
    END LOOP;
    
    
    -- Cascade update on ConversationDetail using cursor to call spUpdateConversationDetail


    FOR _rec IN SELECT "ID", "ConversationID", "ExternalID", "Role", "Message", "Error", "HiddenToUser", "UserRating", "UserFeedback", "ReflectionInsights", "SummaryOfEarlierConversation", "UserID", "ArtifactID", "ArtifactVersionID", "CompletionTime", "IsPinned", "ParentID", "AgentID", "Status", "SuggestedResponses", "TestRunID", "ResponseForm", "ActionableCommands", "AutomaticCommands", "OriginalMessageChanged" FROM __mj."ConversationDetail" WHERE "ParentID" = p_ID
    LOOP
        p_MJConversationDetails_ParentIDID := _rec."ID";
        p_MJConversationDetails_ParentID_ConversationID := _rec."ConversationID";
        p_MJConversationDetails_ParentID_ExternalID := _rec."ExternalID";
        p_MJConversationDetails_ParentID_Role := _rec."Role";
        p_MJConversationDetails_ParentID_Message := _rec."Message";
        p_MJConversationDetails_ParentID_Error := _rec."Error";
        p_MJConversationDetails_ParentID_HiddenToUser := _rec."HiddenToUser";
        p_MJConversationDetails_ParentID_UserRating := _rec."UserRating";
        p_MJConversationDetails_ParentID_UserFeedback := _rec."UserFeedback";
        p_MJConversationDetails_ParentID_ReflectionInsights := _rec."ReflectionInsights";
        p_MJConversationDetails_ParentID_SummaryOfEarlierConversation := _rec."SummaryOfEarlierConversation";
        p_MJConversationDetails_ParentID_UserID := _rec."UserID";
        p_MJConversationDetails_ParentID_ArtifactID := _rec."ArtifactID";
        p_MJConversationDetails_ParentID_ArtifactVersionID := _rec."ArtifactVersionID";
        p_MJConversationDetails_ParentID_CompletionTime := _rec."CompletionTime";
        p_MJConversationDetails_ParentID_IsPinned := _rec."IsPinned";
        p_MJConversationDetails_ParentID_ParentID := _rec."ParentID";
        p_MJConversationDetails_ParentID_AgentID := _rec."AgentID";
        p_MJConversationDetails_ParentID_Status := _rec."Status";
        p_MJConversationDetails_ParentID_SuggestedResponses := _rec."SuggestedResponses";
        p_MJConversationDetails_ParentID_TestRunID := _rec."TestRunID";
        p_MJConversationDetails_ParentID_ResponseForm := _rec."ResponseForm";
        p_MJConversationDetails_ParentID_ActionableCommands := _rec."ActionableCommands";
        p_MJConversationDetails_ParentID_AutomaticCommands := _rec."AutomaticCommands";
        p_MJConversationDetails_ParentID_OriginalMessageChanged := _rec."OriginalMessageChanged";
        -- Set the FK field to NULL
        p_MJConversationDetails_ParentID_ParentID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateConversationDetail"(p_MJConversationDetails_ParentIDID, p_MJConversationDetails_ParentID_ConversationID, p_MJConversationDetails_ParentID_ExternalID, p_MJConversationDetails_ParentID_Role, p_MJConversationDetails_ParentID_Message, p_MJConversationDetails_ParentID_Error, p_MJConversationDetails_ParentID_HiddenToUser, p_MJConversationDetails_ParentID_UserRating, p_MJConversationDetails_ParentID_UserFeedback, p_MJConversationDetails_ParentID_ReflectionInsights, p_MJConversationDetails_ParentID_SummaryOfEarlierConversation, p_MJConversationDetails_ParentID_UserID, p_MJConversationDetails_ParentID_ArtifactID, p_MJConversationDetails_ParentID_ArtifactVersionID, p_MJConversationDetails_ParentID_CompletionTime, p_MJConversationDetails_ParentID_IsPinned, p_MJConversationDetails_ParentID_ParentID, p_MJConversationDetails_ParentID_AgentID, p_MJConversationDetails_ParentID_Status, p_MJConversationDetails_ParentID_SuggestedResponses, p_MJConversationDetails_ParentID_TestRunID, p_MJConversationDetails_ParentID_ResponseForm, p_MJConversationDetails_ParentID_ActionableCommands, p_MJConversationDetails_ParentID_AutomaticCommands, p_MJConversationDetails_ParentID_OriginalMessageChanged);

    END LOOP;

    
    -- Cascade update on Report using cursor to call spUpdateReport


    FOR _rec IN SELECT "ID", "Name", "Description", "CategoryID", "UserID", "SharingScope", "ConversationID", "ConversationDetailID", "DataContextID", "Configuration", "OutputTriggerTypeID", "OutputFormatTypeID", "OutputDeliveryTypeID", "OutputFrequency", "OutputTargetEmail", "OutputWorkflowID", "Thumbnail", "EnvironmentID" FROM __mj."Report" WHERE "ConversationDetailID" = p_ID
    LOOP
        p_MJReports_ConversationDetailIDID := _rec."ID";
        p_MJReports_ConversationDetailID_Name := _rec."Name";
        p_MJReports_ConversationDetailID_Description := _rec."Description";
        p_MJReports_ConversationDetailID_CategoryID := _rec."CategoryID";
        p_MJReports_ConversationDetailID_UserID := _rec."UserID";
        p_MJReports_ConversationDetailID_SharingScope := _rec."SharingScope";
        p_MJReports_ConversationDetailID_ConversationID := _rec."ConversationID";
        p_MJReports_ConversationDetailID_ConversationDetailID := _rec."ConversationDetailID";
        p_MJReports_ConversationDetailID_DataContextID := _rec."DataContextID";
        p_MJReports_ConversationDetailID_Configuration := _rec."Configuration";
        p_MJReports_ConversationDetailID_OutputTriggerTypeID := _rec."OutputTriggerTypeID";
        p_MJReports_ConversationDetailID_OutputFormatTypeID := _rec."OutputFormatTypeID";
        p_MJReports_ConversationDetailID_OutputDeliveryTypeID := _rec."OutputDeliveryTypeID";
        p_MJReports_ConversationDetailID_OutputFrequency := _rec."OutputFrequency";
        p_MJReports_ConversationDetailID_OutputTargetEmail := _rec."OutputTargetEmail";
        p_MJReports_ConversationDetailID_OutputWorkflowID := _rec."OutputWorkflowID";
        p_MJReports_ConversationDetailID_Thumbnail := _rec."Thumbnail";
        p_MJReports_ConversationDetailID_EnvironmentID := _rec."EnvironmentID";
        -- Set the FK field to NULL
        p_MJReports_ConversationDetailID_ConversationDetailID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateReport"(p_MJReports_ConversationDetailIDID, p_MJReports_ConversationDetailID_Name, p_MJReports_ConversationDetailID_Description, p_MJReports_ConversationDetailID_CategoryID, p_MJReports_ConversationDetailID_UserID, p_MJReports_ConversationDetailID_SharingScope, p_MJReports_ConversationDetailID_ConversationID, p_MJReports_ConversationDetailID_ConversationDetailID, p_MJReports_ConversationDetailID_DataContextID, p_MJReports_ConversationDetailID_Configuration, p_MJReports_ConversationDetailID_OutputTriggerTypeID, p_MJReports_ConversationDetailID_OutputFormatTypeID, p_MJReports_ConversationDetailID_OutputDeliveryTypeID, p_MJReports_ConversationDetailID_OutputFrequency, p_MJReports_ConversationDetailID_OutputTargetEmail, p_MJReports_ConversationDetailID_OutputWorkflowID, p_MJReports_ConversationDetailID_Thumbnail, p_MJReports_ConversationDetailID_EnvironmentID);

    END LOOP;

    
    -- Cascade update on Task using cursor to call spUpdateTask


    FOR _rec IN SELECT "ID", "ParentID", "Name", "Description", "TypeID", "EnvironmentID", "ProjectID", "ConversationDetailID", "UserID", "AgentID", "Status", "PercentComplete", "DueAt", "StartedAt", "CompletedAt" FROM __mj."Task" WHERE "ConversationDetailID" = p_ID
    LOOP
        p_MJTasks_ConversationDetailIDID := _rec."ID";
        p_MJTasks_ConversationDetailID_ParentID := _rec."ParentID";
        p_MJTasks_ConversationDetailID_Name := _rec."Name";
        p_MJTasks_ConversationDetailID_Description := _rec."Description";
        p_MJTasks_ConversationDetailID_TypeID := _rec."TypeID";
        p_MJTasks_ConversationDetailID_EnvironmentID := _rec."EnvironmentID";
        p_MJTasks_ConversationDetailID_ProjectID := _rec."ProjectID";
        p_MJTasks_ConversationDetailID_ConversationDetailID := _rec."ConversationDetailID";
        p_MJTasks_ConversationDetailID_UserID := _rec."UserID";
        p_MJTasks_ConversationDetailID_AgentID := _rec."AgentID";
        p_MJTasks_ConversationDetailID_Status := _rec."Status";
        p_MJTasks_ConversationDetailID_PercentComplete := _rec."PercentComplete";
        p_MJTasks_ConversationDetailID_DueAt := _rec."DueAt";
        p_MJTasks_ConversationDetailID_StartedAt := _rec."StartedAt";
        p_MJTasks_ConversationDetailID_CompletedAt := _rec."CompletedAt";
        -- Set the FK field to NULL
        p_MJTasks_ConversationDetailID_ConversationDetailID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateTask"(p_MJTasks_ConversationDetailIDID, p_MJTasks_ConversationDetailID_ParentID, p_MJTasks_ConversationDetailID_Name, p_MJTasks_ConversationDetailID_Description, p_MJTasks_ConversationDetailID_TypeID, p_MJTasks_ConversationDetailID_EnvironmentID, p_MJTasks_ConversationDetailID_ProjectID, p_MJTasks_ConversationDetailID_ConversationDetailID, p_MJTasks_ConversationDetailID_UserID, p_MJTasks_ConversationDetailID_AgentID, p_MJTasks_ConversationDetailID_Status, p_MJTasks_ConversationDetailID_PercentComplete, p_MJTasks_ConversationDetailID_DueAt, p_MJTasks_ConversationDetailID_StartedAt, p_MJTasks_ConversationDetailID_CompletedAt);

    END LOOP;

    

    DELETE FROM
        __mj."ConversationDetail"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateCredentialCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_IconClass VARCHAR(100) DEFAULT NULL
)
RETURNS SETOF __mj."vwCredentialCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."CredentialCategory"
            (
                "ID",
                "Name",
                "Description",
                "ParentID",
                "IconClass"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ParentID,
                p_IconClass
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."CredentialCategory"
            (
                "Name",
                "Description",
                "ParentID",
                "IconClass"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ParentID,
                p_IconClass
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwCredentialCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateCredentialCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_ParentID UUID,
    IN p_IconClass VARCHAR(100)
)
RETURNS SETOF __mj."vwCredentialCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."CredentialCategory"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ParentID" = p_ParentID,
        "IconClass" = p_IconClass
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwCredentialCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwCredentialCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteCredentialCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."CredentialCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateCredential"(
    IN p_ID UUID DEFAULT NULL,
    IN p_CredentialTypeID UUID DEFAULT NULL,
    IN p_CategoryID UUID DEFAULT NULL,
    IN p_Name VARCHAR(200) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Values TEXT DEFAULT NULL,
    IN p_IsDefault BOOLEAN DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL,
    IN p_ExpiresAt TIMESTAMPTZ DEFAULT NULL,
    IN p_LastValidatedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_LastUsedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_IconClass VARCHAR(100) DEFAULT NULL
)
RETURNS SETOF __mj."vwCredentials" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Credential"
            (
                "ID",
                "CredentialTypeID",
                "CategoryID",
                "Name",
                "Description",
                "Values",
                "IsDefault",
                "IsActive",
                "ExpiresAt",
                "LastValidatedAt",
                "LastUsedAt",
                "IconClass"
            )
        VALUES
            (
                p_ID,
                p_CredentialTypeID,
                p_CategoryID,
                p_Name,
                p_Description,
                p_Values,
                COALESCE(p_IsDefault, 0),
                COALESCE(p_IsActive, 1),
                p_ExpiresAt,
                p_LastValidatedAt,
                p_LastUsedAt,
                p_IconClass
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Credential"
            (
                "CredentialTypeID",
                "CategoryID",
                "Name",
                "Description",
                "Values",
                "IsDefault",
                "IsActive",
                "ExpiresAt",
                "LastValidatedAt",
                "LastUsedAt",
                "IconClass"
            )
        VALUES
            (
                p_CredentialTypeID,
                p_CategoryID,
                p_Name,
                p_Description,
                p_Values,
                COALESCE(p_IsDefault, 0),
                COALESCE(p_IsActive, 1),
                p_ExpiresAt,
                p_LastValidatedAt,
                p_LastUsedAt,
                p_IconClass
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwCredentials" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateCredential"(
    IN p_ID UUID,
    IN p_CredentialTypeID UUID,
    IN p_CategoryID UUID,
    IN p_Name VARCHAR(200),
    IN p_Description TEXT,
    IN p_Values TEXT,
    IN p_IsDefault BOOLEAN,
    IN p_IsActive BOOLEAN,
    IN p_ExpiresAt TIMESTAMPTZ,
    IN p_LastValidatedAt TIMESTAMPTZ,
    IN p_LastUsedAt TIMESTAMPTZ,
    IN p_IconClass VARCHAR(100)
)
RETURNS SETOF __mj."vwCredentials" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Credential"
    SET
        "CredentialTypeID" = p_CredentialTypeID,
        "CategoryID" = p_CategoryID,
        "Name" = p_Name,
        "Description" = p_Description,
        "Values" = p_Values,
        "IsDefault" = p_IsDefault,
        "IsActive" = p_IsActive,
        "ExpiresAt" = p_ExpiresAt,
        "LastValidatedAt" = p_LastValidatedAt,
        "LastUsedAt" = p_LastUsedAt,
        "IconClass" = p_IconClass
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwCredentials" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwCredentials" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteCredential"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Credential"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDashboardCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwDashboardCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DashboardCategory"
            (
                "ID",
                "Name",
                "Description",
                "ParentID",
                "UserID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ParentID,
                p_UserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DashboardCategory"
            (
                "Name",
                "Description",
                "ParentID",
                "UserID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ParentID,
                p_UserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDashboardCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDashboardCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_ParentID UUID,
    IN p_UserID UUID
)
RETURNS SETOF __mj."vwDashboardCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DashboardCategory"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ParentID" = p_ParentID,
        "UserID" = p_UserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDashboardCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDashboardCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDashboardCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DashboardCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDashboardCategoryLink"(
    IN p_ID UUID DEFAULT NULL,
    IN p_DashboardID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_DashboardCategoryID UUID DEFAULT NULL,
    IN p_DisplayName VARCHAR(255) DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwDashboardCategoryLinks" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DashboardCategoryLink"
            (
                "ID",
                "DashboardID",
                "UserID",
                "DashboardCategoryID",
                "DisplayName",
                "Sequence"
            )
        VALUES
            (
                p_ID,
                p_DashboardID,
                p_UserID,
                p_DashboardCategoryID,
                p_DisplayName,
                COALESCE(p_Sequence, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DashboardCategoryLink"
            (
                "DashboardID",
                "UserID",
                "DashboardCategoryID",
                "DisplayName",
                "Sequence"
            )
        VALUES
            (
                p_DashboardID,
                p_UserID,
                p_DashboardCategoryID,
                p_DisplayName,
                COALESCE(p_Sequence, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDashboardCategoryLinks" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDashboardCategoryLink"(
    IN p_ID UUID,
    IN p_DashboardID UUID,
    IN p_UserID UUID,
    IN p_DashboardCategoryID UUID,
    IN p_DisplayName VARCHAR(255),
    IN p_Sequence INTEGER
)
RETURNS SETOF __mj."vwDashboardCategoryLinks" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DashboardCategoryLink"
    SET
        "DashboardID" = p_DashboardID,
        "UserID" = p_UserID,
        "DashboardCategoryID" = p_DashboardCategoryID,
        "DisplayName" = p_DisplayName,
        "Sequence" = p_Sequence
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDashboardCategoryLinks" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDashboardCategoryLinks" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDashboardCategoryLink"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DashboardCategoryLink"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDashboardCategoryPermission"(
    IN p_ID UUID DEFAULT NULL,
    IN p_DashboardCategoryID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_CanRead BOOLEAN DEFAULT NULL,
    IN p_CanEdit BOOLEAN DEFAULT NULL,
    IN p_CanAddRemove BOOLEAN DEFAULT NULL,
    IN p_CanShare BOOLEAN DEFAULT NULL,
    IN p_SharedByUserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwDashboardCategoryPermissions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DashboardCategoryPermission"
            (
                "ID",
                "DashboardCategoryID",
                "UserID",
                "CanRead",
                "CanEdit",
                "CanAddRemove",
                "CanShare",
                "SharedByUserID"
            )
        VALUES
            (
                p_ID,
                p_DashboardCategoryID,
                p_UserID,
                COALESCE(p_CanRead, 1),
                COALESCE(p_CanEdit, 0),
                COALESCE(p_CanAddRemove, 0),
                COALESCE(p_CanShare, 0),
                p_SharedByUserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DashboardCategoryPermission"
            (
                "DashboardCategoryID",
                "UserID",
                "CanRead",
                "CanEdit",
                "CanAddRemove",
                "CanShare",
                "SharedByUserID"
            )
        VALUES
            (
                p_DashboardCategoryID,
                p_UserID,
                COALESCE(p_CanRead, 1),
                COALESCE(p_CanEdit, 0),
                COALESCE(p_CanAddRemove, 0),
                COALESCE(p_CanShare, 0),
                p_SharedByUserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDashboardCategoryPermissions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDashboardCategoryPermission"(
    IN p_ID UUID,
    IN p_DashboardCategoryID UUID,
    IN p_UserID UUID,
    IN p_CanRead BOOLEAN,
    IN p_CanEdit BOOLEAN,
    IN p_CanAddRemove BOOLEAN,
    IN p_CanShare BOOLEAN,
    IN p_SharedByUserID UUID
)
RETURNS SETOF __mj."vwDashboardCategoryPermissions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DashboardCategoryPermission"
    SET
        "DashboardCategoryID" = p_DashboardCategoryID,
        "UserID" = p_UserID,
        "CanRead" = p_CanRead,
        "CanEdit" = p_CanEdit,
        "CanAddRemove" = p_CanAddRemove,
        "CanShare" = p_CanShare,
        "SharedByUserID" = p_SharedByUserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDashboardCategoryPermissions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDashboardCategoryPermissions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDashboardCategoryPermission"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DashboardCategoryPermission"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDashboardPermission"(
    IN p_ID UUID DEFAULT NULL,
    IN p_DashboardID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_CanRead BOOLEAN DEFAULT NULL,
    IN p_CanEdit BOOLEAN DEFAULT NULL,
    IN p_CanDelete BOOLEAN DEFAULT NULL,
    IN p_CanShare BOOLEAN DEFAULT NULL,
    IN p_SharedByUserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwDashboardPermissions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DashboardPermission"
            (
                "ID",
                "DashboardID",
                "UserID",
                "CanRead",
                "CanEdit",
                "CanDelete",
                "CanShare",
                "SharedByUserID"
            )
        VALUES
            (
                p_ID,
                p_DashboardID,
                p_UserID,
                COALESCE(p_CanRead, 1),
                COALESCE(p_CanEdit, 0),
                COALESCE(p_CanDelete, 0),
                COALESCE(p_CanShare, 0),
                p_SharedByUserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DashboardPermission"
            (
                "DashboardID",
                "UserID",
                "CanRead",
                "CanEdit",
                "CanDelete",
                "CanShare",
                "SharedByUserID"
            )
        VALUES
            (
                p_DashboardID,
                p_UserID,
                COALESCE(p_CanRead, 1),
                COALESCE(p_CanEdit, 0),
                COALESCE(p_CanDelete, 0),
                COALESCE(p_CanShare, 0),
                p_SharedByUserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDashboardPermissions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDashboardPermission"(
    IN p_ID UUID,
    IN p_DashboardID UUID,
    IN p_UserID UUID,
    IN p_CanRead BOOLEAN,
    IN p_CanEdit BOOLEAN,
    IN p_CanDelete BOOLEAN,
    IN p_CanShare BOOLEAN,
    IN p_SharedByUserID UUID
)
RETURNS SETOF __mj."vwDashboardPermissions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DashboardPermission"
    SET
        "DashboardID" = p_DashboardID,
        "UserID" = p_UserID,
        "CanRead" = p_CanRead,
        "CanEdit" = p_CanEdit,
        "CanDelete" = p_CanDelete,
        "CanShare" = p_CanShare,
        "SharedByUserID" = p_SharedByUserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDashboardPermissions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDashboardPermissions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDashboardPermission"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DashboardPermission"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDashboardUserPreference"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_DashboardID UUID DEFAULT NULL,
    IN p_Scope VARCHAR(20) DEFAULT NULL,
    IN p_ApplicationID UUID DEFAULT NULL,
    IN p_DisplayOrder INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwDashboardUserPreferences" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DashboardUserPreference"
            (
                "ID",
                "UserID",
                "DashboardID",
                "Scope",
                "ApplicationID",
                "DisplayOrder"
            )
        VALUES
            (
                p_ID,
                p_UserID,
                p_DashboardID,
                p_Scope,
                p_ApplicationID,
                p_DisplayOrder
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DashboardUserPreference"
            (
                "UserID",
                "DashboardID",
                "Scope",
                "ApplicationID",
                "DisplayOrder"
            )
        VALUES
            (
                p_UserID,
                p_DashboardID,
                p_Scope,
                p_ApplicationID,
                p_DisplayOrder
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDashboardUserPreferences" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDashboardUserPreference"(
    IN p_ID UUID,
    IN p_UserID UUID,
    IN p_DashboardID UUID,
    IN p_Scope VARCHAR(20),
    IN p_ApplicationID UUID,
    IN p_DisplayOrder INTEGER
)
RETURNS SETOF __mj."vwDashboardUserPreferences" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DashboardUserPreference"
    SET
        "UserID" = p_UserID,
        "DashboardID" = p_DashboardID,
        "Scope" = p_Scope,
        "ApplicationID" = p_ApplicationID,
        "DisplayOrder" = p_DisplayOrder
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDashboardUserPreferences" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDashboardUserPreferences" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDashboardUserPreference"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DashboardUserPreference"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDashboardUserState"(
    IN p_ID UUID DEFAULT NULL,
    IN p_DashboardID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_UserState TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwDashboardUserStates" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DashboardUserState"
            (
                "ID",
                "DashboardID",
                "UserID",
                "UserState"
            )
        VALUES
            (
                p_ID,
                p_DashboardID,
                p_UserID,
                p_UserState
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DashboardUserState"
            (
                "DashboardID",
                "UserID",
                "UserState"
            )
        VALUES
            (
                p_DashboardID,
                p_UserID,
                p_UserState
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDashboardUserStates" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDashboardUserState"(
    IN p_ID UUID,
    IN p_DashboardID UUID,
    IN p_UserID UUID,
    IN p_UserState TEXT
)
RETURNS SETOF __mj."vwDashboardUserStates" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DashboardUserState"
    SET
        "DashboardID" = p_DashboardID,
        "UserID" = p_UserID,
        "UserState" = p_UserState
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDashboardUserStates" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDashboardUserStates" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDashboardUserState"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DashboardUserState"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDashboard"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_CategoryID UUID DEFAULT NULL,
    IN p_UIConfigDetails TEXT DEFAULT NULL,
    IN p_Type VARCHAR(20) DEFAULT NULL,
    IN p_Thumbnail TEXT DEFAULT NULL,
    IN p_Scope VARCHAR(20) DEFAULT NULL,
    IN p_ApplicationID UUID DEFAULT NULL,
    IN p_DriverClass VARCHAR(255) DEFAULT NULL,
    IN p_Code VARCHAR(255) DEFAULT NULL,
    IN p_EnvironmentID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwDashboards" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Dashboard"
            (
                "ID",
                "Name",
                "Description",
                "UserID",
                "CategoryID",
                "UIConfigDetails",
                "Type",
                "Thumbnail",
                "Scope",
                "ApplicationID",
                "DriverClass",
                "Code",
                "EnvironmentID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_UserID,
                p_CategoryID,
                p_UIConfigDetails,
                COALESCE(p_Type, 'Config'),
                p_Thumbnail,
                COALESCE(p_Scope, 'Global'),
                p_ApplicationID,
                p_DriverClass,
                p_Code,
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Dashboard"
            (
                "Name",
                "Description",
                "UserID",
                "CategoryID",
                "UIConfigDetails",
                "Type",
                "Thumbnail",
                "Scope",
                "ApplicationID",
                "DriverClass",
                "Code",
                "EnvironmentID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_UserID,
                p_CategoryID,
                p_UIConfigDetails,
                COALESCE(p_Type, 'Config'),
                p_Thumbnail,
                COALESCE(p_Scope, 'Global'),
                p_ApplicationID,
                p_DriverClass,
                p_Code,
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDashboards" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDashboard"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_UserID UUID,
    IN p_CategoryID UUID,
    IN p_UIConfigDetails TEXT,
    IN p_Type VARCHAR(20),
    IN p_Thumbnail TEXT,
    IN p_Scope VARCHAR(20),
    IN p_ApplicationID UUID,
    IN p_DriverClass VARCHAR(255),
    IN p_Code VARCHAR(255),
    IN p_EnvironmentID UUID
)
RETURNS SETOF __mj."vwDashboards" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Dashboard"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "UserID" = p_UserID,
        "CategoryID" = p_CategoryID,
        "UIConfigDetails" = p_UIConfigDetails,
        "Type" = p_Type,
        "Thumbnail" = p_Thumbnail,
        "Scope" = p_Scope,
        "ApplicationID" = p_ApplicationID,
        "DriverClass" = p_DriverClass,
        "Code" = p_Code,
        "EnvironmentID" = p_EnvironmentID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDashboards" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDashboards" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDashboard"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Dashboard"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDataContextItem"(
    IN p_ID UUID DEFAULT NULL,
    IN p_DataContextID UUID DEFAULT NULL,
    IN p_Type VARCHAR(50) DEFAULT NULL,
    IN p_ViewID UUID DEFAULT NULL,
    IN p_QueryID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(450) DEFAULT NULL,
    IN p_SQL TEXT DEFAULT NULL,
    IN p_DataJSON TEXT DEFAULT NULL,
    IN p_LastRefreshedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_CodeName VARCHAR(255) DEFAULT NULL
)
RETURNS SETOF __mj."vwDataContextItems" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DataContextItem"
            (
                "ID",
                "DataContextID",
                "Type",
                "ViewID",
                "QueryID",
                "EntityID",
                "RecordID",
                "SQL",
                "DataJSON",
                "LastRefreshedAt",
                "Description",
                "CodeName"
            )
        VALUES
            (
                p_ID,
                p_DataContextID,
                p_Type,
                p_ViewID,
                p_QueryID,
                p_EntityID,
                p_RecordID,
                p_SQL,
                p_DataJSON,
                p_LastRefreshedAt,
                p_Description,
                p_CodeName
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DataContextItem"
            (
                "DataContextID",
                "Type",
                "ViewID",
                "QueryID",
                "EntityID",
                "RecordID",
                "SQL",
                "DataJSON",
                "LastRefreshedAt",
                "Description",
                "CodeName"
            )
        VALUES
            (
                p_DataContextID,
                p_Type,
                p_ViewID,
                p_QueryID,
                p_EntityID,
                p_RecordID,
                p_SQL,
                p_DataJSON,
                p_LastRefreshedAt,
                p_Description,
                p_CodeName
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDataContextItems" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDataContextItem"(
    IN p_ID UUID,
    IN p_DataContextID UUID,
    IN p_Type VARCHAR(50),
    IN p_ViewID UUID,
    IN p_QueryID UUID,
    IN p_EntityID UUID,
    IN p_RecordID VARCHAR(450),
    IN p_SQL TEXT,
    IN p_DataJSON TEXT,
    IN p_LastRefreshedAt TIMESTAMPTZ,
    IN p_Description TEXT,
    IN p_CodeName VARCHAR(255)
)
RETURNS SETOF __mj."vwDataContextItems" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DataContextItem"
    SET
        "DataContextID" = p_DataContextID,
        "Type" = p_Type,
        "ViewID" = p_ViewID,
        "QueryID" = p_QueryID,
        "EntityID" = p_EntityID,
        "RecordID" = p_RecordID,
        "SQL" = p_SQL,
        "DataJSON" = p_DataJSON,
        "LastRefreshedAt" = p_LastRefreshedAt,
        "Description" = p_Description,
        "CodeName" = p_CodeName
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDataContextItems" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDataContextItems" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDataContextItem"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DataContextItem"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDataContext"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_LastRefreshedAt TIMESTAMPTZ DEFAULT NULL
)
RETURNS SETOF __mj."vwDataContexts" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DataContext"
            (
                "ID",
                "Name",
                "Description",
                "UserID",
                "LastRefreshedAt"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_UserID,
                p_LastRefreshedAt
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DataContext"
            (
                "Name",
                "Description",
                "UserID",
                "LastRefreshedAt"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_UserID,
                p_LastRefreshedAt
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDataContexts" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDataContext"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_UserID UUID,
    IN p_LastRefreshedAt TIMESTAMPTZ
)
RETURNS SETOF __mj."vwDataContexts" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DataContext"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "UserID" = p_UserID,
        "LastRefreshedAt" = p_LastRefreshedAt
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDataContexts" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDataContexts" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDataContext"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DataContext"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDatasetItem"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Code VARCHAR(50) DEFAULT NULL,
    IN p_DatasetID UUID DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_WhereClause TEXT DEFAULT NULL,
    IN p_DateFieldToCheck VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Columns TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwDatasetItems" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DatasetItem"
            (
                "ID",
                "Code",
                "DatasetID",
                "Sequence",
                "EntityID",
                "WhereClause",
                "DateFieldToCheck",
                "Description",
                "Columns"
            )
        VALUES
            (
                p_ID,
                p_Code,
                p_DatasetID,
                COALESCE(p_Sequence, 0),
                p_EntityID,
                p_WhereClause,
                p_DateFieldToCheck,
                p_Description,
                p_Columns
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DatasetItem"
            (
                "Code",
                "DatasetID",
                "Sequence",
                "EntityID",
                "WhereClause",
                "DateFieldToCheck",
                "Description",
                "Columns"
            )
        VALUES
            (
                p_Code,
                p_DatasetID,
                COALESCE(p_Sequence, 0),
                p_EntityID,
                p_WhereClause,
                p_DateFieldToCheck,
                p_Description,
                p_Columns
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDatasetItems" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDatasetItem"(
    IN p_ID UUID,
    IN p_Code VARCHAR(50),
    IN p_DatasetID UUID,
    IN p_Sequence INTEGER,
    IN p_EntityID UUID,
    IN p_WhereClause TEXT,
    IN p_DateFieldToCheck VARCHAR(100),
    IN p_Description TEXT,
    IN p_Columns TEXT
)
RETURNS SETOF __mj."vwDatasetItems" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DatasetItem"
    SET
        "Code" = p_Code,
        "DatasetID" = p_DatasetID,
        "Sequence" = p_Sequence,
        "EntityID" = p_EntityID,
        "WhereClause" = p_WhereClause,
        "DateFieldToCheck" = p_DateFieldToCheck,
        "Description" = p_Description,
        "Columns" = p_Columns
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDatasetItems" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDatasetItems" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDatasetItem"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DatasetItem"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDuplicateRunDetail"(
    IN p_ID UUID DEFAULT NULL,
    IN p_DuplicateRunID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(500) DEFAULT NULL,
    IN p_MatchStatus VARCHAR(20) DEFAULT NULL,
    IN p_SkippedReason TEXT DEFAULT NULL,
    IN p_MatchErrorMessage TEXT DEFAULT NULL,
    IN p_MergeStatus VARCHAR(20) DEFAULT NULL,
    IN p_MergeErrorMessage TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwDuplicateRunDetails" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DuplicateRunDetail"
            (
                "ID",
                "DuplicateRunID",
                "RecordID",
                "MatchStatus",
                "SkippedReason",
                "MatchErrorMessage",
                "MergeStatus",
                "MergeErrorMessage"
            )
        VALUES
            (
                p_ID,
                p_DuplicateRunID,
                p_RecordID,
                COALESCE(p_MatchStatus, 'Pending'),
                p_SkippedReason,
                p_MatchErrorMessage,
                COALESCE(p_MergeStatus, 'Not Applicable'),
                p_MergeErrorMessage
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DuplicateRunDetail"
            (
                "DuplicateRunID",
                "RecordID",
                "MatchStatus",
                "SkippedReason",
                "MatchErrorMessage",
                "MergeStatus",
                "MergeErrorMessage"
            )
        VALUES
            (
                p_DuplicateRunID,
                p_RecordID,
                COALESCE(p_MatchStatus, 'Pending'),
                p_SkippedReason,
                p_MatchErrorMessage,
                COALESCE(p_MergeStatus, 'Not Applicable'),
                p_MergeErrorMessage
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDuplicateRunDetails" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDuplicateRunDetail"(
    IN p_ID UUID,
    IN p_DuplicateRunID UUID,
    IN p_RecordID VARCHAR(500),
    IN p_MatchStatus VARCHAR(20),
    IN p_SkippedReason TEXT,
    IN p_MatchErrorMessage TEXT,
    IN p_MergeStatus VARCHAR(20),
    IN p_MergeErrorMessage TEXT
)
RETURNS SETOF __mj."vwDuplicateRunDetails" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DuplicateRunDetail"
    SET
        "DuplicateRunID" = p_DuplicateRunID,
        "RecordID" = p_RecordID,
        "MatchStatus" = p_MatchStatus,
        "SkippedReason" = p_SkippedReason,
        "MatchErrorMessage" = p_MatchErrorMessage,
        "MergeStatus" = p_MergeStatus,
        "MergeErrorMessage" = p_MergeErrorMessage
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDuplicateRunDetails" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDuplicateRunDetails" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDuplicateRunDetail"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DuplicateRunDetail"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDuplicateRunDetailMatch"(
    IN p_ID UUID DEFAULT NULL,
    IN p_DuplicateRunDetailID UUID DEFAULT NULL,
    IN p_MatchSource VARCHAR(20) DEFAULT NULL,
    IN p_MatchRecordID VARCHAR(500) DEFAULT NULL,
    IN p_MatchProbability NUMERIC(12,11) DEFAULT NULL,
    IN p_MatchedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Action VARCHAR(20) DEFAULT NULL,
    IN p_ApprovalStatus VARCHAR(20) DEFAULT NULL,
    IN p_RecordMergeLogID UUID DEFAULT NULL,
    IN p_MergeStatus VARCHAR(20) DEFAULT NULL,
    IN p_MergedAt TIMESTAMPTZ DEFAULT NULL
)
RETURNS SETOF __mj."vwDuplicateRunDetailMatches" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DuplicateRunDetailMatch"
            (
                "ID",
                "DuplicateRunDetailID",
                "MatchSource",
                "MatchRecordID",
                "MatchProbability",
                "MatchedAt",
                "Action",
                "ApprovalStatus",
                "RecordMergeLogID",
                "MergeStatus",
                "MergedAt"
            )
        VALUES
            (
                p_ID,
                p_DuplicateRunDetailID,
                COALESCE(p_MatchSource, 'Vector'),
                p_MatchRecordID,
                COALESCE(p_MatchProbability, 0),
                COALESCE(p_MatchedAt, NOW()),
                COALESCE(p_Action, 'Ignore'),
                COALESCE(p_ApprovalStatus, 'Pending'),
                p_RecordMergeLogID,
                COALESCE(p_MergeStatus, 'Pending'),
                COALESCE(p_MergedAt, NOW())
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DuplicateRunDetailMatch"
            (
                "DuplicateRunDetailID",
                "MatchSource",
                "MatchRecordID",
                "MatchProbability",
                "MatchedAt",
                "Action",
                "ApprovalStatus",
                "RecordMergeLogID",
                "MergeStatus",
                "MergedAt"
            )
        VALUES
            (
                p_DuplicateRunDetailID,
                COALESCE(p_MatchSource, 'Vector'),
                p_MatchRecordID,
                COALESCE(p_MatchProbability, 0),
                COALESCE(p_MatchedAt, NOW()),
                COALESCE(p_Action, 'Ignore'),
                COALESCE(p_ApprovalStatus, 'Pending'),
                p_RecordMergeLogID,
                COALESCE(p_MergeStatus, 'Pending'),
                COALESCE(p_MergedAt, NOW())
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDuplicateRunDetailMatches" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDuplicateRunDetailMatch"(
    IN p_ID UUID,
    IN p_DuplicateRunDetailID UUID,
    IN p_MatchSource VARCHAR(20),
    IN p_MatchRecordID VARCHAR(500),
    IN p_MatchProbability NUMERIC(12,11),
    IN p_MatchedAt TIMESTAMPTZ,
    IN p_Action VARCHAR(20),
    IN p_ApprovalStatus VARCHAR(20),
    IN p_RecordMergeLogID UUID,
    IN p_MergeStatus VARCHAR(20),
    IN p_MergedAt TIMESTAMPTZ
)
RETURNS SETOF __mj."vwDuplicateRunDetailMatches" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DuplicateRunDetailMatch"
    SET
        "DuplicateRunDetailID" = p_DuplicateRunDetailID,
        "MatchSource" = p_MatchSource,
        "MatchRecordID" = p_MatchRecordID,
        "MatchProbability" = p_MatchProbability,
        "MatchedAt" = p_MatchedAt,
        "Action" = p_Action,
        "ApprovalStatus" = p_ApprovalStatus,
        "RecordMergeLogID" = p_RecordMergeLogID,
        "MergeStatus" = p_MergeStatus,
        "MergedAt" = p_MergedAt
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDuplicateRunDetailMatches" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDuplicateRunDetailMatches" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDuplicateRunDetailMatch"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DuplicateRunDetailMatch"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateDuplicateRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_StartedByUserID UUID DEFAULT NULL,
    IN p_SourceListID UUID DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_ApprovalStatus VARCHAR(20) DEFAULT NULL,
    IN p_ApprovalComments TEXT DEFAULT NULL,
    IN p_ApprovedByUserID UUID DEFAULT NULL,
    IN p_ProcessingStatus VARCHAR(20) DEFAULT NULL,
    IN p_ProcessingErrorMessage TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwDuplicateRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."DuplicateRun"
            (
                "ID",
                "EntityID",
                "StartedByUserID",
                "SourceListID",
                "StartedAt",
                "EndedAt",
                "ApprovalStatus",
                "ApprovalComments",
                "ApprovedByUserID",
                "ProcessingStatus",
                "ProcessingErrorMessage"
            )
        VALUES
            (
                p_ID,
                p_EntityID,
                p_StartedByUserID,
                p_SourceListID,
                COALESCE(p_StartedAt, NOW()),
                p_EndedAt,
                COALESCE(p_ApprovalStatus, 'Pending'),
                p_ApprovalComments,
                p_ApprovedByUserID,
                COALESCE(p_ProcessingStatus, 'Pending'),
                p_ProcessingErrorMessage
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."DuplicateRun"
            (
                "EntityID",
                "StartedByUserID",
                "SourceListID",
                "StartedAt",
                "EndedAt",
                "ApprovalStatus",
                "ApprovalComments",
                "ApprovedByUserID",
                "ProcessingStatus",
                "ProcessingErrorMessage"
            )
        VALUES
            (
                p_EntityID,
                p_StartedByUserID,
                p_SourceListID,
                COALESCE(p_StartedAt, NOW()),
                p_EndedAt,
                COALESCE(p_ApprovalStatus, 'Pending'),
                p_ApprovalComments,
                p_ApprovedByUserID,
                COALESCE(p_ProcessingStatus, 'Pending'),
                p_ProcessingErrorMessage
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwDuplicateRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateDuplicateRun"(
    IN p_ID UUID,
    IN p_EntityID UUID,
    IN p_StartedByUserID UUID,
    IN p_SourceListID UUID,
    IN p_StartedAt TIMESTAMPTZ,
    IN p_EndedAt TIMESTAMPTZ,
    IN p_ApprovalStatus VARCHAR(20),
    IN p_ApprovalComments TEXT,
    IN p_ApprovedByUserID UUID,
    IN p_ProcessingStatus VARCHAR(20),
    IN p_ProcessingErrorMessage TEXT
)
RETURNS SETOF __mj."vwDuplicateRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."DuplicateRun"
    SET
        "EntityID" = p_EntityID,
        "StartedByUserID" = p_StartedByUserID,
        "SourceListID" = p_SourceListID,
        "StartedAt" = p_StartedAt,
        "EndedAt" = p_EndedAt,
        "ApprovalStatus" = p_ApprovalStatus,
        "ApprovalComments" = p_ApprovalComments,
        "ApprovedByUserID" = p_ApprovedByUserID,
        "ProcessingStatus" = p_ProcessingStatus,
        "ProcessingErrorMessage" = p_ProcessingErrorMessage
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwDuplicateRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwDuplicateRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteDuplicateRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."DuplicateRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEmployeeCompanyIntegration"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EmployeeID UUID DEFAULT NULL,
    IN p_CompanyIntegrationID UUID DEFAULT NULL,
    IN p_ExternalSystemRecordID VARCHAR(750) DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwEmployeeCompanyIntegrations" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EmployeeCompanyIntegration"
            (
                "ID",
                "EmployeeID",
                "CompanyIntegrationID",
                "ExternalSystemRecordID",
                "IsActive"
            )
        VALUES
            (
                p_ID,
                p_EmployeeID,
                p_CompanyIntegrationID,
                p_ExternalSystemRecordID,
                COALESCE(p_IsActive, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EmployeeCompanyIntegration"
            (
                "EmployeeID",
                "CompanyIntegrationID",
                "ExternalSystemRecordID",
                "IsActive"
            )
        VALUES
            (
                p_EmployeeID,
                p_CompanyIntegrationID,
                p_ExternalSystemRecordID,
                COALESCE(p_IsActive, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEmployeeCompanyIntegrations" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEmployeeCompanyIntegration"(
    IN p_ID UUID,
    IN p_EmployeeID UUID,
    IN p_CompanyIntegrationID UUID,
    IN p_ExternalSystemRecordID VARCHAR(750),
    IN p_IsActive BOOLEAN
)
RETURNS SETOF __mj."vwEmployeeCompanyIntegrations" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EmployeeCompanyIntegration"
    SET
        "EmployeeID" = p_EmployeeID,
        "CompanyIntegrationID" = p_CompanyIntegrationID,
        "ExternalSystemRecordID" = p_ExternalSystemRecordID,
        "IsActive" = p_IsActive
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEmployeeCompanyIntegrations" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEmployeeCompanyIntegrations" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEmployeeCompanyIntegration"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EmployeeCompanyIntegration"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEmployeeRole"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EmployeeID UUID DEFAULT NULL,
    IN p_RoleID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwEmployeeRoles" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EmployeeRole"
            (
                "ID",
                "EmployeeID",
                "RoleID"
            )
        VALUES
            (
                p_ID,
                p_EmployeeID,
                p_RoleID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EmployeeRole"
            (
                "EmployeeID",
                "RoleID"
            )
        VALUES
            (
                p_EmployeeID,
                p_RoleID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEmployeeRoles" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEmployeeRole"(
    IN p_ID UUID,
    IN p_EmployeeID UUID,
    IN p_RoleID UUID
)
RETURNS SETOF __mj."vwEmployeeRoles" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EmployeeRole"
    SET
        "EmployeeID" = p_EmployeeID,
        "RoleID" = p_RoleID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEmployeeRoles" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEmployeeRoles" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEmployeeRole"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EmployeeRole"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEmployeeSkill"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EmployeeID UUID DEFAULT NULL,
    IN p_SkillID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwEmployeeSkills" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EmployeeSkill"
            (
                "ID",
                "EmployeeID",
                "SkillID"
            )
        VALUES
            (
                p_ID,
                p_EmployeeID,
                p_SkillID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EmployeeSkill"
            (
                "EmployeeID",
                "SkillID"
            )
        VALUES
            (
                p_EmployeeID,
                p_SkillID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEmployeeSkills" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEmployeeSkill"(
    IN p_ID UUID,
    IN p_EmployeeID UUID,
    IN p_SkillID UUID
)
RETURNS SETOF __mj."vwEmployeeSkills" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EmployeeSkill"
    SET
        "EmployeeID" = p_EmployeeID,
        "SkillID" = p_SkillID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEmployeeSkills" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEmployeeSkills" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEmployeeSkill"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EmployeeSkill"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEncryptionKey"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_EncryptionKeySourceID UUID DEFAULT NULL,
    IN p_EncryptionAlgorithmID UUID DEFAULT NULL,
    IN p_KeyLookupValue VARCHAR(500) DEFAULT NULL,
    IN p_KeyVersion VARCHAR(20) DEFAULT NULL,
    IN p_Marker VARCHAR(20) DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_ActivatedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_ExpiresAt TIMESTAMPTZ DEFAULT NULL
)
RETURNS SETOF __mj."vwEncryptionKeys" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EncryptionKey"
            (
                "ID",
                "Name",
                "Description",
                "EncryptionKeySourceID",
                "EncryptionAlgorithmID",
                "KeyLookupValue",
                "KeyVersion",
                "Marker",
                "IsActive",
                "Status",
                "ActivatedAt",
                "ExpiresAt"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_EncryptionKeySourceID,
                p_EncryptionAlgorithmID,
                p_KeyLookupValue,
                COALESCE(p_KeyVersion, '1'),
                COALESCE(p_Marker, '$ENC$'),
                COALESCE(p_IsActive, 1),
                COALESCE(p_Status, 'Active'),
                p_ActivatedAt,
                p_ExpiresAt
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EncryptionKey"
            (
                "Name",
                "Description",
                "EncryptionKeySourceID",
                "EncryptionAlgorithmID",
                "KeyLookupValue",
                "KeyVersion",
                "Marker",
                "IsActive",
                "Status",
                "ActivatedAt",
                "ExpiresAt"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_EncryptionKeySourceID,
                p_EncryptionAlgorithmID,
                p_KeyLookupValue,
                COALESCE(p_KeyVersion, '1'),
                COALESCE(p_Marker, '$ENC$'),
                COALESCE(p_IsActive, 1),
                COALESCE(p_Status, 'Active'),
                p_ActivatedAt,
                p_ExpiresAt
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEncryptionKeys" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEncryptionKey"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_EncryptionKeySourceID UUID,
    IN p_EncryptionAlgorithmID UUID,
    IN p_KeyLookupValue VARCHAR(500),
    IN p_KeyVersion VARCHAR(20),
    IN p_Marker VARCHAR(20),
    IN p_IsActive BOOLEAN,
    IN p_Status VARCHAR(20),
    IN p_ActivatedAt TIMESTAMPTZ,
    IN p_ExpiresAt TIMESTAMPTZ
)
RETURNS SETOF __mj."vwEncryptionKeys" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EncryptionKey"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "EncryptionKeySourceID" = p_EncryptionKeySourceID,
        "EncryptionAlgorithmID" = p_EncryptionAlgorithmID,
        "KeyLookupValue" = p_KeyLookupValue,
        "KeyVersion" = p_KeyVersion,
        "Marker" = p_Marker,
        "IsActive" = p_IsActive,
        "Status" = p_Status,
        "ActivatedAt" = p_ActivatedAt,
        "ExpiresAt" = p_ExpiresAt
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEncryptionKeys" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEncryptionKeys" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEncryptionKey"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EncryptionKey"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

-- SKIPPED: Procedure references non-existent view vwEntities

-- SKIPPED: Procedure references non-existent view vwEntities

CREATE OR REPLACE FUNCTION __mj."spDeleteEntity"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Entity"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityActionInvocation"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityActionID UUID DEFAULT NULL,
    IN p_InvocationTypeID UUID DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityActionInvocations" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityActionInvocation"
            (
                "ID",
                "EntityActionID",
                "InvocationTypeID",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_EntityActionID,
                p_InvocationTypeID,
                COALESCE(p_Status, 'Pending')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityActionInvocation"
            (
                "EntityActionID",
                "InvocationTypeID",
                "Status"
            )
        VALUES
            (
                p_EntityActionID,
                p_InvocationTypeID,
                COALESCE(p_Status, 'Pending')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityActionInvocations" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityActionInvocation"(
    IN p_ID UUID,
    IN p_EntityActionID UUID,
    IN p_InvocationTypeID UUID,
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwEntityActionInvocations" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityActionInvocation"
    SET
        "EntityActionID" = p_EntityActionID,
        "InvocationTypeID" = p_InvocationTypeID,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityActionInvocations" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityActionInvocations" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityActionInvocation"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityActionInvocation"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityActionFilter"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityActionID UUID DEFAULT NULL,
    IN p_ActionFilterID UUID DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityActionFilters" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityActionFilter"
            (
                "ID",
                "EntityActionID",
                "ActionFilterID",
                "Sequence",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_EntityActionID,
                p_ActionFilterID,
                p_Sequence,
                COALESCE(p_Status, 'Pending')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityActionFilter"
            (
                "EntityActionID",
                "ActionFilterID",
                "Sequence",
                "Status"
            )
        VALUES
            (
                p_EntityActionID,
                p_ActionFilterID,
                p_Sequence,
                COALESCE(p_Status, 'Pending')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityActionFilters" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityActionFilter"(
    IN p_ID UUID,
    IN p_EntityActionID UUID,
    IN p_ActionFilterID UUID,
    IN p_Sequence INTEGER,
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwEntityActionFilters" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityActionFilter"
    SET
        "EntityActionID" = p_EntityActionID,
        "ActionFilterID" = p_ActionFilterID,
        "Sequence" = p_Sequence,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityActionFilters" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityActionFilters" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityActionFilter"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityActionFilter"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityActionParam"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityActionID UUID DEFAULT NULL,
    IN p_ActionParamID UUID DEFAULT NULL,
    IN p_ValueType VARCHAR(20) DEFAULT NULL,
    IN p_Value TEXT DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityActionParams" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityActionParam"
            (
                "ID",
                "EntityActionID",
                "ActionParamID",
                "ValueType",
                "Value",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_EntityActionID,
                p_ActionParamID,
                p_ValueType,
                p_Value,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityActionParam"
            (
                "EntityActionID",
                "ActionParamID",
                "ValueType",
                "Value",
                "Comments"
            )
        VALUES
            (
                p_EntityActionID,
                p_ActionParamID,
                p_ValueType,
                p_Value,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityActionParams" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityActionParam"(
    IN p_ID UUID,
    IN p_EntityActionID UUID,
    IN p_ActionParamID UUID,
    IN p_ValueType VARCHAR(20),
    IN p_Value TEXT,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwEntityActionParams" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityActionParam"
    SET
        "EntityActionID" = p_EntityActionID,
        "ActionParamID" = p_ActionParamID,
        "ValueType" = p_ValueType,
        "Value" = p_Value,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityActionParams" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityActionParams" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityActionParam"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityActionParam"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityCommunicationField"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityCommunicationMessageTypeID UUID DEFAULT NULL,
    IN p_FieldName VARCHAR(500) DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityCommunicationFields" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityCommunicationField"
            (
                "ID",
                "EntityCommunicationMessageTypeID",
                "FieldName",
                "Priority"
            )
        VALUES
            (
                p_ID,
                p_EntityCommunicationMessageTypeID,
                p_FieldName,
                p_Priority
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityCommunicationField"
            (
                "EntityCommunicationMessageTypeID",
                "FieldName",
                "Priority"
            )
        VALUES
            (
                p_EntityCommunicationMessageTypeID,
                p_FieldName,
                p_Priority
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityCommunicationFields" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityCommunicationField"(
    IN p_ID UUID,
    IN p_EntityCommunicationMessageTypeID UUID,
    IN p_FieldName VARCHAR(500),
    IN p_Priority INTEGER
)
RETURNS SETOF __mj."vwEntityCommunicationFields" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityCommunicationField"
    SET
        "EntityCommunicationMessageTypeID" = p_EntityCommunicationMessageTypeID,
        "FieldName" = p_FieldName,
        "Priority" = p_Priority
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityCommunicationFields" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityCommunicationFields" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityCommunicationField"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityCommunicationField"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityAction"(
    IN p_EntityID UUID,
    IN p_ActionID UUID,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_ID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityActions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityAction"
            (
                "ID",
                "EntityID",
                "ActionID",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_EntityID,
                p_ActionID,
                COALESCE(p_Status, 'Pending')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityAction"
            (
                "EntityID",
                "ActionID",
                "Status"
            )
        VALUES
            (
                p_EntityID,
                p_ActionID,
                COALESCE(p_Status, 'Pending')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityActions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityAction"(
    IN p_EntityID UUID,
    IN p_ActionID UUID,
    IN p_Status VARCHAR(20),
    IN p_ID UUID
)
RETURNS SETOF __mj."vwEntityActions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityAction"
    SET
        "EntityID" = p_EntityID,
        "ActionID" = p_ActionID,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityActions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityActions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityAction"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityAction"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityAIAction"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_AIModelID UUID DEFAULT NULL,
    IN p_AIActionID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Prompt TEXT DEFAULT NULL,
    IN p_TriggerEvent CHAR(15) DEFAULT NULL,
    IN p_UserMessage TEXT DEFAULT NULL,
    IN p_OutputType CHAR(10) DEFAULT NULL,
    IN p_OutputField VARCHAR(50) DEFAULT NULL,
    IN p_SkipIfOutputFieldNotEmpty BOOLEAN DEFAULT NULL,
    IN p_OutputEntityID UUID DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityAIActions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityAIAction"
            (
                "ID",
                "EntityID",
                "AIModelID",
                "AIActionID",
                "Name",
                "Prompt",
                "TriggerEvent",
                "UserMessage",
                "OutputType",
                "OutputField",
                "SkipIfOutputFieldNotEmpty",
                "OutputEntityID",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_EntityID,
                p_AIModelID,
                p_AIActionID,
                p_Name,
                p_Prompt,
                COALESCE(p_TriggerEvent, 'After Save'),
                p_UserMessage,
                COALESCE(p_OutputType, 'FIeld'),
                p_OutputField,
                COALESCE(p_SkipIfOutputFieldNotEmpty, 1),
                p_OutputEntityID,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityAIAction"
            (
                "EntityID",
                "AIModelID",
                "AIActionID",
                "Name",
                "Prompt",
                "TriggerEvent",
                "UserMessage",
                "OutputType",
                "OutputField",
                "SkipIfOutputFieldNotEmpty",
                "OutputEntityID",
                "Comments"
            )
        VALUES
            (
                p_EntityID,
                p_AIModelID,
                p_AIActionID,
                p_Name,
                p_Prompt,
                COALESCE(p_TriggerEvent, 'After Save'),
                p_UserMessage,
                COALESCE(p_OutputType, 'FIeld'),
                p_OutputField,
                COALESCE(p_SkipIfOutputFieldNotEmpty, 1),
                p_OutputEntityID,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityAIActions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityAIAction"(
    IN p_ID UUID,
    IN p_EntityID UUID,
    IN p_AIModelID UUID,
    IN p_AIActionID UUID,
    IN p_Name VARCHAR(255),
    IN p_Prompt TEXT,
    IN p_TriggerEvent CHAR(15),
    IN p_UserMessage TEXT,
    IN p_OutputType CHAR(10),
    IN p_OutputField VARCHAR(50),
    IN p_SkipIfOutputFieldNotEmpty BOOLEAN,
    IN p_OutputEntityID UUID,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwEntityAIActions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityAIAction"
    SET
        "EntityID" = p_EntityID,
        "AIModelID" = p_AIModelID,
        "AIActionID" = p_AIActionID,
        "Name" = p_Name,
        "Prompt" = p_Prompt,
        "TriggerEvent" = p_TriggerEvent,
        "UserMessage" = p_UserMessage,
        "OutputType" = p_OutputType,
        "OutputField" = p_OutputField,
        "SkipIfOutputFieldNotEmpty" = p_SkipIfOutputFieldNotEmpty,
        "OutputEntityID" = p_OutputEntityID,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityAIActions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityAIActions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityAIAction"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityAIAction"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityCommunicationMessageType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_BaseMessageTypeID UUID DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityCommunicationMessageTypes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityCommunicationMessageType"
            (
                "ID",
                "EntityID",
                "BaseMessageTypeID",
                "IsActive"
            )
        VALUES
            (
                p_ID,
                p_EntityID,
                p_BaseMessageTypeID,
                COALESCE(p_IsActive, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityCommunicationMessageType"
            (
                "EntityID",
                "BaseMessageTypeID",
                "IsActive"
            )
        VALUES
            (
                p_EntityID,
                p_BaseMessageTypeID,
                COALESCE(p_IsActive, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityCommunicationMessageTypes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityCommunicationMessageType"(
    IN p_ID UUID,
    IN p_EntityID UUID,
    IN p_BaseMessageTypeID UUID,
    IN p_IsActive BOOLEAN
)
RETURNS SETOF __mj."vwEntityCommunicationMessageTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityCommunicationMessageType"
    SET
        "EntityID" = p_EntityID,
        "BaseMessageTypeID" = p_BaseMessageTypeID,
        "IsActive" = p_IsActive
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityCommunicationMessageTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityCommunicationMessageTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityCommunicationMessageType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityCommunicationMessageType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityDocumentRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityDocumentID UUID DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Status VARCHAR(15) DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityDocumentRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityDocumentRun"
            (
                "ID",
                "EntityDocumentID",
                "StartedAt",
                "EndedAt",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_EntityDocumentID,
                p_StartedAt,
                p_EndedAt,
                COALESCE(p_Status, 'Pending')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityDocumentRun"
            (
                "EntityDocumentID",
                "StartedAt",
                "EndedAt",
                "Status"
            )
        VALUES
            (
                p_EntityDocumentID,
                p_StartedAt,
                p_EndedAt,
                COALESCE(p_Status, 'Pending')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityDocumentRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityDocumentRun"(
    IN p_ID UUID,
    IN p_EntityDocumentID UUID,
    IN p_StartedAt TIMESTAMPTZ,
    IN p_EndedAt TIMESTAMPTZ,
    IN p_Status VARCHAR(15)
)
RETURNS SETOF __mj."vwEntityDocumentRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityDocumentRun"
    SET
        "EntityDocumentID" = p_EntityDocumentID,
        "StartedAt" = p_StartedAt,
        "EndedAt" = p_EndedAt,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityDocumentRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityDocumentRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityDocumentRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityDocumentRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityDocumentSetting"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityDocumentID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Value TEXT DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityDocumentSettings" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityDocumentSetting"
            (
                "ID",
                "EntityDocumentID",
                "Name",
                "Value",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_EntityDocumentID,
                p_Name,
                p_Value,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityDocumentSetting"
            (
                "EntityDocumentID",
                "Name",
                "Value",
                "Comments"
            )
        VALUES
            (
                p_EntityDocumentID,
                p_Name,
                p_Value,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityDocumentSettings" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityDocumentSetting"(
    IN p_ID UUID,
    IN p_EntityDocumentID UUID,
    IN p_Name VARCHAR(100),
    IN p_Value TEXT,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwEntityDocumentSettings" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityDocumentSetting"
    SET
        "EntityDocumentID" = p_EntityDocumentID,
        "Name" = p_Name,
        "Value" = p_Value,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityDocumentSettings" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityDocumentSettings" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityDocumentSetting"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityDocumentSetting"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityDocument"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(250) DEFAULT NULL,
    IN p_TypeID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_VectorDatabaseID UUID DEFAULT NULL,
    IN p_Status VARCHAR(15) DEFAULT NULL,
    IN p_TemplateID UUID DEFAULT NULL,
    IN p_AIModelID UUID DEFAULT NULL,
    IN p_PotentialMatchThreshold NUMERIC(12,11) DEFAULT NULL,
    IN p_AbsoluteMatchThreshold NUMERIC(12,11) DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityDocuments" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityDocument"
            (
                "ID",
                "Name",
                "TypeID",
                "EntityID",
                "VectorDatabaseID",
                "Status",
                "TemplateID",
                "AIModelID",
                "PotentialMatchThreshold",
                "AbsoluteMatchThreshold"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_TypeID,
                p_EntityID,
                p_VectorDatabaseID,
                COALESCE(p_Status, 'Active'),
                p_TemplateID,
                p_AIModelID,
                COALESCE(p_PotentialMatchThreshold, 1),
                COALESCE(p_AbsoluteMatchThreshold, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityDocument"
            (
                "Name",
                "TypeID",
                "EntityID",
                "VectorDatabaseID",
                "Status",
                "TemplateID",
                "AIModelID",
                "PotentialMatchThreshold",
                "AbsoluteMatchThreshold"
            )
        VALUES
            (
                p_Name,
                p_TypeID,
                p_EntityID,
                p_VectorDatabaseID,
                COALESCE(p_Status, 'Active'),
                p_TemplateID,
                p_AIModelID,
                COALESCE(p_PotentialMatchThreshold, 1),
                COALESCE(p_AbsoluteMatchThreshold, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityDocuments" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityDocument"(
    IN p_ID UUID,
    IN p_Name VARCHAR(250),
    IN p_TypeID UUID,
    IN p_EntityID UUID,
    IN p_VectorDatabaseID UUID,
    IN p_Status VARCHAR(15),
    IN p_TemplateID UUID,
    IN p_AIModelID UUID,
    IN p_PotentialMatchThreshold NUMERIC(12,11),
    IN p_AbsoluteMatchThreshold NUMERIC(12,11)
)
RETURNS SETOF __mj."vwEntityDocuments" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityDocument"
    SET
        "Name" = p_Name,
        "TypeID" = p_TypeID,
        "EntityID" = p_EntityID,
        "VectorDatabaseID" = p_VectorDatabaseID,
        "Status" = p_Status,
        "TemplateID" = p_TemplateID,
        "AIModelID" = p_AIModelID,
        "PotentialMatchThreshold" = p_PotentialMatchThreshold,
        "AbsoluteMatchThreshold" = p_AbsoluteMatchThreshold
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityDocuments" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityDocuments" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityDocument"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityDocument"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntityRecordDocument"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(450) DEFAULT NULL,
    IN p_EntityDocumentID UUID DEFAULT NULL,
    IN p_DocumentText TEXT DEFAULT NULL,
    IN p_VectorIndexID UUID DEFAULT NULL,
    IN p_VectorID VARCHAR(50) DEFAULT NULL,
    IN p_VectorJSON TEXT DEFAULT NULL,
    IN p_EntityRecordUpdatedAt TIMESTAMPTZ DEFAULT NULL
)
RETURNS SETOF __mj."vwEntityRecordDocuments" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntityRecordDocument"
            (
                "ID",
                "EntityID",
                "RecordID",
                "EntityDocumentID",
                "DocumentText",
                "VectorIndexID",
                "VectorID",
                "VectorJSON",
                "EntityRecordUpdatedAt"
            )
        VALUES
            (
                p_ID,
                p_EntityID,
                p_RecordID,
                p_EntityDocumentID,
                p_DocumentText,
                p_VectorIndexID,
                p_VectorID,
                p_VectorJSON,
                p_EntityRecordUpdatedAt
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntityRecordDocument"
            (
                "EntityID",
                "RecordID",
                "EntityDocumentID",
                "DocumentText",
                "VectorIndexID",
                "VectorID",
                "VectorJSON",
                "EntityRecordUpdatedAt"
            )
        VALUES
            (
                p_EntityID,
                p_RecordID,
                p_EntityDocumentID,
                p_DocumentText,
                p_VectorIndexID,
                p_VectorID,
                p_VectorJSON,
                p_EntityRecordUpdatedAt
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntityRecordDocuments" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntityRecordDocument"(
    IN p_ID UUID,
    IN p_EntityID UUID,
    IN p_RecordID VARCHAR(450),
    IN p_EntityDocumentID UUID,
    IN p_DocumentText TEXT,
    IN p_VectorIndexID UUID,
    IN p_VectorID VARCHAR(50),
    IN p_VectorJSON TEXT,
    IN p_EntityRecordUpdatedAt TIMESTAMPTZ
)
RETURNS SETOF __mj."vwEntityRecordDocuments" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntityRecordDocument"
    SET
        "EntityID" = p_EntityID,
        "RecordID" = p_RecordID,
        "EntityDocumentID" = p_EntityDocumentID,
        "DocumentText" = p_DocumentText,
        "VectorIndexID" = p_VectorIndexID,
        "VectorID" = p_VectorID,
        "VectorJSON" = p_VectorJSON,
        "EntityRecordUpdatedAt" = p_EntityRecordUpdatedAt
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntityRecordDocuments" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntityRecordDocuments" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntityRecordDocument"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntityRecordDocument"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateEntitySetting"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Value TEXT DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwEntitySettings" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."EntitySetting"
            (
                "ID",
                "EntityID",
                "Name",
                "Value",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_EntityID,
                p_Name,
                p_Value,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."EntitySetting"
            (
                "EntityID",
                "Name",
                "Value",
                "Comments"
            )
        VALUES
            (
                p_EntityID,
                p_Name,
                p_Value,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwEntitySettings" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateEntitySetting"(
    IN p_ID UUID,
    IN p_EntityID UUID,
    IN p_Name VARCHAR(100),
    IN p_Value TEXT,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwEntitySettings" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."EntitySetting"
    SET
        "EntityID" = p_EntityID,
        "Name" = p_Name,
        "Value" = p_Value,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwEntitySettings" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwEntitySettings" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteEntitySetting"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."EntitySetting"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateFileCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwFileCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."FileCategory"
            (
                "ID",
                "Name",
                "ParentID",
                "Description"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_ParentID,
                p_Description
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."FileCategory"
            (
                "Name",
                "ParentID",
                "Description"
            )
        VALUES
            (
                p_Name,
                p_ParentID,
                p_Description
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwFileCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateFileCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_ParentID UUID,
    IN p_Description TEXT
)
RETURNS SETOF __mj."vwFileCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."FileCategory"
    SET
        "Name" = p_Name,
        "ParentID" = p_ParentID,
        "Description" = p_Description
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwFileCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwFileCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteFileCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."FileCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateErrorLog"(
    IN p_ID UUID DEFAULT NULL,
    IN p_CompanyIntegrationRunID UUID DEFAULT NULL,
    IN p_CompanyIntegrationRunDetailID UUID DEFAULT NULL,
    IN p_Code CHAR(20) DEFAULT NULL,
    IN p_Message TEXT DEFAULT NULL,
    IN p_CreatedBy VARCHAR(50) DEFAULT NULL,
    IN p_Status VARCHAR(10) DEFAULT NULL,
    IN p_Category VARCHAR(20) DEFAULT NULL,
    IN p_Details TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwErrorLogs" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ErrorLog"
            (
                "ID",
                "CompanyIntegrationRunID",
                "CompanyIntegrationRunDetailID",
                "Code",
                "Message",
                "CreatedBy",
                "Status",
                "Category",
                "Details"
            )
        VALUES
            (
                p_ID,
                p_CompanyIntegrationRunID,
                p_CompanyIntegrationRunDetailID,
                p_Code,
                p_Message,
                p_CreatedBy,
                p_Status,
                p_Category,
                p_Details
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ErrorLog"
            (
                "CompanyIntegrationRunID",
                "CompanyIntegrationRunDetailID",
                "Code",
                "Message",
                "CreatedBy",
                "Status",
                "Category",
                "Details"
            )
        VALUES
            (
                p_CompanyIntegrationRunID,
                p_CompanyIntegrationRunDetailID,
                p_Code,
                p_Message,
                p_CreatedBy,
                p_Status,
                p_Category,
                p_Details
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwErrorLogs" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateErrorLog"(
    IN p_ID UUID,
    IN p_CompanyIntegrationRunID UUID,
    IN p_CompanyIntegrationRunDetailID UUID,
    IN p_Code CHAR(20),
    IN p_Message TEXT,
    IN p_CreatedBy VARCHAR(50),
    IN p_Status VARCHAR(10),
    IN p_Category VARCHAR(20),
    IN p_Details TEXT
)
RETURNS SETOF __mj."vwErrorLogs" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ErrorLog"
    SET
        "CompanyIntegrationRunID" = p_CompanyIntegrationRunID,
        "CompanyIntegrationRunDetailID" = p_CompanyIntegrationRunDetailID,
        "Code" = p_Code,
        "Message" = p_Message,
        "CreatedBy" = p_CreatedBy,
        "Status" = p_Status,
        "Category" = p_Category,
        "Details" = p_Details
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwErrorLogs" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwErrorLogs" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteErrorLog"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ErrorLog"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateFileEntityRecordLink"(
    IN p_ID UUID DEFAULT NULL,
    IN p_FileID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(750) DEFAULT NULL
)
RETURNS SETOF __mj."vwFileEntityRecordLinks" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."FileEntityRecordLink"
            (
                "ID",
                "FileID",
                "EntityID",
                "RecordID"
            )
        VALUES
            (
                p_ID,
                p_FileID,
                p_EntityID,
                p_RecordID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."FileEntityRecordLink"
            (
                "FileID",
                "EntityID",
                "RecordID"
            )
        VALUES
            (
                p_FileID,
                p_EntityID,
                p_RecordID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwFileEntityRecordLinks" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateFileEntityRecordLink"(
    IN p_ID UUID,
    IN p_FileID UUID,
    IN p_EntityID UUID,
    IN p_RecordID VARCHAR(750)
)
RETURNS SETOF __mj."vwFileEntityRecordLinks" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."FileEntityRecordLink"
    SET
        "FileID" = p_FileID,
        "EntityID" = p_EntityID,
        "RecordID" = p_RecordID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwFileEntityRecordLinks" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwFileEntityRecordLinks" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteFileEntityRecordLink"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."FileEntityRecordLink"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateFile"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(500) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_CategoryID UUID DEFAULT NULL,
    IN p_ProviderID UUID DEFAULT NULL,
    IN p_ContentType VARCHAR(255) DEFAULT NULL,
    IN p_ProviderKey VARCHAR(500) DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwFiles" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."File"
            (
                "ID",
                "Name",
                "Description",
                "CategoryID",
                "ProviderID",
                "ContentType",
                "ProviderKey",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_CategoryID,
                p_ProviderID,
                p_ContentType,
                p_ProviderKey,
                COALESCE(p_Status, 'Pending')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."File"
            (
                "Name",
                "Description",
                "CategoryID",
                "ProviderID",
                "ContentType",
                "ProviderKey",
                "Status"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_CategoryID,
                p_ProviderID,
                p_ContentType,
                p_ProviderKey,
                COALESCE(p_Status, 'Pending')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwFiles" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateFile"(
    IN p_ID UUID,
    IN p_Name VARCHAR(500),
    IN p_Description TEXT,
    IN p_CategoryID UUID,
    IN p_ProviderID UUID,
    IN p_ContentType VARCHAR(255),
    IN p_ProviderKey VARCHAR(500),
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwFiles" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."File"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "CategoryID" = p_CategoryID,
        "ProviderID" = p_ProviderID,
        "ContentType" = p_ContentType,
        "ProviderKey" = p_ProviderKey,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwFiles" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwFiles" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteFile"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."File"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateFileStorageAccount"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(200) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ProviderID UUID DEFAULT NULL,
    IN p_CredentialID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwFileStorageAccounts" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."FileStorageAccount"
            (
                "ID",
                "Name",
                "Description",
                "ProviderID",
                "CredentialID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ProviderID,
                p_CredentialID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."FileStorageAccount"
            (
                "Name",
                "Description",
                "ProviderID",
                "CredentialID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ProviderID,
                p_CredentialID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwFileStorageAccounts" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateFileStorageAccount"(
    IN p_ID UUID,
    IN p_Name VARCHAR(200),
    IN p_Description TEXT,
    IN p_ProviderID UUID,
    IN p_CredentialID UUID
)
RETURNS SETOF __mj."vwFileStorageAccounts" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."FileStorageAccount"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ProviderID" = p_ProviderID,
        "CredentialID" = p_CredentialID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwFileStorageAccounts" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwFileStorageAccounts" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteFileStorageAccount"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."FileStorageAccount"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateGeneratedCodeCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwGeneratedCodeCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."GeneratedCodeCategory"
            (
                "ID",
                "Name",
                "Description",
                "ParentID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ParentID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."GeneratedCodeCategory"
            (
                "Name",
                "Description",
                "ParentID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ParentID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwGeneratedCodeCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateGeneratedCodeCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_ParentID UUID
)
RETURNS SETOF __mj."vwGeneratedCodeCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."GeneratedCodeCategory"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ParentID" = p_ParentID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwGeneratedCodeCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwGeneratedCodeCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteGeneratedCodeCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."GeneratedCodeCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateGeneratedCode"(
    IN p_ID UUID DEFAULT NULL,
    IN p_GeneratedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CategoryID UUID DEFAULT NULL,
    IN p_GeneratedByModelID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Code TEXT DEFAULT NULL,
    IN p_Source TEXT DEFAULT NULL,
    IN p_LinkedEntityID UUID DEFAULT NULL,
    IN p_LinkedRecordPrimaryKey TEXT DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_Language VARCHAR(50) DEFAULT NULL
)
RETURNS SETOF __mj."vwGeneratedCodes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."GeneratedCode"
            (
                "ID",
                "GeneratedAt",
                "CategoryID",
                "GeneratedByModelID",
                "Name",
                "Description",
                "Code",
                "Source",
                "LinkedEntityID",
                "LinkedRecordPrimaryKey",
                "Status",
                "Language"
            )
        VALUES
            (
                p_ID,
                COALESCE(p_GeneratedAt, NOW()),
                p_CategoryID,
                p_GeneratedByModelID,
                p_Name,
                p_Description,
                p_Code,
                p_Source,
                p_LinkedEntityID,
                p_LinkedRecordPrimaryKey,
                COALESCE(p_Status, 'Pending'),
                COALESCE(p_Language, 'TypeScript')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."GeneratedCode"
            (
                "GeneratedAt",
                "CategoryID",
                "GeneratedByModelID",
                "Name",
                "Description",
                "Code",
                "Source",
                "LinkedEntityID",
                "LinkedRecordPrimaryKey",
                "Status",
                "Language"
            )
        VALUES
            (
                COALESCE(p_GeneratedAt, NOW()),
                p_CategoryID,
                p_GeneratedByModelID,
                p_Name,
                p_Description,
                p_Code,
                p_Source,
                p_LinkedEntityID,
                p_LinkedRecordPrimaryKey,
                COALESCE(p_Status, 'Pending'),
                COALESCE(p_Language, 'TypeScript')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwGeneratedCodes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateGeneratedCode"(
    IN p_ID UUID,
    IN p_GeneratedAt TIMESTAMPTZ,
    IN p_CategoryID UUID,
    IN p_GeneratedByModelID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_Code TEXT,
    IN p_Source TEXT,
    IN p_LinkedEntityID UUID,
    IN p_LinkedRecordPrimaryKey TEXT,
    IN p_Status VARCHAR(20),
    IN p_Language VARCHAR(50)
)
RETURNS SETOF __mj."vwGeneratedCodes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."GeneratedCode"
    SET
        "GeneratedAt" = p_GeneratedAt,
        "CategoryID" = p_CategoryID,
        "GeneratedByModelID" = p_GeneratedByModelID,
        "Name" = p_Name,
        "Description" = p_Description,
        "Code" = p_Code,
        "Source" = p_Source,
        "LinkedEntityID" = p_LinkedEntityID,
        "LinkedRecordPrimaryKey" = p_LinkedRecordPrimaryKey,
        "Status" = p_Status,
        "Language" = p_Language
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwGeneratedCodes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwGeneratedCodes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteGeneratedCode"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."GeneratedCode"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateLibraryItem"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_LibraryID UUID DEFAULT NULL,
    IN p_Type VARCHAR(50) DEFAULT NULL
)
RETURNS SETOF __mj."vwLibraryItems" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."LibraryItem"
            (
                "ID",
                "Name",
                "LibraryID",
                "Type"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_LibraryID,
                p_Type
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."LibraryItem"
            (
                "Name",
                "LibraryID",
                "Type"
            )
        VALUES
            (
                p_Name,
                p_LibraryID,
                p_Type
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwLibraryItems" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateLibraryItem"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_LibraryID UUID,
    IN p_Type VARCHAR(50)
)
RETURNS SETOF __mj."vwLibraryItems" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."LibraryItem"
    SET
        "Name" = p_Name,
        "LibraryID" = p_LibraryID,
        "Type" = p_Type
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwLibraryItems" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwLibraryItems" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteLibraryItem"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."LibraryItem"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateListCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwListCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ListCategory"
            (
                "ID",
                "Name",
                "Description",
                "ParentID",
                "UserID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ParentID,
                p_UserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ListCategory"
            (
                "Name",
                "Description",
                "ParentID",
                "UserID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ParentID,
                p_UserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwListCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateListCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_ParentID UUID,
    IN p_UserID UUID
)
RETURNS SETOF __mj."vwListCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ListCategory"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ParentID" = p_ParentID,
        "UserID" = p_UserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwListCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwListCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteListCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ListCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateListInvitation"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ListID UUID DEFAULT NULL,
    IN p_Email VARCHAR(255) DEFAULT NULL,
    IN p_Role VARCHAR(50) DEFAULT NULL,
    IN p_Token VARCHAR(100) DEFAULT NULL,
    IN p_ExpiresAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CreatedByUserID UUID DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwListInvitations" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ListInvitation"
            (
                "ID",
                "ListID",
                "Email",
                "Role",
                "Token",
                "ExpiresAt",
                "CreatedByUserID",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_ListID,
                p_Email,
                p_Role,
                p_Token,
                p_ExpiresAt,
                p_CreatedByUserID,
                COALESCE(p_Status, 'Pending')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ListInvitation"
            (
                "ListID",
                "Email",
                "Role",
                "Token",
                "ExpiresAt",
                "CreatedByUserID",
                "Status"
            )
        VALUES
            (
                p_ListID,
                p_Email,
                p_Role,
                p_Token,
                p_ExpiresAt,
                p_CreatedByUserID,
                COALESCE(p_Status, 'Pending')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwListInvitations" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateListInvitation"(
    IN p_ID UUID,
    IN p_ListID UUID,
    IN p_Email VARCHAR(255),
    IN p_Role VARCHAR(50),
    IN p_Token VARCHAR(100),
    IN p_ExpiresAt TIMESTAMPTZ,
    IN p_CreatedByUserID UUID,
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwListInvitations" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ListInvitation"
    SET
        "ListID" = p_ListID,
        "Email" = p_Email,
        "Role" = p_Role,
        "Token" = p_Token,
        "ExpiresAt" = p_ExpiresAt,
        "CreatedByUserID" = p_CreatedByUserID,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwListInvitations" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwListInvitations" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteListInvitation"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ListInvitation"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateList"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_CategoryID UUID DEFAULT NULL,
    IN p_ExternalSystemRecordID VARCHAR(100) DEFAULT NULL,
    IN p_CompanyIntegrationID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwLists" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."List"
            (
                "ID",
                "Name",
                "Description",
                "EntityID",
                "UserID",
                "CategoryID",
                "ExternalSystemRecordID",
                "CompanyIntegrationID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_EntityID,
                p_UserID,
                p_CategoryID,
                p_ExternalSystemRecordID,
                p_CompanyIntegrationID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."List"
            (
                "Name",
                "Description",
                "EntityID",
                "UserID",
                "CategoryID",
                "ExternalSystemRecordID",
                "CompanyIntegrationID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_EntityID,
                p_UserID,
                p_CategoryID,
                p_ExternalSystemRecordID,
                p_CompanyIntegrationID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwLists" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateList"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_EntityID UUID,
    IN p_UserID UUID,
    IN p_CategoryID UUID,
    IN p_ExternalSystemRecordID VARCHAR(100),
    IN p_CompanyIntegrationID UUID
)
RETURNS SETOF __mj."vwLists" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."List"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "EntityID" = p_EntityID,
        "UserID" = p_UserID,
        "CategoryID" = p_CategoryID,
        "ExternalSystemRecordID" = p_ExternalSystemRecordID,
        "CompanyIntegrationID" = p_CompanyIntegrationID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwLists" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwLists" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteList"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."List"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateListDetail"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ListID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(445) DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_Status VARCHAR(30) DEFAULT NULL,
    IN p_AdditionalData TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwListDetails" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ListDetail"
            (
                "ID",
                "ListID",
                "RecordID",
                "Sequence",
                "Status",
                "AdditionalData"
            )
        VALUES
            (
                p_ID,
                p_ListID,
                p_RecordID,
                COALESCE(p_Sequence, 0),
                COALESCE(p_Status, 'Pending'),
                p_AdditionalData
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ListDetail"
            (
                "ListID",
                "RecordID",
                "Sequence",
                "Status",
                "AdditionalData"
            )
        VALUES
            (
                p_ListID,
                p_RecordID,
                COALESCE(p_Sequence, 0),
                COALESCE(p_Status, 'Pending'),
                p_AdditionalData
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwListDetails" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateListDetail"(
    IN p_ID UUID,
    IN p_ListID UUID,
    IN p_RecordID VARCHAR(445),
    IN p_Sequence INTEGER,
    IN p_Status VARCHAR(30),
    IN p_AdditionalData TEXT
)
RETURNS SETOF __mj."vwListDetails" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ListDetail"
    SET
        "ListID" = p_ListID,
        "RecordID" = p_RecordID,
        "Sequence" = p_Sequence,
        "Status" = p_Status,
        "AdditionalData" = p_AdditionalData
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwListDetails" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwListDetails" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteListDetail"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ListDetail"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateListShare"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ListID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Role VARCHAR(50) DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwListShares" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ListShare"
            (
                "ID",
                "ListID",
                "UserID",
                "Role",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_ListID,
                p_UserID,
                p_Role,
                COALESCE(p_Status, 'Active')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ListShare"
            (
                "ListID",
                "UserID",
                "Role",
                "Status"
            )
        VALUES
            (
                p_ListID,
                p_UserID,
                p_Role,
                COALESCE(p_Status, 'Active')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwListShares" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateListShare"(
    IN p_ID UUID,
    IN p_ListID UUID,
    IN p_UserID UUID,
    IN p_Role VARCHAR(50),
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwListShares" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ListShare"
    SET
        "ListID" = p_ListID,
        "UserID" = p_UserID,
        "Role" = p_Role,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwListShares" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwListShares" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteListShare"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ListShare"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateMCPServerConnectionPermission"(
    IN p_ID UUID DEFAULT NULL,
    IN p_MCPServerConnectionID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_RoleID UUID DEFAULT NULL,
    IN p_CanExecute BOOLEAN DEFAULT NULL,
    IN p_CanModify BOOLEAN DEFAULT NULL,
    IN p_CanViewCredentials BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwMCPServerConnectionPermissions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."MCPServerConnectionPermission"
            (
                "ID",
                "MCPServerConnectionID",
                "UserID",
                "RoleID",
                "CanExecute",
                "CanModify",
                "CanViewCredentials"
            )
        VALUES
            (
                p_ID,
                p_MCPServerConnectionID,
                p_UserID,
                p_RoleID,
                COALESCE(p_CanExecute, 1),
                COALESCE(p_CanModify, 0),
                COALESCE(p_CanViewCredentials, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."MCPServerConnectionPermission"
            (
                "MCPServerConnectionID",
                "UserID",
                "RoleID",
                "CanExecute",
                "CanModify",
                "CanViewCredentials"
            )
        VALUES
            (
                p_MCPServerConnectionID,
                p_UserID,
                p_RoleID,
                COALESCE(p_CanExecute, 1),
                COALESCE(p_CanModify, 0),
                COALESCE(p_CanViewCredentials, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwMCPServerConnectionPermissions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateMCPServerConnectionPermission"(
    IN p_ID UUID,
    IN p_MCPServerConnectionID UUID,
    IN p_UserID UUID,
    IN p_RoleID UUID,
    IN p_CanExecute BOOLEAN,
    IN p_CanModify BOOLEAN,
    IN p_CanViewCredentials BOOLEAN
)
RETURNS SETOF __mj."vwMCPServerConnectionPermissions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."MCPServerConnectionPermission"
    SET
        "MCPServerConnectionID" = p_MCPServerConnectionID,
        "UserID" = p_UserID,
        "RoleID" = p_RoleID,
        "CanExecute" = p_CanExecute,
        "CanModify" = p_CanModify,
        "CanViewCredentials" = p_CanViewCredentials
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwMCPServerConnectionPermissions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwMCPServerConnectionPermissions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteMCPServerConnectionPermission"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."MCPServerConnectionPermission"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateMCPServerConnectionTool"(
    IN p_ID UUID DEFAULT NULL,
    IN p_MCPServerConnectionID UUID DEFAULT NULL,
    IN p_MCPServerToolID UUID DEFAULT NULL,
    IN p_IsEnabled BOOLEAN DEFAULT NULL,
    IN p_DefaultInputValues TEXT DEFAULT NULL,
    IN p_MaxCallsPerMinute INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwMCPServerConnectionTools" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."MCPServerConnectionTool"
            (
                "ID",
                "MCPServerConnectionID",
                "MCPServerToolID",
                "IsEnabled",
                "DefaultInputValues",
                "MaxCallsPerMinute"
            )
        VALUES
            (
                p_ID,
                p_MCPServerConnectionID,
                p_MCPServerToolID,
                COALESCE(p_IsEnabled, 1),
                p_DefaultInputValues,
                p_MaxCallsPerMinute
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."MCPServerConnectionTool"
            (
                "MCPServerConnectionID",
                "MCPServerToolID",
                "IsEnabled",
                "DefaultInputValues",
                "MaxCallsPerMinute"
            )
        VALUES
            (
                p_MCPServerConnectionID,
                p_MCPServerToolID,
                COALESCE(p_IsEnabled, 1),
                p_DefaultInputValues,
                p_MaxCallsPerMinute
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwMCPServerConnectionTools" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateMCPServerConnectionTool"(
    IN p_ID UUID,
    IN p_MCPServerConnectionID UUID,
    IN p_MCPServerToolID UUID,
    IN p_IsEnabled BOOLEAN,
    IN p_DefaultInputValues TEXT,
    IN p_MaxCallsPerMinute INTEGER
)
RETURNS SETOF __mj."vwMCPServerConnectionTools" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."MCPServerConnectionTool"
    SET
        "MCPServerConnectionID" = p_MCPServerConnectionID,
        "MCPServerToolID" = p_MCPServerToolID,
        "IsEnabled" = p_IsEnabled,
        "DefaultInputValues" = p_DefaultInputValues,
        "MaxCallsPerMinute" = p_MaxCallsPerMinute
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwMCPServerConnectionTools" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwMCPServerConnectionTools" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteMCPServerConnectionTool"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."MCPServerConnectionTool"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateMCPServer"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ServerURL VARCHAR(1000) DEFAULT NULL,
    IN p_Command VARCHAR(500) DEFAULT NULL,
    IN p_CommandArgs TEXT DEFAULT NULL,
    IN p_TransportType VARCHAR(50) DEFAULT NULL,
    IN p_DefaultAuthType VARCHAR(50) DEFAULT NULL,
    IN p_CredentialTypeID UUID DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_LastSyncAt TIMESTAMPTZ DEFAULT NULL,
    IN p_RateLimitPerMinute INTEGER DEFAULT NULL,
    IN p_RateLimitPerHour INTEGER DEFAULT NULL,
    IN p_ConnectionTimeoutMs INTEGER DEFAULT NULL,
    IN p_RequestTimeoutMs INTEGER DEFAULT NULL,
    IN p_DocumentationURL VARCHAR(1000) DEFAULT NULL,
    IN p_IconClass VARCHAR(100) DEFAULT NULL,
    IN p_OAuthIssuerURL VARCHAR(1000) DEFAULT NULL,
    IN p_OAuthScopes VARCHAR(500) DEFAULT NULL,
    IN p_OAuthMetadataCacheTTLMinutes INTEGER DEFAULT NULL,
    IN p_OAuthClientID VARCHAR(255) DEFAULT NULL,
    IN p_OAuthClientSecretEncrypted TEXT DEFAULT NULL,
    IN p_OAuthRequirePKCE BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwMCPServers" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."MCPServer"
            (
                "ID",
                "Name",
                "Description",
                "ServerURL",
                "Command",
                "CommandArgs",
                "TransportType",
                "DefaultAuthType",
                "CredentialTypeID",
                "Status",
                "LastSyncAt",
                "RateLimitPerMinute",
                "RateLimitPerHour",
                "ConnectionTimeoutMs",
                "RequestTimeoutMs",
                "DocumentationURL",
                "IconClass",
                "OAuthIssuerURL",
                "OAuthScopes",
                "OAuthMetadataCacheTTLMinutes",
                "OAuthClientID",
                "OAuthClientSecretEncrypted",
                "OAuthRequirePKCE"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ServerURL,
                p_Command,
                p_CommandArgs,
                p_TransportType,
                p_DefaultAuthType,
                p_CredentialTypeID,
                COALESCE(p_Status, 'Active'),
                p_LastSyncAt,
                p_RateLimitPerMinute,
                p_RateLimitPerHour,
                p_ConnectionTimeoutMs,
                p_RequestTimeoutMs,
                p_DocumentationURL,
                p_IconClass,
                p_OAuthIssuerURL,
                p_OAuthScopes,
                p_OAuthMetadataCacheTTLMinutes,
                p_OAuthClientID,
                p_OAuthClientSecretEncrypted,
                COALESCE(p_OAuthRequirePKCE, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."MCPServer"
            (
                "Name",
                "Description",
                "ServerURL",
                "Command",
                "CommandArgs",
                "TransportType",
                "DefaultAuthType",
                "CredentialTypeID",
                "Status",
                "LastSyncAt",
                "RateLimitPerMinute",
                "RateLimitPerHour",
                "ConnectionTimeoutMs",
                "RequestTimeoutMs",
                "DocumentationURL",
                "IconClass",
                "OAuthIssuerURL",
                "OAuthScopes",
                "OAuthMetadataCacheTTLMinutes",
                "OAuthClientID",
                "OAuthClientSecretEncrypted",
                "OAuthRequirePKCE"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ServerURL,
                p_Command,
                p_CommandArgs,
                p_TransportType,
                p_DefaultAuthType,
                p_CredentialTypeID,
                COALESCE(p_Status, 'Active'),
                p_LastSyncAt,
                p_RateLimitPerMinute,
                p_RateLimitPerHour,
                p_ConnectionTimeoutMs,
                p_RequestTimeoutMs,
                p_DocumentationURL,
                p_IconClass,
                p_OAuthIssuerURL,
                p_OAuthScopes,
                p_OAuthMetadataCacheTTLMinutes,
                p_OAuthClientID,
                p_OAuthClientSecretEncrypted,
                COALESCE(p_OAuthRequirePKCE, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwMCPServers" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateMCPServer"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_ServerURL VARCHAR(1000),
    IN p_Command VARCHAR(500),
    IN p_CommandArgs TEXT,
    IN p_TransportType VARCHAR(50),
    IN p_DefaultAuthType VARCHAR(50),
    IN p_CredentialTypeID UUID,
    IN p_Status VARCHAR(50),
    IN p_LastSyncAt TIMESTAMPTZ,
    IN p_RateLimitPerMinute INTEGER,
    IN p_RateLimitPerHour INTEGER,
    IN p_ConnectionTimeoutMs INTEGER,
    IN p_RequestTimeoutMs INTEGER,
    IN p_DocumentationURL VARCHAR(1000),
    IN p_IconClass VARCHAR(100),
    IN p_OAuthIssuerURL VARCHAR(1000),
    IN p_OAuthScopes VARCHAR(500),
    IN p_OAuthMetadataCacheTTLMinutes INTEGER,
    IN p_OAuthClientID VARCHAR(255),
    IN p_OAuthClientSecretEncrypted TEXT,
    IN p_OAuthRequirePKCE BOOLEAN
)
RETURNS SETOF __mj."vwMCPServers" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."MCPServer"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ServerURL" = p_ServerURL,
        "Command" = p_Command,
        "CommandArgs" = p_CommandArgs,
        "TransportType" = p_TransportType,
        "DefaultAuthType" = p_DefaultAuthType,
        "CredentialTypeID" = p_CredentialTypeID,
        "Status" = p_Status,
        "LastSyncAt" = p_LastSyncAt,
        "RateLimitPerMinute" = p_RateLimitPerMinute,
        "RateLimitPerHour" = p_RateLimitPerHour,
        "ConnectionTimeoutMs" = p_ConnectionTimeoutMs,
        "RequestTimeoutMs" = p_RequestTimeoutMs,
        "DocumentationURL" = p_DocumentationURL,
        "IconClass" = p_IconClass,
        "OAuthIssuerURL" = p_OAuthIssuerURL,
        "OAuthScopes" = p_OAuthScopes,
        "OAuthMetadataCacheTTLMinutes" = p_OAuthMetadataCacheTTLMinutes,
        "OAuthClientID" = p_OAuthClientID,
        "OAuthClientSecretEncrypted" = p_OAuthClientSecretEncrypted,
        "OAuthRequirePKCE" = p_OAuthRequirePKCE
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwMCPServers" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwMCPServers" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteMCPServer"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."MCPServer"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateMCPServerConnection"(
    IN p_ID UUID DEFAULT NULL,
    IN p_MCPServerID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_CredentialID UUID DEFAULT NULL,
    IN p_CustomHeaderName VARCHAR(100) DEFAULT NULL,
    IN p_CompanyID UUID DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_AutoSyncTools BOOLEAN DEFAULT NULL,
    IN p_AutoGenerateActions BOOLEAN DEFAULT NULL,
    IN p_LogToolCalls BOOLEAN DEFAULT NULL,
    IN p_LogInputParameters BOOLEAN DEFAULT NULL,
    IN p_LogOutputContent BOOLEAN DEFAULT NULL,
    IN p_MaxOutputLogSize INTEGER DEFAULT NULL,
    IN p_LastConnectedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_LastErrorMessage TEXT DEFAULT NULL,
    IN p_EnvironmentVars TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwMCPServerConnections" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."MCPServerConnection"
            (
                "ID",
                "MCPServerID",
                "Name",
                "Description",
                "CredentialID",
                "CustomHeaderName",
                "CompanyID",
                "Status",
                "AutoSyncTools",
                "AutoGenerateActions",
                "LogToolCalls",
                "LogInputParameters",
                "LogOutputContent",
                "MaxOutputLogSize",
                "LastConnectedAt",
                "LastErrorMessage",
                "EnvironmentVars"
            )
        VALUES
            (
                p_ID,
                p_MCPServerID,
                p_Name,
                p_Description,
                p_CredentialID,
                p_CustomHeaderName,
                p_CompanyID,
                COALESCE(p_Status, 'Active'),
                COALESCE(p_AutoSyncTools, 1),
                COALESCE(p_AutoGenerateActions, 0),
                COALESCE(p_LogToolCalls, 1),
                COALESCE(p_LogInputParameters, 1),
                COALESCE(p_LogOutputContent, 1),
                p_MaxOutputLogSize,
                p_LastConnectedAt,
                p_LastErrorMessage,
                p_EnvironmentVars
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."MCPServerConnection"
            (
                "MCPServerID",
                "Name",
                "Description",
                "CredentialID",
                "CustomHeaderName",
                "CompanyID",
                "Status",
                "AutoSyncTools",
                "AutoGenerateActions",
                "LogToolCalls",
                "LogInputParameters",
                "LogOutputContent",
                "MaxOutputLogSize",
                "LastConnectedAt",
                "LastErrorMessage",
                "EnvironmentVars"
            )
        VALUES
            (
                p_MCPServerID,
                p_Name,
                p_Description,
                p_CredentialID,
                p_CustomHeaderName,
                p_CompanyID,
                COALESCE(p_Status, 'Active'),
                COALESCE(p_AutoSyncTools, 1),
                COALESCE(p_AutoGenerateActions, 0),
                COALESCE(p_LogToolCalls, 1),
                COALESCE(p_LogInputParameters, 1),
                COALESCE(p_LogOutputContent, 1),
                p_MaxOutputLogSize,
                p_LastConnectedAt,
                p_LastErrorMessage,
                p_EnvironmentVars
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwMCPServerConnections" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateMCPServerConnection"(
    IN p_ID UUID,
    IN p_MCPServerID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_CredentialID UUID,
    IN p_CustomHeaderName VARCHAR(100),
    IN p_CompanyID UUID,
    IN p_Status VARCHAR(50),
    IN p_AutoSyncTools BOOLEAN,
    IN p_AutoGenerateActions BOOLEAN,
    IN p_LogToolCalls BOOLEAN,
    IN p_LogInputParameters BOOLEAN,
    IN p_LogOutputContent BOOLEAN,
    IN p_MaxOutputLogSize INTEGER,
    IN p_LastConnectedAt TIMESTAMPTZ,
    IN p_LastErrorMessage TEXT,
    IN p_EnvironmentVars TEXT
)
RETURNS SETOF __mj."vwMCPServerConnections" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."MCPServerConnection"
    SET
        "MCPServerID" = p_MCPServerID,
        "Name" = p_Name,
        "Description" = p_Description,
        "CredentialID" = p_CredentialID,
        "CustomHeaderName" = p_CustomHeaderName,
        "CompanyID" = p_CompanyID,
        "Status" = p_Status,
        "AutoSyncTools" = p_AutoSyncTools,
        "AutoGenerateActions" = p_AutoGenerateActions,
        "LogToolCalls" = p_LogToolCalls,
        "LogInputParameters" = p_LogInputParameters,
        "LogOutputContent" = p_LogOutputContent,
        "MaxOutputLogSize" = p_MaxOutputLogSize,
        "LastConnectedAt" = p_LastConnectedAt,
        "LastErrorMessage" = p_LastErrorMessage,
        "EnvironmentVars" = p_EnvironmentVars
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwMCPServerConnections" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwMCPServerConnections" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteMCPServerConnection"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."MCPServerConnection"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateMCPServerTool"(
    IN p_ID UUID DEFAULT NULL,
    IN p_MCPServerID UUID DEFAULT NULL,
    IN p_ToolName VARCHAR(255) DEFAULT NULL,
    IN p_ToolTitle VARCHAR(255) DEFAULT NULL,
    IN p_ToolDescription TEXT DEFAULT NULL,
    IN p_InputSchema TEXT DEFAULT NULL,
    IN p_OutputSchema TEXT DEFAULT NULL,
    IN p_Annotations TEXT DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_DiscoveredAt TIMESTAMPTZ DEFAULT NULL,
    IN p_LastSeenAt TIMESTAMPTZ DEFAULT NULL,
    IN p_GeneratedActionID UUID DEFAULT NULL,
    IN p_GeneratedActionCategoryID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwMCPServerTools" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."MCPServerTool"
            (
                "ID",
                "MCPServerID",
                "ToolName",
                "ToolTitle",
                "ToolDescription",
                "InputSchema",
                "OutputSchema",
                "Annotations",
                "Status",
                "DiscoveredAt",
                "LastSeenAt",
                "GeneratedActionID",
                "GeneratedActionCategoryID"
            )
        VALUES
            (
                p_ID,
                p_MCPServerID,
                p_ToolName,
                p_ToolTitle,
                p_ToolDescription,
                p_InputSchema,
                p_OutputSchema,
                p_Annotations,
                COALESCE(p_Status, 'Active'),
                COALESCE(p_DiscoveredAt, NOW()),
                COALESCE(p_LastSeenAt, NOW()),
                p_GeneratedActionID,
                p_GeneratedActionCategoryID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."MCPServerTool"
            (
                "MCPServerID",
                "ToolName",
                "ToolTitle",
                "ToolDescription",
                "InputSchema",
                "OutputSchema",
                "Annotations",
                "Status",
                "DiscoveredAt",
                "LastSeenAt",
                "GeneratedActionID",
                "GeneratedActionCategoryID"
            )
        VALUES
            (
                p_MCPServerID,
                p_ToolName,
                p_ToolTitle,
                p_ToolDescription,
                p_InputSchema,
                p_OutputSchema,
                p_Annotations,
                COALESCE(p_Status, 'Active'),
                COALESCE(p_DiscoveredAt, NOW()),
                COALESCE(p_LastSeenAt, NOW()),
                p_GeneratedActionID,
                p_GeneratedActionCategoryID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwMCPServerTools" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateMCPServerTool"(
    IN p_ID UUID,
    IN p_MCPServerID UUID,
    IN p_ToolName VARCHAR(255),
    IN p_ToolTitle VARCHAR(255),
    IN p_ToolDescription TEXT,
    IN p_InputSchema TEXT,
    IN p_OutputSchema TEXT,
    IN p_Annotations TEXT,
    IN p_Status VARCHAR(50),
    IN p_DiscoveredAt TIMESTAMPTZ,
    IN p_LastSeenAt TIMESTAMPTZ,
    IN p_GeneratedActionID UUID,
    IN p_GeneratedActionCategoryID UUID
)
RETURNS SETOF __mj."vwMCPServerTools" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."MCPServerTool"
    SET
        "MCPServerID" = p_MCPServerID,
        "ToolName" = p_ToolName,
        "ToolTitle" = p_ToolTitle,
        "ToolDescription" = p_ToolDescription,
        "InputSchema" = p_InputSchema,
        "OutputSchema" = p_OutputSchema,
        "Annotations" = p_Annotations,
        "Status" = p_Status,
        "DiscoveredAt" = p_DiscoveredAt,
        "LastSeenAt" = p_LastSeenAt,
        "GeneratedActionID" = p_GeneratedActionID,
        "GeneratedActionCategoryID" = p_GeneratedActionCategoryID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwMCPServerTools" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwMCPServerTools" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteMCPServerTool"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."MCPServerTool"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateMCPToolExecutionLog"(
    IN p_ID UUID DEFAULT NULL,
    IN p_MCPServerConnectionID UUID DEFAULT NULL,
    IN p_MCPServerToolID UUID DEFAULT NULL,
    IN p_ToolName VARCHAR(255) DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_DurationMs INTEGER DEFAULT NULL,
    IN p_Success BOOLEAN DEFAULT NULL,
    IN p_ErrorMessage TEXT DEFAULT NULL,
    IN p_InputParameters TEXT DEFAULT NULL,
    IN p_OutputContent TEXT DEFAULT NULL,
    IN p_OutputTruncated BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwMCPToolExecutionLogs" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."MCPToolExecutionLog"
            (
                "ID",
                "MCPServerConnectionID",
                "MCPServerToolID",
                "ToolName",
                "UserID",
                "StartedAt",
                "EndedAt",
                "DurationMs",
                "Success",
                "ErrorMessage",
                "InputParameters",
                "OutputContent",
                "OutputTruncated"
            )
        VALUES
            (
                p_ID,
                p_MCPServerConnectionID,
                p_MCPServerToolID,
                p_ToolName,
                p_UserID,
                COALESCE(p_StartedAt, NOW()),
                p_EndedAt,
                p_DurationMs,
                COALESCE(p_Success, 0),
                p_ErrorMessage,
                p_InputParameters,
                p_OutputContent,
                COALESCE(p_OutputTruncated, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."MCPToolExecutionLog"
            (
                "MCPServerConnectionID",
                "MCPServerToolID",
                "ToolName",
                "UserID",
                "StartedAt",
                "EndedAt",
                "DurationMs",
                "Success",
                "ErrorMessage",
                "InputParameters",
                "OutputContent",
                "OutputTruncated"
            )
        VALUES
            (
                p_MCPServerConnectionID,
                p_MCPServerToolID,
                p_ToolName,
                p_UserID,
                COALESCE(p_StartedAt, NOW()),
                p_EndedAt,
                p_DurationMs,
                COALESCE(p_Success, 0),
                p_ErrorMessage,
                p_InputParameters,
                p_OutputContent,
                COALESCE(p_OutputTruncated, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwMCPToolExecutionLogs" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateMCPToolExecutionLog"(
    IN p_ID UUID,
    IN p_MCPServerConnectionID UUID,
    IN p_MCPServerToolID UUID,
    IN p_ToolName VARCHAR(255),
    IN p_UserID UUID,
    IN p_StartedAt TIMESTAMPTZ,
    IN p_EndedAt TIMESTAMPTZ,
    IN p_DurationMs INTEGER,
    IN p_Success BOOLEAN,
    IN p_ErrorMessage TEXT,
    IN p_InputParameters TEXT,
    IN p_OutputContent TEXT,
    IN p_OutputTruncated BOOLEAN
)
RETURNS SETOF __mj."vwMCPToolExecutionLogs" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."MCPToolExecutionLog"
    SET
        "MCPServerConnectionID" = p_MCPServerConnectionID,
        "MCPServerToolID" = p_MCPServerToolID,
        "ToolName" = p_ToolName,
        "UserID" = p_UserID,
        "StartedAt" = p_StartedAt,
        "EndedAt" = p_EndedAt,
        "DurationMs" = p_DurationMs,
        "Success" = p_Success,
        "ErrorMessage" = p_ErrorMessage,
        "InputParameters" = p_InputParameters,
        "OutputContent" = p_OutputContent,
        "OutputTruncated" = p_OutputTruncated
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwMCPToolExecutionLogs" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwMCPToolExecutionLogs" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteMCPToolExecutionLog"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."MCPToolExecutionLog"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateOAuthToken"(
    IN p_ID UUID DEFAULT NULL,
    IN p_MCPServerConnectionID UUID DEFAULT NULL,
    IN p_CredentialID UUID DEFAULT NULL,
    IN p_TokenType VARCHAR(50) DEFAULT NULL,
    IN p_ExpiresAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Scope VARCHAR(500) DEFAULT NULL,
    IN p_IssuerURL VARCHAR(1000) DEFAULT NULL,
    IN p_LastRefreshAt TIMESTAMPTZ DEFAULT NULL,
    IN p_RefreshCount INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwOAuthTokens" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."OAuthToken"
            (
                "ID",
                "MCPServerConnectionID",
                "CredentialID",
                "TokenType",
                "ExpiresAt",
                "Scope",
                "IssuerURL",
                "LastRefreshAt",
                "RefreshCount"
            )
        VALUES
            (
                p_ID,
                p_MCPServerConnectionID,
                p_CredentialID,
                COALESCE(p_TokenType, 'Bearer'),
                p_ExpiresAt,
                p_Scope,
                p_IssuerURL,
                p_LastRefreshAt,
                COALESCE(p_RefreshCount, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."OAuthToken"
            (
                "MCPServerConnectionID",
                "CredentialID",
                "TokenType",
                "ExpiresAt",
                "Scope",
                "IssuerURL",
                "LastRefreshAt",
                "RefreshCount"
            )
        VALUES
            (
                p_MCPServerConnectionID,
                p_CredentialID,
                COALESCE(p_TokenType, 'Bearer'),
                p_ExpiresAt,
                p_Scope,
                p_IssuerURL,
                p_LastRefreshAt,
                COALESCE(p_RefreshCount, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwOAuthTokens" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateOAuthToken"(
    IN p_ID UUID,
    IN p_MCPServerConnectionID UUID,
    IN p_CredentialID UUID,
    IN p_TokenType VARCHAR(50),
    IN p_ExpiresAt TIMESTAMPTZ,
    IN p_Scope VARCHAR(500),
    IN p_IssuerURL VARCHAR(1000),
    IN p_LastRefreshAt TIMESTAMPTZ,
    IN p_RefreshCount INTEGER
)
RETURNS SETOF __mj."vwOAuthTokens" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."OAuthToken"
    SET
        "MCPServerConnectionID" = p_MCPServerConnectionID,
        "CredentialID" = p_CredentialID,
        "TokenType" = p_TokenType,
        "ExpiresAt" = p_ExpiresAt,
        "Scope" = p_Scope,
        "IssuerURL" = p_IssuerURL,
        "LastRefreshAt" = p_LastRefreshAt,
        "RefreshCount" = p_RefreshCount
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwOAuthTokens" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwOAuthTokens" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteOAuthToken"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."OAuthToken"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateOAuthAuthorizationState"(
    IN p_ID UUID DEFAULT NULL,
    IN p_MCPServerConnectionID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_StateParameter VARCHAR(128) DEFAULT NULL,
    IN p_CodeVerifier VARCHAR(128) DEFAULT NULL,
    IN p_CodeChallenge VARCHAR(128) DEFAULT NULL,
    IN p_RedirectURI VARCHAR(1000) DEFAULT NULL,
    IN p_RequestedScopes VARCHAR(500) DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_AuthorizationURL TEXT DEFAULT NULL,
    IN p_ErrorCode VARCHAR(100) DEFAULT NULL,
    IN p_ErrorDescription TEXT DEFAULT NULL,
    IN p_InitiatedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_ExpiresAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CompletedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_FrontendReturnURL VARCHAR(1000) DEFAULT NULL
)
RETURNS SETOF __mj."vwOAuthAuthorizationStates" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."OAuthAuthorizationState"
            (
                "ID",
                "MCPServerConnectionID",
                "UserID",
                "StateParameter",
                "CodeVerifier",
                "CodeChallenge",
                "RedirectURI",
                "RequestedScopes",
                "Status",
                "AuthorizationURL",
                "ErrorCode",
                "ErrorDescription",
                "InitiatedAt",
                "ExpiresAt",
                "CompletedAt",
                "FrontendReturnURL"
            )
        VALUES
            (
                p_ID,
                p_MCPServerConnectionID,
                p_UserID,
                p_StateParameter,
                p_CodeVerifier,
                p_CodeChallenge,
                p_RedirectURI,
                p_RequestedScopes,
                COALESCE(p_Status, 'Pending'),
                p_AuthorizationURL,
                p_ErrorCode,
                p_ErrorDescription,
                COALESCE(p_InitiatedAt, NOW()),
                p_ExpiresAt,
                p_CompletedAt,
                p_FrontendReturnURL
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."OAuthAuthorizationState"
            (
                "MCPServerConnectionID",
                "UserID",
                "StateParameter",
                "CodeVerifier",
                "CodeChallenge",
                "RedirectURI",
                "RequestedScopes",
                "Status",
                "AuthorizationURL",
                "ErrorCode",
                "ErrorDescription",
                "InitiatedAt",
                "ExpiresAt",
                "CompletedAt",
                "FrontendReturnURL"
            )
        VALUES
            (
                p_MCPServerConnectionID,
                p_UserID,
                p_StateParameter,
                p_CodeVerifier,
                p_CodeChallenge,
                p_RedirectURI,
                p_RequestedScopes,
                COALESCE(p_Status, 'Pending'),
                p_AuthorizationURL,
                p_ErrorCode,
                p_ErrorDescription,
                COALESCE(p_InitiatedAt, NOW()),
                p_ExpiresAt,
                p_CompletedAt,
                p_FrontendReturnURL
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwOAuthAuthorizationStates" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateOAuthAuthorizationState"(
    IN p_ID UUID,
    IN p_MCPServerConnectionID UUID,
    IN p_UserID UUID,
    IN p_StateParameter VARCHAR(128),
    IN p_CodeVerifier VARCHAR(128),
    IN p_CodeChallenge VARCHAR(128),
    IN p_RedirectURI VARCHAR(1000),
    IN p_RequestedScopes VARCHAR(500),
    IN p_Status VARCHAR(50),
    IN p_AuthorizationURL TEXT,
    IN p_ErrorCode VARCHAR(100),
    IN p_ErrorDescription TEXT,
    IN p_InitiatedAt TIMESTAMPTZ,
    IN p_ExpiresAt TIMESTAMPTZ,
    IN p_CompletedAt TIMESTAMPTZ,
    IN p_FrontendReturnURL VARCHAR(1000)
)
RETURNS SETOF __mj."vwOAuthAuthorizationStates" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."OAuthAuthorizationState"
    SET
        "MCPServerConnectionID" = p_MCPServerConnectionID,
        "UserID" = p_UserID,
        "StateParameter" = p_StateParameter,
        "CodeVerifier" = p_CodeVerifier,
        "CodeChallenge" = p_CodeChallenge,
        "RedirectURI" = p_RedirectURI,
        "RequestedScopes" = p_RequestedScopes,
        "Status" = p_Status,
        "AuthorizationURL" = p_AuthorizationURL,
        "ErrorCode" = p_ErrorCode,
        "ErrorDescription" = p_ErrorDescription,
        "InitiatedAt" = p_InitiatedAt,
        "ExpiresAt" = p_ExpiresAt,
        "CompletedAt" = p_CompletedAt,
        "FrontendReturnURL" = p_FrontendReturnURL
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwOAuthAuthorizationStates" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwOAuthAuthorizationStates" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteOAuthAuthorizationState"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."OAuthAuthorizationState"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateOAuthClientRegistration"(
    IN p_ID UUID DEFAULT NULL,
    IN p_MCPServerConnectionID UUID DEFAULT NULL,
    IN p_MCPServerID UUID DEFAULT NULL,
    IN p_IssuerURL VARCHAR(1000) DEFAULT NULL,
    IN p_ClientID VARCHAR(500) DEFAULT NULL,
    IN p_ClientSecretEncrypted TEXT DEFAULT NULL,
    IN p_ClientIDIssuedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_ClientSecretExpiresAt TIMESTAMPTZ DEFAULT NULL,
    IN p_RegistrationAccessToken TEXT DEFAULT NULL,
    IN p_RegistrationClientURI VARCHAR(1000) DEFAULT NULL,
    IN p_RedirectURIs TEXT DEFAULT NULL,
    IN p_GrantTypes TEXT DEFAULT NULL,
    IN p_ResponseTypes TEXT DEFAULT NULL,
    IN p_Scope VARCHAR(500) DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_RegistrationResponse TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwOAuthClientRegistrations" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."OAuthClientRegistration"
            (
                "ID",
                "MCPServerConnectionID",
                "MCPServerID",
                "IssuerURL",
                "ClientID",
                "ClientSecretEncrypted",
                "ClientIDIssuedAt",
                "ClientSecretExpiresAt",
                "RegistrationAccessToken",
                "RegistrationClientURI",
                "RedirectURIs",
                "GrantTypes",
                "ResponseTypes",
                "Scope",
                "Status",
                "RegistrationResponse"
            )
        VALUES
            (
                p_ID,
                p_MCPServerConnectionID,
                p_MCPServerID,
                p_IssuerURL,
                p_ClientID,
                p_ClientSecretEncrypted,
                p_ClientIDIssuedAt,
                p_ClientSecretExpiresAt,
                p_RegistrationAccessToken,
                p_RegistrationClientURI,
                p_RedirectURIs,
                p_GrantTypes,
                p_ResponseTypes,
                p_Scope,
                COALESCE(p_Status, 'Active'),
                p_RegistrationResponse
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."OAuthClientRegistration"
            (
                "MCPServerConnectionID",
                "MCPServerID",
                "IssuerURL",
                "ClientID",
                "ClientSecretEncrypted",
                "ClientIDIssuedAt",
                "ClientSecretExpiresAt",
                "RegistrationAccessToken",
                "RegistrationClientURI",
                "RedirectURIs",
                "GrantTypes",
                "ResponseTypes",
                "Scope",
                "Status",
                "RegistrationResponse"
            )
        VALUES
            (
                p_MCPServerConnectionID,
                p_MCPServerID,
                p_IssuerURL,
                p_ClientID,
                p_ClientSecretEncrypted,
                p_ClientIDIssuedAt,
                p_ClientSecretExpiresAt,
                p_RegistrationAccessToken,
                p_RegistrationClientURI,
                p_RedirectURIs,
                p_GrantTypes,
                p_ResponseTypes,
                p_Scope,
                COALESCE(p_Status, 'Active'),
                p_RegistrationResponse
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwOAuthClientRegistrations" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateOAuthClientRegistration"(
    IN p_ID UUID,
    IN p_MCPServerConnectionID UUID,
    IN p_MCPServerID UUID,
    IN p_IssuerURL VARCHAR(1000),
    IN p_ClientID VARCHAR(500),
    IN p_ClientSecretEncrypted TEXT,
    IN p_ClientIDIssuedAt TIMESTAMPTZ,
    IN p_ClientSecretExpiresAt TIMESTAMPTZ,
    IN p_RegistrationAccessToken TEXT,
    IN p_RegistrationClientURI VARCHAR(1000),
    IN p_RedirectURIs TEXT,
    IN p_GrantTypes TEXT,
    IN p_ResponseTypes TEXT,
    IN p_Scope VARCHAR(500),
    IN p_Status VARCHAR(50),
    IN p_RegistrationResponse TEXT
)
RETURNS SETOF __mj."vwOAuthClientRegistrations" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."OAuthClientRegistration"
    SET
        "MCPServerConnectionID" = p_MCPServerConnectionID,
        "MCPServerID" = p_MCPServerID,
        "IssuerURL" = p_IssuerURL,
        "ClientID" = p_ClientID,
        "ClientSecretEncrypted" = p_ClientSecretEncrypted,
        "ClientIDIssuedAt" = p_ClientIDIssuedAt,
        "ClientSecretExpiresAt" = p_ClientSecretExpiresAt,
        "RegistrationAccessToken" = p_RegistrationAccessToken,
        "RegistrationClientURI" = p_RegistrationClientURI,
        "RedirectURIs" = p_RedirectURIs,
        "GrantTypes" = p_GrantTypes,
        "ResponseTypes" = p_ResponseTypes,
        "Scope" = p_Scope,
        "Status" = p_Status,
        "RegistrationResponse" = p_RegistrationResponse
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwOAuthClientRegistrations" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwOAuthClientRegistrations" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteOAuthClientRegistration"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."OAuthClientRegistration"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreatePublicLink"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ResourceType VARCHAR(50) DEFAULT NULL,
    IN p_ResourceID UUID DEFAULT NULL,
    IN p_Token VARCHAR(255) DEFAULT NULL,
    IN p_PasswordHash VARCHAR(255) DEFAULT NULL,
    IN p_ExpiresAt TIMESTAMPTZ DEFAULT NULL,
    IN p_MaxViews INTEGER DEFAULT NULL,
    IN p_CurrentViews INTEGER DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwPublicLinks" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."PublicLink"
            (
                "ID",
                "ResourceType",
                "ResourceID",
                "Token",
                "PasswordHash",
                "ExpiresAt",
                "MaxViews",
                "CurrentViews",
                "UserID",
                "IsActive"
            )
        VALUES
            (
                p_ID,
                p_ResourceType,
                p_ResourceID,
                p_Token,
                p_PasswordHash,
                p_ExpiresAt,
                p_MaxViews,
                COALESCE(p_CurrentViews, 0),
                p_UserID,
                COALESCE(p_IsActive, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."PublicLink"
            (
                "ResourceType",
                "ResourceID",
                "Token",
                "PasswordHash",
                "ExpiresAt",
                "MaxViews",
                "CurrentViews",
                "UserID",
                "IsActive"
            )
        VALUES
            (
                p_ResourceType,
                p_ResourceID,
                p_Token,
                p_PasswordHash,
                p_ExpiresAt,
                p_MaxViews,
                COALESCE(p_CurrentViews, 0),
                p_UserID,
                COALESCE(p_IsActive, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwPublicLinks" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdatePublicLink"(
    IN p_ID UUID,
    IN p_ResourceType VARCHAR(50),
    IN p_ResourceID UUID,
    IN p_Token VARCHAR(255),
    IN p_PasswordHash VARCHAR(255),
    IN p_ExpiresAt TIMESTAMPTZ,
    IN p_MaxViews INTEGER,
    IN p_CurrentViews INTEGER,
    IN p_UserID UUID,
    IN p_IsActive BOOLEAN
)
RETURNS SETOF __mj."vwPublicLinks" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."PublicLink"
    SET
        "ResourceType" = p_ResourceType,
        "ResourceID" = p_ResourceID,
        "Token" = p_Token,
        "PasswordHash" = p_PasswordHash,
        "ExpiresAt" = p_ExpiresAt,
        "MaxViews" = p_MaxViews,
        "CurrentViews" = p_CurrentViews,
        "UserID" = p_UserID,
        "IsActive" = p_IsActive
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwPublicLinks" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwPublicLinks" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeletePublicLink"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."PublicLink"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateQuery"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_CategoryID UUID DEFAULT NULL,
    IN p_UserQuestion TEXT DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_SQL TEXT DEFAULT NULL,
    IN p_TechnicalDescription TEXT DEFAULT NULL,
    IN p_OriginalSQL TEXT DEFAULT NULL,
    IN p_Feedback TEXT DEFAULT NULL,
    IN p_Status VARCHAR(15) DEFAULT NULL,
    IN p_QualityRank INTEGER DEFAULT NULL,
    IN p_ExecutionCostRank INTEGER DEFAULT NULL,
    IN p_UsesTemplate BOOLEAN DEFAULT NULL,
    IN p_AuditQueryRuns BOOLEAN DEFAULT NULL,
    IN p_CacheEnabled BOOLEAN DEFAULT NULL,
    IN p_CacheTTLMinutes INTEGER DEFAULT NULL,
    IN p_CacheMaxSize INTEGER DEFAULT NULL,
    IN p_EmbeddingVector TEXT DEFAULT NULL,
    IN p_EmbeddingModelID UUID DEFAULT NULL,
    IN p_CacheValidationSQL TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwQueries" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Query"
            (
                "ID",
                "Name",
                "CategoryID",
                "UserQuestion",
                "Description",
                "SQL",
                "TechnicalDescription",
                "OriginalSQL",
                "Feedback",
                "Status",
                "QualityRank",
                "ExecutionCostRank",
                "UsesTemplate",
                "AuditQueryRuns",
                "CacheEnabled",
                "CacheTTLMinutes",
                "CacheMaxSize",
                "EmbeddingVector",
                "EmbeddingModelID",
                "CacheValidationSQL"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_CategoryID,
                p_UserQuestion,
                p_Description,
                p_SQL,
                p_TechnicalDescription,
                p_OriginalSQL,
                p_Feedback,
                COALESCE(p_Status, 'Pending'),
                p_QualityRank,
                p_ExecutionCostRank,
                p_UsesTemplate,
                COALESCE(p_AuditQueryRuns, 0),
                COALESCE(p_CacheEnabled, 0),
                p_CacheTTLMinutes,
                p_CacheMaxSize,
                p_EmbeddingVector,
                p_EmbeddingModelID,
                p_CacheValidationSQL
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Query"
            (
                "Name",
                "CategoryID",
                "UserQuestion",
                "Description",
                "SQL",
                "TechnicalDescription",
                "OriginalSQL",
                "Feedback",
                "Status",
                "QualityRank",
                "ExecutionCostRank",
                "UsesTemplate",
                "AuditQueryRuns",
                "CacheEnabled",
                "CacheTTLMinutes",
                "CacheMaxSize",
                "EmbeddingVector",
                "EmbeddingModelID",
                "CacheValidationSQL"
            )
        VALUES
            (
                p_Name,
                p_CategoryID,
                p_UserQuestion,
                p_Description,
                p_SQL,
                p_TechnicalDescription,
                p_OriginalSQL,
                p_Feedback,
                COALESCE(p_Status, 'Pending'),
                p_QualityRank,
                p_ExecutionCostRank,
                p_UsesTemplate,
                COALESCE(p_AuditQueryRuns, 0),
                COALESCE(p_CacheEnabled, 0),
                p_CacheTTLMinutes,
                p_CacheMaxSize,
                p_EmbeddingVector,
                p_EmbeddingModelID,
                p_CacheValidationSQL
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwQueries" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateQuery"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_CategoryID UUID,
    IN p_UserQuestion TEXT,
    IN p_Description TEXT,
    IN p_SQL TEXT,
    IN p_TechnicalDescription TEXT,
    IN p_OriginalSQL TEXT,
    IN p_Feedback TEXT,
    IN p_Status VARCHAR(15),
    IN p_QualityRank INTEGER,
    IN p_ExecutionCostRank INTEGER,
    IN p_UsesTemplate BOOLEAN,
    IN p_AuditQueryRuns BOOLEAN,
    IN p_CacheEnabled BOOLEAN,
    IN p_CacheTTLMinutes INTEGER,
    IN p_CacheMaxSize INTEGER,
    IN p_EmbeddingVector TEXT,
    IN p_EmbeddingModelID UUID,
    IN p_CacheValidationSQL TEXT
)
RETURNS SETOF __mj."vwQueries" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Query"
    SET
        "Name" = p_Name,
        "CategoryID" = p_CategoryID,
        "UserQuestion" = p_UserQuestion,
        "Description" = p_Description,
        "SQL" = p_SQL,
        "TechnicalDescription" = p_TechnicalDescription,
        "OriginalSQL" = p_OriginalSQL,
        "Feedback" = p_Feedback,
        "Status" = p_Status,
        "QualityRank" = p_QualityRank,
        "ExecutionCostRank" = p_ExecutionCostRank,
        "UsesTemplate" = p_UsesTemplate,
        "AuditQueryRuns" = p_AuditQueryRuns,
        "CacheEnabled" = p_CacheEnabled,
        "CacheTTLMinutes" = p_CacheTTLMinutes,
        "CacheMaxSize" = p_CacheMaxSize,
        "EmbeddingVector" = p_EmbeddingVector,
        "EmbeddingModelID" = p_EmbeddingModelID,
        "CacheValidationSQL" = p_CacheValidationSQL
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwQueries" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwQueries" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateProject"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EnvironmentID UUID DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Color VARCHAR(7) DEFAULT NULL,
    IN p_Icon VARCHAR(50) DEFAULT NULL,
    IN p_IsArchived BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwProjects" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Project"
            (
                "ID",
                "EnvironmentID",
                "ParentID",
                "Name",
                "Description",
                "Color",
                "Icon",
                "IsArchived"
            )
        VALUES
            (
                p_ID,
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END,
                p_ParentID,
                p_Name,
                p_Description,
                p_Color,
                p_Icon,
                COALESCE(p_IsArchived, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Project"
            (
                "EnvironmentID",
                "ParentID",
                "Name",
                "Description",
                "Color",
                "Icon",
                "IsArchived"
            )
        VALUES
            (
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END,
                p_ParentID,
                p_Name,
                p_Description,
                p_Color,
                p_Icon,
                COALESCE(p_IsArchived, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwProjects" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateProject"(
    IN p_ID UUID,
    IN p_EnvironmentID UUID,
    IN p_ParentID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_Color VARCHAR(7),
    IN p_Icon VARCHAR(50),
    IN p_IsArchived BOOLEAN
)
RETURNS SETOF __mj."vwProjects" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Project"
    SET
        "EnvironmentID" = p_EnvironmentID,
        "ParentID" = p_ParentID,
        "Name" = p_Name,
        "Description" = p_Description,
        "Color" = p_Color,
        "Icon" = p_Icon,
        "IsArchived" = p_IsArchived
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwProjects" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwProjects" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteProject"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Project"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateQueryCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(50) DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_DefaultCacheEnabled BOOLEAN DEFAULT NULL,
    IN p_DefaultCacheTTLMinutes INTEGER DEFAULT NULL,
    IN p_DefaultCacheMaxSize INTEGER DEFAULT NULL,
    IN p_CacheInheritanceEnabled BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwQueryCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."QueryCategory"
            (
                "ID",
                "Name",
                "ParentID",
                "Description",
                "UserID",
                "DefaultCacheEnabled",
                "DefaultCacheTTLMinutes",
                "DefaultCacheMaxSize",
                "CacheInheritanceEnabled"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_ParentID,
                p_Description,
                p_UserID,
                COALESCE(p_DefaultCacheEnabled, 0),
                p_DefaultCacheTTLMinutes,
                p_DefaultCacheMaxSize,
                COALESCE(p_CacheInheritanceEnabled, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."QueryCategory"
            (
                "Name",
                "ParentID",
                "Description",
                "UserID",
                "DefaultCacheEnabled",
                "DefaultCacheTTLMinutes",
                "DefaultCacheMaxSize",
                "CacheInheritanceEnabled"
            )
        VALUES
            (
                p_Name,
                p_ParentID,
                p_Description,
                p_UserID,
                COALESCE(p_DefaultCacheEnabled, 0),
                p_DefaultCacheTTLMinutes,
                p_DefaultCacheMaxSize,
                COALESCE(p_CacheInheritanceEnabled, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwQueryCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateQueryCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(50),
    IN p_ParentID UUID,
    IN p_Description TEXT,
    IN p_UserID UUID,
    IN p_DefaultCacheEnabled BOOLEAN,
    IN p_DefaultCacheTTLMinutes INTEGER,
    IN p_DefaultCacheMaxSize INTEGER,
    IN p_CacheInheritanceEnabled BOOLEAN
)
RETURNS SETOF __mj."vwQueryCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."QueryCategory"
    SET
        "Name" = p_Name,
        "ParentID" = p_ParentID,
        "Description" = p_Description,
        "UserID" = p_UserID,
        "DefaultCacheEnabled" = p_DefaultCacheEnabled,
        "DefaultCacheTTLMinutes" = p_DefaultCacheTTLMinutes,
        "DefaultCacheMaxSize" = p_DefaultCacheMaxSize,
        "CacheInheritanceEnabled" = p_CacheInheritanceEnabled
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwQueryCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwQueryCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteQueryCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."QueryCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateQueryEntity"(
    IN p_ID UUID DEFAULT NULL,
    IN p_QueryID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_DetectionMethod VARCHAR(50) DEFAULT NULL,
    IN p_AutoDetectConfidenceScore NUMERIC(3,2) DEFAULT NULL
)
RETURNS SETOF __mj."vwQueryEntities" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."QueryEntity"
            (
                "ID",
                "QueryID",
                "EntityID",
                "DetectionMethod",
                "AutoDetectConfidenceScore"
            )
        VALUES
            (
                p_ID,
                p_QueryID,
                p_EntityID,
                COALESCE(p_DetectionMethod, 'Manual'),
                p_AutoDetectConfidenceScore
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."QueryEntity"
            (
                "QueryID",
                "EntityID",
                "DetectionMethod",
                "AutoDetectConfidenceScore"
            )
        VALUES
            (
                p_QueryID,
                p_EntityID,
                COALESCE(p_DetectionMethod, 'Manual'),
                p_AutoDetectConfidenceScore
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwQueryEntities" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateQueryEntity"(
    IN p_ID UUID,
    IN p_QueryID UUID,
    IN p_EntityID UUID,
    IN p_DetectionMethod VARCHAR(50),
    IN p_AutoDetectConfidenceScore NUMERIC(3,2)
)
RETURNS SETOF __mj."vwQueryEntities" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."QueryEntity"
    SET
        "QueryID" = p_QueryID,
        "EntityID" = p_EntityID,
        "DetectionMethod" = p_DetectionMethod,
        "AutoDetectConfidenceScore" = p_AutoDetectConfidenceScore
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwQueryEntities" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwQueryEntities" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteQueryEntity"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."QueryEntity"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteQuery"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJDataContextItems_QueryIDID UUID;
    p_MJDataContextItems_QueryID_DataContextID UUID;
    p_MJDataContextItems_QueryID_Type VARCHAR(50);
    p_MJDataContextItems_QueryID_ViewID UUID;
    p_MJDataContextItems_QueryID_QueryID UUID;
    p_MJDataContextItems_QueryID_EntityID UUID;
    p_MJDataContextItems_QueryID_RecordID VARCHAR(450);
    p_MJDataContextItems_QueryID_SQL TEXT;
    p_MJDataContextItems_QueryID_DataJSON TEXT;
    p_MJDataContextItems_QueryID_LastRefreshedAt TIMESTAMPTZ;
    p_MJDataContextItems_QueryID_Description TEXT;
    p_MJDataContextItems_QueryID_CodeName VARCHAR(255);
    p_MJQueryEntities_QueryIDID UUID;
    p_MJQueryFields_QueryIDID UUID;
    p_MJQueryParameters_QueryIDID UUID;
    p_MJQueryPermissions_QueryIDID UUID;
BEGIN
-- Cascade update on DataContextItem using cursor to call spUpdateDataContextItem


    FOR _rec IN SELECT "ID", "DataContextID", "Type", "ViewID", "QueryID", "EntityID", "RecordID", "SQL", "DataJSON", "LastRefreshedAt", "Description", "CodeName" FROM __mj."DataContextItem" WHERE "QueryID" = p_ID
    LOOP
        p_MJDataContextItems_QueryIDID := _rec."ID";
        p_MJDataContextItems_QueryID_DataContextID := _rec."DataContextID";
        p_MJDataContextItems_QueryID_Type := _rec."Type";
        p_MJDataContextItems_QueryID_ViewID := _rec."ViewID";
        p_MJDataContextItems_QueryID_QueryID := _rec."QueryID";
        p_MJDataContextItems_QueryID_EntityID := _rec."EntityID";
        p_MJDataContextItems_QueryID_RecordID := _rec."RecordID";
        p_MJDataContextItems_QueryID_SQL := _rec."SQL";
        p_MJDataContextItems_QueryID_DataJSON := _rec."DataJSON";
        p_MJDataContextItems_QueryID_LastRefreshedAt := _rec."LastRefreshedAt";
        p_MJDataContextItems_QueryID_Description := _rec."Description";
        p_MJDataContextItems_QueryID_CodeName := _rec."CodeName";
        -- Set the FK field to NULL
        p_MJDataContextItems_QueryID_QueryID := NULL;
        -- Call the update SP for the related entity
        PERFORM __mj."spUpdateDataContextItem"(p_MJDataContextItems_QueryIDID, p_MJDataContextItems_QueryID_DataContextID, p_MJDataContextItems_QueryID_Type, p_MJDataContextItems_QueryID_ViewID, p_MJDataContextItems_QueryID_QueryID, p_MJDataContextItems_QueryID_EntityID, p_MJDataContextItems_QueryID_RecordID, p_MJDataContextItems_QueryID_SQL, p_MJDataContextItems_QueryID_DataJSON, p_MJDataContextItems_QueryID_LastRefreshedAt, p_MJDataContextItems_QueryID_Description, p_MJDataContextItems_QueryID_CodeName);

    END LOOP;

    
    -- Cascade delete from QueryEntity using cursor to call spDeleteQueryEntity

    FOR _rec IN SELECT "ID" FROM __mj."QueryEntity" WHERE "QueryID" = p_ID
    LOOP
        p_MJQueryEntities_QueryIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteQueryEntity"(p_MJQueryEntities_QueryIDID);
        
    END LOOP;
    
    
    -- Cascade delete from QueryField using cursor to call spDeleteQueryField

    FOR _rec IN SELECT "ID" FROM __mj."QueryField" WHERE "QueryID" = p_ID
    LOOP
        p_MJQueryFields_QueryIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteQueryField"(p_MJQueryFields_QueryIDID);
        
    END LOOP;
    
    
    -- Cascade delete from QueryParameter using cursor to call spDeleteQueryParameter

    FOR _rec IN SELECT "ID" FROM __mj."QueryParameter" WHERE "QueryID" = p_ID
    LOOP
        p_MJQueryParameters_QueryIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteQueryParameter"(p_MJQueryParameters_QueryIDID);
        
    END LOOP;
    
    
    -- Cascade delete from QueryPermission using cursor to call spDeleteQueryPermission

    FOR _rec IN SELECT "ID" FROM __mj."QueryPermission" WHERE "QueryID" = p_ID
    LOOP
        p_MJQueryPermissions_QueryIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteQueryPermission"(p_MJQueryPermissions_QueryIDID);
        
    END LOOP;
    
    

    DELETE FROM
        __mj."Query"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateQueryField"(
    IN p_ID UUID DEFAULT NULL,
    IN p_QueryID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_SQLBaseType VARCHAR(50) DEFAULT NULL,
    IN p_SQLFullType VARCHAR(100) DEFAULT NULL,
    IN p_SourceEntityID UUID DEFAULT NULL,
    IN p_SourceFieldName VARCHAR(255) DEFAULT NULL,
    IN p_IsComputed BOOLEAN DEFAULT NULL,
    IN p_ComputationDescription TEXT DEFAULT NULL,
    IN p_IsSummary BOOLEAN DEFAULT NULL,
    IN p_SummaryDescription TEXT DEFAULT NULL,
    IN p_DetectionMethod VARCHAR(50) DEFAULT NULL,
    IN p_AutoDetectConfidenceScore NUMERIC(3,2) DEFAULT NULL
)
RETURNS SETOF __mj."vwQueryFields" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."QueryField"
            (
                "ID",
                "QueryID",
                "Name",
                "Description",
                "Sequence",
                "SQLBaseType",
                "SQLFullType",
                "SourceEntityID",
                "SourceFieldName",
                "IsComputed",
                "ComputationDescription",
                "IsSummary",
                "SummaryDescription",
                "DetectionMethod",
                "AutoDetectConfidenceScore"
            )
        VALUES
            (
                p_ID,
                p_QueryID,
                p_Name,
                p_Description,
                p_Sequence,
                p_SQLBaseType,
                p_SQLFullType,
                p_SourceEntityID,
                p_SourceFieldName,
                COALESCE(p_IsComputed, 0),
                p_ComputationDescription,
                COALESCE(p_IsSummary, 0),
                p_SummaryDescription,
                COALESCE(p_DetectionMethod, 'Manual'),
                p_AutoDetectConfidenceScore
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."QueryField"
            (
                "QueryID",
                "Name",
                "Description",
                "Sequence",
                "SQLBaseType",
                "SQLFullType",
                "SourceEntityID",
                "SourceFieldName",
                "IsComputed",
                "ComputationDescription",
                "IsSummary",
                "SummaryDescription",
                "DetectionMethod",
                "AutoDetectConfidenceScore"
            )
        VALUES
            (
                p_QueryID,
                p_Name,
                p_Description,
                p_Sequence,
                p_SQLBaseType,
                p_SQLFullType,
                p_SourceEntityID,
                p_SourceFieldName,
                COALESCE(p_IsComputed, 0),
                p_ComputationDescription,
                COALESCE(p_IsSummary, 0),
                p_SummaryDescription,
                COALESCE(p_DetectionMethod, 'Manual'),
                p_AutoDetectConfidenceScore
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwQueryFields" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateQueryField"(
    IN p_ID UUID,
    IN p_QueryID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_Sequence INTEGER,
    IN p_SQLBaseType VARCHAR(50),
    IN p_SQLFullType VARCHAR(100),
    IN p_SourceEntityID UUID,
    IN p_SourceFieldName VARCHAR(255),
    IN p_IsComputed BOOLEAN,
    IN p_ComputationDescription TEXT,
    IN p_IsSummary BOOLEAN,
    IN p_SummaryDescription TEXT,
    IN p_DetectionMethod VARCHAR(50),
    IN p_AutoDetectConfidenceScore NUMERIC(3,2)
)
RETURNS SETOF __mj."vwQueryFields" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."QueryField"
    SET
        "QueryID" = p_QueryID,
        "Name" = p_Name,
        "Description" = p_Description,
        "Sequence" = p_Sequence,
        "SQLBaseType" = p_SQLBaseType,
        "SQLFullType" = p_SQLFullType,
        "SourceEntityID" = p_SourceEntityID,
        "SourceFieldName" = p_SourceFieldName,
        "IsComputed" = p_IsComputed,
        "ComputationDescription" = p_ComputationDescription,
        "IsSummary" = p_IsSummary,
        "SummaryDescription" = p_SummaryDescription,
        "DetectionMethod" = p_DetectionMethod,
        "AutoDetectConfidenceScore" = p_AutoDetectConfidenceScore
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwQueryFields" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwQueryFields" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteQueryField"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."QueryField"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateQueueTask"(
    IN p_ID UUID DEFAULT NULL,
    IN p_QueueID UUID DEFAULT NULL,
    IN p_Status CHAR(10) DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Data TEXT DEFAULT NULL,
    IN p_Options TEXT DEFAULT NULL,
    IN p_Output TEXT DEFAULT NULL,
    IN p_ErrorMessage TEXT DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwQueueTasks" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."QueueTask"
            (
                "ID",
                "QueueID",
                "Status",
                "StartedAt",
                "EndedAt",
                "Data",
                "Options",
                "Output",
                "ErrorMessage",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_QueueID,
                COALESCE(p_Status, 'Pending'),
                p_StartedAt,
                p_EndedAt,
                p_Data,
                p_Options,
                p_Output,
                p_ErrorMessage,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."QueueTask"
            (
                "QueueID",
                "Status",
                "StartedAt",
                "EndedAt",
                "Data",
                "Options",
                "Output",
                "ErrorMessage",
                "Comments"
            )
        VALUES
            (
                p_QueueID,
                COALESCE(p_Status, 'Pending'),
                p_StartedAt,
                p_EndedAt,
                p_Data,
                p_Options,
                p_Output,
                p_ErrorMessage,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwQueueTasks" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateQueueTask"(
    IN p_ID UUID,
    IN p_QueueID UUID,
    IN p_Status CHAR(10),
    IN p_StartedAt TIMESTAMPTZ,
    IN p_EndedAt TIMESTAMPTZ,
    IN p_Data TEXT,
    IN p_Options TEXT,
    IN p_Output TEXT,
    IN p_ErrorMessage TEXT,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwQueueTasks" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."QueueTask"
    SET
        "QueueID" = p_QueueID,
        "Status" = p_Status,
        "StartedAt" = p_StartedAt,
        "EndedAt" = p_EndedAt,
        "Data" = p_Data,
        "Options" = p_Options,
        "Output" = p_Output,
        "ErrorMessage" = p_ErrorMessage,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwQueueTasks" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwQueueTasks" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteQueueTask"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."QueueTask"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateQueryParameter"(
    IN p_ID UUID DEFAULT NULL,
    IN p_QueryID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Type VARCHAR(50) DEFAULT NULL,
    IN p_IsRequired BOOLEAN DEFAULT NULL,
    IN p_DefaultValue TEXT DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_SampleValue TEXT DEFAULT NULL,
    IN p_ValidationFilters TEXT DEFAULT NULL,
    IN p_DetectionMethod VARCHAR(50) DEFAULT NULL,
    IN p_AutoDetectConfidenceScore NUMERIC(3,2) DEFAULT NULL
)
RETURNS SETOF __mj."vwQueryParameters" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."QueryParameter"
            (
                "ID",
                "QueryID",
                "Name",
                "Type",
                "IsRequired",
                "DefaultValue",
                "Description",
                "SampleValue",
                "ValidationFilters",
                "DetectionMethod",
                "AutoDetectConfidenceScore"
            )
        VALUES
            (
                p_ID,
                p_QueryID,
                p_Name,
                p_Type,
                p_IsRequired,
                p_DefaultValue,
                p_Description,
                p_SampleValue,
                p_ValidationFilters,
                COALESCE(p_DetectionMethod, 'Manual'),
                p_AutoDetectConfidenceScore
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."QueryParameter"
            (
                "QueryID",
                "Name",
                "Type",
                "IsRequired",
                "DefaultValue",
                "Description",
                "SampleValue",
                "ValidationFilters",
                "DetectionMethod",
                "AutoDetectConfidenceScore"
            )
        VALUES
            (
                p_QueryID,
                p_Name,
                p_Type,
                p_IsRequired,
                p_DefaultValue,
                p_Description,
                p_SampleValue,
                p_ValidationFilters,
                COALESCE(p_DetectionMethod, 'Manual'),
                p_AutoDetectConfidenceScore
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwQueryParameters" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateQueryParameter"(
    IN p_ID UUID,
    IN p_QueryID UUID,
    IN p_Name VARCHAR(255),
    IN p_Type VARCHAR(50),
    IN p_IsRequired BOOLEAN,
    IN p_DefaultValue TEXT,
    IN p_Description TEXT,
    IN p_SampleValue TEXT,
    IN p_ValidationFilters TEXT,
    IN p_DetectionMethod VARCHAR(50),
    IN p_AutoDetectConfidenceScore NUMERIC(3,2)
)
RETURNS SETOF __mj."vwQueryParameters" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."QueryParameter"
    SET
        "QueryID" = p_QueryID,
        "Name" = p_Name,
        "Type" = p_Type,
        "IsRequired" = p_IsRequired,
        "DefaultValue" = p_DefaultValue,
        "Description" = p_Description,
        "SampleValue" = p_SampleValue,
        "ValidationFilters" = p_ValidationFilters,
        "DetectionMethod" = p_DetectionMethod,
        "AutoDetectConfidenceScore" = p_AutoDetectConfidenceScore
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwQueryParameters" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwQueryParameters" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteQueryParameter"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."QueryParameter"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateQueryPermission"(
    IN p_ID UUID DEFAULT NULL,
    IN p_QueryID UUID DEFAULT NULL,
    IN p_RoleID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwQueryPermissions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."QueryPermission"
            (
                "ID",
                "QueryID",
                "RoleID"
            )
        VALUES
            (
                p_ID,
                p_QueryID,
                p_RoleID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."QueryPermission"
            (
                "QueryID",
                "RoleID"
            )
        VALUES
            (
                p_QueryID,
                p_RoleID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwQueryPermissions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateQueryPermission"(
    IN p_ID UUID,
    IN p_QueryID UUID,
    IN p_RoleID UUID
)
RETURNS SETOF __mj."vwQueryPermissions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."QueryPermission"
    SET
        "QueryID" = p_QueryID,
        "RoleID" = p_RoleID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwQueryPermissions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwQueryPermissions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteQueryPermission"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."QueryPermission"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateRecommendationItem"(
    IN p_ID UUID DEFAULT NULL,
    IN p_RecommendationID UUID DEFAULT NULL,
    IN p_DestinationEntityID UUID DEFAULT NULL,
    IN p_DestinationEntityRecordID VARCHAR(450) DEFAULT NULL,
    IN p_MatchProbability NUMERIC(18,15) DEFAULT NULL
)
RETURNS SETOF __mj."vwRecommendationItems" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."RecommendationItem"
            (
                "ID",
                "RecommendationID",
                "DestinationEntityID",
                "DestinationEntityRecordID",
                "MatchProbability"
            )
        VALUES
            (
                p_ID,
                p_RecommendationID,
                p_DestinationEntityID,
                p_DestinationEntityRecordID,
                p_MatchProbability
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."RecommendationItem"
            (
                "RecommendationID",
                "DestinationEntityID",
                "DestinationEntityRecordID",
                "MatchProbability"
            )
        VALUES
            (
                p_RecommendationID,
                p_DestinationEntityID,
                p_DestinationEntityRecordID,
                p_MatchProbability
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwRecommendationItems" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateRecommendationItem"(
    IN p_ID UUID,
    IN p_RecommendationID UUID,
    IN p_DestinationEntityID UUID,
    IN p_DestinationEntityRecordID VARCHAR(450),
    IN p_MatchProbability NUMERIC(18,15)
)
RETURNS SETOF __mj."vwRecommendationItems" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."RecommendationItem"
    SET
        "RecommendationID" = p_RecommendationID,
        "DestinationEntityID" = p_DestinationEntityID,
        "DestinationEntityRecordID" = p_DestinationEntityRecordID,
        "MatchProbability" = p_MatchProbability
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwRecommendationItems" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwRecommendationItems" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteRecommendationItem"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."RecommendationItem"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateQueue"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(50) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_QueueTypeID UUID DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL,
    IN p_ProcessPID INTEGER DEFAULT NULL,
    IN p_ProcessPlatform VARCHAR(30) DEFAULT NULL,
    IN p_ProcessVersion VARCHAR(15) DEFAULT NULL,
    IN p_ProcessCwd VARCHAR(100) DEFAULT NULL,
    IN p_ProcessIPAddress VARCHAR(50) DEFAULT NULL,
    IN p_ProcessMacAddress VARCHAR(50) DEFAULT NULL,
    IN p_ProcessOSName VARCHAR(25) DEFAULT NULL,
    IN p_ProcessOSVersion VARCHAR(10) DEFAULT NULL,
    IN p_ProcessHostName VARCHAR(50) DEFAULT NULL,
    IN p_ProcessUserID VARCHAR(25) DEFAULT NULL,
    IN p_ProcessUserName VARCHAR(50) DEFAULT NULL,
    IN p_LastHeartbeat TIMESTAMPTZ DEFAULT NULL
)
RETURNS SETOF __mj."vwQueues" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Queue"
            (
                "ID",
                "Name",
                "Description",
                "QueueTypeID",
                "IsActive",
                "ProcessPID",
                "ProcessPlatform",
                "ProcessVersion",
                "ProcessCwd",
                "ProcessIPAddress",
                "ProcessMacAddress",
                "ProcessOSName",
                "ProcessOSVersion",
                "ProcessHostName",
                "ProcessUserID",
                "ProcessUserName",
                "LastHeartbeat"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_QueueTypeID,
                COALESCE(p_IsActive, 0),
                p_ProcessPID,
                p_ProcessPlatform,
                p_ProcessVersion,
                p_ProcessCwd,
                p_ProcessIPAddress,
                p_ProcessMacAddress,
                p_ProcessOSName,
                p_ProcessOSVersion,
                p_ProcessHostName,
                p_ProcessUserID,
                p_ProcessUserName,
                COALESCE(p_LastHeartbeat, NOW())
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Queue"
            (
                "Name",
                "Description",
                "QueueTypeID",
                "IsActive",
                "ProcessPID",
                "ProcessPlatform",
                "ProcessVersion",
                "ProcessCwd",
                "ProcessIPAddress",
                "ProcessMacAddress",
                "ProcessOSName",
                "ProcessOSVersion",
                "ProcessHostName",
                "ProcessUserID",
                "ProcessUserName",
                "LastHeartbeat"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_QueueTypeID,
                COALESCE(p_IsActive, 0),
                p_ProcessPID,
                p_ProcessPlatform,
                p_ProcessVersion,
                p_ProcessCwd,
                p_ProcessIPAddress,
                p_ProcessMacAddress,
                p_ProcessOSName,
                p_ProcessOSVersion,
                p_ProcessHostName,
                p_ProcessUserID,
                p_ProcessUserName,
                COALESCE(p_LastHeartbeat, NOW())
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwQueues" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateQueue"(
    IN p_ID UUID,
    IN p_Name VARCHAR(50),
    IN p_Description TEXT,
    IN p_QueueTypeID UUID,
    IN p_IsActive BOOLEAN,
    IN p_ProcessPID INTEGER,
    IN p_ProcessPlatform VARCHAR(30),
    IN p_ProcessVersion VARCHAR(15),
    IN p_ProcessCwd VARCHAR(100),
    IN p_ProcessIPAddress VARCHAR(50),
    IN p_ProcessMacAddress VARCHAR(50),
    IN p_ProcessOSName VARCHAR(25),
    IN p_ProcessOSVersion VARCHAR(10),
    IN p_ProcessHostName VARCHAR(50),
    IN p_ProcessUserID VARCHAR(25),
    IN p_ProcessUserName VARCHAR(50),
    IN p_LastHeartbeat TIMESTAMPTZ
)
RETURNS SETOF __mj."vwQueues" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Queue"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "QueueTypeID" = p_QueueTypeID,
        "IsActive" = p_IsActive,
        "ProcessPID" = p_ProcessPID,
        "ProcessPlatform" = p_ProcessPlatform,
        "ProcessVersion" = p_ProcessVersion,
        "ProcessCwd" = p_ProcessCwd,
        "ProcessIPAddress" = p_ProcessIPAddress,
        "ProcessMacAddress" = p_ProcessMacAddress,
        "ProcessOSName" = p_ProcessOSName,
        "ProcessOSVersion" = p_ProcessOSVersion,
        "ProcessHostName" = p_ProcessHostName,
        "ProcessUserID" = p_ProcessUserID,
        "ProcessUserName" = p_ProcessUserName,
        "LastHeartbeat" = p_LastHeartbeat
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwQueues" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwQueues" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteQueue"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Queue"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateRecommendationRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_RecommendationProviderID UUID DEFAULT NULL,
    IN p_StartDate TIMESTAMPTZ DEFAULT NULL,
    IN p_EndDate TIMESTAMPTZ DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_RunByUserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwRecommendationRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."RecommendationRun"
            (
                "ID",
                "RecommendationProviderID",
                "StartDate",
                "EndDate",
                "Status",
                "Description",
                "RunByUserID"
            )
        VALUES
            (
                p_ID,
                p_RecommendationProviderID,
                p_StartDate,
                p_EndDate,
                p_Status,
                p_Description,
                p_RunByUserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."RecommendationRun"
            (
                "RecommendationProviderID",
                "StartDate",
                "EndDate",
                "Status",
                "Description",
                "RunByUserID"
            )
        VALUES
            (
                p_RecommendationProviderID,
                p_StartDate,
                p_EndDate,
                p_Status,
                p_Description,
                p_RunByUserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwRecommendationRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateRecommendationRun"(
    IN p_ID UUID,
    IN p_RecommendationProviderID UUID,
    IN p_StartDate TIMESTAMPTZ,
    IN p_EndDate TIMESTAMPTZ,
    IN p_Status VARCHAR(50),
    IN p_Description TEXT,
    IN p_RunByUserID UUID
)
RETURNS SETOF __mj."vwRecommendationRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."RecommendationRun"
    SET
        "RecommendationProviderID" = p_RecommendationProviderID,
        "StartDate" = p_StartDate,
        "EndDate" = p_EndDate,
        "Status" = p_Status,
        "Description" = p_Description,
        "RunByUserID" = p_RunByUserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwRecommendationRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwRecommendationRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteRecommendationRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."RecommendationRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateRecommendation"(
    IN p_ID UUID DEFAULT NULL,
    IN p_RecommendationRunID UUID DEFAULT NULL,
    IN p_SourceEntityID UUID DEFAULT NULL,
    IN p_SourceEntityRecordID TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwRecommendations" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Recommendation"
            (
                "ID",
                "RecommendationRunID",
                "SourceEntityID",
                "SourceEntityRecordID"
            )
        VALUES
            (
                p_ID,
                p_RecommendationRunID,
                p_SourceEntityID,
                p_SourceEntityRecordID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Recommendation"
            (
                "RecommendationRunID",
                "SourceEntityID",
                "SourceEntityRecordID"
            )
        VALUES
            (
                p_RecommendationRunID,
                p_SourceEntityID,
                p_SourceEntityRecordID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwRecommendations" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateRecommendation"(
    IN p_ID UUID,
    IN p_RecommendationRunID UUID,
    IN p_SourceEntityID UUID,
    IN p_SourceEntityRecordID TEXT
)
RETURNS SETOF __mj."vwRecommendations" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Recommendation"
    SET
        "RecommendationRunID" = p_RecommendationRunID,
        "SourceEntityID" = p_SourceEntityID,
        "SourceEntityRecordID" = p_SourceEntityRecordID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwRecommendations" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwRecommendations" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteRecommendation"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Recommendation"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateRecordChange"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(750) DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Type VARCHAR(20) DEFAULT NULL,
    IN p_Source VARCHAR(20) DEFAULT NULL,
    IN p_ChangedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_ChangesJSON TEXT DEFAULT NULL,
    IN p_ChangesDescription TEXT DEFAULT NULL,
    IN p_FullRecordJSON TEXT DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_ErrorLog TEXT DEFAULT NULL,
    IN p_ReplayRunID UUID DEFAULT NULL,
    IN p_IntegrationID UUID DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwRecordChanges" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."RecordChange"
            (
                "ID",
                "EntityID",
                "RecordID",
                "UserID",
                "Type",
                "Source",
                "ChangedAt",
                "ChangesJSON",
                "ChangesDescription",
                "FullRecordJSON",
                "Status",
                "ErrorLog",
                "ReplayRunID",
                "IntegrationID",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_EntityID,
                p_RecordID,
                p_UserID,
                COALESCE(p_Type, 'Create'),
                COALESCE(p_Source, 'Internal'),
                COALESCE(p_ChangedAt, NOW()),
                p_ChangesJSON,
                p_ChangesDescription,
                p_FullRecordJSON,
                COALESCE(p_Status, 'Complete'),
                p_ErrorLog,
                p_ReplayRunID,
                p_IntegrationID,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."RecordChange"
            (
                "EntityID",
                "RecordID",
                "UserID",
                "Type",
                "Source",
                "ChangedAt",
                "ChangesJSON",
                "ChangesDescription",
                "FullRecordJSON",
                "Status",
                "ErrorLog",
                "ReplayRunID",
                "IntegrationID",
                "Comments"
            )
        VALUES
            (
                p_EntityID,
                p_RecordID,
                p_UserID,
                COALESCE(p_Type, 'Create'),
                COALESCE(p_Source, 'Internal'),
                COALESCE(p_ChangedAt, NOW()),
                p_ChangesJSON,
                p_ChangesDescription,
                p_FullRecordJSON,
                COALESCE(p_Status, 'Complete'),
                p_ErrorLog,
                p_ReplayRunID,
                p_IntegrationID,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwRecordChanges" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateRecordChange"(
    IN p_ID UUID,
    IN p_EntityID UUID,
    IN p_RecordID VARCHAR(750),
    IN p_UserID UUID,
    IN p_Type VARCHAR(20),
    IN p_Source VARCHAR(20),
    IN p_ChangedAt TIMESTAMPTZ,
    IN p_ChangesJSON TEXT,
    IN p_ChangesDescription TEXT,
    IN p_FullRecordJSON TEXT,
    IN p_Status VARCHAR(50),
    IN p_ErrorLog TEXT,
    IN p_ReplayRunID UUID,
    IN p_IntegrationID UUID,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwRecordChanges" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."RecordChange"
    SET
        "EntityID" = p_EntityID,
        "RecordID" = p_RecordID,
        "UserID" = p_UserID,
        "Type" = p_Type,
        "Source" = p_Source,
        "ChangedAt" = p_ChangedAt,
        "ChangesJSON" = p_ChangesJSON,
        "ChangesDescription" = p_ChangesDescription,
        "FullRecordJSON" = p_FullRecordJSON,
        "Status" = p_Status,
        "ErrorLog" = p_ErrorLog,
        "ReplayRunID" = p_ReplayRunID,
        "IntegrationID" = p_IntegrationID,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwRecordChanges" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwRecordChanges" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteRecordChange"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."RecordChange"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateRecordChangeReplayRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwRecordChangeReplayRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."RecordChangeReplayRun"
            (
                "ID",
                "StartedAt",
                "EndedAt",
                "Status",
                "UserID"
            )
        VALUES
            (
                p_ID,
                p_StartedAt,
                p_EndedAt,
                p_Status,
                p_UserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."RecordChangeReplayRun"
            (
                "StartedAt",
                "EndedAt",
                "Status",
                "UserID"
            )
        VALUES
            (
                p_StartedAt,
                p_EndedAt,
                p_Status,
                p_UserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwRecordChangeReplayRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateRecordChangeReplayRun"(
    IN p_ID UUID,
    IN p_StartedAt TIMESTAMPTZ,
    IN p_EndedAt TIMESTAMPTZ,
    IN p_Status VARCHAR(50),
    IN p_UserID UUID
)
RETURNS SETOF __mj."vwRecordChangeReplayRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."RecordChangeReplayRun"
    SET
        "StartedAt" = p_StartedAt,
        "EndedAt" = p_EndedAt,
        "Status" = p_Status,
        "UserID" = p_UserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwRecordChangeReplayRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwRecordChangeReplayRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteRecordChangeReplayRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."RecordChangeReplayRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateRecordLink"(
    IN p_ID UUID DEFAULT NULL,
    IN p_SourceEntityID UUID DEFAULT NULL,
    IN p_SourceRecordID VARCHAR(500) DEFAULT NULL,
    IN p_TargetEntityID UUID DEFAULT NULL,
    IN p_TargetRecordID VARCHAR(500) DEFAULT NULL,
    IN p_LinkType VARCHAR(50) DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_Metadata TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwRecordLinks" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."RecordLink"
            (
                "ID",
                "SourceEntityID",
                "SourceRecordID",
                "TargetEntityID",
                "TargetRecordID",
                "LinkType",
                "Sequence",
                "Metadata"
            )
        VALUES
            (
                p_ID,
                p_SourceEntityID,
                p_SourceRecordID,
                p_TargetEntityID,
                p_TargetRecordID,
                p_LinkType,
                p_Sequence,
                p_Metadata
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."RecordLink"
            (
                "SourceEntityID",
                "SourceRecordID",
                "TargetEntityID",
                "TargetRecordID",
                "LinkType",
                "Sequence",
                "Metadata"
            )
        VALUES
            (
                p_SourceEntityID,
                p_SourceRecordID,
                p_TargetEntityID,
                p_TargetRecordID,
                p_LinkType,
                p_Sequence,
                p_Metadata
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwRecordLinks" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateRecordLink"(
    IN p_ID UUID,
    IN p_SourceEntityID UUID,
    IN p_SourceRecordID VARCHAR(500),
    IN p_TargetEntityID UUID,
    IN p_TargetRecordID VARCHAR(500),
    IN p_LinkType VARCHAR(50),
    IN p_Sequence INTEGER,
    IN p_Metadata TEXT
)
RETURNS SETOF __mj."vwRecordLinks" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."RecordLink"
    SET
        "SourceEntityID" = p_SourceEntityID,
        "SourceRecordID" = p_SourceRecordID,
        "TargetEntityID" = p_TargetEntityID,
        "TargetRecordID" = p_TargetRecordID,
        "LinkType" = p_LinkType,
        "Sequence" = p_Sequence,
        "Metadata" = p_Metadata
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwRecordLinks" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwRecordLinks" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteRecordLink"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."RecordLink"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateRecordMergeDeletionLog"(
    IN p_ID UUID DEFAULT NULL,
    IN p_RecordMergeLogID UUID DEFAULT NULL,
    IN p_DeletedRecordID VARCHAR(750) DEFAULT NULL,
    IN p_Status VARCHAR(10) DEFAULT NULL,
    IN p_ProcessingLog TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwRecordMergeDeletionLogs" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."RecordMergeDeletionLog"
            (
                "ID",
                "RecordMergeLogID",
                "DeletedRecordID",
                "Status",
                "ProcessingLog"
            )
        VALUES
            (
                p_ID,
                p_RecordMergeLogID,
                p_DeletedRecordID,
                COALESCE(p_Status, 'Pending'),
                p_ProcessingLog
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."RecordMergeDeletionLog"
            (
                "RecordMergeLogID",
                "DeletedRecordID",
                "Status",
                "ProcessingLog"
            )
        VALUES
            (
                p_RecordMergeLogID,
                p_DeletedRecordID,
                COALESCE(p_Status, 'Pending'),
                p_ProcessingLog
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwRecordMergeDeletionLogs" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateRecordMergeDeletionLog"(
    IN p_ID UUID,
    IN p_RecordMergeLogID UUID,
    IN p_DeletedRecordID VARCHAR(750),
    IN p_Status VARCHAR(10),
    IN p_ProcessingLog TEXT
)
RETURNS SETOF __mj."vwRecordMergeDeletionLogs" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."RecordMergeDeletionLog"
    SET
        "RecordMergeLogID" = p_RecordMergeLogID,
        "DeletedRecordID" = p_DeletedRecordID,
        "Status" = p_Status,
        "ProcessingLog" = p_ProcessingLog
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwRecordMergeDeletionLogs" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwRecordMergeDeletionLogs" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteRecordMergeDeletionLog"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."RecordMergeDeletionLog"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateRecordMergeLog"(
    IN p_ID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_SurvivingRecordID VARCHAR(450) DEFAULT NULL,
    IN p_InitiatedByUserID UUID DEFAULT NULL,
    IN p_ApprovalStatus VARCHAR(10) DEFAULT NULL,
    IN p_ApprovedByUserID UUID DEFAULT NULL,
    IN p_ProcessingStatus VARCHAR(10) DEFAULT NULL,
    IN p_ProcessingStartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_ProcessingEndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_ProcessingLog TEXT DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwRecordMergeLogs" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."RecordMergeLog"
            (
                "ID",
                "EntityID",
                "SurvivingRecordID",
                "InitiatedByUserID",
                "ApprovalStatus",
                "ApprovedByUserID",
                "ProcessingStatus",
                "ProcessingStartedAt",
                "ProcessingEndedAt",
                "ProcessingLog",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_EntityID,
                p_SurvivingRecordID,
                p_InitiatedByUserID,
                COALESCE(p_ApprovalStatus, 'Pending'),
                p_ApprovedByUserID,
                COALESCE(p_ProcessingStatus, 'Pending'),
                COALESCE(p_ProcessingStartedAt, NOW()),
                p_ProcessingEndedAt,
                p_ProcessingLog,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."RecordMergeLog"
            (
                "EntityID",
                "SurvivingRecordID",
                "InitiatedByUserID",
                "ApprovalStatus",
                "ApprovedByUserID",
                "ProcessingStatus",
                "ProcessingStartedAt",
                "ProcessingEndedAt",
                "ProcessingLog",
                "Comments"
            )
        VALUES
            (
                p_EntityID,
                p_SurvivingRecordID,
                p_InitiatedByUserID,
                COALESCE(p_ApprovalStatus, 'Pending'),
                p_ApprovedByUserID,
                COALESCE(p_ProcessingStatus, 'Pending'),
                COALESCE(p_ProcessingStartedAt, NOW()),
                p_ProcessingEndedAt,
                p_ProcessingLog,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwRecordMergeLogs" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateRecordMergeLog"(
    IN p_ID UUID,
    IN p_EntityID UUID,
    IN p_SurvivingRecordID VARCHAR(450),
    IN p_InitiatedByUserID UUID,
    IN p_ApprovalStatus VARCHAR(10),
    IN p_ApprovedByUserID UUID,
    IN p_ProcessingStatus VARCHAR(10),
    IN p_ProcessingStartedAt TIMESTAMPTZ,
    IN p_ProcessingEndedAt TIMESTAMPTZ,
    IN p_ProcessingLog TEXT,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwRecordMergeLogs" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."RecordMergeLog"
    SET
        "EntityID" = p_EntityID,
        "SurvivingRecordID" = p_SurvivingRecordID,
        "InitiatedByUserID" = p_InitiatedByUserID,
        "ApprovalStatus" = p_ApprovalStatus,
        "ApprovedByUserID" = p_ApprovedByUserID,
        "ProcessingStatus" = p_ProcessingStatus,
        "ProcessingStartedAt" = p_ProcessingStartedAt,
        "ProcessingEndedAt" = p_ProcessingEndedAt,
        "ProcessingLog" = p_ProcessingLog,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwRecordMergeLogs" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwRecordMergeLogs" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteRecordMergeLog"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."RecordMergeLog"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateReportCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwReportCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ReportCategory"
            (
                "ID",
                "Name",
                "Description",
                "ParentID",
                "UserID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ParentID,
                p_UserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ReportCategory"
            (
                "Name",
                "Description",
                "ParentID",
                "UserID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ParentID,
                p_UserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwReportCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateReportCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_ParentID UUID,
    IN p_UserID UUID
)
RETURNS SETOF __mj."vwReportCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ReportCategory"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ParentID" = p_ParentID,
        "UserID" = p_UserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwReportCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwReportCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteReportCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ReportCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateReportSnapshot"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ReportID UUID DEFAULT NULL,
    IN p_ResultSet TEXT DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwReportSnapshots" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ReportSnapshot"
            (
                "ID",
                "ReportID",
                "ResultSet",
                "UserID"
            )
        VALUES
            (
                p_ID,
                p_ReportID,
                p_ResultSet,
                p_UserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ReportSnapshot"
            (
                "ReportID",
                "ResultSet",
                "UserID"
            )
        VALUES
            (
                p_ReportID,
                p_ResultSet,
                p_UserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwReportSnapshots" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateReportSnapshot"(
    IN p_ID UUID,
    IN p_ReportID UUID,
    IN p_ResultSet TEXT,
    IN p_UserID UUID
)
RETURNS SETOF __mj."vwReportSnapshots" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ReportSnapshot"
    SET
        "ReportID" = p_ReportID,
        "ResultSet" = p_ResultSet,
        "UserID" = p_UserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwReportSnapshots" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwReportSnapshots" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteReportSnapshot"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ReportSnapshot"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateReportUserState"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ReportID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_ReportState TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwReportUserStates" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ReportUserState"
            (
                "ID",
                "ReportID",
                "UserID",
                "ReportState"
            )
        VALUES
            (
                p_ID,
                p_ReportID,
                p_UserID,
                p_ReportState
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ReportUserState"
            (
                "ReportID",
                "UserID",
                "ReportState"
            )
        VALUES
            (
                p_ReportID,
                p_UserID,
                p_ReportState
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwReportUserStates" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateReportUserState"(
    IN p_ID UUID,
    IN p_ReportID UUID,
    IN p_UserID UUID,
    IN p_ReportState TEXT
)
RETURNS SETOF __mj."vwReportUserStates" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ReportUserState"
    SET
        "ReportID" = p_ReportID,
        "UserID" = p_UserID,
        "ReportState" = p_ReportState
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwReportUserStates" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwReportUserStates" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteReportUserState"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ReportUserState"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateReportVersion"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ReportID UUID DEFAULT NULL,
    IN p_VersionNumber INTEGER DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL,
    IN p_DataContextUpdated BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwReportVersions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ReportVersion"
            (
                "ID",
                "ReportID",
                "VersionNumber",
                "Name",
                "Description",
                "Configuration",
                "DataContextUpdated"
            )
        VALUES
            (
                p_ID,
                p_ReportID,
                p_VersionNumber,
                p_Name,
                p_Description,
                p_Configuration,
                COALESCE(p_DataContextUpdated, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ReportVersion"
            (
                "ReportID",
                "VersionNumber",
                "Name",
                "Description",
                "Configuration",
                "DataContextUpdated"
            )
        VALUES
            (
                p_ReportID,
                p_VersionNumber,
                p_Name,
                p_Description,
                p_Configuration,
                COALESCE(p_DataContextUpdated, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwReportVersions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateReportVersion"(
    IN p_ID UUID,
    IN p_ReportID UUID,
    IN p_VersionNumber INTEGER,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_Configuration TEXT,
    IN p_DataContextUpdated BOOLEAN
)
RETURNS SETOF __mj."vwReportVersions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ReportVersion"
    SET
        "ReportID" = p_ReportID,
        "VersionNumber" = p_VersionNumber,
        "Name" = p_Name,
        "Description" = p_Description,
        "Configuration" = p_Configuration,
        "DataContextUpdated" = p_DataContextUpdated
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwReportVersions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwReportVersions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteReportVersion"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ReportVersion"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateReport"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_CategoryID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_SharingScope VARCHAR(20) DEFAULT NULL,
    IN p_ConversationID UUID DEFAULT NULL,
    IN p_ConversationDetailID UUID DEFAULT NULL,
    IN p_DataContextID UUID DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL,
    IN p_OutputTriggerTypeID UUID DEFAULT NULL,
    IN p_OutputFormatTypeID UUID DEFAULT NULL,
    IN p_OutputDeliveryTypeID UUID DEFAULT NULL,
    IN p_OutputFrequency VARCHAR(50) DEFAULT NULL,
    IN p_OutputTargetEmail VARCHAR(255) DEFAULT NULL,
    IN p_OutputWorkflowID UUID DEFAULT NULL,
    IN p_Thumbnail TEXT DEFAULT NULL,
    IN p_EnvironmentID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwReports" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Report"
            (
                "ID",
                "Name",
                "Description",
                "CategoryID",
                "UserID",
                "SharingScope",
                "ConversationID",
                "ConversationDetailID",
                "DataContextID",
                "Configuration",
                "OutputTriggerTypeID",
                "OutputFormatTypeID",
                "OutputDeliveryTypeID",
                "OutputFrequency",
                "OutputTargetEmail",
                "OutputWorkflowID",
                "Thumbnail",
                "EnvironmentID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_CategoryID,
                p_UserID,
                COALESCE(p_SharingScope, 'Personal'),
                p_ConversationID,
                p_ConversationDetailID,
                p_DataContextID,
                p_Configuration,
                p_OutputTriggerTypeID,
                p_OutputFormatTypeID,
                p_OutputDeliveryTypeID,
                p_OutputFrequency,
                p_OutputTargetEmail,
                p_OutputWorkflowID,
                p_Thumbnail,
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Report"
            (
                "Name",
                "Description",
                "CategoryID",
                "UserID",
                "SharingScope",
                "ConversationID",
                "ConversationDetailID",
                "DataContextID",
                "Configuration",
                "OutputTriggerTypeID",
                "OutputFormatTypeID",
                "OutputDeliveryTypeID",
                "OutputFrequency",
                "OutputTargetEmail",
                "OutputWorkflowID",
                "Thumbnail",
                "EnvironmentID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_CategoryID,
                p_UserID,
                COALESCE(p_SharingScope, 'Personal'),
                p_ConversationID,
                p_ConversationDetailID,
                p_DataContextID,
                p_Configuration,
                p_OutputTriggerTypeID,
                p_OutputFormatTypeID,
                p_OutputDeliveryTypeID,
                p_OutputFrequency,
                p_OutputTargetEmail,
                p_OutputWorkflowID,
                p_Thumbnail,
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwReports" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateReport"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_CategoryID UUID,
    IN p_UserID UUID,
    IN p_SharingScope VARCHAR(20),
    IN p_ConversationID UUID,
    IN p_ConversationDetailID UUID,
    IN p_DataContextID UUID,
    IN p_Configuration TEXT,
    IN p_OutputTriggerTypeID UUID,
    IN p_OutputFormatTypeID UUID,
    IN p_OutputDeliveryTypeID UUID,
    IN p_OutputFrequency VARCHAR(50),
    IN p_OutputTargetEmail VARCHAR(255),
    IN p_OutputWorkflowID UUID,
    IN p_Thumbnail TEXT,
    IN p_EnvironmentID UUID
)
RETURNS SETOF __mj."vwReports" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Report"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "CategoryID" = p_CategoryID,
        "UserID" = p_UserID,
        "SharingScope" = p_SharingScope,
        "ConversationID" = p_ConversationID,
        "ConversationDetailID" = p_ConversationDetailID,
        "DataContextID" = p_DataContextID,
        "Configuration" = p_Configuration,
        "OutputTriggerTypeID" = p_OutputTriggerTypeID,
        "OutputFormatTypeID" = p_OutputFormatTypeID,
        "OutputDeliveryTypeID" = p_OutputDeliveryTypeID,
        "OutputFrequency" = p_OutputFrequency,
        "OutputTargetEmail" = p_OutputTargetEmail,
        "OutputWorkflowID" = p_OutputWorkflowID,
        "Thumbnail" = p_Thumbnail,
        "EnvironmentID" = p_EnvironmentID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwReports" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwReports" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteReport"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _rec RECORD;
    _v_row_count INTEGER;
    p_MJReportSnapshots_ReportIDID UUID;
    p_MJReportUserStates_ReportIDID UUID;
    p_MJReportVersions_ReportIDID UUID;
BEGIN
-- Cascade delete from ReportSnapshot using cursor to call spDeleteReportSnapshot

    FOR _rec IN SELECT "ID" FROM __mj."ReportSnapshot" WHERE "ReportID" = p_ID
    LOOP
        p_MJReportSnapshots_ReportIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteReportSnapshot"(p_MJReportSnapshots_ReportIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ReportUserState using cursor to call spDeleteReportUserState

    FOR _rec IN SELECT "ID" FROM __mj."ReportUserState" WHERE "ReportID" = p_ID
    LOOP
        p_MJReportUserStates_ReportIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteReportUserState"(p_MJReportUserStates_ReportIDID);
        
    END LOOP;
    
    
    -- Cascade delete from ReportVersion using cursor to call spDeleteReportVersion

    FOR _rec IN SELECT "ID" FROM __mj."ReportVersion" WHERE "ReportID" = p_ID
    LOOP
        p_MJReportVersions_ReportIDID := _rec."ID";
        -- Call the delete SP for the related entity, which handles its own cascades
        PERFORM __mj."spDeleteReportVersion"(p_MJReportVersions_ReportIDID);
        
    END LOOP;
    
    

    DELETE FROM
        __mj."Report"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateResourcePermission"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ResourceTypeID UUID DEFAULT NULL,
    IN p_ResourceRecordID VARCHAR(255) DEFAULT NULL,
    IN p_Type VARCHAR(10) DEFAULT NULL,
    IN p_StartSharingAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndSharingAt TIMESTAMPTZ DEFAULT NULL,
    IN p_RoleID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_PermissionLevel VARCHAR(20) DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwResourcePermissions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ResourcePermission"
            (
                "ID",
                "ResourceTypeID",
                "ResourceRecordID",
                "Type",
                "StartSharingAt",
                "EndSharingAt",
                "RoleID",
                "UserID",
                "PermissionLevel",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_ResourceTypeID,
                p_ResourceRecordID,
                p_Type,
                p_StartSharingAt,
                p_EndSharingAt,
                p_RoleID,
                p_UserID,
                p_PermissionLevel,
                COALESCE(p_Status, 'Requested')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ResourcePermission"
            (
                "ResourceTypeID",
                "ResourceRecordID",
                "Type",
                "StartSharingAt",
                "EndSharingAt",
                "RoleID",
                "UserID",
                "PermissionLevel",
                "Status"
            )
        VALUES
            (
                p_ResourceTypeID,
                p_ResourceRecordID,
                p_Type,
                p_StartSharingAt,
                p_EndSharingAt,
                p_RoleID,
                p_UserID,
                p_PermissionLevel,
                COALESCE(p_Status, 'Requested')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwResourcePermissions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateResourcePermission"(
    IN p_ID UUID,
    IN p_ResourceTypeID UUID,
    IN p_ResourceRecordID VARCHAR(255),
    IN p_Type VARCHAR(10),
    IN p_StartSharingAt TIMESTAMPTZ,
    IN p_EndSharingAt TIMESTAMPTZ,
    IN p_RoleID UUID,
    IN p_UserID UUID,
    IN p_PermissionLevel VARCHAR(20),
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwResourcePermissions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ResourcePermission"
    SET
        "ResourceTypeID" = p_ResourceTypeID,
        "ResourceRecordID" = p_ResourceRecordID,
        "Type" = p_Type,
        "StartSharingAt" = p_StartSharingAt,
        "EndSharingAt" = p_EndSharingAt,
        "RoleID" = p_RoleID,
        "UserID" = p_UserID,
        "PermissionLevel" = p_PermissionLevel,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwResourcePermissions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwResourcePermissions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteResourcePermission"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ResourcePermission"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateResourceLink"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_ResourceTypeID UUID DEFAULT NULL,
    IN p_ResourceRecordID VARCHAR(255) DEFAULT NULL,
    IN p_FolderID VARCHAR(255) DEFAULT NULL
)
RETURNS SETOF __mj."vwResourceLinks" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ResourceLink"
            (
                "ID",
                "UserID",
                "ResourceTypeID",
                "ResourceRecordID",
                "FolderID"
            )
        VALUES
            (
                p_ID,
                p_UserID,
                p_ResourceTypeID,
                p_ResourceRecordID,
                p_FolderID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ResourceLink"
            (
                "UserID",
                "ResourceTypeID",
                "ResourceRecordID",
                "FolderID"
            )
        VALUES
            (
                p_UserID,
                p_ResourceTypeID,
                p_ResourceRecordID,
                p_FolderID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwResourceLinks" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateResourceLink"(
    IN p_ID UUID,
    IN p_UserID UUID,
    IN p_ResourceTypeID UUID,
    IN p_ResourceRecordID VARCHAR(255),
    IN p_FolderID VARCHAR(255)
)
RETURNS SETOF __mj."vwResourceLinks" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ResourceLink"
    SET
        "UserID" = p_UserID,
        "ResourceTypeID" = p_ResourceTypeID,
        "ResourceRecordID" = p_ResourceRecordID,
        "FolderID" = p_FolderID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwResourceLinks" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwResourceLinks" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteResourceLink"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ResourceLink"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateResourceType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_DisplayName VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Icon VARCHAR(100) DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_CategoryEntityID UUID DEFAULT NULL,
    IN p_DriverClass VARCHAR(255) DEFAULT NULL
)
RETURNS SETOF __mj."vwResourceTypes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ResourceType"
            (
                "ID",
                "Name",
                "DisplayName",
                "Description",
                "Icon",
                "EntityID",
                "CategoryEntityID",
                "DriverClass"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_DisplayName,
                p_Description,
                p_Icon,
                p_EntityID,
                p_CategoryEntityID,
                p_DriverClass
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ResourceType"
            (
                "Name",
                "DisplayName",
                "Description",
                "Icon",
                "EntityID",
                "CategoryEntityID",
                "DriverClass"
            )
        VALUES
            (
                p_Name,
                p_DisplayName,
                p_Description,
                p_Icon,
                p_EntityID,
                p_CategoryEntityID,
                p_DriverClass
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwResourceTypes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateResourceType"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_DisplayName VARCHAR(255),
    IN p_Description TEXT,
    IN p_Icon VARCHAR(100),
    IN p_EntityID UUID,
    IN p_CategoryEntityID UUID,
    IN p_DriverClass VARCHAR(255)
)
RETURNS SETOF __mj."vwResourceTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ResourceType"
    SET
        "Name" = p_Name,
        "DisplayName" = p_DisplayName,
        "Description" = p_Description,
        "Icon" = p_Icon,
        "EntityID" = p_EntityID,
        "CategoryEntityID" = p_CategoryEntityID,
        "DriverClass" = p_DriverClass
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwResourceTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwResourceTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteResourceType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ResourceType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateScheduledAction"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_CreatedByUserID UUID DEFAULT NULL,
    IN p_ActionID UUID DEFAULT NULL,
    IN p_Type VARCHAR(20) DEFAULT NULL,
    IN p_CronExpression VARCHAR(100) DEFAULT NULL,
    IN p_Timezone VARCHAR(100) DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_IntervalDays INTEGER DEFAULT NULL,
    IN p_DayOfWeek VARCHAR(20) DEFAULT NULL,
    IN p_DayOfMonth INTEGER DEFAULT NULL,
    IN p_Month VARCHAR(20) DEFAULT NULL,
    IN p_CustomCronExpression VARCHAR(255) DEFAULT NULL
)
RETURNS SETOF __mj."vwScheduledActions" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ScheduledAction"
            (
                "ID",
                "Name",
                "Description",
                "CreatedByUserID",
                "ActionID",
                "Type",
                "CronExpression",
                "Timezone",
                "Status",
                "IntervalDays",
                "DayOfWeek",
                "DayOfMonth",
                "Month",
                "CustomCronExpression"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_CreatedByUserID,
                p_ActionID,
                p_Type,
                p_CronExpression,
                p_Timezone,
                COALESCE(p_Status, 'Pending'),
                p_IntervalDays,
                p_DayOfWeek,
                p_DayOfMonth,
                p_Month,
                p_CustomCronExpression
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ScheduledAction"
            (
                "Name",
                "Description",
                "CreatedByUserID",
                "ActionID",
                "Type",
                "CronExpression",
                "Timezone",
                "Status",
                "IntervalDays",
                "DayOfWeek",
                "DayOfMonth",
                "Month",
                "CustomCronExpression"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_CreatedByUserID,
                p_ActionID,
                p_Type,
                p_CronExpression,
                p_Timezone,
                COALESCE(p_Status, 'Pending'),
                p_IntervalDays,
                p_DayOfWeek,
                p_DayOfMonth,
                p_Month,
                p_CustomCronExpression
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwScheduledActions" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateScheduledAction"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_CreatedByUserID UUID,
    IN p_ActionID UUID,
    IN p_Type VARCHAR(20),
    IN p_CronExpression VARCHAR(100),
    IN p_Timezone VARCHAR(100),
    IN p_Status VARCHAR(20),
    IN p_IntervalDays INTEGER,
    IN p_DayOfWeek VARCHAR(20),
    IN p_DayOfMonth INTEGER,
    IN p_Month VARCHAR(20),
    IN p_CustomCronExpression VARCHAR(255)
)
RETURNS SETOF __mj."vwScheduledActions" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ScheduledAction"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "CreatedByUserID" = p_CreatedByUserID,
        "ActionID" = p_ActionID,
        "Type" = p_Type,
        "CronExpression" = p_CronExpression,
        "Timezone" = p_Timezone,
        "Status" = p_Status,
        "IntervalDays" = p_IntervalDays,
        "DayOfWeek" = p_DayOfWeek,
        "DayOfMonth" = p_DayOfMonth,
        "Month" = p_Month,
        "CustomCronExpression" = p_CustomCronExpression
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwScheduledActions" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwScheduledActions" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteScheduledAction"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ScheduledAction"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateScheduledActionParam"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ScheduledActionID UUID DEFAULT NULL,
    IN p_ActionParamID UUID DEFAULT NULL,
    IN p_ValueType VARCHAR(20) DEFAULT NULL,
    IN p_Value TEXT DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwScheduledActionParams" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ScheduledActionParam"
            (
                "ID",
                "ScheduledActionID",
                "ActionParamID",
                "ValueType",
                "Value",
                "Comments"
            )
        VALUES
            (
                p_ID,
                p_ScheduledActionID,
                p_ActionParamID,
                p_ValueType,
                p_Value,
                p_Comments
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ScheduledActionParam"
            (
                "ScheduledActionID",
                "ActionParamID",
                "ValueType",
                "Value",
                "Comments"
            )
        VALUES
            (
                p_ScheduledActionID,
                p_ActionParamID,
                p_ValueType,
                p_Value,
                p_Comments
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwScheduledActionParams" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateScheduledActionParam"(
    IN p_ID UUID,
    IN p_ScheduledActionID UUID,
    IN p_ActionParamID UUID,
    IN p_ValueType VARCHAR(20),
    IN p_Value TEXT,
    IN p_Comments TEXT
)
RETURNS SETOF __mj."vwScheduledActionParams" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ScheduledActionParam"
    SET
        "ScheduledActionID" = p_ScheduledActionID,
        "ActionParamID" = p_ActionParamID,
        "ValueType" = p_ValueType,
        "Value" = p_Value,
        "Comments" = p_Comments
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwScheduledActionParams" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwScheduledActionParams" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteScheduledActionParam"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ScheduledActionParam"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateScheduledJobRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ScheduledJobID UUID DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CompletedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_Success BOOLEAN DEFAULT NULL,
    IN p_ErrorMessage TEXT DEFAULT NULL,
    IN p_Details TEXT DEFAULT NULL,
    IN p_ExecutedByUserID UUID DEFAULT NULL,
    IN p_QueuedAt TIMESTAMPTZ DEFAULT NULL
)
RETURNS SETOF __mj."vwScheduledJobRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ScheduledJobRun"
            (
                "ID",
                "ScheduledJobID",
                "StartedAt",
                "CompletedAt",
                "Status",
                "Success",
                "ErrorMessage",
                "Details",
                "ExecutedByUserID",
                "QueuedAt"
            )
        VALUES
            (
                p_ID,
                p_ScheduledJobID,
                COALESCE(p_StartedAt, NOW()),
                p_CompletedAt,
                COALESCE(p_Status, 'Running'),
                p_Success,
                p_ErrorMessage,
                p_Details,
                p_ExecutedByUserID,
                p_QueuedAt
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ScheduledJobRun"
            (
                "ScheduledJobID",
                "StartedAt",
                "CompletedAt",
                "Status",
                "Success",
                "ErrorMessage",
                "Details",
                "ExecutedByUserID",
                "QueuedAt"
            )
        VALUES
            (
                p_ScheduledJobID,
                COALESCE(p_StartedAt, NOW()),
                p_CompletedAt,
                COALESCE(p_Status, 'Running'),
                p_Success,
                p_ErrorMessage,
                p_Details,
                p_ExecutedByUserID,
                p_QueuedAt
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwScheduledJobRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateScheduledJobRun"(
    IN p_ID UUID,
    IN p_ScheduledJobID UUID,
    IN p_StartedAt TIMESTAMPTZ,
    IN p_CompletedAt TIMESTAMPTZ,
    IN p_Status VARCHAR(20),
    IN p_Success BOOLEAN,
    IN p_ErrorMessage TEXT,
    IN p_Details TEXT,
    IN p_ExecutedByUserID UUID,
    IN p_QueuedAt TIMESTAMPTZ
)
RETURNS SETOF __mj."vwScheduledJobRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ScheduledJobRun"
    SET
        "ScheduledJobID" = p_ScheduledJobID,
        "StartedAt" = p_StartedAt,
        "CompletedAt" = p_CompletedAt,
        "Status" = p_Status,
        "Success" = p_Success,
        "ErrorMessage" = p_ErrorMessage,
        "Details" = p_Details,
        "ExecutedByUserID" = p_ExecutedByUserID,
        "QueuedAt" = p_QueuedAt
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwScheduledJobRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwScheduledJobRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteScheduledJobRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ScheduledJobRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateScheduledJob"(
    IN p_ID UUID DEFAULT NULL,
    IN p_JobTypeID UUID DEFAULT NULL,
    IN p_Name VARCHAR(200) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_CronExpression VARCHAR(120) DEFAULT NULL,
    IN p_Timezone VARCHAR(64) DEFAULT NULL,
    IN p_StartAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndAt TIMESTAMPTZ DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL,
    IN p_OwnerUserID UUID DEFAULT NULL,
    IN p_LastRunAt TIMESTAMPTZ DEFAULT NULL,
    IN p_NextRunAt TIMESTAMPTZ DEFAULT NULL,
    IN p_RunCount INTEGER DEFAULT NULL,
    IN p_SuccessCount INTEGER DEFAULT NULL,
    IN p_FailureCount INTEGER DEFAULT NULL,
    IN p_NotifyOnSuccess BOOLEAN DEFAULT NULL,
    IN p_NotifyOnFailure BOOLEAN DEFAULT NULL,
    IN p_NotifyUserID UUID DEFAULT NULL,
    IN p_NotifyViaEmail BOOLEAN DEFAULT NULL,
    IN p_NotifyViaInApp BOOLEAN DEFAULT NULL,
    IN p_LockToken UUID DEFAULT NULL,
    IN p_LockedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_LockedByInstance VARCHAR(255) DEFAULT NULL,
    IN p_ExpectedCompletionAt TIMESTAMPTZ DEFAULT NULL,
    IN p_ConcurrencyMode VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwScheduledJobs" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."ScheduledJob"
            (
                "ID",
                "JobTypeID",
                "Name",
                "Description",
                "CronExpression",
                "Timezone",
                "StartAt",
                "EndAt",
                "Status",
                "Configuration",
                "OwnerUserID",
                "LastRunAt",
                "NextRunAt",
                "RunCount",
                "SuccessCount",
                "FailureCount",
                "NotifyOnSuccess",
                "NotifyOnFailure",
                "NotifyUserID",
                "NotifyViaEmail",
                "NotifyViaInApp",
                "LockToken",
                "LockedAt",
                "LockedByInstance",
                "ExpectedCompletionAt",
                "ConcurrencyMode"
            )
        VALUES
            (
                p_ID,
                p_JobTypeID,
                p_Name,
                p_Description,
                p_CronExpression,
                COALESCE(p_Timezone, 'UTC'),
                p_StartAt,
                p_EndAt,
                COALESCE(p_Status, 'Pending'),
                p_Configuration,
                p_OwnerUserID,
                p_LastRunAt,
                p_NextRunAt,
                COALESCE(p_RunCount, 0),
                COALESCE(p_SuccessCount, 0),
                COALESCE(p_FailureCount, 0),
                COALESCE(p_NotifyOnSuccess, 0),
                COALESCE(p_NotifyOnFailure, 1),
                p_NotifyUserID,
                COALESCE(p_NotifyViaEmail, 0),
                COALESCE(p_NotifyViaInApp, 1),
                p_LockToken,
                p_LockedAt,
                p_LockedByInstance,
                p_ExpectedCompletionAt,
                COALESCE(p_ConcurrencyMode, 'Skip')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."ScheduledJob"
            (
                "JobTypeID",
                "Name",
                "Description",
                "CronExpression",
                "Timezone",
                "StartAt",
                "EndAt",
                "Status",
                "Configuration",
                "OwnerUserID",
                "LastRunAt",
                "NextRunAt",
                "RunCount",
                "SuccessCount",
                "FailureCount",
                "NotifyOnSuccess",
                "NotifyOnFailure",
                "NotifyUserID",
                "NotifyViaEmail",
                "NotifyViaInApp",
                "LockToken",
                "LockedAt",
                "LockedByInstance",
                "ExpectedCompletionAt",
                "ConcurrencyMode"
            )
        VALUES
            (
                p_JobTypeID,
                p_Name,
                p_Description,
                p_CronExpression,
                COALESCE(p_Timezone, 'UTC'),
                p_StartAt,
                p_EndAt,
                COALESCE(p_Status, 'Pending'),
                p_Configuration,
                p_OwnerUserID,
                p_LastRunAt,
                p_NextRunAt,
                COALESCE(p_RunCount, 0),
                COALESCE(p_SuccessCount, 0),
                COALESCE(p_FailureCount, 0),
                COALESCE(p_NotifyOnSuccess, 0),
                COALESCE(p_NotifyOnFailure, 1),
                p_NotifyUserID,
                COALESCE(p_NotifyViaEmail, 0),
                COALESCE(p_NotifyViaInApp, 1),
                p_LockToken,
                p_LockedAt,
                p_LockedByInstance,
                p_ExpectedCompletionAt,
                COALESCE(p_ConcurrencyMode, 'Skip')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwScheduledJobs" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateScheduledJob"(
    IN p_ID UUID,
    IN p_JobTypeID UUID,
    IN p_Name VARCHAR(200),
    IN p_Description TEXT,
    IN p_CronExpression VARCHAR(120),
    IN p_Timezone VARCHAR(64),
    IN p_StartAt TIMESTAMPTZ,
    IN p_EndAt TIMESTAMPTZ,
    IN p_Status VARCHAR(20),
    IN p_Configuration TEXT,
    IN p_OwnerUserID UUID,
    IN p_LastRunAt TIMESTAMPTZ,
    IN p_NextRunAt TIMESTAMPTZ,
    IN p_RunCount INTEGER,
    IN p_SuccessCount INTEGER,
    IN p_FailureCount INTEGER,
    IN p_NotifyOnSuccess BOOLEAN,
    IN p_NotifyOnFailure BOOLEAN,
    IN p_NotifyUserID UUID,
    IN p_NotifyViaEmail BOOLEAN,
    IN p_NotifyViaInApp BOOLEAN,
    IN p_LockToken UUID,
    IN p_LockedAt TIMESTAMPTZ,
    IN p_LockedByInstance VARCHAR(255),
    IN p_ExpectedCompletionAt TIMESTAMPTZ,
    IN p_ConcurrencyMode VARCHAR(20)
)
RETURNS SETOF __mj."vwScheduledJobs" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."ScheduledJob"
    SET
        "JobTypeID" = p_JobTypeID,
        "Name" = p_Name,
        "Description" = p_Description,
        "CronExpression" = p_CronExpression,
        "Timezone" = p_Timezone,
        "StartAt" = p_StartAt,
        "EndAt" = p_EndAt,
        "Status" = p_Status,
        "Configuration" = p_Configuration,
        "OwnerUserID" = p_OwnerUserID,
        "LastRunAt" = p_LastRunAt,
        "NextRunAt" = p_NextRunAt,
        "RunCount" = p_RunCount,
        "SuccessCount" = p_SuccessCount,
        "FailureCount" = p_FailureCount,
        "NotifyOnSuccess" = p_NotifyOnSuccess,
        "NotifyOnFailure" = p_NotifyOnFailure,
        "NotifyUserID" = p_NotifyUserID,
        "NotifyViaEmail" = p_NotifyViaEmail,
        "NotifyViaInApp" = p_NotifyViaInApp,
        "LockToken" = p_LockToken,
        "LockedAt" = p_LockedAt,
        "LockedByInstance" = p_LockedByInstance,
        "ExpectedCompletionAt" = p_ExpectedCompletionAt,
        "ConcurrencyMode" = p_ConcurrencyMode
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwScheduledJobs" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwScheduledJobs" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteScheduledJob"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."ScheduledJob"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTaggedItem"(
    IN p_ID UUID DEFAULT NULL,
    IN p_TagID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(450) DEFAULT NULL
)
RETURNS SETOF __mj."vwTaggedItems" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TaggedItem"
            (
                "ID",
                "TagID",
                "EntityID",
                "RecordID"
            )
        VALUES
            (
                p_ID,
                p_TagID,
                p_EntityID,
                p_RecordID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TaggedItem"
            (
                "TagID",
                "EntityID",
                "RecordID"
            )
        VALUES
            (
                p_TagID,
                p_EntityID,
                p_RecordID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTaggedItems" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTaggedItem"(
    IN p_ID UUID,
    IN p_TagID UUID,
    IN p_EntityID UUID,
    IN p_RecordID VARCHAR(450)
)
RETURNS SETOF __mj."vwTaggedItems" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TaggedItem"
    SET
        "TagID" = p_TagID,
        "EntityID" = p_EntityID,
        "RecordID" = p_RecordID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTaggedItems" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTaggedItems" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTaggedItem"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TaggedItem"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateSkill"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(50) DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwSkills" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Skill"
            (
                "ID",
                "Name",
                "ParentID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_ParentID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Skill"
            (
                "Name",
                "ParentID"
            )
        VALUES
            (
                p_Name,
                p_ParentID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwSkills" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateSkill"(
    IN p_ID UUID,
    IN p_Name VARCHAR(50),
    IN p_ParentID UUID
)
RETURNS SETOF __mj."vwSkills" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Skill"
    SET
        "Name" = p_Name,
        "ParentID" = p_ParentID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwSkills" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwSkills" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteSkill"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Skill"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTag"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_DisplayName VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwTags" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Tag"
            (
                "ID",
                "Name",
                "ParentID",
                "DisplayName",
                "Description"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_ParentID,
                p_DisplayName,
                p_Description
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Tag"
            (
                "Name",
                "ParentID",
                "DisplayName",
                "Description"
            )
        VALUES
            (
                p_Name,
                p_ParentID,
                p_DisplayName,
                p_Description
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTags" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTag"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_ParentID UUID,
    IN p_DisplayName VARCHAR(255),
    IN p_Description TEXT
)
RETURNS SETOF __mj."vwTags" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Tag"
    SET
        "Name" = p_Name,
        "ParentID" = p_ParentID,
        "DisplayName" = p_DisplayName,
        "Description" = p_Description
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTags" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTags" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTag"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Tag"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTaskDependency"(
    IN p_ID UUID DEFAULT NULL,
    IN p_TaskID UUID DEFAULT NULL,
    IN p_DependsOnTaskID UUID DEFAULT NULL,
    IN p_DependencyType VARCHAR(50) DEFAULT NULL
)
RETURNS SETOF __mj."vwTaskDependencies" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TaskDependency"
            (
                "ID",
                "TaskID",
                "DependsOnTaskID",
                "DependencyType"
            )
        VALUES
            (
                p_ID,
                p_TaskID,
                p_DependsOnTaskID,
                COALESCE(p_DependencyType, 'Prerequisite')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TaskDependency"
            (
                "TaskID",
                "DependsOnTaskID",
                "DependencyType"
            )
        VALUES
            (
                p_TaskID,
                p_DependsOnTaskID,
                COALESCE(p_DependencyType, 'Prerequisite')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTaskDependencies" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTaskDependency"(
    IN p_ID UUID,
    IN p_TaskID UUID,
    IN p_DependsOnTaskID UUID,
    IN p_DependencyType VARCHAR(50)
)
RETURNS SETOF __mj."vwTaskDependencies" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TaskDependency"
    SET
        "TaskID" = p_TaskID,
        "DependsOnTaskID" = p_DependsOnTaskID,
        "DependencyType" = p_DependencyType
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTaskDependencies" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTaskDependencies" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTaskDependency"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TaskDependency"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTemplateCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwTemplateCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TemplateCategory"
            (
                "ID",
                "Name",
                "Description",
                "ParentID",
                "UserID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ParentID,
                p_UserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TemplateCategory"
            (
                "Name",
                "Description",
                "ParentID",
                "UserID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ParentID,
                p_UserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTemplateCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTemplateCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_ParentID UUID,
    IN p_UserID UUID
)
RETURNS SETOF __mj."vwTemplateCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TemplateCategory"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ParentID" = p_ParentID,
        "UserID" = p_UserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTemplateCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTemplateCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTemplateCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TemplateCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTask"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_TypeID UUID DEFAULT NULL,
    IN p_EnvironmentID UUID DEFAULT NULL,
    IN p_ProjectID UUID DEFAULT NULL,
    IN p_ConversationDetailID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_AgentID UUID DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_PercentComplete INTEGER DEFAULT NULL,
    IN p_DueAt TIMESTAMPTZ DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CompletedAt TIMESTAMPTZ DEFAULT NULL
)
RETURNS SETOF __mj."vwTasks" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Task"
            (
                "ID",
                "ParentID",
                "Name",
                "Description",
                "TypeID",
                "EnvironmentID",
                "ProjectID",
                "ConversationDetailID",
                "UserID",
                "AgentID",
                "Status",
                "PercentComplete",
                "DueAt",
                "StartedAt",
                "CompletedAt"
            )
        VALUES
            (
                p_ID,
                p_ParentID,
                p_Name,
                p_Description,
                p_TypeID,
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END,
                p_ProjectID,
                p_ConversationDetailID,
                p_UserID,
                p_AgentID,
                COALESCE(p_Status, 'Pending'),
                p_PercentComplete,
                p_DueAt,
                p_StartedAt,
                p_CompletedAt
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Task"
            (
                "ParentID",
                "Name",
                "Description",
                "TypeID",
                "EnvironmentID",
                "ProjectID",
                "ConversationDetailID",
                "UserID",
                "AgentID",
                "Status",
                "PercentComplete",
                "DueAt",
                "StartedAt",
                "CompletedAt"
            )
        VALUES
            (
                p_ParentID,
                p_Name,
                p_Description,
                p_TypeID,
                CASE p_EnvironmentID WHEN '00000000-0000-0000-0000-000000000000' THEN 'F51358F3-9447-4176-B313-BF8025FD8D09' ELSE COALESCE(p_EnvironmentID, 'F51358F3-9447-4176-B313-BF8025FD8D09') END,
                p_ProjectID,
                p_ConversationDetailID,
                p_UserID,
                p_AgentID,
                COALESCE(p_Status, 'Pending'),
                p_PercentComplete,
                p_DueAt,
                p_StartedAt,
                p_CompletedAt
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTasks" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTask"(
    IN p_ID UUID,
    IN p_ParentID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_TypeID UUID,
    IN p_EnvironmentID UUID,
    IN p_ProjectID UUID,
    IN p_ConversationDetailID UUID,
    IN p_UserID UUID,
    IN p_AgentID UUID,
    IN p_Status VARCHAR(50),
    IN p_PercentComplete INTEGER,
    IN p_DueAt TIMESTAMPTZ,
    IN p_StartedAt TIMESTAMPTZ,
    IN p_CompletedAt TIMESTAMPTZ
)
RETURNS SETOF __mj."vwTasks" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Task"
    SET
        "ParentID" = p_ParentID,
        "Name" = p_Name,
        "Description" = p_Description,
        "TypeID" = p_TypeID,
        "EnvironmentID" = p_EnvironmentID,
        "ProjectID" = p_ProjectID,
        "ConversationDetailID" = p_ConversationDetailID,
        "UserID" = p_UserID,
        "AgentID" = p_AgentID,
        "Status" = p_Status,
        "PercentComplete" = p_PercentComplete,
        "DueAt" = p_DueAt,
        "StartedAt" = p_StartedAt,
        "CompletedAt" = p_CompletedAt
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTasks" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTasks" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTask"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Task"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTemplateContent"(
    IN p_ID UUID DEFAULT NULL,
    IN p_TemplateID UUID DEFAULT NULL,
    IN p_TypeID UUID DEFAULT NULL,
    IN p_TemplateText TEXT DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwTemplateContents" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TemplateContent"
            (
                "ID",
                "TemplateID",
                "TypeID",
                "TemplateText",
                "Priority",
                "IsActive"
            )
        VALUES
            (
                p_ID,
                p_TemplateID,
                p_TypeID,
                p_TemplateText,
                p_Priority,
                COALESCE(p_IsActive, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TemplateContent"
            (
                "TemplateID",
                "TypeID",
                "TemplateText",
                "Priority",
                "IsActive"
            )
        VALUES
            (
                p_TemplateID,
                p_TypeID,
                p_TemplateText,
                p_Priority,
                COALESCE(p_IsActive, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTemplateContents" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTemplateContent"(
    IN p_ID UUID,
    IN p_TemplateID UUID,
    IN p_TypeID UUID,
    IN p_TemplateText TEXT,
    IN p_Priority INTEGER,
    IN p_IsActive BOOLEAN
)
RETURNS SETOF __mj."vwTemplateContents" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TemplateContent"
    SET
        "TemplateID" = p_TemplateID,
        "TypeID" = p_TypeID,
        "TemplateText" = p_TemplateText,
        "Priority" = p_Priority,
        "IsActive" = p_IsActive
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTemplateContents" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTemplateContents" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTemplateContent"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TemplateContent"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTemplateParam"(
    IN p_ID UUID DEFAULT NULL,
    IN p_TemplateID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Type VARCHAR(20) DEFAULT NULL,
    IN p_DefaultValue TEXT DEFAULT NULL,
    IN p_IsRequired BOOLEAN DEFAULT NULL,
    IN p_LinkedParameterName VARCHAR(255) DEFAULT NULL,
    IN p_LinkedParameterField VARCHAR(500) DEFAULT NULL,
    IN p_ExtraFilter TEXT DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(2000) DEFAULT NULL,
    IN p_OrderBy TEXT DEFAULT NULL,
    IN p_TemplateContentID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwTemplateParams" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TemplateParam"
            (
                "ID",
                "TemplateID",
                "Name",
                "Description",
                "Type",
                "DefaultValue",
                "IsRequired",
                "LinkedParameterName",
                "LinkedParameterField",
                "ExtraFilter",
                "EntityID",
                "RecordID",
                "OrderBy",
                "TemplateContentID"
            )
        VALUES
            (
                p_ID,
                p_TemplateID,
                p_Name,
                p_Description,
                COALESCE(p_Type, 'Scalar'),
                p_DefaultValue,
                COALESCE(p_IsRequired, 0),
                p_LinkedParameterName,
                p_LinkedParameterField,
                p_ExtraFilter,
                p_EntityID,
                p_RecordID,
                p_OrderBy,
                p_TemplateContentID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TemplateParam"
            (
                "TemplateID",
                "Name",
                "Description",
                "Type",
                "DefaultValue",
                "IsRequired",
                "LinkedParameterName",
                "LinkedParameterField",
                "ExtraFilter",
                "EntityID",
                "RecordID",
                "OrderBy",
                "TemplateContentID"
            )
        VALUES
            (
                p_TemplateID,
                p_Name,
                p_Description,
                COALESCE(p_Type, 'Scalar'),
                p_DefaultValue,
                COALESCE(p_IsRequired, 0),
                p_LinkedParameterName,
                p_LinkedParameterField,
                p_ExtraFilter,
                p_EntityID,
                p_RecordID,
                p_OrderBy,
                p_TemplateContentID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTemplateParams" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTemplateParam"(
    IN p_ID UUID,
    IN p_TemplateID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_Type VARCHAR(20),
    IN p_DefaultValue TEXT,
    IN p_IsRequired BOOLEAN,
    IN p_LinkedParameterName VARCHAR(255),
    IN p_LinkedParameterField VARCHAR(500),
    IN p_ExtraFilter TEXT,
    IN p_EntityID UUID,
    IN p_RecordID VARCHAR(2000),
    IN p_OrderBy TEXT,
    IN p_TemplateContentID UUID
)
RETURNS SETOF __mj."vwTemplateParams" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TemplateParam"
    SET
        "TemplateID" = p_TemplateID,
        "Name" = p_Name,
        "Description" = p_Description,
        "Type" = p_Type,
        "DefaultValue" = p_DefaultValue,
        "IsRequired" = p_IsRequired,
        "LinkedParameterName" = p_LinkedParameterName,
        "LinkedParameterField" = p_LinkedParameterField,
        "ExtraFilter" = p_ExtraFilter,
        "EntityID" = p_EntityID,
        "RecordID" = p_RecordID,
        "OrderBy" = p_OrderBy,
        "TemplateContentID" = p_TemplateContentID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTemplateParams" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTemplateParams" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTemplateParam"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TemplateParam"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTestRubric"(
    IN p_ID UUID DEFAULT NULL,
    IN p_TypeID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_PromptTemplate TEXT DEFAULT NULL,
    IN p_Criteria TEXT DEFAULT NULL,
    IN p_Version VARCHAR(50) DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL
)
RETURNS SETOF __mj."vwTestRubrics" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TestRubric"
            (
                "ID",
                "TypeID",
                "Name",
                "Description",
                "PromptTemplate",
                "Criteria",
                "Version",
                "Status"
            )
        VALUES
            (
                p_ID,
                p_TypeID,
                p_Name,
                p_Description,
                p_PromptTemplate,
                p_Criteria,
                p_Version,
                COALESCE(p_Status, 'Active')
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TestRubric"
            (
                "TypeID",
                "Name",
                "Description",
                "PromptTemplate",
                "Criteria",
                "Version",
                "Status"
            )
        VALUES
            (
                p_TypeID,
                p_Name,
                p_Description,
                p_PromptTemplate,
                p_Criteria,
                p_Version,
                COALESCE(p_Status, 'Active')
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTestRubrics" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTestRubric"(
    IN p_ID UUID,
    IN p_TypeID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_PromptTemplate TEXT,
    IN p_Criteria TEXT,
    IN p_Version VARCHAR(50),
    IN p_Status VARCHAR(20)
)
RETURNS SETOF __mj."vwTestRubrics" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TestRubric"
    SET
        "TypeID" = p_TypeID,
        "Name" = p_Name,
        "Description" = p_Description,
        "PromptTemplate" = p_PromptTemplate,
        "Criteria" = p_Criteria,
        "Version" = p_Version,
        "Status" = p_Status
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTestRubrics" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTestRubrics" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTestRubric"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TestRubric"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTemplate"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_CategoryID UUID DEFAULT NULL,
    IN p_UserPrompt TEXT DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_ActiveAt TIMESTAMPTZ DEFAULT NULL,
    IN p_DisabledAt TIMESTAMPTZ DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwTemplates" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Template"
            (
                "ID",
                "Name",
                "Description",
                "CategoryID",
                "UserPrompt",
                "UserID",
                "ActiveAt",
                "DisabledAt",
                "IsActive"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_CategoryID,
                p_UserPrompt,
                p_UserID,
                p_ActiveAt,
                p_DisabledAt,
                COALESCE(p_IsActive, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Template"
            (
                "Name",
                "Description",
                "CategoryID",
                "UserPrompt",
                "UserID",
                "ActiveAt",
                "DisabledAt",
                "IsActive"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_CategoryID,
                p_UserPrompt,
                p_UserID,
                p_ActiveAt,
                p_DisabledAt,
                COALESCE(p_IsActive, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTemplates" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTemplate"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_CategoryID UUID,
    IN p_UserPrompt TEXT,
    IN p_UserID UUID,
    IN p_ActiveAt TIMESTAMPTZ,
    IN p_DisabledAt TIMESTAMPTZ,
    IN p_IsActive BOOLEAN
)
RETURNS SETOF __mj."vwTemplates" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Template"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "CategoryID" = p_CategoryID,
        "UserPrompt" = p_UserPrompt,
        "UserID" = p_UserID,
        "ActiveAt" = p_ActiveAt,
        "DisabledAt" = p_DisabledAt,
        "IsActive" = p_IsActive
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTemplates" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTemplates" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTemplate"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Template"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTestRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_TestID UUID DEFAULT NULL,
    IN p_TestSuiteRunID UUID DEFAULT NULL,
    IN p_RunByUserID UUID DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_TargetType VARCHAR(100) DEFAULT NULL,
    IN p_TargetLogID UUID DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CompletedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_DurationSeconds NUMERIC(10,3) DEFAULT NULL,
    IN p_InputData TEXT DEFAULT NULL,
    IN p_ExpectedOutputData TEXT DEFAULT NULL,
    IN p_ActualOutputData TEXT DEFAULT NULL,
    IN p_PassedChecks INTEGER DEFAULT NULL,
    IN p_FailedChecks INTEGER DEFAULT NULL,
    IN p_TotalChecks INTEGER DEFAULT NULL,
    IN p_Score NUMERIC(5,4) DEFAULT NULL,
    IN p_CostUSD NUMERIC(10,6) DEFAULT NULL,
    IN p_ErrorMessage TEXT DEFAULT NULL,
    IN p_ResultDetails TEXT DEFAULT NULL,
    IN p_Log TEXT DEFAULT NULL,
    IN p_Tags TEXT DEFAULT NULL,
    IN p_MachineName VARCHAR(255) DEFAULT NULL,
    IN p_MachineID VARCHAR(255) DEFAULT NULL,
    IN p_RunByUserName VARCHAR(255) DEFAULT NULL,
    IN p_RunByUserEmail VARCHAR(255) DEFAULT NULL,
    IN p_RunContextDetails TEXT DEFAULT NULL,
    IN p_TargetLogEntityID UUID DEFAULT NULL,
    IN p_ResolvedVariables TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwTestRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TestRun"
            (
                "ID",
                "TestID",
                "TestSuiteRunID",
                "RunByUserID",
                "Sequence",
                "TargetType",
                "TargetLogID",
                "Status",
                "StartedAt",
                "CompletedAt",
                "DurationSeconds",
                "InputData",
                "ExpectedOutputData",
                "ActualOutputData",
                "PassedChecks",
                "FailedChecks",
                "TotalChecks",
                "Score",
                "CostUSD",
                "ErrorMessage",
                "ResultDetails",
                "Log",
                "Tags",
                "MachineName",
                "MachineID",
                "RunByUserName",
                "RunByUserEmail",
                "RunContextDetails",
                "TargetLogEntityID",
                "ResolvedVariables"
            )
        VALUES
            (
                p_ID,
                p_TestID,
                p_TestSuiteRunID,
                p_RunByUserID,
                p_Sequence,
                p_TargetType,
                p_TargetLogID,
                COALESCE(p_Status, 'Pending'),
                p_StartedAt,
                p_CompletedAt,
                p_DurationSeconds,
                p_InputData,
                p_ExpectedOutputData,
                p_ActualOutputData,
                p_PassedChecks,
                p_FailedChecks,
                p_TotalChecks,
                p_Score,
                p_CostUSD,
                p_ErrorMessage,
                p_ResultDetails,
                p_Log,
                p_Tags,
                p_MachineName,
                p_MachineID,
                p_RunByUserName,
                p_RunByUserEmail,
                p_RunContextDetails,
                p_TargetLogEntityID,
                p_ResolvedVariables
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TestRun"
            (
                "TestID",
                "TestSuiteRunID",
                "RunByUserID",
                "Sequence",
                "TargetType",
                "TargetLogID",
                "Status",
                "StartedAt",
                "CompletedAt",
                "DurationSeconds",
                "InputData",
                "ExpectedOutputData",
                "ActualOutputData",
                "PassedChecks",
                "FailedChecks",
                "TotalChecks",
                "Score",
                "CostUSD",
                "ErrorMessage",
                "ResultDetails",
                "Log",
                "Tags",
                "MachineName",
                "MachineID",
                "RunByUserName",
                "RunByUserEmail",
                "RunContextDetails",
                "TargetLogEntityID",
                "ResolvedVariables"
            )
        VALUES
            (
                p_TestID,
                p_TestSuiteRunID,
                p_RunByUserID,
                p_Sequence,
                p_TargetType,
                p_TargetLogID,
                COALESCE(p_Status, 'Pending'),
                p_StartedAt,
                p_CompletedAt,
                p_DurationSeconds,
                p_InputData,
                p_ExpectedOutputData,
                p_ActualOutputData,
                p_PassedChecks,
                p_FailedChecks,
                p_TotalChecks,
                p_Score,
                p_CostUSD,
                p_ErrorMessage,
                p_ResultDetails,
                p_Log,
                p_Tags,
                p_MachineName,
                p_MachineID,
                p_RunByUserName,
                p_RunByUserEmail,
                p_RunContextDetails,
                p_TargetLogEntityID,
                p_ResolvedVariables
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTestRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTestRun"(
    IN p_ID UUID,
    IN p_TestID UUID,
    IN p_TestSuiteRunID UUID,
    IN p_RunByUserID UUID,
    IN p_Sequence INTEGER,
    IN p_TargetType VARCHAR(100),
    IN p_TargetLogID UUID,
    IN p_Status VARCHAR(20),
    IN p_StartedAt TIMESTAMPTZ,
    IN p_CompletedAt TIMESTAMPTZ,
    IN p_DurationSeconds NUMERIC(10,3),
    IN p_InputData TEXT,
    IN p_ExpectedOutputData TEXT,
    IN p_ActualOutputData TEXT,
    IN p_PassedChecks INTEGER,
    IN p_FailedChecks INTEGER,
    IN p_TotalChecks INTEGER,
    IN p_Score NUMERIC(5,4),
    IN p_CostUSD NUMERIC(10,6),
    IN p_ErrorMessage TEXT,
    IN p_ResultDetails TEXT,
    IN p_Log TEXT,
    IN p_Tags TEXT,
    IN p_MachineName VARCHAR(255),
    IN p_MachineID VARCHAR(255),
    IN p_RunByUserName VARCHAR(255),
    IN p_RunByUserEmail VARCHAR(255),
    IN p_RunContextDetails TEXT,
    IN p_TargetLogEntityID UUID,
    IN p_ResolvedVariables TEXT
)
RETURNS SETOF __mj."vwTestRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TestRun"
    SET
        "TestID" = p_TestID,
        "TestSuiteRunID" = p_TestSuiteRunID,
        "RunByUserID" = p_RunByUserID,
        "Sequence" = p_Sequence,
        "TargetType" = p_TargetType,
        "TargetLogID" = p_TargetLogID,
        "Status" = p_Status,
        "StartedAt" = p_StartedAt,
        "CompletedAt" = p_CompletedAt,
        "DurationSeconds" = p_DurationSeconds,
        "InputData" = p_InputData,
        "ExpectedOutputData" = p_ExpectedOutputData,
        "ActualOutputData" = p_ActualOutputData,
        "PassedChecks" = p_PassedChecks,
        "FailedChecks" = p_FailedChecks,
        "TotalChecks" = p_TotalChecks,
        "Score" = p_Score,
        "CostUSD" = p_CostUSD,
        "ErrorMessage" = p_ErrorMessage,
        "ResultDetails" = p_ResultDetails,
        "Log" = p_Log,
        "Tags" = p_Tags,
        "MachineName" = p_MachineName,
        "MachineID" = p_MachineID,
        "RunByUserName" = p_RunByUserName,
        "RunByUserEmail" = p_RunByUserEmail,
        "RunContextDetails" = p_RunContextDetails,
        "TargetLogEntityID" = p_TargetLogEntityID,
        "ResolvedVariables" = p_ResolvedVariables
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTestRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTestRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTestRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TestRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTestRunFeedback"(
    IN p_ID UUID DEFAULT NULL,
    IN p_TestRunID UUID DEFAULT NULL,
    IN p_ReviewerUserID UUID DEFAULT NULL,
    IN p_Rating INTEGER DEFAULT NULL,
    IN p_IsCorrect BOOLEAN DEFAULT NULL,
    IN p_CorrectionSummary TEXT DEFAULT NULL,
    IN p_Comments TEXT DEFAULT NULL,
    IN p_ReviewedAt TIMESTAMPTZ DEFAULT NULL
)
RETURNS SETOF __mj."vwTestRunFeedbacks" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TestRunFeedback"
            (
                "ID",
                "TestRunID",
                "ReviewerUserID",
                "Rating",
                "IsCorrect",
                "CorrectionSummary",
                "Comments",
                "ReviewedAt"
            )
        VALUES
            (
                p_ID,
                p_TestRunID,
                p_ReviewerUserID,
                p_Rating,
                p_IsCorrect,
                p_CorrectionSummary,
                p_Comments,
                COALESCE(p_ReviewedAt, NOW())
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TestRunFeedback"
            (
                "TestRunID",
                "ReviewerUserID",
                "Rating",
                "IsCorrect",
                "CorrectionSummary",
                "Comments",
                "ReviewedAt"
            )
        VALUES
            (
                p_TestRunID,
                p_ReviewerUserID,
                p_Rating,
                p_IsCorrect,
                p_CorrectionSummary,
                p_Comments,
                COALESCE(p_ReviewedAt, NOW())
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTestRunFeedbacks" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTestRunFeedback"(
    IN p_ID UUID,
    IN p_TestRunID UUID,
    IN p_ReviewerUserID UUID,
    IN p_Rating INTEGER,
    IN p_IsCorrect BOOLEAN,
    IN p_CorrectionSummary TEXT,
    IN p_Comments TEXT,
    IN p_ReviewedAt TIMESTAMPTZ
)
RETURNS SETOF __mj."vwTestRunFeedbacks" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TestRunFeedback"
    SET
        "TestRunID" = p_TestRunID,
        "ReviewerUserID" = p_ReviewerUserID,
        "Rating" = p_Rating,
        "IsCorrect" = p_IsCorrect,
        "CorrectionSummary" = p_CorrectionSummary,
        "Comments" = p_Comments,
        "ReviewedAt" = p_ReviewedAt
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTestRunFeedbacks" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTestRunFeedbacks" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTestRunFeedback"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TestRunFeedback"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTestSuiteTest"(
    IN p_ID UUID DEFAULT NULL,
    IN p_SuiteID UUID DEFAULT NULL,
    IN p_TestID UUID DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwTestSuiteTests" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TestSuiteTest"
            (
                "ID",
                "SuiteID",
                "TestID",
                "Sequence",
                "Status",
                "Configuration"
            )
        VALUES
            (
                p_ID,
                p_SuiteID,
                p_TestID,
                COALESCE(p_Sequence, 0),
                COALESCE(p_Status, 'Active'),
                p_Configuration
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TestSuiteTest"
            (
                "SuiteID",
                "TestID",
                "Sequence",
                "Status",
                "Configuration"
            )
        VALUES
            (
                p_SuiteID,
                p_TestID,
                COALESCE(p_Sequence, 0),
                COALESCE(p_Status, 'Active'),
                p_Configuration
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTestSuiteTests" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTestSuiteTest"(
    IN p_ID UUID,
    IN p_SuiteID UUID,
    IN p_TestID UUID,
    IN p_Sequence INTEGER,
    IN p_Status VARCHAR(20),
    IN p_Configuration TEXT
)
RETURNS SETOF __mj."vwTestSuiteTests" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TestSuiteTest"
    SET
        "SuiteID" = p_SuiteID,
        "TestID" = p_TestID,
        "Sequence" = p_Sequence,
        "Status" = p_Status,
        "Configuration" = p_Configuration
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTestSuiteTests" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTestSuiteTests" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTestSuiteTest"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TestSuiteTest"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTestSuiteRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_SuiteID UUID DEFAULT NULL,
    IN p_RunByUserID UUID DEFAULT NULL,
    IN p_Environment VARCHAR(50) DEFAULT NULL,
    IN p_TriggerType VARCHAR(50) DEFAULT NULL,
    IN p_GitCommit VARCHAR(100) DEFAULT NULL,
    IN p_AgentVersion VARCHAR(100) DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_CompletedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_TotalTests INTEGER DEFAULT NULL,
    IN p_PassedTests INTEGER DEFAULT NULL,
    IN p_FailedTests INTEGER DEFAULT NULL,
    IN p_SkippedTests INTEGER DEFAULT NULL,
    IN p_ErrorTests INTEGER DEFAULT NULL,
    IN p_TotalDurationSeconds NUMERIC(10,3) DEFAULT NULL,
    IN p_TotalCostUSD NUMERIC(10,6) DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL,
    IN p_ResultSummary TEXT DEFAULT NULL,
    IN p_ErrorMessage TEXT DEFAULT NULL,
    IN p_Tags TEXT DEFAULT NULL,
    IN p_MachineName VARCHAR(255) DEFAULT NULL,
    IN p_MachineID VARCHAR(255) DEFAULT NULL,
    IN p_RunByUserName VARCHAR(255) DEFAULT NULL,
    IN p_RunByUserEmail VARCHAR(255) DEFAULT NULL,
    IN p_RunContextDetails TEXT DEFAULT NULL,
    IN p_ResolvedVariables TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwTestSuiteRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TestSuiteRun"
            (
                "ID",
                "SuiteID",
                "RunByUserID",
                "Environment",
                "TriggerType",
                "GitCommit",
                "AgentVersion",
                "Status",
                "StartedAt",
                "CompletedAt",
                "TotalTests",
                "PassedTests",
                "FailedTests",
                "SkippedTests",
                "ErrorTests",
                "TotalDurationSeconds",
                "TotalCostUSD",
                "Configuration",
                "ResultSummary",
                "ErrorMessage",
                "Tags",
                "MachineName",
                "MachineID",
                "RunByUserName",
                "RunByUserEmail",
                "RunContextDetails",
                "ResolvedVariables"
            )
        VALUES
            (
                p_ID,
                p_SuiteID,
                p_RunByUserID,
                p_Environment,
                p_TriggerType,
                p_GitCommit,
                p_AgentVersion,
                COALESCE(p_Status, 'Pending'),
                p_StartedAt,
                p_CompletedAt,
                p_TotalTests,
                p_PassedTests,
                p_FailedTests,
                p_SkippedTests,
                p_ErrorTests,
                p_TotalDurationSeconds,
                p_TotalCostUSD,
                p_Configuration,
                p_ResultSummary,
                p_ErrorMessage,
                p_Tags,
                p_MachineName,
                p_MachineID,
                p_RunByUserName,
                p_RunByUserEmail,
                p_RunContextDetails,
                p_ResolvedVariables
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TestSuiteRun"
            (
                "SuiteID",
                "RunByUserID",
                "Environment",
                "TriggerType",
                "GitCommit",
                "AgentVersion",
                "Status",
                "StartedAt",
                "CompletedAt",
                "TotalTests",
                "PassedTests",
                "FailedTests",
                "SkippedTests",
                "ErrorTests",
                "TotalDurationSeconds",
                "TotalCostUSD",
                "Configuration",
                "ResultSummary",
                "ErrorMessage",
                "Tags",
                "MachineName",
                "MachineID",
                "RunByUserName",
                "RunByUserEmail",
                "RunContextDetails",
                "ResolvedVariables"
            )
        VALUES
            (
                p_SuiteID,
                p_RunByUserID,
                p_Environment,
                p_TriggerType,
                p_GitCommit,
                p_AgentVersion,
                COALESCE(p_Status, 'Pending'),
                p_StartedAt,
                p_CompletedAt,
                p_TotalTests,
                p_PassedTests,
                p_FailedTests,
                p_SkippedTests,
                p_ErrorTests,
                p_TotalDurationSeconds,
                p_TotalCostUSD,
                p_Configuration,
                p_ResultSummary,
                p_ErrorMessage,
                p_Tags,
                p_MachineName,
                p_MachineID,
                p_RunByUserName,
                p_RunByUserEmail,
                p_RunContextDetails,
                p_ResolvedVariables
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTestSuiteRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTestSuiteRun"(
    IN p_ID UUID,
    IN p_SuiteID UUID,
    IN p_RunByUserID UUID,
    IN p_Environment VARCHAR(50),
    IN p_TriggerType VARCHAR(50),
    IN p_GitCommit VARCHAR(100),
    IN p_AgentVersion VARCHAR(100),
    IN p_Status VARCHAR(20),
    IN p_StartedAt TIMESTAMPTZ,
    IN p_CompletedAt TIMESTAMPTZ,
    IN p_TotalTests INTEGER,
    IN p_PassedTests INTEGER,
    IN p_FailedTests INTEGER,
    IN p_SkippedTests INTEGER,
    IN p_ErrorTests INTEGER,
    IN p_TotalDurationSeconds NUMERIC(10,3),
    IN p_TotalCostUSD NUMERIC(10,6),
    IN p_Configuration TEXT,
    IN p_ResultSummary TEXT,
    IN p_ErrorMessage TEXT,
    IN p_Tags TEXT,
    IN p_MachineName VARCHAR(255),
    IN p_MachineID VARCHAR(255),
    IN p_RunByUserName VARCHAR(255),
    IN p_RunByUserEmail VARCHAR(255),
    IN p_RunContextDetails TEXT,
    IN p_ResolvedVariables TEXT
)
RETURNS SETOF __mj."vwTestSuiteRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TestSuiteRun"
    SET
        "SuiteID" = p_SuiteID,
        "RunByUserID" = p_RunByUserID,
        "Environment" = p_Environment,
        "TriggerType" = p_TriggerType,
        "GitCommit" = p_GitCommit,
        "AgentVersion" = p_AgentVersion,
        "Status" = p_Status,
        "StartedAt" = p_StartedAt,
        "CompletedAt" = p_CompletedAt,
        "TotalTests" = p_TotalTests,
        "PassedTests" = p_PassedTests,
        "FailedTests" = p_FailedTests,
        "SkippedTests" = p_SkippedTests,
        "ErrorTests" = p_ErrorTests,
        "TotalDurationSeconds" = p_TotalDurationSeconds,
        "TotalCostUSD" = p_TotalCostUSD,
        "Configuration" = p_Configuration,
        "ResultSummary" = p_ResultSummary,
        "ErrorMessage" = p_ErrorMessage,
        "Tags" = p_Tags,
        "MachineName" = p_MachineName,
        "MachineID" = p_MachineID,
        "RunByUserName" = p_RunByUserName,
        "RunByUserEmail" = p_RunByUserEmail,
        "RunContextDetails" = p_RunContextDetails,
        "ResolvedVariables" = p_ResolvedVariables
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTestSuiteRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTestSuiteRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTestSuiteRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TestSuiteRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTest"(
    IN p_ID UUID DEFAULT NULL,
    IN p_TypeID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_InputDefinition TEXT DEFAULT NULL,
    IN p_ExpectedOutcomes TEXT DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL,
    IN p_Tags TEXT DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL,
    IN p_EstimatedDurationSeconds INTEGER DEFAULT NULL,
    IN p_EstimatedCostUSD NUMERIC(10,6) DEFAULT NULL,
    IN p_RepeatCount INTEGER DEFAULT NULL,
    IN p_MaxExecutionTimeMS INTEGER DEFAULT NULL,
    IN p_Variables TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwTests" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Test"
            (
                "ID",
                "TypeID",
                "Name",
                "Description",
                "Status",
                "InputDefinition",
                "ExpectedOutcomes",
                "Configuration",
                "Tags",
                "Priority",
                "EstimatedDurationSeconds",
                "EstimatedCostUSD",
                "RepeatCount",
                "MaxExecutionTimeMS",
                "Variables"
            )
        VALUES
            (
                p_ID,
                p_TypeID,
                p_Name,
                p_Description,
                COALESCE(p_Status, 'Active'),
                p_InputDefinition,
                p_ExpectedOutcomes,
                p_Configuration,
                p_Tags,
                p_Priority,
                p_EstimatedDurationSeconds,
                p_EstimatedCostUSD,
                p_RepeatCount,
                p_MaxExecutionTimeMS,
                p_Variables
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Test"
            (
                "TypeID",
                "Name",
                "Description",
                "Status",
                "InputDefinition",
                "ExpectedOutcomes",
                "Configuration",
                "Tags",
                "Priority",
                "EstimatedDurationSeconds",
                "EstimatedCostUSD",
                "RepeatCount",
                "MaxExecutionTimeMS",
                "Variables"
            )
        VALUES
            (
                p_TypeID,
                p_Name,
                p_Description,
                COALESCE(p_Status, 'Active'),
                p_InputDefinition,
                p_ExpectedOutcomes,
                p_Configuration,
                p_Tags,
                p_Priority,
                p_EstimatedDurationSeconds,
                p_EstimatedCostUSD,
                p_RepeatCount,
                p_MaxExecutionTimeMS,
                p_Variables
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTests" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTest"(
    IN p_ID UUID,
    IN p_TypeID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_Status VARCHAR(20),
    IN p_InputDefinition TEXT,
    IN p_ExpectedOutcomes TEXT,
    IN p_Configuration TEXT,
    IN p_Tags TEXT,
    IN p_Priority INTEGER,
    IN p_EstimatedDurationSeconds INTEGER,
    IN p_EstimatedCostUSD NUMERIC(10,6),
    IN p_RepeatCount INTEGER,
    IN p_MaxExecutionTimeMS INTEGER,
    IN p_Variables TEXT
)
RETURNS SETOF __mj."vwTests" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Test"
    SET
        "TypeID" = p_TypeID,
        "Name" = p_Name,
        "Description" = p_Description,
        "Status" = p_Status,
        "InputDefinition" = p_InputDefinition,
        "ExpectedOutcomes" = p_ExpectedOutcomes,
        "Configuration" = p_Configuration,
        "Tags" = p_Tags,
        "Priority" = p_Priority,
        "EstimatedDurationSeconds" = p_EstimatedDurationSeconds,
        "EstimatedCostUSD" = p_EstimatedCostUSD,
        "RepeatCount" = p_RepeatCount,
        "MaxExecutionTimeMS" = p_MaxExecutionTimeMS,
        "Variables" = p_Variables
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTests" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTests" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTest"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Test"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateTestSuite"(
    IN p_ID UUID DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Status VARCHAR(20) DEFAULT NULL,
    IN p_Tags TEXT DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL,
    IN p_MaxExecutionTimeMS INTEGER DEFAULT NULL,
    IN p_Variables TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwTestSuites" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."TestSuite"
            (
                "ID",
                "ParentID",
                "Name",
                "Description",
                "Status",
                "Tags",
                "Configuration",
                "MaxExecutionTimeMS",
                "Variables"
            )
        VALUES
            (
                p_ID,
                p_ParentID,
                p_Name,
                p_Description,
                COALESCE(p_Status, 'Active'),
                p_Tags,
                p_Configuration,
                p_MaxExecutionTimeMS,
                p_Variables
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."TestSuite"
            (
                "ParentID",
                "Name",
                "Description",
                "Status",
                "Tags",
                "Configuration",
                "MaxExecutionTimeMS",
                "Variables"
            )
        VALUES
            (
                p_ParentID,
                p_Name,
                p_Description,
                COALESCE(p_Status, 'Active'),
                p_Tags,
                p_Configuration,
                p_MaxExecutionTimeMS,
                p_Variables
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwTestSuites" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateTestSuite"(
    IN p_ID UUID,
    IN p_ParentID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_Status VARCHAR(20),
    IN p_Tags TEXT,
    IN p_Configuration TEXT,
    IN p_MaxExecutionTimeMS INTEGER,
    IN p_Variables TEXT
)
RETURNS SETOF __mj."vwTestSuites" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."TestSuite"
    SET
        "ParentID" = p_ParentID,
        "Name" = p_Name,
        "Description" = p_Description,
        "Status" = p_Status,
        "Tags" = p_Tags,
        "Configuration" = p_Configuration,
        "MaxExecutionTimeMS" = p_MaxExecutionTimeMS,
        "Variables" = p_Variables
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwTestSuites" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwTestSuites" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteTestSuite"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."TestSuite"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateUserNotificationType"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description VARCHAR(500) DEFAULT NULL,
    IN p_DefaultInApp BOOLEAN DEFAULT NULL,
    IN p_DefaultEmail BOOLEAN DEFAULT NULL,
    IN p_DefaultSMS BOOLEAN DEFAULT NULL,
    IN p_AllowUserPreference BOOLEAN DEFAULT NULL,
    IN p_EmailTemplateID UUID DEFAULT NULL,
    IN p_SMSTemplateID UUID DEFAULT NULL,
    IN p_Icon VARCHAR(100) DEFAULT NULL,
    IN p_Color VARCHAR(50) DEFAULT NULL,
    IN p_AutoExpireDays INTEGER DEFAULT NULL,
    IN p_Priority INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwUserNotificationTypes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."UserNotificationType"
            (
                "ID",
                "Name",
                "Description",
                "DefaultInApp",
                "DefaultEmail",
                "DefaultSMS",
                "AllowUserPreference",
                "EmailTemplateID",
                "SMSTemplateID",
                "Icon",
                "Color",
                "AutoExpireDays",
                "Priority"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                COALESCE(p_DefaultInApp, 1),
                COALESCE(p_DefaultEmail, 0),
                COALESCE(p_DefaultSMS, 0),
                p_AllowUserPreference,
                p_EmailTemplateID,
                p_SMSTemplateID,
                p_Icon,
                p_Color,
                p_AutoExpireDays,
                p_Priority
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."UserNotificationType"
            (
                "Name",
                "Description",
                "DefaultInApp",
                "DefaultEmail",
                "DefaultSMS",
                "AllowUserPreference",
                "EmailTemplateID",
                "SMSTemplateID",
                "Icon",
                "Color",
                "AutoExpireDays",
                "Priority"
            )
        VALUES
            (
                p_Name,
                p_Description,
                COALESCE(p_DefaultInApp, 1),
                COALESCE(p_DefaultEmail, 0),
                COALESCE(p_DefaultSMS, 0),
                p_AllowUserPreference,
                p_EmailTemplateID,
                p_SMSTemplateID,
                p_Icon,
                p_Color,
                p_AutoExpireDays,
                p_Priority
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwUserNotificationTypes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateUserNotificationType"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description VARCHAR(500),
    IN p_DefaultInApp BOOLEAN,
    IN p_DefaultEmail BOOLEAN,
    IN p_DefaultSMS BOOLEAN,
    IN p_AllowUserPreference BOOLEAN,
    IN p_EmailTemplateID UUID,
    IN p_SMSTemplateID UUID,
    IN p_Icon VARCHAR(100),
    IN p_Color VARCHAR(50),
    IN p_AutoExpireDays INTEGER,
    IN p_Priority INTEGER
)
RETURNS SETOF __mj."vwUserNotificationTypes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."UserNotificationType"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "DefaultInApp" = p_DefaultInApp,
        "DefaultEmail" = p_DefaultEmail,
        "DefaultSMS" = p_DefaultSMS,
        "AllowUserPreference" = p_AllowUserPreference,
        "EmailTemplateID" = p_EmailTemplateID,
        "SMSTemplateID" = p_SMSTemplateID,
        "Icon" = p_Icon,
        "Color" = p_Color,
        "AutoExpireDays" = p_AutoExpireDays,
        "Priority" = p_Priority
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwUserNotificationTypes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwUserNotificationTypes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteUserNotificationType"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."UserNotificationType"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateUserApplication"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_ApplicationID UUID DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_IsActive BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwUserApplications" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."UserApplication"
            (
                "ID",
                "UserID",
                "ApplicationID",
                "Sequence",
                "IsActive"
            )
        VALUES
            (
                p_ID,
                p_UserID,
                p_ApplicationID,
                COALESCE(p_Sequence, 0),
                COALESCE(p_IsActive, 1)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."UserApplication"
            (
                "UserID",
                "ApplicationID",
                "Sequence",
                "IsActive"
            )
        VALUES
            (
                p_UserID,
                p_ApplicationID,
                COALESCE(p_Sequence, 0),
                COALESCE(p_IsActive, 1)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwUserApplications" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateUserApplication"(
    IN p_ID UUID,
    IN p_UserID UUID,
    IN p_ApplicationID UUID,
    IN p_Sequence INTEGER,
    IN p_IsActive BOOLEAN
)
RETURNS SETOF __mj."vwUserApplications" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."UserApplication"
    SET
        "UserID" = p_UserID,
        "ApplicationID" = p_ApplicationID,
        "Sequence" = p_Sequence,
        "IsActive" = p_IsActive
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwUserApplications" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwUserApplications" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteUserApplication"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."UserApplication"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateUserNotificationPreference"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_NotificationTypeID UUID DEFAULT NULL,
    IN p_InAppEnabled BOOLEAN DEFAULT NULL,
    IN p_EmailEnabled BOOLEAN DEFAULT NULL,
    IN p_SMSEnabled BOOLEAN DEFAULT NULL,
    IN p_Enabled BOOLEAN DEFAULT NULL
)
RETURNS SETOF __mj."vwUserNotificationPreferences" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."UserNotificationPreference"
            (
                "ID",
                "UserID",
                "NotificationTypeID",
                "InAppEnabled",
                "EmailEnabled",
                "SMSEnabled",
                "Enabled"
            )
        VALUES
            (
                p_ID,
                p_UserID,
                p_NotificationTypeID,
                p_InAppEnabled,
                p_EmailEnabled,
                p_SMSEnabled,
                p_Enabled
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."UserNotificationPreference"
            (
                "UserID",
                "NotificationTypeID",
                "InAppEnabled",
                "EmailEnabled",
                "SMSEnabled",
                "Enabled"
            )
        VALUES
            (
                p_UserID,
                p_NotificationTypeID,
                p_InAppEnabled,
                p_EmailEnabled,
                p_SMSEnabled,
                p_Enabled
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwUserNotificationPreferences" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateUserNotificationPreference"(
    IN p_ID UUID,
    IN p_UserID UUID,
    IN p_NotificationTypeID UUID,
    IN p_InAppEnabled BOOLEAN,
    IN p_EmailEnabled BOOLEAN,
    IN p_SMSEnabled BOOLEAN,
    IN p_Enabled BOOLEAN
)
RETURNS SETOF __mj."vwUserNotificationPreferences" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."UserNotificationPreference"
    SET
        "UserID" = p_UserID,
        "NotificationTypeID" = p_NotificationTypeID,
        "InAppEnabled" = p_InAppEnabled,
        "EmailEnabled" = p_EmailEnabled,
        "SMSEnabled" = p_SMSEnabled,
        "Enabled" = p_Enabled
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwUserNotificationPreferences" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwUserNotificationPreferences" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteUserNotificationPreference"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."UserNotificationPreference"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateUserRole"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_RoleID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwUserRoles" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."UserRole"
            (
                "ID",
                "UserID",
                "RoleID"
            )
        VALUES
            (
                p_ID,
                p_UserID,
                p_RoleID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."UserRole"
            (
                "UserID",
                "RoleID"
            )
        VALUES
            (
                p_UserID,
                p_RoleID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwUserRoles" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateUserRole"(
    IN p_ID UUID,
    IN p_UserID UUID,
    IN p_RoleID UUID
)
RETURNS SETOF __mj."vwUserRoles" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."UserRole"
    SET
        "UserID" = p_UserID,
        "RoleID" = p_RoleID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwUserRoles" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwUserRoles" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteUserRole"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."UserRole"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateUserNotification"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Title VARCHAR(255) DEFAULT NULL,
    IN p_Message TEXT DEFAULT NULL,
    IN p_ResourceTypeID UUID DEFAULT NULL,
    IN p_ResourceConfiguration TEXT DEFAULT NULL,
    IN p_Unread BOOLEAN DEFAULT NULL,
    IN p_ReadAt TIMESTAMPTZ DEFAULT NULL,
    IN p_ResourceRecordID UUID DEFAULT NULL,
    IN p_NotificationTypeID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwUserNotifications" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."UserNotification"
            (
                "ID",
                "UserID",
                "Title",
                "Message",
                "ResourceTypeID",
                "ResourceConfiguration",
                "Unread",
                "ReadAt",
                "ResourceRecordID",
                "NotificationTypeID"
            )
        VALUES
            (
                p_ID,
                p_UserID,
                p_Title,
                p_Message,
                p_ResourceTypeID,
                p_ResourceConfiguration,
                COALESCE(p_Unread, 1),
                p_ReadAt,
                p_ResourceRecordID,
                p_NotificationTypeID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."UserNotification"
            (
                "UserID",
                "Title",
                "Message",
                "ResourceTypeID",
                "ResourceConfiguration",
                "Unread",
                "ReadAt",
                "ResourceRecordID",
                "NotificationTypeID"
            )
        VALUES
            (
                p_UserID,
                p_Title,
                p_Message,
                p_ResourceTypeID,
                p_ResourceConfiguration,
                COALESCE(p_Unread, 1),
                p_ReadAt,
                p_ResourceRecordID,
                p_NotificationTypeID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwUserNotifications" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateUserNotification"(
    IN p_ID UUID,
    IN p_UserID UUID,
    IN p_Title VARCHAR(255),
    IN p_Message TEXT,
    IN p_ResourceTypeID UUID,
    IN p_ResourceConfiguration TEXT,
    IN p_Unread BOOLEAN,
    IN p_ReadAt TIMESTAMPTZ,
    IN p_ResourceRecordID UUID,
    IN p_NotificationTypeID UUID
)
RETURNS SETOF __mj."vwUserNotifications" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."UserNotification"
    SET
        "UserID" = p_UserID,
        "Title" = p_Title,
        "Message" = p_Message,
        "ResourceTypeID" = p_ResourceTypeID,
        "ResourceConfiguration" = p_ResourceConfiguration,
        "Unread" = p_Unread,
        "ReadAt" = p_ReadAt,
        "ResourceRecordID" = p_ResourceRecordID,
        "NotificationTypeID" = p_NotificationTypeID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwUserNotifications" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwUserNotifications" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteUserNotification"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."UserNotification"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateUserViewCategory"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(100) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwUserViewCategories" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."UserViewCategory"
            (
                "ID",
                "Name",
                "Description",
                "ParentID",
                "EntityID",
                "UserID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_ParentID,
                p_EntityID,
                p_UserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."UserViewCategory"
            (
                "Name",
                "Description",
                "ParentID",
                "EntityID",
                "UserID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_ParentID,
                p_EntityID,
                p_UserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwUserViewCategories" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateUserViewCategory"(
    IN p_ID UUID,
    IN p_Name VARCHAR(100),
    IN p_Description TEXT,
    IN p_ParentID UUID,
    IN p_EntityID UUID,
    IN p_UserID UUID
)
RETURNS SETOF __mj."vwUserViewCategories" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."UserViewCategory"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "ParentID" = p_ParentID,
        "EntityID" = p_EntityID,
        "UserID" = p_UserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwUserViewCategories" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwUserViewCategories" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteUserViewCategory"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."UserViewCategory"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateUserSetting"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Setting VARCHAR(255) DEFAULT NULL,
    IN p_Value TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwUserSettings" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."UserSetting"
            (
                "ID",
                "UserID",
                "Setting",
                "Value"
            )
        VALUES
            (
                p_ID,
                p_UserID,
                p_Setting,
                p_Value
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."UserSetting"
            (
                "UserID",
                "Setting",
                "Value"
            )
        VALUES
            (
                p_UserID,
                p_Setting,
                p_Value
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwUserSettings" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateUserSetting"(
    IN p_ID UUID,
    IN p_UserID UUID,
    IN p_Setting VARCHAR(255),
    IN p_Value TEXT
)
RETURNS SETOF __mj."vwUserSettings" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."UserSetting"
    SET
        "UserID" = p_UserID,
        "Setting" = p_Setting,
        "Value" = p_Value
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwUserSettings" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwUserSettings" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteUserSetting"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."UserSetting"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateUserViewRun"(
    IN p_ID UUID DEFAULT NULL,
    IN p_UserViewID UUID DEFAULT NULL,
    IN p_RunAt TIMESTAMPTZ DEFAULT NULL,
    IN p_RunByUserID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwUserViewRuns" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."UserViewRun"
            (
                "ID",
                "UserViewID",
                "RunAt",
                "RunByUserID"
            )
        VALUES
            (
                p_ID,
                p_UserViewID,
                p_RunAt,
                p_RunByUserID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."UserViewRun"
            (
                "UserViewID",
                "RunAt",
                "RunByUserID"
            )
        VALUES
            (
                p_UserViewID,
                p_RunAt,
                p_RunByUserID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwUserViewRuns" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateUserViewRun"(
    IN p_ID UUID,
    IN p_UserViewID UUID,
    IN p_RunAt TIMESTAMPTZ,
    IN p_RunByUserID UUID
)
RETURNS SETOF __mj."vwUserViewRuns" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."UserViewRun"
    SET
        "UserViewID" = p_UserViewID,
        "RunAt" = p_RunAt,
        "RunByUserID" = p_RunByUserID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwUserViewRuns" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwUserViewRuns" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteUserViewRun"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."UserViewRun"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateVectorIndex"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_VectorDatabaseID UUID DEFAULT NULL,
    IN p_EmbeddingModelID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwVectorIndexes" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."VectorIndex"
            (
                "ID",
                "Name",
                "Description",
                "VectorDatabaseID",
                "EmbeddingModelID"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_VectorDatabaseID,
                p_EmbeddingModelID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."VectorIndex"
            (
                "Name",
                "Description",
                "VectorDatabaseID",
                "EmbeddingModelID"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_VectorDatabaseID,
                p_EmbeddingModelID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwVectorIndexes" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateVectorIndex"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_VectorDatabaseID UUID,
    IN p_EmbeddingModelID UUID
)
RETURNS SETOF __mj."vwVectorIndexes" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."VectorIndex"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "VectorDatabaseID" = p_VectorDatabaseID,
        "EmbeddingModelID" = p_EmbeddingModelID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwVectorIndexes" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwVectorIndexes" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteVectorIndex"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."VectorIndex"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateVersionLabelRestore"(
    IN p_ID UUID DEFAULT NULL,
    IN p_VersionLabelID UUID DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_StartedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_EndedAt TIMESTAMPTZ DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_TotalItems INTEGER DEFAULT NULL,
    IN p_CompletedItems INTEGER DEFAULT NULL,
    IN p_FailedItems INTEGER DEFAULT NULL,
    IN p_ErrorLog TEXT DEFAULT NULL,
    IN p_PreRestoreLabelID UUID DEFAULT NULL
)
RETURNS SETOF __mj."vwVersionLabelRestores" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."VersionLabelRestore"
            (
                "ID",
                "VersionLabelID",
                "Status",
                "StartedAt",
                "EndedAt",
                "UserID",
                "TotalItems",
                "CompletedItems",
                "FailedItems",
                "ErrorLog",
                "PreRestoreLabelID"
            )
        VALUES
            (
                p_ID,
                p_VersionLabelID,
                COALESCE(p_Status, 'Pending'),
                COALESCE(p_StartedAt, NOW()),
                p_EndedAt,
                p_UserID,
                COALESCE(p_TotalItems, 0),
                COALESCE(p_CompletedItems, 0),
                COALESCE(p_FailedItems, 0),
                p_ErrorLog,
                p_PreRestoreLabelID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."VersionLabelRestore"
            (
                "VersionLabelID",
                "Status",
                "StartedAt",
                "EndedAt",
                "UserID",
                "TotalItems",
                "CompletedItems",
                "FailedItems",
                "ErrorLog",
                "PreRestoreLabelID"
            )
        VALUES
            (
                p_VersionLabelID,
                COALESCE(p_Status, 'Pending'),
                COALESCE(p_StartedAt, NOW()),
                p_EndedAt,
                p_UserID,
                COALESCE(p_TotalItems, 0),
                COALESCE(p_CompletedItems, 0),
                COALESCE(p_FailedItems, 0),
                p_ErrorLog,
                p_PreRestoreLabelID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwVersionLabelRestores" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateVersionLabelRestore"(
    IN p_ID UUID,
    IN p_VersionLabelID UUID,
    IN p_Status VARCHAR(50),
    IN p_StartedAt TIMESTAMPTZ,
    IN p_EndedAt TIMESTAMPTZ,
    IN p_UserID UUID,
    IN p_TotalItems INTEGER,
    IN p_CompletedItems INTEGER,
    IN p_FailedItems INTEGER,
    IN p_ErrorLog TEXT,
    IN p_PreRestoreLabelID UUID
)
RETURNS SETOF __mj."vwVersionLabelRestores" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."VersionLabelRestore"
    SET
        "VersionLabelID" = p_VersionLabelID,
        "Status" = p_Status,
        "StartedAt" = p_StartedAt,
        "EndedAt" = p_EndedAt,
        "UserID" = p_UserID,
        "TotalItems" = p_TotalItems,
        "CompletedItems" = p_CompletedItems,
        "FailedItems" = p_FailedItems,
        "ErrorLog" = p_ErrorLog,
        "PreRestoreLabelID" = p_PreRestoreLabelID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwVersionLabelRestores" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwVersionLabelRestores" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteVersionLabelRestore"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."VersionLabelRestore"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateVersionLabelItem"(
    IN p_ID UUID DEFAULT NULL,
    IN p_VersionLabelID UUID DEFAULT NULL,
    IN p_RecordChangeID UUID DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(750) DEFAULT NULL
)
RETURNS SETOF __mj."vwVersionLabelItems" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."VersionLabelItem"
            (
                "ID",
                "VersionLabelID",
                "RecordChangeID",
                "EntityID",
                "RecordID"
            )
        VALUES
            (
                p_ID,
                p_VersionLabelID,
                p_RecordChangeID,
                p_EntityID,
                p_RecordID
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."VersionLabelItem"
            (
                "VersionLabelID",
                "RecordChangeID",
                "EntityID",
                "RecordID"
            )
        VALUES
            (
                p_VersionLabelID,
                p_RecordChangeID,
                p_EntityID,
                p_RecordID
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwVersionLabelItems" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateVersionLabelItem"(
    IN p_ID UUID,
    IN p_VersionLabelID UUID,
    IN p_RecordChangeID UUID,
    IN p_EntityID UUID,
    IN p_RecordID VARCHAR(750)
)
RETURNS SETOF __mj."vwVersionLabelItems" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."VersionLabelItem"
    SET
        "VersionLabelID" = p_VersionLabelID,
        "RecordChangeID" = p_RecordChangeID,
        "EntityID" = p_EntityID,
        "RecordID" = p_RecordID
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwVersionLabelItems" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwVersionLabelItems" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteVersionLabelItem"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."VersionLabelItem"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateVersionLabel"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(200) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_Scope VARCHAR(50) DEFAULT NULL,
    IN p_EntityID UUID DEFAULT NULL,
    IN p_RecordID VARCHAR(750) DEFAULT NULL,
    IN p_ParentID UUID DEFAULT NULL,
    IN p_Status VARCHAR(50) DEFAULT NULL,
    IN p_CreatedByUserID UUID DEFAULT NULL,
    IN p_ExternalSystemID VARCHAR(200) DEFAULT NULL,
    IN p_ItemCount INTEGER DEFAULT NULL,
    IN p_CreationDurationMS INTEGER DEFAULT NULL
)
RETURNS SETOF __mj."vwVersionLabels" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."VersionLabel"
            (
                "ID",
                "Name",
                "Description",
                "Scope",
                "EntityID",
                "RecordID",
                "ParentID",
                "Status",
                "CreatedByUserID",
                "ExternalSystemID",
                "ItemCount",
                "CreationDurationMS"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                COALESCE(p_Scope, 'Record'),
                p_EntityID,
                p_RecordID,
                p_ParentID,
                COALESCE(p_Status, 'Active'),
                p_CreatedByUserID,
                p_ExternalSystemID,
                COALESCE(p_ItemCount, 0),
                COALESCE(p_CreationDurationMS, 0)
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."VersionLabel"
            (
                "Name",
                "Description",
                "Scope",
                "EntityID",
                "RecordID",
                "ParentID",
                "Status",
                "CreatedByUserID",
                "ExternalSystemID",
                "ItemCount",
                "CreationDurationMS"
            )
        VALUES
            (
                p_Name,
                p_Description,
                COALESCE(p_Scope, 'Record'),
                p_EntityID,
                p_RecordID,
                p_ParentID,
                COALESCE(p_Status, 'Active'),
                p_CreatedByUserID,
                p_ExternalSystemID,
                COALESCE(p_ItemCount, 0),
                COALESCE(p_CreationDurationMS, 0)
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwVersionLabels" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateVersionLabel"(
    IN p_ID UUID,
    IN p_Name VARCHAR(200),
    IN p_Description TEXT,
    IN p_Scope VARCHAR(50),
    IN p_EntityID UUID,
    IN p_RecordID VARCHAR(750),
    IN p_ParentID UUID,
    IN p_Status VARCHAR(50),
    IN p_CreatedByUserID UUID,
    IN p_ExternalSystemID VARCHAR(200),
    IN p_ItemCount INTEGER,
    IN p_CreationDurationMS INTEGER
)
RETURNS SETOF __mj."vwVersionLabels" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."VersionLabel"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "Scope" = p_Scope,
        "EntityID" = p_EntityID,
        "RecordID" = p_RecordID,
        "ParentID" = p_ParentID,
        "Status" = p_Status,
        "CreatedByUserID" = p_CreatedByUserID,
        "ExternalSystemID" = p_ExternalSystemID,
        "ItemCount" = p_ItemCount,
        "CreationDurationMS" = p_CreationDurationMS
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwVersionLabels" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwVersionLabels" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteVersionLabel"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."VersionLabel"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateWorkspaceItem"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_WorkspaceID UUID DEFAULT NULL,
    IN p_ResourceTypeID UUID DEFAULT NULL,
    IN p_ResourceRecordID VARCHAR(2000) DEFAULT NULL,
    IN p_Sequence INTEGER DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwWorkspaceItems" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."WorkspaceItem"
            (
                "ID",
                "Name",
                "Description",
                "WorkspaceID",
                "ResourceTypeID",
                "ResourceRecordID",
                "Sequence",
                "Configuration"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_WorkspaceID,
                p_ResourceTypeID,
                p_ResourceRecordID,
                p_Sequence,
                p_Configuration
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."WorkspaceItem"
            (
                "Name",
                "Description",
                "WorkspaceID",
                "ResourceTypeID",
                "ResourceRecordID",
                "Sequence",
                "Configuration"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_WorkspaceID,
                p_ResourceTypeID,
                p_ResourceRecordID,
                p_Sequence,
                p_Configuration
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwWorkspaceItems" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateWorkspaceItem"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_WorkspaceID UUID,
    IN p_ResourceTypeID UUID,
    IN p_ResourceRecordID VARCHAR(2000),
    IN p_Sequence INTEGER,
    IN p_Configuration TEXT
)
RETURNS SETOF __mj."vwWorkspaceItems" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."WorkspaceItem"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "WorkspaceID" = p_WorkspaceID,
        "ResourceTypeID" = p_ResourceTypeID,
        "ResourceRecordID" = p_ResourceRecordID,
        "Sequence" = p_Sequence,
        "Configuration" = p_Configuration
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwWorkspaceItems" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwWorkspaceItems" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteWorkspaceItem"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."WorkspaceItem"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spCreateWorkspace"(
    IN p_ID UUID DEFAULT NULL,
    IN p_Name VARCHAR(255) DEFAULT NULL,
    IN p_Description TEXT DEFAULT NULL,
    IN p_UserID UUID DEFAULT NULL,
    IN p_Configuration TEXT DEFAULT NULL
)
RETURNS SETOF __mj."vwWorkspaces" AS
$$
BEGIN
IF p_ID IS NOT NULL THEN
        -- User provided a value, use it
        INSERT INTO __mj."Workspace"
            (
                "ID",
                "Name",
                "Description",
                "UserID",
                "Configuration"
            )
        VALUES
            (
                p_ID,
                p_Name,
                p_Description,
                p_UserID,
                p_Configuration
            );
    ELSE
        -- No value provided, let database use its default (e.g., gen_random_uuid())
        INSERT INTO __mj."Workspace"
            (
                "Name",
                "Description",
                "UserID",
                "Configuration"
            )
        VALUES
            (
                p_Name,
                p_Description,
                p_UserID,
                p_Configuration
            );
    END IF;
    -- return the new record from the base view, which might have some calculated fields
    RETURN QUERY SELECT * FROM __mj."vwWorkspaces" WHERE "ID" = p_ID;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spUpdateWorkspace"(
    IN p_ID UUID,
    IN p_Name VARCHAR(255),
    IN p_Description TEXT,
    IN p_UserID UUID,
    IN p_Configuration TEXT
)
RETURNS SETOF __mj."vwWorkspaces" AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
UPDATE
        __mj."Workspace"
    SET
        "Name" = p_Name,
        "Description" = p_Description,
        "UserID" = p_UserID,
        "Configuration" = p_Configuration
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT * FROM __mj."vwWorkspaces" WHERE 1=0;
    ELSE
        RETURN QUERY SELECT * FROM __mj."vwWorkspaces" WHERE "ID" = p_ID;
    END IF;
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION __mj."spDeleteWorkspace"(
    IN p_ID UUID
)
RETURNS TABLE("_result_id" UUID) AS
$$
DECLARE
    _v_row_count INTEGER;
BEGIN
DELETE FROM
        __mj."Workspace"
    WHERE
        "ID" = p_ID;

    GET DIAGNOSTICS _v_row_count = ROW_COUNT;

    IF _v_row_count = 0 THEN
        RETURN QUERY SELECT NULL::UUID AS "_result_id";
    ELSE
        RETURN QUERY SELECT p_ID::UUID AS "_result_id";
    END IF;
END;
$$ LANGUAGE plpgsql;


-- ===================== Triggers =====================

CREATE OR REPLACE FUNCTION __mj."trgUpdateActionAuthorization_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateActionAuthorization" ON __mj."ActionAuthorization";
CREATE TRIGGER "trgUpdateActionAuthorization"
    BEFORE UPDATE ON __mj."ActionAuthorization"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateActionAuthorization_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateActionContext_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateActionContext" ON __mj."ActionContext";
CREATE TRIGGER "trgUpdateActionContext"
    BEFORE UPDATE ON __mj."ActionContext"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateActionContext_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateActionCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateActionCategory" ON __mj."ActionCategory";
CREATE TRIGGER "trgUpdateActionCategory"
    BEFORE UPDATE ON __mj."ActionCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateActionCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAccessControlRule_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAccessControlRule" ON __mj."AccessControlRule";
CREATE TRIGGER "trgUpdateAccessControlRule"
    BEFORE UPDATE ON __mj."AccessControlRule"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAccessControlRule_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateActionExecutionLog_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateActionExecutionLog" ON __mj."ActionExecutionLog";
CREATE TRIGGER "trgUpdateActionExecutionLog"
    BEFORE UPDATE ON __mj."ActionExecutionLog"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateActionExecutionLog_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateActionResultCode_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateActionResultCode" ON __mj."ActionResultCode";
CREATE TRIGGER "trgUpdateActionResultCode"
    BEFORE UPDATE ON __mj."ActionResultCode"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateActionResultCode_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateActionParam_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateActionParam" ON __mj."ActionParam";
CREATE TRIGGER "trgUpdateActionParam"
    BEFORE UPDATE ON __mj."ActionParam"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateActionParam_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateActionLibrary_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateActionLibrary" ON __mj."ActionLibrary";
CREATE TRIGGER "trgUpdateActionLibrary"
    BEFORE UPDATE ON __mj."ActionLibrary"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateActionLibrary_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentConfiguration_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentConfiguration" ON __mj."AIAgentConfiguration";
CREATE TRIGGER "trgUpdateAIAgentConfiguration"
    BEFORE UPDATE ON __mj."AIAgentConfiguration"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentConfiguration_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentArtifactType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentArtifactType" ON __mj."AIAgentArtifactType";
CREATE TRIGGER "trgUpdateAIAgentArtifactType"
    BEFORE UPDATE ON __mj."AIAgentArtifactType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentArtifactType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentAction_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentAction" ON __mj."AIAgentAction";
CREATE TRIGGER "trgUpdateAIAgentAction"
    BEFORE UPDATE ON __mj."AIAgentAction"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentAction_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAction_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAction" ON __mj."AIAction";
CREATE TRIGGER "trgUpdateAIAction"
    BEFORE UPDATE ON __mj."AIAction"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAction_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAction_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAction" ON __mj."Action";
CREATE TRIGGER "trgUpdateAction"
    BEFORE UPDATE ON __mj."Action"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAction_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentLearningCycle_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentLearningCycle" ON __mj."AIAgentLearningCycle";
CREATE TRIGGER "trgUpdateAIAgentLearningCycle"
    BEFORE UPDATE ON __mj."AIAgentLearningCycle"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentLearningCycle_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentExample_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentExample" ON __mj."AIAgentExample";
CREATE TRIGGER "trgUpdateAIAgentExample"
    BEFORE UPDATE ON __mj."AIAgentExample"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentExample_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentDataSource_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentDataSource" ON __mj."AIAgentDataSource";
CREATE TRIGGER "trgUpdateAIAgentDataSource"
    BEFORE UPDATE ON __mj."AIAgentDataSource"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentDataSource_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentModality_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentModality" ON __mj."AIAgentModality";
CREATE TRIGGER "trgUpdateAIAgentModality"
    BEFORE UPDATE ON __mj."AIAgentModality"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentModality_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentModel_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentModel" ON __mj."AIAgentModel";
CREATE TRIGGER "trgUpdateAIAgentModel"
    BEFORE UPDATE ON __mj."AIAgentModel"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentModel_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentPrompt_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentPrompt" ON __mj."AIAgentPrompt";
CREATE TRIGGER "trgUpdateAIAgentPrompt"
    BEFORE UPDATE ON __mj."AIAgentPrompt"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentPrompt_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentNote_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentNote" ON __mj."AIAgentNote";
CREATE TRIGGER "trgUpdateAIAgentNote"
    BEFORE UPDATE ON __mj."AIAgentNote"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentNote_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentRelationship_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentRelationship" ON __mj."AIAgentRelationship";
CREATE TRIGGER "trgUpdateAIAgentRelationship"
    BEFORE UPDATE ON __mj."AIAgentRelationship"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentRelationship_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentPermission_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentPermission" ON __mj."AIAgentPermission";
CREATE TRIGGER "trgUpdateAIAgentPermission"
    BEFORE UPDATE ON __mj."AIAgentPermission"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentPermission_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentRequest_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentRequest" ON __mj."AIAgentRequest";
CREATE TRIGGER "trgUpdateAIAgentRequest"
    BEFORE UPDATE ON __mj."AIAgentRequest"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentRequest_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentRunMedia_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentRunMedia" ON __mj."AIAgentRunMedia";
CREATE TRIGGER "trgUpdateAIAgentRunMedia"
    BEFORE UPDATE ON __mj."AIAgentRunMedia"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentRunMedia_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentRun" ON __mj."AIAgentRun";
CREATE TRIGGER "trgUpdateAIAgentRun"
    BEFORE UPDATE ON __mj."AIAgentRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentRunStep_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentRunStep" ON __mj."AIAgentRunStep";
CREATE TRIGGER "trgUpdateAIAgentRunStep"
    BEFORE UPDATE ON __mj."AIAgentRunStep"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentRunStep_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentStepPath_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentStepPath" ON __mj."AIAgentStepPath";
CREATE TRIGGER "trgUpdateAIAgentStepPath"
    BEFORE UPDATE ON __mj."AIAgentStepPath"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentStepPath_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIArchitecture_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIArchitecture" ON __mj."AIArchitecture";
CREATE TRIGGER "trgUpdateAIArchitecture"
    BEFORE UPDATE ON __mj."AIArchitecture"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIArchitecture_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentStep_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentStep" ON __mj."AIAgentStep";
CREATE TRIGGER "trgUpdateAIAgentStep"
    BEFORE UPDATE ON __mj."AIAgentStep"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentStep_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgentType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgentType" ON __mj."AIAgentType";
CREATE TRIGGER "trgUpdateAIAgentType"
    BEFORE UPDATE ON __mj."AIAgentType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgentType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIAgent_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIAgent" ON __mj."AIAgent";
CREATE TRIGGER "trgUpdateAIAgent"
    BEFORE UPDATE ON __mj."AIAgent"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIAgent_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIConfigurationParam_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIConfigurationParam" ON __mj."AIConfigurationParam";
CREATE TRIGGER "trgUpdateAIConfigurationParam"
    BEFORE UPDATE ON __mj."AIConfigurationParam"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIConfigurationParam_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIConfiguration_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIConfiguration" ON __mj."AIConfiguration";
CREATE TRIGGER "trgUpdateAIConfiguration"
    BEFORE UPDATE ON __mj."AIConfiguration"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIConfiguration_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIModelAction_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIModelAction" ON __mj."AIModelAction";
CREATE TRIGGER "trgUpdateAIModelAction"
    BEFORE UPDATE ON __mj."AIModelAction"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIModelAction_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAICredentialBinding_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAICredentialBinding" ON __mj."AICredentialBinding";
CREATE TRIGGER "trgUpdateAICredentialBinding"
    BEFORE UPDATE ON __mj."AICredentialBinding"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAICredentialBinding_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIModelArchitecture_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIModelArchitecture" ON __mj."AIModelArchitecture";
CREATE TRIGGER "trgUpdateAIModelArchitecture"
    BEFORE UPDATE ON __mj."AIModelArchitecture"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIModelArchitecture_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIModelCost_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIModelCost" ON __mj."AIModelCost";
CREATE TRIGGER "trgUpdateAIModelCost"
    BEFORE UPDATE ON __mj."AIModelCost"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIModelCost_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIModelModality_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIModelModality" ON __mj."AIModelModality";
CREATE TRIGGER "trgUpdateAIModelModality"
    BEFORE UPDATE ON __mj."AIModelModality"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIModelModality_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIModelType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIModelType" ON __mj."AIModelType";
CREATE TRIGGER "trgUpdateAIModelType"
    BEFORE UPDATE ON __mj."AIModelType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIModelType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIPromptCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIPromptCategory" ON __mj."AIPromptCategory";
CREATE TRIGGER "trgUpdateAIPromptCategory"
    BEFORE UPDATE ON __mj."AIPromptCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIPromptCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIPromptRunMedia_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIPromptRunMedia" ON __mj."AIPromptRunMedia";
CREATE TRIGGER "trgUpdateAIPromptRunMedia"
    BEFORE UPDATE ON __mj."AIPromptRunMedia"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIPromptRunMedia_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIPromptModel_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIPromptModel" ON __mj."AIPromptModel";
CREATE TRIGGER "trgUpdateAIPromptModel"
    BEFORE UPDATE ON __mj."AIPromptModel"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIPromptModel_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIModelVendor_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIModelVendor" ON __mj."AIModelVendor";
CREATE TRIGGER "trgUpdateAIModelVendor"
    BEFORE UPDATE ON __mj."AIModelVendor"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIModelVendor_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIPromptRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIPromptRun" ON __mj."AIPromptRun";
CREATE TRIGGER "trgUpdateAIPromptRun"
    BEFORE UPDATE ON __mj."AIPromptRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIPromptRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIResultCache_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIResultCache" ON __mj."AIResultCache";
CREATE TRIGGER "trgUpdateAIResultCache"
    BEFORE UPDATE ON __mj."AIResultCache"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIResultCache_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIPrompt_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIPrompt" ON __mj."AIPrompt";
CREATE TRIGGER "trgUpdateAIPrompt"
    BEFORE UPDATE ON __mj."AIPrompt"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIPrompt_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIVendorType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIVendorType" ON __mj."AIVendorType";
CREATE TRIGGER "trgUpdateAIVendorType"
    BEFORE UPDATE ON __mj."AIVendorType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIVendorType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAIVendor_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAIVendor" ON __mj."AIVendor";
CREATE TRIGGER "trgUpdateAIVendor"
    BEFORE UPDATE ON __mj."AIVendor"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAIVendor_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAPIApplicationScope_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAPIApplicationScope" ON __mj."APIApplicationScope";
CREATE TRIGGER "trgUpdateAPIApplicationScope"
    BEFORE UPDATE ON __mj."APIApplicationScope"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAPIApplicationScope_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAPIKeyApplication_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAPIKeyApplication" ON __mj."APIKeyApplication";
CREATE TRIGGER "trgUpdateAPIKeyApplication"
    BEFORE UPDATE ON __mj."APIKeyApplication"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAPIKeyApplication_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAPIKeyScope_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAPIKeyScope" ON __mj."APIKeyScope";
CREATE TRIGGER "trgUpdateAPIKeyScope"
    BEFORE UPDATE ON __mj."APIKeyScope"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAPIKeyScope_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAPIKeyUsageLog_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAPIKeyUsageLog" ON __mj."APIKeyUsageLog";
CREATE TRIGGER "trgUpdateAPIKeyUsageLog"
    BEFORE UPDATE ON __mj."APIKeyUsageLog"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAPIKeyUsageLog_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAPIKey_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAPIKey" ON __mj."APIKey";
CREATE TRIGGER "trgUpdateAPIKey"
    BEFORE UPDATE ON __mj."APIKey"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAPIKey_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAPIScope_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAPIScope" ON __mj."APIScope";
CREATE TRIGGER "trgUpdateAPIScope"
    BEFORE UPDATE ON __mj."APIScope"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAPIScope_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateApplicationSetting_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateApplicationSetting" ON __mj."ApplicationSetting";
CREATE TRIGGER "trgUpdateApplicationSetting"
    BEFORE UPDATE ON __mj."ApplicationSetting"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateApplicationSetting_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateArtifactType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateArtifactType" ON __mj."ArtifactType";
CREATE TRIGGER "trgUpdateArtifactType"
    BEFORE UPDATE ON __mj."ArtifactType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateArtifactType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateArtifactPermission_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateArtifactPermission" ON __mj."ArtifactPermission";
CREATE TRIGGER "trgUpdateArtifactPermission"
    BEFORE UPDATE ON __mj."ArtifactPermission"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateArtifactPermission_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateArtifactUse_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateArtifactUse" ON __mj."ArtifactUse";
CREATE TRIGGER "trgUpdateArtifactUse"
    BEFORE UPDATE ON __mj."ArtifactUse"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateArtifactUse_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateArtifactVersion_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateArtifactVersion" ON __mj."ArtifactVersion";
CREATE TRIGGER "trgUpdateArtifactVersion"
    BEFORE UPDATE ON __mj."ArtifactVersion"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateArtifactVersion_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateArtifactVersionAttribute_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateArtifactVersionAttribute" ON __mj."ArtifactVersionAttribute";
CREATE TRIGGER "trgUpdateArtifactVersionAttribute"
    BEFORE UPDATE ON __mj."ArtifactVersionAttribute"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateArtifactVersionAttribute_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateArtifact_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateArtifact" ON __mj."Artifact";
CREATE TRIGGER "trgUpdateArtifact"
    BEFORE UPDATE ON __mj."Artifact"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateArtifact_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAuditLogType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAuditLogType" ON __mj."AuditLogType";
CREATE TRIGGER "trgUpdateAuditLogType"
    BEFORE UPDATE ON __mj."AuditLogType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAuditLogType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAuditLog_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAuditLog" ON __mj."AuditLog";
CREATE TRIGGER "trgUpdateAuditLog"
    BEFORE UPDATE ON __mj."AuditLog"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAuditLog_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAuthorizationRole_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAuthorizationRole" ON __mj."AuthorizationRole";
CREATE TRIGGER "trgUpdateAuthorizationRole"
    BEFORE UPDATE ON __mj."AuthorizationRole"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAuthorizationRole_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateAuthorization_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateAuthorization" ON __mj."Authorization";
CREATE TRIGGER "trgUpdateAuthorization"
    BEFORE UPDATE ON __mj."Authorization"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateAuthorization_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateCollectionPermission_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateCollectionPermission" ON __mj."CollectionPermission";
CREATE TRIGGER "trgUpdateCollectionPermission"
    BEFORE UPDATE ON __mj."CollectionPermission"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateCollectionPermission_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateCollectionArtifact_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateCollectionArtifact" ON __mj."CollectionArtifact";
CREATE TRIGGER "trgUpdateCollectionArtifact"
    BEFORE UPDATE ON __mj."CollectionArtifact"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateCollectionArtifact_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateCollection_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateCollection" ON __mj."Collection";
CREATE TRIGGER "trgUpdateCollection"
    BEFORE UPDATE ON __mj."Collection"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateCollection_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateCommunicationProviderMessageType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateCommunicationProviderMessageType" ON __mj."CommunicationProviderMessageType";
CREATE TRIGGER "trgUpdateCommunicationProviderMessageType"
    BEFORE UPDATE ON __mj."CommunicationProviderMessageType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateCommunicationProviderMessageType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateCommunicationLog_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateCommunicationLog" ON __mj."CommunicationLog";
CREATE TRIGGER "trgUpdateCommunicationLog"
    BEFORE UPDATE ON __mj."CommunicationLog"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateCommunicationLog_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateCommunicationRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateCommunicationRun" ON __mj."CommunicationRun";
CREATE TRIGGER "trgUpdateCommunicationRun"
    BEFORE UPDATE ON __mj."CommunicationRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateCommunicationRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateCompanyIntegrationRecordMap_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateCompanyIntegrationRecordMap" ON __mj."CompanyIntegrationRecordMap";
CREATE TRIGGER "trgUpdateCompanyIntegrationRecordMap"
    BEFORE UPDATE ON __mj."CompanyIntegrationRecordMap"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateCompanyIntegrationRecordMap_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateCompanyIntegrationRunAPILog_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateCompanyIntegrationRunAPILog" ON __mj."CompanyIntegrationRunAPILog";
CREATE TRIGGER "trgUpdateCompanyIntegrationRunAPILog"
    BEFORE UPDATE ON __mj."CompanyIntegrationRunAPILog"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateCompanyIntegrationRunAPILog_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateComponentLibraryLink_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateComponentLibraryLink" ON __mj."ComponentLibraryLink";
CREATE TRIGGER "trgUpdateComponentLibraryLink"
    BEFORE UPDATE ON __mj."ComponentLibraryLink"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateComponentLibraryLink_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateComponentDependency_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateComponentDependency" ON __mj."ComponentDependency";
CREATE TRIGGER "trgUpdateComponentDependency"
    BEFORE UPDATE ON __mj."ComponentDependency"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateComponentDependency_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateContentItemAttribute_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateContentItemAttribute" ON __mj."ContentItemAttribute";
CREATE TRIGGER "trgUpdateContentItemAttribute"
    BEFORE UPDATE ON __mj."ContentItemAttribute"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateContentItemAttribute_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateContentItemTag_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateContentItemTag" ON __mj."ContentItemTag";
CREATE TRIGGER "trgUpdateContentItemTag"
    BEFORE UPDATE ON __mj."ContentItemTag"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateContentItemTag_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateComponent_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateComponent" ON __mj."Component";
CREATE TRIGGER "trgUpdateComponent"
    BEFORE UPDATE ON __mj."Component"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateComponent_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateContentItem_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateContentItem" ON __mj."ContentItem";
CREATE TRIGGER "trgUpdateContentItem"
    BEFORE UPDATE ON __mj."ContentItem"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateContentItem_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateContentProcessRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateContentProcessRun" ON __mj."ContentProcessRun";
CREATE TRIGGER "trgUpdateContentProcessRun"
    BEFORE UPDATE ON __mj."ContentProcessRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateContentProcessRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateContentSourceParam_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateContentSourceParam" ON __mj."ContentSourceParam";
CREATE TRIGGER "trgUpdateContentSourceParam"
    BEFORE UPDATE ON __mj."ContentSourceParam"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateContentSourceParam_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateContentSource_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateContentSource" ON __mj."ContentSource";
CREATE TRIGGER "trgUpdateContentSource"
    BEFORE UPDATE ON __mj."ContentSource"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateContentSource_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateContentType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateContentType" ON __mj."ContentType";
CREATE TRIGGER "trgUpdateContentType"
    BEFORE UPDATE ON __mj."ContentType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateContentType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateConversationArtifactPermission_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateConversationArtifactPermission" ON __mj."ConversationArtifactPermission";
CREATE TRIGGER "trgUpdateConversationArtifactPermission"
    BEFORE UPDATE ON __mj."ConversationArtifactPermission"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateConversationArtifactPermission_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateConversationArtifactVersion_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateConversationArtifactVersion" ON __mj."ConversationArtifactVersion";
CREATE TRIGGER "trgUpdateConversationArtifactVersion"
    BEFORE UPDATE ON __mj."ConversationArtifactVersion"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateConversationArtifactVersion_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateConversationArtifact_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateConversationArtifact" ON __mj."ConversationArtifact";
CREATE TRIGGER "trgUpdateConversationArtifact"
    BEFORE UPDATE ON __mj."ConversationArtifact"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateConversationArtifact_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateConversationDetail_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateConversationDetail" ON __mj."ConversationDetail";
CREATE TRIGGER "trgUpdateConversationDetail"
    BEFORE UPDATE ON __mj."ConversationDetail"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateConversationDetail_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateConversationDetailArtifact_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateConversationDetailArtifact" ON __mj."ConversationDetailArtifact";
CREATE TRIGGER "trgUpdateConversationDetailArtifact"
    BEFORE UPDATE ON __mj."ConversationDetailArtifact"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateConversationDetailArtifact_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateConversationDetailRating_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateConversationDetailRating" ON __mj."ConversationDetailRating";
CREATE TRIGGER "trgUpdateConversationDetailRating"
    BEFORE UPDATE ON __mj."ConversationDetailRating"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateConversationDetailRating_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateConversationDetailAttachment_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateConversationDetailAttachment" ON __mj."ConversationDetailAttachment";
CREATE TRIGGER "trgUpdateConversationDetailAttachment"
    BEFORE UPDATE ON __mj."ConversationDetailAttachment"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateConversationDetailAttachment_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateConversation_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateConversation" ON __mj."Conversation";
CREATE TRIGGER "trgUpdateConversation"
    BEFORE UPDATE ON __mj."Conversation"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateConversation_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateCredentialCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateCredentialCategory" ON __mj."CredentialCategory";
CREATE TRIGGER "trgUpdateCredentialCategory"
    BEFORE UPDATE ON __mj."CredentialCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateCredentialCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateCredential_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateCredential" ON __mj."Credential";
CREATE TRIGGER "trgUpdateCredential"
    BEFORE UPDATE ON __mj."Credential"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateCredential_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDashboardCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDashboardCategory" ON __mj."DashboardCategory";
CREATE TRIGGER "trgUpdateDashboardCategory"
    BEFORE UPDATE ON __mj."DashboardCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDashboardCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDashboardCategoryLink_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDashboardCategoryLink" ON __mj."DashboardCategoryLink";
CREATE TRIGGER "trgUpdateDashboardCategoryLink"
    BEFORE UPDATE ON __mj."DashboardCategoryLink"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDashboardCategoryLink_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDashboardCategoryPermission_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDashboardCategoryPermission" ON __mj."DashboardCategoryPermission";
CREATE TRIGGER "trgUpdateDashboardCategoryPermission"
    BEFORE UPDATE ON __mj."DashboardCategoryPermission"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDashboardCategoryPermission_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDashboardPermission_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDashboardPermission" ON __mj."DashboardPermission";
CREATE TRIGGER "trgUpdateDashboardPermission"
    BEFORE UPDATE ON __mj."DashboardPermission"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDashboardPermission_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDashboardUserPreference_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDashboardUserPreference" ON __mj."DashboardUserPreference";
CREATE TRIGGER "trgUpdateDashboardUserPreference"
    BEFORE UPDATE ON __mj."DashboardUserPreference"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDashboardUserPreference_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDashboardUserState_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDashboardUserState" ON __mj."DashboardUserState";
CREATE TRIGGER "trgUpdateDashboardUserState"
    BEFORE UPDATE ON __mj."DashboardUserState"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDashboardUserState_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDashboard_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDashboard" ON __mj."Dashboard";
CREATE TRIGGER "trgUpdateDashboard"
    BEFORE UPDATE ON __mj."Dashboard"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDashboard_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDataContextItem_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDataContextItem" ON __mj."DataContextItem";
CREATE TRIGGER "trgUpdateDataContextItem"
    BEFORE UPDATE ON __mj."DataContextItem"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDataContextItem_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDataContext_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDataContext" ON __mj."DataContext";
CREATE TRIGGER "trgUpdateDataContext"
    BEFORE UPDATE ON __mj."DataContext"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDataContext_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDatasetItem_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDatasetItem" ON __mj."DatasetItem";
CREATE TRIGGER "trgUpdateDatasetItem"
    BEFORE UPDATE ON __mj."DatasetItem"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDatasetItem_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDuplicateRunDetail_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDuplicateRunDetail" ON __mj."DuplicateRunDetail";
CREATE TRIGGER "trgUpdateDuplicateRunDetail"
    BEFORE UPDATE ON __mj."DuplicateRunDetail"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDuplicateRunDetail_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDuplicateRunDetailMatch_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDuplicateRunDetailMatch" ON __mj."DuplicateRunDetailMatch";
CREATE TRIGGER "trgUpdateDuplicateRunDetailMatch"
    BEFORE UPDATE ON __mj."DuplicateRunDetailMatch"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDuplicateRunDetailMatch_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateDuplicateRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateDuplicateRun" ON __mj."DuplicateRun";
CREATE TRIGGER "trgUpdateDuplicateRun"
    BEFORE UPDATE ON __mj."DuplicateRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateDuplicateRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEmployeeCompanyIntegration_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEmployeeCompanyIntegration" ON __mj."EmployeeCompanyIntegration";
CREATE TRIGGER "trgUpdateEmployeeCompanyIntegration"
    BEFORE UPDATE ON __mj."EmployeeCompanyIntegration"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEmployeeCompanyIntegration_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEmployeeRole_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEmployeeRole" ON __mj."EmployeeRole";
CREATE TRIGGER "trgUpdateEmployeeRole"
    BEFORE UPDATE ON __mj."EmployeeRole"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEmployeeRole_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEmployeeSkill_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEmployeeSkill" ON __mj."EmployeeSkill";
CREATE TRIGGER "trgUpdateEmployeeSkill"
    BEFORE UPDATE ON __mj."EmployeeSkill"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEmployeeSkill_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEncryptionKey_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEncryptionKey" ON __mj."EncryptionKey";
CREATE TRIGGER "trgUpdateEncryptionKey"
    BEFORE UPDATE ON __mj."EncryptionKey"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEncryptionKey_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntity_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntity" ON __mj."Entity";
CREATE TRIGGER "trgUpdateEntity"
    BEFORE UPDATE ON __mj."Entity"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntity_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityActionInvocation_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityActionInvocation" ON __mj."EntityActionInvocation";
CREATE TRIGGER "trgUpdateEntityActionInvocation"
    BEFORE UPDATE ON __mj."EntityActionInvocation"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityActionInvocation_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityActionFilter_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityActionFilter" ON __mj."EntityActionFilter";
CREATE TRIGGER "trgUpdateEntityActionFilter"
    BEFORE UPDATE ON __mj."EntityActionFilter"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityActionFilter_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityActionParam_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityActionParam" ON __mj."EntityActionParam";
CREATE TRIGGER "trgUpdateEntityActionParam"
    BEFORE UPDATE ON __mj."EntityActionParam"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityActionParam_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityCommunicationField_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityCommunicationField" ON __mj."EntityCommunicationField";
CREATE TRIGGER "trgUpdateEntityCommunicationField"
    BEFORE UPDATE ON __mj."EntityCommunicationField"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityCommunicationField_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityAction_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityAction" ON __mj."EntityAction";
CREATE TRIGGER "trgUpdateEntityAction"
    BEFORE UPDATE ON __mj."EntityAction"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityAction_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityAIAction_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityAIAction" ON __mj."EntityAIAction";
CREATE TRIGGER "trgUpdateEntityAIAction"
    BEFORE UPDATE ON __mj."EntityAIAction"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityAIAction_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityCommunicationMessageType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityCommunicationMessageType" ON __mj."EntityCommunicationMessageType";
CREATE TRIGGER "trgUpdateEntityCommunicationMessageType"
    BEFORE UPDATE ON __mj."EntityCommunicationMessageType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityCommunicationMessageType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityDocumentRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityDocumentRun" ON __mj."EntityDocumentRun";
CREATE TRIGGER "trgUpdateEntityDocumentRun"
    BEFORE UPDATE ON __mj."EntityDocumentRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityDocumentRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityDocumentSetting_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityDocumentSetting" ON __mj."EntityDocumentSetting";
CREATE TRIGGER "trgUpdateEntityDocumentSetting"
    BEFORE UPDATE ON __mj."EntityDocumentSetting"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityDocumentSetting_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityDocument_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityDocument" ON __mj."EntityDocument";
CREATE TRIGGER "trgUpdateEntityDocument"
    BEFORE UPDATE ON __mj."EntityDocument"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityDocument_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntityRecordDocument_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntityRecordDocument" ON __mj."EntityRecordDocument";
CREATE TRIGGER "trgUpdateEntityRecordDocument"
    BEFORE UPDATE ON __mj."EntityRecordDocument"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntityRecordDocument_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateEntitySetting_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateEntitySetting" ON __mj."EntitySetting";
CREATE TRIGGER "trgUpdateEntitySetting"
    BEFORE UPDATE ON __mj."EntitySetting"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateEntitySetting_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateFileCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateFileCategory" ON __mj."FileCategory";
CREATE TRIGGER "trgUpdateFileCategory"
    BEFORE UPDATE ON __mj."FileCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateFileCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateErrorLog_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateErrorLog" ON __mj."ErrorLog";
CREATE TRIGGER "trgUpdateErrorLog"
    BEFORE UPDATE ON __mj."ErrorLog"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateErrorLog_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateFileEntityRecordLink_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateFileEntityRecordLink" ON __mj."FileEntityRecordLink";
CREATE TRIGGER "trgUpdateFileEntityRecordLink"
    BEFORE UPDATE ON __mj."FileEntityRecordLink"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateFileEntityRecordLink_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateFile_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateFile" ON __mj."File";
CREATE TRIGGER "trgUpdateFile"
    BEFORE UPDATE ON __mj."File"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateFile_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateFileStorageAccount_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateFileStorageAccount" ON __mj."FileStorageAccount";
CREATE TRIGGER "trgUpdateFileStorageAccount"
    BEFORE UPDATE ON __mj."FileStorageAccount"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateFileStorageAccount_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateGeneratedCodeCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateGeneratedCodeCategory" ON __mj."GeneratedCodeCategory";
CREATE TRIGGER "trgUpdateGeneratedCodeCategory"
    BEFORE UPDATE ON __mj."GeneratedCodeCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateGeneratedCodeCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateGeneratedCode_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateGeneratedCode" ON __mj."GeneratedCode";
CREATE TRIGGER "trgUpdateGeneratedCode"
    BEFORE UPDATE ON __mj."GeneratedCode"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateGeneratedCode_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateLibraryItem_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateLibraryItem" ON __mj."LibraryItem";
CREATE TRIGGER "trgUpdateLibraryItem"
    BEFORE UPDATE ON __mj."LibraryItem"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateLibraryItem_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateListCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateListCategory" ON __mj."ListCategory";
CREATE TRIGGER "trgUpdateListCategory"
    BEFORE UPDATE ON __mj."ListCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateListCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateListInvitation_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateListInvitation" ON __mj."ListInvitation";
CREATE TRIGGER "trgUpdateListInvitation"
    BEFORE UPDATE ON __mj."ListInvitation"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateListInvitation_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateList_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateList" ON __mj."List";
CREATE TRIGGER "trgUpdateList"
    BEFORE UPDATE ON __mj."List"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateList_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateListDetail_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateListDetail" ON __mj."ListDetail";
CREATE TRIGGER "trgUpdateListDetail"
    BEFORE UPDATE ON __mj."ListDetail"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateListDetail_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateListShare_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateListShare" ON __mj."ListShare";
CREATE TRIGGER "trgUpdateListShare"
    BEFORE UPDATE ON __mj."ListShare"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateListShare_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateMCPServerConnectionPermission_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateMCPServerConnectionPermission" ON __mj."MCPServerConnectionPermission";
CREATE TRIGGER "trgUpdateMCPServerConnectionPermission"
    BEFORE UPDATE ON __mj."MCPServerConnectionPermission"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateMCPServerConnectionPermission_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateMCPServerConnectionTool_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateMCPServerConnectionTool" ON __mj."MCPServerConnectionTool";
CREATE TRIGGER "trgUpdateMCPServerConnectionTool"
    BEFORE UPDATE ON __mj."MCPServerConnectionTool"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateMCPServerConnectionTool_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateMCPServer_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateMCPServer" ON __mj."MCPServer";
CREATE TRIGGER "trgUpdateMCPServer"
    BEFORE UPDATE ON __mj."MCPServer"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateMCPServer_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateMCPServerConnection_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateMCPServerConnection" ON __mj."MCPServerConnection";
CREATE TRIGGER "trgUpdateMCPServerConnection"
    BEFORE UPDATE ON __mj."MCPServerConnection"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateMCPServerConnection_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateMCPServerTool_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateMCPServerTool" ON __mj."MCPServerTool";
CREATE TRIGGER "trgUpdateMCPServerTool"
    BEFORE UPDATE ON __mj."MCPServerTool"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateMCPServerTool_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateMCPToolExecutionLog_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateMCPToolExecutionLog" ON __mj."MCPToolExecutionLog";
CREATE TRIGGER "trgUpdateMCPToolExecutionLog"
    BEFORE UPDATE ON __mj."MCPToolExecutionLog"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateMCPToolExecutionLog_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateOAuthToken_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateOAuthToken" ON __mj."OAuthToken";
CREATE TRIGGER "trgUpdateOAuthToken"
    BEFORE UPDATE ON __mj."OAuthToken"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateOAuthToken_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateOAuthAuthorizationState_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateOAuthAuthorizationState" ON __mj."OAuthAuthorizationState";
CREATE TRIGGER "trgUpdateOAuthAuthorizationState"
    BEFORE UPDATE ON __mj."OAuthAuthorizationState"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateOAuthAuthorizationState_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateOAuthClientRegistration_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateOAuthClientRegistration" ON __mj."OAuthClientRegistration";
CREATE TRIGGER "trgUpdateOAuthClientRegistration"
    BEFORE UPDATE ON __mj."OAuthClientRegistration"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateOAuthClientRegistration_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdatePublicLink_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdatePublicLink" ON __mj."PublicLink";
CREATE TRIGGER "trgUpdatePublicLink"
    BEFORE UPDATE ON __mj."PublicLink"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdatePublicLink_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateQuery_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateQuery" ON __mj."Query";
CREATE TRIGGER "trgUpdateQuery"
    BEFORE UPDATE ON __mj."Query"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateQuery_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateProject_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateProject" ON __mj."Project";
CREATE TRIGGER "trgUpdateProject"
    BEFORE UPDATE ON __mj."Project"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateProject_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateQueryCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateQueryCategory" ON __mj."QueryCategory";
CREATE TRIGGER "trgUpdateQueryCategory"
    BEFORE UPDATE ON __mj."QueryCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateQueryCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateQueryEntity_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateQueryEntity" ON __mj."QueryEntity";
CREATE TRIGGER "trgUpdateQueryEntity"
    BEFORE UPDATE ON __mj."QueryEntity"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateQueryEntity_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateQueryField_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateQueryField" ON __mj."QueryField";
CREATE TRIGGER "trgUpdateQueryField"
    BEFORE UPDATE ON __mj."QueryField"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateQueryField_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateQueueTask_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateQueueTask" ON __mj."QueueTask";
CREATE TRIGGER "trgUpdateQueueTask"
    BEFORE UPDATE ON __mj."QueueTask"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateQueueTask_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateQueryParameter_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateQueryParameter" ON __mj."QueryParameter";
CREATE TRIGGER "trgUpdateQueryParameter"
    BEFORE UPDATE ON __mj."QueryParameter"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateQueryParameter_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateQueryPermission_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateQueryPermission" ON __mj."QueryPermission";
CREATE TRIGGER "trgUpdateQueryPermission"
    BEFORE UPDATE ON __mj."QueryPermission"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateQueryPermission_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateRecommendationItem_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateRecommendationItem" ON __mj."RecommendationItem";
CREATE TRIGGER "trgUpdateRecommendationItem"
    BEFORE UPDATE ON __mj."RecommendationItem"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateRecommendationItem_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateQueue_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateQueue" ON __mj."Queue";
CREATE TRIGGER "trgUpdateQueue"
    BEFORE UPDATE ON __mj."Queue"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateQueue_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateRecommendationRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateRecommendationRun" ON __mj."RecommendationRun";
CREATE TRIGGER "trgUpdateRecommendationRun"
    BEFORE UPDATE ON __mj."RecommendationRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateRecommendationRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateRecommendation_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateRecommendation" ON __mj."Recommendation";
CREATE TRIGGER "trgUpdateRecommendation"
    BEFORE UPDATE ON __mj."Recommendation"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateRecommendation_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateRecordChangeReplayRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateRecordChangeReplayRun" ON __mj."RecordChangeReplayRun";
CREATE TRIGGER "trgUpdateRecordChangeReplayRun"
    BEFORE UPDATE ON __mj."RecordChangeReplayRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateRecordChangeReplayRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateRecordLink_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateRecordLink" ON __mj."RecordLink";
CREATE TRIGGER "trgUpdateRecordLink"
    BEFORE UPDATE ON __mj."RecordLink"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateRecordLink_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateRecordMergeDeletionLog_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateRecordMergeDeletionLog" ON __mj."RecordMergeDeletionLog";
CREATE TRIGGER "trgUpdateRecordMergeDeletionLog"
    BEFORE UPDATE ON __mj."RecordMergeDeletionLog"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateRecordMergeDeletionLog_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateRecordMergeLog_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateRecordMergeLog" ON __mj."RecordMergeLog";
CREATE TRIGGER "trgUpdateRecordMergeLog"
    BEFORE UPDATE ON __mj."RecordMergeLog"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateRecordMergeLog_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateReportCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateReportCategory" ON __mj."ReportCategory";
CREATE TRIGGER "trgUpdateReportCategory"
    BEFORE UPDATE ON __mj."ReportCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateReportCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateReportSnapshot_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateReportSnapshot" ON __mj."ReportSnapshot";
CREATE TRIGGER "trgUpdateReportSnapshot"
    BEFORE UPDATE ON __mj."ReportSnapshot"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateReportSnapshot_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateReportUserState_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateReportUserState" ON __mj."ReportUserState";
CREATE TRIGGER "trgUpdateReportUserState"
    BEFORE UPDATE ON __mj."ReportUserState"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateReportUserState_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateReportVersion_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateReportVersion" ON __mj."ReportVersion";
CREATE TRIGGER "trgUpdateReportVersion"
    BEFORE UPDATE ON __mj."ReportVersion"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateReportVersion_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateReport_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateReport" ON __mj."Report";
CREATE TRIGGER "trgUpdateReport"
    BEFORE UPDATE ON __mj."Report"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateReport_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateResourcePermission_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateResourcePermission" ON __mj."ResourcePermission";
CREATE TRIGGER "trgUpdateResourcePermission"
    BEFORE UPDATE ON __mj."ResourcePermission"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateResourcePermission_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateResourceLink_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateResourceLink" ON __mj."ResourceLink";
CREATE TRIGGER "trgUpdateResourceLink"
    BEFORE UPDATE ON __mj."ResourceLink"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateResourceLink_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateResourceType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateResourceType" ON __mj."ResourceType";
CREATE TRIGGER "trgUpdateResourceType"
    BEFORE UPDATE ON __mj."ResourceType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateResourceType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateScheduledAction_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateScheduledAction" ON __mj."ScheduledAction";
CREATE TRIGGER "trgUpdateScheduledAction"
    BEFORE UPDATE ON __mj."ScheduledAction"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateScheduledAction_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateScheduledActionParam_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateScheduledActionParam" ON __mj."ScheduledActionParam";
CREATE TRIGGER "trgUpdateScheduledActionParam"
    BEFORE UPDATE ON __mj."ScheduledActionParam"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateScheduledActionParam_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateScheduledJobRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateScheduledJobRun" ON __mj."ScheduledJobRun";
CREATE TRIGGER "trgUpdateScheduledJobRun"
    BEFORE UPDATE ON __mj."ScheduledJobRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateScheduledJobRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateScheduledJob_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateScheduledJob" ON __mj."ScheduledJob";
CREATE TRIGGER "trgUpdateScheduledJob"
    BEFORE UPDATE ON __mj."ScheduledJob"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateScheduledJob_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTaggedItem_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTaggedItem" ON __mj."TaggedItem";
CREATE TRIGGER "trgUpdateTaggedItem"
    BEFORE UPDATE ON __mj."TaggedItem"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTaggedItem_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateSkill_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateSkill" ON __mj."Skill";
CREATE TRIGGER "trgUpdateSkill"
    BEFORE UPDATE ON __mj."Skill"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateSkill_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTag_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTag" ON __mj."Tag";
CREATE TRIGGER "trgUpdateTag"
    BEFORE UPDATE ON __mj."Tag"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTag_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTaskDependency_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTaskDependency" ON __mj."TaskDependency";
CREATE TRIGGER "trgUpdateTaskDependency"
    BEFORE UPDATE ON __mj."TaskDependency"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTaskDependency_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTemplateCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTemplateCategory" ON __mj."TemplateCategory";
CREATE TRIGGER "trgUpdateTemplateCategory"
    BEFORE UPDATE ON __mj."TemplateCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTemplateCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTask_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTask" ON __mj."Task";
CREATE TRIGGER "trgUpdateTask"
    BEFORE UPDATE ON __mj."Task"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTask_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTemplateContent_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTemplateContent" ON __mj."TemplateContent";
CREATE TRIGGER "trgUpdateTemplateContent"
    BEFORE UPDATE ON __mj."TemplateContent"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTemplateContent_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTemplateParam_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTemplateParam" ON __mj."TemplateParam";
CREATE TRIGGER "trgUpdateTemplateParam"
    BEFORE UPDATE ON __mj."TemplateParam"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTemplateParam_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTestRubric_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTestRubric" ON __mj."TestRubric";
CREATE TRIGGER "trgUpdateTestRubric"
    BEFORE UPDATE ON __mj."TestRubric"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTestRubric_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTemplate_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTemplate" ON __mj."Template";
CREATE TRIGGER "trgUpdateTemplate"
    BEFORE UPDATE ON __mj."Template"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTemplate_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTestRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTestRun" ON __mj."TestRun";
CREATE TRIGGER "trgUpdateTestRun"
    BEFORE UPDATE ON __mj."TestRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTestRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTestRunFeedback_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTestRunFeedback" ON __mj."TestRunFeedback";
CREATE TRIGGER "trgUpdateTestRunFeedback"
    BEFORE UPDATE ON __mj."TestRunFeedback"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTestRunFeedback_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTestSuiteTest_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTestSuiteTest" ON __mj."TestSuiteTest";
CREATE TRIGGER "trgUpdateTestSuiteTest"
    BEFORE UPDATE ON __mj."TestSuiteTest"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTestSuiteTest_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTestSuiteRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTestSuiteRun" ON __mj."TestSuiteRun";
CREATE TRIGGER "trgUpdateTestSuiteRun"
    BEFORE UPDATE ON __mj."TestSuiteRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTestSuiteRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTest_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTest" ON __mj."Test";
CREATE TRIGGER "trgUpdateTest"
    BEFORE UPDATE ON __mj."Test"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTest_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateTestSuite_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateTestSuite" ON __mj."TestSuite";
CREATE TRIGGER "trgUpdateTestSuite"
    BEFORE UPDATE ON __mj."TestSuite"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateTestSuite_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateUserNotificationType_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateUserNotificationType" ON __mj."UserNotificationType";
CREATE TRIGGER "trgUpdateUserNotificationType"
    BEFORE UPDATE ON __mj."UserNotificationType"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateUserNotificationType_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateUserApplication_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateUserApplication" ON __mj."UserApplication";
CREATE TRIGGER "trgUpdateUserApplication"
    BEFORE UPDATE ON __mj."UserApplication"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateUserApplication_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateUserNotificationPreference_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateUserNotificationPreference" ON __mj."UserNotificationPreference";
CREATE TRIGGER "trgUpdateUserNotificationPreference"
    BEFORE UPDATE ON __mj."UserNotificationPreference"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateUserNotificationPreference_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateUserRole_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateUserRole" ON __mj."UserRole";
CREATE TRIGGER "trgUpdateUserRole"
    BEFORE UPDATE ON __mj."UserRole"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateUserRole_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateUserNotification_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateUserNotification" ON __mj."UserNotification";
CREATE TRIGGER "trgUpdateUserNotification"
    BEFORE UPDATE ON __mj."UserNotification"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateUserNotification_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateUserViewCategory_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateUserViewCategory" ON __mj."UserViewCategory";
CREATE TRIGGER "trgUpdateUserViewCategory"
    BEFORE UPDATE ON __mj."UserViewCategory"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateUserViewCategory_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateUserSetting_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateUserSetting" ON __mj."UserSetting";
CREATE TRIGGER "trgUpdateUserSetting"
    BEFORE UPDATE ON __mj."UserSetting"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateUserSetting_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateUserViewRun_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateUserViewRun" ON __mj."UserViewRun";
CREATE TRIGGER "trgUpdateUserViewRun"
    BEFORE UPDATE ON __mj."UserViewRun"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateUserViewRun_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateVectorIndex_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateVectorIndex" ON __mj."VectorIndex";
CREATE TRIGGER "trgUpdateVectorIndex"
    BEFORE UPDATE ON __mj."VectorIndex"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateVectorIndex_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateVersionLabelRestore_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateVersionLabelRestore" ON __mj."VersionLabelRestore";
CREATE TRIGGER "trgUpdateVersionLabelRestore"
    BEFORE UPDATE ON __mj."VersionLabelRestore"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateVersionLabelRestore_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateVersionLabelItem_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateVersionLabelItem" ON __mj."VersionLabelItem";
CREATE TRIGGER "trgUpdateVersionLabelItem"
    BEFORE UPDATE ON __mj."VersionLabelItem"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateVersionLabelItem_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateVersionLabel_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateVersionLabel" ON __mj."VersionLabel";
CREATE TRIGGER "trgUpdateVersionLabel"
    BEFORE UPDATE ON __mj."VersionLabel"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateVersionLabel_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateWorkspaceItem_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateWorkspaceItem" ON __mj."WorkspaceItem";
CREATE TRIGGER "trgUpdateWorkspaceItem"
    BEFORE UPDATE ON __mj."WorkspaceItem"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateWorkspaceItem_func"();

CREATE OR REPLACE FUNCTION __mj."trgUpdateWorkspace_func"()
RETURNS TRIGGER AS $$
BEGIN
    NEW."__mj_UpdatedAt" = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS "trgUpdateWorkspace" ON __mj."Workspace";
CREATE TRIGGER "trgUpdateWorkspace"
    BEFORE UPDATE ON __mj."Workspace"
    FOR EACH ROW
    EXECUTE FUNCTION __mj."trgUpdateWorkspace_func"();


-- ===================== Data (INSERT/UPDATE/DELETE) =====================

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = 'd0c00e35-b947-4b79-9017-a11955d5a17a'  OR
        ("EntityID" = 'A75F1DD8-2146-4D03-AA7F-50D048E44D11' AND "Name" = 'MCPServerTool')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        'd0c00e35-b947-4b79-9017-a11955d5a17a',
        'A75F1DD8-2146-4D03-AA7F-50D048E44D11', -- "Entity": "MJ": "MCP" "Server" "Connection" "Tools"
        100019,
        'MCPServerTool',
        'MCP Server Tool',
        NULL,
        'TEXT',
        510,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '03dec80a-70b8-41f0-97ab-793fb3689ff0'  OR
        ("EntityID" = '78AD0238-8B56-EF11-991A-6045BDEBA539' AND "Name" = 'PromptRun')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '03dec80a-70b8-41f0-97ab-793fb3689ff0',
        '78AD0238-8B56-EF11-991A-6045BDEBA539', -- "Entity": "MJ": "AI" "Result" "Cache"
        100041,
        'PromptRun',
        'Prompt Run',
        NULL,
        'TEXT',
        510,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '74e38ee9-cfdc-4f6b-8e6f-a69e8ef0e84d'  OR
        ("EntityID" = 'D7238F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'Employee')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '74e38ee9-cfdc-4f6b-8e6f-a69e8ef0e84d',
        'D7238F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Employee" "Company" "Integrations"
        100016,
        'Employee',
        'Employee',
        NULL,
        'TEXT',
        162,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = 'cc93a103-4cf6-4ce8-827c-529f0e04cdb9'  OR
        ("EntityID" = 'D8238F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'Employee')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        'cc93a103-4cf6-4ce8-827c-529f0e04cdb9',
        'D8238F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Employee" "Roles"
        100012,
        'Employee',
        'Employee',
        NULL,
        'TEXT',
        162,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '565d00f6-76fe-4c3e-a7fb-ade3b08c283e'  OR
        ("EntityID" = 'D9238F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'Employee')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '565d00f6-76fe-4c3e-a7fb-ade3b08c283e',
        'D9238F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Employee" "Skills"
        100012,
        'Employee',
        'Employee',
        NULL,
        'TEXT',
        162,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '7d852342-df35-4767-be1c-9db73b6c5aa5'  OR
        ("EntityID" = 'E7238F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'CompanyIntegrationRun')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '7d852342-df35-4767-be1c-9db73b6c5aa5',
        'E7238F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Error" "Logs"
        100023,
        'CompanyIntegrationRun',
        'Company Integration Run',
        NULL,
        'TEXT',
        200,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = 'a9026897-d7d9-4c7e-b86d-54cfa8956404'  OR
        ("EntityID" = 'E7238F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'CompanyIntegrationRunDetail')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        'a9026897-d7d9-4c7e-b86d-54cfa8956404',
        'E7238F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Error" "Logs"
        100024,
        'CompanyIntegrationRunDetail',
        'Company Integration Run Detail',
        NULL,
        'TEXT',
        900,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = 'ddf2790f-bb2a-4895-9cfb-82d50116830f'  OR
        ("EntityID" = 'F5238F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'ReplayRun')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        'ddf2790f-bb2a-4895-9cfb-82d50116830f',
        'F5238F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Record" "Changes"
        100040,
        'ReplayRun',
        'Replay Run',
        NULL,
        'TEXT',
        200,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '75172c49-2a2f-40ef-ad38-a14d34469088'  OR
        ("EntityID" = '09248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'ConversationDetail')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '75172c49-2a2f-40ef-ad38-a14d34469088',
        '09248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Reports"
        100053,
        'ConversationDetail',
        'Conversation Detail',
        NULL,
        'TEXT',
        -1,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '281a4c5e-0be9-48ec-9afe-2cab36118447'  OR
        ("EntityID" = '13248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'TestRun')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '281a4c5e-0be9-48ec-9afe-2cab36118447',
        '13248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Conversations"
        100045,
        'TestRun',
        'Test Run',
        NULL,
        'TEXT',
        510,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '6536ea2e-acfc-4880-9a29-c65383cbdbb0'  OR
        ("EntityID" = '18248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'RecordMergeLog')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '6536ea2e-acfc-4880-9a29-c65383cbdbb0',
        '18248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Record" "Merge" "Deletion" "Logs"
        100015,
        'RecordMergeLog',
        'Record Merge Log',
        NULL,
        'TEXT',
        900,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '87c64c19-39f4-46bc-b95c-265113b019de'  OR
        ("EntityID" = '31248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'DuplicateRun')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '87c64c19-39f4-46bc-b95c-265113b019de',
        '31248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Duplicate" "Run" "Details"
        100021,
        'DuplicateRun',
        'Duplicate Run',
        NULL,
        'TEXT',
        510,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '8badda90-4d3c-4d2a-8e7e-52cf83abbe0d'  OR
        ("EntityID" = '35248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'EntityAction')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '8badda90-4d3c-4d2a-8e7e-52cf83abbe0d',
        '35248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Entity" "Action" "Invocations"
        100014,
        'EntityAction',
        'Entity Action',
        NULL,
        'TEXT',
        850,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '83bf11ef-5db4-4101-ab06-c177123547e6'  OR
        ("EntityID" = '39248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'EntityAction')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '83bf11ef-5db4-4101-ab06-c177123547e6',
        '39248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Entity" "Action" "Filters"
        100015,
        'EntityAction',
        'Entity Action',
        NULL,
        'TEXT',
        850,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = 'b3786698-56a7-4c58-beb4-7127d992ce08'  OR
        ("EntityID" = '39248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'ActionFilter')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        'b3786698-56a7-4c58-beb4-7127d992ce08',
        '39248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Entity" "Action" "Filters"
        100016,
        'ActionFilter',
        'Action Filter',
        NULL,
        'TEXT',
        -1,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = 'b8111497-cc57-47ee-9d5e-6e89aa98155d'  OR
        ("EntityID" = '4B248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'TemplateContent')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        'b8111497-cc57-47ee-9d5e-6e89aa98155d',
        '4B248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Template" "Params"
        100037,
        'TemplateContent',
        'Template Content',
        NULL,
        'TEXT',
        510,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '69d574ab-11ee-4401-9c5a-161d8568a065'  OR
        ("EntityID" = '4D248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'RecommendationRun')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '69d574ab-11ee-4401-9c5a-161d8568a065',
        '4D248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Recommendations"
        100014,
        'RecommendationRun',
        'Recommendation Run',
        NULL,
        'TEXT',
        510,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '2a394e7b-9f06-4a95-9650-790faf01e1f8'  OR
        ("EntityID" = '50248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'Recommendation')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '2a394e7b-9f06-4a95-9650-790faf01e1f8',
        '50248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Recommendation" "Items"
        100016,
        'Recommendation',
        'Recommendation',
        NULL,
        'TEXT',
        -1,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '6b8cb4d2-e847-4f20-9d22-3577fe43b627'  OR
        ("EntityID" = '52248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'EntityCommunicationMessageType')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '6b8cb4d2-e847-4f20-9d22-3577fe43b627',
        '52248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Entity" "Communication" "Fields"
        100013,
        'EntityCommunicationMessageType',
        'Entity Communication Message Type',
        NULL,
        'TEXT',
        200,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '72a144d3-bea8-4b20-8a90-03326eeb17d3'  OR
        ("EntityID" = '56248F34-2837-EF11-86D4-6045BDEE16E6' AND "Name" = 'EntityAction')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '72a144d3-bea8-4b20-8a90-03326eeb17d3',
        '56248F34-2837-EF11-86D4-6045BDEE16E6', -- "Entity": "MJ": "Entity" "Action" "Params"
        100018,
        'EntityAction',
        'Entity Action',
        NULL,
        'TEXT',
        850,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '6c6a6186-10f2-41b4-85d5-e1f44adac380'  OR
        ("EntityID" = 'DE8EE300-B423-4B86-9E92-B06CAF7F0C3E' AND "Name" = 'ConversationDetail')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '6c6a6186-10f2-41b4-85d5-e1f44adac380',
        'DE8EE300-B423-4B86-9E92-B06CAF7F0C3E', -- "Entity": "MJ": "Conversation" "Detail" "Ratings"
        100016,
        'ConversationDetail',
        'Conversation Detail',
        NULL,
        'TEXT',
        -1,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '833be1b2-c366-49fb-9ac6-a0b3c2808767'  OR
        ("EntityID" = '99273DAD-560E-4ABC-8332-C97AB58B7463' AND "Name" = 'AgentRun')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '833be1b2-c366-49fb-9ac6-a0b3c2808767',
        '99273DAD-560E-4ABC-8332-C97AB58B7463', -- "Entity": "MJ": "AI" "Agent" "Run" "Steps"
        100046,
        'AgentRun',
        'Agent Run',
        NULL,
        'TEXT',
        510,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = 'f0c52762-6678-43b5-88e8-a89ad84cb390'  OR
        ("EntityID" = '99273DAD-560E-4ABC-8332-C97AB58B7463' AND "Name" = 'Parent')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        'f0c52762-6678-43b5-88e8-a89ad84cb390',
        '99273DAD-560E-4ABC-8332-C97AB58B7463', -- "Entity": "MJ": "AI" "Agent" "Run" "Steps"
        100047,
        'Parent',
        'Parent',
        NULL,
        'TEXT',
        510,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = 'd790ec95-41ed-4e9c-b299-f4f67f8b5cb4'  OR
        ("EntityID" = '16AB21D1-8047-41B9-8AEA-CD253DED9743' AND "Name" = 'ConversationDetail')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        'd790ec95-41ed-4e9c-b299-f4f67f8b5cb4',
        '16AB21D1-8047-41B9-8AEA-CD253DED9743', -- "Entity": "MJ": "Conversation" "Detail" "Artifacts"
        100014,
        'ConversationDetail',
        'Conversation Detail',
        NULL,
        'TEXT',
        -1,
        0,
        0,
        0,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '2e0a3e85-a949-41a8-9b8b-5303ef016d72'  OR
        ("EntityID" = '64AD3C8D-0570-48AF-AF4C-D0A2B173FDE1' AND "Name" = 'ConversationDetail')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '2e0a3e85-a949-41a8-9b8b-5303ef016d72',
        '64AD3C8D-0570-48AF-AF4C-D0A2B173FDE1', -- "Entity": "MJ": "Tasks"
        100046,
        'ConversationDetail',
        'Conversation Detail',
        NULL,
        'TEXT',
        -1,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

DO $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM "__mj"."EntityField"
        WHERE "ID" = '5956a4a2-13ca-4804-8e43-71e684dc02c6'  OR
        ("EntityID" = 'BA51038B-121F-48DC-8B9B-D75E61FD91CA' AND "Name" = 'MCPServerTool')
        -- check to make sure we're not inserting a duplicate entity field metadata record
    ) THEN
        INSERT INTO "__mj"."EntityField"
        (
        "ID",
        "EntityID",
        "Sequence",
        "Name",
        "DisplayName",
        "Description",
        "Type",
        "Length",
        "Precision",
        "Scale",
        "AllowsNull",
        "DefaultValue",
        "AutoIncrement",
        "AllowUpdateAPI",
        "IsVirtual",
        "RelatedEntityID",
        "RelatedEntityFieldName",
        "IsNameField",
        "IncludeInUserSearchAPI",
        "IncludeRelatedEntityNameFieldInBaseView",
        "DefaultInView",
        "IsPrimaryKey",
        "IsUnique",
        "RelatedEntityDisplayType"
        )
        VALUES
        (
        '5956a4a2-13ca-4804-8e43-71e684dc02c6',
        'BA51038B-121F-48DC-8B9B-D75E61FD91CA', -- "Entity": "MJ": "MCP" "Tool" "Execution" "Logs"
        100034,
        'MCPServerTool',
        'MCP Server Tool',
        NULL,
        'TEXT',
        510,
        0,
        0,
        1,
        'null',
        0,
        0,
        1,
        NULL,
        NULL,
        0,
        0,
        0,
        0,
        0,
        0,
        'Search'
        );
    END IF;
END $$;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '6C6A6186-10F2-41B4-85D5-E1F44ADAC380'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '84845FA8-AF88-48F0-B343-2F27EA892DDC'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '6C6A6186-10F2-41B4-85D5-E1F44ADAC380'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = 'FF73433E-F36B-1410-883E-00D02208DC50'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = 'D790EC95-41ED-4E9C-B299-F4F67F8B5CB4'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = 'D790EC95-41ED-4E9C-B299-F4F67F8B5CB4'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set categories for 9 fields */

-- UPDATE Entity Field Category Info MJ: Conversation Detail Ratings."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '2C6C87F9-2BD3-4FAC-BDF6-083AF4B27DC1' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Ratings."ConversationDetailID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '28CB2BA0-F1BB-4F94-92C0-C70864CC2572' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Ratings."UserID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '560E53BF-3F6E-42A2-B3C6-FF2DBAD2EF1C' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Ratings."Rating";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '8D564214-0633-4D21-93D9-18FF2CE1CDFE' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Ratings."Comments";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '84845FA8-AF88-48F0-B343-2F27EA892DDC' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Ratings."User";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '95427194-037B-40BB-8A70-23D84323BC4B' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Ratings."ConversationDetail";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Rating Information',
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6C6A6186-10F2-41B4-85D5-E1F44ADAC380' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Ratings.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '49C7ADAE-9D03-4347-B477-6DE824021056' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Ratings.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '140CF09F-62A3-4A17-A6B5-A6D75D6EEF8D' AND "AutoUpdateCategory" = 1

/* Set categories for 23 fields */

-- UPDATE Entity Field Category Info MJ: Conversations."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '0F4E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."Name";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '144E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."Description";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7F4E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."Type";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '804E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."Status";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '575753A4-C12E-4E48-A835-6FE3FACE5527' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."IsArchived";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '144417F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."IsPinned";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7CAD1EDB-FDFC-4C19-8E8C-CCBCE0C60558' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."UserID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '104E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."User";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6E4317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."ExternalID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '114E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."LinkedEntityID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '814E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."LinkedEntity";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Linked Entity Type',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '834E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."LinkedRecordID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '824E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."DataContextID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EB4E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."DataContext";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '1AE26D76-2246-4FD4-8BCB-04C1953E2612' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."EnvironmentID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'A8EE672F-D2DF-4C0F-81FC-1392FCAD9813' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."Environment";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '49A2D31E-331D-42C6-BA30-C96EB5A1310F' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."ProjectID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EB07B3D0-FF8B-43AD-A612-01340C796652' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."Project";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'FE95FC8E-8A64-48D1-AA72-2F141C9199A2' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."TestRunID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3E687A08-D39E-4488-9AF9-C71394F7217A' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations."TestRun";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Test Run Details',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Test Run Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '281A4C5E-0BE9-48EC-9AFE-2CAB36118447' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6B5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversations.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6C5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 21 fields */

-- UPDATE Entity Field Category Info MJ: AI Result Cache."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'FA73433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '0774433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '0D74433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."AIPromptID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'FB73433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."AIPrompt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9774433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."PromptText";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'FE73433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."ConfigurationID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '4D991B48-52BD-4609-B8C1-71529BF8E9E8' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."Configuration";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '48C4211A-CF59-45BE-B2F1-EF59FD5D2050' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."PromptEmbedding";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'C20C752B-8050-44A3-BC08-C1E85E1A9231' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."AIModelID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'FC73433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."AIModel";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9B74433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."RunAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'FD73433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."PromptRunID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '1BF0DAAD-4F43-4486-AF6A-787A9DD73684' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."PromptRun";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Execution Details',
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '03DEC80A-70B8-41F0-97AB-793FB3689FF0' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."ResultText";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'FF73433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."Status";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '0074433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."ExpiredOn";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '0174433E-F36B-1410-883E-00D02208DC50' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."VendorID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F332D3A9-5402-4E82-90E4-DDB3F4315F19' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."Vendor";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '750A856A-8E2A-4161-AE35-0A311266D2EA' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."AgentID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '257026B1-1FD2-4B71-B94D-F97E7FEE6023' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Result Cache."Agent";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '0B216DCA-0EB9-42E3-942F-8C74960C2CD5' AND "AutoUpdateCategory" = 1

/* Set categories for 25 fields */

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '73A164F4-CD17-4818-944F-C32FF6AECC6F' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."AgentRunID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6EC40C86-3805-46B5-B13C-8BF4C440B8C9' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."AgentRun";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Step Identification & Hierarchy',
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '833BE1B2-C366-49FB-9AC6-A0B3C2808767' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."StepNumber";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6D420001-1FB8-430E-9E2C-027A6BF7D757' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."StepType";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B04A327B-55BF-4914-9DCF-3552A5DD0293' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."StepName";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '711A7415-47F6-437C-A519-D0C22DC8B0AD' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."TargetID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'A60234B6-768E-4A9A-B320-19945BE32C96' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."TargetLogID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '221FA3C6-184F-49ED-B679-13ABE9A55FEF' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."ParentID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EFDF061E-458A-4510-B5B3-A1508BE9C156' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."Parent";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Step Identification & Hierarchy',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Parent Step',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F0C52762-6678-43B5-88E8-A89AD84CB390' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."RootParentID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5CB223A8-487A-4C9F-895D-490CDA610571' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."Status";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '4B0A5884-5F7C-4668-8DE8-3CBD8790DA28' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."StartedAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DD862060-4FD4-4D09-AB19-8E03AAEFC4E1' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."CompletedAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '79CABC92-666A-4403-8802-F6B57F9E00DE' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."Success";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '8E36A2B5-3F14-4BDA-942E-C0F771D323D5' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."ErrorMessage";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '84D28564-733D-4CC6-BBA3-0DB947BD2040' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."FinalPayloadValidationResult";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '885CA658-9A97-4A8D-8726-286F954BF65A' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."FinalPayloadValidationMessages";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'ADA3E427-9792-4587-96F6-7ECE2CF854FC' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."InputData";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = 'C3DCA069-31F0-41CE-9E73-471BD9F6DA4C' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."OutputData";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = '4BE3997A-2974-482B-B5BA-5017439E6CDA' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."PayloadAtStart";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = '93A2C3A5-2773-4DEA-847C-0D1AAD1929AA' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."PayloadAtEnd";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = 'DD7A82BD-C269-434B-9BB4-BBAC6064AF98' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '576FE9EC-53A5-47F3-B194-6F32981B92D8' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '57DAC94A-8AD5-46A3-979B-E8A3E0A8AD38' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: AI Agent Run Steps."Comments";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6B3AB4D4-9150-499E-B9FF-5AF9454849CB' AND "AutoUpdateCategory" = 1

/* Set categories for 8 fields */

-- UPDATE Entity Field Category Info MJ: Conversation Detail Artifacts."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6286C405-7ABB-481E-BD23-F517DE7E8BD3' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Artifacts."ConversationDetailID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B46BAD20-46B2-445E-B703-CA74BD6F9C5D' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Artifacts."ArtifactVersionID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'C45DA881-7CD4-424E-8855-C259F531E018' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Artifacts."Direction";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '2C6E811B-94B8-45F6-93C3-004CAFB054F8' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Artifacts."ConversationDetail";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Artifact Details',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Conversation Detail Summary',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'D790EC95-41ED-4E9C-B299-F4F67F8B5CB4' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Artifacts."ArtifactVersion";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'CB7692F5-554C-48A6-B88B-207DD35A3072' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Artifacts.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DDB7A2FA-6D08-4DC3-B69A-6851901A4F79' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Conversation Detail Artifacts.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '34B67D3A-FED8-49E7-ABCA-3F34FDC88DC3' AND "AutoUpdateCategory" = 1

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
            SET "IsNameField" = 1
            WHERE "ID" = 'CC93A103-4CF6-4CE8-827C-529F0E04CDB9'
            AND "AutoUpdateIsNameField" = 1;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = 'CC93A103-4CF6-4CE8-827C-529F0E04CDB9'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = 'CC93A103-4CF6-4CE8-827C-529F0E04CDB9'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
            SET "IsNameField" = 1
            WHERE "ID" = '74E38EE9-CFDC-4F6B-8E6F-A69E8EF0E84D'
            AND "AutoUpdateIsNameField" = 1;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '74E38EE9-CFDC-4F6B-8E6F-A69E8EF0E84D'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '74E38EE9-CFDC-4F6B-8E6F-A69E8EF0E84D'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '87C64C19-39F4-46BC-B95C-265113B019DE'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '87C64C19-39F4-46BC-B95C-265113B019DE'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '565D00F6-76FE-4C3E-A7FB-ADE3B08C283E'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '565D00F6-76FE-4C3E-A7FB-ADE3B08C283E'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set categories for 11 fields */

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '354417F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details."DuplicateRunID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '364417F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details."DuplicateRun";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Run Identification',
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '87C64C19-39F4-46BC-B95C-265113B019DE' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details."RecordID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '374417F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details."MatchStatus";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '384417F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details."SkippedReason";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '394417F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details."MatchErrorMessage";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3A4417F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details."MergeStatus";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3B4417F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details."MergeErrorMessage";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3C4417F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '835817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Duplicate Run Details.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '845817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 9 fields */

-- UPDATE Entity Field Category Info MJ: Employee Company Integrations."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '394D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Company Integrations."EmployeeID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3A4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Company Integrations."Employee";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Integration Mapping',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Employee Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '74E38EE9-CFDC-4F6B-8E6F-A69E8EF0E84D' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Company Integrations."CompanyIntegrationID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3B4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Company Integrations."CompanyIntegration";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '50A4214B-56C2-4B72-8544-1D86CBBB329F' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Company Integrations."ExternalSystemRecordID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'External ID',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3C4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Company Integrations."IsActive";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Active',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'C94D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Company Integrations.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'A05817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Company Integrations.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'A15817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 7 fields */

-- UPDATE Entity Field Category Info MJ: Employee Roles."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '394E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Roles."EmployeeID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3D4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Roles."RoleID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3E4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Roles."Employee";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Role Assignment',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Employee Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'CC93A103-4CF6-4CE8-827C-529F0E04CDB9' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Roles."Role";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5E4317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Roles.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '014D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Roles.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '024D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 7 fields */

-- UPDATE Entity Field Category Info MJ: Employee Skills."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3A4E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Skills."EmployeeID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3F4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Skills."Employee";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Skill Assignment',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Employee Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '565D00F6-76FE-4C3E-A7FB-ADE3B08C283E' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Skills."SkillID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Skill ID',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '404D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Skills."Skill";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Skill',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5F4317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Skills.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '034D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Employee Skills.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '044D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '7D852342-DF35-4767-BE1C-9DB73B6C5AA5'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = 'A9026897-D7D9-4C7E-B86D-54CFA8956404'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '6B8CB4D2-E847-4F20-9D22-3577FE43B627'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '6B8CB4D2-E847-4F20-9D22-3577FE43B627'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
            SET "IsNameField" = 1
            WHERE "ID" = 'B3786698-56A7-4C58-BEB4-7127D992CE08'
            AND "AutoUpdateIsNameField" = 1;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '83BF11EF-5DB4-4101-AB06-C177123547E6'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = 'B3786698-56A7-4C58-BEB4-7127D992CE08'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '83BF11EF-5DB4-4101-AB06-C177123547E6'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = 'B3786698-56A7-4C58-BEB4-7127D992CE08'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
            SET "IsNameField" = 1
            WHERE "ID" = '8BADDA90-4D3C-4D2A-8E7E-52CF83ABBE0D'
            AND "AutoUpdateIsNameField" = 1;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '8BADDA90-4D3C-4D2A-8E7E-52CF83ABBE0D'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '8BADDA90-4D3C-4D2A-8E7E-52CF83ABBE0D'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '72A144D3-BEA8-4B20-8A90-03326EEB17D3'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '995817F0-6F36-EF11-86D4-6045BDEE16E6'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '72A144D3-BEA8-4B20-8A90-03326EEB17D3'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set categories for 13 fields */

-- UPDATE Entity Field Category Info MJ: Error Logs."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '435817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs."CompanyIntegrationRunID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '445817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs."CompanyIntegrationRunDetailID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '455817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs."CompanyIntegrationRun";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Technical Information',
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7D852342-DF35-4767-BE1C-9DB73B6C5AA5' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs."CompanyIntegrationRunDetail";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Technical Information',
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'A9026897-D7D9-4C7E-B86D-54CFA8956404' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs."Code";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '465817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs."Status";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7B4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs."Category";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7C4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs."Message";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '475817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs."CreatedBy";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7A4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs."Details";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = '7D4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '4D5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Error Logs.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '4E5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 7 fields */

-- UPDATE Entity Field Category Info MJ: Entity Communication Fields."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'AD5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Communication Fields."EntityCommunicationMessageTypeID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Message Type',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'AE5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Communication Fields."FieldName";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'AF5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Communication Fields."Priority";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B05717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Communication Fields."EntityCommunicationMessageType";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Mapping Configuration',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Message Type Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6B8CB4D2-E847-4F20-9D22-3577FE43B627' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Communication Fields.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'E15717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Communication Fields.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'E25717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 8 fields */

-- UPDATE Entity Field Category Info MJ: Entity Action Invocations."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7B4C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Invocations."EntityActionID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7C4C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Invocations."InvocationTypeID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7D4C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Invocations."Status";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7E4C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Invocations.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '1C4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Invocations.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '1D4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Invocations."EntityAction";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Invocation Configuration',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Entity Action Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '8BADDA90-4D3C-4D2A-8E7E-52CF83ABBE0D' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Invocations."InvocationType";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6A5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 9 fields */

-- UPDATE Entity Field Category Info MJ: Entity Action Filters."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5A5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Filters."EntityActionID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Entity Action',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5B5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Filters."ActionFilterID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Action Filter',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5C5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Filters."EntityAction";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Identifier Keys',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Entity Action Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '83BF11EF-5DB4-4101-AB06-C177123547E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Filters."ActionFilter";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Identifier Keys',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Action Filter Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B3786698-56A7-4C58-BEB4-7127D992CE08' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Filters."Sequence";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5D5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Filters."Status";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5E5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Filters.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DD5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Filters.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DE5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 10 fields */

-- UPDATE Entity Field Category Info MJ: Entity Action Params."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F95717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Params."EntityActionID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9F5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Params."ActionParamID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Action Parameter ID',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '985817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Params."EntityAction";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Identifier & Relationships',
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '72A144D3-BEA8-4B20-8A90-03326EEB17D3' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Params."ActionParam";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Action Parameter',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9E5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Params."ValueType";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '995817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Params."Value";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'JavaScript'
WHERE 
   "ID" = '9A5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Params."Comments";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9B5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Params.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9C5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Entity Action Params.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9D5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
            SET "IsNameField" = 1
            WHERE "ID" = 'D0C00E35-B947-4B79-9017-A11955D5A17A'
            AND "AutoUpdateIsNameField" = 1;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = 'D0C00E35-B947-4B79-9017-A11955D5A17A'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = 'D0C00E35-B947-4B79-9017-A11955D5A17A'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
            SET "IsNameField" = 1
            WHERE "ID" = '2A394E7B-9F06-4A95-9650-790FAF01E1F8'
            AND "AutoUpdateIsNameField" = 1;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '2A394E7B-9F06-4A95-9650-790FAF01E1F8'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '2A394E7B-9F06-4A95-9650-790FAF01E1F8'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '69D574AB-11EE-4401-9C5A-161D8568A065'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '69D574AB-11EE-4401-9C5A-161D8568A065'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set categories for 9 fields */

-- UPDATE Entity Field Category Info MJ: Recommendation Items."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'A85717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendation Items."RecommendationID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'A95717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendation Items."DestinationEntityID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Destination Entity ID',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'AA5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendation Items."DestinationEntityRecordID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'AB5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendation Items."MatchProbability";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'AC5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendation Items."Recommendation";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Recommendation Data',
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '2A394E7B-9F06-4A95-9650-790FAF01E1F8' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendation Items."DestinationEntity";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Destination Entity',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '135917F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendation Items.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '035917F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendation Items.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '045917F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 8 fields */

-- UPDATE Entity Field Category Info MJ: Recommendations."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DB4C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendations."RecommendationRunID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DC4C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendations."RecommendationRun";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Recommendation Core',
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '69D574AB-11EE-4401-9C5A-161D8568A065' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendations."SourceEntityID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DD4C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendations."SourceEntity";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'E34C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendations."SourceEntityRecordID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DE4C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendations.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'FD5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Recommendations.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'FE5817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 10 fields */

-- UPDATE Entity Field Category Info MJ: MCP Server Connection Tools."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5B0E0446-427C-4BF0-8562-5152265CFE1A' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Server Connection Tools."MCPServerConnectionID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B5EE3D38-8573-4170-BEE5-A3EF5D51DD4C' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Server Connection Tools."MCPServerToolID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '019FFEE0-0763-48E0-9862-D429A4CDAB3C' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Server Connection Tools."MCPServerConnection";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DFA67CE0-B4DC-4327-B7C3-5E4CE5A88817' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Server Connection Tools."MCPServerTool";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Connection Mapping',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Tool Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'D0C00E35-B947-4B79-9017-A11955D5A17A' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Server Connection Tools."IsEnabled";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'D2431785-0203-430C-A267-6A0EEB22A4C5' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Server Connection Tools."DefaultInputValues";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = 'B114689E-036B-428F-B179-0B68371CF237' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Server Connection Tools."MaxCallsPerMinute";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'D5D4F701-DD24-41F4-B62C-C5EFD4676B92' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Server Connection Tools.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3DC2DCEC-6F1E-421A-BE51-578F7D2F091E' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Server Connection Tools.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '95E2B969-4F03-4EFE-B519-D6DAC1272C3D' AND "AutoUpdateCategory" = 1

/* Set categories for 21 fields */

-- UPDATE Entity Field Category Info MJ: Record Changes."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DB4217F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."CreatedAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F14C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."UpdatedAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F24C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."EntityID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Entity ID',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DC4217F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."RecordID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DD4217F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."UserID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'User ID',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '0A4317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."ReplayRunID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Replay Run ID',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F34C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."IntegrationID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Integration ID',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EF4C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."Comments";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B64D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."Entity";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Entity',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '145917F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."User";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'User',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EF5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."ReplayRun";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Record Context',
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DDF2790F-BB2A-4895-9CFB-82D50116830F' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."Integration";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Integration',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'E7A8FEEC-7840-EF11-86C3-00224821D189' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."Type";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B75717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."Source";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B85717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."ChangedAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DA4217F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."Status";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B24D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."ErrorLog";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F04C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."ChangesJSON";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Changes JSON',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = 'B34D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."ChangesDescription";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Changes Description',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B44D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Changes."FullRecordJSON";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = 'B54D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 18 fields */

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3B26460B-B434-41E8-98D6-6E8973A1998F' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."MCPServerConnectionID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F402BB2F-2BDB-458A-BA98-58C95C41FE03' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."MCPServerToolID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9BEF8A97-4002-4707-A73C-2A679ACE8F96' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."MCPServerConnection";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6053FB8C-5F7A-4579-B8D1-5C046FB17627' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."MCPServerTool";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Connection Context',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Tool',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5956A4A2-13CA-4804-8E43-71E684DC02C6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."ToolName";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '3C7797AA-F939-4BC2-BBBC-0F69FA7B585E' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."StartedAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'E7F6FE9B-D064-4C71-AA91-66D1E81FCD52' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."EndedAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '1B8A92DB-CFF9-400D-B88F-41131C0480C6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."DurationMs";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '32ED9C3D-9F06-49EA-8165-4C78C41128F0' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."Success";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'A765705A-2032-49A5-8FE5-4E5B7254240B' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."UserID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '68CB9A34-65C2-4546-ABAE-1A616D5F93A6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."User";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5EBB437A-0705-4143-81DA-CC23587916FC' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."ErrorMessage";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'CEF515F8-77D6-4981-9F31-378ED7BAF0A2' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."InputParameters";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = 'C584FB9F-D0A0-48D8-9E0E-DAB449769F44' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."OutputContent";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = 'F92F2ED5-628E-4222-B66C-F5B4139F3309' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs."OutputTruncated";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B0BE70A8-D2E8-46A6-B746-57528E095F81' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '78A09C32-7FE6-408A-862A-71BD7E0042F7' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: MCP Tool Execution Logs.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '73C2B5A4-9F4F-4195-9794-BCE839DB8B70' AND "AutoUpdateCategory" = 1

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '2A4317F0-6F36-EF11-86D4-6045BDEE16E6'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set field properties for entity */;

UPDATE "__mj"."EntityField"
               SET "DefaultInView" = 1
               WHERE "ID" = '6536EA2E-ACFC-4880-9A29-C65383CBDBB0'
               AND "AutoUpdateDefaultInView" = 1;

UPDATE "__mj"."EntityField"
                  SET "IncludeInUserSearchAPI" = 1
                  WHERE "ID" = '6536EA2E-ACFC-4880-9A29-C65383CBDBB0'
                  AND "AutoUpdateIncludeInUserSearchAPI" = 1
               

/* Set categories for 19 fields */

-- UPDATE Entity Field Category Info MJ: Template Params."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '985717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."TemplateID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '995717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."EntityID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9E5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."RecordID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9F5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."TemplateContentID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '58826477-0141-4692-A271-24918F5B9224' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."Template";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'D74C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."Entity";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'D84C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."TemplateContent";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Template Association',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Template Content Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B8111497-CC57-47EE-9D5E-6E89AA98155D' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."Name";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9A5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."Description";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9B5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."Type";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9C5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."DefaultValue";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9D5717F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."IsRequired";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'DA4C17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."LinkedParameterName";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Linked Parameter Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '0E5917F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."LinkedParameterField";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Linked Parameter Field',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '0F5917F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."ExtraFilter";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'SQL'
WHERE 
   "ID" = '105917F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params."OrderBy";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'SQL'
WHERE 
   "ID" = '7321B323-7F8B-4DCD-AE44-01FCE8AAB7EF' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '945817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Template Params.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '955817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 30 fields */

-- UPDATE Entity Field Category Info MJ: Reports."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '284317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."Name";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '294317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."Description";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '2A4317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."CategoryID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F84E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."Category";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Category Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'E9A8FEEC-7840-EF11-86C3-00224821D189' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."SharingScope";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F34D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."Thumbnail";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'URL',
   "CodeType" = NULL
WHERE 
   "ID" = '291EF341-1318-4B86-A9A7-1180CE820609' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."EnvironmentID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '257FFE0E-EC6F-441B-8039-3A17B44FF4FB' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."Environment";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Environment Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '54D5F848-BE9C-4B4A-8DF0-B53E2EA196E5' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."UserID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F44D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."User";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'User Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EAA8FEEC-7840-EF11-86C3-00224821D189' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."ConversationID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EF4D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."Conversation";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Conversation Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EBA8FEEC-7840-EF11-86C3-00224821D189' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."ConversationDetailID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '524F17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."ConversationDetail";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Data Context & Relationships',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Conversation Detail Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '75172C49-2A2F-40EF-AD38-A14D34469088' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."DataContextID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F94E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."DataContext";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Data Context Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'ECA8FEEC-7840-EF11-86C3-00224821D189' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."OutputWorkflowID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F84D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."OutputWorkflow";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Output Workflow Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F0A8FEEC-7840-EF11-86C3-00224821D189' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."Configuration";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Code',
   "CodeType" = 'Other'
WHERE 
   "ID" = 'FA4E17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."OutputTriggerTypeID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F04D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."OutputTriggerType";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Output Trigger Type Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EDA8FEEC-7840-EF11-86C3-00224821D189' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."OutputFormatTypeID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F14D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."OutputFormatType";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Output Format Type Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EEA8FEEC-7840-EF11-86C3-00224821D189' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."OutputDeliveryTypeID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F24D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."OutputDeliveryType";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Output Delivery Type Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'EFA8FEEC-7840-EF11-86C3-00224821D189' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."OutputFrequency";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F64D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports."OutputTargetEmail";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = 'Email',
   "CodeType" = NULL
WHERE 
   "ID" = 'F74D17F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B55817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Reports.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B65817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 8 fields */

-- UPDATE Entity Field Category Info MJ: Record Merge Deletion Logs."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '594317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Merge Deletion Logs."RecordMergeLogID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5A4317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Merge Deletion Logs."DeletedRecordID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5B4317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Merge Deletion Logs."Status";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5C4317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Merge Deletion Logs."ProcessingLog";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '5D4317F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Merge Deletion Logs."RecordMergeLog";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Deletion Audit',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Merge Log Summary',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '6536EA2E-ACFC-4880-9A29-C65383CBDBB0' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Merge Deletion Logs.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '755817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Record Merge Deletion Logs.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '765817F0-6F36-EF11-86D4-6045BDEE16E6' AND "AutoUpdateCategory" = 1

/* Set categories for 25 fields */

-- UPDATE Entity Field Category Info MJ: Tasks."ID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'FD227316-95F3-468B-8DB8-AEA5E3A4C431' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks.__mj_CreatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '7B6A3F29-48A9-41B8-8374-214F12A5659C' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks.__mj_UpdatedAt;

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '0B5358D5-C6C2-4579-879E-D2BA19D95541' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."ParentID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Parent',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'C866D300-E97C-44E7-8848-F3DA97CE3F77' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."TypeID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Type',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F8719181-09B2-4C98-86F1-9A7828F46D2B' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."EnvironmentID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Environment',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '1B80F5CC-B3AD-4C4E-9F64-4C061AC14EC2' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."ProjectID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Project',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'E94662C2-69B9-4603-9BFC-279CFD42A222' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."ConversationDetailID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Conversation Detail',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'CCE153EB-99AC-42DD-9BF7-628C0E121C62' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."UserID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'User',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9F585440-DA55-4A2A-A48B-2937A3B24483' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."AgentID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Agent',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'A1E1C7BA-66FA-4BDC-A21A-A27AB8C577C4' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."Parent";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Parent Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '2344E41B-6F21-419A-B80F-43636478A814' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."User";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'User Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '1EFAD61D-3A38-4CEA-86FE-67463E887920' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."Agent";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Agent Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'E7951B0E-3F0A-45DA-BFC3-A4ABB3AC5E0C' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."RootParentID";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '18585DF4-33D0-4CFC-95E4-6674186DCD9C' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."ConversationDetail";

UPDATE "__mj"."EntityField"
SET 
   "Category" = 'Relationships & Ownership',
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Conversation Detail Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '2E0A3E85-A949-41A8-9B8B-5303EF016D72' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."Name";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '55602C1C-FB4A-4678-A847-7889860791D5' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."Description";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '24940E6C-FC69-40F1-9EA6-D860F38FC93F' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."Status";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9320E9C7-764E-401B-BF2D-A07358E4DD00' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."PercentComplete";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '8071305E-E1C1-48BF-AE70-E345D6B892EE' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."Type";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Type Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'E1E5F477-3ABE-4793-BC11-A719CB078463' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."Environment";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Environment Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '9A8AEAF5-9065-4B87-8A63-B04F84E83886' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."Project";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "DisplayName" = 'Project Name',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '65ABF2B8-3355-4427-828B-E3082806C557' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."DueAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = '97A0A3EA-5563-4C55-9935-397C26BFD00A' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."StartedAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'B267C59C-3370-4EDF-A9D4-106D46A6BBF4' AND "AutoUpdateCategory" = 1

-- UPDATE Entity Field Category Info MJ: Tasks."CompletedAt";

UPDATE "__mj"."EntityField"
SET 
   "GeneratedFormSection" = 'Category',
   "ExtendedType" = NULL,
   "CodeType" = NULL
WHERE 
   "ID" = 'F09901B1-A4C3-4845-A639-B9730146021A' AND "AutoUpdateCategory" = 1

/* Generated Validation Functions for MJ: Open Apps */
-- CHECK constraint for MJ: Open Apps: Field: Name was newly set or modified since the last generation of the validation function, the code was regenerated and updating the GeneratedCode table with the new generated validation function;

INSERT INTO __mj."GeneratedCode" ("CategoryID", "GeneratedByModelID", "GeneratedAt", "Language", "Status", "Source", "Code", "Description", "Name", "LinkedEntityID", "LinkedRecordPrimaryKey")
                      VALUES ((SELECT "ID" FROM __mj.vwGeneratedCodeCategories WHERE "Name"='CodeGen: Validators'), '7B31F48E-EDA3-47B4-9602-D98B7EB1AF45', NOW(), 'TypeScript','Approved', '(NOT "Name" like ''%"^a-z0-9-"%'')', 'public ValidateNameAlphanumericHyphenOnly(result: ValidationResult) {
	// The regex checks that the entire string consists only of lowercase letters, digits, or hyphens
	const regex = /^"a-z0-9-"+$/;
	if (this."Name" != null && !regex.test(this."Name")) {
		result."Errors".push(new ValidationErrorInfo(
			"Name",
			"The name must only contain lowercase letters, numbers, and hyphens.",
			this."Name",
			ValidationErrorType."Failure"
		));
	}
}', 'The name must consist only of lowercase letters, numbers, and hyphens to ensure it is compatible with system naming standards.', 'ValidateNameAlphanumericHyphenOnly', 'DF238F34-2837-EF11-86D4-6045BDEE16E6', '6AC413DC-EBE1-4DFC-9BE4-8E44377B7F46');


-- ===================== FK & CHECK Constraints =====================


-- ===================== Grants =====================

GRANT SELECT ON __mj."vwActionAuthorizations" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Action Authorizations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Authorizations
-- Item: Permissions for vwActionAuthorizations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionAuthorizations" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Action Authorizations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Authorizations
-- Item: spCreateActionAuthorization
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ActionAuthorization
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionAuthorization" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Action Authorizations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionAuthorization" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Action Authorizations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Authorizations
-- Item: spUpdateActionAuthorization
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ActionAuthorization
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionAuthorization" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionAuthorization" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Action Authorizations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Authorizations
-- Item: spDeleteActionAuthorization
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ActionAuthorization
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionAuthorization" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Action Authorizations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionAuthorization" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Action Contexts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Contexts
-- Item: vwActionContexts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Action Contexts
-----               SCHEMA:      __mj
-----               BASE TABLE:  ActionContext
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionContexts" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Action Contexts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Contexts
-- Item: Permissions for vwActionContexts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionContexts" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Action Contexts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Contexts
-- Item: spCreateActionContext
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ActionContext
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionContext" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Action Contexts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionContext" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Action Contexts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Contexts
-- Item: spUpdateActionContext
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ActionContext
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionContext" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionContext" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Action Contexts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Contexts
-- Item: spDeleteActionContext
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ActionContext
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionContext" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Action Contexts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionContext" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Action Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Categories
-- Item: vwActionCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Action Categories
-----               SCHEMA:      __mj
-----               BASE TABLE:  ActionCategory
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionCategories" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Action Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Categories
-- Item: Permissions for vwActionCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionCategories" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Action Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Categories
-- Item: spCreateActionCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ActionCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Action Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Action Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Categories
-- Item: spUpdateActionCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ActionCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Action Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Categories
-- Item: spDeleteActionCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ActionCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionCategory" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Action Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionCategory" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Access Control Rules */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Access Control Rules
-- Item: vwAccessControlRules
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Access Control Rules
-----               SCHEMA:      __mj
-----               BASE TABLE:  AccessControlRule
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAccessControlRules" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Access Control Rules */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Access Control Rules
-- Item: Permissions for vwAccessControlRules
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAccessControlRules" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Access Control Rules */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Access Control Rules
-- Item: spCreateAccessControlRule
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AccessControlRule
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAccessControlRule" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Access Control Rules */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAccessControlRule" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Access Control Rules */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Access Control Rules
-- Item: spUpdateAccessControlRule
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AccessControlRule
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAccessControlRule" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAccessControlRule" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Access Control Rules */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Access Control Rules
-- Item: spDeleteAccessControlRule
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AccessControlRule
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAccessControlRule" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Access Control Rules */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAccessControlRule" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Action Execution Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Execution Logs
-- Item: vwActionExecutionLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Action Execution Logs
-----               SCHEMA:      __mj
-----               BASE TABLE:  ActionExecutionLog
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionExecutionLogs" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Action Execution Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Execution Logs
-- Item: Permissions for vwActionExecutionLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionExecutionLogs" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Action Execution Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Execution Logs
-- Item: spCreateActionExecutionLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ActionExecutionLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionExecutionLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Action Execution Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionExecutionLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Action Execution Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Execution Logs
-- Item: spUpdateActionExecutionLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ActionExecutionLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionExecutionLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionExecutionLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Action Execution Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Execution Logs
-- Item: spDeleteActionExecutionLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ActionExecutionLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionExecutionLog" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Action Execution Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionExecutionLog" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Action Result Codes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Result Codes
-- Item: vwActionResultCodes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Action Result Codes
-----               SCHEMA:      __mj
-----               BASE TABLE:  ActionResultCode
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionResultCodes" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Action Result Codes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Result Codes
-- Item: Permissions for vwActionResultCodes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionResultCodes" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: Action Result Codes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Result Codes
-- Item: spCreateActionResultCode
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ActionResultCode
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionResultCode" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Action Result Codes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionResultCode" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Action Result Codes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Result Codes
-- Item: spUpdateActionResultCode
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ActionResultCode
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionResultCode" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionResultCode" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Action Result Codes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Result Codes
-- Item: spDeleteActionResultCode
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ActionResultCode
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionResultCode" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Action Result Codes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionResultCode" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Params
-- Item: vwActionParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Action Params
-----               SCHEMA:      __mj
-----               BASE TABLE:  ActionParam
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionParams" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Params
-- Item: Permissions for vwActionParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionParams" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Params
-- Item: spCreateActionParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ActionParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionParam" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Action Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionParam" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Params
-- Item: spUpdateActionParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ActionParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionParam" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionParam" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Params
-- Item: spDeleteActionParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ActionParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Action Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Action Libraries */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Libraries
-- Item: vwActionLibraries
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Action Libraries
-----               SCHEMA:      __mj
-----               BASE TABLE:  ActionLibrary
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionLibraries" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Action Libraries */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Libraries
-- Item: Permissions for vwActionLibraries
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwActionLibraries" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Action Libraries */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Libraries
-- Item: spCreateActionLibrary
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ActionLibrary
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionLibrary" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Action Libraries */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateActionLibrary" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Action Libraries */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Libraries
-- Item: spUpdateActionLibrary
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ActionLibrary
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionLibrary" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateActionLibrary" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Action Libraries */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Action Libraries
-- Item: spDeleteActionLibrary
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ActionLibrary
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionLibrary" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Action Libraries */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteActionLibrary" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Configurations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Configurations
-- Item: vwAIAgentConfigurations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Configurations
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentConfiguration
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentConfigurations" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Configurations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Configurations
-- Item: Permissions for vwAIAgentConfigurations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentConfigurations" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Configurations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Configurations
-- Item: spCreateAIAgentConfiguration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentConfiguration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentConfiguration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Configurations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentConfiguration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Configurations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Configurations
-- Item: spUpdateAIAgentConfiguration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentConfiguration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentConfiguration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentConfiguration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Configurations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Configurations
-- Item: spDeleteAIAgentConfiguration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentConfiguration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentConfiguration" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Configurations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentConfiguration" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Artifact Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Artifact Types
-- Item: vwAIAgentArtifactTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Artifact Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentArtifactType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentArtifactTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Artifact Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Artifact Types
-- Item: Permissions for vwAIAgentArtifactTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentArtifactTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Artifact Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Artifact Types
-- Item: spCreateAIAgentArtifactType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentArtifactType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentArtifactType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Artifact Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentArtifactType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Artifact Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Artifact Types
-- Item: spUpdateAIAgentArtifactType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentArtifactType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentArtifactType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentArtifactType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Artifact Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Artifact Types
-- Item: spDeleteAIAgentArtifactType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentArtifactType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentArtifactType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Artifact Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentArtifactType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Actions
-- Item: vwAIAgentActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Actions
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentAction
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentActions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Actions
-- Item: Permissions for vwAIAgentActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentActions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Actions
-- Item: spCreateAIAgentAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentAction" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentAction" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Actions
-- Item: spUpdateAIAgentAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentAction" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentAction" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Actions
-- Item: spDeleteAIAgentAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentAction" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentAction" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Actions
-- Item: vwAIActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Actions
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAction
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIActions" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: AI Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Actions
-- Item: Permissions for vwAIActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIActions" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: AI Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Actions
-- Item: spCreateAIAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAction" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAction" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Actions
-- Item: spUpdateAIAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAction" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAction" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Actions
-- Item: spDeleteAIAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAction" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAction" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Actions
-- Item: vwActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Actions
-----               SCHEMA:      __mj
-----               BASE TABLE:  Action
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwActions" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Actions
-- Item: Permissions for vwActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwActions" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Actions
-- Item: spCreateAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Action
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Actions
-- Item: spUpdateAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Action
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Actions
-- Item: spDeleteAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Action
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAction" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAction" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Learning Cycles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Learning Cycles
-- Item: vwAIAgentLearningCycles
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Learning Cycles
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentLearningCycle
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentLearningCycles" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Learning Cycles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Learning Cycles
-- Item: Permissions for vwAIAgentLearningCycles
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentLearningCycles" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Learning Cycles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Learning Cycles
-- Item: spCreateAIAgentLearningCycle
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentLearningCycle
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentLearningCycle" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Learning Cycles */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentLearningCycle" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Learning Cycles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Learning Cycles
-- Item: spUpdateAIAgentLearningCycle
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentLearningCycle
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentLearningCycle" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentLearningCycle" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Learning Cycles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Learning Cycles
-- Item: spDeleteAIAgentLearningCycle
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentLearningCycle
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentLearningCycle" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Learning Cycles */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentLearningCycle" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Examples */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Examples
-- Item: vwAIAgentExamples
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Examples
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentExample
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentExamples" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Examples */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Examples
-- Item: Permissions for vwAIAgentExamples
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentExamples" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Examples */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Examples
-- Item: spCreateAIAgentExample
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentExample
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentExample" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Examples */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentExample" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Examples */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Examples
-- Item: spUpdateAIAgentExample
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentExample
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentExample" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentExample" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Examples */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Examples
-- Item: spDeleteAIAgentExample
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentExample
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentExample" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Examples */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentExample" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Data Sources */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Data Sources
-- Item: vwAIAgentDataSources
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Data Sources
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentDataSource
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentDataSources" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Data Sources */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Data Sources
-- Item: Permissions for vwAIAgentDataSources
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentDataSources" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Data Sources */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Data Sources
-- Item: spCreateAIAgentDataSource
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentDataSource
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentDataSource" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Data Sources */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentDataSource" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Data Sources */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Data Sources
-- Item: spUpdateAIAgentDataSource
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentDataSource
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentDataSource" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentDataSource" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Data Sources */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Data Sources
-- Item: spDeleteAIAgentDataSource
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentDataSource
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentDataSource" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Data Sources */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentDataSource" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Modalities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Modalities
-- Item: vwAIAgentModalities
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Modalities
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentModality
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentModalities" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Modalities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Modalities
-- Item: Permissions for vwAIAgentModalities
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentModalities" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Modalities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Modalities
-- Item: spCreateAIAgentModality
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentModality
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentModality" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Modalities */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentModality" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Modalities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Modalities
-- Item: spUpdateAIAgentModality
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentModality
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentModality" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentModality" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Modalities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Modalities
-- Item: spDeleteAIAgentModality
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentModality
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentModality" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Modalities */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentModality" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Models */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Models
-- Item: vwAIAgentModels
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Models
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentModel
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentModels" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Models */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Models
-- Item: Permissions for vwAIAgentModels
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentModels" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Models */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Models
-- Item: spCreateAIAgentModel
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentModel
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentModel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Models */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentModel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Models */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Models
-- Item: spUpdateAIAgentModel
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentModel
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentModel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentModel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Models */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Models
-- Item: spDeleteAIAgentModel
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentModel
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentModel" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Models */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentModel" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Prompts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Prompts
-- Item: vwAIAgentPrompts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Prompts
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentPrompt
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentPrompts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Prompts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Prompts
-- Item: Permissions for vwAIAgentPrompts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentPrompts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Prompts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Prompts
-- Item: spCreateAIAgentPrompt
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentPrompt
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentPrompt" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Prompts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentPrompt" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Prompts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Prompts
-- Item: spUpdateAIAgentPrompt
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentPrompt
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentPrompt" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentPrompt" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Prompts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Prompts
-- Item: spDeleteAIAgentPrompt
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentPrompt
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentPrompt" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Prompts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentPrompt" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Notes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Notes
-- Item: vwAIAgentNotes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Notes
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentNote
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentNotes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Notes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Notes
-- Item: Permissions for vwAIAgentNotes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentNotes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Notes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Notes
-- Item: spCreateAIAgentNote
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentNote
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentNote" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Notes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentNote" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Notes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Notes
-- Item: spUpdateAIAgentNote
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentNote
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentNote" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentNote" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Notes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Notes
-- Item: spDeleteAIAgentNote
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentNote
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentNote" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Notes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentNote" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Relationships */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Relationships
-- Item: vwAIAgentRelationships
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Relationships
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentRelationship
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentRelationships" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Relationships */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Relationships
-- Item: Permissions for vwAIAgentRelationships
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentRelationships" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Relationships */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Relationships
-- Item: spCreateAIAgentRelationship
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentRelationship
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentRelationship" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Relationships */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentRelationship" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Relationships */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Relationships
-- Item: spUpdateAIAgentRelationship
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentRelationship
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentRelationship" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentRelationship" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Relationships */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Relationships
-- Item: spDeleteAIAgentRelationship
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentRelationship
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentRelationship" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Relationships */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentRelationship" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Permissions
-- Item: vwAIAgentPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Permissions
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentPermission
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Permissions
-- Item: Permissions for vwAIAgentPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Permissions
-- Item: spCreateAIAgentPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Permissions
-- Item: spUpdateAIAgentPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Permissions
-- Item: spDeleteAIAgentPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Requests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Requests
-- Item: vwAIAgentRequests
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Requests
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentRequest
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentRequests" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Requests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Requests
-- Item: Permissions for vwAIAgentRequests
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentRequests" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Requests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Requests
-- Item: spCreateAIAgentRequest
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentRequest
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentRequest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Requests */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentRequest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Requests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Requests
-- Item: spUpdateAIAgentRequest
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentRequest
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentRequest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentRequest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Requests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Requests
-- Item: spDeleteAIAgentRequest
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentRequest
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentRequest" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Requests */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentRequest" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Run Medias */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Run Medias
-- Item: vwAIAgentRunMedias
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Run Medias
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentRunMedia
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentRunMedias" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Run Medias */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Run Medias
-- Item: Permissions for vwAIAgentRunMedias
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentRunMedias" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Run Medias */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Run Medias
-- Item: spCreateAIAgentRunMedia
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentRunMedia
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentRunMedia" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Run Medias */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentRunMedia" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Run Medias */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Run Medias
-- Item: spUpdateAIAgentRunMedia
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentRunMedia
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentRunMedia" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentRunMedia" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Run Medias */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Run Medias
-- Item: spDeleteAIAgentRunMedia
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentRunMedia
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentRunMedia" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Run Medias */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentRunMedia" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Runs
-- Item: vwAIAgentRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Runs
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentRun
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Runs
-- Item: Permissions for vwAIAgentRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Runs
-- Item: spCreateAIAgentRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Runs
-- Item: spUpdateAIAgentRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Run Steps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Run Steps
-- Item: vwAIAgentRunSteps
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Run Steps
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentRunStep
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentRunSteps" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Run Steps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Run Steps
-- Item: Permissions for vwAIAgentRunSteps
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentRunSteps" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Run Steps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Run Steps
-- Item: spCreateAIAgentRunStep
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentRunStep
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentRunStep" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Run Steps */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentRunStep" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Run Steps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Run Steps
-- Item: spUpdateAIAgentRunStep
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentRunStep
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentRunStep" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentRunStep" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Step Paths */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Step Paths
-- Item: vwAIAgentStepPaths
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Step Paths
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentStepPath
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentStepPaths" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Step Paths */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Step Paths
-- Item: Permissions for vwAIAgentStepPaths
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentStepPaths" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Step Paths */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Step Paths
-- Item: spCreateAIAgentStepPath
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentStepPath
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentStepPath" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Step Paths */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentStepPath" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Step Paths */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Step Paths
-- Item: spUpdateAIAgentStepPath
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentStepPath
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentStepPath" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentStepPath" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Step Paths */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Step Paths
-- Item: spDeleteAIAgentStepPath
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentStepPath
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentStepPath" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Step Paths */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentStepPath" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Run Steps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Run Steps
-- Item: spDeleteAIAgentRunStep
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentRunStep
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentRunStep" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Run Steps */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentRunStep" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Runs
-- Item: spDeleteAIAgentRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Architectures */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Architectures
-- Item: vwAIArchitectures
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Architectures
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIArchitecture
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIArchitectures" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Architectures */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Architectures
-- Item: Permissions for vwAIArchitectures
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIArchitectures" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Architectures */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Architectures
-- Item: spCreateAIArchitecture
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIArchitecture
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIArchitecture" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Architectures */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIArchitecture" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Architectures */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Architectures
-- Item: spUpdateAIArchitecture
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIArchitecture
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIArchitecture" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIArchitecture" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Architectures */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Architectures
-- Item: spDeleteAIArchitecture
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIArchitecture
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIArchitecture" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Architectures */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIArchitecture" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Steps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Steps
-- Item: vwAIAgentSteps
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Steps
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentStep
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentSteps" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Steps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Steps
-- Item: Permissions for vwAIAgentSteps
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentSteps" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Steps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Steps
-- Item: spCreateAIAgentStep
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentStep
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentStep" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Steps */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentStep" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Steps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Steps
-- Item: spUpdateAIAgentStep
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentStep
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentStep" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentStep" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Steps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Steps
-- Item: spDeleteAIAgentStep
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentStep
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentStep" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Steps */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentStep" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agent Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Types
-- Item: vwAIAgentTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agent Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgentType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agent Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Types
-- Item: Permissions for vwAIAgentTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgentTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agent Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Types
-- Item: spCreateAIAgentType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgentType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agent Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgentType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agent Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Types
-- Item: spUpdateAIAgentType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgentType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgentType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agent Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agent Types
-- Item: spDeleteAIAgentType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgentType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agent Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgentType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Agents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agents
-- Item: vwAIAgents
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Agents
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIAgent
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgents" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Agents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agents
-- Item: Permissions for vwAIAgents
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIAgents" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Agents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agents
-- Item: spCreateAIAgent
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIAgent
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgent" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Agents */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIAgent" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Agents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agents
-- Item: spUpdateAIAgent
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIAgent
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgent" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIAgent" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Configuration Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Configuration Params
-- Item: vwAIConfigurationParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Configuration Params
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIConfigurationParam
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIConfigurationParams" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Configuration Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Configuration Params
-- Item: Permissions for vwAIConfigurationParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIConfigurationParams" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Configuration Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Configuration Params
-- Item: spCreateAIConfigurationParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIConfigurationParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIConfigurationParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Configuration Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIConfigurationParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Configuration Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Configuration Params
-- Item: spUpdateAIConfigurationParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIConfigurationParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIConfigurationParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIConfigurationParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Configuration Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Configuration Params
-- Item: spDeleteAIConfigurationParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIConfigurationParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIConfigurationParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Configuration Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIConfigurationParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Agents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Agents
-- Item: spDeleteAIAgent
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIAgent
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgent" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Agents */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIAgent" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Configurations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Configurations
-- Item: vwAIConfigurations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Configurations
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIConfiguration
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIConfigurations" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Configurations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Configurations
-- Item: Permissions for vwAIConfigurations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIConfigurations" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Configurations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Configurations
-- Item: spCreateAIConfiguration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIConfiguration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIConfiguration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Configurations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIConfiguration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Configurations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Configurations
-- Item: spUpdateAIConfiguration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIConfiguration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIConfiguration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIConfiguration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Model Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Actions
-- Item: vwAIModelActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Model Actions
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIModelAction
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelActions" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: AI Model Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Actions
-- Item: Permissions for vwAIModelActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelActions" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: AI Model Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Actions
-- Item: spCreateAIModelAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIModelAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelAction" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Model Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelAction" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Model Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Actions
-- Item: spUpdateAIModelAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIModelAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Model Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Actions
-- Item: spDeleteAIModelAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIModelAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelAction" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Model Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelAction" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Credential Bindings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Credential Bindings
-- Item: vwAICredentialBindings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Credential Bindings
-----               SCHEMA:      __mj
-----               BASE TABLE:  AICredentialBinding
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAICredentialBindings" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Credential Bindings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Credential Bindings
-- Item: Permissions for vwAICredentialBindings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAICredentialBindings" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Credential Bindings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Credential Bindings
-- Item: spCreateAICredentialBinding
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AICredentialBinding
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAICredentialBinding" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Credential Bindings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAICredentialBinding" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Credential Bindings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Credential Bindings
-- Item: spUpdateAICredentialBinding
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AICredentialBinding
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAICredentialBinding" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAICredentialBinding" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Credential Bindings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Credential Bindings
-- Item: spDeleteAICredentialBinding
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AICredentialBinding
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAICredentialBinding" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Credential Bindings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAICredentialBinding" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Model Architectures */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Architectures
-- Item: vwAIModelArchitectures
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Model Architectures
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIModelArchitecture
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelArchitectures" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Model Architectures */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Architectures
-- Item: Permissions for vwAIModelArchitectures
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelArchitectures" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Model Architectures */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Architectures
-- Item: spCreateAIModelArchitecture
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIModelArchitecture
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelArchitecture" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Model Architectures */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelArchitecture" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Model Architectures */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Architectures
-- Item: spUpdateAIModelArchitecture
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIModelArchitecture
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelArchitecture" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelArchitecture" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Model Architectures */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Architectures
-- Item: spDeleteAIModelArchitecture
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIModelArchitecture
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelArchitecture" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Model Architectures */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelArchitecture" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Configurations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Configurations
-- Item: spDeleteAIConfiguration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIConfiguration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIConfiguration" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Configurations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIConfiguration" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Model Costs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Costs
-- Item: vwAIModelCosts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Model Costs
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIModelCost
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelCosts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Model Costs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Costs
-- Item: Permissions for vwAIModelCosts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelCosts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Model Costs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Costs
-- Item: spCreateAIModelCost
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIModelCost
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelCost" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Model Costs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelCost" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Model Costs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Costs
-- Item: spUpdateAIModelCost
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIModelCost
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelCost" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelCost" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Model Costs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Costs
-- Item: spDeleteAIModelCost
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIModelCost
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelCost" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Model Costs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelCost" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Model Modalities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Modalities
-- Item: vwAIModelModalities
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Model Modalities
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIModelModality
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelModalities" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Model Modalities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Modalities
-- Item: Permissions for vwAIModelModalities
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelModalities" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Model Modalities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Modalities
-- Item: spCreateAIModelModality
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIModelModality
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelModality" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Model Modalities */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelModality" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Model Modalities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Modalities
-- Item: spUpdateAIModelModality
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIModelModality
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelModality" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelModality" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Model Modalities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Modalities
-- Item: spDeleteAIModelModality
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIModelModality
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelModality" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Model Modalities */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelModality" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Model Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Types
-- Item: vwAIModelTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Model Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIModelType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelTypes" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: AI Model Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Types
-- Item: Permissions for vwAIModelTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelTypes" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: AI Model Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Types
-- Item: spCreateAIModelType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIModelType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Model Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Model Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Types
-- Item: spUpdateAIModelType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIModelType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Model Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Types
-- Item: spDeleteAIModelType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIModelType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelType" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Model Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelType" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Prompt Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Categories
-- Item: vwAIPromptCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Prompt Categories
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIPromptCategory
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIPromptCategories" TO "cdp_UI", "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Prompt Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Categories
-- Item: Permissions for vwAIPromptCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIPromptCategories" TO "cdp_UI", "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Prompt Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Categories
-- Item: spCreateAIPromptCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIPromptCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIPromptCategory" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Prompt Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIPromptCategory" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Prompt Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Categories
-- Item: spUpdateAIPromptCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIPromptCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIPromptCategory" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIPromptCategory" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Prompt Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Categories
-- Item: spDeleteAIPromptCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIPromptCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIPromptCategory" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Prompt Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIPromptCategory" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Prompt Run Medias */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Run Medias
-- Item: vwAIPromptRunMedias
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Prompt Run Medias
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIPromptRunMedia
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIPromptRunMedias" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Prompt Run Medias */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Run Medias
-- Item: Permissions for vwAIPromptRunMedias
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIPromptRunMedias" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Prompt Run Medias */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Run Medias
-- Item: spCreateAIPromptRunMedia
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIPromptRunMedia
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIPromptRunMedia" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Prompt Run Medias */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIPromptRunMedia" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Prompt Run Medias */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Run Medias
-- Item: spUpdateAIPromptRunMedia
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIPromptRunMedia
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIPromptRunMedia" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIPromptRunMedia" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Prompt Run Medias */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Run Medias
-- Item: spDeleteAIPromptRunMedia
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIPromptRunMedia
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIPromptRunMedia" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Prompt Run Medias */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIPromptRunMedia" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Prompt Models */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Models
-- Item: vwAIPromptModels
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Prompt Models
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIPromptModel
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIPromptModels" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Prompt Models */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Models
-- Item: Permissions for vwAIPromptModels
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIPromptModels" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Prompt Models */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Models
-- Item: spCreateAIPromptModel
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIPromptModel
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIPromptModel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Prompt Models */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIPromptModel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Prompt Models */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Models
-- Item: spUpdateAIPromptModel
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIPromptModel
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIPromptModel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIPromptModel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Prompt Models */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Models
-- Item: spDeleteAIPromptModel
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIPromptModel
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIPromptModel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Prompt Models */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIPromptModel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Model Vendors */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Vendors
-- Item: vwAIModelVendors
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Model Vendors
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIModelVendor
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelVendors" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Model Vendors */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Vendors
-- Item: Permissions for vwAIModelVendors
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIModelVendors" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Model Vendors */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Vendors
-- Item: spCreateAIModelVendor
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIModelVendor
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelVendor" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Model Vendors */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIModelVendor" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Model Vendors */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Vendors
-- Item: spUpdateAIModelVendor
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIModelVendor
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelVendor" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIModelVendor" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Model Vendors */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Model Vendors
-- Item: spDeleteAIModelVendor
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIModelVendor
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelVendor" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Model Vendors */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIModelVendor" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Prompt Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Runs
-- Item: vwAIPromptRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Prompt Runs
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIPromptRun
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIPromptRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Prompt Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Runs
-- Item: Permissions for vwAIPromptRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIPromptRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Prompt Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Runs
-- Item: spCreateAIPromptRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIPromptRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIPromptRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Prompt Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIPromptRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Prompt Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Runs
-- Item: spUpdateAIPromptRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIPromptRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIPromptRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIPromptRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Result Cache */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Result Cache
-- Item: vwAIResultCaches
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Result Cache
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIResultCache
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIResultCaches" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: AI Result Cache */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Result Cache
-- Item: Permissions for vwAIResultCaches
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIResultCaches" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: AI Result Cache */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Result Cache
-- Item: spCreateAIResultCache
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIResultCache
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIPrompts" TO "cdp_UI", "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: AI Prompts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompts
-- Item: Permissions for vwAIPrompts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIPrompts" TO "cdp_UI", "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: AI Prompts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompts
-- Item: spCreateAIPrompt
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIPrompt
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIPrompt" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Prompts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIPrompt" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Prompts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompts
-- Item: spUpdateAIPrompt
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIPrompt
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIPrompt" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIPrompt" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Prompt Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompt Runs
-- Item: spDeleteAIPromptRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIPromptRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIPromptRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Prompt Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIPromptRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Prompts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Prompts
-- Item: spDeleteAIPrompt
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIPrompt
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIPrompt" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Prompts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIPrompt" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Vendor Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Vendor Types
-- Item: vwAIVendorTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Vendor Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIVendorType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIVendorTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Vendor Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Vendor Types
-- Item: Permissions for vwAIVendorTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIVendorTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Vendor Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Vendor Types
-- Item: spCreateAIVendorType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIVendorType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIVendorType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Vendor Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIVendorType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Vendor Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Vendor Types
-- Item: spUpdateAIVendorType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIVendorType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIVendorType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIVendorType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Vendor Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Vendor Types
-- Item: spDeleteAIVendorType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIVendorType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIVendorType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Vendor Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIVendorType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: AI Vendors */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Vendors
-- Item: vwAIVendors
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: AI Vendors
-----               SCHEMA:      __mj
-----               BASE TABLE:  AIVendor
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIVendors" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: AI Vendors */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Vendors
-- Item: Permissions for vwAIVendors
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAIVendors" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: AI Vendors */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Vendors
-- Item: spCreateAIVendor
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AIVendor
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIVendor" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: AI Vendors */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAIVendor" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: AI Vendors */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Vendors
-- Item: spUpdateAIVendor
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AIVendor
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIVendor" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAIVendor" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: AI Vendors */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: AI Vendors
-- Item: spDeleteAIVendor
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AIVendor
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIVendor" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: AI Vendors */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAIVendor" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: API Application Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Application Scopes
-- Item: vwAPIApplicationScopes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: API Application Scopes
-----               SCHEMA:      __mj
-----               BASE TABLE:  APIApplicationScope
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIApplicationScopes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: API Application Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Application Scopes
-- Item: Permissions for vwAPIApplicationScopes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIApplicationScopes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: API Application Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Application Scopes
-- Item: spCreateAPIApplicationScope
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR APIApplicationScope
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIApplicationScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: API Application Scopes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIApplicationScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: API Application Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Application Scopes
-- Item: spUpdateAPIApplicationScope
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR APIApplicationScope
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIApplicationScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIApplicationScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: API Application Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Application Scopes
-- Item: spDeleteAPIApplicationScope
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR APIApplicationScope
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIApplicationScope" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: API Application Scopes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIApplicationScope" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: API Key Applications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Applications
-- Item: vwAPIKeyApplications
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: API Key Applications
-----               SCHEMA:      __mj
-----               BASE TABLE:  APIKeyApplication
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIKeyApplications" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: API Key Applications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Applications
-- Item: Permissions for vwAPIKeyApplications
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIKeyApplications" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: API Key Applications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Applications
-- Item: spCreateAPIKeyApplication
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR APIKeyApplication
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIKeyApplication" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: API Key Applications */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIKeyApplication" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: API Key Applications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Applications
-- Item: spUpdateAPIKeyApplication
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR APIKeyApplication
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIKeyApplication" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIKeyApplication" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: API Key Applications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Applications
-- Item: spDeleteAPIKeyApplication
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR APIKeyApplication
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIKeyApplication" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: API Key Applications */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIKeyApplication" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: API Key Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Scopes
-- Item: vwAPIKeyScopes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: API Key Scopes
-----               SCHEMA:      __mj
-----               BASE TABLE:  APIKeyScope
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIKeyScopes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: API Key Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Scopes
-- Item: Permissions for vwAPIKeyScopes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIKeyScopes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: API Key Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Scopes
-- Item: spCreateAPIKeyScope
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR APIKeyScope
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIKeyScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: API Key Scopes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIKeyScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: API Key Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Scopes
-- Item: spUpdateAPIKeyScope
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR APIKeyScope
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIKeyScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIKeyScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: API Key Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Scopes
-- Item: spDeleteAPIKeyScope
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR APIKeyScope
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIKeyScope" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: API Key Scopes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIKeyScope" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: API Key Usage Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Usage Logs
-- Item: vwAPIKeyUsageLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: API Key Usage Logs
-----               SCHEMA:      __mj
-----               BASE TABLE:  APIKeyUsageLog
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIKeyUsageLogs" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: API Key Usage Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Usage Logs
-- Item: Permissions for vwAPIKeyUsageLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIKeyUsageLogs" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: API Key Usage Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Usage Logs
-- Item: spCreateAPIKeyUsageLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR APIKeyUsageLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIKeyUsageLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: API Key Usage Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIKeyUsageLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: API Key Usage Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Usage Logs
-- Item: spUpdateAPIKeyUsageLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR APIKeyUsageLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIKeyUsageLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIKeyUsageLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: API Key Usage Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Key Usage Logs
-- Item: spDeleteAPIKeyUsageLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR APIKeyUsageLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIKeyUsageLog" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: API Key Usage Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIKeyUsageLog" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: API Keys */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Keys
-- Item: vwAPIKeys
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: API Keys
-----               SCHEMA:      __mj
-----               BASE TABLE:  APIKey
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIKeys" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: API Keys */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Keys
-- Item: Permissions for vwAPIKeys
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIKeys" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: API Keys */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Keys
-- Item: spCreateAPIKey
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR APIKey
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIKey" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: API Keys */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIKey" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: API Keys */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Keys
-- Item: spUpdateAPIKey
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR APIKey
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIKey" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIKey" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: API Keys */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Keys
-- Item: spDeleteAPIKey
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR APIKey
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIKey" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: API Keys */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIKey" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: API Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Scopes
-- Item: vwAPIScopes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: API Scopes
-----               SCHEMA:      __mj
-----               BASE TABLE:  APIScope
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIScopes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: API Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Scopes
-- Item: Permissions for vwAPIScopes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAPIScopes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: API Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Scopes
-- Item: spCreateAPIScope
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR APIScope
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: API Scopes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAPIScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: API Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Scopes
-- Item: spUpdateAPIScope
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR APIScope
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAPIScope" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: API Scopes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: API Scopes
-- Item: spDeleteAPIScope
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR APIScope
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIScope" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: API Scopes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAPIScope" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Application Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Application Settings
-- Item: vwApplicationSettings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Application Settings
-----               SCHEMA:      __mj
-----               BASE TABLE:  ApplicationSetting
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwApplicationSettings" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Application Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Application Settings
-- Item: Permissions for vwApplicationSettings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwApplicationSettings" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Application Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Application Settings
-- Item: spCreateApplicationSetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ApplicationSetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateApplicationSetting" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Application Settings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateApplicationSetting" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Application Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Application Settings
-- Item: spUpdateApplicationSetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ApplicationSetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateApplicationSetting" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateApplicationSetting" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Application Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Application Settings
-- Item: spDeleteApplicationSetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ApplicationSetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteApplicationSetting" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Application Settings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteApplicationSetting" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Artifact Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Types
-- Item: vwArtifactTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Artifact Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  ArtifactType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifactTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Artifact Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Types
-- Item: Permissions for vwArtifactTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifactTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Artifact Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Types
-- Item: spCreateArtifactType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ArtifactType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifactType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Artifact Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifactType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Artifact Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Types
-- Item: spUpdateArtifactType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ArtifactType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifactType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifactType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Artifact Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Types
-- Item: spDeleteArtifactType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ArtifactType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifactType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Artifact Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifactType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Artifact Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Permissions
-- Item: vwArtifactPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Artifact Permissions
-----               SCHEMA:      __mj
-----               BASE TABLE:  ArtifactPermission
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifactPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Artifact Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Permissions
-- Item: Permissions for vwArtifactPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifactPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Artifact Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Permissions
-- Item: spCreateArtifactPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ArtifactPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifactPermission" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Artifact Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifactPermission" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Artifact Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Permissions
-- Item: spUpdateArtifactPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ArtifactPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifactPermission" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifactPermission" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Artifact Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Permissions
-- Item: spDeleteArtifactPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ArtifactPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifactPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Artifact Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifactPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Artifact Uses */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Uses
-- Item: vwArtifactUses
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Artifact Uses
-----               SCHEMA:      __mj
-----               BASE TABLE:  ArtifactUse
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifactUses" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Artifact Uses */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Uses
-- Item: Permissions for vwArtifactUses
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifactUses" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Artifact Uses */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Uses
-- Item: spCreateArtifactUse
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ArtifactUse
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifactUse" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Artifact Uses */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifactUse" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Artifact Uses */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Uses
-- Item: spUpdateArtifactUse
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ArtifactUse
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifactUse" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifactUse" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Artifact Uses */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Uses
-- Item: spDeleteArtifactUse
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ArtifactUse
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifactUse" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Artifact Uses */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifactUse" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Artifact Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Versions
-- Item: vwArtifactVersions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Artifact Versions
-----               SCHEMA:      __mj
-----               BASE TABLE:  ArtifactVersion
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifactVersions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Artifact Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Versions
-- Item: Permissions for vwArtifactVersions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifactVersions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Artifact Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Versions
-- Item: spCreateArtifactVersion
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ArtifactVersion
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifactVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Artifact Versions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifactVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Artifact Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Versions
-- Item: spUpdateArtifactVersion
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ArtifactVersion
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifactVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifactVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Artifact Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Versions
-- Item: spDeleteArtifactVersion
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ArtifactVersion
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifactVersion" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Artifact Versions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifactVersion" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Artifact Version Attributes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Version Attributes
-- Item: vwArtifactVersionAttributes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Artifact Version Attributes
-----               SCHEMA:      __mj
-----               BASE TABLE:  ArtifactVersionAttribute
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifactVersionAttributes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Artifact Version Attributes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Version Attributes
-- Item: Permissions for vwArtifactVersionAttributes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifactVersionAttributes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Artifact Version Attributes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Version Attributes
-- Item: spCreateArtifactVersionAttribute
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ArtifactVersionAttribute
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifactVersionAttribute" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Artifact Version Attributes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifactVersionAttribute" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Artifact Version Attributes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Version Attributes
-- Item: spUpdateArtifactVersionAttribute
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ArtifactVersionAttribute
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifactVersionAttribute" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifactVersionAttribute" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Artifact Version Attributes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifact Version Attributes
-- Item: spDeleteArtifactVersionAttribute
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ArtifactVersionAttribute
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifactVersionAttribute" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Artifact Version Attributes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifactVersionAttribute" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifacts
-- Item: vwArtifacts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Artifacts
-----               SCHEMA:      __mj
-----               BASE TABLE:  Artifact
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifacts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifacts
-- Item: Permissions for vwArtifacts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwArtifacts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifacts
-- Item: spCreateArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Artifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifact" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Artifacts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateArtifact" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifacts
-- Item: spUpdateArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Artifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifact" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateArtifact" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Artifacts
-- Item: spDeleteArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Artifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifact" TO "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Artifacts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteArtifact" TO "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Audit Log Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Audit Log Types
-- Item: vwAuditLogTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Audit Log Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  AuditLogType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAuditLogTypes" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Audit Log Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Audit Log Types
-- Item: Permissions for vwAuditLogTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAuditLogTypes" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: Audit Log Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Audit Log Types
-- Item: spCreateAuditLogType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AuditLogType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAuditLogType" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Audit Log Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAuditLogType" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Audit Log Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Audit Log Types
-- Item: spUpdateAuditLogType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AuditLogType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAuditLogType" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAuditLogType" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Audit Log Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Audit Log Types
-- Item: spDeleteAuditLogType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AuditLogType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAuditLogType" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Audit Log Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAuditLogType" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Audit Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Audit Logs
-- Item: vwAuditLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Audit Logs
-----               SCHEMA:      __mj
-----               BASE TABLE:  AuditLog
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAuditLogs" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Audit Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Audit Logs
-- Item: Permissions for vwAuditLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAuditLogs" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Audit Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Audit Logs
-- Item: spCreateAuditLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AuditLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAuditLog" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Audit Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAuditLog" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Audit Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Audit Logs
-- Item: spUpdateAuditLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AuditLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAuditLog" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAuditLog" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Audit Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Audit Logs
-- Item: spDeleteAuditLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AuditLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAuditLog" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Audit Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAuditLog" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Authorization Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Authorization Roles
-- Item: vwAuthorizationRoles
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Authorization Roles
-----               SCHEMA:      __mj
-----               BASE TABLE:  AuthorizationRole
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAuthorizationRoles" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Authorization Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Authorization Roles
-- Item: Permissions for vwAuthorizationRoles
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAuthorizationRoles" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Authorization Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Authorization Roles
-- Item: spCreateAuthorizationRole
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR AuthorizationRole
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAuthorizationRole" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Authorization Roles */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAuthorizationRole" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Authorization Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Authorization Roles
-- Item: spUpdateAuthorizationRole
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR AuthorizationRole
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAuthorizationRole" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAuthorizationRole" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Authorization Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Authorization Roles
-- Item: spDeleteAuthorizationRole
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR AuthorizationRole
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAuthorizationRole" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Authorization Roles */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteAuthorizationRole" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Authorizations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Authorizations
-- Item: vwAuthorizations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Authorizations
-----               SCHEMA:      __mj
-----               BASE TABLE:  Authorization
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwAuthorizations" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Authorizations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Authorizations
-- Item: Permissions for vwAuthorizations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwAuthorizations" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: Authorizations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Authorizations
-- Item: spCreateAuthorization
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Authorization
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAuthorization" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Authorizations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateAuthorization" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Authorizations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Authorizations
-- Item: spUpdateAuthorization
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Authorization
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAuthorization" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateAuthorization" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Authorizations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Authorizations
-- Item: spDeleteAuthorization
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Authorization
------------------------------------------------------------;

GRANT SELECT ON __mj."vwCollectionPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Collection Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collection Permissions
-- Item: Permissions for vwCollectionPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwCollectionPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Collection Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collection Permissions
-- Item: spCreateCollectionPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR CollectionPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCollectionPermission" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Collection Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCollectionPermission" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Collection Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collection Permissions
-- Item: spUpdateCollectionPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR CollectionPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCollectionPermission" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCollectionPermission" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Collection Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collection Permissions
-- Item: spDeleteCollectionPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR CollectionPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCollectionPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Collection Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCollectionPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Collection Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collection Artifacts
-- Item: vwCollectionArtifacts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Collection Artifacts
-----               SCHEMA:      __mj
-----               BASE TABLE:  CollectionArtifact
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwCollectionArtifacts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Collection Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collection Artifacts
-- Item: Permissions for vwCollectionArtifacts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwCollectionArtifacts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Collection Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collection Artifacts
-- Item: spCreateCollectionArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR CollectionArtifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCollectionArtifact" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Collection Artifacts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCollectionArtifact" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Collection Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collection Artifacts
-- Item: spUpdateCollectionArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR CollectionArtifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCollectionArtifact" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCollectionArtifact" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Collection Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collection Artifacts
-- Item: spDeleteCollectionArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR CollectionArtifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCollectionArtifact" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Collection Artifacts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCollectionArtifact" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Collections */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collections
-- Item: vwCollections
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Collections
-----               SCHEMA:      __mj
-----               BASE TABLE:  Collection
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwCollections" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Collections */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collections
-- Item: Permissions for vwCollections
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwCollections" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Collections */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collections
-- Item: spCreateCollection
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Collection
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCollection" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Collections */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCollection" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Collections */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collections
-- Item: spUpdateCollection
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Collection
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCollection" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCollection" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Collections */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Collections
-- Item: spDeleteCollection
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Collection
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCollection" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Collections */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCollection" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Communication Provider Message Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Provider Message Types
-- Item: vwCommunicationProviderMessageTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Communication Provider Message Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  CommunicationProviderMessageType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwCommunicationProviderMessageTypes" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Communication Provider Message Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Provider Message Types
-- Item: Permissions for vwCommunicationProviderMessageTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwCommunicationProviderMessageTypes" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Communication Provider Message Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Provider Message Types
-- Item: spCreateCommunicationProviderMessageType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR CommunicationProviderMessageType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCommunicationProviderMessageType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Communication Provider Message Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCommunicationProviderMessageType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Communication Provider Message Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Provider Message Types
-- Item: spUpdateCommunicationProviderMessageType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR CommunicationProviderMessageType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCommunicationProviderMessageType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCommunicationProviderMessageType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Communication Provider Message Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Provider Message Types
-- Item: spDeleteCommunicationProviderMessageType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR CommunicationProviderMessageType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCommunicationProviderMessageType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Communication Provider Message Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCommunicationProviderMessageType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Communication Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Logs
-- Item: vwCommunicationLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Communication Logs
-----               SCHEMA:      __mj
-----               BASE TABLE:  CommunicationLog
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwCommunicationLogs" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Communication Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Logs
-- Item: Permissions for vwCommunicationLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwCommunicationLogs" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: Communication Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Logs
-- Item: spCreateCommunicationLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR CommunicationLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCommunicationLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Communication Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCommunicationLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Communication Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Logs
-- Item: spUpdateCommunicationLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR CommunicationLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCommunicationLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCommunicationLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Communication Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Logs
-- Item: spDeleteCommunicationLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR CommunicationLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCommunicationLog" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Communication Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCommunicationLog" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Communication Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Runs
-- Item: vwCommunicationRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Communication Runs
-----               SCHEMA:      __mj
-----               BASE TABLE:  CommunicationRun
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwCommunicationRuns" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Communication Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Runs
-- Item: Permissions for vwCommunicationRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwCommunicationRuns" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: Communication Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Runs
-- Item: spCreateCommunicationRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR CommunicationRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCommunicationRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Communication Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCommunicationRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Communication Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Runs
-- Item: spUpdateCommunicationRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR CommunicationRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCommunicationRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCommunicationRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Communication Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Communication Runs
-- Item: spDeleteCommunicationRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR CommunicationRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCommunicationRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Communication Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCommunicationRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Company Integration Record Maps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Company Integration Record Maps
-- Item: vwCompanyIntegrationRecordMaps
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Company Integration Record Maps
-----               SCHEMA:      __mj
-----               BASE TABLE:  CompanyIntegrationRecordMap
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwCompanyIntegrationRecordMaps" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Company Integration Record Maps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Company Integration Record Maps
-- Item: Permissions for vwCompanyIntegrationRecordMaps
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwCompanyIntegrationRecordMaps" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Company Integration Record Maps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Company Integration Record Maps
-- Item: spCreateCompanyIntegrationRecordMap
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR CompanyIntegrationRecordMap
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCompanyIntegrationRecordMap" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Company Integration Record Maps */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCompanyIntegrationRecordMap" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Company Integration Record Maps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Company Integration Record Maps
-- Item: spUpdateCompanyIntegrationRecordMap
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR CompanyIntegrationRecordMap
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCompanyIntegrationRecordMap" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCompanyIntegrationRecordMap" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Company Integration Record Maps */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Company Integration Record Maps
-- Item: spDeleteCompanyIntegrationRecordMap
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR CompanyIntegrationRecordMap
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCompanyIntegrationRecordMap" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Company Integration Record Maps */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCompanyIntegrationRecordMap" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Company Integration Run API Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Company Integration Run API Logs
-- Item: vwCompanyIntegrationRunAPILogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Company Integration Run API Logs
-----               SCHEMA:      __mj
-----               BASE TABLE:  CompanyIntegrationRunAPILog
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwCompanyIntegrationRunAPILogs" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Company Integration Run API Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Company Integration Run API Logs
-- Item: Permissions for vwCompanyIntegrationRunAPILogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwCompanyIntegrationRunAPILogs" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Company Integration Run API Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Company Integration Run API Logs
-- Item: spCreateCompanyIntegrationRunAPILog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR CompanyIntegrationRunAPILog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCompanyIntegrationRunAPILog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Company Integration Run API Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCompanyIntegrationRunAPILog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Company Integration Run API Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Company Integration Run API Logs
-- Item: spUpdateCompanyIntegrationRunAPILog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR CompanyIntegrationRunAPILog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCompanyIntegrationRunAPILog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCompanyIntegrationRunAPILog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Company Integration Run API Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Company Integration Run API Logs
-- Item: spDeleteCompanyIntegrationRunAPILog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR CompanyIntegrationRunAPILog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCompanyIntegrationRunAPILog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Company Integration Run API Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCompanyIntegrationRunAPILog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Component Library Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Component Library Links
-- Item: vwComponentLibraryLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Component Library Links
-----               SCHEMA:      __mj
-----               BASE TABLE:  ComponentLibraryLink
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwComponentLibraryLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Component Library Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Component Library Links
-- Item: Permissions for vwComponentLibraryLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwComponentLibraryLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Component Library Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Component Library Links
-- Item: spCreateComponentLibraryLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ComponentLibraryLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateComponentLibraryLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Component Library Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateComponentLibraryLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Component Library Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Component Library Links
-- Item: spUpdateComponentLibraryLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ComponentLibraryLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateComponentLibraryLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateComponentLibraryLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Component Library Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Component Library Links
-- Item: spDeleteComponentLibraryLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ComponentLibraryLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteComponentLibraryLink" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Component Library Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteComponentLibraryLink" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Component Dependencies */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Component Dependencies
-- Item: vwComponentDependencies
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Component Dependencies
-----               SCHEMA:      __mj
-----               BASE TABLE:  ComponentDependency
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwComponentDependencies" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Component Dependencies */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Component Dependencies
-- Item: Permissions for vwComponentDependencies
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwComponentDependencies" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Component Dependencies */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Component Dependencies
-- Item: spCreateComponentDependency
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ComponentDependency
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateComponentDependency" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Component Dependencies */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateComponentDependency" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Component Dependencies */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Component Dependencies
-- Item: spUpdateComponentDependency
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ComponentDependency
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateComponentDependency" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateComponentDependency" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Component Dependencies */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Component Dependencies
-- Item: spDeleteComponentDependency
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ComponentDependency
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteComponentDependency" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Component Dependencies */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteComponentDependency" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Content Item Attributes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Item Attributes
-- Item: vwContentItemAttributes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Content Item Attributes
-----               SCHEMA:      __mj
-----               BASE TABLE:  ContentItemAttribute
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentItemAttributes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Content Item Attributes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Item Attributes
-- Item: Permissions for vwContentItemAttributes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentItemAttributes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Content Item Attributes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Item Attributes
-- Item: spCreateContentItemAttribute
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ContentItemAttribute
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentItemAttribute" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Content Item Attributes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentItemAttribute" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Content Item Attributes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Item Attributes
-- Item: spUpdateContentItemAttribute
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ContentItemAttribute
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentItemAttribute" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentItemAttribute" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Content Item Attributes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Item Attributes
-- Item: spDeleteContentItemAttribute
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ContentItemAttribute
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentItemAttribute" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Content Item Attributes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentItemAttribute" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Content Item Tags */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Item Tags
-- Item: vwContentItemTags
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Content Item Tags
-----               SCHEMA:      __mj
-----               BASE TABLE:  ContentItemTag
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentItemTags" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Content Item Tags */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Item Tags
-- Item: Permissions for vwContentItemTags
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentItemTags" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Content Item Tags */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Item Tags
-- Item: spCreateContentItemTag
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ContentItemTag
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentItemTag" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Content Item Tags */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentItemTag" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Content Item Tags */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Item Tags
-- Item: spUpdateContentItemTag
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ContentItemTag
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentItemTag" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentItemTag" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Content Item Tags */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Item Tags
-- Item: spDeleteContentItemTag
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ContentItemTag
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentItemTag" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Content Item Tags */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentItemTag" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Components */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Components
-- Item: vwComponents
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Components
-----               SCHEMA:      __mj
-----               BASE TABLE:  Component
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwComponents" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Components */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Components
-- Item: Permissions for vwComponents
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwComponents" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Components */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Components
-- Item: spCreateComponent
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Component
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateComponent" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Components */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateComponent" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Components */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Components
-- Item: spUpdateComponent
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Component
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateComponent" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateComponent" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Components */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Components
-- Item: spDeleteComponent
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Component
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteComponent" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Components */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteComponent" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Content Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Items
-- Item: vwContentItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Content Items
-----               SCHEMA:      __mj
-----               BASE TABLE:  ContentItem
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentItems" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Content Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Items
-- Item: Permissions for vwContentItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentItems" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Content Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Items
-- Item: spCreateContentItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ContentItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Content Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Content Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Items
-- Item: spUpdateContentItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ContentItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Content Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Items
-- Item: spDeleteContentItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ContentItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentItem" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Content Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentItem" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Content Process Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Process Runs
-- Item: vwContentProcessRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Content Process Runs
-----               SCHEMA:      __mj
-----               BASE TABLE:  ContentProcessRun
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentProcessRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Content Process Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Process Runs
-- Item: Permissions for vwContentProcessRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentProcessRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Content Process Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Process Runs
-- Item: spCreateContentProcessRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ContentProcessRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentProcessRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Content Process Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentProcessRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Content Process Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Process Runs
-- Item: spUpdateContentProcessRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ContentProcessRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentProcessRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentProcessRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Content Process Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Process Runs
-- Item: spDeleteContentProcessRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ContentProcessRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentProcessRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Content Process Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentProcessRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Content Source Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Source Params
-- Item: vwContentSourceParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Content Source Params
-----               SCHEMA:      __mj
-----               BASE TABLE:  ContentSourceParam
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentSourceParams" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Content Source Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Source Params
-- Item: Permissions for vwContentSourceParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentSourceParams" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Content Source Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Source Params
-- Item: spCreateContentSourceParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ContentSourceParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentSourceParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Content Source Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentSourceParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Content Source Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Source Params
-- Item: spUpdateContentSourceParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ContentSourceParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentSourceParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentSourceParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Content Source Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Source Params
-- Item: spDeleteContentSourceParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ContentSourceParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentSourceParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Content Source Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentSourceParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Content Sources */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Sources
-- Item: vwContentSources
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Content Sources
-----               SCHEMA:      __mj
-----               BASE TABLE:  ContentSource
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentSources" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Content Sources */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Sources
-- Item: Permissions for vwContentSources
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentSources" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Content Sources */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Sources
-- Item: spCreateContentSource
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ContentSource
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentSource" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Content Sources */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentSource" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Content Sources */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Sources
-- Item: spUpdateContentSource
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ContentSource
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentSource" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentSource" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Content Sources */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Sources
-- Item: spDeleteContentSource
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ContentSource
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentSource" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Content Sources */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentSource" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Content Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Types
-- Item: vwContentTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Content Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  ContentType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Content Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Types
-- Item: Permissions for vwContentTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwContentTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Content Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Types
-- Item: spCreateContentType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ContentType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Content Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateContentType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Content Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Types
-- Item: spUpdateContentType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ContentType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateContentType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Content Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Content Types
-- Item: spDeleteContentType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ContentType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Content Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteContentType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Conversation Artifact Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifact Permissions
-- Item: vwConversationArtifactPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Conversation Artifact Permissions
-----               SCHEMA:      __mj
-----               BASE TABLE:  ConversationArtifactPermission
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationArtifactPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Conversation Artifact Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifact Permissions
-- Item: Permissions for vwConversationArtifactPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationArtifactPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Conversation Artifact Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifact Permissions
-- Item: spCreateConversationArtifactPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ConversationArtifactPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationArtifactPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Conversation Artifact Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationArtifactPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Conversation Artifact Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifact Permissions
-- Item: spUpdateConversationArtifactPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ConversationArtifactPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationArtifactPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationArtifactPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Conversation Artifact Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifact Permissions
-- Item: spDeleteConversationArtifactPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ConversationArtifactPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationArtifactPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Conversation Artifact Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationArtifactPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Conversation Artifact Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifact Versions
-- Item: vwConversationArtifactVersions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Conversation Artifact Versions
-----               SCHEMA:      __mj
-----               BASE TABLE:  ConversationArtifactVersion
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationArtifactVersions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Conversation Artifact Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifact Versions
-- Item: Permissions for vwConversationArtifactVersions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationArtifactVersions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Conversation Artifact Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifact Versions
-- Item: spCreateConversationArtifactVersion
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ConversationArtifactVersion
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationArtifactVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Conversation Artifact Versions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationArtifactVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Conversation Artifact Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifact Versions
-- Item: spUpdateConversationArtifactVersion
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ConversationArtifactVersion
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationArtifactVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationArtifactVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Conversation Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifacts
-- Item: vwConversationArtifacts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Conversation Artifacts
-----               SCHEMA:      __mj
-----               BASE TABLE:  ConversationArtifact
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationArtifacts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Conversation Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifacts
-- Item: Permissions for vwConversationArtifacts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationArtifacts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Conversation Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifacts
-- Item: spCreateConversationArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ConversationArtifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationArtifact" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Conversation Artifacts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationArtifact" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Conversation Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifacts
-- Item: spUpdateConversationArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ConversationArtifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationArtifact" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationArtifact" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Conversation Artifact Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifact Versions
-- Item: spDeleteConversationArtifactVersion
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ConversationArtifactVersion
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationArtifactVersion" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Conversation Artifact Versions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationArtifactVersion" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Conversation Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Artifacts
-- Item: spDeleteConversationArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ConversationArtifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationArtifact" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Conversation Artifacts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationArtifact" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Conversation Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Details
-- Item: vwConversationDetails
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Conversation Details
-----               SCHEMA:      __mj
-----               BASE TABLE:  ConversationDetail
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationDetails" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Conversation Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Details
-- Item: Permissions for vwConversationDetails
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationDetails" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: Conversation Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Details
-- Item: spCreateConversationDetail
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ConversationDetail
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationDetail" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Conversation Details */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationDetail" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Conversation Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Details
-- Item: spUpdateConversationDetail
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ConversationDetail
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationDetail" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationDetail" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Conversation Detail Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Artifacts
-- Item: vwConversationDetailArtifacts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Conversation Detail Artifacts
-----               SCHEMA:      __mj
-----               BASE TABLE:  ConversationDetailArtifact
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationDetailArtifacts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Conversation Detail Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Artifacts
-- Item: Permissions for vwConversationDetailArtifacts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationDetailArtifacts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Conversation Detail Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Artifacts
-- Item: spCreateConversationDetailArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ConversationDetailArtifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationDetailArtifact" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Conversation Detail Artifacts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationDetailArtifact" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Conversation Detail Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Artifacts
-- Item: spUpdateConversationDetailArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ConversationDetailArtifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationDetailArtifact" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationDetailArtifact" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Conversation Detail Artifacts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Artifacts
-- Item: spDeleteConversationDetailArtifact
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ConversationDetailArtifact
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationDetailArtifact" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Conversation Detail Artifacts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationDetailArtifact" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Conversation Detail Ratings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Ratings
-- Item: vwConversationDetailRatings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Conversation Detail Ratings
-----               SCHEMA:      __mj
-----               BASE TABLE:  ConversationDetailRating
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationDetailRatings" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Conversation Detail Ratings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Ratings
-- Item: Permissions for vwConversationDetailRatings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationDetailRatings" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Conversation Detail Ratings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Ratings
-- Item: spCreateConversationDetailRating
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ConversationDetailRating
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationDetailRating" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Conversation Detail Ratings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationDetailRating" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Conversation Detail Ratings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Ratings
-- Item: spUpdateConversationDetailRating
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ConversationDetailRating
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationDetailRating" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationDetailRating" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Conversation Detail Ratings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Ratings
-- Item: spDeleteConversationDetailRating
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ConversationDetailRating
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationDetailRating" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Conversation Detail Ratings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationDetailRating" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Conversation Detail Attachments */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Attachments
-- Item: vwConversationDetailAttachments
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Conversation Detail Attachments
-----               SCHEMA:      __mj
-----               BASE TABLE:  ConversationDetailAttachment
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationDetailAttachments" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Conversation Detail Attachments */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Attachments
-- Item: Permissions for vwConversationDetailAttachments
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversationDetailAttachments" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Conversation Detail Attachments */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Attachments
-- Item: spCreateConversationDetailAttachment
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ConversationDetailAttachment
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationDetailAttachment" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Conversation Detail Attachments */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversationDetailAttachment" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Conversation Detail Attachments */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Attachments
-- Item: spUpdateConversationDetailAttachment
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ConversationDetailAttachment
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationDetailAttachment" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversationDetailAttachment" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Conversation Detail Attachments */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Detail Attachments
-- Item: spDeleteConversationDetailAttachment
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ConversationDetailAttachment
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationDetailAttachment" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Conversation Detail Attachments */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationDetailAttachment" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Conversations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversations
-- Item: vwConversations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Conversations
-----               SCHEMA:      __mj
-----               BASE TABLE:  Conversation
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversations" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Conversations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversations
-- Item: Permissions for vwConversations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwConversations" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: Conversations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversations
-- Item: spCreateConversation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Conversation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversation" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Conversations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateConversation" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Conversations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversations
-- Item: spUpdateConversation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Conversation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversation" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateConversation" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Conversations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversations
-- Item: spDeleteConversation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Conversation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversation" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Conversations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversation" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Conversation Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Conversation Details
-- Item: spDeleteConversationDetail
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ConversationDetail
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationDetail" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Conversation Details */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteConversationDetail" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Credential Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Credential Categories
-- Item: vwCredentialCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Credential Categories
-----               SCHEMA:      __mj
-----               BASE TABLE:  CredentialCategory
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwCredentialCategories" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Credential Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Credential Categories
-- Item: Permissions for vwCredentialCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwCredentialCategories" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Credential Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Credential Categories
-- Item: spCreateCredentialCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR CredentialCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCredentialCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Credential Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCredentialCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Credential Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Credential Categories
-- Item: spUpdateCredentialCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR CredentialCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCredentialCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCredentialCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Credential Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Credential Categories
-- Item: spDeleteCredentialCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR CredentialCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCredentialCategory" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Credential Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCredentialCategory" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Credentials */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Credentials
-- Item: vwCredentials
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Credentials
-----               SCHEMA:      __mj
-----               BASE TABLE:  Credential
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwCredentials" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Credentials */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Credentials
-- Item: Permissions for vwCredentials
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwCredentials" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Credentials */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Credentials
-- Item: spCreateCredential
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Credential
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCredential" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Credentials */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateCredential" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Credentials */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Credentials
-- Item: spUpdateCredential
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Credential
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCredential" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateCredential" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Credentials */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Credentials
-- Item: spDeleteCredential
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Credential
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCredential" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Credentials */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteCredential" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Dashboard Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Categories
-- Item: vwDashboardCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Dashboard Categories
-----               SCHEMA:      __mj
-----               BASE TABLE:  DashboardCategory
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardCategories" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Dashboard Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Categories
-- Item: Permissions for vwDashboardCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardCategories" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: Dashboard Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Categories
-- Item: spCreateDashboardCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DashboardCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardCategory" TO "cdp_Developer", "cdp_Integration", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Dashboard Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardCategory" TO "cdp_Developer", "cdp_Integration", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Dashboard Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Categories
-- Item: spUpdateDashboardCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DashboardCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardCategory" TO "cdp_Developer", "cdp_Integration", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardCategory" TO "cdp_Developer", "cdp_Integration", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Dashboard Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Categories
-- Item: spDeleteDashboardCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DashboardCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardCategory" TO "cdp_Developer", "cdp_Integration", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Dashboard Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardCategory" TO "cdp_Developer", "cdp_Integration", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Dashboard Category Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Category Links
-- Item: vwDashboardCategoryLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Dashboard Category Links
-----               SCHEMA:      __mj
-----               BASE TABLE:  DashboardCategoryLink
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardCategoryLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Dashboard Category Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Category Links
-- Item: Permissions for vwDashboardCategoryLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardCategoryLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Dashboard Category Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Category Links
-- Item: spCreateDashboardCategoryLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DashboardCategoryLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardCategoryLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Dashboard Category Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardCategoryLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Dashboard Category Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Category Links
-- Item: spUpdateDashboardCategoryLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DashboardCategoryLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardCategoryLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardCategoryLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Dashboard Category Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Category Links
-- Item: spDeleteDashboardCategoryLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DashboardCategoryLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardCategoryLink" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Dashboard Category Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardCategoryLink" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Dashboard Category Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Category Permissions
-- Item: vwDashboardCategoryPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Dashboard Category Permissions
-----               SCHEMA:      __mj
-----               BASE TABLE:  DashboardCategoryPermission
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardCategoryPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Dashboard Category Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Category Permissions
-- Item: Permissions for vwDashboardCategoryPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardCategoryPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Dashboard Category Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Category Permissions
-- Item: spCreateDashboardCategoryPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DashboardCategoryPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardCategoryPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Dashboard Category Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardCategoryPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Dashboard Category Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Category Permissions
-- Item: spUpdateDashboardCategoryPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DashboardCategoryPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardCategoryPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardCategoryPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Dashboard Category Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Category Permissions
-- Item: spDeleteDashboardCategoryPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DashboardCategoryPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardCategoryPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Dashboard Category Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardCategoryPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Dashboard Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Permissions
-- Item: vwDashboardPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Dashboard Permissions
-----               SCHEMA:      __mj
-----               BASE TABLE:  DashboardPermission
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Dashboard Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Permissions
-- Item: Permissions for vwDashboardPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Dashboard Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Permissions
-- Item: spCreateDashboardPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DashboardPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Dashboard Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Dashboard Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Permissions
-- Item: spUpdateDashboardPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DashboardPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Dashboard Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard Permissions
-- Item: spDeleteDashboardPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DashboardPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Dashboard Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Dashboard User Preferences */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard User Preferences
-- Item: vwDashboardUserPreferences
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Dashboard User Preferences
-----               SCHEMA:      __mj
-----               BASE TABLE:  DashboardUserPreference
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardUserPreferences" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Dashboard User Preferences */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard User Preferences
-- Item: Permissions for vwDashboardUserPreferences
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardUserPreferences" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Dashboard User Preferences */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard User Preferences
-- Item: spCreateDashboardUserPreference
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DashboardUserPreference
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardUserPreference" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Dashboard User Preferences */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardUserPreference" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Dashboard User Preferences */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard User Preferences
-- Item: spUpdateDashboardUserPreference
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DashboardUserPreference
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardUserPreference" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardUserPreference" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Dashboard User Preferences */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard User Preferences
-- Item: spDeleteDashboardUserPreference
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DashboardUserPreference
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardUserPreference" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Dashboard User Preferences */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardUserPreference" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Dashboard User States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard User States
-- Item: vwDashboardUserStates
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Dashboard User States
-----               SCHEMA:      __mj
-----               BASE TABLE:  DashboardUserState
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardUserStates" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Dashboard User States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard User States
-- Item: Permissions for vwDashboardUserStates
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboardUserStates" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Dashboard User States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard User States
-- Item: spCreateDashboardUserState
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DashboardUserState
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardUserState" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Dashboard User States */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboardUserState" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Dashboard User States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard User States
-- Item: spUpdateDashboardUserState
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DashboardUserState
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardUserState" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboardUserState" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Dashboard User States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboard User States
-- Item: spDeleteDashboardUserState
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DashboardUserState
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardUserState" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Dashboard User States */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboardUserState" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Dashboards */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboards
-- Item: vwDashboards
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Dashboards
-----               SCHEMA:      __mj
-----               BASE TABLE:  Dashboard
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboards" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Dashboards */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboards
-- Item: Permissions for vwDashboards
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDashboards" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: Dashboards */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboards
-- Item: spCreateDashboard
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Dashboard
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboard" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Dashboards */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDashboard" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Dashboards */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboards
-- Item: spUpdateDashboard
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Dashboard
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboard" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDashboard" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Dashboards */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dashboards
-- Item: spDeleteDashboard
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Dashboard
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboard" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Dashboards */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDashboard" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Data Context Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Data Context Items
-- Item: vwDataContextItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Data Context Items
-----               SCHEMA:      __mj
-----               BASE TABLE:  DataContextItem
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDataContextItems" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Data Context Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Data Context Items
-- Item: Permissions for vwDataContextItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDataContextItems" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Data Context Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Data Context Items
-- Item: spCreateDataContextItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DataContextItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDataContextItem" TO "cdp_UI", "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Data Context Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDataContextItem" TO "cdp_UI", "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Data Context Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Data Context Items
-- Item: spUpdateDataContextItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DataContextItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDataContextItem" TO "cdp_UI", "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDataContextItem" TO "cdp_UI", "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Data Context Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Data Context Items
-- Item: spDeleteDataContextItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DataContextItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDataContextItem" TO "cdp_UI", "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Data Context Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDataContextItem" TO "cdp_UI", "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Data Contexts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Data Contexts
-- Item: vwDataContexts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Data Contexts
-----               SCHEMA:      __mj
-----               BASE TABLE:  DataContext
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDataContexts" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Data Contexts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Data Contexts
-- Item: Permissions for vwDataContexts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDataContexts" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: Data Contexts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Data Contexts
-- Item: spCreateDataContext
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DataContext
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDataContext" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Data Contexts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDataContext" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Data Contexts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Data Contexts
-- Item: spUpdateDataContext
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DataContext
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDataContext" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDataContext" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Data Contexts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Data Contexts
-- Item: spDeleteDataContext
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DataContext
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDataContext" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Data Contexts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDataContext" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Dataset Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dataset Items
-- Item: vwDatasetItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Dataset Items
-----               SCHEMA:      __mj
-----               BASE TABLE:  DatasetItem
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDatasetItems" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Dataset Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dataset Items
-- Item: Permissions for vwDatasetItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDatasetItems" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Dataset Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Dataset Items
-- Item: spCreateDatasetItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DatasetItem
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDuplicateRunDetails" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Duplicate Run Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Run Details
-- Item: Permissions for vwDuplicateRunDetails
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDuplicateRunDetails" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Duplicate Run Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Run Details
-- Item: spCreateDuplicateRunDetail
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DuplicateRunDetail
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDuplicateRunDetail" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Duplicate Run Details */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDuplicateRunDetail" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Duplicate Run Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Run Details
-- Item: spUpdateDuplicateRunDetail
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DuplicateRunDetail
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDuplicateRunDetail" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDuplicateRunDetail" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Duplicate Run Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Run Details
-- Item: spDeleteDuplicateRunDetail
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DuplicateRunDetail
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDuplicateRunDetail" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Duplicate Run Details */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDuplicateRunDetail" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Duplicate Run Detail Matches */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Run Detail Matches
-- Item: vwDuplicateRunDetailMatches
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Duplicate Run Detail Matches
-----               SCHEMA:      __mj
-----               BASE TABLE:  DuplicateRunDetailMatch
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDuplicateRunDetailMatches" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Duplicate Run Detail Matches */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Run Detail Matches
-- Item: Permissions for vwDuplicateRunDetailMatches
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDuplicateRunDetailMatches" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Duplicate Run Detail Matches */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Run Detail Matches
-- Item: spCreateDuplicateRunDetailMatch
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DuplicateRunDetailMatch
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDuplicateRunDetailMatch" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Duplicate Run Detail Matches */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDuplicateRunDetailMatch" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Duplicate Run Detail Matches */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Run Detail Matches
-- Item: spUpdateDuplicateRunDetailMatch
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DuplicateRunDetailMatch
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDuplicateRunDetailMatch" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDuplicateRunDetailMatch" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Duplicate Run Detail Matches */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Run Detail Matches
-- Item: spDeleteDuplicateRunDetailMatch
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DuplicateRunDetailMatch
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDuplicateRunDetailMatch" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Duplicate Run Detail Matches */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDuplicateRunDetailMatch" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Duplicate Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Runs
-- Item: vwDuplicateRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Duplicate Runs
-----               SCHEMA:      __mj
-----               BASE TABLE:  DuplicateRun
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwDuplicateRuns" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Duplicate Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Runs
-- Item: Permissions for vwDuplicateRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwDuplicateRuns" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: Duplicate Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Runs
-- Item: spCreateDuplicateRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR DuplicateRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDuplicateRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Duplicate Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateDuplicateRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Duplicate Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Runs
-- Item: spUpdateDuplicateRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR DuplicateRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDuplicateRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateDuplicateRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Duplicate Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Duplicate Runs
-- Item: spDeleteDuplicateRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR DuplicateRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDuplicateRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Duplicate Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteDuplicateRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Employee Company Integrations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Company Integrations
-- Item: vwEmployeeCompanyIntegrations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Employee Company Integrations
-----               SCHEMA:      __mj
-----               BASE TABLE:  EmployeeCompanyIntegration
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEmployeeCompanyIntegrations" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Employee Company Integrations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Company Integrations
-- Item: Permissions for vwEmployeeCompanyIntegrations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEmployeeCompanyIntegrations" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: Employee Company Integrations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Company Integrations
-- Item: spCreateEmployeeCompanyIntegration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EmployeeCompanyIntegration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEmployeeCompanyIntegration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Employee Company Integrations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEmployeeCompanyIntegration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Employee Company Integrations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Company Integrations
-- Item: spUpdateEmployeeCompanyIntegration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EmployeeCompanyIntegration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEmployeeCompanyIntegration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEmployeeCompanyIntegration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Employee Company Integrations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Company Integrations
-- Item: spDeleteEmployeeCompanyIntegration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EmployeeCompanyIntegration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEmployeeCompanyIntegration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Employee Company Integrations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEmployeeCompanyIntegration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Employee Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Roles
-- Item: vwEmployeeRoles
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Employee Roles
-----               SCHEMA:      __mj
-----               BASE TABLE:  EmployeeRole
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEmployeeRoles" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Employee Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Roles
-- Item: Permissions for vwEmployeeRoles
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEmployeeRoles" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Employee Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Roles
-- Item: spCreateEmployeeRole
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EmployeeRole
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEmployeeRole" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Employee Roles */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEmployeeRole" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Employee Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Roles
-- Item: spUpdateEmployeeRole
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EmployeeRole
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEmployeeRole" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEmployeeRole" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Employee Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Roles
-- Item: spDeleteEmployeeRole
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EmployeeRole
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEmployeeRole" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Employee Roles */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEmployeeRole" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Employee Skills */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Skills
-- Item: vwEmployeeSkills
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Employee Skills
-----               SCHEMA:      __mj
-----               BASE TABLE:  EmployeeSkill
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEmployeeSkills" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Employee Skills */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Skills
-- Item: Permissions for vwEmployeeSkills
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEmployeeSkills" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Employee Skills */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Skills
-- Item: spCreateEmployeeSkill
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EmployeeSkill
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEmployeeSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Employee Skills */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEmployeeSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Employee Skills */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Skills
-- Item: spUpdateEmployeeSkill
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EmployeeSkill
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEmployeeSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEmployeeSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Employee Skills */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Employee Skills
-- Item: spDeleteEmployeeSkill
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EmployeeSkill
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEmployeeSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Employee Skills */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEmployeeSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Encryption Keys */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Encryption Keys
-- Item: vwEncryptionKeys
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Encryption Keys
-----               SCHEMA:      __mj
-----               BASE TABLE:  EncryptionKey
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEncryptionKeys" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Encryption Keys */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Encryption Keys
-- Item: Permissions for vwEncryptionKeys
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEncryptionKeys" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Encryption Keys */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Encryption Keys
-- Item: spCreateEncryptionKey
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EncryptionKey
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEncryptionKey" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Encryption Keys */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEncryptionKey" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Encryption Keys */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Encryption Keys
-- Item: spUpdateEncryptionKey
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EncryptionKey
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEncryptionKey" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEncryptionKey" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Encryption Keys */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Encryption Keys
-- Item: spDeleteEncryptionKey
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EncryptionKey
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEncryptionKey" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Encryption Keys */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEncryptionKey" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Index for Foreign Keys for Entity */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entities
-- Item: Index for Foreign Keys
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------
-- Index for foreign key ParentID in table Entity;

-- SKIPPED (view not created): GRANT SELECT ON __mj."vwEntities" TO "cdp_Developer", "cdp_Integration", "cdp_UI"

/* spCreate SQL for MJ: Entities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entities
-- Item: spCreateEntity
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Entity
------------------------------------------------------------

-- SKIPPED (function not created): GRANT EXECUTE ON __mj."spCreateEntity" TO "cdp_Developer", "cdp_Integration"
    

/* spCreate Permissions for MJ: Entities */

-- SKIPPED (function not created): GRANT EXECUTE ON __mj."spCreateEntity" TO "cdp_Developer", "cdp_Integration"


/* spUpdate SQL for MJ: Entities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entities
-- Item: spUpdateEntity
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Entity
------------------------------------------------------------

-- SKIPPED (function not created): GRANT EXECUTE ON __mj."spUpdateEntity" TO "cdp_Developer", "cdp_Integration"

-- SKIPPED (function not created): GRANT EXECUTE ON __mj."spUpdateEntity" TO "cdp_Developer", "cdp_Integration"


/* spDelete SQL for MJ: Entities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entities
-- Item: spDeleteEntity
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Entity
------------------------------------------------------------

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntity" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entities */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntity" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Action Invocations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Invocations
-- Item: vwEntityActionInvocations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Action Invocations
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityActionInvocation
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityActionInvocations" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Entity Action Invocations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Invocations
-- Item: Permissions for vwEntityActionInvocations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityActionInvocations" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Entity Action Invocations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Invocations
-- Item: spCreateEntityActionInvocation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityActionInvocation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityActionInvocation" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Action Invocations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityActionInvocation" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Action Invocations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Invocations
-- Item: spUpdateEntityActionInvocation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityActionInvocation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityActionInvocation" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityActionInvocation" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Action Invocations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Invocations
-- Item: spDeleteEntityActionInvocation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityActionInvocation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityActionInvocation" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Action Invocations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityActionInvocation" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Action Filters */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Filters
-- Item: vwEntityActionFilters
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Action Filters
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityActionFilter
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityActionFilters" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Entity Action Filters */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Filters
-- Item: Permissions for vwEntityActionFilters
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityActionFilters" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Entity Action Filters */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Filters
-- Item: spCreateEntityActionFilter
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityActionFilter
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityActionFilter" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Action Filters */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityActionFilter" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Action Filters */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Filters
-- Item: spUpdateEntityActionFilter
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityActionFilter
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityActionFilter" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityActionFilter" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Action Filters */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Filters
-- Item: spDeleteEntityActionFilter
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityActionFilter
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityActionFilter" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Action Filters */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityActionFilter" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Params
-- Item: vwEntityActionParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Action Params
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityActionParam
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityActionParams" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Entity Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Params
-- Item: Permissions for vwEntityActionParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityActionParams" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: Entity Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Params
-- Item: spCreateEntityActionParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityActionParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityActionParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Action Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityActionParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Params
-- Item: spUpdateEntityActionParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityActionParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityActionParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityActionParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Action Params
-- Item: spDeleteEntityActionParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityActionParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityActionParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Action Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityActionParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Communication Fields */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Communication Fields
-- Item: vwEntityCommunicationFields
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Communication Fields
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityCommunicationField
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityCommunicationFields" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Entity Communication Fields */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Communication Fields
-- Item: Permissions for vwEntityCommunicationFields
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityCommunicationFields" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Entity Communication Fields */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Communication Fields
-- Item: spCreateEntityCommunicationField
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityCommunicationField
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityCommunicationField" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Communication Fields */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityCommunicationField" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Communication Fields */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Communication Fields
-- Item: spUpdateEntityCommunicationField
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityCommunicationField
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityCommunicationField" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityCommunicationField" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Communication Fields */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Communication Fields
-- Item: spDeleteEntityCommunicationField
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityCommunicationField
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityCommunicationField" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Communication Fields */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityCommunicationField" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Actions
-- Item: vwEntityActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Actions
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityAction
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityActions" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Entity Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Actions
-- Item: Permissions for vwEntityActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityActions" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Entity Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Actions
-- Item: spCreateEntityAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Actions
-- Item: spUpdateEntityAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Actions
-- Item: spDeleteEntityAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityAction" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityAction" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity AI Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity AI Actions
-- Item: vwEntityAIActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity AI Actions
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityAIAction
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityAIActions" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Entity AI Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity AI Actions
-- Item: Permissions for vwEntityAIActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityAIActions" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Entity AI Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity AI Actions
-- Item: spCreateEntityAIAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityAIAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityAIAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity AI Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityAIAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity AI Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity AI Actions
-- Item: spUpdateEntityAIAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityAIAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityAIAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityAIAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity AI Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity AI Actions
-- Item: spDeleteEntityAIAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityAIAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityAIAction" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity AI Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityAIAction" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Communication Message Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Communication Message Types
-- Item: vwEntityCommunicationMessageTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Communication Message Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityCommunicationMessageType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityCommunicationMessageTypes" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Entity Communication Message Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Communication Message Types
-- Item: Permissions for vwEntityCommunicationMessageTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityCommunicationMessageTypes" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Entity Communication Message Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Communication Message Types
-- Item: spCreateEntityCommunicationMessageType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityCommunicationMessageType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityCommunicationMessageType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Communication Message Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityCommunicationMessageType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Communication Message Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Communication Message Types
-- Item: spUpdateEntityCommunicationMessageType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityCommunicationMessageType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityCommunicationMessageType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityCommunicationMessageType" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Communication Message Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Communication Message Types
-- Item: spDeleteEntityCommunicationMessageType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityCommunicationMessageType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityCommunicationMessageType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Communication Message Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityCommunicationMessageType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Document Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Document Runs
-- Item: vwEntityDocumentRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Document Runs
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityDocumentRun
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityDocumentRuns" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Entity Document Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Document Runs
-- Item: Permissions for vwEntityDocumentRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityDocumentRuns" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Entity Document Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Document Runs
-- Item: spCreateEntityDocumentRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityDocumentRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityDocumentRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Document Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityDocumentRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Document Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Document Runs
-- Item: spUpdateEntityDocumentRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityDocumentRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityDocumentRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityDocumentRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Document Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Document Runs
-- Item: spDeleteEntityDocumentRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityDocumentRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityDocumentRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Document Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityDocumentRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Document Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Document Settings
-- Item: vwEntityDocumentSettings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Document Settings
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityDocumentSetting
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityDocumentSettings" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Entity Document Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Document Settings
-- Item: Permissions for vwEntityDocumentSettings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityDocumentSettings" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Entity Document Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Document Settings
-- Item: spCreateEntityDocumentSetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityDocumentSetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityDocumentSetting" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Document Settings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityDocumentSetting" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Document Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Document Settings
-- Item: spUpdateEntityDocumentSetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityDocumentSetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityDocumentSetting" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityDocumentSetting" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Document Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Document Settings
-- Item: spDeleteEntityDocumentSetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityDocumentSetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityDocumentSetting" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Document Settings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityDocumentSetting" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Documents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Documents
-- Item: vwEntityDocuments
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Documents
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityDocument
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityDocuments" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Entity Documents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Documents
-- Item: Permissions for vwEntityDocuments
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityDocuments" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Entity Documents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Documents
-- Item: spCreateEntityDocument
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityDocument
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityDocument" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Documents */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityDocument" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Documents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Documents
-- Item: spUpdateEntityDocument
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityDocument
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityDocument" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityDocument" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Documents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Documents
-- Item: spDeleteEntityDocument
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityDocument
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityDocument" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Documents */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityDocument" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Record Documents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Record Documents
-- Item: vwEntityRecordDocuments
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Record Documents
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntityRecordDocument
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityRecordDocuments" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Entity Record Documents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Record Documents
-- Item: Permissions for vwEntityRecordDocuments
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntityRecordDocuments" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: Entity Record Documents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Record Documents
-- Item: spCreateEntityRecordDocument
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntityRecordDocument
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityRecordDocument" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Record Documents */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntityRecordDocument" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Record Documents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Record Documents
-- Item: spUpdateEntityRecordDocument
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntityRecordDocument
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityRecordDocument" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntityRecordDocument" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Record Documents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Record Documents
-- Item: spDeleteEntityRecordDocument
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntityRecordDocument
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityRecordDocument" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Record Documents */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntityRecordDocument" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Entity Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Settings
-- Item: vwEntitySettings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Entity Settings
-----               SCHEMA:      __mj
-----               BASE TABLE:  EntitySetting
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntitySettings" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Entity Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Settings
-- Item: Permissions for vwEntitySettings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwEntitySettings" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: Entity Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Settings
-- Item: spCreateEntitySetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR EntitySetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntitySetting" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Entity Settings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateEntitySetting" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Entity Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Settings
-- Item: spUpdateEntitySetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR EntitySetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntitySetting" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateEntitySetting" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Entity Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Entity Settings
-- Item: spDeleteEntitySetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR EntitySetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntitySetting" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Entity Settings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteEntitySetting" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: File Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Categories
-- Item: vwFileCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: File Categories
-----               SCHEMA:      __mj
-----               BASE TABLE:  FileCategory
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwFileCategories" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: File Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Categories
-- Item: Permissions for vwFileCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwFileCategories" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: File Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Categories
-- Item: spCreateFileCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR FileCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateFileCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: File Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateFileCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: File Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Categories
-- Item: spUpdateFileCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR FileCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateFileCategory" TO "cdp_UI", "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateFileCategory" TO "cdp_UI", "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: File Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Categories
-- Item: spDeleteFileCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR FileCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteFileCategory" TO "cdp_UI", "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: File Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteFileCategory" TO "cdp_UI", "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Error Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Error Logs
-- Item: vwErrorLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Error Logs
-----               SCHEMA:      __mj
-----               BASE TABLE:  ErrorLog
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwErrorLogs" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Error Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Error Logs
-- Item: Permissions for vwErrorLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwErrorLogs" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Error Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Error Logs
-- Item: spCreateErrorLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ErrorLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateErrorLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Error Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateErrorLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Error Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Error Logs
-- Item: spUpdateErrorLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ErrorLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateErrorLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateErrorLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Error Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Error Logs
-- Item: spDeleteErrorLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ErrorLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteErrorLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Error Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteErrorLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: File Entity Record Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Entity Record Links
-- Item: vwFileEntityRecordLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: File Entity Record Links
-----               SCHEMA:      __mj
-----               BASE TABLE:  FileEntityRecordLink
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwFileEntityRecordLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: File Entity Record Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Entity Record Links
-- Item: Permissions for vwFileEntityRecordLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwFileEntityRecordLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: File Entity Record Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Entity Record Links
-- Item: spCreateFileEntityRecordLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR FileEntityRecordLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateFileEntityRecordLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: File Entity Record Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateFileEntityRecordLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: File Entity Record Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Entity Record Links
-- Item: spUpdateFileEntityRecordLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR FileEntityRecordLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateFileEntityRecordLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateFileEntityRecordLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: File Entity Record Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Entity Record Links
-- Item: spDeleteFileEntityRecordLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR FileEntityRecordLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteFileEntityRecordLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: File Entity Record Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteFileEntityRecordLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Files */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Files
-- Item: vwFiles
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Files
-----               SCHEMA:      __mj
-----               BASE TABLE:  File
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwFiles" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Files */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Files
-- Item: Permissions for vwFiles
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwFiles" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Files */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Files
-- Item: spCreateFile
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR File
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateFile" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Files */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateFile" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Files */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Files
-- Item: spUpdateFile
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR File
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateFile" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateFile" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Files */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Files
-- Item: spDeleteFile
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR File
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteFile" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Files */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteFile" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: File Storage Accounts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Storage Accounts
-- Item: vwFileStorageAccounts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: File Storage Accounts
-----               SCHEMA:      __mj
-----               BASE TABLE:  FileStorageAccount
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwFileStorageAccounts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: File Storage Accounts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Storage Accounts
-- Item: Permissions for vwFileStorageAccounts
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwFileStorageAccounts" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: File Storage Accounts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Storage Accounts
-- Item: spCreateFileStorageAccount
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR FileStorageAccount
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateFileStorageAccount" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: File Storage Accounts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateFileStorageAccount" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: File Storage Accounts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Storage Accounts
-- Item: spUpdateFileStorageAccount
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR FileStorageAccount
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateFileStorageAccount" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateFileStorageAccount" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: File Storage Accounts */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: File Storage Accounts
-- Item: spDeleteFileStorageAccount
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR FileStorageAccount
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteFileStorageAccount" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: File Storage Accounts */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteFileStorageAccount" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Generated Code Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Generated Code Categories
-- Item: vwGeneratedCodeCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Generated Code Categories
-----               SCHEMA:      __mj
-----               BASE TABLE:  GeneratedCodeCategory
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwGeneratedCodeCategories" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Generated Code Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Generated Code Categories
-- Item: Permissions for vwGeneratedCodeCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwGeneratedCodeCategories" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Generated Code Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Generated Code Categories
-- Item: spCreateGeneratedCodeCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR GeneratedCodeCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateGeneratedCodeCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Generated Code Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateGeneratedCodeCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Generated Code Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Generated Code Categories
-- Item: spUpdateGeneratedCodeCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR GeneratedCodeCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateGeneratedCodeCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateGeneratedCodeCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Generated Code Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Generated Code Categories
-- Item: spDeleteGeneratedCodeCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR GeneratedCodeCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteGeneratedCodeCategory" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Generated Code Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteGeneratedCodeCategory" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Generated Codes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Generated Codes
-- Item: vwGeneratedCodes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Generated Codes
-----               SCHEMA:      __mj
-----               BASE TABLE:  GeneratedCode
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwGeneratedCodes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Generated Codes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Generated Codes
-- Item: Permissions for vwGeneratedCodes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwGeneratedCodes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Generated Codes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Generated Codes
-- Item: spCreateGeneratedCode
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR GeneratedCode
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateGeneratedCode" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Generated Codes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateGeneratedCode" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Generated Codes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Generated Codes
-- Item: spUpdateGeneratedCode
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR GeneratedCode
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateGeneratedCode" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateGeneratedCode" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Generated Codes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Generated Codes
-- Item: spDeleteGeneratedCode
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR GeneratedCode
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteGeneratedCode" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Generated Codes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteGeneratedCode" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Library Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Library Items
-- Item: vwLibraryItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Library Items
-----               SCHEMA:      __mj
-----               BASE TABLE:  LibraryItem
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwLibraryItems" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Library Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Library Items
-- Item: Permissions for vwLibraryItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwLibraryItems" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: Library Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Library Items
-- Item: spCreateLibraryItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR LibraryItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateLibraryItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Library Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateLibraryItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Library Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Library Items
-- Item: spUpdateLibraryItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR LibraryItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateLibraryItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateLibraryItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Library Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Library Items
-- Item: spDeleteLibraryItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR LibraryItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteLibraryItem" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Library Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteLibraryItem" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: List Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Categories
-- Item: vwListCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: List Categories
-----               SCHEMA:      __mj
-----               BASE TABLE:  ListCategory
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwListCategories" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: List Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Categories
-- Item: Permissions for vwListCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwListCategories" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: List Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Categories
-- Item: spCreateListCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ListCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateListCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: List Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateListCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: List Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Categories
-- Item: spUpdateListCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ListCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateListCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateListCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: List Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Categories
-- Item: spDeleteListCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ListCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteListCategory" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: List Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteListCategory" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: List Invitations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Invitations
-- Item: vwListInvitations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: List Invitations
-----               SCHEMA:      __mj
-----               BASE TABLE:  ListInvitation
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwListInvitations" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: List Invitations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Invitations
-- Item: Permissions for vwListInvitations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwListInvitations" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: List Invitations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Invitations
-- Item: spCreateListInvitation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ListInvitation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateListInvitation" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: List Invitations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateListInvitation" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: List Invitations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Invitations
-- Item: spUpdateListInvitation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ListInvitation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateListInvitation" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateListInvitation" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: List Invitations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Invitations
-- Item: spDeleteListInvitation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ListInvitation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteListInvitation" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: List Invitations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteListInvitation" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Lists */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Lists
-- Item: vwLists
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Lists
-----               SCHEMA:      __mj
-----               BASE TABLE:  List
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwLists" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Lists */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Lists
-- Item: Permissions for vwLists
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwLists" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: Lists */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Lists
-- Item: spCreateList
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR List
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateList" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Lists */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateList" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Lists */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Lists
-- Item: spUpdateList
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR List
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateList" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateList" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Lists */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Lists
-- Item: spDeleteList
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR List
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteList" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Lists */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteList" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: List Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Details
-- Item: vwListDetails
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: List Details
-----               SCHEMA:      __mj
-----               BASE TABLE:  ListDetail
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwListDetails" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: List Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Details
-- Item: Permissions for vwListDetails
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwListDetails" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: List Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Details
-- Item: spCreateListDetail
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ListDetail
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateListDetail" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: List Details */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateListDetail" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: List Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Details
-- Item: spUpdateListDetail
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ListDetail
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateListDetail" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateListDetail" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: List Details */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Details
-- Item: spDeleteListDetail
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ListDetail
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteListDetail" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: List Details */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteListDetail" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: List Shares */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Shares
-- Item: vwListShares
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: List Shares
-----               SCHEMA:      __mj
-----               BASE TABLE:  ListShare
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwListShares" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: List Shares */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Shares
-- Item: Permissions for vwListShares
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwListShares" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: List Shares */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Shares
-- Item: spCreateListShare
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ListShare
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateListShare" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: List Shares */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateListShare" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: List Shares */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Shares
-- Item: spUpdateListShare
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ListShare
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateListShare" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateListShare" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: List Shares */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: List Shares
-- Item: spDeleteListShare
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ListShare
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteListShare" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: List Shares */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteListShare" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: MCP Server Connection Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connection Permissions
-- Item: vwMCPServerConnectionPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: MCP Server Connection Permissions
-----               SCHEMA:      __mj
-----               BASE TABLE:  MCPServerConnectionPermission
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPServerConnectionPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: MCP Server Connection Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connection Permissions
-- Item: Permissions for vwMCPServerConnectionPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPServerConnectionPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: MCP Server Connection Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connection Permissions
-- Item: spCreateMCPServerConnectionPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR MCPServerConnectionPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPServerConnectionPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: MCP Server Connection Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPServerConnectionPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: MCP Server Connection Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connection Permissions
-- Item: spUpdateMCPServerConnectionPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR MCPServerConnectionPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPServerConnectionPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPServerConnectionPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: MCP Server Connection Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connection Permissions
-- Item: spDeleteMCPServerConnectionPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR MCPServerConnectionPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPServerConnectionPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: MCP Server Connection Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPServerConnectionPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: MCP Server Connection Tools */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connection Tools
-- Item: vwMCPServerConnectionTools
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: MCP Server Connection Tools
-----               SCHEMA:      __mj
-----               BASE TABLE:  MCPServerConnectionTool
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPServerConnectionTools" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: MCP Server Connection Tools */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connection Tools
-- Item: Permissions for vwMCPServerConnectionTools
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPServerConnectionTools" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: MCP Server Connection Tools */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connection Tools
-- Item: spCreateMCPServerConnectionTool
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR MCPServerConnectionTool
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPServerConnectionTool" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: MCP Server Connection Tools */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPServerConnectionTool" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: MCP Server Connection Tools */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connection Tools
-- Item: spUpdateMCPServerConnectionTool
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR MCPServerConnectionTool
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPServerConnectionTool" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPServerConnectionTool" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: MCP Server Connection Tools */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connection Tools
-- Item: spDeleteMCPServerConnectionTool
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR MCPServerConnectionTool
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPServerConnectionTool" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: MCP Server Connection Tools */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPServerConnectionTool" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: MCP Servers */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Servers
-- Item: vwMCPServers
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: MCP Servers
-----               SCHEMA:      __mj
-----               BASE TABLE:  MCPServer
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPServers" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: MCP Servers */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Servers
-- Item: Permissions for vwMCPServers
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPServers" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: MCP Servers */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Servers
-- Item: spCreateMCPServer
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR MCPServer
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPServer" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: MCP Servers */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPServer" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: MCP Servers */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Servers
-- Item: spUpdateMCPServer
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR MCPServer
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPServer" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPServer" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: MCP Servers */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Servers
-- Item: spDeleteMCPServer
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR MCPServer
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPServer" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: MCP Servers */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPServer" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: MCP Server Connections */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connections
-- Item: vwMCPServerConnections
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: MCP Server Connections
-----               SCHEMA:      __mj
-----               BASE TABLE:  MCPServerConnection
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPServerConnections" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: MCP Server Connections */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connections
-- Item: Permissions for vwMCPServerConnections
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPServerConnections" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: MCP Server Connections */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connections
-- Item: spCreateMCPServerConnection
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR MCPServerConnection
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPServerConnection" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: MCP Server Connections */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPServerConnection" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: MCP Server Connections */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connections
-- Item: spUpdateMCPServerConnection
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR MCPServerConnection
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPServerConnection" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPServerConnection" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: MCP Server Connections */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Connections
-- Item: spDeleteMCPServerConnection
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR MCPServerConnection
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPServerConnection" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: MCP Server Connections */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPServerConnection" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: MCP Server Tools */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Tools
-- Item: vwMCPServerTools
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: MCP Server Tools
-----               SCHEMA:      __mj
-----               BASE TABLE:  MCPServerTool
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPServerTools" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: MCP Server Tools */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Tools
-- Item: Permissions for vwMCPServerTools
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPServerTools" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: MCP Server Tools */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Tools
-- Item: spCreateMCPServerTool
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR MCPServerTool
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPServerTool" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: MCP Server Tools */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPServerTool" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: MCP Server Tools */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Tools
-- Item: spUpdateMCPServerTool
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR MCPServerTool
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPServerTool" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPServerTool" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: MCP Server Tools */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Server Tools
-- Item: spDeleteMCPServerTool
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR MCPServerTool
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPServerTool" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: MCP Server Tools */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPServerTool" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: MCP Tool Execution Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Tool Execution Logs
-- Item: vwMCPToolExecutionLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: MCP Tool Execution Logs
-----               SCHEMA:      __mj
-----               BASE TABLE:  MCPToolExecutionLog
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPToolExecutionLogs" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: MCP Tool Execution Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Tool Execution Logs
-- Item: Permissions for vwMCPToolExecutionLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwMCPToolExecutionLogs" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: MCP Tool Execution Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Tool Execution Logs
-- Item: spCreateMCPToolExecutionLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR MCPToolExecutionLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPToolExecutionLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: MCP Tool Execution Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateMCPToolExecutionLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: MCP Tool Execution Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Tool Execution Logs
-- Item: spUpdateMCPToolExecutionLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR MCPToolExecutionLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPToolExecutionLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateMCPToolExecutionLog" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: MCP Tool Execution Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: MCP Tool Execution Logs
-- Item: spDeleteMCPToolExecutionLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR MCPToolExecutionLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPToolExecutionLog" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: MCP Tool Execution Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteMCPToolExecutionLog" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: O Auth Tokens */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Tokens
-- Item: vwOAuthTokens
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: O Auth Tokens
-----               SCHEMA:      __mj
-----               BASE TABLE:  OAuthToken
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwOAuthTokens" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: O Auth Tokens */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Tokens
-- Item: Permissions for vwOAuthTokens
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwOAuthTokens" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: O Auth Tokens */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Tokens
-- Item: spCreateOAuthToken
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR OAuthToken
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateOAuthToken" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: O Auth Tokens */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateOAuthToken" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: O Auth Tokens */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Tokens
-- Item: spUpdateOAuthToken
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR OAuthToken
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateOAuthToken" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateOAuthToken" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: O Auth Tokens */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Tokens
-- Item: spDeleteOAuthToken
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR OAuthToken
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteOAuthToken" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: O Auth Tokens */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteOAuthToken" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: O Auth Authorization States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Authorization States
-- Item: vwOAuthAuthorizationStates
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: O Auth Authorization States
-----               SCHEMA:      __mj
-----               BASE TABLE:  OAuthAuthorizationState
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwOAuthAuthorizationStates" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: O Auth Authorization States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Authorization States
-- Item: Permissions for vwOAuthAuthorizationStates
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwOAuthAuthorizationStates" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: O Auth Authorization States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Authorization States
-- Item: spCreateOAuthAuthorizationState
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR OAuthAuthorizationState
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateOAuthAuthorizationState" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: O Auth Authorization States */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateOAuthAuthorizationState" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: O Auth Authorization States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Authorization States
-- Item: spUpdateOAuthAuthorizationState
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR OAuthAuthorizationState
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateOAuthAuthorizationState" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateOAuthAuthorizationState" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: O Auth Authorization States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Authorization States
-- Item: spDeleteOAuthAuthorizationState
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR OAuthAuthorizationState
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteOAuthAuthorizationState" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: O Auth Authorization States */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteOAuthAuthorizationState" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: O Auth Client Registrations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Client Registrations
-- Item: vwOAuthClientRegistrations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: O Auth Client Registrations
-----               SCHEMA:      __mj
-----               BASE TABLE:  OAuthClientRegistration
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwOAuthClientRegistrations" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: O Auth Client Registrations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Client Registrations
-- Item: Permissions for vwOAuthClientRegistrations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwOAuthClientRegistrations" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: O Auth Client Registrations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Client Registrations
-- Item: spCreateOAuthClientRegistration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR OAuthClientRegistration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateOAuthClientRegistration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: O Auth Client Registrations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateOAuthClientRegistration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: O Auth Client Registrations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Client Registrations
-- Item: spUpdateOAuthClientRegistration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR OAuthClientRegistration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateOAuthClientRegistration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateOAuthClientRegistration" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: O Auth Client Registrations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: O Auth Client Registrations
-- Item: spDeleteOAuthClientRegistration
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR OAuthClientRegistration
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteOAuthClientRegistration" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: O Auth Client Registrations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteOAuthClientRegistration" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Public Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Public Links
-- Item: vwPublicLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Public Links
-----               SCHEMA:      __mj
-----               BASE TABLE:  PublicLink
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwPublicLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Public Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Public Links
-- Item: Permissions for vwPublicLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwPublicLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Public Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Public Links
-- Item: spCreatePublicLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR PublicLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreatePublicLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Public Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreatePublicLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Public Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Public Links
-- Item: spUpdatePublicLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR PublicLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdatePublicLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdatePublicLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Public Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Public Links
-- Item: spDeletePublicLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR PublicLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeletePublicLink" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Public Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeletePublicLink" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Queries */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queries
-- Item: vwQueries
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Queries
-----               SCHEMA:      __mj
-----               BASE TABLE:  Query
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueries" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Queries */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queries
-- Item: Permissions for vwQueries
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueries" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: Queries */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queries
-- Item: spCreateQuery
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Query
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQuery" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Queries */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQuery" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Queries */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queries
-- Item: spUpdateQuery
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Query
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQuery" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQuery" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Projects */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Projects
-- Item: vwProjects
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Projects
-----               SCHEMA:      __mj
-----               BASE TABLE:  Project
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwProjects" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Projects */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Projects
-- Item: Permissions for vwProjects
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwProjects" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Projects */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Projects
-- Item: spCreateProject
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Project
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateProject" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Projects */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateProject" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Projects */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Projects
-- Item: spUpdateProject
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Project
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateProject" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateProject" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Projects */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Projects
-- Item: spDeleteProject
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Project
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteProject" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Projects */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteProject" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Query Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Categories
-- Item: vwQueryCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Query Categories
-----               SCHEMA:      __mj
-----               BASE TABLE:  QueryCategory
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueryCategories" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Query Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Categories
-- Item: Permissions for vwQueryCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueryCategories" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: Query Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Categories
-- Item: spCreateQueryCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR QueryCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueryCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Query Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueryCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Query Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Categories
-- Item: spUpdateQueryCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR QueryCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQueryCategory" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQueryCategory" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Query Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Categories
-- Item: spDeleteQueryCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR QueryCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQueryCategory" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Query Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQueryCategory" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Query Entities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Entities
-- Item: vwQueryEntities
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Query Entities
-----               SCHEMA:      __mj
-----               BASE TABLE:  QueryEntity
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueryEntities" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Query Entities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Entities
-- Item: Permissions for vwQueryEntities
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueryEntities" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Query Entities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Entities
-- Item: spCreateQueryEntity
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR QueryEntity
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueryEntity" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Query Entities */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueryEntity" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Query Entities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Entities
-- Item: spUpdateQueryEntity
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR QueryEntity
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQueryEntity" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQueryEntity" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Query Entities */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Entities
-- Item: spDeleteQueryEntity
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR QueryEntity
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQueryEntity" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Query Entities */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQueryEntity" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Queries */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queries
-- Item: spDeleteQuery
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Query
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQuery" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Queries */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQuery" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Query Fields */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Fields
-- Item: vwQueryFields
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Query Fields
-----               SCHEMA:      __mj
-----               BASE TABLE:  QueryField
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueryFields" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Query Fields */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Fields
-- Item: Permissions for vwQueryFields
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueryFields" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Query Fields */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Fields
-- Item: spCreateQueryField
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR QueryField
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueryField" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Query Fields */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueryField" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Query Fields */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Fields
-- Item: spUpdateQueryField
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR QueryField
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQueryField" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQueryField" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Query Fields */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Fields
-- Item: spDeleteQueryField
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR QueryField
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQueryField" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Query Fields */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQueryField" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Queue Tasks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queue Tasks
-- Item: vwQueueTasks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Queue Tasks
-----               SCHEMA:      __mj
-----               BASE TABLE:  QueueTask
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueueTasks" TO "cdp_UI";
    

/* Base View Permissions SQL for MJ: Queue Tasks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queue Tasks
-- Item: Permissions for vwQueueTasks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueueTasks" TO "cdp_UI";

/* spCreate SQL for MJ: Queue Tasks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queue Tasks
-- Item: spCreateQueueTask
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR QueueTask
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueueTask" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Queue Tasks */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueueTask" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Queue Tasks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queue Tasks
-- Item: spUpdateQueueTask
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR QueueTask
------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueryParameters" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Query Parameters */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Parameters
-- Item: Permissions for vwQueryParameters
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueryParameters" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Query Parameters */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Parameters
-- Item: spCreateQueryParameter
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR QueryParameter
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueryParameter" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Query Parameters */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueryParameter" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Query Parameters */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Parameters
-- Item: spUpdateQueryParameter
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR QueryParameter
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQueryParameter" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQueryParameter" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Query Parameters */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Parameters
-- Item: spDeleteQueryParameter
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR QueryParameter
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQueryParameter" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Query Parameters */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQueryParameter" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Query Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Permissions
-- Item: vwQueryPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Query Permissions
-----               SCHEMA:      __mj
-----               BASE TABLE:  QueryPermission
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueryPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Query Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Permissions
-- Item: Permissions for vwQueryPermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueryPermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Query Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Permissions
-- Item: spCreateQueryPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR QueryPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueryPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Query Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueryPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Query Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Permissions
-- Item: spUpdateQueryPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR QueryPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQueryPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateQueryPermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Query Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Query Permissions
-- Item: spDeleteQueryPermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR QueryPermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQueryPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Query Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteQueryPermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Recommendation Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendation Items
-- Item: vwRecommendationItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Recommendation Items
-----               SCHEMA:      __mj
-----               BASE TABLE:  RecommendationItem
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecommendationItems" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Recommendation Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendation Items
-- Item: Permissions for vwRecommendationItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecommendationItems" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Recommendation Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendation Items
-- Item: spCreateRecommendationItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR RecommendationItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecommendationItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Recommendation Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecommendationItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Recommendation Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendation Items
-- Item: spUpdateRecommendationItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR RecommendationItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecommendationItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecommendationItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Recommendation Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendation Items
-- Item: spDeleteRecommendationItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR RecommendationItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecommendationItem" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Recommendation Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecommendationItem" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Queues */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queues
-- Item: vwQueues
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Queues
-----               SCHEMA:      __mj
-----               BASE TABLE:  Queue
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueues" TO "cdp_UI";
    

/* Base View Permissions SQL for MJ: Queues */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queues
-- Item: Permissions for vwQueues
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwQueues" TO "cdp_UI";

/* spCreate SQL for MJ: Queues */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queues
-- Item: spCreateQueue
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Queue
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueue" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Queues */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateQueue" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Queues */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Queues
-- Item: spUpdateQueue
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Queue
------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecommendationRuns" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Recommendation Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendation Runs
-- Item: Permissions for vwRecommendationRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecommendationRuns" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Recommendation Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendation Runs
-- Item: spCreateRecommendationRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR RecommendationRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecommendationRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Recommendation Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecommendationRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Recommendation Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendation Runs
-- Item: spUpdateRecommendationRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR RecommendationRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecommendationRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecommendationRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Recommendation Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendation Runs
-- Item: spDeleteRecommendationRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR RecommendationRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecommendationRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Recommendation Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecommendationRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Recommendations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendations
-- Item: vwRecommendations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Recommendations
-----               SCHEMA:      __mj
-----               BASE TABLE:  Recommendation
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecommendations" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Recommendations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendations
-- Item: Permissions for vwRecommendations
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecommendations" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: Recommendations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendations
-- Item: spCreateRecommendation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Recommendation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecommendation" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Recommendations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecommendation" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Recommendations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendations
-- Item: spUpdateRecommendation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Recommendation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecommendation" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecommendation" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Recommendations */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Recommendations
-- Item: spDeleteRecommendation
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Recommendation
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecommendation" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Recommendations */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecommendation" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Record Changes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Changes
-- Item: vwRecordChanges
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Record Changes
-----               SCHEMA:      __mj
-----               BASE TABLE:  RecordChange
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecordChanges" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Record Changes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Changes
-- Item: Permissions for vwRecordChanges
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecordChanges" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: Record Changes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Changes
-- Item: spCreateRecordChange
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR RecordChange
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecordChange" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Record Changes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecordChange" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Record Changes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Changes
-- Item: spUpdateRecordChange
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR RecordChange
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecordChange" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecordChange" TO "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Record Changes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Changes
-- Item: spDeleteRecordChange
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR RecordChange
------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecordChangeReplayRuns" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Record Change Replay Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Change Replay Runs
-- Item: Permissions for vwRecordChangeReplayRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecordChangeReplayRuns" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Record Change Replay Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Change Replay Runs
-- Item: spCreateRecordChangeReplayRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR RecordChangeReplayRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecordChangeReplayRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Record Change Replay Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecordChangeReplayRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Record Change Replay Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Change Replay Runs
-- Item: spUpdateRecordChangeReplayRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR RecordChangeReplayRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecordChangeReplayRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecordChangeReplayRun" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Record Change Replay Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Change Replay Runs
-- Item: spDeleteRecordChangeReplayRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR RecordChangeReplayRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecordChangeReplayRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Record Change Replay Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecordChangeReplayRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Record Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Links
-- Item: vwRecordLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Record Links
-----               SCHEMA:      __mj
-----               BASE TABLE:  RecordLink
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecordLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Record Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Links
-- Item: Permissions for vwRecordLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecordLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Record Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Links
-- Item: spCreateRecordLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR RecordLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecordLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Record Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecordLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Record Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Links
-- Item: spUpdateRecordLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR RecordLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecordLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecordLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Record Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Links
-- Item: spDeleteRecordLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR RecordLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecordLink" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Record Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecordLink" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Record Merge Deletion Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Merge Deletion Logs
-- Item: vwRecordMergeDeletionLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Record Merge Deletion Logs
-----               SCHEMA:      __mj
-----               BASE TABLE:  RecordMergeDeletionLog
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecordMergeDeletionLogs" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Record Merge Deletion Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Merge Deletion Logs
-- Item: Permissions for vwRecordMergeDeletionLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecordMergeDeletionLogs" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Record Merge Deletion Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Merge Deletion Logs
-- Item: spCreateRecordMergeDeletionLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR RecordMergeDeletionLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecordMergeDeletionLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Record Merge Deletion Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecordMergeDeletionLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Record Merge Deletion Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Merge Deletion Logs
-- Item: spUpdateRecordMergeDeletionLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR RecordMergeDeletionLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecordMergeDeletionLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecordMergeDeletionLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Record Merge Deletion Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Merge Deletion Logs
-- Item: spDeleteRecordMergeDeletionLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR RecordMergeDeletionLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecordMergeDeletionLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Record Merge Deletion Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecordMergeDeletionLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Record Merge Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Merge Logs
-- Item: vwRecordMergeLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Record Merge Logs
-----               SCHEMA:      __mj
-----               BASE TABLE:  RecordMergeLog
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecordMergeLogs" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Record Merge Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Merge Logs
-- Item: Permissions for vwRecordMergeLogs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwRecordMergeLogs" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: Record Merge Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Merge Logs
-- Item: spCreateRecordMergeLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR RecordMergeLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecordMergeLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Record Merge Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateRecordMergeLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Record Merge Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Merge Logs
-- Item: spUpdateRecordMergeLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR RecordMergeLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecordMergeLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateRecordMergeLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Record Merge Logs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Record Merge Logs
-- Item: spDeleteRecordMergeLog
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR RecordMergeLog
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecordMergeLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Record Merge Logs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteRecordMergeLog" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Report Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Categories
-- Item: vwReportCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Report Categories
-----               SCHEMA:      __mj
-----               BASE TABLE:  ReportCategory
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwReportCategories" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Report Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Categories
-- Item: Permissions for vwReportCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwReportCategories" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: Report Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Categories
-- Item: spCreateReportCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ReportCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateReportCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Report Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateReportCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Report Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Categories
-- Item: spUpdateReportCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ReportCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateReportCategory" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateReportCategory" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Report Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Categories
-- Item: spDeleteReportCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ReportCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteReportCategory" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Report Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteReportCategory" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Report Snapshots */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Snapshots
-- Item: vwReportSnapshots
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Report Snapshots
-----               SCHEMA:      __mj
-----               BASE TABLE:  ReportSnapshot
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwReportSnapshots" TO "cdp_UI";
    

/* Base View Permissions SQL for MJ: Report Snapshots */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Snapshots
-- Item: Permissions for vwReportSnapshots
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwReportSnapshots" TO "cdp_UI";

/* spCreate SQL for MJ: Report Snapshots */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Snapshots
-- Item: spCreateReportSnapshot
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ReportSnapshot
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateReportSnapshot" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Report Snapshots */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateReportSnapshot" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Report Snapshots */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Snapshots
-- Item: spUpdateReportSnapshot
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ReportSnapshot
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateReportSnapshot" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateReportSnapshot" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Report Snapshots */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Snapshots
-- Item: spDeleteReportSnapshot
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ReportSnapshot
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteReportSnapshot" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Report Snapshots */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteReportSnapshot" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Report User States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report User States
-- Item: vwReportUserStates
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Report User States
-----               SCHEMA:      __mj
-----               BASE TABLE:  ReportUserState
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwReportUserStates" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Report User States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report User States
-- Item: Permissions for vwReportUserStates
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwReportUserStates" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Report User States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report User States
-- Item: spCreateReportUserState
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ReportUserState
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateReportUserState" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Report User States */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateReportUserState" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Report User States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report User States
-- Item: spUpdateReportUserState
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ReportUserState
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateReportUserState" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateReportUserState" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Report User States */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report User States
-- Item: spDeleteReportUserState
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ReportUserState
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteReportUserState" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Report User States */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteReportUserState" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Report Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Versions
-- Item: vwReportVersions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Report Versions
-----               SCHEMA:      __mj
-----               BASE TABLE:  ReportVersion
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwReportVersions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Report Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Versions
-- Item: Permissions for vwReportVersions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwReportVersions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Report Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Versions
-- Item: spCreateReportVersion
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ReportVersion
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateReportVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Report Versions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateReportVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Report Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Versions
-- Item: spUpdateReportVersion
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ReportVersion
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateReportVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateReportVersion" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Report Versions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Report Versions
-- Item: spDeleteReportVersion
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ReportVersion
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteReportVersion" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Report Versions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteReportVersion" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Reports */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Reports
-- Item: vwReports
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Reports
-----               SCHEMA:      __mj
-----               BASE TABLE:  Report
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwReports" TO "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Reports */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Reports
-- Item: Permissions for vwReports
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwReports" TO "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: Reports */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Reports
-- Item: spCreateReport
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Report
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateReport" TO "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Reports */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateReport" TO "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Reports */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Reports
-- Item: spUpdateReport
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Report
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateReport" TO "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateReport" TO "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Reports */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Reports
-- Item: spDeleteReport
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Report
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteReport" TO "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Reports */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteReport" TO "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Resource Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Permissions
-- Item: vwResourcePermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Resource Permissions
-----               SCHEMA:      __mj
-----               BASE TABLE:  ResourcePermission
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwResourcePermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Resource Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Permissions
-- Item: Permissions for vwResourcePermissions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwResourcePermissions" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Resource Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Permissions
-- Item: spCreateResourcePermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ResourcePermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateResourcePermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Resource Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateResourcePermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Resource Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Permissions
-- Item: spUpdateResourcePermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ResourcePermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateResourcePermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateResourcePermission" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Resource Permissions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Permissions
-- Item: spDeleteResourcePermission
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ResourcePermission
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteResourcePermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Resource Permissions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteResourcePermission" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Resource Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Links
-- Item: vwResourceLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Resource Links
-----               SCHEMA:      __mj
-----               BASE TABLE:  ResourceLink
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwResourceLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Resource Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Links
-- Item: Permissions for vwResourceLinks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwResourceLinks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Resource Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Links
-- Item: spCreateResourceLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ResourceLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateResourceLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Resource Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateResourceLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Resource Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Links
-- Item: spUpdateResourceLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ResourceLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateResourceLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateResourceLink" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Resource Links */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Links
-- Item: spDeleteResourceLink
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ResourceLink
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteResourceLink" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Resource Links */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteResourceLink" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Resource Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Types
-- Item: vwResourceTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Resource Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  ResourceType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwResourceTypes" TO "cdp_UI";
    

/* Base View Permissions SQL for MJ: Resource Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Types
-- Item: Permissions for vwResourceTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwResourceTypes" TO "cdp_UI";

/* spCreate SQL for MJ: Resource Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Types
-- Item: spCreateResourceType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ResourceType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateResourceType" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Resource Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateResourceType" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Resource Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Types
-- Item: spUpdateResourceType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ResourceType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateResourceType" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateResourceType" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Resource Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Resource Types
-- Item: spDeleteResourceType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ResourceType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteResourceType" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Resource Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteResourceType" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Scheduled Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Actions
-- Item: vwScheduledActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Scheduled Actions
-----               SCHEMA:      __mj
-----               BASE TABLE:  ScheduledAction
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwScheduledActions" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Scheduled Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Actions
-- Item: Permissions for vwScheduledActions
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwScheduledActions" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Scheduled Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Actions
-- Item: spCreateScheduledAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ScheduledAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateScheduledAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Scheduled Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateScheduledAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Scheduled Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Actions
-- Item: spUpdateScheduledAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ScheduledAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateScheduledAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateScheduledAction" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Scheduled Actions */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Actions
-- Item: spDeleteScheduledAction
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ScheduledAction
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteScheduledAction" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Scheduled Actions */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteScheduledAction" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Scheduled Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Action Params
-- Item: vwScheduledActionParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Scheduled Action Params
-----               SCHEMA:      __mj
-----               BASE TABLE:  ScheduledActionParam
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwScheduledActionParams" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Scheduled Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Action Params
-- Item: Permissions for vwScheduledActionParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwScheduledActionParams" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: Scheduled Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Action Params
-- Item: spCreateScheduledActionParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ScheduledActionParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateScheduledActionParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Scheduled Action Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateScheduledActionParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Scheduled Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Action Params
-- Item: spUpdateScheduledActionParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ScheduledActionParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateScheduledActionParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateScheduledActionParam" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Scheduled Action Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Action Params
-- Item: spDeleteScheduledActionParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ScheduledActionParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteScheduledActionParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Scheduled Action Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteScheduledActionParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Scheduled Job Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Job Runs
-- Item: vwScheduledJobRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Scheduled Job Runs
-----               SCHEMA:      __mj
-----               BASE TABLE:  ScheduledJobRun
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwScheduledJobRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Scheduled Job Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Job Runs
-- Item: Permissions for vwScheduledJobRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwScheduledJobRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Scheduled Job Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Job Runs
-- Item: spCreateScheduledJobRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ScheduledJobRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateScheduledJobRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Scheduled Job Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateScheduledJobRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Scheduled Job Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Job Runs
-- Item: spUpdateScheduledJobRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ScheduledJobRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateScheduledJobRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateScheduledJobRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Scheduled Job Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Job Runs
-- Item: spDeleteScheduledJobRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ScheduledJobRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteScheduledJobRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Scheduled Job Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteScheduledJobRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Scheduled Jobs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Jobs
-- Item: vwScheduledJobs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Scheduled Jobs
-----               SCHEMA:      __mj
-----               BASE TABLE:  ScheduledJob
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwScheduledJobs" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Scheduled Jobs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Jobs
-- Item: Permissions for vwScheduledJobs
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwScheduledJobs" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Scheduled Jobs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Jobs
-- Item: spCreateScheduledJob
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR ScheduledJob
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateScheduledJob" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Scheduled Jobs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateScheduledJob" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Scheduled Jobs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Jobs
-- Item: spUpdateScheduledJob
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR ScheduledJob
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateScheduledJob" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateScheduledJob" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Scheduled Jobs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Scheduled Jobs
-- Item: spDeleteScheduledJob
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR ScheduledJob
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteScheduledJob" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Scheduled Jobs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteScheduledJob" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Tagged Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tagged Items
-- Item: vwTaggedItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Tagged Items
-----               SCHEMA:      __mj
-----               BASE TABLE:  TaggedItem
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTaggedItems" TO "cdp_UI";
    

/* Base View Permissions SQL for MJ: Tagged Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tagged Items
-- Item: Permissions for vwTaggedItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTaggedItems" TO "cdp_UI";

/* spCreate SQL for MJ: Tagged Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tagged Items
-- Item: spCreateTaggedItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TaggedItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTaggedItem" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Tagged Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTaggedItem" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Tagged Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tagged Items
-- Item: spUpdateTaggedItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TaggedItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTaggedItem" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTaggedItem" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Tagged Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tagged Items
-- Item: spDeleteTaggedItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TaggedItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTaggedItem" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Tagged Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTaggedItem" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Skills */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Skills
-- Item: vwSkills
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Skills
-----               SCHEMA:      __mj
-----               BASE TABLE:  Skill
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwSkills" TO "cdp_Developer", "cdp_Integration", "cdp_UI";
    

/* Base View Permissions SQL for MJ: Skills */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Skills
-- Item: Permissions for vwSkills
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwSkills" TO "cdp_Developer", "cdp_Integration", "cdp_UI";

/* spCreate SQL for MJ: Skills */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Skills
-- Item: spCreateSkill
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Skill
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Skills */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Skills */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Skills
-- Item: spUpdateSkill
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Skill
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Skills */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Skills
-- Item: spDeleteSkill
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Skill
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Skills */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteSkill" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Tags */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tags
-- Item: vwTags
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Tags
-----               SCHEMA:      __mj
-----               BASE TABLE:  Tag
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTags" TO "cdp_UI";
    

/* Base View Permissions SQL for MJ: Tags */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tags
-- Item: Permissions for vwTags
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTags" TO "cdp_UI";

/* spCreate SQL for MJ: Tags */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tags
-- Item: spCreateTag
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Tag
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTag" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Tags */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTag" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Tags */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tags
-- Item: spUpdateTag
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Tag
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTag" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTag" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Tags */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tags
-- Item: spDeleteTag
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Tag
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTag" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Tags */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTag" TO "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Task Dependencies */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Task Dependencies
-- Item: vwTaskDependencies
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Task Dependencies
-----               SCHEMA:      __mj
-----               BASE TABLE:  TaskDependency
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTaskDependencies" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Task Dependencies */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Task Dependencies
-- Item: Permissions for vwTaskDependencies
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTaskDependencies" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Task Dependencies */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Task Dependencies
-- Item: spCreateTaskDependency
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TaskDependency
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTaskDependency" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Task Dependencies */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTaskDependency" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Task Dependencies */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Task Dependencies
-- Item: spUpdateTaskDependency
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TaskDependency
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTaskDependency" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTaskDependency" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Task Dependencies */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Task Dependencies
-- Item: spDeleteTaskDependency
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TaskDependency
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTaskDependency" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Task Dependencies */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTaskDependency" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Template Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Categories
-- Item: vwTemplateCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Template Categories
-----               SCHEMA:      __mj
-----               BASE TABLE:  TemplateCategory
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTemplateCategories" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Template Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Categories
-- Item: Permissions for vwTemplateCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTemplateCategories" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Template Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Categories
-- Item: spCreateTemplateCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TemplateCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTemplateCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Template Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTemplateCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Template Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Categories
-- Item: spUpdateTemplateCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TemplateCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTemplateCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTemplateCategory" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Template Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Categories
-- Item: spDeleteTemplateCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TemplateCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTemplateCategory" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Template Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTemplateCategory" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Tasks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tasks
-- Item: vwTasks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Tasks
-----               SCHEMA:      __mj
-----               BASE TABLE:  Task
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTasks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Tasks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tasks
-- Item: Permissions for vwTasks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTasks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Tasks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tasks
-- Item: spCreateTask
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Task
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTask" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Tasks */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTask" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Tasks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tasks
-- Item: spUpdateTask
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Task
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTask" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTask" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Tasks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tasks
-- Item: spDeleteTask
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Task
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTask" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Tasks */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTask" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Template Contents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Contents
-- Item: vwTemplateContents
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Template Contents
-----               SCHEMA:      __mj
-----               BASE TABLE:  TemplateContent
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTemplateContents" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Template Contents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Contents
-- Item: Permissions for vwTemplateContents
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTemplateContents" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Template Contents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Contents
-- Item: spCreateTemplateContent
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TemplateContent
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTemplateContent" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Template Contents */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTemplateContent" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Template Contents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Contents
-- Item: spUpdateTemplateContent
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TemplateContent
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTemplateContent" TO "cdp_Integration", "cdp_UI", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTemplateContent" TO "cdp_Integration", "cdp_UI", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Template Contents */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Contents
-- Item: spDeleteTemplateContent
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TemplateContent
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTemplateContent" TO "cdp_Integration", "cdp_UI", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Template Contents */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTemplateContent" TO "cdp_Integration", "cdp_UI", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Template Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Params
-- Item: vwTemplateParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Template Params
-----               SCHEMA:      __mj
-----               BASE TABLE:  TemplateParam
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTemplateParams" TO "cdp_UI", "cdp_Integration", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Template Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Params
-- Item: Permissions for vwTemplateParams
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTemplateParams" TO "cdp_UI", "cdp_Integration", "cdp_Developer";

/* spCreate SQL for MJ: Template Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Params
-- Item: spCreateTemplateParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TemplateParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTemplateParam" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Template Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTemplateParam" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Template Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Params
-- Item: spUpdateTemplateParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TemplateParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTemplateParam" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTemplateParam" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Template Params */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Template Params
-- Item: spDeleteTemplateParam
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TemplateParam
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTemplateParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Template Params */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTemplateParam" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Test Rubrics */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Rubrics
-- Item: vwTestRubrics
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Test Rubrics
-----               SCHEMA:      __mj
-----               BASE TABLE:  TestRubric
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestRubrics" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Test Rubrics */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Rubrics
-- Item: Permissions for vwTestRubrics
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestRubrics" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Test Rubrics */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Rubrics
-- Item: spCreateTestRubric
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TestRubric
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestRubric" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Test Rubrics */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestRubric" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Test Rubrics */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Rubrics
-- Item: spUpdateTestRubric
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TestRubric
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestRubric" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestRubric" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Test Rubrics */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Rubrics
-- Item: spDeleteTestRubric
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TestRubric
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestRubric" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Test Rubrics */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestRubric" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Templates */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Templates
-- Item: vwTemplates
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Templates
-----               SCHEMA:      __mj
-----               BASE TABLE:  Template
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTemplates" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Templates */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Templates
-- Item: Permissions for vwTemplates
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTemplates" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: Templates */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Templates
-- Item: spCreateTemplate
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Template
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTemplate" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Templates */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTemplate" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Templates */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Templates
-- Item: spUpdateTemplate
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Template
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTemplate" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTemplate" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Templates */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Templates
-- Item: spDeleteTemplate
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Template
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTemplate" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Templates */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTemplate" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Test Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Runs
-- Item: vwTestRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Test Runs
-----               SCHEMA:      __mj
-----               BASE TABLE:  TestRun
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Test Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Runs
-- Item: Permissions for vwTestRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Test Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Runs
-- Item: spCreateTestRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TestRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Test Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Test Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Runs
-- Item: spUpdateTestRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TestRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Test Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Runs
-- Item: spDeleteTestRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TestRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Test Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Test Run Feedbacks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Run Feedbacks
-- Item: vwTestRunFeedbacks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Test Run Feedbacks
-----               SCHEMA:      __mj
-----               BASE TABLE:  TestRunFeedback
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestRunFeedbacks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Test Run Feedbacks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Run Feedbacks
-- Item: Permissions for vwTestRunFeedbacks
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestRunFeedbacks" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Test Run Feedbacks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Run Feedbacks
-- Item: spCreateTestRunFeedback
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TestRunFeedback
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestRunFeedback" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Test Run Feedbacks */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestRunFeedback" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Test Run Feedbacks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Run Feedbacks
-- Item: spUpdateTestRunFeedback
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TestRunFeedback
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestRunFeedback" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestRunFeedback" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Test Run Feedbacks */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Run Feedbacks
-- Item: spDeleteTestRunFeedback
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TestRunFeedback
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestRunFeedback" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Test Run Feedbacks */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestRunFeedback" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Test Suite Tests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suite Tests
-- Item: vwTestSuiteTests
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Test Suite Tests
-----               SCHEMA:      __mj
-----               BASE TABLE:  TestSuiteTest
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestSuiteTests" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Test Suite Tests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suite Tests
-- Item: Permissions for vwTestSuiteTests
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestSuiteTests" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Test Suite Tests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suite Tests
-- Item: spCreateTestSuiteTest
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TestSuiteTest
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestSuiteTest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Test Suite Tests */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestSuiteTest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Test Suite Tests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suite Tests
-- Item: spUpdateTestSuiteTest
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TestSuiteTest
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestSuiteTest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestSuiteTest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Test Suite Tests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suite Tests
-- Item: spDeleteTestSuiteTest
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TestSuiteTest
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestSuiteTest" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Test Suite Tests */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestSuiteTest" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Test Suite Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suite Runs
-- Item: vwTestSuiteRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Test Suite Runs
-----               SCHEMA:      __mj
-----               BASE TABLE:  TestSuiteRun
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestSuiteRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Test Suite Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suite Runs
-- Item: Permissions for vwTestSuiteRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestSuiteRuns" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Test Suite Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suite Runs
-- Item: spCreateTestSuiteRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TestSuiteRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestSuiteRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Test Suite Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestSuiteRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Test Suite Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suite Runs
-- Item: spUpdateTestSuiteRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TestSuiteRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestSuiteRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestSuiteRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Test Suite Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suite Runs
-- Item: spDeleteTestSuiteRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TestSuiteRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestSuiteRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Test Suite Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestSuiteRun" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Tests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tests
-- Item: vwTests
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Tests
-----               SCHEMA:      __mj
-----               BASE TABLE:  Test
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTests" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Tests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tests
-- Item: Permissions for vwTests
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTests" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Tests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tests
-- Item: spCreateTest
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Test
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Tests */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Tests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tests
-- Item: spUpdateTest
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Test
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTest" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Tests */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Tests
-- Item: spDeleteTest
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Test
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTest" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Tests */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTest" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Test Suites */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suites
-- Item: vwTestSuites
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Test Suites
-----               SCHEMA:      __mj
-----               BASE TABLE:  TestSuite
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestSuites" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Test Suites */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suites
-- Item: Permissions for vwTestSuites
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwTestSuites" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Test Suites */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suites
-- Item: spCreateTestSuite
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR TestSuite
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestSuite" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Test Suites */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateTestSuite" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Test Suites */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suites
-- Item: spUpdateTestSuite
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR TestSuite
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestSuite" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateTestSuite" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Test Suites */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Test Suites
-- Item: spDeleteTestSuite
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR TestSuite
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestSuite" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Test Suites */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteTestSuite" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: User Notification Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notification Types
-- Item: vwUserNotificationTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: User Notification Types
-----               SCHEMA:      __mj
-----               BASE TABLE:  UserNotificationType
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserNotificationTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: User Notification Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notification Types
-- Item: Permissions for vwUserNotificationTypes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserNotificationTypes" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: User Notification Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notification Types
-- Item: spCreateUserNotificationType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR UserNotificationType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserNotificationType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: User Notification Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserNotificationType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: User Notification Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notification Types
-- Item: spUpdateUserNotificationType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR UserNotificationType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserNotificationType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserNotificationType" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: User Notification Types */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notification Types
-- Item: spDeleteUserNotificationType
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR UserNotificationType
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserNotificationType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: User Notification Types */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserNotificationType" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: User Applications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Applications
-- Item: vwUserApplications
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: User Applications
-----               SCHEMA:      __mj
-----               BASE TABLE:  UserApplication
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserApplications" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: User Applications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Applications
-- Item: Permissions for vwUserApplications
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserApplications" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: User Applications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Applications
-- Item: spCreateUserApplication
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR UserApplication
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserApplication" TO "cdp_Integration", "cdp_UI", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: User Applications */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserApplication" TO "cdp_Integration", "cdp_UI", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: User Applications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Applications
-- Item: spUpdateUserApplication
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR UserApplication
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserApplication" TO "cdp_Integration", "cdp_UI", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserApplication" TO "cdp_Integration", "cdp_UI", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: User Applications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Applications
-- Item: spDeleteUserApplication
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR UserApplication
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserApplication" TO "cdp_Integration", "cdp_UI", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: User Applications */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserApplication" TO "cdp_Integration", "cdp_UI", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: User Notification Preferences */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notification Preferences
-- Item: vwUserNotificationPreferences
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: User Notification Preferences
-----               SCHEMA:      __mj
-----               BASE TABLE:  UserNotificationPreference
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserNotificationPreferences" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: User Notification Preferences */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notification Preferences
-- Item: Permissions for vwUserNotificationPreferences
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserNotificationPreferences" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: User Notification Preferences */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notification Preferences
-- Item: spCreateUserNotificationPreference
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR UserNotificationPreference
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserNotificationPreference" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: User Notification Preferences */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserNotificationPreference" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: User Notification Preferences */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notification Preferences
-- Item: spUpdateUserNotificationPreference
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR UserNotificationPreference
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserNotificationPreference" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserNotificationPreference" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: User Notification Preferences */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notification Preferences
-- Item: spDeleteUserNotificationPreference
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR UserNotificationPreference
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserNotificationPreference" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: User Notification Preferences */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserNotificationPreference" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: User Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Roles
-- Item: vwUserRoles
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: User Roles
-----               SCHEMA:      __mj
-----               BASE TABLE:  UserRole
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserRoles" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: User Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Roles
-- Item: Permissions for vwUserRoles
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserRoles" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: User Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Roles
-- Item: spCreateUserRole
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR UserRole
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserRole" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: User Roles */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserRole" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: User Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Roles
-- Item: spUpdateUserRole
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR UserRole
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserRole" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserRole" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: User Roles */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Roles
-- Item: spDeleteUserRole
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR UserRole
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserRole" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: User Roles */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserRole" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: User Notifications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notifications
-- Item: vwUserNotifications
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: User Notifications
-----               SCHEMA:      __mj
-----               BASE TABLE:  UserNotification
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserNotifications" TO "cdp_Integration", "cdp_Developer", "cdp_UI";
    

/* Base View Permissions SQL for MJ: User Notifications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notifications
-- Item: Permissions for vwUserNotifications
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserNotifications" TO "cdp_Integration", "cdp_Developer", "cdp_UI";

/* spCreate SQL for MJ: User Notifications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notifications
-- Item: spCreateUserNotification
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR UserNotification
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserNotification" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: User Notifications */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserNotification" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: User Notifications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notifications
-- Item: spUpdateUserNotification
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR UserNotification
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserNotification" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserNotification" TO "cdp_Integration", "cdp_Developer", "cdp_UI"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: User Notifications */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Notifications
-- Item: spDeleteUserNotification
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR UserNotification
------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserViewCategories" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: User View Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User View Categories
-- Item: Permissions for vwUserViewCategories
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserViewCategories" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: User View Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User View Categories
-- Item: spCreateUserViewCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR UserViewCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserViewCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: User View Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserViewCategory" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: User View Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User View Categories
-- Item: spUpdateUserViewCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR UserViewCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserViewCategory" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserViewCategory" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: User View Categories */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User View Categories
-- Item: spDeleteUserViewCategory
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR UserViewCategory
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserViewCategory" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: User View Categories */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserViewCategory" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: User Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Settings
-- Item: vwUserSettings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: User Settings
-----               SCHEMA:      __mj
-----               BASE TABLE:  UserSetting
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserSettings" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: User Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Settings
-- Item: Permissions for vwUserSettings
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserSettings" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: User Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Settings
-- Item: spCreateUserSetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR UserSetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserSetting" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: User Settings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserSetting" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: User Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Settings
-- Item: spUpdateUserSetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR UserSetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserSetting" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserSetting" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: User Settings */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User Settings
-- Item: spDeleteUserSetting
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR UserSetting
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserSetting" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: User Settings */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserSetting" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: User View Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User View Runs
-- Item: vwUserViewRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: User View Runs
-----               SCHEMA:      __mj
-----               BASE TABLE:  UserViewRun
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserViewRuns" TO "cdp_Developer", "cdp_UI", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: User View Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User View Runs
-- Item: Permissions for vwUserViewRuns
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwUserViewRuns" TO "cdp_Developer", "cdp_UI", "cdp_Integration";

/* spCreate SQL for MJ: User View Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User View Runs
-- Item: spCreateUserViewRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR UserViewRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserViewRun" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: User View Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateUserViewRun" TO "cdp_Developer", "cdp_UI", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: User View Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User View Runs
-- Item: spUpdateUserViewRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR UserViewRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserViewRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateUserViewRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: User View Runs */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: User View Runs
-- Item: spDeleteUserViewRun
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR UserViewRun
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserViewRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: User View Runs */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteUserViewRun" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Vector Indexes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Vector Indexes
-- Item: vwVectorIndexes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Vector Indexes
-----               SCHEMA:      __mj
-----               BASE TABLE:  VectorIndex
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwVectorIndexes" TO "cdp_Integration", "cdp_UI", "cdp_Developer";
    

/* Base View Permissions SQL for MJ: Vector Indexes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Vector Indexes
-- Item: Permissions for vwVectorIndexes
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwVectorIndexes" TO "cdp_Integration", "cdp_UI", "cdp_Developer";

/* spCreate SQL for MJ: Vector Indexes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Vector Indexes
-- Item: spCreateVectorIndex
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR VectorIndex
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateVectorIndex" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Vector Indexes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateVectorIndex" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Vector Indexes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Vector Indexes
-- Item: spUpdateVectorIndex
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR VectorIndex
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateVectorIndex" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateVectorIndex" TO "cdp_Integration", "cdp_Developer"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Vector Indexes */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Vector Indexes
-- Item: spDeleteVectorIndex
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR VectorIndex
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteVectorIndex" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Vector Indexes */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteVectorIndex" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Version Label Restores */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Label Restores
-- Item: vwVersionLabelRestores
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Version Label Restores
-----               SCHEMA:      __mj
-----               BASE TABLE:  VersionLabelRestore
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwVersionLabelRestores" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Version Label Restores */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Label Restores
-- Item: Permissions for vwVersionLabelRestores
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwVersionLabelRestores" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Version Label Restores */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Label Restores
-- Item: spCreateVersionLabelRestore
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR VersionLabelRestore
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateVersionLabelRestore" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Version Label Restores */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateVersionLabelRestore" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Version Label Restores */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Label Restores
-- Item: spUpdateVersionLabelRestore
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR VersionLabelRestore
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateVersionLabelRestore" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateVersionLabelRestore" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Version Label Restores */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Label Restores
-- Item: spDeleteVersionLabelRestore
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR VersionLabelRestore
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteVersionLabelRestore" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Version Label Restores */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteVersionLabelRestore" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Version Label Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Label Items
-- Item: vwVersionLabelItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Version Label Items
-----               SCHEMA:      __mj
-----               BASE TABLE:  VersionLabelItem
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwVersionLabelItems" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Version Label Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Label Items
-- Item: Permissions for vwVersionLabelItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwVersionLabelItems" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Version Label Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Label Items
-- Item: spCreateVersionLabelItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR VersionLabelItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateVersionLabelItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Version Label Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateVersionLabelItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Version Label Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Label Items
-- Item: spUpdateVersionLabelItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR VersionLabelItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateVersionLabelItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateVersionLabelItem" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Version Label Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Label Items
-- Item: spDeleteVersionLabelItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR VersionLabelItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteVersionLabelItem" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Version Label Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteVersionLabelItem" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Version Labels */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Labels
-- Item: vwVersionLabels
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Version Labels
-----               SCHEMA:      __mj
-----               BASE TABLE:  VersionLabel
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwVersionLabels" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Version Labels */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Labels
-- Item: Permissions for vwVersionLabels
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwVersionLabels" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Version Labels */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Labels
-- Item: spCreateVersionLabel
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR VersionLabel
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateVersionLabel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Version Labels */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateVersionLabel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Version Labels */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Labels
-- Item: spUpdateVersionLabel
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR VersionLabel
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateVersionLabel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateVersionLabel" TO "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Version Labels */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Version Labels
-- Item: spDeleteVersionLabel
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR VersionLabel
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteVersionLabel" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Version Labels */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteVersionLabel" TO "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Workspace Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Workspace Items
-- Item: vwWorkspaceItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Workspace Items
-----               SCHEMA:      __mj
-----               BASE TABLE:  WorkspaceItem
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwWorkspaceItems" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Workspace Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Workspace Items
-- Item: Permissions for vwWorkspaceItems
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwWorkspaceItems" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Workspace Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Workspace Items
-- Item: spCreateWorkspaceItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR WorkspaceItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateWorkspaceItem" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Workspace Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateWorkspaceItem" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Workspace Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Workspace Items
-- Item: spUpdateWorkspaceItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR WorkspaceItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateWorkspaceItem" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateWorkspaceItem" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Workspace Items */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Workspace Items
-- Item: spDeleteWorkspaceItem
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR WorkspaceItem
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteWorkspaceItem" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Workspace Items */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteWorkspaceItem" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* Base View SQL for MJ: Workspaces */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Workspaces
-- Item: vwWorkspaces
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      MJ: Workspaces
-----               SCHEMA:      __mj
-----               BASE TABLE:  Workspace
-----               PRIMARY KEY: ID
------------------------------------------------------------;

GRANT SELECT ON __mj."vwWorkspaces" TO "cdp_UI", "cdp_Developer", "cdp_Integration";
    

/* Base View Permissions SQL for MJ: Workspaces */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Workspaces
-- Item: Permissions for vwWorkspaces
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------;

GRANT SELECT ON __mj."vwWorkspaces" TO "cdp_UI", "cdp_Developer", "cdp_Integration";

/* spCreate SQL for MJ: Workspaces */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Workspaces
-- Item: spCreateWorkspace
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR Workspace
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateWorkspace" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spCreate Permissions for MJ: Workspaces */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spCreateWorkspace" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spUpdate SQL for MJ: Workspaces */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Workspaces
-- Item: spUpdateWorkspace
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR Workspace
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateWorkspace" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spUpdateWorkspace" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete SQL for MJ: Workspaces */
-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: MJ: Workspaces
-- Item: spDeleteWorkspace
--
-- This was generated by the MemberJunction CodeGen tool.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- DELETE PROCEDURE FOR Workspace
------------------------------------------------------------;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteWorkspace" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* spDelete Permissions for MJ: Workspaces */;

DO $$ BEGIN GRANT EXECUTE ON FUNCTION __mj."spDeleteWorkspace" TO "cdp_UI", "cdp_Developer", "cdp_Integration"; EXCEPTION WHEN others THEN NULL; END $$;
/* SQL text to insert new entity field */;


-- ===================== Comments =====================


-- ===================== Other =====================

/* spUpdate Permissions for MJ: Action Authorizations */

/* spUpdate Permissions for MJ: Action Contexts */

/* spUpdate Permissions for MJ: Action Categories */

/* spUpdate Permissions for MJ: Access Control Rules */

/* spUpdate Permissions for MJ: Action Execution Logs */

/* spUpdate Permissions for MJ: Action Result Codes */

/* spUpdate Permissions for MJ: Action Params */

/* spUpdate Permissions for MJ: Action Libraries */

/* spUpdate Permissions for MJ: AI Agent Configurations */

/* spUpdate Permissions for MJ: AI Agent Artifact Types */

/* spUpdate Permissions for MJ: AI Agent Actions */

/* spUpdate Permissions for MJ: AI Actions */

/* spUpdate Permissions for MJ: Actions */

/* spUpdate Permissions for MJ: AI Agent Learning Cycles */

/* spUpdate Permissions for MJ: AI Agent Examples */

/* spUpdate Permissions for MJ: AI Agent Data Sources */

/* spUpdate Permissions for MJ: AI Agent Modalities */

/* spUpdate Permissions for MJ: AI Agent Models */

/* spUpdate Permissions for MJ: AI Agent Prompts */

/* spUpdate Permissions for MJ: AI Agent Notes */

/* spUpdate Permissions for MJ: AI Agent Relationships */

/* spUpdate Permissions for MJ: AI Agent Permissions */

/* spUpdate Permissions for MJ: AI Agent Requests */

/* spUpdate Permissions for MJ: AI Agent Run Medias */

/* spUpdate Permissions for MJ: AI Agent Runs */

/* spUpdate Permissions for MJ: AI Agent Run Steps */

/* spUpdate Permissions for MJ: AI Agent Step Paths */

/* spUpdate Permissions for MJ: AI Architectures */

/* spUpdate Permissions for MJ: AI Agent Steps */

/* spUpdate Permissions for MJ: AI Agent Types */

/* spUpdate Permissions for MJ: AI Agents */

/* spUpdate Permissions for MJ: AI Configuration Params */

/* spUpdate Permissions for MJ: AI Configurations */

/* spUpdate Permissions for MJ: AI Model Actions */

/* spUpdate Permissions for MJ: AI Credential Bindings */

/* spUpdate Permissions for MJ: AI Model Architectures */

/* spUpdate Permissions for MJ: AI Model Costs */

/* spUpdate Permissions for MJ: AI Model Modalities */

/* spUpdate Permissions for MJ: AI Model Types */

/* spUpdate Permissions for MJ: AI Prompt Categories */

/* spUpdate Permissions for MJ: AI Prompt Run Medias */

/* spUpdate Permissions for MJ: AI Prompt Models */

/* spUpdate Permissions for MJ: AI Model Vendors */

/* spUpdate Permissions for MJ: AI Prompt Runs */

/* spUpdate Permissions for MJ: AI Prompts */

/* spUpdate Permissions for MJ: AI Vendor Types */

/* spUpdate Permissions for MJ: AI Vendors */

/* spUpdate Permissions for MJ: API Application Scopes */

/* spUpdate Permissions for MJ: API Key Applications */

/* spUpdate Permissions for MJ: API Key Scopes */

/* spUpdate Permissions for MJ: API Key Usage Logs */

/* spUpdate Permissions for MJ: API Keys */

/* spUpdate Permissions for MJ: API Scopes */

/* spUpdate Permissions for MJ: Application Settings */

/* spUpdate Permissions for MJ: Artifact Types */

/* spUpdate Permissions for MJ: Artifact Permissions */

/* spUpdate Permissions for MJ: Artifact Uses */

/* spUpdate Permissions for MJ: Artifact Versions */

/* spUpdate Permissions for MJ: Artifact Version Attributes */

/* spUpdate Permissions for MJ: Artifacts */

/* spUpdate Permissions for MJ: Audit Log Types */

/* spUpdate Permissions for MJ: Audit Logs */

/* spUpdate Permissions for MJ: Authorization Roles */

/* spUpdate Permissions for MJ: Authorizations */

/* spUpdate Permissions for MJ: Collection Permissions */

/* spUpdate Permissions for MJ: Collection Artifacts */

/* spUpdate Permissions for MJ: Collections */

/* spUpdate Permissions for MJ: Communication Provider Message Types */

/* spUpdate Permissions for MJ: Communication Logs */

/* spUpdate Permissions for MJ: Communication Runs */

/* spUpdate Permissions for MJ: Company Integration Record Maps */

/* spUpdate Permissions for MJ: Company Integration Run API Logs */

/* spUpdate Permissions for MJ: Component Library Links */

/* spUpdate Permissions for MJ: Component Dependencies */

/* spUpdate Permissions for MJ: Content Item Attributes */

/* spUpdate Permissions for MJ: Content Item Tags */

/* spUpdate Permissions for MJ: Components */

/* spUpdate Permissions for MJ: Content Items */

/* spUpdate Permissions for MJ: Content Process Runs */

/* spUpdate Permissions for MJ: Content Source Params */

/* spUpdate Permissions for MJ: Content Sources */

/* spUpdate Permissions for MJ: Content Types */

/* spUpdate Permissions for MJ: Conversation Artifact Permissions */

/* spUpdate Permissions for MJ: Conversation Artifact Versions */

/* spUpdate Permissions for MJ: Conversation Artifacts */

/* spUpdate Permissions for MJ: Conversation Details */

/* spUpdate Permissions for MJ: Conversation Detail Artifacts */

/* spUpdate Permissions for MJ: Conversation Detail Ratings */

/* spUpdate Permissions for MJ: Conversation Detail Attachments */

/* spUpdate Permissions for MJ: Conversations */

/* spUpdate Permissions for MJ: Credential Categories */

/* spUpdate Permissions for MJ: Credentials */

/* spUpdate Permissions for MJ: Dashboard Categories */

/* spUpdate Permissions for MJ: Dashboard Category Links */

/* spUpdate Permissions for MJ: Dashboard Category Permissions */

/* spUpdate Permissions for MJ: Dashboard Permissions */

/* spUpdate Permissions for MJ: Dashboard User Preferences */

/* spUpdate Permissions for MJ: Dashboard User States */

/* spUpdate Permissions for MJ: Dashboards */

/* spUpdate Permissions for MJ: Data Context Items */

/* spUpdate Permissions for MJ: Data Contexts */

/* spUpdate Permissions for MJ: Duplicate Run Details */

/* spUpdate Permissions for MJ: Duplicate Run Detail Matches */

/* spUpdate Permissions for MJ: Duplicate Runs */

/* spUpdate Permissions for MJ: Employee Company Integrations */

/* spUpdate Permissions for MJ: Employee Roles */

/* spUpdate Permissions for MJ: Employee Skills */

/* spUpdate Permissions for MJ: Encryption Keys */

/* spUpdate Permissions for MJ: Entities */

/* spUpdate Permissions for MJ: Entity Action Invocations */

/* spUpdate Permissions for MJ: Entity Action Filters */

/* spUpdate Permissions for MJ: Entity Action Params */

/* spUpdate Permissions for MJ: Entity Communication Fields */

/* spUpdate Permissions for MJ: Entity Actions */

/* spUpdate Permissions for MJ: Entity AI Actions */

/* spUpdate Permissions for MJ: Entity Communication Message Types */

/* spUpdate Permissions for MJ: Entity Document Runs */

/* spUpdate Permissions for MJ: Entity Document Settings */

/* spUpdate Permissions for MJ: Entity Documents */

/* spUpdate Permissions for MJ: Entity Record Documents */

/* spUpdate Permissions for MJ: Entity Settings */

/* spUpdate Permissions for MJ: File Categories */

/* spUpdate Permissions for MJ: Error Logs */

/* spUpdate Permissions for MJ: File Entity Record Links */

/* spUpdate Permissions for MJ: Files */

/* spUpdate Permissions for MJ: File Storage Accounts */

/* spUpdate Permissions for MJ: Generated Code Categories */

/* spUpdate Permissions for MJ: Generated Codes */

/* spUpdate Permissions for MJ: Library Items */

/* spUpdate Permissions for MJ: List Categories */

/* spUpdate Permissions for MJ: List Invitations */

/* spUpdate Permissions for MJ: Lists */

/* spUpdate Permissions for MJ: List Details */

/* spUpdate Permissions for MJ: List Shares */

/* spUpdate Permissions for MJ: MCP Server Connection Permissions */

/* spUpdate Permissions for MJ: MCP Server Connection Tools */

/* spUpdate Permissions for MJ: MCP Servers */

/* spUpdate Permissions for MJ: MCP Server Connections */

/* spUpdate Permissions for MJ: MCP Server Tools */

/* spUpdate Permissions for MJ: MCP Tool Execution Logs */

/* spUpdate Permissions for MJ: O Auth Tokens */

/* spUpdate Permissions for MJ: O Auth Authorization States */

/* spUpdate Permissions for MJ: O Auth Client Registrations */

/* spUpdate Permissions for MJ: Public Links */

/* spUpdate Permissions for MJ: Queries */

/* spUpdate Permissions for MJ: Projects */

/* spUpdate Permissions for MJ: Query Categories */

/* spUpdate Permissions for MJ: Query Entities */

/* spUpdate Permissions for MJ: Query Fields */

/* spUpdate Permissions for MJ: Query Parameters */

/* spUpdate Permissions for MJ: Query Permissions */

/* spUpdate Permissions for MJ: Recommendation Items */

/* spUpdate Permissions for MJ: Recommendation Runs */

/* spUpdate Permissions for MJ: Recommendations */

/* spUpdate Permissions for MJ: Record Changes */

/* spUpdate Permissions for MJ: Record Change Replay Runs */

/* spUpdate Permissions for MJ: Record Links */

/* spUpdate Permissions for MJ: Record Merge Deletion Logs */

/* spUpdate Permissions for MJ: Record Merge Logs */

/* spUpdate Permissions for MJ: Report Categories */

/* spUpdate Permissions for MJ: Report Snapshots */

/* spUpdate Permissions for MJ: Report User States */

/* spUpdate Permissions for MJ: Report Versions */

/* spUpdate Permissions for MJ: Reports */

/* spUpdate Permissions for MJ: Resource Permissions */

/* spUpdate Permissions for MJ: Resource Links */

/* spUpdate Permissions for MJ: Resource Types */

/* spUpdate Permissions for MJ: Scheduled Actions */

/* spUpdate Permissions for MJ: Scheduled Action Params */

/* spUpdate Permissions for MJ: Scheduled Job Runs */

/* spUpdate Permissions for MJ: Scheduled Jobs */

/* spUpdate Permissions for MJ: Tagged Items */

/* spUpdate Permissions for MJ: Skills */

/* spUpdate Permissions for MJ: Tags */

/* spUpdate Permissions for MJ: Task Dependencies */

/* spUpdate Permissions for MJ: Template Categories */

/* spUpdate Permissions for MJ: Tasks */

/* spUpdate Permissions for MJ: Template Contents */

/* spUpdate Permissions for MJ: Template Params */

/* spUpdate Permissions for MJ: Test Rubrics */

/* spUpdate Permissions for MJ: Templates */

/* spUpdate Permissions for MJ: Test Runs */

/* spUpdate Permissions for MJ: Test Run Feedbacks */

/* spUpdate Permissions for MJ: Test Suite Tests */

/* spUpdate Permissions for MJ: Test Suite Runs */

/* spUpdate Permissions for MJ: Tests */

/* spUpdate Permissions for MJ: Test Suites */

/* spUpdate Permissions for MJ: User Notification Types */

/* spUpdate Permissions for MJ: User Applications */

/* spUpdate Permissions for MJ: User Notification Preferences */

/* spUpdate Permissions for MJ: User Roles */

/* spUpdate Permissions for MJ: User Notifications */

/* spUpdate Permissions for MJ: User View Categories */

/* spUpdate Permissions for MJ: User Settings */

/* spUpdate Permissions for MJ: User View Runs */

/* spUpdate Permissions for MJ: Vector Indexes */

/* spUpdate Permissions for MJ: Version Label Restores */

/* spUpdate Permissions for MJ: Version Label Items */

/* spUpdate Permissions for MJ: Version Labels */

/* spUpdate Permissions for MJ: Workspace Items */

/* spUpdate Permissions for MJ: Workspaces */
