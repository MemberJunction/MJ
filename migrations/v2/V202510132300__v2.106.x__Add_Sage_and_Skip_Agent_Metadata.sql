-- SQL Logging Session
-- Session ID: 5bfa154d-a78b-41d0-acf0-8f8eeeffdff5
-- Started: 2025-10-14T04:02:25.593Z
-- Description: MetadataSync push operation
-- Format: Migration-ready with Flyway schema placeholders
-- Generated by MemberJunction SQLServerDataProvider

-- Save MJ: Artifact Types (core SP call only)
DECLARE @ID_2e5f4f24 UNIQUEIDENTIFIER,
@Name_2e5f4f24 NVARCHAR(100),
@Description_2e5f4f24 NVARCHAR(MAX),
@ContentType_2e5f4f24 NVARCHAR(100),
@IsEnabled_2e5f4f24 BIT,
@ParentID_2e5f4f24 UNIQUEIDENTIFIER,
@ExtractRules_2e5f4f24 NVARCHAR(MAX),
@DriverClass_2e5f4f24 NVARCHAR(255)
SET
  @ID_2e5f4f24 = '931E8903-7937-4ED1-8C00-6A6568133C7A'
SET
  @Name_2e5f4f24 = N'Marketing Content'
SET
  @Description_2e5f4f24 = N'JSON schema for marketing content artifacts.'
SET
  @ContentType_2e5f4f24 = N'application/json'
SET
  @IsEnabled_2e5f4f24 = 1
SET
  @ParentID_2e5f4f24 = 'AE674C7E-EA0D-49EA-89E4-0649F5EB20D4'
SET
  @ExtractRules_2e5f4f24 = N'[{"name":"name","description":"Extracts the marketing content headline/title","type":"string","standardProperty":"name","extractor":"/**\n * Extracts the name/title for marketing content artifacts\n * Priority: content.headline > seo.metaTitle > metadata.originalBrief (truncated)\n */\ntry {\n  const data = JSON.parse(content);\n\n  // First priority: content.headline\n  if (data.content && data.content.headline) {\n    return data.content.headline;\n  }\n\n  // Second priority: seo.metaTitle\n  if (data.seo && data.seo.metaTitle) {\n    return data.seo.metaTitle;\n  }\n\n  // Fallback: metadata.originalBrief (truncated to reasonable length)\n  if (data.metadata && data.metadata.originalBrief) {\n    const brief = data.metadata.originalBrief;\n    return brief.length > 100 ? brief.substring(0, 100) + ''...'' : brief;\n  }\n\n  return null;\n} catch (e) {\n  return null;\n}\n"},{"name":"description","description":"Extracts the marketing content subheadline or brief","type":"string","standardProperty":"description","extractor":"/**\n * Extracts the description/subheadline for marketing content artifacts\n * Priority: content.subheadline > metadata.originalBrief\n */\ntry {\n  const data = JSON.parse(content);\n\n  // First priority: content.subheadline\n  if (data.content && data.content.subheadline) {\n    return data.content.subheadline;\n  }\n\n  // Fallback: metadata.originalBrief\n  if (data.metadata && data.metadata.originalBrief) {\n    return data.metadata.originalBrief;\n  }\n\n  return null;\n} catch (e) {\n  return null;\n}\n"},{"name":"displayMarkdown","description":"Extracts the full marketing content body in markdown format","type":"string","standardProperty":"displayMarkdown","extractor":"/**\n * Extracts the full body/content in markdown format for marketing content artifacts\n * Priority: content.body > copywriter.initialDraft > editor.revisedDraft\n */\ntry {\n  const data = JSON.parse(content);\n\n  // First priority: content.body\n  if (data.content && data.content.body) {\n    return data.content.body;\n  }\n\n  // Second priority: copywriter.initialDraft\n  if (data.copywriter && data.copywriter.initialDraft) {\n    return data.copywriter.initialDraft;\n  }\n\n  // Fallback: editor.revisedDraft\n  if (data.editor && data.editor.revisedDraft) {\n    return data.editor.revisedDraft;\n  }\n\n  return null;\n} catch (e) {\n  return null;\n}\n"},{"name":"contentType","description":"The type of marketing content (blog_post, social_media, email, etc.)","type":"string","extractor":"/**\n * Extracts the content type for marketing content artifacts\n * Returns the type of marketing content (blog_post, social_media, email, etc.)\n */\ntry {\n  const data = JSON.parse(content);\n\n  // Extract from metadata.contentType\n  if (data.metadata && data.metadata.contentType) {\n    return data.metadata.contentType;\n  }\n\n  return null;\n} catch (e) {\n  return null;\n}\n"},{"name":"targetAudience","description":"The intended audience for this content","type":"string","extractor":"/**\n * Extracts the target audience for marketing content artifacts\n */\ntry {\n  const data = JSON.parse(content);\n\n  // Extract from metadata.targetAudience\n  if (data.metadata && data.metadata.targetAudience) {\n    return data.metadata.targetAudience;\n  }\n\n  return null;\n} catch (e) {\n  return null;\n}\n"},{"name":"seoScore","description":"SEO optimization score (0-100)","type":"number","extractor":"/**\n * Extracts the SEO optimization score for marketing content artifacts\n * Returns a number between 0-100\n */\ntry {\n  const data = JSON.parse(content);\n\n  // Extract from seo.optimizationScore\n  if (data.seo && typeof data.seo.optimizationScore === ''number'') {\n    return data.seo.optimizationScore;\n  }\n\n  return null;\n} catch (e) {\n  return null;\n}\n"},{"name":"brandAlignment","description":"Brand alignment score (0-100)","type":"number","extractor":"/**\n * Extracts the brand alignment score for marketing content artifacts\n * Returns a number between 0-100\n */\ntry {\n  const data = JSON.parse(content);\n\n  // Extract from brand.alignmentScore\n  if (data.brand && typeof data.brand.alignmentScore === ''number'') {\n    return data.brand.alignmentScore;\n  }\n\n  return null;\n} catch (e) {\n  return null;\n}\n"},{"name":"wordCount","description":"Total word count of the content","type":"number","extractor":"/**\n * Extracts the word count for marketing content artifacts\n * Returns the total word count of the content\n */\ntry {\n  const data = JSON.parse(content);\n\n  // Extract from copywriter.wordCount\n  if (data.copywriter && typeof data.copywriter.wordCount === ''number'') {\n    return data.copywriter.wordCount;\n  }\n\n  return null;\n} catch (e) {\n  return null;\n}\n"}]'
EXEC [${flyway:defaultSchema}].spCreateArtifactType @ID = @ID_2e5f4f24,
  @Name = @Name_2e5f4f24,
  @Description = @Description_2e5f4f24,
  @ContentType = @ContentType_2e5f4f24,
  @IsEnabled = @IsEnabled_2e5f4f24,
  @ParentID = @ParentID_2e5f4f24,
  @ExtractRules = @ExtractRules_2e5f4f24,
  @DriverClass = @DriverClass_2e5f4f24;

-- Save Template Contents (core SP call only)
DECLARE @TemplateID_853a2688 UNIQUEIDENTIFIER,
@TypeID_853a2688 UNIQUEIDENTIFIER,
@TemplateText_853a2688 NVARCHAR(MAX),
@Priority_853a2688 INT,
@IsActive_853a2688 BIT,
@ID_853a2688 UNIQUEIDENTIFIER
SET
  @TemplateID_853a2688 = 'E5F923FA-BB9E-42CF-BA5E-229574B070AE'
SET
  @TypeID_853a2688 = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_853a2688 = N'# Sage

## Role
- You are named Sage, the butler and ambient agent within MemberJunction. 
- You are helpful, think deeply, know MemberJunction deeply, and are slightly witty. 
- You are the **ambient, always-present** AI assistant in MemberJunction conversations. 
- You operate like a skilled butler: attentive, helpful, and discreet. You know when to engage, when to delegate, and when to simply observe.

## Core Responsibilities

### 1. Conversation Awareness
- Monitor all messages in the conversation context
- Understand when you''re being directly addressed vs. observing
- Track conversation flow and participant interactions
- Maintain awareness of active agents and their work

### 2. Smart Engagement
**Respond when:**
- Directly addressed by name or with @ mention
- Asked a direct question
- User requests help or guidance with MemberJunction
- User expresses confusion or frustration
- Conversation needs clarification or direction
- No other agent is better suited

**Observe silently when:**
- Users are conversing with each other
- Another specialized agent is **already** engaged
- Users are having productive discussions
- Your input would interrupt natural flow
- The conversation is off-topic social chat

### 3. Navigation & Assistance
- Help users discover and use MemberJunction features
- Guide users to appropriate functionality
- Explain entity relationships and data structures

### 4. Agent Orchestration

**IMPORTANT**: ALL agent invocations must use the task graph format below, whether single-step or multi-step.

#### Task Graph Format (Required for ALL Agent Work)

```json
// Single-step example - simple request
{
    "newElements": {
        "taskGraph": {
            "workflowName": "Research Companies",
            "reasoning": "User wants to query company data",
            "tasks": [
                {
                    "tempId": "task1",
                    "name": "Research Companies",
                    "description": "Query database for company information",
                    "agentName": "Research Agent",
                    "dependsOn": [],
                    "inputPayload": {
                        "query": "companies in AI sector"
                    }
                }
            ]
        }
    }
}

// Multi-step example - complex workflow
{
    "newElements": {
        "taskGraph": {
            "workflowName": "Research and Analyze AI Market",
            "reasoning": "This request requires research followed by analysis",
            "tasks": [
                {
                    "tempId": "task1",
                    "name": "Research Data",
                    "description": "Query associations database for revenue and location data",
                    "agentName": "Research Agent",
                    "dependsOn": [],
                    "inputPayload": {
                        "query": "associations with 5-30M revenue in USA"
                    }
                },
                {
                    "tempId": "task2",
                    "name": "Analyze Market Segments",
                    "description": "Analyze the research data by subsection",
                    "agentName": "Analysis Agent",
                    "dependsOn": ["task1"],
                    "inputPayload": {
                        "data": "@task1.output",
                        "groupBy": "subsection"
                    }
                },
                {
                    "tempId": "task3",
                    "name": "Create GTM Report",
                    "description": "Generate go-to-market strategy based on analysis",
                    "agentName": "Marketing Agent",
                    "dependsOn": ["task2"],
                    "inputPayload": {
                        "analysis": "@task2.output",
                        "research": "@task1.output",
                        "product": "Sidecar AI Learning Hub"
                    }
                }
            ]
        }
    }
}
```

**Task Graph Rules:**
- **workflowName**: Brief name for the overall workflow (used for parent task)
- **reasoning**: Why you''re structuring the work this way
- **tasks**: Array of tasks (can be 1 for simple requests, or multiple for complex workflows)
- **tempId**: Use simple IDs (task1, task2, etc.) for internal references
- **name**: Short task name (shows in UI)
- **description**: What this specific task will do
- **agentName**: Which agent executes this task (must match available agents)
- **dependsOn**: Array of tempIds that must complete first (empty = can start immediately)
- **inputPayload**: Data passed to the agent (can reference prior outputs with `@taskX.output`)

**When tasks have dependencies:**
- Sequential: task2 dependsOn task1 - waits for task1 to complete
- Parallel: task2 and task3 both have empty dependsOn - run simultaneously
- Merge: task4 dependsOn [task2, task3] - waits for both to complete
- All tasks are tracked in database with real-time progress updates

- The user has direct access to the following agents. Invoke those agents for single-step work, or include them in task graphs for multi-step workflows

#### Available Agents
{% for a in ALL_AVAILABLE_AGENTS %}
##### {{a.Name}}
{{a.Description}}
{% endfor %}

## Decision Framework

### Use Agents First
- If an available agent in the above list is built for a particular purpose that seems aligned with the user request, response back with a payload invoking that agent and `Success` do NOT attempt to chat and solve the user problem directly
- If no agent is listed that can solve the problem, then proceed as follows:

### When to Respond Directly (type: ''Chat'')
- Simple informational questions
- Navigation guidance
- Quick clarifications
- Acknowledgments
- Follow-up questions

### When to Execute (type: ''Actions'')
- Simple data queries
- Permission checks
- Entity record lookups
- Basic CRUD operations
- Entity searches

### When to Stay Silent (taskComplete: true, no message)
- Multi-party conversations not directed at you
- Other agents handling requests
- Social chatter between users
- Topics outside your scope

**IMPORTANT**: If you have a helpful message to share with the user (like a summary, answer, or follow-up question), ALWAYS include it in the `message` field even if you''re not invoking an agent or creating tasks. The `message` field should ONLY be omitted when you''re truly observing silently and have nothing useful to contribute.

## Personality & Tone

**Be:**
- ‚úÖ Professional yet approachable
- ‚úÖ Concise and efficient
- ‚úÖ Proactive but not intrusive
- ‚úÖ Helpful without being condescending
- ‚úÖ Just a little witty
- ‚úÖ Confident but humble

**Avoid:**
- ‚ùå Verbose explanations unless requested
- ‚ùå Interrupting conversations
- ‚ùå Assuming you know best
- ‚ùå Technical jargon without context
- ‚ùå Sarcasm
- ‚ùå Over-explaining simple things

## Response Guidelines

### Message Length
- **Brief** (1-2 sentences): Simple answers, acknowledgments
- **Standard** (2-4 sentences): Typical responses, guidance
- **Detailed** (5+ sentences): Complex explanations when requested

### Communication Style
```
GOOD:
"I can help you create that report. Would you like me to bring in the Analysis Agent to handle the data extraction?"

"The Users entity is in the Admin area. Want me to navigate there?"

"I''ll step back while the Data Agent handles this query."

BAD:
"I noticed you mentioned reports! As the Conversation Manager, I have extensive knowledge about MemberJunction''s reporting capabilities. Let me explain all the different types of reports we support..."

"While I could help with that, I think maybe possibly we might want to consider..."
```

## Context Awareness

### Conversation History
- Reference previous messages when relevant
- Remember user preferences stated in conversation
- Track what''s been accomplished
- Note any open issues or blockers

### Multi-User Scenarios
- Identify who you''re responding to
- Respect ongoing discussions
- Only interject when value is clear
- Address specific users by name when appropriate

### Agent Coordination
- Know what other agents are available
- Understand agent capabilities
- Pass appropriate context to sub-agents
- Don''t duplicate work other agents are doing

## Special Scenarios

### First Message in Conversation
- Greet warmly but briefly
- Offer help discovering MemberJunction
- Set expectations for your role
- Don''t overwhelm with information

### Error Situations
- Acknowledge errors clearly
- Explain what went wrong simply
- Offer concrete next steps
- Escalate to humans if needed

### Ambiguous Requests
- Ask clarifying questions
- Provide multiple interpretation options
- Suggest related functionality
- Help user refine their request
 
---

## Remember

You are the **ambient intelligence** in every MemberJunction conversation. Your value comes not from always having the answer, but from knowing when to help, when to delegate, and when to step back. Quality over quantity. Relevance over responsiveness.

# CRITICAL REMINDER
Do **not** attempt to do work if you have an available agent that can do that work. You are a generalist. Specialists will do better work, always try to find a specialist agent first! For example, if the user asks for a blog or other writing, sure you could do this, but if there is a marketing agent or other similar specialist that has such work in its description, **always** use the agent as the first priority!'
SET
  @Priority_853a2688 = 1
SET
  @IsActive_853a2688 = 1
SET
  @ID_853a2688 = '2CC2549D-AAF3-499A-8798-3DB053855698'
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = @TemplateID_853a2688,
  @TypeID = @TypeID_853a2688,
  @TemplateText = @TemplateText_853a2688,
  @Priority = @Priority_853a2688,
  @IsActive = @IsActive_853a2688,
  @ID = @ID_853a2688;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_02b12347 UNIQUEIDENTIFIER,
@Name_02b12347 NVARCHAR(255),
@Description_02b12347 NVARCHAR(MAX),
@Type_02b12347 NVARCHAR(20),
@DefaultValue_02b12347 NVARCHAR(MAX),
@IsRequired_02b12347 BIT,
@LinkedParameterName_02b12347 NVARCHAR(255),
@LinkedParameterField_02b12347 NVARCHAR(500),
@ExtraFilter_02b12347 NVARCHAR(MAX),
@EntityID_02b12347 UNIQUEIDENTIFIER,
@RecordID_02b12347 NVARCHAR(2000),
@OrderBy_02b12347 NVARCHAR(MAX),
@TemplateContentID_02b12347 UNIQUEIDENTIFIER,
@ID_02b12347 UNIQUEIDENTIFIER
SET
  @TemplateID_02b12347 = 'E5F923FA-BB9E-42CF-BA5E-229574B070AE'
SET
  @Name_02b12347 = N'ALL_AVAILABLE_AGENTS'
SET
  @Description_02b12347 = N'List of all available agents that can be invoked for various tasks'
SET
  @Type_02b12347 = N'Array'
SET
  @IsRequired_02b12347 = 0
SET
  @ID_02b12347 = 'C7892681-2735-41D0-8406-5BDE9C62196B'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_02b12347,
  @Name = @Name_02b12347,
  @Description = @Description_02b12347,
  @Type = @Type_02b12347,
  @DefaultValue = @DefaultValue_02b12347,
  @IsRequired = @IsRequired_02b12347,
  @LinkedParameterName = @LinkedParameterName_02b12347,
  @LinkedParameterField = @LinkedParameterField_02b12347,
  @ExtraFilter = @ExtraFilter_02b12347,
  @EntityID = @EntityID_02b12347,
  @RecordID = @RecordID_02b12347,
  @OrderBy = @OrderBy_02b12347,
  @TemplateContentID = @TemplateContentID_02b12347,
  @ID = @ID_02b12347;

-- Save AI Prompts (core SP call only)
DECLARE @Name_e4963add NVARCHAR(255),
@Description_e4963add NVARCHAR(MAX),
@TemplateID_e4963add UNIQUEIDENTIFIER,
@CategoryID_e4963add UNIQUEIDENTIFIER,
@TypeID_e4963add UNIQUEIDENTIFIER,
@Status_e4963add NVARCHAR(50),
@ResponseFormat_e4963add NVARCHAR(20),
@ModelSpecificResponseFormat_e4963add NVARCHAR(MAX),
@AIModelTypeID_e4963add UNIQUEIDENTIFIER,
@MinPowerRank_e4963add INT,
@SelectionStrategy_e4963add NVARCHAR(20),
@PowerPreference_e4963add NVARCHAR(20),
@ParallelizationMode_e4963add NVARCHAR(20),
@ParallelCount_e4963add INT,
@ParallelConfigParam_e4963add NVARCHAR(100),
@OutputType_e4963add NVARCHAR(50),
@OutputExample_e4963add NVARCHAR(MAX),
@ValidationBehavior_e4963add NVARCHAR(50),
@MaxRetries_e4963add INT,
@RetryDelayMS_e4963add INT,
@RetryStrategy_e4963add NVARCHAR(20),
@ResultSelectorPromptID_e4963add UNIQUEIDENTIFIER,
@EnableCaching_e4963add BIT,
@CacheTTLSeconds_e4963add INT,
@CacheMatchType_e4963add NVARCHAR(20),
@CacheSimilarityThreshold_e4963add FLOAT(53),
@CacheMustMatchModel_e4963add BIT,
@CacheMustMatchVendor_e4963add BIT,
@CacheMustMatchAgent_e4963add BIT,
@CacheMustMatchConfig_e4963add BIT,
@PromptRole_e4963add NVARCHAR(20),
@PromptPosition_e4963add NVARCHAR(20),
@Temperature_e4963add DECIMAL(3, 2),
@TopP_e4963add DECIMAL(3, 2),
@TopK_e4963add INT,
@MinP_e4963add DECIMAL(3, 2),
@FrequencyPenalty_e4963add DECIMAL(3, 2),
@PresencePenalty_e4963add DECIMAL(3, 2),
@Seed_e4963add INT,
@StopSequences_e4963add NVARCHAR(1000),
@IncludeLogProbs_e4963add BIT,
@TopLogProbs_e4963add INT,
@FailoverStrategy_e4963add NVARCHAR(50),
@FailoverMaxAttempts_e4963add INT,
@FailoverDelaySeconds_e4963add INT,
@FailoverModelStrategy_e4963add NVARCHAR(50),
@FailoverErrorScope_e4963add NVARCHAR(50),
@EffortLevel_e4963add INT,
@ID_e4963add UNIQUEIDENTIFIER
SET
  @Name_e4963add = N'Sage - System Prompt'
SET
  @Description_e4963add = N'System prompt for the ambient Conversation Manager agent that monitors and assists users in MemberJunction conversations.'
SET
  @TemplateID_e4963add = 'E5F923FA-BB9E-42CF-BA5E-229574B070AE'
SET
  @CategoryID_e4963add = '7D2DEF7F-138F-4620-8309-33964A97A997'
SET
  @TypeID_e4963add = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_e4963add = N'Active'
SET
  @ResponseFormat_e4963add = N'JSON'
SET
  @MinPowerRank_e4963add = 0
SET
  @SelectionStrategy_e4963add = N'Specific'
SET
  @PowerPreference_e4963add = N'Highest'
SET
  @ParallelizationMode_e4963add = N'None'
SET
  @OutputType_e4963add = N'string'
SET
  @ValidationBehavior_e4963add = N'Warn'
SET
  @MaxRetries_e4963add = 2
SET
  @RetryDelayMS_e4963add = 1000
SET
  @RetryStrategy_e4963add = N'Fixed'
SET
  @EnableCaching_e4963add = 0
SET
  @CacheMatchType_e4963add = N'Exact'
SET
  @CacheMustMatchModel_e4963add = 1
SET
  @CacheMustMatchVendor_e4963add = 1
SET
  @CacheMustMatchAgent_e4963add = 0
SET
  @CacheMustMatchConfig_e4963add = 0
SET
  @PromptRole_e4963add = N'System'
SET
  @PromptPosition_e4963add = N'First'
SET
  @IncludeLogProbs_e4963add = 0
SET
  @FailoverStrategy_e4963add = N'SameModelDifferentVendor'
SET
  @FailoverMaxAttempts_e4963add = 3
SET
  @FailoverDelaySeconds_e4963add = 5
SET
  @FailoverModelStrategy_e4963add = N'PreferSameModel'
SET
  @FailoverErrorScope_e4963add = N'All'
SET
  @ID_e4963add = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
EXEC [${flyway:defaultSchema}].spUpdateAIPrompt @Name = @Name_e4963add,
  @Description = @Description_e4963add,
  @TemplateID = @TemplateID_e4963add,
  @CategoryID = @CategoryID_e4963add,
  @TypeID = @TypeID_e4963add,
  @Status = @Status_e4963add,
  @ResponseFormat = @ResponseFormat_e4963add,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_e4963add,
  @AIModelTypeID = @AIModelTypeID_e4963add,
  @MinPowerRank = @MinPowerRank_e4963add,
  @SelectionStrategy = @SelectionStrategy_e4963add,
  @PowerPreference = @PowerPreference_e4963add,
  @ParallelizationMode = @ParallelizationMode_e4963add,
  @ParallelCount = @ParallelCount_e4963add,
  @ParallelConfigParam = @ParallelConfigParam_e4963add,
  @OutputType = @OutputType_e4963add,
  @OutputExample = @OutputExample_e4963add,
  @ValidationBehavior = @ValidationBehavior_e4963add,
  @MaxRetries = @MaxRetries_e4963add,
  @RetryDelayMS = @RetryDelayMS_e4963add,
  @RetryStrategy = @RetryStrategy_e4963add,
  @ResultSelectorPromptID = @ResultSelectorPromptID_e4963add,
  @EnableCaching = @EnableCaching_e4963add,
  @CacheTTLSeconds = @CacheTTLSeconds_e4963add,
  @CacheMatchType = @CacheMatchType_e4963add,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_e4963add,
  @CacheMustMatchModel = @CacheMustMatchModel_e4963add,
  @CacheMustMatchVendor = @CacheMustMatchVendor_e4963add,
  @CacheMustMatchAgent = @CacheMustMatchAgent_e4963add,
  @CacheMustMatchConfig = @CacheMustMatchConfig_e4963add,
  @PromptRole = @PromptRole_e4963add,
  @PromptPosition = @PromptPosition_e4963add,
  @Temperature = @Temperature_e4963add,
  @TopP = @TopP_e4963add,
  @TopK = @TopK_e4963add,
  @MinP = @MinP_e4963add,
  @FrequencyPenalty = @FrequencyPenalty_e4963add,
  @PresencePenalty = @PresencePenalty_e4963add,
  @Seed = @Seed_e4963add,
  @StopSequences = @StopSequences_e4963add,
  @IncludeLogProbs = @IncludeLogProbs_e4963add,
  @TopLogProbs = @TopLogProbs_e4963add,
  @FailoverStrategy = @FailoverStrategy_e4963add,
  @FailoverMaxAttempts = @FailoverMaxAttempts_e4963add,
  @FailoverDelaySeconds = @FailoverDelaySeconds_e4963add,
  @FailoverModelStrategy = @FailoverModelStrategy_e4963add,
  @FailoverErrorScope = @FailoverErrorScope_e4963add,
  @EffortLevel = @EffortLevel_e4963add,
  @ID = @ID_e4963add;

-- Save AI Agents (core SP call only)
DECLARE @Name_e6fff2f8 NVARCHAR(255),
@Description_e6fff2f8 NVARCHAR(MAX),
@LogoURL_e6fff2f8 NVARCHAR(255),
@ParentID_e6fff2f8 UNIQUEIDENTIFIER,
@ExposeAsAction_e6fff2f8 BIT,
@ExecutionOrder_e6fff2f8 INT,
@ExecutionMode_e6fff2f8 NVARCHAR(20),
@EnableContextCompression_e6fff2f8 BIT,
@ContextCompressionMessageThreshold_e6fff2f8 INT,
@ContextCompressionPromptID_e6fff2f8 UNIQUEIDENTIFIER,
@ContextCompressionMessageRetentionCount_e6fff2f8 INT,
@TypeID_e6fff2f8 UNIQUEIDENTIFIER,
@Status_e6fff2f8 NVARCHAR(20),
@DriverClass_e6fff2f8 NVARCHAR(255),
@IconClass_e6fff2f8 NVARCHAR(100),
@ModelSelectionMode_e6fff2f8 NVARCHAR(50),
@PayloadDownstreamPaths_e6fff2f8 NVARCHAR(MAX),
@PayloadUpstreamPaths_e6fff2f8 NVARCHAR(MAX),
@PayloadSelfReadPaths_e6fff2f8 NVARCHAR(MAX),
@PayloadSelfWritePaths_e6fff2f8 NVARCHAR(MAX),
@PayloadScope_e6fff2f8 NVARCHAR(MAX),
@FinalPayloadValidation_e6fff2f8 NVARCHAR(MAX),
@FinalPayloadValidationMode_e6fff2f8 NVARCHAR(25),
@FinalPayloadValidationMaxRetries_e6fff2f8 INT,
@MaxCostPerRun_e6fff2f8 DECIMAL(10, 4),
@MaxTokensPerRun_e6fff2f8 INT,
@MaxIterationsPerRun_e6fff2f8 INT,
@MaxTimePerRun_e6fff2f8 INT,
@MinExecutionsPerRun_e6fff2f8 INT,
@MaxExecutionsPerRun_e6fff2f8 INT,
@StartingPayloadValidation_e6fff2f8 NVARCHAR(MAX),
@StartingPayloadValidationMode_e6fff2f8 NVARCHAR(25),
@DefaultPromptEffortLevel_e6fff2f8 INT,
@ChatHandlingOption_e6fff2f8 NVARCHAR(30),
@DefaultArtifactTypeID_e6fff2f8 UNIQUEIDENTIFIER,
@OwnerUserID_e6fff2f8 UNIQUEIDENTIFIER,
@ID_e6fff2f8 UNIQUEIDENTIFIER
SET
  @Name_e6fff2f8 = N'Marketing Agent'
SET
  @Description_e6fff2f8 = N'Strategic orchestrator for marketing content creation workflows, managing sub-agents to deliver high-quality marketing materials.'
SET
  @ExposeAsAction_e6fff2f8 = 1
SET
  @ExecutionOrder_e6fff2f8 = 1
SET
  @ExecutionMode_e6fff2f8 = N'Sequential'
SET
  @EnableContextCompression_e6fff2f8 = 0
SET
  @TypeID_e6fff2f8 = 'F7926101-5099-4FA5-836A-479D9707C818'
SET
  @Status_e6fff2f8 = N'Active'
SET
  @IconClass_e6fff2f8 = N'fa-solid fa-bullhorn'
SET
  @ModelSelectionMode_e6fff2f8 = N'Agent Type'
SET
  @PayloadDownstreamPaths_e6fff2f8 = N'["*"]'
SET
  @PayloadUpstreamPaths_e6fff2f8 = N'["*"]'
SET
  @FinalPayloadValidation_e6fff2f8 = N'{"metadata":{"sessionId":"mkt-2024-01-15-abc123","createdAt":"2024-01-15T10:00:00Z","updatedAt":"2024-01-15T11:30:00Z","status":"approved","version?":3,"lastModifiedBy?":"Brand Guardian Agent","originalBrief":"Create compelling email campaign for new product launch targeting tech-savvy professionals","targetAudience?":"Tech professionals aged 25-45 interested in productivity tools","contentType?":"email","targetPlatforms?":["email","linkedin","twitter"]},"content":{"headline?":"Revolutionize Your Workflow: Introducing ProductX","alternativeHeadlines?":["10x Your Productivity with ProductX","The Future of Work Starts with ProductX"],"subheadline?":"Join 10,000+ professionals already transforming their daily workflow","body?":"<p>Dear [Name],</p><p>Imagine accomplishing in 2 hours what used to take your entire day...</p>","callToAction?":"Start Your Free Trial Today","summary?":"ProductX is an AI-powered productivity suite that automates repetitive tasks and streamlines workflows for modern professionals.","keyPoints?":["Save 4+ hours daily with intelligent automation","Seamless integration with existing tools","Enterprise-grade security and compliance","30-day money-back guarantee"],"platformVariations?":[{"platform":"twitter","headline?":"üöÄ ProductX is here! Transform your workflow with AI-powered automation.","body?":"Join 10K+ pros saving 4+ hours daily. Limited early-bird pricing available!","characterCount?":125,"*":"Additional platform-specific fields"}]},"copywriter?":{"initialDraft?":"Original draft content here...","creativeApproach?":"Problem-agitation-solution with social proof","toneOfVoice?":"Professional yet conversational","persuasionTechniques?":["Social proof","Scarcity","Authority","Reciprocity"],"emotionalHooks?":["Fear of falling behind","Desire for success","Need for efficiency"],"storyElements?":{"hook?":"Imagine accomplishing in 2 hours what used to take your entire day","conflict?":"Professionals waste 60% of their time on repetitive tasks","resolution?":"ProductX automates the mundane so you can focus on what matters","*":"Additional story elements"},"researchInsights?":["Target audience values time-saving over cost-saving","Competitors focus on features, opportunity to focus on outcomes"],"wordCount?":450,"readabilityScore?":8.5,"*":"Additional copywriter-specific fields"},"seo?":{"primaryKeyword?":"AI productivity tools","secondaryKeywords?":["workflow automation","productivity software","AI assistant"],"longTailKeywords?":["best AI productivity tools for professionals","automated workflow software"],"metaTitle?":"ProductX: AI-Powered Productivity Tools for Modern Professionals","metaDescription?":"Transform your workflow with ProductX. Save 4+ hours daily with intelligent automation. Try free for 30 days.","urlSlug?":"productx-ai-productivity-launch","headerStructure?":{"h1?":"Revolutionize Your Workflow with ProductX","h2?":["Why ProductX?","Key Features","Pricing Plans","Get Started Today"],"h3?":["Intelligent Automation","Seamless Integration","Enterprise Security"],"*":"Additional header levels (h4, h5, etc.)"},"aieoOptimization?":{"structuredData?":{"@context":"https://schema.org","@type":"SoftwareApplication","name":"ProductX","applicationCategory":"ProductivityApplication"},"nlpOptimization?":["Natural language commands","Conversational UI elements","Question-based headers"],"voiceSearchPhrases?":["What is the best AI productivity tool?","How can I automate my workflow?"],"faqSchema?":[{"question":"How does ProductX save time?","answer":"ProductX uses AI to identify and automate repetitive tasks..."}],"*":"Additional AIEO fields"},"keywordDensity?":[{"keyword":"AI productivity","density":2.1,"occurrences":8}],"optimizationScore?":92,"*":"Additional SEO-specific fields"},"editor?":{"corrections?":[{"type":"grammar","original":"it''s advanced features","corrected":"its advanced features","explanation?":"Possessive ''its'' not contraction ''it''s''"}],"factChecking?":[{"claim":"Save 4+ hours daily","verified":true,"source?":"Internal user study Q4 2023","notes?":"Based on average of 127 beta users"}],"readabilityImprovements?":["Shortened sentences in paragraph 2","Added transitional phrases for flow"],"clarityScore?":9.2,"consistencyChecks?":[{"check":"Product name consistency","passed":true,"notes?":"ProductX used consistently throughout"}],"feedback?":["Strong opening hook","Good use of social proof"],"suggestions?":["Consider adding customer testimonial","Specify trial duration in CTA"],"*":"Additional editor-specific fields"},"brand?":{"alignmentScore?":95,"voiceConsistency?":{"aligned":true,"deviations?":[],"suggestions?":["Consider adding brand tagline to email signature"]},"valuesAlignment?":[{"value":"Innovation","reflected":true,"evidence?":"AI-powered automation positioning"}],"visualCompliance?":[{"element":"Logo placement","compliant":true,"notes?":"Top-left as per guidelines"}],"legalCompliance?":[{"check":"Privacy policy link","passed":true,"concerns?":[]}],"messagingPillars?":[{"pillar":"Efficiency","addressed":true,"implementation?":"4+ hours daily savings highlighted"}],"brandGuidelines?":[{"guideline":"Always include social proof","followed":true,"notes?":"10,000+ users mentioned"}],"approvalStatus?":"approved","approvalNotes?":"Ready for distribution. Excellent brand alignment.","*":"Additional brand-specific fields"},"publisher?":{"schedule?":[{"platform":"email","scheduledTime":"2024-01-16T09:00:00Z","timezone":"America/New_York"}],"channels":[{"channel":"email","status":"scheduled","url?":null,"metrics?":null}],"tracking?":{"utmSource?":"email","utmMedium?":"launch_campaign","utmCampaign?":"productx_launch_2024","customParameters?":{"segment":"tech_professionals"}},"recommendations":["Send email Tuesday 9 AM for optimal open rates","Post LinkedIn update 2 hours after email"]},"metrics?":{"estimatedEngagement?":78,"predictedCTR?":12.5,"qualityScore?":94,"processingTime?":[{"stage":"copywriter","duration":180}]},"iterations?":[{"iteration":1,"agent":"Copywriter Agent","changes":"Initial draft created with focus on problem-solution narrative","timestamp":"2024-01-15T10:15:00Z"}]}'
SET
  @FinalPayloadValidationMode_e6fff2f8 = N'Warn'
SET
  @FinalPayloadValidationMaxRetries_e6fff2f8 = 2
SET
  @StartingPayloadValidationMode_e6fff2f8 = N'Fail'
SET
  @DefaultArtifactTypeID_e6fff2f8 = '931E8903-7937-4ED1-8C00-6A6568133C7A'
SET
  @OwnerUserID_e6fff2f8 = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @ID_e6fff2f8 = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF'
EXEC [${flyway:defaultSchema}].spUpdateAIAgent @Name = @Name_e6fff2f8,
  @Description = @Description_e6fff2f8,
  @LogoURL = @LogoURL_e6fff2f8,
  @ParentID = @ParentID_e6fff2f8,
  @ExposeAsAction = @ExposeAsAction_e6fff2f8,
  @ExecutionOrder = @ExecutionOrder_e6fff2f8,
  @ExecutionMode = @ExecutionMode_e6fff2f8,
  @EnableContextCompression = @EnableContextCompression_e6fff2f8,
  @ContextCompressionMessageThreshold = @ContextCompressionMessageThreshold_e6fff2f8,
  @ContextCompressionPromptID = @ContextCompressionPromptID_e6fff2f8,
  @ContextCompressionMessageRetentionCount = @ContextCompressionMessageRetentionCount_e6fff2f8,
  @TypeID = @TypeID_e6fff2f8,
  @Status = @Status_e6fff2f8,
  @DriverClass = @DriverClass_e6fff2f8,
  @IconClass = @IconClass_e6fff2f8,
  @ModelSelectionMode = @ModelSelectionMode_e6fff2f8,
  @PayloadDownstreamPaths = @PayloadDownstreamPaths_e6fff2f8,
  @PayloadUpstreamPaths = @PayloadUpstreamPaths_e6fff2f8,
  @PayloadSelfReadPaths = @PayloadSelfReadPaths_e6fff2f8,
  @PayloadSelfWritePaths = @PayloadSelfWritePaths_e6fff2f8,
  @PayloadScope = @PayloadScope_e6fff2f8,
  @FinalPayloadValidation = @FinalPayloadValidation_e6fff2f8,
  @FinalPayloadValidationMode = @FinalPayloadValidationMode_e6fff2f8,
  @FinalPayloadValidationMaxRetries = @FinalPayloadValidationMaxRetries_e6fff2f8,
  @MaxCostPerRun = @MaxCostPerRun_e6fff2f8,
  @MaxTokensPerRun = @MaxTokensPerRun_e6fff2f8,
  @MaxIterationsPerRun = @MaxIterationsPerRun_e6fff2f8,
  @MaxTimePerRun = @MaxTimePerRun_e6fff2f8,
  @MinExecutionsPerRun = @MinExecutionsPerRun_e6fff2f8,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_e6fff2f8,
  @StartingPayloadValidation = @StartingPayloadValidation_e6fff2f8,
  @StartingPayloadValidationMode = @StartingPayloadValidationMode_e6fff2f8,
  @DefaultPromptEffortLevel = @DefaultPromptEffortLevel_e6fff2f8,
  @ChatHandlingOption = @ChatHandlingOption_e6fff2f8,
  @DefaultArtifactTypeID = @DefaultArtifactTypeID_e6fff2f8,
  @OwnerUserID = @OwnerUserID_e6fff2f8,
  @ID = @ID_e6fff2f8;

-- Save AI Agents (core SP call only)
DECLARE @Name_d3a7ec0d NVARCHAR(255),
@Description_d3a7ec0d NVARCHAR(MAX),
@LogoURL_d3a7ec0d NVARCHAR(255),
@ParentID_d3a7ec0d UNIQUEIDENTIFIER,
@ExposeAsAction_d3a7ec0d BIT,
@ExecutionOrder_d3a7ec0d INT,
@ExecutionMode_d3a7ec0d NVARCHAR(20),
@EnableContextCompression_d3a7ec0d BIT,
@ContextCompressionMessageThreshold_d3a7ec0d INT,
@ContextCompressionPromptID_d3a7ec0d UNIQUEIDENTIFIER,
@ContextCompressionMessageRetentionCount_d3a7ec0d INT,
@TypeID_d3a7ec0d UNIQUEIDENTIFIER,
@Status_d3a7ec0d NVARCHAR(20),
@DriverClass_d3a7ec0d NVARCHAR(255),
@IconClass_d3a7ec0d NVARCHAR(100),
@ModelSelectionMode_d3a7ec0d NVARCHAR(50),
@PayloadDownstreamPaths_d3a7ec0d NVARCHAR(MAX),
@PayloadUpstreamPaths_d3a7ec0d NVARCHAR(MAX),
@PayloadSelfReadPaths_d3a7ec0d NVARCHAR(MAX),
@PayloadSelfWritePaths_d3a7ec0d NVARCHAR(MAX),
@PayloadScope_d3a7ec0d NVARCHAR(MAX),
@FinalPayloadValidation_d3a7ec0d NVARCHAR(MAX),
@FinalPayloadValidationMode_d3a7ec0d NVARCHAR(25),
@FinalPayloadValidationMaxRetries_d3a7ec0d INT,
@MaxCostPerRun_d3a7ec0d DECIMAL(10, 4),
@MaxTokensPerRun_d3a7ec0d INT,
@MaxIterationsPerRun_d3a7ec0d INT,
@MaxTimePerRun_d3a7ec0d INT,
@MinExecutionsPerRun_d3a7ec0d INT,
@MaxExecutionsPerRun_d3a7ec0d INT,
@StartingPayloadValidation_d3a7ec0d NVARCHAR(MAX),
@StartingPayloadValidationMode_d3a7ec0d NVARCHAR(25),
@DefaultPromptEffortLevel_d3a7ec0d INT,
@ChatHandlingOption_d3a7ec0d NVARCHAR(30),
@DefaultArtifactTypeID_d3a7ec0d UNIQUEIDENTIFIER,
@OwnerUserID_d3a7ec0d UNIQUEIDENTIFIER,
@ID_d3a7ec0d UNIQUEIDENTIFIER
SET
  @Name_d3a7ec0d = N'Sage'
SET
  @Description_d3a7ec0d = N'Ambient agent in MJ that is always present in all conversations to help the user navigate functionality in MJ, handle basic requests, and bring in other agents to delegate work to'
SET
  @ExposeAsAction_d3a7ec0d = 1
SET
  @ExecutionOrder_d3a7ec0d = 0
SET
  @ExecutionMode_d3a7ec0d = N'Sequential'
SET
  @EnableContextCompression_d3a7ec0d = 0
SET
  @TypeID_d3a7ec0d = 'F7926101-5099-4FA5-836A-479D9707C818'
SET
  @Status_d3a7ec0d = N'Active'
SET
  @IconClass_d3a7ec0d = N'fa-brands fa-superpowers'
SET
  @ModelSelectionMode_d3a7ec0d = N'Agent Type'
SET
  @PayloadDownstreamPaths_d3a7ec0d = N'["*"]'
SET
  @PayloadUpstreamPaths_d3a7ec0d = N'["*"]'
SET
  @FinalPayloadValidationMode_d3a7ec0d = N'Retry'
SET
  @FinalPayloadValidationMaxRetries_d3a7ec0d = 3
SET
  @StartingPayloadValidationMode_d3a7ec0d = N'Fail'
SET
  @OwnerUserID_d3a7ec0d = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @ID_d3a7ec0d = '3AB78346-897F-4238-AA6A-F10A131CC691'
EXEC [${flyway:defaultSchema}].spUpdateAIAgent @Name = @Name_d3a7ec0d,
  @Description = @Description_d3a7ec0d,
  @LogoURL = @LogoURL_d3a7ec0d,
  @ParentID = @ParentID_d3a7ec0d,
  @ExposeAsAction = @ExposeAsAction_d3a7ec0d,
  @ExecutionOrder = @ExecutionOrder_d3a7ec0d,
  @ExecutionMode = @ExecutionMode_d3a7ec0d,
  @EnableContextCompression = @EnableContextCompression_d3a7ec0d,
  @ContextCompressionMessageThreshold = @ContextCompressionMessageThreshold_d3a7ec0d,
  @ContextCompressionPromptID = @ContextCompressionPromptID_d3a7ec0d,
  @ContextCompressionMessageRetentionCount = @ContextCompressionMessageRetentionCount_d3a7ec0d,
  @TypeID = @TypeID_d3a7ec0d,
  @Status = @Status_d3a7ec0d,
  @DriverClass = @DriverClass_d3a7ec0d,
  @IconClass = @IconClass_d3a7ec0d,
  @ModelSelectionMode = @ModelSelectionMode_d3a7ec0d,
  @PayloadDownstreamPaths = @PayloadDownstreamPaths_d3a7ec0d,
  @PayloadUpstreamPaths = @PayloadUpstreamPaths_d3a7ec0d,
  @PayloadSelfReadPaths = @PayloadSelfReadPaths_d3a7ec0d,
  @PayloadSelfWritePaths = @PayloadSelfWritePaths_d3a7ec0d,
  @PayloadScope = @PayloadScope_d3a7ec0d,
  @FinalPayloadValidation = @FinalPayloadValidation_d3a7ec0d,
  @FinalPayloadValidationMode = @FinalPayloadValidationMode_d3a7ec0d,
  @FinalPayloadValidationMaxRetries = @FinalPayloadValidationMaxRetries_d3a7ec0d,
  @MaxCostPerRun = @MaxCostPerRun_d3a7ec0d,
  @MaxTokensPerRun = @MaxTokensPerRun_d3a7ec0d,
  @MaxIterationsPerRun = @MaxIterationsPerRun_d3a7ec0d,
  @MaxTimePerRun = @MaxTimePerRun_d3a7ec0d,
  @MinExecutionsPerRun = @MinExecutionsPerRun_d3a7ec0d,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_d3a7ec0d,
  @StartingPayloadValidation = @StartingPayloadValidation_d3a7ec0d,
  @StartingPayloadValidationMode = @StartingPayloadValidationMode_d3a7ec0d,
  @DefaultPromptEffortLevel = @DefaultPromptEffortLevel_d3a7ec0d,
  @ChatHandlingOption = @ChatHandlingOption_d3a7ec0d,
  @DefaultArtifactTypeID = @DefaultArtifactTypeID_d3a7ec0d,
  @OwnerUserID = @OwnerUserID_d3a7ec0d,
  @ID = @ID_d3a7ec0d;

-- Save AI Agents (core SP call only)
DECLARE @ID_758ce3ce UNIQUEIDENTIFIER,
@Name_758ce3ce NVARCHAR(255),
@Description_758ce3ce NVARCHAR(MAX),
@LogoURL_758ce3ce NVARCHAR(255),
@ParentID_758ce3ce UNIQUEIDENTIFIER,
@ExposeAsAction_758ce3ce BIT,
@ExecutionOrder_758ce3ce INT,
@ExecutionMode_758ce3ce NVARCHAR(20),
@EnableContextCompression_758ce3ce BIT,
@ContextCompressionMessageThreshold_758ce3ce INT,
@ContextCompressionPromptID_758ce3ce UNIQUEIDENTIFIER,
@ContextCompressionMessageRetentionCount_758ce3ce INT,
@TypeID_758ce3ce UNIQUEIDENTIFIER,
@Status_758ce3ce NVARCHAR(20),
@DriverClass_758ce3ce NVARCHAR(255),
@IconClass_758ce3ce NVARCHAR(100),
@ModelSelectionMode_758ce3ce NVARCHAR(50),
@PayloadDownstreamPaths_758ce3ce NVARCHAR(MAX),
@PayloadUpstreamPaths_758ce3ce NVARCHAR(MAX),
@PayloadSelfReadPaths_758ce3ce NVARCHAR(MAX),
@PayloadSelfWritePaths_758ce3ce NVARCHAR(MAX),
@PayloadScope_758ce3ce NVARCHAR(MAX),
@FinalPayloadValidation_758ce3ce NVARCHAR(MAX),
@FinalPayloadValidationMode_758ce3ce NVARCHAR(25),
@FinalPayloadValidationMaxRetries_758ce3ce INT,
@MaxCostPerRun_758ce3ce DECIMAL(10, 4),
@MaxTokensPerRun_758ce3ce INT,
@MaxIterationsPerRun_758ce3ce INT,
@MaxTimePerRun_758ce3ce INT,
@MinExecutionsPerRun_758ce3ce INT,
@MaxExecutionsPerRun_758ce3ce INT,
@StartingPayloadValidation_758ce3ce NVARCHAR(MAX),
@StartingPayloadValidationMode_758ce3ce NVARCHAR(25),
@DefaultPromptEffortLevel_758ce3ce INT,
@ChatHandlingOption_758ce3ce NVARCHAR(30),
@DefaultArtifactTypeID_758ce3ce UNIQUEIDENTIFIER,
@OwnerUserID_758ce3ce UNIQUEIDENTIFIER
SET
  @ID_758ce3ce = 'A829FAAC-9E64-440C-B650-83F92A37E990'
SET
  @Name_758ce3ce = N'Skip'
SET
  @Description_758ce3ce = N'Data analytics and reporting expert that can create charts, graphs, dashboards and provide insights on data'
SET
  @ExposeAsAction_758ce3ce = 1
SET
  @ExecutionOrder_758ce3ce = 0
SET
  @ExecutionMode_758ce3ce = N'Sequential'
SET
  @EnableContextCompression_758ce3ce = 0
SET
  @TypeID_758ce3ce = 'F7926101-5099-4FA5-836A-479D9707C818'
SET
  @Status_758ce3ce = N'Active'
SET
  @DriverClass_758ce3ce = N'SkipProxyAgent'
SET
  @IconClass_758ce3ce = N'mj-icon-skip'
SET
  @ModelSelectionMode_758ce3ce = N'Agent Type'
SET
  @PayloadDownstreamPaths_758ce3ce = N'["*"]'
SET
  @PayloadUpstreamPaths_758ce3ce = N'["*"]'
SET
  @FinalPayloadValidationMode_758ce3ce = N'Retry'
SET
  @FinalPayloadValidationMaxRetries_758ce3ce = 3
SET
  @StartingPayloadValidationMode_758ce3ce = N'Fail'
SET
  @DefaultArtifactTypeID_758ce3ce = 'E8BA10A3-019F-4C51-A8AA-397AB124F212'
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = @ID_758ce3ce,
  @Name = @Name_758ce3ce,
  @Description = @Description_758ce3ce,
  @LogoURL = @LogoURL_758ce3ce,
  @ParentID = @ParentID_758ce3ce,
  @ExposeAsAction = @ExposeAsAction_758ce3ce,
  @ExecutionOrder = @ExecutionOrder_758ce3ce,
  @ExecutionMode = @ExecutionMode_758ce3ce,
  @EnableContextCompression = @EnableContextCompression_758ce3ce,
  @ContextCompressionMessageThreshold = @ContextCompressionMessageThreshold_758ce3ce,
  @ContextCompressionPromptID = @ContextCompressionPromptID_758ce3ce,
  @ContextCompressionMessageRetentionCount = @ContextCompressionMessageRetentionCount_758ce3ce,
  @TypeID = @TypeID_758ce3ce,
  @Status = @Status_758ce3ce,
  @DriverClass = @DriverClass_758ce3ce,
  @IconClass = @IconClass_758ce3ce,
  @ModelSelectionMode = @ModelSelectionMode_758ce3ce,
  @PayloadDownstreamPaths = @PayloadDownstreamPaths_758ce3ce,
  @PayloadUpstreamPaths = @PayloadUpstreamPaths_758ce3ce,
  @PayloadSelfReadPaths = @PayloadSelfReadPaths_758ce3ce,
  @PayloadSelfWritePaths = @PayloadSelfWritePaths_758ce3ce,
  @PayloadScope = @PayloadScope_758ce3ce,
  @FinalPayloadValidation = @FinalPayloadValidation_758ce3ce,
  @FinalPayloadValidationMode = @FinalPayloadValidationMode_758ce3ce,
  @FinalPayloadValidationMaxRetries = @FinalPayloadValidationMaxRetries_758ce3ce,
  @MaxCostPerRun = @MaxCostPerRun_758ce3ce,
  @MaxTokensPerRun = @MaxTokensPerRun_758ce3ce,
  @MaxIterationsPerRun = @MaxIterationsPerRun_758ce3ce,
  @MaxTimePerRun = @MaxTimePerRun_758ce3ce,
  @MinExecutionsPerRun = @MinExecutionsPerRun_758ce3ce,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_758ce3ce,
  @StartingPayloadValidation = @StartingPayloadValidation_758ce3ce,
  @StartingPayloadValidationMode = @StartingPayloadValidationMode_758ce3ce,
  @DefaultPromptEffortLevel = @DefaultPromptEffortLevel_758ce3ce,
  @ChatHandlingOption = @ChatHandlingOption_758ce3ce,
  @DefaultArtifactTypeID = @DefaultArtifactTypeID_758ce3ce,
  @OwnerUserID = @OwnerUserID_758ce3ce;

-- End of SQL Logging Session
-- Session ID: 5bfa154d-a78b-41d0-acf0-8f8eeeffdff5
-- Completed: 2025-10-14T04:02:52.497Z
-- Duration: 26904ms
-- Total Statements: 58
