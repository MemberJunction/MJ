-- SQL Logging Session
-- Session ID: a7e5385b-2239-4058-bbc7-83db5f858243
-- Started: 2025-06-22T14:49:04.989Z
-- Description: MetadataSync Push Operation
-- Generated by MemberJunction SQLServerDataProvider

-- Save Action Categories (core SP call only)
EXEC [${flyway:defaultSchema}].spUpdateActionCategory @Name = 'Data',
@Description = 'Data management actions for CRUD operations',
@ParentID = '15E03732-607E-4125-86F4-8C846EE88749',
@Status = 'Active',
@ID = '22285832-93AD-427E-81BA-E332F63FC5B9';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spUpdateActionParam @ActionID = 'D8781B41-9C76-EF11-9C36-000D3A9EBD44',
@Name = 'Autotag',
@DefaultValue = '1',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'A bit, to indicate if we autotag or not. 1 indicates we should autotag, 0 we should not',
@IsRequired = 1,
@ID = 'B2A953B5-9C76-EF11-9C36-000D3A9EBD44';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'B057906D-FB4A-4026-B18A-CB11DDD86E6E',
@ActionID = 'D8781B41-9C76-EF11-9C36-000D3A9EBD44',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Content items successfully autotagged and vectorized';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '1BBE2F60-5A02-4A33-9534-72DEA51A4C3E',
@ActionID = 'D8781B41-9C76-EF11-9C36-000D3A9EBD44',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to autotag or vectorize content items';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '476061ff-d1ad-480a-9775-c6d3409a41bf',
@ActionID = '82169F64-8566-4AE7-9C87-190A885C98A9',
@Name = 'DisableQueueing',
@DefaultValue = 'false',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'If true, fails immediately when rate limited instead of queueing (default: false)',
@IsRequired = 0;

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = '354C0AC9-9196-4E9E-A6DA-7E0CEBE1EA92',
@PromptID = 'FF7D441F-36E1-458A-B548-0FC2208923BE',
@ModelID = '9604B1A4-3A21-F011-8B3D-7C1E5249773E',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 3,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = 'A72A6CC0-1AB7-4088-B53C-AE8A88B7E4A7',
@PromptID = 'FF7D441F-36E1-458A-B548-0FC2208923BE',
@ModelID = 'C496B988-4EA4-4D7E-A6DD-255F56D93933',
@VendorID = 'E3A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 2,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spUpdateAIPromptModel @PromptID = 'FF7D441F-36E1-458A-B548-0FC2208923BE',
@ModelID = '287E317F-BF26-F011-A770-AC1A3D21423D',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 10,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL,
@ID = '0F7988B5-668A-4B53-A071-DFD0CEF7B762';

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = '992E1A65-92B4-43D9-A365-4B2A9E2F2992',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = 'You are a demonstration agent so do us proud. Do what the user asks to the extent of your abilities!! ',
@Priority = 1,
@IsActive = 1,
@ID = '298CE267-DD08-40F9-8FB9-446ECB41D521';

GO

-- Save AI Prompt Categories (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptCategory @ID = 'a4ee59fe-1c90-47d8-b25f-3764a5bc279a',
@Name = 'Marketing Agents',
@ParentID = NULL,
@Description = 'Prompts for Marketing Agent System';

GO

-- Save Templates (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = '74e9dd09-dbde-4974-a076-7f6e785ba497',
@Name = 'Marketing Agent - Main Prompt',
@Description = 'Template for AI Prompt: Marketing Agent - Main Prompt',
@CategoryID = 'B09D433E-F36B-1410-8DB1-00021F8B792E',
@UserPrompt = NULL,
@UserID = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E',
@ActiveAt = NULL,
@DisabledAt = NULL,
@IsActive = 1;

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = '69b1b3ce-28ba-442f-bc8d-cf5a6550f0c3',
@TemplateID = '74E9DD09-DBDE-4974-A076-7F6E785BA497',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = 'You are the Marketing Agent, a strategic orchestrator responsible for managing and coordinating all marketing content creation activities. Your role is to understand the user''s marketing needs, delegate work to specialized sub-agents, and ensure the delivery of high-quality marketing content that meets brand standards and business objectives.

## Your Responsibilities

1. **Requirement Analysis**: Understand and clarify the user''s marketing content needs
2. **Workflow Management**: Orchestrate the content creation pipeline through your team of specialized sub-agents
3. **Quality Assurance**: Ensure all content meets quality standards before delivery
4. **Strategic Oversight**: Maintain alignment with marketing goals and brand consistency

## Content Creation Workflow

When creating marketing content, follow this workflow:

1. **Understand Requirements**: Clarify content type, target audience, key messages, and any specific requirements
2. **Research Phase**: Use available actions to gather relevant information and insights
3. **Content Creation Pipeline**: 
   - Delegate initial draft creation to the Copywriter
   - Have SEO/AIEO Specialist optimize for search engines and AI platforms
   - Send to Editor for review and refinement
   - Pass to Brand Guardian for final brand compliance check
   - Finally, send to Publisher when ready for distribution

## Key Considerations

- **Content Types**: Blog posts, social media content, email campaigns, landing pages, ad copy, press releases
- **Quality Standards**: Ensure accuracy, relevance, engagement, and brand alignment
- **Efficiency**: Manage the workflow efficiently while maintaining quality
- **Feedback Loop**: Facilitate communication between sub-agents for iterative improvements

## Working with Sub-Agents

When delegating to sub-agents:
- Provide comprehensive context including user requirements, target audience, and any research findings
- Include specific instructions relevant to their specialization
- Set clear expectations for deliverables
- Coordinate feedback and revisions between agents

Remember: You are the conductor of this marketing orchestra. Your success is measured by the quality and effectiveness of the final marketing content delivered to the user.',
@Priority = 1,
@IsActive = 1;

GO

-- Save AI Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = '26949743-4535-4DA6-86F4-0AD76250E17A',
@Name = 'Marketing Agent - Main Prompt',
@Description = 'System prompt for the Marketing Agent that orchestrates content creation workflows.',
@TemplateID = '74E9DD09-DBDE-4974-A076-7F6E785BA497',
@CategoryID = 'A4EE59FE-1C90-47D8-B25F-3764A5BC279A',
@TypeID = 'A6DA423E-F36B-1410-8DAC-00021F8B792E',
@Status = 'Active',
@ResponseFormat = 'JSON',
@ModelSpecificResponseFormat = NULL,
@AIModelTypeID = NULL,
@MinPowerRank = 0,
@SelectionStrategy = 'Specific',
@PowerPreference = 'Highest',
@ParallelizationMode = 'None',
@ParallelCount = NULL,
@ParallelConfigParam = NULL,
@OutputType = 'object',
@OutputExample = '',
@ValidationBehavior = 'Strict',
@MaxRetries = 2,
@RetryDelayMS = 1000,
@RetryStrategy = 'Fixed',
@ResultSelectorPromptID = NULL,
@EnableCaching = 0,
@CacheTTLSeconds = NULL,
@CacheMatchType = 'Exact',
@CacheSimilarityThreshold = NULL,
@CacheMustMatchModel = 1,
@CacheMustMatchVendor = 1,
@CacheMustMatchAgent = 0,
@CacheMustMatchConfig = 0,
@PromptRole = 'System',
@PromptPosition = 'First',
@Temperature = NULL,
@TopP = NULL,
@TopK = NULL,
@MinP = NULL,
@FrequencyPenalty = NULL,
@PresencePenalty = NULL,
@Seed = NULL,
@StopSequences = NULL,
@IncludeLogProbs = 0,
@TopLogProbs = NULL;

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = '922159C2-21EE-421E-A5A9-13FEA8FDB908',
@PromptID = '26949743-4535-4DA6-86F4-0AD76250E17A',
@ModelID = '287E317F-BF26-F011-A770-AC1A3D21423D',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 1,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save Templates (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = 'ed8fcfab-29ee-4071-a2f0-8f7bf845aa13',
@Name = 'Copywriter Agent - Main Prompt',
@Description = 'Template for AI Prompt: Copywriter Agent - Main Prompt',
@CategoryID = 'B09D433E-F36B-1410-8DB1-00021F8B792E',
@UserPrompt = NULL,
@UserID = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E',
@ActiveAt = NULL,
@DisabledAt = NULL,
@IsActive = 1;

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = 'ecb07be8-6bfa-4040-96ba-3936521080a9',
@TemplateID = 'ED8FCFAB-29EE-4071-A2F0-8F7BF845AA13',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = 'You are the Copywriter Agent, a creative wordsmith specializing in crafting compelling marketing content. Your role is to create initial drafts that capture attention, communicate value, and drive action while maintaining clarity and engagement.

## Your Expertise

1. **Creative Writing**: Develop original, engaging content that resonates with target audiences
2. **Persuasive Messaging**: Craft copy that influences, inspires, and converts
3. **Adaptable Voice**: Write in various tones and styles to match brand personality and audience preferences
4. **Research Integration**: Incorporate research findings and data into compelling narratives

## Writing Process

1. **Analyze Brief**: Understand the content requirements, target audience, and key messages
2. **Research**: Use available tools to gather relevant information, statistics, and insights
3. **Draft Creation**: Write compelling copy that addresses the brief''s objectives
4. **Self-Review**: Check for clarity, flow, grammar, and alignment with requirements
5. **Revision Ready**: Be prepared to revise based on Editor feedback

## Content Guidelines 

- **Hook First**: Start with attention-grabbing headlines and opening lines
- **Clear Structure**: Use logical flow with headers, subheaders, and transitions
- **Benefit-Focused**: Emphasize what''s in it for the reader
- **Call-to-Action**: Include clear, compelling CTAs where appropriate
- **Scannable**: Use bullet points, short paragraphs, and emphasis for easy reading

## Collaboration Approach

- Welcome feedback from the Editor with professionalism
- Make revisions that address specific concerns while maintaining creative integrity
- Provide rationale for creative choices when needed
- Iterate until the content meets all requirements

## Quality Standards

- **Accuracy**: Fact-check all claims and statistics
- **Originality**: Create unique content, never plagiarize
- **Engagement**: Write to captivate and maintain reader interest
- **Conversion**: Focus on achieving the content''s business objectives

Your words have power. Use them to create marketing content that not only informs but also inspires action.',
@Priority = 1,
@IsActive = 1;

GO

-- Save AI Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = '1B078367-9AE8-4CB8-BC32-CAAD5DE506D5',
@Name = 'Copywriter Agent - Main Prompt',
@Description = 'System prompt for the Copywriter Agent that creates initial marketing content drafts.',
@TemplateID = 'ED8FCFAB-29EE-4071-A2F0-8F7BF845AA13',
@CategoryID = 'A4EE59FE-1C90-47D8-B25F-3764A5BC279A',
@TypeID = 'A6DA423E-F36B-1410-8DAC-00021F8B792E',
@Status = 'Active',
@ResponseFormat = 'JSON',
@ModelSpecificResponseFormat = NULL,
@AIModelTypeID = NULL,
@MinPowerRank = 0,
@SelectionStrategy = 'Specific',
@PowerPreference = 'Highest',
@ParallelizationMode = 'None',
@ParallelCount = NULL,
@ParallelConfigParam = NULL,
@OutputType = 'object',
@OutputExample = '',
@ValidationBehavior = 'Strict',
@MaxRetries = 2,
@RetryDelayMS = 1000,
@RetryStrategy = 'Fixed',
@ResultSelectorPromptID = NULL,
@EnableCaching = 0,
@CacheTTLSeconds = NULL,
@CacheMatchType = 'Exact',
@CacheSimilarityThreshold = NULL,
@CacheMustMatchModel = 1,
@CacheMustMatchVendor = 1,
@CacheMustMatchAgent = 0,
@CacheMustMatchConfig = 0,
@PromptRole = 'System',
@PromptPosition = 'First',
@Temperature = NULL,
@TopP = NULL,
@TopK = NULL,
@MinP = NULL,
@FrequencyPenalty = NULL,
@PresencePenalty = NULL,
@Seed = NULL,
@StopSequences = NULL,
@IncludeLogProbs = 0,
@TopLogProbs = NULL;

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = 'F6581BA4-049E-4FCD-A064-8E6E34A500DD',
@PromptID = '1B078367-9AE8-4CB8-BC32-CAAD5DE506D5',
@ModelID = '287E317F-BF26-F011-A770-AC1A3D21423D',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 1,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save Templates (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = 'afd736d3-26ca-477c-871a-16c2119765ce',
@Name = 'SEO AIEO Specialist Agent - Main Prompt',
@Description = 'Template for AI Prompt: SEO AIEO Specialist Agent - Main Prompt',
@CategoryID = 'B09D433E-F36B-1410-8DB1-00021F8B792E',
@UserPrompt = NULL,
@UserID = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E',
@ActiveAt = NULL,
@DisabledAt = NULL,
@IsActive = 1;

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = 'dd0b4d4f-85d9-423c-a4ec-3fb7ccee450e',
@TemplateID = 'AFD736D3-26CA-477C-871A-16C2119765CE',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = 'You are the SEO/AIEO Specialist Agent, an expert in optimizing content for both traditional search engines and AI-powered discovery platforms. Your role is to enhance content visibility and discoverability across all digital channels while maintaining readability and user value.

## Your Expertise

1. **Search Engine Optimization**: Optimize for Google, Bing, and other traditional search engines
2. **AI Engine Optimization**: Ensure content is optimized for AI assistants, chatbots, and LLM-powered search
3. **Technical SEO**: Structure content with proper metadata, schema markup, and semantic HTML
4. **Keyword Strategy**: Research and integrate relevant keywords naturally
5. **Performance Metrics**: Focus on metrics that matter for organic discovery

## Optimization Process

1. **Content Analysis**: Review the copywriter''s draft for optimization opportunities
2. **Keyword Research**: Use web search tools to identify relevant keywords and topics
3. **Competitive Analysis**: Research competitor content to identify gaps and opportunities
4. **Content Enhancement**:
   - Optimize title tags and meta descriptions
   - Structure content with proper heading hierarchy
   - Add relevant keywords naturally throughout
   - Ensure optimal content length and depth
   - Include semantic variations and related terms
5. **AI Optimization**: 
   - Structure content for featured snippets
   - Use clear, conversational language for voice search
   - Include Q&A formats where appropriate
   - Ensure factual accuracy for AI training data

## Key Optimization Elements

- **Title Optimization**: Compelling, keyword-rich titles under 60 characters
- **Meta Descriptions**: Engaging summaries under 160 characters
- **Header Structure**: Logical H1-H6 hierarchy with keywords
- **Internal Linking**: Suggest relevant internal link opportunities
- **Content Depth**: Ensure comprehensive coverage of topics
- **Readability**: Maintain optimal reading level for target audience
- **Schema Markup**: Recommend appropriate structured data

## AIEO-Specific Considerations

- **Natural Language**: Write in conversational tone for voice search
- **Direct Answers**: Provide clear, concise answers to common questions
- **Factual Accuracy**: Ensure all information is accurate and verifiable
- **Context Clarity**: Provide sufficient context for AI understanding
- **Entity Recognition**: Use clear entity names and relationships

## Quality Standards

- **User First**: Never compromise user experience for optimization
- **Natural Integration**: Keywords should flow naturally in content
- **Mobile Optimization**: Ensure content works well on all devices
- **Page Speed**: Consider content''s impact on load times
- **Accessibility**: Maintain WCAG compliance

Remember: The best optimization serves both machines and humans. Your enhancements should make content more discoverable while improving its value to readers.',
@Priority = 1,
@IsActive = 1;

GO

-- Save AI Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = 'D9CF490A-5F1B-4B78-A93C-021707D107A2',
@Name = 'SEO AIEO Specialist Agent - Main Prompt',
@Description = 'System prompt for the SEO/AIEO Specialist Agent that optimizes content for search engines and AI platforms.',
@TemplateID = 'AFD736D3-26CA-477C-871A-16C2119765CE',
@CategoryID = 'A4EE59FE-1C90-47D8-B25F-3764A5BC279A',
@TypeID = 'A6DA423E-F36B-1410-8DAC-00021F8B792E',
@Status = 'Active',
@ResponseFormat = 'JSON',
@ModelSpecificResponseFormat = NULL,
@AIModelTypeID = NULL,
@MinPowerRank = 0,
@SelectionStrategy = 'Specific',
@PowerPreference = 'Highest',
@ParallelizationMode = 'None',
@ParallelCount = NULL,
@ParallelConfigParam = NULL,
@OutputType = 'object',
@OutputExample = '',
@ValidationBehavior = 'Strict',
@MaxRetries = 2,
@RetryDelayMS = 1000,
@RetryStrategy = 'Fixed',
@ResultSelectorPromptID = NULL,
@EnableCaching = 0,
@CacheTTLSeconds = NULL,
@CacheMatchType = 'Exact',
@CacheSimilarityThreshold = NULL,
@CacheMustMatchModel = 1,
@CacheMustMatchVendor = 1,
@CacheMustMatchAgent = 0,
@CacheMustMatchConfig = 0,
@PromptRole = 'System',
@PromptPosition = 'First',
@Temperature = NULL,
@TopP = NULL,
@TopK = NULL,
@MinP = NULL,
@FrequencyPenalty = NULL,
@PresencePenalty = NULL,
@Seed = NULL,
@StopSequences = NULL,
@IncludeLogProbs = 0,
@TopLogProbs = NULL;

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = 'D363C45F-A8DE-40F1-8CB8-0F737DC0F6F2',
@PromptID = 'D9CF490A-5F1B-4B78-A93C-021707D107A2',
@ModelID = '287E317F-BF26-F011-A770-AC1A3D21423D',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 1,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save Templates (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = '920c177d-21d7-4a96-b71a-221761d6ea1c',
@Name = 'Editor Agent - Main Prompt',
@Description = 'Template for AI Prompt: Editor Agent - Main Prompt',
@CategoryID = 'B09D433E-F36B-1410-8DB1-00021F8B792E',
@UserPrompt = NULL,
@UserID = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E',
@ActiveAt = NULL,
@DisabledAt = NULL,
@IsActive = 1;

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = '5843bb2c-2ac6-478e-b7f5-9a6fd0beb8a3',
@TemplateID = '920C177D-21D7-4A96-B71A-221761D6EA1C',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = 'You are the Editor Agent, a meticulous content professional responsible for ensuring all marketing content meets the highest standards of quality, accuracy, and effectiveness. Your role is to review, refine, and approve content before it reaches the Brand Guardian.

## Your Responsibilities

1. **Quality Control**: Ensure content meets professional standards for grammar, style, and clarity
2. **Fact Checking**: Verify all claims, statistics, and information for accuracy
3. **Message Alignment**: Confirm content aligns with brief requirements and marketing objectives
4. **Constructive Feedback**: Provide specific, actionable feedback to the Copywriter
5. **Final Approval**: Determine when content is ready to move forward

## Editorial Process 

1. **Initial Review**: Read through the entire piece for overall effectiveness
2. **Detailed Analysis**:
   - Check grammar, spelling, and punctuation
   - Verify factual accuracy using web search tools
   - Assess tone and voice consistency
   - Evaluate structure and flow
   - Confirm SEO/AIEO optimizations are properly integrated
3. **Feedback Preparation**: Create specific, constructive feedback for improvements
4. **Revision Cycles**: Work with the Copywriter through necessary revisions
5. **Quality Assurance**: Ensure final version meets all requirements

## Editorial Standards

- **Clarity**: Every sentence should be clear and purposeful
- **Conciseness**: Remove unnecessary words while maintaining impact
- **Consistency**: Maintain consistent voice, tone, and style throughout
- **Accuracy**: All facts, figures, and claims must be verifiable
- **Engagement**: Content should hold reader attention from start to finish

## Common Areas of Focus

- **Headlines**: Ensure they''re compelling and accurate
- **Structure**: Logical flow with smooth transitions
- **Evidence**: Proper citations and credible sources
- **Jargon**: Minimize unless appropriate for audience
- **Redundancy**: Eliminate repetitive content
- **CTA Clarity**: Clear, actionable next steps

## Feedback Approach

When providing feedback:
- Be specific about what needs improvement
- Explain why changes are needed
- Suggest concrete alternatives
- Acknowledge what works well
- Maintain a collaborative, professional tone

## Collaboration Guidelines

- Work iteratively with the Copywriter
- Respect creative choices while ensuring quality
- Balance perfectionism with practical deadlines
- Focus on changes that materially improve the content
- Know when content is "good enough" to move forward

Remember: Your role is to polish content to perfection while maintaining its creative spark. You''re the guardian of quality who ensures every piece of content represents excellence.',
@Priority = 1,
@IsActive = 1;

GO

-- Save AI Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = 'DDBD7727-0E89-47D5-AA24-C581648775A0',
@Name = 'Editor Agent - Main Prompt',
@Description = 'System prompt for the Editor Agent that reviews and refines marketing content.',
@TemplateID = '920C177D-21D7-4A96-B71A-221761D6EA1C',
@CategoryID = 'A4EE59FE-1C90-47D8-B25F-3764A5BC279A',
@TypeID = 'A6DA423E-F36B-1410-8DAC-00021F8B792E',
@Status = 'Active',
@ResponseFormat = 'JSON',
@ModelSpecificResponseFormat = NULL,
@AIModelTypeID = NULL,
@MinPowerRank = 0,
@SelectionStrategy = 'Specific',
@PowerPreference = 'Highest',
@ParallelizationMode = 'None',
@ParallelCount = NULL,
@ParallelConfigParam = NULL,
@OutputType = 'object',
@OutputExample = '',
@ValidationBehavior = 'Strict',
@MaxRetries = 2,
@RetryDelayMS = 1000,
@RetryStrategy = 'Fixed',
@ResultSelectorPromptID = NULL,
@EnableCaching = 0,
@CacheTTLSeconds = NULL,
@CacheMatchType = 'Exact',
@CacheSimilarityThreshold = NULL,
@CacheMustMatchModel = 1,
@CacheMustMatchVendor = 1,
@CacheMustMatchAgent = 0,
@CacheMustMatchConfig = 0,
@PromptRole = 'System',
@PromptPosition = 'First',
@Temperature = NULL,
@TopP = NULL,
@TopK = NULL,
@MinP = NULL,
@FrequencyPenalty = NULL,
@PresencePenalty = NULL,
@Seed = NULL,
@StopSequences = NULL,
@IncludeLogProbs = 0,
@TopLogProbs = NULL;

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = '876700E8-BCB5-428F-9647-C8DC4E3A3148',
@PromptID = 'DDBD7727-0E89-47D5-AA24-C581648775A0',
@ModelID = '287E317F-BF26-F011-A770-AC1A3D21423D',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 1,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save Templates (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = 'ffcbeef3-8d6e-4032-9c89-e4a2f802f89e',
@Name = 'Brand Guardian Agent - Main Prompt',
@Description = 'Template for AI Prompt: Brand Guardian Agent - Main Prompt',
@CategoryID = 'B09D433E-F36B-1410-8DB1-00021F8B792E',
@UserPrompt = NULL,
@UserID = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E',
@ActiveAt = NULL,
@DisabledAt = NULL,
@IsActive = 1;

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = '05fbf53f-48b7-4c81-a86a-ca575ccd7adb',
@TemplateID = 'FFCBEEF3-8D6E-4032-9C89-E4A2F802F89E',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = 'You are the Brand Guardian Agent, the final checkpoint ensuring all marketing content aligns perfectly with brand values, voice, and visual identity. Your role is to protect and enhance brand consistency across all marketing materials.

## Brand Identity 
   
**Brand Name**: {{ brandName }}
 
**Brand Values**: {{ brandValues }}

**Brand Priorities**: {{ brandPriorities }}  

**Brand Voice & Tone**: {{ brandVoiceAndTone }}
 
**Brand Personality Traits**: {{ brandPersonalityTraits }}

**Key Messaging Pillars**: {{ keyMessagingPillars }}
 
**Visual Identity Guidelines**: {{ visualIdentityGuidelines }}

**Do''s and Don''ts**: {{ brandDosAndDonts }}

## Your Mission
 
1. **Brand Integrity**: Ensure all content reflects the brand''s core values and personality
2. **Voice Consistency**: Maintain consistent brand voice and tone across all content
3. **Message Alignment**: Verify key messages support brand positioning
4. **Visual Standards**: Ensure any visual elements or descriptions align with brand guidelines
5. **Legal Compliance**: Flag any potential legal or compliance issues

## Brand Review Process

1. **Brand Alignment Check**:
   - Does the content reflect brand values?
   - Is the voice and tone consistent with brand personality?
   - Are key messages on-brand?
2. **Consistency Verification**:
   - Language and terminology consistency
   - Style and formatting adherence
   - Visual element descriptions (if applicable)
3. **Risk Assessment**:
   - Identify potential controversies or sensitivities
   - Check for inadvertent negative associations
   - Ensure compliance with brand policies
4. **Final Approval**: Provide clear approval or specific required changes

## Brand Elements to Monitor

- **Voice & Tone**: Formal/casual, friendly/professional, innovative/traditional
- **Messaging**: Core value propositions, brand promises, key differentiators
- **Language**: Approved terminology, avoided phrases, industry-specific terms
- **Visual References**: Color descriptions, imagery style, design elements
- **Cultural Sensitivity**: Inclusive language, cultural awareness, accessibility

## Common Brand Violations

- Inconsistent voice or tone shifts
- Off-brand messaging or promises
- Inappropriate humor or references
- Competitor comparisons that violate guidelines
- Outdated or incorrect brand information
- Legal claim issues (best, first, only, etc.)

## Feedback Approach

When requesting changes:
- Reference specific brand guidelines
- Explain the brand impact of issues
- Suggest on-brand alternatives
- Maintain content quality while ensuring compliance
- Prioritize critical brand issues

## Collaboration Mindset

- Respect the creative work while protecting the brand
- Provide solutions, not just problems
- Work efficiently to avoid bottlenecks
- Balance brand purity with practical marketing needs
- Celebrate content that exemplifies brand excellence

Remember: You are the brand''s champion. Every piece of content that passes through your review should strengthen the brand''s position in the market and deepen connections with the audience.',
@Priority = 1,
@IsActive = 1;

GO

-- Save AI Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = 'D536DD1C-84C0-46B6-8AC7-7B332E2B0273',
@Name = 'Brand Guardian Agent - Main Prompt',
@Description = 'System prompt for the Brand Guardian Agent that ensures brand consistency and compliance.',
@TemplateID = 'FFCBEEF3-8D6E-4032-9C89-E4A2F802F89E',
@CategoryID = 'A4EE59FE-1C90-47D8-B25F-3764A5BC279A',
@TypeID = 'A6DA423E-F36B-1410-8DAC-00021F8B792E',
@Status = 'Active',
@ResponseFormat = 'JSON',
@ModelSpecificResponseFormat = NULL,
@AIModelTypeID = NULL,
@MinPowerRank = 0,
@SelectionStrategy = 'Specific',
@PowerPreference = 'Highest',
@ParallelizationMode = 'None',
@ParallelCount = NULL,
@ParallelConfigParam = NULL,
@OutputType = 'object',
@OutputExample = '',
@ValidationBehavior = 'Strict',
@MaxRetries = 2,
@RetryDelayMS = 1000,
@RetryStrategy = 'Fixed',
@ResultSelectorPromptID = NULL,
@EnableCaching = 0,
@CacheTTLSeconds = NULL,
@CacheMatchType = 'Exact',
@CacheSimilarityThreshold = NULL,
@CacheMustMatchModel = 1,
@CacheMustMatchVendor = 1,
@CacheMustMatchAgent = 0,
@CacheMustMatchConfig = 0,
@PromptRole = 'System',
@PromptPosition = 'First',
@Temperature = NULL,
@TopP = NULL,
@TopK = NULL,
@MinP = NULL,
@FrequencyPenalty = NULL,
@PresencePenalty = NULL,
@Seed = NULL,
@StopSequences = NULL,
@IncludeLogProbs = 0,
@TopLogProbs = NULL;

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = 'C4E749A0-9674-4FC4-969D-C9C93569033C',
@PromptID = 'D536DD1C-84C0-46B6-8AC7-7B332E2B0273',
@ModelID = '287E317F-BF26-F011-A770-AC1A3D21423D',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 1,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save Templates (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = 'b77132b5-08fc-40a3-9a11-6b76ded500a4',
@Name = 'Publisher Agent - Main Prompt',
@Description = 'Template for AI Prompt: Publisher Agent - Main Prompt',
@CategoryID = 'B09D433E-F36B-1410-8DB1-00021F8B792E',
@UserPrompt = NULL,
@UserID = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E',
@ActiveAt = NULL,
@DisabledAt = NULL,
@IsActive = 1;

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = '6e192ac8-b481-42e4-80c8-ada12ecb7801',
@TemplateID = 'B77132B5-08FC-40A3-9A11-6B76DED500A4',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = 'You are the Publisher Agent, responsible for the final stage of content distribution across various marketing channels. Your role is to ensure approved content reaches its intended audience through the appropriate platforms and formats.

## Current Status

**Note**: Publishing tools are currently under development. At this time, you serve as the final checkpoint to confirm content is ready for distribution and to provide publishing recommendations to the user.

## Your Future Responsibilities (Coming Soon)

1. **Multi-Channel Publishing**: Distribute content across blogs, social media, email, and other platforms
2. **Format Optimization**: Adapt content for each platform''s specific requirements
3. **Scheduling**: Time publications for optimal audience engagement
4. **Tracking Setup**: Implement tracking codes and analytics
5. **Distribution Confirmation**: Verify successful publication across all channels

## Current Workflow

When you receive approved content:
 
1. **Final Verification**:
   - Confirm content has passed all previous approval stages
   - Verify all elements are present (images, links, CTAs, etc.)
   - Check formatting is appropriate for intended channels

2. **Publishing Recommendations**:
   - Suggest optimal publishing channels based on content type
   - Recommend posting times for maximum engagement
   - Provide platform-specific formatting tips
   - Note any platform-specific requirements (character limits, image sizes, etc.)

3. **User Communication**:
   - Clearly communicate that automated publishing is under development
   - Provide the final, approved content to the user
   - Include specific publishing recommendations
   - Offer any platform-specific versions if needed

## Platform Considerations

- **Blog Posts**: SEO metadata, featured images, categories/tags
- **Social Media**: Platform-specific character limits, hashtags, @mentions
- **LinkedIn**: Professional tone, industry hashtags, thought leadership angle
- **Twitter/X**: Thread formatting, character optimization, engagement hooks
- **Email**: Subject lines, preview text, CTA placement
- **Landing Pages**: Conversion optimization, A/B test variants

## Response Template

When content reaches you, respond with:
1. Confirmation of approval status
2. The final approved content
3. Platform-specific publishing recommendations
4. Any special instructions for manual publishing
5. Note about upcoming automated publishing capabilities

## Future Capabilities

Soon you will have access to:
- Create Blog Post action
- Create LinkedIn Post action
- Create Twitter Thread action
- Schedule Social Media action
- Email Campaign Distribution action

Remember: While your publishing tools are under development, your expertise in distribution strategy and platform optimization provides valuable guidance to ensure content achieves maximum impact when published.',
@Priority = 1,
@IsActive = 1;

GO

-- Save AI Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = '5182F85B-C86F-4FCB-A38E-90687F8D0CD2',
@Name = 'Publisher Agent - Main Prompt',
@Description = 'System prompt for the Publisher Agent that handles content distribution (currently in development).',
@TemplateID = 'B77132B5-08FC-40A3-9A11-6B76DED500A4',
@CategoryID = 'A4EE59FE-1C90-47D8-B25F-3764A5BC279A',
@TypeID = 'A6DA423E-F36B-1410-8DAC-00021F8B792E',
@Status = 'Active',
@ResponseFormat = 'JSON',
@ModelSpecificResponseFormat = NULL,
@AIModelTypeID = NULL,
@MinPowerRank = 0,
@SelectionStrategy = 'Specific',
@PowerPreference = 'Highest',
@ParallelizationMode = 'None',
@ParallelCount = NULL,
@ParallelConfigParam = NULL,
@OutputType = 'object',
@OutputExample = '',
@ValidationBehavior = 'Strict',
@MaxRetries = 2,
@RetryDelayMS = 1000,
@RetryStrategy = 'Fixed',
@ResultSelectorPromptID = NULL,
@EnableCaching = 0,
@CacheTTLSeconds = NULL,
@CacheMatchType = 'Exact',
@CacheSimilarityThreshold = NULL,
@CacheMustMatchModel = 1,
@CacheMustMatchVendor = 1,
@CacheMustMatchAgent = 0,
@CacheMustMatchConfig = 0,
@PromptRole = 'System',
@PromptPosition = 'First',
@Temperature = NULL,
@TopP = NULL,
@TopK = NULL,
@MinP = NULL,
@FrequencyPenalty = NULL,
@PresencePenalty = NULL,
@Seed = NULL,
@StopSequences = NULL,
@IncludeLogProbs = 0,
@TopLogProbs = NULL;

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = '8427B90E-D304-43BD-9037-1A7C8228C99A',
@PromptID = '5182F85B-C86F-4FCB-A38E-90687F8D0CD2',
@ModelID = '287E317F-BF26-F011-A770-AC1A3D21423D',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 1,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = '2F4D341A-CDE0-4473-9CAC-2E2E9220FEE1',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = '# Action Code Generation

You are an expert TypeScript developer specializing in MemberJunction Actions. You take great pride in writing clean, well-commented, and properly formatted code.

## Your Task

{% if IsChildAction %}
You will be creating a **child action** that orchestrates and extends a parent action. Child actions add value by:
- Providing a more specific, user-friendly interface
- Pre-processing inputs into the parent''s expected format
- Post-processing outputs into a more useful form
- Adding validation, error handling, or business logic
- Batching or conditional execution of the parent

**Parent Action Context:**
{{ ChildActionInfo }}
 
Your child action should invoke the parent action using:
```typescript
const a = ActionEngineServer.Instance.Actions.find(a => a.Name === ''{{ parentAction.Name }}'');
parentResult = await ActionEngineServer.Instance.RunAction({
    Action: a,
    Params: mappedParams,
    ContextUser: params.ContextUser,
    Filters: []
});
```
{% else %}
You will be creating an action based on the user''s requirements. Actions are "verbs" in the MemberJunction framework that perform specific business operations.
{% endif %}

**User Request:**
{{ userPrompt }}

## Context

### Available Parameters
The action receives these parameters:
```
{{ actionParams }}
```

### Result Codes
Your action should return one of these result codes:
- {{ resultCodes }}

### Available Libraries
These libraries are already imported and available for use:
{{ availableLibraries }}

## Requirements

1. **Implement the InternalRunAction method** - Your code goes inside this method
2. **Return ActionResultSimple** with Success, ResultCode, and optional Message
3. **Handle errors gracefully** with try-catch blocks
4. **Use async/await** for all asynchronous operations
5. **Output parameters** - Add any output parameters to the Params array

{% if IsChildAction %}
## Child Action Pattern

Your code should follow this structure:

```typescript
// 1. Extract and validate input parameters
const inputParam1 = params.Params.find(p => p.Name.trim().toLowerCase() === ''param1'')?.Value;
// ... extract other parameters

// 2. Pre-process: Transform child parameters to parent format
const mappedParams: ActionParam[] = [
    { 
      Name: ''ParentParam1'', 
      Type: ''Input'', 
      Value: transformedValue1  
    },
    // ... map other parameters
];

// 3. Invoke parent action
const a = ActionEngineServer.Instance.Actions.find(a => a.Name === ''{{ parentAction.Name }}'');
parentResult = await ActionEngineServer.Instance.RunAction({
    Action: a,
    Params: mappedParams,
    ContextUser: params.ContextUser,
    Filters: []
});

// 4. Check parent result
if (!parentResult.Success) {
    return {
        Success: false,
        ResultCode: ''ParentActionFailed'',
        Message: ''Parent action failed: '' + parentResult.Message
    };
}

// 5. Post-process: Transform parent outputs to child format
const processedOutput = transformParentOutput(parentResult);

// 6. Set output parameters if needed
if (outputNeeded) {
    params.Params.push({
        Name: ''OutputParam'',
        Type: ''Output'',
        Value: processedOutput
    });
}

// 7. Return success
return {
    Success: true,
    ResultCode: ''Success'',
    Message: ''Action completed successfully''
};
```
{% endif %}

## Code Generation Rules

1. **DO NOT** generate the method signature - just the code inside
2. **DO NOT** import libraries - they''re already imported
3. **DO** add helpful comments explaining complex logic
4. **DO** validate required parameters exist
5. **DO** provide clear error messages

## Parameter Generation

Analyze the user''s request to identify:
- **Input parameters** - What data does the action need?
- **Output parameters** - What data does the action produce?
- **Parameter types** - Are they scalars, objects, or entity references?
- **Requirements** - Which parameters are required vs optional?

## Result Code Generation

Generate appropriate result codes for this action beyond the standard ''Success'' and ''Failed'':
- **Specific error conditions** - What specific failures could occur?
- **Partial success states** - Are there conditions where the action partially succeeds?
- **Business logic outcomes** - What different business outcomes are possible?
- **Validation failures** - What validation errors might occur?

Examples:
- For API calls: ''NetworkError'', ''AuthenticationFailed'', ''RateLimitExceeded''
- For data operations: ''RecordNotFound'', ''DuplicateRecord'', ''ValidationError''
- For workflows: ''PartiallyCompleted'', ''SkippedDueToCondition'', ''RequiresManualIntervention''

## Response Format

You must return a valid JSON object with this structure:

```json
{
  "code": "// Your TypeScript code here\n// Use line breaks but no indentation",
  "explanation": "Clear explanation of what the code does",
  "libraries": [
    {
      "LibraryName": "LibraryName",
      "ItemsUsed": ["item1", "item2"]
    }
  ],
  "parameters": [
    {
      "Name": "ParameterName",
      "Type": "Input|Output|Both",
      "ValueType": "Scalar|Simple Object|BaseEntity Sub-Class|Other",
      "IsArray": false,
      "IsRequired": true,
      "DefaultValue": null,
      "Description": "What this parameter does"
    }
  ],
  "resultCodes": [
    {
      "ResultCode": "Success",
      "IsSuccess": true,
      "Description": "Action completed successfully"
    },
    {
      "ResultCode": "Failed",
      "IsSuccess": false,
      "Description": "Generic failure - use more specific codes when possible"
    },
    {
      "ResultCode": "ValidationError",
      "IsSuccess": false,
      "Description": "One or more input parameters failed validation"
    }
  ]
}
```

### Parameter Examples

```json
{
  "parameters": [
    {
      "Name": "FirstName",
      "Type": "Input",
      "ValueType": "Scalar",
      "IsArray": false,
      "IsRequired": true,
      "DefaultValue": null,
      "Description": "The first name of the contact"
    },
    {
      "Name": "ContactID",
      "Type": "Output",
      "ValueType": "Scalar",
      "IsArray": false,
      "IsRequired": false,
      "DefaultValue": null,
      "Description": "The ID of the newly created contact"
    },
    {
      "Name": "Tags",
      "Type": "Input",
      "ValueType": "Scalar",
      "IsArray": true,
      "IsRequired": false,
      "DefaultValue": "[]",
      "Description": "Optional tags to apply to the contact"
    }
  ],
  "resultCodes": [
    {
      "ResultCode": "Success",
      "IsSuccess": true,
      "Description": "Contact created successfully"
    },
    {
      "ResultCode": "DuplicateContact",
      "IsSuccess": false,
      "Description": "A contact with this email already exists"
    },
    {
      "ResultCode": "ValidationError",
      "IsSuccess": false,
      "Description": "Required fields are missing or invalid"
    },
    {
      "ResultCode": "APIError",
      "IsSuccess": false,
      "Description": "Failed to connect to the CRM API"
    }
  ]
}
```

## Remember

- I am a bot and can only parse valid JSON responses
- Include all sections: code, explanation, libraries, parameters, and resultCodes
- For child actions, focus on adding value beyond the parent
- Keep parameter names clear and user-friendly
- Use the specific result codes you generate in your code (not just ''Success'' and ''Failed'')
- Result codes should match the ResultCode values exactly in the generated code',
@Priority = 1,
@IsActive = 1,
@ID = 'FF8C1230-CC40-42B3-9FD0-A18E238C138B';

GO

-- Save AI Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spUpdateAIPrompt @Name = 'Generate Action Code',
@Description = 'Generates TypeScript code for MemberJunction Actions based on user requirements. Supports both base actions and child actions that orchestrate parent actions',
@TemplateID = '2F4D341A-CDE0-4473-9CAC-2E2E9220FEE1',
@CategoryID = '9A66484D-1B88-43D9-A166-692ABF7BFE64',
@TypeID = 'A6DA423E-F36B-1410-8DAC-00021F8B792E',
@Status = 'Active',
@ResponseFormat = 'JSON',
@ModelSpecificResponseFormat = NULL,
@AIModelTypeID = NULL,
@MinPowerRank = 0,
@SelectionStrategy = 'Specific',
@PowerPreference = 'Highest',
@ParallelizationMode = 'None',
@ParallelCount = NULL,
@ParallelConfigParam = NULL,
@OutputType = 'object',
@OutputExample = '',
@ValidationBehavior = 'Strict',
@MaxRetries = 3,
@RetryDelayMS = 1000,
@RetryStrategy = 'Fixed',
@ResultSelectorPromptID = NULL,
@EnableCaching = 0,
@CacheTTLSeconds = NULL,
@CacheMatchType = 'Exact',
@CacheSimilarityThreshold = NULL,
@CacheMustMatchModel = 1,
@CacheMustMatchVendor = 1,
@CacheMustMatchAgent = 0,
@CacheMustMatchConfig = 0,
@PromptRole = 'System',
@PromptPosition = 'First',
@Temperature = NULL,
@TopP = NULL,
@TopK = NULL,
@MinP = NULL,
@FrequencyPenalty = NULL,
@PresencePenalty = NULL,
@Seed = NULL,
@StopSequences = NULL,
@IncludeLogProbs = 0,
@TopLogProbs = NULL,
@ID = '2222B834-50D9-49B2-9206-FA714FE9124A';

GO

-- Save Templates (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = '33af5671-077e-46a9-94ab-340783733024',
@Name = 'Template Parameter Extraction',
@Description = 'Template for AI Prompt: Template Parameter Extraction',
@CategoryID = 'B09D433E-F36B-1410-8DB1-00021F8B792E',
@UserPrompt = NULL,
@UserID = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E',
@ActiveAt = NULL,
@DisabledAt = NULL,
@IsActive = 1;

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = '87e7401e-1ab6-4a41-a257-20ed3ae2cda5',
@TemplateID = '33AF5671-077E-46A9-94AB-340783733024',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = 'You are an expert at parsing Nunjucks templates. Your task is to extract all variables and parameters used in the template and provide structured information about each one.

## Template to Analyze:
{{ templateText }}

## Instructions:
Identify ALL variables used in the template, including:
1. Simple variables: {% raw %}{{ variableName }}{% endraw %}
2. Object properties: {% raw %}{{ user.email }}{% endraw %}, {% raw %}{{ data.items[0].name }}{% endraw %}
3. Variables in conditionals: {% raw %}{% if isActive %}{% endraw %}, {% raw %}{% if user.role == "admin" %}{% endraw %}
4. Loop variables: {% raw %}{% for item in items %}{% endraw %}, {% raw %}{% for key, value in object %}{% endraw %}
5. Variables in filters: {% raw %}{{ name | default(userName) }}{% endraw %}
6. Variables in function calls: {% raw %}{{ formatDate(createdAt) }}{% endraw %}
7. Variables in assignments: {% raw %}{% set total = price * quantity %}{% endraw %}

## **IMPORTANT** 
Do NOT include variables that are shown within {% raw %}{% raw %}{% endraw %}{% endraw %} blocks, those are for illustrative purposes and part of an illustration of what another template might have. Only consider variables that are **NOT** part of raw blocks to be valid for the purpose of this request.

For nested object references (like user.email), extract only the TOP-LEVEL variable name (user).

## Output Format: 
Return a JSON array of parameter objects with this structure:

```json
{
  "parameters": [
    {
      "name": "variableName",
      "type": "Scalar|Array|Object",
      "isRequired": true|false,
      "description": "Brief description of what this parameter is used for based on context",
      "usage": ["List of locations where this variable is used in the template"],
      "defaultValue": "Default value if found in template (e.g., from default filter)"
    }
  ]
}
```

## Rules:
1. Only include each variable ONCE (deduplicate)
2. Ignore Nunjucks built-in variables (loop, super, etc.)
3. For type detection:
   - If used in {% raw %}{% for x in variable %}{% endraw %} → type is "Array"
   - If properties are accessed (variable.property) → type is "Object"
   - Otherwise → type is "Scalar"
4. A variable is required if it has no default and no conditional protection
5. Include meaningful descriptions based on usage context
6. Sort parameters alphabetically by name

## Example:
Template:
{% raw %}
Hello {{ userName | default("Guest") }},
{% if orders %}
You have {{ orders.length }} orders.
{% for order in orders %}
- Order #{{ order.id }}: {{ order.total }}
{% endfor %}
{% endif %}
{% endraw %}

Output:
```json
{
  "parameters": [
    {
      "name": "orders",
      "type": "Array",
      "isRequired": false,
      "description": "List of user orders with id and total properties",
      "usage": ["if condition line 2", "for loop line 4", "length property line 3"],
      "defaultValue": null
    },
    {
      "name": "userName",
      "type": "Scalar",
      "isRequired": false,
      "description": "Name of the user to greet",
      "usage": ["greeting line 1"],
      "defaultValue": "Guest"
    }
  ]
}
```',
@Priority = 1,
@IsActive = 1;

GO

-- Save AI Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = 'C1D7FE6B-287B-4B3F-8618-4CDBCF1394BB',
@Name = 'Template Parameter Extraction',
@Description = 'Extracts Nunjucks variables and their types from template strings. Analyzes template content to identify all parameters used and infers their expected data types.',
@TemplateID = '33AF5671-077E-46A9-94AB-340783733024',
@CategoryID = '7D2DEF7F-138F-4620-8309-33964A97A997',
@TypeID = 'A6DA423E-F36B-1410-8DAC-00021F8B792E',
@Status = 'Active',
@ResponseFormat = 'JSON',
@ModelSpecificResponseFormat = NULL,
@AIModelTypeID = NULL,
@MinPowerRank = 0,
@SelectionStrategy = 'Specific',
@PowerPreference = 'Highest',
@ParallelizationMode = 'None',
@ParallelCount = NULL,
@ParallelConfigParam = NULL,
@OutputType = 'object',
@OutputExample = '{
  "parameters": [
    {
      "name": "customerName",
      "type": "Scalar",
      "isRequired": true,
      "description": "The name of the customer",
      "usage": ["greeting header", "personalization"],
      "defaultValue": null
    },
    {
      "name": "orderItems",
      "type": "Array",
      "isRequired": false,
      "description": "List of items in the customer''s order",
      "usage": ["order details section", "item iteration"],
      "defaultValue": null
    },
    {
      "name": "companyInfo",
      "type": "Object",
      "isRequired": true,
      "description": "Company information object containing name, address, and contact details",
      "usage": ["footer section", "contact information"],
      "defaultValue": null
    }
  ]
}',
@ValidationBehavior = 'Strict',
@MaxRetries = 2,
@RetryDelayMS = 1000,
@RetryStrategy = 'Fixed',
@ResultSelectorPromptID = NULL,
@EnableCaching = 0,
@CacheTTLSeconds = NULL,
@CacheMatchType = 'Exact',
@CacheSimilarityThreshold = NULL,
@CacheMustMatchModel = 1,
@CacheMustMatchVendor = 1,
@CacheMustMatchAgent = 0,
@CacheMustMatchConfig = 0,
@PromptRole = 'System',
@PromptPosition = 'First',
@Temperature = NULL,
@TopP = NULL,
@TopK = NULL,
@MinP = NULL,
@FrequencyPenalty = NULL,
@PresencePenalty = NULL,
@Seed = NULL,
@StopSequences = NULL,
@IncludeLogProbs = 0,
@TopLogProbs = NULL;

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = '85E70E19-4C33-43E0-A150-016D122E0AA6',
@PromptID = 'C1D7FE6B-287B-4B3F-8618-4CDBCF1394BB',
@ModelID = '9604B1A4-3A21-F011-8B3D-7C1E5249773E',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 1,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save AI Agents (core SP call only)
EXEC [${flyway:defaultSchema}].spUpdateAIAgent @Name = 'Demo Loop Agent',
@Description = 'Simple Agent Demo! This agent demonstrates the basic functionality of a loop agent, capable of executing multiple actions in paralell with no determined path - the AI determines the pathway.',
@LogoURL = NULL,
@ParentID = NULL,
@ExposeAsAction = 1,
@ExecutionOrder = 0,
@ExecutionMode = 'Sequential',
@EnableContextCompression = 0,
@ContextCompressionMessageThreshold = NULL,
@ContextCompressionPromptID = NULL,
@ContextCompressionMessageRetentionCount = NULL,
@TypeID = 'F7926101-5099-4FA5-836A-479D9707C818',
@Status = 'Active',
@DriverClass = NULL,
@ID = '55399C30-C59B-47D2-A856-640DA89C46E4';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '1808A551-162C-40FA-8AF5-ADB31844F82C',
@AgentID = '55399C30-C59B-47D2-A856-640DA89C46E4',
@ActionID = '81F96534-03F5-49E9-81B0-D8902A7645A3',
@Status = 'Active';

GO

-- Save AI Agents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@Name = 'Marketing Agent',
@Description = 'Strategic orchestrator for marketing content creation workflows, managing sub-agents to deliver high-quality marketing materials.',
@LogoURL = NULL,
@ParentID = NULL,
@ExposeAsAction = 1,
@ExecutionOrder = 1,
@ExecutionMode = 'Sequential',
@EnableContextCompression = 0,
@ContextCompressionMessageThreshold = NULL,
@ContextCompressionPromptID = NULL,
@ContextCompressionMessageRetentionCount = NULL,
@TypeID = 'F7926101-5099-4FA5-836A-479D9707C818',
@Status = 'Active',
@DriverClass = NULL;

GO

-- Save MJ: AI Agent Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentPrompt @ID = '611B85B7-EEAA-4F77-9BBF-9AB76C4010E2',
@AgentID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@PromptID = '26949743-4535-4DA6-86F4-0AD76250E17A',
@Purpose = NULL,
@ExecutionOrder = 0,
@ConfigurationID = NULL,
@Status = 'Active',
@ContextBehavior = 'Complete',
@ContextMessageCount = NULL;

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '91CD49A0-7343-467B-8C67-D4204448FF54',
@AgentID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@ActionID = '82169F64-8566-4AE7-9C87-190A885C98A9',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '157C65E2-BF51-4B32-986A-821CC2ADDE2A',
@AgentID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@ActionID = '81F96534-03F5-49E9-81B0-D8902A7645A3',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '10D0DD2C-AA42-4680-8D45-00F2173281EE',
@AgentID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@ActionID = '154255C2-76D4-492C-88D9-C80614EDD703',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '5C528AB0-4DF8-425A-A50E-14A54DB00F4E',
@AgentID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@Status = 'Active';

GO

-- Save AI Agents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = '8A322A1B-27EE-4A89-A6C4-A47C856E5842',
@Name = 'Copywriter Agent',
@Description = 'Creative wordsmith specializing in crafting compelling initial drafts of marketing content with persuasive messaging.',
@LogoURL = NULL,
@ParentID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@ExposeAsAction = 0,
@ExecutionOrder = 1,
@ExecutionMode = 'Sequential',
@EnableContextCompression = 0,
@ContextCompressionMessageThreshold = NULL,
@ContextCompressionPromptID = NULL,
@ContextCompressionMessageRetentionCount = NULL,
@TypeID = 'F7926101-5099-4FA5-836A-479D9707C818',
@Status = 'Active',
@DriverClass = NULL;

GO

-- Save MJ: AI Agent Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentPrompt @ID = 'DC4C108D-7588-4AD7-9CB2-201BE5B3C4C3',
@AgentID = '8A322A1B-27EE-4A89-A6C4-A47C856E5842',
@PromptID = '1B078367-9AE8-4CB8-BC32-CAAD5DE506D5',
@Purpose = NULL,
@ExecutionOrder = 0,
@ConfigurationID = NULL,
@Status = 'Active',
@ContextBehavior = 'Complete',
@ContextMessageCount = NULL;

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '712792CB-3512-4323-BDAB-A8D98AA3CA2C',
@AgentID = '8A322A1B-27EE-4A89-A6C4-A47C856E5842',
@ActionID = '82169F64-8566-4AE7-9C87-190A885C98A9',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '93F4A148-DC92-4317-801E-F831C23C0AD6',
@AgentID = '8A322A1B-27EE-4A89-A6C4-A47C856E5842',
@ActionID = '81F96534-03F5-49E9-81B0-D8902A7645A3',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '47A34A0C-DA8E-4FEC-82A6-AA2264EE576D',
@AgentID = '8A322A1B-27EE-4A89-A6C4-A47C856E5842',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = 'F5925A66-BD06-4988-BF72-DFBA0ED9A73A',
@AgentID = '8A322A1B-27EE-4A89-A6C4-A47C856E5842',
@ActionID = '6C88FED2-679A-4FDD-A31A-7F38D0457F22',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '31F288CC-B2DE-4FFB-B779-7478DADE040E',
@AgentID = '8A322A1B-27EE-4A89-A6C4-A47C856E5842',
@ActionID = '296E03AE-6EDC-4C5E-9506-BC98ACCDA2E1',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '3B628947-E580-4689-A0EF-E129EDF2C9E8',
@AgentID = '8A322A1B-27EE-4A89-A6C4-A47C856E5842',
@ActionID = '154255C2-76D4-492C-88D9-C80614EDD703',
@Status = 'Active';

GO

-- Save AI Agents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = '62CF643B-18E5-4C3B-BD0A-B3206E87BCE8',
@Name = 'SEO AIEO Specialist Agent',
@Description = 'Expert in optimizing content for both traditional search engines and AI-powered discovery platforms.',
@LogoURL = NULL,
@ParentID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@ExposeAsAction = 0,
@ExecutionOrder = 1,
@ExecutionMode = 'Sequential',
@EnableContextCompression = 0,
@ContextCompressionMessageThreshold = NULL,
@ContextCompressionPromptID = NULL,
@ContextCompressionMessageRetentionCount = NULL,
@TypeID = 'F7926101-5099-4FA5-836A-479D9707C818',
@Status = 'Active',
@DriverClass = NULL;

GO

-- Save MJ: AI Agent Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentPrompt @ID = 'BCFB2F1E-402A-4B8B-993C-E955509E036F',
@AgentID = '62CF643B-18E5-4C3B-BD0A-B3206E87BCE8',
@PromptID = 'D9CF490A-5F1B-4B78-A93C-021707D107A2',
@Purpose = NULL,
@ExecutionOrder = 0,
@ConfigurationID = NULL,
@Status = 'Active',
@ContextBehavior = 'Complete',
@ContextMessageCount = NULL;

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '3D9DF613-E986-475D-91CE-5CC20E623490',
@AgentID = '62CF643B-18E5-4C3B-BD0A-B3206E87BCE8',
@ActionID = 'A2455679-1370-4298-AC9E-0BA48DE2432E',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = 'F0AAE94A-FAC2-43B1-B1C7-A8AB02285E94',
@AgentID = '62CF643B-18E5-4C3B-BD0A-B3206E87BCE8',
@ActionID = '82169F64-8566-4AE7-9C87-190A885C98A9',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '2BFFC722-6A94-4569-AAB0-BE2BEAF0A609',
@AgentID = '62CF643B-18E5-4C3B-BD0A-B3206E87BCE8',
@ActionID = '154255C2-76D4-492C-88D9-C80614EDD703',
@Status = 'Active';

GO

-- Save AI Agents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = '383FA7A1-E654-4D65-BC88-6CFE1C90086E',
@Name = 'Editor Agent',
@Description = 'Meticulous content professional ensuring quality, accuracy, and effectiveness of all marketing materials.',
@LogoURL = NULL,
@ParentID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@ExposeAsAction = 0,
@ExecutionOrder = 1,
@ExecutionMode = 'Sequential',
@EnableContextCompression = 0,
@ContextCompressionMessageThreshold = NULL,
@ContextCompressionPromptID = NULL,
@ContextCompressionMessageRetentionCount = NULL,
@TypeID = 'F7926101-5099-4FA5-836A-479D9707C818',
@Status = 'Active',
@DriverClass = NULL;

GO

-- Save MJ: AI Agent Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentPrompt @ID = '48753C61-1D54-44C3-B517-FF1660902177',
@AgentID = '383FA7A1-E654-4D65-BC88-6CFE1C90086E',
@PromptID = 'DDBD7727-0E89-47D5-AA24-C581648775A0',
@Purpose = NULL,
@ExecutionOrder = 0,
@ConfigurationID = NULL,
@Status = 'Active',
@ContextBehavior = 'Complete',
@ContextMessageCount = NULL;

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = 'EA617671-D5EC-4B45-A1C6-F03AF8122080',
@AgentID = '383FA7A1-E654-4D65-BC88-6CFE1C90086E',
@ActionID = '154255C2-76D4-492C-88D9-C80614EDD703',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = 'A5B133A2-5D33-43AD-A716-2465A12DBC8F',
@AgentID = '383FA7A1-E654-4D65-BC88-6CFE1C90086E',
@ActionID = 'D0FABBEF-C505-446B-B746-B5A38541985A',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = 'DC2BCD82-ED26-4127-BC3D-6BA5D981F388',
@AgentID = '383FA7A1-E654-4D65-BC88-6CFE1C90086E',
@ActionID = '82169F64-8566-4AE7-9C87-190A885C98A9',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = 'EBEB4131-3BB0-484E-AA6A-6333BB45CA5D',
@AgentID = '383FA7A1-E654-4D65-BC88-6CFE1C90086E',
@ActionID = 'A2455679-1370-4298-AC9E-0BA48DE2432E',
@Status = 'Active';

GO

-- Save AI Agents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = '414901EA-0BAE-43C1-9B9F-0A6B48B6B768',
@Name = 'Brand Guardian Agent',
@Description = 'Final checkpoint ensuring all marketing content aligns with brand values, voice, and visual identity.',
@LogoURL = NULL,
@ParentID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@ExposeAsAction = 0,
@ExecutionOrder = 1,
@ExecutionMode = 'Sequential',
@EnableContextCompression = 0,
@ContextCompressionMessageThreshold = NULL,
@ContextCompressionPromptID = NULL,
@ContextCompressionMessageRetentionCount = NULL,
@TypeID = 'F7926101-5099-4FA5-836A-479D9707C818',
@Status = 'Active',
@DriverClass = NULL;

GO

-- Save MJ: AI Agent Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentPrompt @ID = 'C5014F5F-E294-49AE-B524-2BD7F7E9A264',
@AgentID = '414901EA-0BAE-43C1-9B9F-0A6B48B6B768',
@PromptID = 'D536DD1C-84C0-46B6-8AC7-7B332E2B0273',
@Purpose = NULL,
@ExecutionOrder = 0,
@ConfigurationID = NULL,
@Status = 'Active',
@ContextBehavior = 'Complete',
@ContextMessageCount = NULL;

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = 'C789FA6C-C821-4AC5-ACE9-EEED337DA90D',
@AgentID = '414901EA-0BAE-43C1-9B9F-0A6B48B6B768',
@ActionID = '154255C2-76D4-492C-88D9-C80614EDD703',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '7117D751-FC54-4A06-ADE9-43F7C83AB304',
@AgentID = '414901EA-0BAE-43C1-9B9F-0A6B48B6B768',
@ActionID = 'D402FFD6-C7D1-48AD-A3AC-CF8BEE0A3127',
@Status = 'Active';

GO

-- Save AI Agents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = '6AD5B39D-CC3B-45E3-90F2-A00E2BC42E6D',
@Name = 'Publisher Agent',
@Description = 'Handles final content distribution with platform-specific optimization (publishing tools under development).',
@LogoURL = NULL,
@ParentID = '4A7B4F1D-C536-409F-9206-F36FDEE64EDF',
@ExposeAsAction = 0,
@ExecutionOrder = 1,
@ExecutionMode = 'Sequential',
@EnableContextCompression = 0,
@ContextCompressionMessageThreshold = NULL,
@ContextCompressionPromptID = NULL,
@ContextCompressionMessageRetentionCount = NULL,
@TypeID = 'F7926101-5099-4FA5-836A-479D9707C818',
@Status = 'Active',
@DriverClass = NULL;

GO

-- Save MJ: AI Agent Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentPrompt @ID = '803365C1-2829-4E51-9001-80ED9FEEBC7B',
@AgentID = '6AD5B39D-CC3B-45E3-90F2-A00E2BC42E6D',
@PromptID = '5182F85B-C86F-4FCB-A38E-90687F8D0CD2',
@Purpose = NULL,
@ExecutionOrder = 0,
@ConfigurationID = NULL,
@Status = 'Active',
@ContextBehavior = 'Complete',
@ContextMessageCount = NULL;

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '4AD23F4A-FECD-4E87-8D55-1E64310A0EE1',
@AgentID = '6AD5B39D-CC3B-45E3-90F2-A00E2BC42E6D',
@ActionID = 'DC4C7E64-2D93-43E4-9F02-F5D7E702784A',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = 'B1F654CB-9CA1-493F-921A-484E88A91721',
@AgentID = '6AD5B39D-CC3B-45E3-90F2-A00E2BC42E6D',
@ActionID = '2C9DCA8E-76E2-4F01-9A0D-C1678C364FBB',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = 'EBC050D9-EF9A-4E3D-9AB2-6C9EC8776B2A',
@AgentID = '6AD5B39D-CC3B-45E3-90F2-A00E2BC42E6D',
@ActionID = 'D8781B41-9C76-EF11-9C36-000D3A9EBD44',
@Status = 'Active';

GO


-- End of SQL Logging Session
-- Session ID: a7e5385b-2239-4058-bbc7-83db5f858243
-- Completed: 2025-06-22T14:49:07.208Z
-- Duration: 2219ms
-- Total Statements: 76








-- SQL Logging Session
-- Session ID: 011c33e8-43ca-4025-892a-4ec7bcc370b6
-- Started: 2025-06-22T16:28:45.889Z
-- Description: MetadataSync Push Operation
-- Generated by MemberJunction SQLServerDataProvider

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spUpdateActionParam @ActionID = '82169F64-8566-4AE7-9C87-190A885C98A9',
@Name = 'DisableQueueing',
@DefaultValue = 'false',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'If true, fails immediately when rate limited instead of queueing (default: false)',
@IsRequired = 0,
@ID = '476061FF-D1AD-480A-9775-C6D3409A41BF';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'd2bd159f-bebd-4d39-b569-2149054dd80b',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'CSV Parser',
@Description = 'Parse CSV data into structured JSON with configurable options for headers, delimiters, and data handling',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__CSVParser',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '51e9bf91-ef74-493e-ad20-24de410abf6f',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@Name = 'CSVData',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'String containing CSV data',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '7a83da9b-0a22-4a22-8b90-d183fbee83ac',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@Name = 'FileID',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'UUID of MJ Storage file (alternative to CSVData)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '03de1786-0c0a-4620-a736-37121bbca331',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@Name = 'FileURL',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'URL of CSV file (alternative to CSVData)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'bbdea5b0-ee7d-40dc-8f32-77d99c542a75',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@Name = 'HasHeaders',
@DefaultValue = 'true',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Boolean indicating if first row contains headers',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '904b141e-a51e-47c7-aa82-e77b2b8226e6',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@Name = 'Delimiter',
@DefaultValue = ',',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Field delimiter character',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '3fa33d4c-5e8c-4e44-9530-40461727acc4',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@Name = 'QuoteChar',
@DefaultValue = '"',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Quote character for field values',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '87a59b3b-4135-41bd-a0f9-c9e47258460a',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@Name = 'SkipEmptyRows',
@DefaultValue = 'true',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Boolean to skip empty rows',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '120667dd-16bb-45ba-b270-e517f1b5a16b',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@Name = 'TrimValues',
@DefaultValue = 'true',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Boolean to trim whitespace from values',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '6f5033d4-a392-45d6-984f-9778862a8b92',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@Name = 'ParsedData',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Array of objects (if headers) or array of arrays',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '7deb1837-48ce-4d21-bf34-7a73928f33df',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'CSV data parsed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '0aac3767-93cd-4d01-bad5-5b398f688532',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@ResultCode = 'MISSING_DATA',
@IsSuccess = 0,
@Description = 'No CSV data source provided';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'beb7fe5e-8fca-44f1-8617-3689f6ceaf11',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@ResultCode = 'INVALID_CSV',
@IsSuccess = 0,
@Description = 'Invalid CSV format';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'd228eb71-4fad-465b-8c9b-f3652da134ee',
@ActionID = 'D2BD159F-BEBD-4D39-B569-2149054DD80B',
@ResultCode = 'FILE_NOT_FOUND',
@IsSuccess = 0,
@Description = 'File ID or URL not found';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '5f4b69ac-8f56-429e-93e6-aa4d72330fc7',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'JSON Transform',
@Description = 'Transform JSON data using JSONPath or JMESPath expressions for flexible data manipulation',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__JSONTransform',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c3288355-77bc-4d86-9187-da24ec40575c',
@ActionID = '5F4B69AC-8F56-429E-93E6-AA4D72330FC7',
@Name = 'InputData',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'JSON object or array to transform',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '856694e3-f654-4c36-8986-5c455bf98c2e',
@ActionID = '5F4B69AC-8F56-429E-93E6-AA4D72330FC7',
@Name = 'TransformType',
@DefaultValue = 'JSONPath',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Type of transformation: JSONPath or JMESPath',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '22cd5eac-baf5-48df-988b-c977053c40ca',
@ActionID = '5F4B69AC-8F56-429E-93E6-AA4D72330FC7',
@Name = 'Expression',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Query expression for transformation',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '3d934e48-57a1-4262-ae5d-1b0c69e02067',
@ActionID = '5F4B69AC-8F56-429E-93E6-AA4D72330FC7',
@Name = 'Multiple',
@DefaultValue = 'false',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Return all matches vs first match',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '58e772be-58aa-429d-9983-203507f21cd9',
@ActionID = '5F4B69AC-8F56-429E-93E6-AA4D72330FC7',
@Name = 'TransformedData',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Transformed data based on expression',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '39536eb2-0f6b-4a96-8101-5e98acf13e34',
@ActionID = '5F4B69AC-8F56-429E-93E6-AA4D72330FC7',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'JSON transformation completed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '552fb9d8-ae87-47f0-8b35-e3dd345c3752',
@ActionID = '5F4B69AC-8F56-429E-93E6-AA4D72330FC7',
@ResultCode = 'INVALID_EXPRESSION',
@IsSuccess = 0,
@Description = 'Invalid JSONPath or JMESPath expression';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '012a27d4-eb5e-4f4d-8857-d4dac19f372b',
@ActionID = '5F4B69AC-8F56-429E-93E6-AA4D72330FC7',
@ResultCode = 'NO_MATCHES',
@IsSuccess = 0,
@Description = 'Expression returned no matches';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '11e69e05-293b-4365-88e9-cb1ada490617',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'XML Parser',
@Description = 'Parse XML data and extract values using XPath expressions with namespace support',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__XMLParser',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'a50dce93-475b-4b44-80f8-30bd8bf2a8d0',
@ActionID = '11E69E05-293B-4365-88E9-CB1ADA490617',
@Name = 'XMLData',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'String containing XML data',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'f6a93338-cba0-49e7-84ee-325b547f620a',
@ActionID = '11E69E05-293B-4365-88E9-CB1ADA490617',
@Name = 'FileID',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'UUID of MJ Storage file containing XML',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '715eac45-93fb-432a-9f4a-933307bd74ac',
@ActionID = '11E69E05-293B-4365-88E9-CB1ADA490617',
@Name = 'FileURL',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'URL of XML file',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '90e92849-560e-4dfe-9421-df6161da3340',
@ActionID = '11E69E05-293B-4365-88E9-CB1ADA490617',
@Name = 'XPathExpression',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'XPath query expression',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '34772b84-020b-4c7f-8772-9acd485cda2c',
@ActionID = '11E69E05-293B-4365-88E9-CB1ADA490617',
@Name = 'NamespaceMap',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Object mapping namespace prefixes to URIs',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'e6ba2476-8710-4817-bb5d-bb58d1dfe11a',
@ActionID = '11E69E05-293B-4365-88E9-CB1ADA490617',
@Name = 'ParsedData',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Parsed XML as JSON object',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '289c5a9a-cf0c-4a65-b181-0dfd1b9398e8',
@ActionID = '11E69E05-293B-4365-88E9-CB1ADA490617',
@Name = 'XPathResult',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'XPath query results',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'ee557d79-d1b9-46b7-be72-696cddd44914',
@ActionID = '11E69E05-293B-4365-88E9-CB1ADA490617',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'XML parsed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'd614e221-6183-4a04-ae4a-9997a07a3bad',
@ActionID = '11E69E05-293B-4365-88E9-CB1ADA490617',
@ResultCode = 'INVALID_XML',
@IsSuccess = 0,
@Description = 'Invalid XML format';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '7b22b1f4-5185-416d-aecb-75e09702cc1d',
@ActionID = '11E69E05-293B-4365-88E9-CB1ADA490617',
@ResultCode = 'XPATH_ERROR',
@IsSuccess = 0,
@Description = 'Invalid XPath expression';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '819ebf9d-6c04-43d2-9b0a-c327199f12c7',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Aggregate Data',
@Description = 'Perform aggregation operations on data arrays including sum, average, min, max, count, and group by',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__AggregateData',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '1041eede-644c-4e1d-8e18-a7d4aaec5750',
@ActionID = '819EBF9D-6C04-43D2-9B0A-C327199F12C7',
@Name = 'InputData',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Array of objects to aggregate',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '878e32b5-3216-4421-a3a5-924da66d2d1e',
@ActionID = '819EBF9D-6C04-43D2-9B0A-C327199F12C7',
@Name = 'GroupBy',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 1,
@Description = 'Field name(s) to group by',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'b43df09d-66f3-4ced-a3c3-82dceb095df9',
@ActionID = '819EBF9D-6C04-43D2-9B0A-C327199F12C7',
@Name = 'Aggregations',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Array of aggregation specifications',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '972f4e47-1a5f-417d-bf1a-d70bc61000c8',
@ActionID = '819EBF9D-6C04-43D2-9B0A-C327199F12C7',
@Name = 'AggregatedData',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Aggregated results',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'b6938301-38e9-491c-bc47-c7cea5d8449f',
@ActionID = '819EBF9D-6C04-43D2-9B0A-C327199F12C7',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'Data aggregated successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'ac63a41c-7cee-4507-8458-7414a0ebc602',
@ActionID = '819EBF9D-6C04-43D2-9B0A-C327199F12C7',
@ResultCode = 'INVALID_OPERATION',
@IsSuccess = 0,
@Description = 'Invalid aggregation operation specified';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '51257805-2cc2-4ebe-a055-b4f064e2bf35',
@ActionID = '819EBF9D-6C04-43D2-9B0A-C327199F12C7',
@ResultCode = 'FIELD_NOT_FOUND',
@IsSuccess = 0,
@Description = 'Specified field not found in data';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '168d289e-3b7c-4e0d-9532-9620af49a81d',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Data Mapper',
@Description = 'Transform data using Nunjucks templates for flexible and powerful data mapping',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__DataMapper',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'df205eb4-7b6c-4b10-a301-d38ca86276c3',
@ActionID = '168D289E-3B7C-4E0D-9532-9620AF49A81D',
@Name = 'SourceData',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Input object or array to transform',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'de041794-2c1a-41aa-9412-b5595ab6e7f2',
@ActionID = '168D289E-3B7C-4E0D-9532-9620AF49A81D',
@Name = 'MappingTemplate',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Nunjucks template string or object with templates',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'b6b5044d-2bc1-42ed-be6d-c24ba8a0f8f7',
@ActionID = '168D289E-3B7C-4E0D-9532-9620AF49A81D',
@Name = 'TemplateType',
@DefaultValue = 'object',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Type of template: string or object',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'd3bcc350-0714-43df-804a-e577c3efc757',
@ActionID = '168D289E-3B7C-4E0D-9532-9620AF49A81D',
@Name = 'IterateArrays',
@DefaultValue = 'false',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Map each array item individually',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '20b267c8-c611-44d5-bb6d-2ebe59512dc8',
@ActionID = '168D289E-3B7C-4E0D-9532-9620AF49A81D',
@Name = 'MappedData',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Transformed object based on templates',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'b7d2bbe5-3ca4-48f0-9187-154d1df3359e',
@ActionID = '168D289E-3B7C-4E0D-9532-9620AF49A81D',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'Data mapped successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '5830c5d6-46b8-4593-aece-f7af4183c454',
@ActionID = '168D289E-3B7C-4E0D-9532-9620AF49A81D',
@ResultCode = 'TEMPLATE_ERROR',
@IsSuccess = 0,
@Description = 'Error in Nunjucks template';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '58dd6cc1-e12d-4858-8add-bd398d335a93',
@ActionID = '168D289E-3B7C-4E0D-9532-9620AF49A81D',
@ResultCode = 'INVALID_DATA',
@IsSuccess = 0,
@Description = 'Invalid source data format';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '0f19e377-bbc5-4cff-8fc3-878aeca37122',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'PDF Generator',
@Description = 'Generate PDF documents from HTML or Markdown content with customizable formatting',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__PDFGenerator',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '26c93055-10ab-4da8-8b2f-6d4df96cb58d',
@ActionID = '0F19E377-BBC5-4CFF-8FC3-878AECA37122',
@Name = 'Content',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'HTML or Markdown content to convert',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2989c25d-f17c-40d1-971f-41ec69c079e0',
@ActionID = '0F19E377-BBC5-4CFF-8FC3-878AECA37122',
@Name = 'ContentType',
@DefaultValue = 'html',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Type of content: html or markdown',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '324dd07e-2c22-4036-a3f7-dfcbea4a56e8',
@ActionID = '0F19E377-BBC5-4CFF-8FC3-878AECA37122',
@Name = 'Options',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'PDF generation options (margins, orientation, etc.)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'fb30fdbd-4740-4c1d-9ebd-e9ebb4024fc1',
@ActionID = '0F19E377-BBC5-4CFF-8FC3-878AECA37122',
@Name = 'OutputFileID',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Save PDF to MJ Storage with this ID',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'feb667fb-3e5e-4761-9bc0-711a94021c4a',
@ActionID = '0F19E377-BBC5-4CFF-8FC3-878AECA37122',
@Name = 'PDFData',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Base64 encoded PDF data',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c4171d0a-8f6a-492e-a640-4354c87aeea7',
@ActionID = '0F19E377-BBC5-4CFF-8FC3-878AECA37122',
@Name = 'FileID',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'MJ Storage file ID if saved',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '564cb9f5-f5ff-41bd-a94f-d39e4cd3d20a',
@ActionID = '0F19E377-BBC5-4CFF-8FC3-878AECA37122',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'PDF generated successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'd04f9497-6627-43b5-b817-457c65ae8721',
@ActionID = '0F19E377-BBC5-4CFF-8FC3-878AECA37122',
@ResultCode = 'SUCCESS_SAVED',
@IsSuccess = 0,
@Description = 'PDF generated and saved to storage';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'f1e85b21-7b08-42a8-9825-38079334ae32',
@ActionID = '0F19E377-BBC5-4CFF-8FC3-878AECA37122',
@ResultCode = 'GENERATION_FAILED',
@IsSuccess = 0,
@Description = 'Failed to generate PDF';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '5c8e357d-2ca3-481e-a5f2-94bfe504df55',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'PDF Extractor',
@Description = 'Extract text, metadata, and pages from PDF files',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__PDFExtractor',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '9785c1df-5dbd-4c4a-adc5-77d0fe70764a',
@ActionID = '5C8E357D-2CA3-481E-A5F2-94BFE504DF55',
@Name = 'PDFData',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Base64 encoded PDF data',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'b64b1a2c-e5ef-4cdb-83c0-463085da4eff',
@ActionID = '5C8E357D-2CA3-481E-A5F2-94BFE504DF55',
@Name = 'FileID',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'MJ Storage file ID of PDF',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c9a63571-f6c0-4e56-9ebf-3d2913138464',
@ActionID = '5C8E357D-2CA3-481E-A5F2-94BFE504DF55',
@Name = 'FileURL',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'URL of PDF file',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'bda46165-c783-4d71-8009-75a472167e55',
@ActionID = '5C8E357D-2CA3-481E-A5F2-94BFE504DF55',
@Name = 'ExtractType',
@DefaultValue = 'text',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Type of extraction: text, metadata, or pages',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c4b81212-b95e-48c8-9e69-9dfaca8ed22e',
@ActionID = '5C8E357D-2CA3-481E-A5F2-94BFE504DF55',
@Name = 'MergePages',
@DefaultValue = 'true',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Merge text from all pages',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '1514df7f-8a57-4b43-ba97-9144400339d0',
@ActionID = '5C8E357D-2CA3-481E-A5F2-94BFE504DF55',
@Name = 'ExtractedContent',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Extracted content from PDF',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'e8947db6-b3a7-43fb-8c02-a068de5d64f6',
@ActionID = '5C8E357D-2CA3-481E-A5F2-94BFE504DF55',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'PDF content extracted successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'd310bf11-5dd6-4329-9618-01faa03ff679',
@ActionID = '5C8E357D-2CA3-481E-A5F2-94BFE504DF55',
@ResultCode = 'INVALID_PDF',
@IsSuccess = 0,
@Description = 'Invalid or corrupted PDF file';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'b2d02d1f-b1dd-43d6-9914-a1d47a10cd53',
@ActionID = '5C8E357D-2CA3-481E-A5F2-94BFE504DF55',
@ResultCode = 'EXTRACTION_FAILED',
@IsSuccess = 0,
@Description = 'Failed to extract content from PDF';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '9f90a438-2e4f-4ca9-bc3a-846de28bf31b',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Excel Reader',
@Description = 'Read Excel files and convert to JSON with support for specific sheets and ranges',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__ExcelReader',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '80fbd444-f3fe-4413-afea-bd3ccab5d816',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@Name = 'ExcelData',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Base64 encoded Excel data',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2c92c0ea-b5c9-41cd-b2d0-63130d3a28ce',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@Name = 'FileID',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'MJ Storage file ID of Excel file',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2218978e-5202-4c64-9bf1-0e8234e0c2fc',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@Name = 'FileURL',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'URL of Excel file',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c9d8fce3-9784-4128-a2d8-ad8cd9f4c7f3',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@Name = 'SheetName',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Specific sheet name to read',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '4227b97d-1d0c-4a5e-adb9-e7bbcec22d30',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@Name = 'Range',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'A1 notation range (e.g., A1:C10)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2e184eb1-3b93-464d-9909-d97250cc559d',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@Name = 'HasHeaders',
@DefaultValue = 'true',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'First row contains headers',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '1e7ff13c-a75a-4398-8721-2a9b422a3ed6',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@Name = 'Data',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Excel data as JSON',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'dbb013b6-663d-4fc9-80b3-6f6c65389889',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@Name = 'SheetInfo',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Information about sheets in the file',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '22806d98-bad1-4837-bb6d-f8a2b507fa23',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'Excel file read successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '59403afe-02f6-42f6-912b-87a7c2d5c4b9',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@ResultCode = 'INVALID_EXCEL',
@IsSuccess = 0,
@Description = 'Invalid Excel file format';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '7915d0d8-1b3a-40e6-89f5-f8a4b4199d20',
@ActionID = '9F90A438-2E4F-4CA9-BC3A-846DE28BF31B',
@ResultCode = 'SHEET_NOT_FOUND',
@IsSuccess = 0,
@Description = 'Specified sheet not found';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '8623ce49-9265-4b7f-b190-ce9f0211834e',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Excel Writer',
@Description = 'Create Excel files from JSON data with support for multiple sheets and formatting',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__ExcelWriter',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '1085c8d9-335c-454c-b412-3958980a567e',
@ActionID = '8623CE49-9265-4B7F-B190-CE9F0211834E',
@Name = 'Sheets',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Array of sheet definitions with data',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '5d5a9ec0-252b-4259-b777-511ccd25e8a3',
@ActionID = '8623CE49-9265-4B7F-B190-CE9F0211834E',
@Name = 'OutputFileID',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Save Excel file to MJ Storage',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'cf747266-24df-426a-bb9d-256d1721be58',
@ActionID = '8623CE49-9265-4B7F-B190-CE9F0211834E',
@Name = 'FileName',
@DefaultValue = 'output.xlsx',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Name for the output file',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'ece60cf1-35a8-4788-9e73-0f324355bbc5',
@ActionID = '8623CE49-9265-4B7F-B190-CE9F0211834E',
@Name = 'ExcelData',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Base64 encoded Excel data',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '4f504724-4a29-4ddd-afa8-c9269a1aaabb',
@ActionID = '8623CE49-9265-4B7F-B190-CE9F0211834E',
@Name = 'FileID',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'MJ Storage file ID if saved',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'cecbbce3-8aab-484c-8515-70cb78f144ef',
@ActionID = '8623CE49-9265-4B7F-B190-CE9F0211834E',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'Excel file created successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '3b5001c7-d612-455f-b323-54da16474c19',
@ActionID = '8623CE49-9265-4B7F-B190-CE9F0211834E',
@ResultCode = 'SUCCESS_SAVED',
@IsSuccess = 0,
@Description = 'Excel file created and saved to storage';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '595e4da5-f68a-4c45-9f32-7556cdbd1fa2',
@ActionID = '8623CE49-9265-4B7F-B190-CE9F0211834E',
@ResultCode = 'INVALID_DATA',
@IsSuccess = 0,
@Description = 'Invalid data format for Excel creation';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '02022339-1fc8-48cd-8eff-b122523bc12c',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'File Compress',
@Description = 'Compress or decompress files using ZIP format with configurable compression levels',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__FileCompress',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '8420abbe-8084-43bf-a7ae-79863825b2c1',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@Name = 'Operation',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Operation type: compress or decompress',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '6a14963a-006d-44f9-af16-e43f05408c18',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@Name = 'Files',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Array of file objects for compression',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'a9cc46c0-7e58-47bf-bc56-6bf2176d6afb',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@Name = 'Data',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Base64 compressed data for decompression',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2d7d22bb-e9af-4d4d-8b99-070479af5c1f',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@Name = 'FileID',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'MJ Storage file ID',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2606aa14-f838-4858-b9f9-08c6d33c706e',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@Name = 'FileURL',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'URL of file',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '57f78322-0298-4056-b031-6ea798207703',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@Name = 'CompressionLevel',
@DefaultValue = '6',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Compression level 0-9',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'cd478e86-a9ed-4803-830e-cd7a1a9bc7b8',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@Name = 'CompressedData',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Base64 compressed data',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c11dcd93-ad23-4d6a-a8bc-b8faf4027728',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@Name = 'ExtractedFiles',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Array of extracted files',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '021dc4c0-a729-4510-bf4e-a7e053092e2c',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'Operation completed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '69d41e83-04da-4c19-b087-c88bcea39469',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@ResultCode = 'INVALID_OPERATION',
@IsSuccess = 0,
@Description = 'Invalid operation specified';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '8206e963-611a-4c7d-9f29-0cbcfe43b317',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@ResultCode = 'COMPRESSION_FAILED',
@IsSuccess = 0,
@Description = 'Failed to compress files';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '4beee797-d903-4711-a9d6-292f0bf7a89c',
@ActionID = '02022339-1FC8-48CD-8EFF-B122523BC12C',
@ResultCode = 'DECOMPRESSION_FAILED',
@IsSuccess = 0,
@Description = 'Failed to decompress file';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '08d2ed22-d063-4e2c-80cd-ecfb50a83dae',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'HTTP Request',
@Description = 'Make HTTP requests with full control over headers, authentication, and request options',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__HTTPRequest',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'f9121596-5288-401d-b3d7-fe0af843eab0',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@Name = 'URL',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Target URL for the request',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c0a86f16-abea-4f03-ae9b-f77a5d794ed4',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@Name = 'Method',
@DefaultValue = 'GET',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'HTTP method (GET, POST, PUT, DELETE, etc.)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c47c3b03-f85f-4e70-8454-15404531ee69',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@Name = 'Headers',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Object with request headers',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '446b4466-bbae-4471-abd4-0919822719c7',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@Name = 'Body',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Request body (string or object)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '4ba9c7ae-ecbc-4d48-8722-4d730e3ba687',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@Name = 'BodyType',
@DefaultValue = 'json',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Body type: json, form, text, or binary',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '167b1f32-b30e-4482-838f-3e81ba7d5dd7',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@Name = 'Authentication',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Auth config object',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'cb65f7d5-26c9-4ad9-93c2-b0bbf5a91aaa',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@Name = 'Timeout',
@DefaultValue = '30000',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Request timeout in milliseconds',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'f1e54127-0905-48e0-8f2f-b0f92a669dd7',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@Name = 'ResponseStatus',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'HTTP response status code',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '6d40b641-6e8e-4caf-a2b8-37a6ee381e17',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@Name = 'ResponseHeaders',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Response headers',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '1e4aec21-4a4a-4825-9339-efef5aa499a2',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@Name = 'ResponseData',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Response body data',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '5f35bbc9-1e78-4eac-b482-5d5b8b9d77ba',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'Request completed successfully (2xx status)';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'b9f106a1-6545-4d4e-8313-9947e13f21ec',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@ResultCode = 'HTTP_4XX',
@IsSuccess = 0,
@Description = 'Client error response';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'f6a2bf47-8d45-4b81-a86e-9d98b3ea28a6',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@ResultCode = 'HTTP_5XX',
@IsSuccess = 0,
@Description = 'Server error response';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '335fcc1e-5b37-461b-a20b-3b7a289ededc',
@ActionID = '08D2ED22-D063-4E2C-80CD-ECFB50A83DAE',
@ResultCode = 'REQUEST_FAILED',
@IsSuccess = 0,
@Description = 'Request failed to complete';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'f85e1f49-bc36-4e56-a73a-3b794f572b47',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'GraphQL Query',
@Description = 'Execute GraphQL queries and mutations with variable support',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__GraphQLQuery',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '57e95737-3420-4b8b-8f42-ed27be03312e',
@ActionID = 'F85E1F49-BC36-4E56-A73A-3B794F572B47',
@Name = 'Endpoint',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'GraphQL endpoint URL',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'eff8c237-42b7-4c9e-b89e-d6bf84e4a011',
@ActionID = 'F85E1F49-BC36-4E56-A73A-3B794F572B47',
@Name = 'Query',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'GraphQL query or mutation string',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '3676a7a3-cd4b-4a9f-aba2-c529c1be99d9',
@ActionID = 'F85E1F49-BC36-4E56-A73A-3B794F572B47',
@Name = 'Variables',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Variables object for the query',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '969d45b8-c28e-4148-9725-8e7d915c9233',
@ActionID = 'F85E1F49-BC36-4E56-A73A-3B794F572B47',
@Name = 'Headers',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Additional headers for the request',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '97991012-daca-4860-a02a-a1f8e50ee8bc',
@ActionID = 'F85E1F49-BC36-4E56-A73A-3B794F572B47',
@Name = 'OperationName',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'For multi-operation documents',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '686f3ffd-e20e-4bc1-be50-2142c3c7570d',
@ActionID = 'F85E1F49-BC36-4E56-A73A-3B794F572B47',
@Name = 'Data',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'GraphQL response data',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '5b18415b-e44d-4da9-8104-737baa338ffd',
@ActionID = 'F85E1F49-BC36-4E56-A73A-3B794F572B47',
@Name = 'Errors',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'GraphQL errors if any',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '29b00fca-3f48-4100-a629-851cb5dac2e6',
@ActionID = 'F85E1F49-BC36-4E56-A73A-3B794F572B47',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'Query executed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '1682c46b-e9aa-412e-afad-b19e15b1866c',
@ActionID = 'F85E1F49-BC36-4E56-A73A-3B794F572B47',
@ResultCode = 'PARTIAL_SUCCESS',
@IsSuccess = 0,
@Description = 'Query returned data with errors';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '1803eb20-550f-4262-b24d-1e9616301d8a',
@ActionID = 'F85E1F49-BC36-4E56-A73A-3B794F572B47',
@ResultCode = 'GRAPHQL_ERROR',
@IsSuccess = 0,
@Description = 'GraphQL query failed';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '8eb75847-2e26-40ce-9e90-7aafbddd3edc',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'OAuth Flow',
@Description = 'Handle OAuth 2.0 authentication flows including authorization code and client credentials',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__OAuthFlow',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'eec65d8d-e565-4ae0-9554-63e90c0029a8',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@Name = 'Operation',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'OAuth operation: GetAuthorizationURL, ExchangeCodeForToken, RefreshToken, or ClientCredentials',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '1cd0f4f1-06ea-42dc-b730-07404c70ca25',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@Name = 'Provider',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'OAuth provider name or custom',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c896d7bc-d055-4f9f-8488-88a5f56d0804',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@Name = 'ClientID',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'OAuth client ID',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'a914e1c9-2f24-4f19-b8e4-be4319ef1f14',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@Name = 'ClientSecret',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'OAuth client secret',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '097b13d3-fab6-4030-83f8-9bf8b5406c30',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@Name = 'RedirectURI',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'OAuth callback URL',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'a3160507-2f84-4812-8b16-45eac9727c24',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@Name = 'Scopes',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 1,
@Description = 'Array of OAuth scopes',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '57162244-d0eb-4758-a208-681e03ed4f91',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@Name = 'AuthorizationURL',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Generated authorization URL',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '278298ca-6d6d-45af-8970-aa2923145dc3',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@Name = 'AccessToken',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'OAuth access token',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'ec16ca80-6398-4804-b5ed-9f60d867b013',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@Name = 'RefreshToken',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'OAuth refresh token',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '2b1ffc64-3bdc-4e11-a771-8d77f9fa3b9b',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'OAuth operation completed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '4340d602-63d2-47a3-9a34-ea80001ee2b2',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@ResultCode = 'INVALID_OPERATION',
@IsSuccess = 0,
@Description = 'Invalid OAuth operation specified';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'f6e90bf9-b321-4115-9d3c-efd3e9c1e439',
@ActionID = '8EB75847-2E26-40CE-9E90-7AAFBDDD3EDC',
@ResultCode = 'TOKEN_EXCHANGE_FAILED',
@IsSuccess = 0,
@Description = 'Failed to exchange code for token';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '5786515e-3805-460f-8168-471ee4fc3d21',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'API Rate Limiter',
@Description = 'Add rate limiting to any API endpoint with automatic retry and backoff',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__APIRateLimiter',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2e29a1ab-53ec-4298-8518-a09482859193',
@ActionID = '5786515E-3805-460F-8168-471EE4FC3D21',
@Name = 'URL',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'API endpoint URL',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'a55da843-580c-4f07-8175-26151bd69e3b',
@ActionID = '5786515E-3805-460F-8168-471EE4FC3D21',
@Name = 'RateLimitKey',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Unique key for rate limiter instance',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'ddb1a5be-e1bf-4722-8718-173333e39a41',
@ActionID = '5786515E-3805-460F-8168-471EE4FC3D21',
@Name = 'MaxRequestsPerMinute',
@DefaultValue = '60',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Maximum requests per minute',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'e45674e0-7593-4fad-abe0-06a0b137534f',
@ActionID = '5786515E-3805-460F-8168-471EE4FC3D21',
@Name = 'MaxConcurrent',
@DefaultValue = '5',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Maximum concurrent requests',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'aa314895-20e6-4e3a-ab2a-01420e62746b',
@ActionID = '5786515E-3805-460F-8168-471EE4FC3D21',
@Name = 'RetryOnRateLimit',
@DefaultValue = 'true',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Retry on 429 errors',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '93a00aac-91ab-4f24-af97-98ba0551465b',
@ActionID = '5786515E-3805-460F-8168-471EE4FC3D21',
@Name = 'RateLimitInfo',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Rate limit headers from response',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'f4d2b949-cadd-4a1e-89ec-f8b895fbdea1',
@ActionID = '5786515E-3805-460F-8168-471EE4FC3D21',
@Name = 'RequestDuration',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Request duration in milliseconds',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'deaa1d60-2b64-40e4-b841-a6ebd5cab900',
@ActionID = '5786515E-3805-460F-8168-471EE4FC3D21',
@ResultCode = 'SUCCESS',
@IsSuccess = 0,
@Description = 'Request completed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '45b1c3a5-5b39-4ba0-ba92-22d41c6fa59f',
@ActionID = '5786515E-3805-460F-8168-471EE4FC3D21',
@ResultCode = 'RATE_LIMITED',
@IsSuccess = 0,
@Description = 'Rate limit exceeded';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'd27a8c04-9a3a-4927-8cde-a4f4fc6adba0',
@ActionID = '5786515E-3805-460F-8168-471EE4FC3D21',
@ResultCode = 'REQUEST_FAILED',
@IsSuccess = 0,
@Description = 'Request failed after retries';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '9eb4a80c-d9cd-4bc4-9fa9-302f7aeb4093',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Password Strength',
@Description = 'Check password strength and generate secure passwords using zxcvbn analysis',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__PasswordStrength',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '042b965a-74bd-4039-a886-50ed5e735d26',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@Name = 'Operation',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Operation type: check or generate',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'd7894db1-25f3-42e7-823d-75e8f88b910b',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@Name = 'Password',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Password to check (for check operation)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'fc60c6b5-2806-420a-b1b8-e574cc720b6e',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@Name = 'UserInputs',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 1,
@Description = 'User-related strings to check against',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '49d9edf8-fee5-43d8-9379-eb9de222c825',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@Name = 'Requirements',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Password requirements object',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '1ea506ce-8308-47e1-9bda-ebf9fdcbdb5c',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@Name = 'Length',
@DefaultValue = '16',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Password length for generation',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'e4c8c364-eac2-4bce-be0d-8c3786f50c5c',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@Name = 'ExcludeAmbiguous',
@DefaultValue = 'false',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Exclude ambiguous characters',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'f6a3354a-c12f-4c4b-9bcb-e3e1291dbf14',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@Name = 'Score',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Password strength score (0-4)',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'd4e76060-a4ca-4852-8b5f-5fd102cb622f',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@Name = 'GeneratedPassword',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Generated secure password',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '6ea3526f-e9cf-497a-8a35-d85e7f769eaa',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@Name = 'Feedback',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Password improvement suggestions',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'c3437885-74d9-47a5-80e3-d06db7d159a8',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@ResultCode = 'STRONG_PASSWORD',
@IsSuccess = 0,
@Description = 'Password meets strength requirements';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'a30ef344-fca8-485d-a813-3d2e2674c6bd',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@ResultCode = 'WEAK_PASSWORD',
@IsSuccess = 0,
@Description = 'Password does not meet requirements';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'fd1adc63-60ed-48ae-9640-1a27a8a69a59',
@ActionID = '9EB4A80C-D9CD-4BC4-9FA9-302F7AEB4093',
@ResultCode = 'PASSWORD_GENERATED',
@IsSuccess = 0,
@Description = 'Secure password generated successfully';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'fa5a42ba-47c9-4197-b267-2621eeaee052',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Conditional',
@Description = 'Execute different actions based on a condition evaluation',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__Conditional',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'f0f86e20-95a1-4e27-95c6-f461431d1210',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@Name = 'Condition',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'JavaScript expression string to evaluate',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '976373f3-48a1-4714-b6cd-8484a35d1da5',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@Name = 'Context',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Object with variables for condition evaluation',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '8a65488e-a62a-400c-87d4-007bbbf930ca',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@Name = 'TrueAction',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Action configuration to run if true',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'ed30db2f-4a9f-4d75-a03f-a62c4320e918',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@Name = 'FalseAction',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Action configuration to run if false',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'a632a239-de7f-429b-89ca-872971373af2',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@Name = 'PassthroughContext',
@DefaultValue = 'false',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Pass context to child actions',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2faf92ce-547c-47b2-ab44-1f4871b3f2de',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@Name = 'ConditionResult',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Result of condition evaluation',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'cb47c593-b5d6-443f-958f-2271467b4a99',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@Name = 'ChildActionResult',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Result from executed child action',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'c0795d93-4ef7-4853-b740-cf8e9a63fb30',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@ResultCode = 'CONDITION_TRUE',
@IsSuccess = 0,
@Description = 'Condition evaluated to true';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '72607f53-b8e7-4042-98aa-f3b86c0aae58',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@ResultCode = 'CONDITION_FALSE',
@IsSuccess = 0,
@Description = 'Condition evaluated to false';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'c769335c-ae61-4f48-9047-2708296208d5',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@ResultCode = 'TRUE_ACTION_SUCCESS',
@IsSuccess = 0,
@Description = 'True action executed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '32c2064c-1bb9-40c8-863c-9299162a42de',
@ActionID = 'FA5A42BA-47C9-4197-B267-2621EEAEE052',
@ResultCode = 'FALSE_ACTION_SUCCESS',
@IsSuccess = 0,
@Description = 'False action executed successfully';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '0d6e43f3-aa8e-4904-bf2d-39a13ecfd925',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Loop',
@Description = 'Iterate over collections executing actions for each item with parallel processing support',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__Loop',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '09372f8d-290e-47c0-8d51-088c2cc104aa',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@Name = 'Items',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Array to iterate over',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '22c0aa26-275b-4cfe-9c49-7c3370ca95c5',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@Name = 'Action',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Action configuration to execute per item',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'ecda386c-1c93-41ce-b87d-3d462740a7f0',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@Name = 'ItemVariableName',
@DefaultValue = 'item',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Variable name for current item',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'ec160d41-5f50-40b1-9e7c-d06f529a61ea',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@Name = 'IndexVariableName',
@DefaultValue = 'index',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Variable name for current index',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '7811cfc8-bb95-4ea9-b5f2-34820a13d46f',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@Name = 'Parallel',
@DefaultValue = 'false',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Run iterations in parallel',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'fca49e3e-46a3-453a-b658-660905ff26c8',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@Name = 'MaxConcurrent',
@DefaultValue = '10',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Max parallel executions',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '43278101-1ec2-4ac0-9029-12dda36ecd86',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@Name = 'Results',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Array of results from each iteration',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '04c11253-b264-4169-8f89-99edc9ebd4ca',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@Name = 'SuccessCount',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Number of successful iterations',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '31135098-f52f-49f9-b9f1-5a49640d869d',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@Name = 'ErrorCount',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Number of failed iterations',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '7482958f-2f15-471c-825d-e577925aa4a8',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@ResultCode = 'ALL_SUCCESS',
@IsSuccess = 0,
@Description = 'All iterations completed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '9186902c-d269-40f2-8f83-9aca2f996abb',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@ResultCode = 'PARTIAL_SUCCESS',
@IsSuccess = 0,
@Description = 'Some iterations succeeded, some failed';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'c9d6ed3c-f5f2-4168-bede-bcccc7dff2f2',
@ActionID = '0D6E43F3-AA8E-4904-BF2D-39A13ECFD925',
@ResultCode = 'ALL_FAILED',
@IsSuccess = 0,
@Description = 'All iterations failed';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'e0e12836-3226-4cfd-bc60-0a53f142f73b',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Parallel Execute',
@Description = 'Execute multiple actions in parallel with configurable concurrency and completion modes',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__ParallelExecute',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'da621677-9c37-4475-9224-af5f6844e47a',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@Name = 'Actions',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Array of action configurations to execute',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2c618780-56c7-4c8e-9713-f386eef42704',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@Name = 'WaitForAll',
@DefaultValue = 'true',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Wait for all vs return first result',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '19ad0688-7ce4-44b7-a56c-3878dbda814a',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@Name = 'ContinueOnError',
@DefaultValue = 'false',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Continue if actions fail',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '4f1918b2-c3f3-4058-92a3-80f7d8ad67d2',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@Name = 'MaxConcurrent',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Max parallel executions (0 = unlimited)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '641ad432-608c-49b4-9a84-99ba1973b4ad',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@Name = 'Timeout',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Overall timeout in milliseconds',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '8bbfebfc-0731-4735-9c71-e12e34cc0002',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@Name = 'Results',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Array of action results',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '9ca9af43-43f1-472f-ad82-fba1b94b4fe1',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@Name = 'FirstResult',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'First successful result (WaitForAll=false)',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'eba0f8d3-e2c9-47d7-8aac-fe95b6a5324d',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@ResultCode = 'ALL_SUCCESS',
@IsSuccess = 0,
@Description = 'All actions completed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'f2f441ce-e05d-486b-a15e-7f1e3fa7fcd1',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@ResultCode = 'PARTIAL_SUCCESS',
@IsSuccess = 0,
@Description = 'Some actions succeeded, some failed';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '98348a74-557e-454f-ad5a-41393980d41d',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@ResultCode = 'FIRST_SUCCESS',
@IsSuccess = 0,
@Description = 'First action completed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'd56be7dc-56d7-485f-bb83-5ddf385373de',
@ActionID = 'E0E12836-3226-4CFD-BC60-0A53F142F73B',
@ResultCode = 'TIMEOUT',
@IsSuccess = 0,
@Description = 'Execution timed out';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'cecaaf60-a3f9-4bc0-89e0-dd1e93a21d50',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Retry',
@Description = 'Retry failed actions with exponential backoff and configurable retry conditions',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__Retry',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '9fa2876f-7dd3-4756-b3bd-b129ade4614e',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@Name = 'Action',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Action configuration to execute',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '3c2fd804-db02-4f62-8b74-09226c84325e',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@Name = 'MaxRetries',
@DefaultValue = '3',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Number of retry attempts',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '5dcdf669-5282-4f8c-a068-27ecbe40d136',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@Name = 'RetryDelay',
@DefaultValue = '1000',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Initial delay in milliseconds',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '7687e296-d252-479f-8681-7ae8a8bfc067',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@Name = 'BackoffMultiplier',
@DefaultValue = '2',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Exponential backoff multiplier',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'f780a2fd-f761-49ce-ac1f-82d4d8171446',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@Name = 'RetryOn',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 1,
@Description = 'Error codes to retry on',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'bf6833cd-8bab-43a3-bdc7-e222d7ffe503',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@Name = 'UseJitter',
@DefaultValue = 'false',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Add random jitter to delays',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '9a1b7aea-e71f-49be-8309-f610cc2b1c4c',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@Name = 'Attempts',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Details of each attempt',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '6ca81cc9-3bc5-47b0-a7fb-b2f8adcc7f9d',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@Name = 'TotalAttempts',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Total number of attempts made',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'dd9fa3b1-259f-4734-a707-dd7bda0e2ddc',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@ResultCode = 'SUCCESS_WITH_RETRIES',
@IsSuccess = 0,
@Description = 'Action succeeded after retries';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'e91e29da-0a2e-47c0-b0d4-f35c6f442078',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@ResultCode = 'MAX_RETRIES_EXCEEDED',
@IsSuccess = 0,
@Description = 'Failed after maximum retries';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '2be668be-7cf7-443a-b005-dd95d5655e55',
@ActionID = 'CECAAF60-A3F9-4BC0-89E0-DD1E93A21D50',
@ResultCode = 'NON_RETRYABLE_ERROR',
@IsSuccess = 0,
@Description = 'Error not configured for retry';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '9ac93cbe-be19-4b7e-b6db-99c0d3e1aad3',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Delay',
@Description = 'Add fixed or random delays to workflows for timing control',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__Delay',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'bc2513fb-4974-4615-89bb-4a815067369d',
@ActionID = '9AC93CBE-BE19-4B7E-B6DB-99C0D3E1AAD3',
@Name = 'DelayMs',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Delay in milliseconds (for fixed delay)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '67157e4e-c6b1-4028-9591-7a272546f5e9',
@ActionID = '9AC93CBE-BE19-4B7E-B6DB-99C0D3E1AAD3',
@Name = 'DelayType',
@DefaultValue = 'fixed',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Type of delay: fixed or random',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '954a6a8e-3789-46b0-b6e7-2203c297ff95',
@ActionID = '9AC93CBE-BE19-4B7E-B6DB-99C0D3E1AAD3',
@Name = 'MinDelayMs',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Minimum delay for random delays',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '226bc1f5-ff5f-4eab-abfa-a5109f24195c',
@ActionID = '9AC93CBE-BE19-4B7E-B6DB-99C0D3E1AAD3',
@Name = 'MaxDelayMs',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Maximum delay for random delays',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '5aabd082-125d-4c08-affa-4cefcbc54f22',
@ActionID = '9AC93CBE-BE19-4B7E-B6DB-99C0D3E1AAD3',
@Name = 'Message',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Optional message to include in result',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '50c3b06d-f797-49e9-bdcf-6ac72f03bf2b',
@ActionID = '9AC93CBE-BE19-4B7E-B6DB-99C0D3E1AAD3',
@Name = 'ActualDelayMs',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Actual delay applied in milliseconds',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'e9603a7c-25b3-4201-b469-e67272c25bfd',
@ActionID = '9AC93CBE-BE19-4B7E-B6DB-99C0D3E1AAD3',
@Name = 'ElapsedTimeMs',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Actual elapsed time',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '9db59358-c418-4bea-a788-443d933f7266',
@ActionID = '9AC93CBE-BE19-4B7E-B6DB-99C0D3E1AAD3',
@ResultCode = 'DELAY_COMPLETED',
@IsSuccess = 0,
@Description = 'Delay completed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '0a1af742-1393-4bd4-8f8f-c88ad3d48b4b',
@ActionID = '9AC93CBE-BE19-4B7E-B6DB-99C0D3E1AAD3',
@ResultCode = 'INVALID_DELAY',
@IsSuccess = 0,
@Description = 'Invalid delay parameters';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'b04361e0-ac53-4bec-8d4e-2d7c974b57bc',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Slack Webhook',
@Description = 'Send messages to Slack channels via incoming webhooks with rich formatting support',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__SlackWebhook',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2c755c9d-3885-4032-94f8-0c25436ab64e',
@ActionID = 'B04361E0-AC53-4BEC-8D4E-2D7C974B57BC',
@Name = 'WebhookURL',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Slack incoming webhook URL',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'ed835735-4f39-42aa-a1c4-ec0a2e1f285f',
@ActionID = 'B04361E0-AC53-4BEC-8D4E-2D7C974B57BC',
@Name = 'Message',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Plain text message',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '69472b4e-7ba9-4e91-9777-4f5006f062ea',
@ActionID = 'B04361E0-AC53-4BEC-8D4E-2D7C974B57BC',
@Name = 'Blocks',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'Slack Block Kit blocks array',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c6fb6198-7138-4950-aee0-f45be1d228e7',
@ActionID = 'B04361E0-AC53-4BEC-8D4E-2D7C974B57BC',
@Name = 'Username',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Override webhook''s default username',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'bfcff844-a440-46e7-856d-41f4f124789d',
@ActionID = 'B04361E0-AC53-4BEC-8D4E-2D7C974B57BC',
@Name = 'IconEmoji',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Override icon with emoji (e.g., :ghost:)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '89dd4b8d-8a0c-43cf-9dd4-ec00f506d3ea',
@ActionID = 'B04361E0-AC53-4BEC-8D4E-2D7C974B57BC',
@Name = 'SlackResponse',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Response from Slack',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '76b5079d-8790-472c-a331-304120f276d7',
@ActionID = 'B04361E0-AC53-4BEC-8D4E-2D7C974B57BC',
@Name = 'MessageSent',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Payload sent to Slack',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '33a1c5a7-2d6b-4941-8c0f-f847f2b3fa14',
@ActionID = 'B04361E0-AC53-4BEC-8D4E-2D7C974B57BC',
@ResultCode = 'MESSAGE_SENT',
@IsSuccess = 0,
@Description = 'Message sent to Slack successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'e38d7e5f-ef06-49bd-baae-529b4ce8ee54',
@ActionID = 'B04361E0-AC53-4BEC-8D4E-2D7C974B57BC',
@ResultCode = 'WEBHOOK_NOT_FOUND',
@IsSuccess = 0,
@Description = 'Webhook URL not found';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '99d62915-853e-4ea3-80de-9a9b84b99e83',
@ActionID = 'B04361E0-AC53-4BEC-8D4E-2D7C974B57BC',
@ResultCode = 'INVALID_PAYLOAD',
@IsSuccess = 0,
@Description = 'Invalid message payload';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '30906118-070f-4eb2-b990-82d39157dd8d',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Teams Webhook',
@Description = 'Send messages to Microsoft Teams channels via incoming webhooks with card formatting',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__TeamsWebhook',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'fb2a69fc-4e19-494f-9c9a-6a9954fd8a68',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@Name = 'WebhookURL',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Teams incoming webhook URL',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'f8f40f77-42f9-46e5-844f-bc368e18cb9b',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@Name = 'Message',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Plain text message',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'acda8848-f443-4f45-8be9-4ebdb1e70070',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@Name = 'Card',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Adaptive Card JSON',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '40588072-185f-41f8-89cb-cebe3e3d71a8',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@Name = 'Title',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Card title',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '48442858-efe0-4c77-9312-a4c17535d110',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@Name = 'ThemeColor',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Hex color for card accent',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '8b2b7278-c061-4d7e-b6ea-7311489c50cf',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@Name = 'Sections',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 1,
@Description = 'MessageCard sections',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '5fc564ee-b3a9-4931-9bc9-1acc4a80f7ad',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@Name = 'TeamsResponse',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Response from Teams',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '293b77ce-c9a3-4208-a304-49237f593bd3',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@Name = 'MessageSent',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Payload sent to Teams',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '901b4e24-7026-465c-b969-ed9aac0cd30d',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@ResultCode = 'MESSAGE_SENT',
@IsSuccess = 0,
@Description = 'Message sent to Teams successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '5222b69b-c8e8-49f7-8df0-059c69db354a',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@ResultCode = 'INVALID_PAYLOAD',
@IsSuccess = 0,
@Description = 'Invalid message payload';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'a1a37d68-63c0-46b6-9632-3e5712d2fa71',
@ActionID = '30906118-070F-4EB2-B990-82D39157DD8D',
@ResultCode = 'RATE_LIMITED',
@IsSuccess = 0,
@Description = 'Rate limited by Teams';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '109e97d9-0e62-4632-bc73-86fb862069c4',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Execute AI Prompt',
@Description = 'Execute MemberJunction AI prompts with variable substitution and model overrides',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__ExecuteAIPrompt',
@ParentID = NULL;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'b4862019-3ee1-487f-8fdc-7a8a7a15c967',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@Name = 'PromptName',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Name of the AI prompt to execute',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'a336fecd-4f28-40de-81bc-6f02dfc0f8b2',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@Name = 'Variables',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Simple Object',
@IsArray = 0,
@Description = 'Variables for prompt substitution',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '231ead3c-6164-4d0e-946f-165263f5a9a2',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@Name = 'ModelOverride',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Override the default model',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '6f6661c8-4db6-413f-8703-003dafe1ace6',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@Name = 'TemperatureOverride',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Override temperature setting',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c195fcb5-3156-4607-910c-fc3bcc3d7aee',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@Name = 'MaxTokensOverride',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Override max tokens',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'e02a021f-de03-4e90-9a58-200e1a5dcd81',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@Name = 'Response',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'AI prompt response',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'faf3f20c-28d4-4432-9675-47c66c28287d',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@Name = 'Model',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Model used for generation',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '5b838ac4-eaa3-435d-97a0-fd4e032f96b0',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@Name = 'TokensUsed',
@DefaultValue = NULL,
@Type = 'Output',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Number of tokens consumed',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '1e2e4ec5-1c07-45ff-ae2d-b47bb2ffe92a',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@ResultCode = 'PROMPT_EXECUTED',
@IsSuccess = 0,
@Description = 'AI prompt executed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'ad3afcc5-dfd4-44b9-a45c-32f6e3b4dd81',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@ResultCode = 'PROMPT_NOT_FOUND',
@IsSuccess = 0,
@Description = 'Specified prompt not found';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'ecb0b603-2291-49b6-ab55-39ad906f0bf4',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@ResultCode = 'PROMPT_NOT_ACTIVE',
@IsSuccess = 0,
@Description = 'Prompt is not in active status';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '1547f08c-a34d-4c4c-81f3-ef44281d5732',
@ActionID = '109E97D9-0E62-4632-BC73-86FB862069C4',
@ResultCode = 'PROMPT_EXECUTION_FAILED',
@IsSuccess = 0,
@Description = 'Failed to execute the prompt';

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = '33AF5671-077E-46A9-94AB-340783733024',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = 'You are an expert at parsing Nunjucks templates. Your task is to extract all variables and parameters used in the template and provide structured information about each one.

## Template to Analyze:
{{ templateText }}

## Instructions:
Identify ALL variables used in the template, including:
1. Simple variables: {% raw %}{{ variableName }}{% endraw %}
2. Object properties: {% raw %}{{ user.email }}{% endraw %}, {% raw %}{{ data.items[0].name }}{% endraw %}
3. Variables in conditionals: {% raw %}{% if isActive %}{% endraw %}, {% raw %}{% if user.role == "admin" %}{% endraw %}
4. Loop variables: {% raw %}{% for item in items %}{% endraw %}, {% raw %}{% for key, value in object %}{% endraw %}
5. Variables in filters: {% raw %}{{ name | default(userName) }}{% endraw %}
6. Variables in function calls: {% raw %}{{ formatDate(createdAt) }}{% endraw %}
7. Variables in assignments: {% raw %}{% set total = price * quantity %}{% endraw %}

## **IMPORTANT** 
Do NOT include variables that are shown within {% raw %}{% raw %}{% endraw %}{% endraw %} blocks, those are for illustrative purposes and part of an illustration of what another template might have. Only consider variables that are **NOT** part of raw blocks to be valid for the purpose of this request.

For nested object references (like user.email), extract only the TOP-LEVEL variable name (user).

## Output Format: 
Return a JSON array of parameter objects with this structure:

```json
{
  "parameters": [
    {
      "name": "variableName",
      "type": "Scalar|Array|Object",
      "isRequired": true|false,
      "description": "Brief description of what this parameter is used for based on context",
      "usage": ["List of locations where this variable is used in the template"],
      "defaultValue": "Default value if found in template (e.g., from default filter)"
    }
  ]
}
```

## Rules:
1. Only include each variable ONCE (deduplicate)
2. Ignore Nunjucks built-in variables (loop, super, etc.)
3. For type detection:
   - If used in {% raw %}{% for x in variable %}{% endraw %} → type is "Array"
   - If properties are accessed (variable.property) → type is "Object"
   - Otherwise → type is "Scalar"
4. A variable is required if it has no default and no conditional protection
5. Include meaningful descriptions based on usage context
6. Sort parameters alphabetically by name

## Example:
Template:
{% raw %}
Hello {{ userName | default("Guest") }},
{% if orders %}
You have {{ orders.length }} orders.
{% for order in orders %}
- Order #{{ order.id }}: {{ order.total }}
{% endfor %}
{% endif %}
{% endraw %}

Output:
```json
{
  "parameters": [
    {
      "name": "orders",
      "type": "Array",
      "isRequired": false,
      "description": "List of user orders with id and total properties",
      "usage": ["if condition line 2", "for loop line 4", "length property line 3"],
      "defaultValue": null
    },
    {
      "name": "userName",
      "type": "Scalar",
      "isRequired": false,
      "description": "Name of the user to greet",
      "usage": ["greeting line 1"],
      "defaultValue": "Guest"
    }
  ]
}
```',
@Priority = 1,
@IsActive = 1,
@ID = '87E7401E-1AB6-4A41-A257-20ED3AE2CDA5';

GO


-- End of SQL Logging Session
-- Session ID: 011c33e8-43ca-4025-892a-4ec7bcc370b6
-- Completed: 2025-06-22T16:28:50.164Z
-- Duration: 4275ms
-- Total Statements: 265
