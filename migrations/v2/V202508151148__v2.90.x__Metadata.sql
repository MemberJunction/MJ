-- SQL Logging Session
-- Session ID: d4e7b38a-1f25-406e-8093-cf44f7a5dd32
-- Started: 2025-08-15T16:44:56.548Z
-- Description: MetadataSync push operation
-- Format: Migration-ready with Flyway schema placeholders
-- Generated by MemberJunction SQLServerDataProvider

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_f11e2656 NVARCHAR(MAX),
@Name_f11e2656 NVARCHAR(500),
@Version_f11e2656 NVARCHAR(50),
@VersionSequence_f11e2656 INT,
@Title_f11e2656 NVARCHAR(1000),
@Description_f11e2656 NVARCHAR(MAX),
@Type_f11e2656 NVARCHAR(255),
@Status_f11e2656 NVARCHAR(50),
@DeveloperName_f11e2656 NVARCHAR(255),
@DeveloperEmail_f11e2656 NVARCHAR(255),
@DeveloperOrganization_f11e2656 NVARCHAR(255),
@SourceRegistryID_f11e2656 UNIQUEIDENTIFIER,
@ReplicatedAt_f11e2656 DATETIMEOFFSET,
@LastSyncedAt_f11e2656 DATETIMEOFFSET,
@Specification_f11e2656 NVARCHAR(MAX),
@FunctionalRequirements_f11e2656 NVARCHAR(MAX),
@TechnicalDesign_f11e2656 NVARCHAR(MAX),
@FunctionalRequirementsVector_f11e2656 NVARCHAR(MAX),
@TechnicalDesignVector_f11e2656 NVARCHAR(MAX),
@HasCustomProps_f11e2656 BIT,
@HasCustomEvents_f11e2656 BIT,
@RequiresData_f11e2656 BIT,
@DependencyCount_f11e2656 INT,
@ID_f11e2656 UNIQUEIDENTIFIER
SET
  @Namespace_f11e2656 = N'AI'
SET
  @Name_f11e2656 = N'AIModelBrowser'
SET
  @Version_f11e2656 = N'1.0.0'
SET
  @VersionSequence_f11e2656 = 1
SET
  @Title_f11e2656 = N'AI Model Browser'
SET
  @Description_f11e2656 = N'A comprehensive AI model browser with filtering by developers and inference providers, prompt usage analytics with pie charts, and detailed model specifications'
SET
  @Type_f11e2656 = N'Other'
SET
  @Status_f11e2656 = N'Published'
SET
  @Specification_f11e2656 = N'{
  "name": "AIModelBrowser",
  "title": "AI Model Browser",
  "description": "A comprehensive AI model browser with filtering by developers and inference providers, prompt usage analytics with pie charts, and detailed model specifications",
  "type": "dashboard",
  "functionalRequirements": "## AI Model Browser Requirements\n\n### Core Functionality\n- Display AI models in grid or list view with comprehensive information\n- Filter models by Model Type, Status, Model Developer, and Inference Provider\n- View detailed model specifications including context window, token limits, and cost ranking\n- Display all vendors associated with a model (model developers and inference providers)\n- Show prompt run history and usage statistics for selected models\n- Visualize prompt usage with pie charts showing distribution across different prompts\n- Display performance metrics with bar charts showing average execution times\n- Show time series data for model usage over time\n- Support sorting by multiple fields with visual indicators\n- Include search functionality for quick model filtering\n- Provide ''Open'' button to trigger OpenEntityRecord callback for detailed editing\n\n### Analytics Features\n- Pie chart visualization of prompt usage distribution\n- Performance bar charts showing average execution times per prompt\n- Time series chart showing model usage trends over last 7 days\n- Summary statistics including total runs, success rates, and token usage\n- Grouped vendor display by type (Model Developer vs Inference Provider)\n\n### UX Considerations\n- Collapsible filter panel with active filter count indicator\n- Sliding details panel for comprehensive model information\n- Inline analytics panel with tabbed views for different visualizations\n- Smooth animations for panel transitions and chart rendering\n- Responsive design adapting to different screen sizes\n- Loading states while fetching data\n- Empty states with helpful messages\n- Visual feedback for hover and selection states\n- Maintain user preferences for view mode and filter state",
  "dataRequirements": {
    "mode": "views",
    "entities": [
      {
        "name": "AI Models",
        "description": "Core AI model definitions and specifications",
        "displayFields": [
          "ID",
          "Name", 
          "APIName",
          "Description",
          "AIModelTypeID",
          "InputTokenLimit",
          "PowerRank",
          "SpeedRank",
          "CostRank",
          "IsActive",
          "__mj_CreatedAt",
          "__mj_UpdatedAt"
        ],
        "filterFields": [
          "AIModelTypeID",
          "IsActive"
        ],
        "sortFields": [
          "Name",
          "InputTokenLimit",
          "CostRank",
          "IsActive",
          "__mj_CreatedAt"
        ],
        "fieldMetadata": [
          {
            "name": "ID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": true,
            "description": "Unique identifier for the AI model"
          },
          {
            "name": "Name",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "System name of the AI model"
          },
          {
            "name": "APIName",
            "sequence": 4,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "API identifier for the model"
          },
          {
            "name": "InputTokenLimit",
            "sequence": 5,
            "defaultInView": true,
            "type": "int",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Maximum input token limit"
          },
          {
            "name": "CostRank",
            "sequence": 6,
            "defaultInView": true,
            "type": "int",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Relative cost ranking (1-5)"
          }
        ],
        "permissions": [
          "read"
        ],
        "usageContext": "Main list of AI models"
      },
      {
        "name": "MJ: AI Model Vendors",
        "description": "Vendor associations for AI models",
        "displayFields": [
          "ID",
          "ModelID",
          "VendorID",
          "TypeID",
          "Model",
          "Vendor",
          "Type",
          "Status",
          "Priority",
          "APIName",
          "MaxInputTokens",
          "MaxOutputTokens",
          "SupportsStreaming",
          "SupportsEffortLevel"
        ],
        "filterFields": [
          "ModelID",
          "Type",
          "Status"
        ],
        "sortFields": [
          "Vendor",
          "Priority",
          "Type"
        ],
        "fieldMetadata": [
          {
            "name": "ModelID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Reference to AI Model"
          },
          {
            "name": "Vendor",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Vendor name"
          },
          {
            "name": "Type",
            "sequence": 3,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Vendor type (Model Developer or Inference Provider)"
          }
        ],
        "permissions": [
          "read"
        ],
        "usageContext": "Vendor associations for models"
      },
      {
        "name": "AI Model Types",
        "description": "Types/categories of AI models",
        "displayFields": [
          "ID",
          "Name",
          "Description"
        ],
        "filterFields": [],
        "sortFields": [
          "Name"
        ],
        "permissions": [
          "read"
        ],
        "usageContext": "Filter dropdown for model types"
      },
      {
        "name": "MJ: AI Prompt Runs",
        "description": "Execution history for AI prompts",
        "displayFields": [
          "ID",
          "PromptID",
          "ModelID",
          "StartTime",
          "EndTime",
          "TotalExecutionTime",
          "InputTokens",
          "OutputTokens",
          "TotalTokens",
          "Status",
          "Error"
        ],
        "filterFields": [
          "ModelID",
          "PromptID",
          "Status"
        ],
        "sortFields": [
          "StartTime",
          "TotalExecutionTime"
        ],
        "permissions": [
          "read"
        ],
        "usageContext": "Analytics and usage history"
      },
      {
        "name": "AI Prompts",
        "description": "AI prompt definitions",
        "displayFields": [
          "ID",
          "Name",
          "Description",
          "CategoryID"
        ],
        "filterFields": [],
        "sortFields": [
          "Name"
        ],
        "permissions": [
          "read"
        ],
        "usageContext": "Enrich prompt runs with names"
      }
    ]
  },
  "technicalDesign": "## Component Architecture\n\n### Root Component (AIModelBrowser)\n- Manages overall state and data loading\n- Coordinates between filter, list, details, and analytics components\n- Handles user preferences and saved settings\n- Manages search and sort state\n\n### Child Components\n1. **AIModelList**: Displays models in grid or list view with vendor information\n2. **AIModelDetails**: Sliding panel showing comprehensive model information and vendors\n3. **AIModelFilter**: Collapsible filter panel for model type, status, and vendor filtering\n4. **AIModelAnalytics**: Inline analytics panel with charts and statistics\n\n### Data Flow\n- Root component loads all models and vendor associations\n- Filters are applied at the root level and filtered data passed to list\n- Selection in list triggers detail loading and analytics calculation\n- Analytics component processes prompt runs to generate visualizations\n\n### Chart Implementation\n- Pie charts using SVG for prompt usage distribution\n- Bar charts for performance metrics\n- Time series charts for usage trends\n- All charts are responsive and interactive",
  "properties": [],
  "events": [],
  "exampleUsage": "<AIModelBrowser\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>",
  "dependencies": [
    {
      "name": "AIModelList",
      "title": "AI Model List",
      "description": "Displays AI models in grid or list view with vendor information and sorting",
      "type": "table",
      "functionalRequirements": "Display models with vendor counts, support grid and list views, handle sorting and selection",
      "dataRequirements": null,
      "technicalDesign": "",
      "properties": [
        {"name": "models", "type": "array", "required": true, "description": "Array of AI model objects to display"},
        {"name": "modelVendors", "type": "array", "required": true, "description": "Array of model vendor associations"},
        {"name": "viewMode", "type": "string", "required": true, "description": "Display mode - ''grid'' or ''list''"},
        {"name": "selectedModelId", "type": "string", "required": false, "description": "ID of the currently selected model"},
        {"name": "sortBy", "type": "string", "required": false, "description": "Field to sort by"},
        {"name": "sortDirection", "type": "string", "required": false, "description": "Sort direction - ''asc'' or ''desc''"}
      ],
      "events": [
        {"name": "onSelectModel", "description": "Fired when a model is selected", "parameters": [{"name": "modelId", "type": "string", "description": "ID of the selected model"}]},
        {"name": "onSortChange", "description": "Fired when sort criteria changes", "parameters": [{"name": "sortBy", "type": "string", "description": "Field to sort by"}, {"name": "sortDirection", "type": "string", "description": "Sort direction"}]}
      ],
      "exampleUsage": "<AIModelList ... />",
      "code": "function AIModelList({ \n  models, \n  modelVendors,\n  viewMode, \n  selectedModelId, \n  onSelectModel, \n  sortBy, \n  sortDirection, \n  onSortChange,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? ''50px'' : ''20px'';\n  };\n  \n  // Get vendor info for a model\n  const getModelVendorInfo = useCallback((modelId) => {\n    const vendors = modelVendors.filter(v => v.ModelID === modelId);\n    const inferenceProviders = vendors.filter(v => v.Type === ''Inference Provider'');\n    const modelDeveloper = vendors.find(v => v.Type === ''Model Developer'');\n    \n    return {\n      inferenceProviders,\n      modelDeveloper,\n      vendorCount: vendors.length\n    };\n  }, [modelVendors]);\n  \n  // Handle sort column click\n  const handleSort = useCallback((field) => {\n    if (sortBy === field) {\n      onSortChange?.(field, sortDirection === ''asc'' ? ''desc'' : ''asc'');\n    } else {\n      onSortChange?.(field, ''asc'');\n    }\n  }, [sortBy, sortDirection, onSortChange]);\n  \n  // Render sort indicator\n  const renderSortIndicator = (field) => {\n    if (sortBy !== field) return null;\n    \n    return (\n      <span style={{\n        marginLeft: styles.spacing.xs,\n        fontSize: styles.typography.fontSize.sm\n      }}>\n        {sortDirection === ''asc'' ? ''\u25b2'' : ''\u25bc''}\n      </span>\n    );\n  };\n  \n  // Render status badge\n  const renderStatusBadge = (status) => {\n    const statusColors = {\n      ''Active'': styles.colors.success || styles.colors.primary,\n      ''Inactive'': styles.colors.warning || styles.colors.secondary,\n      ''Deprecated'': styles.colors.error || styles.colors.secondary,\n      ''Preview'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = statusColors[status] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {status}\n      </span>\n    );\n  };\n  \n  // Render cost rank\n  const renderCostRank = (rank) => {\n    if (rank == null) return ''-'';\n    \n    const maxStars = 5;\n    const filledStars = Math.min(rank, maxStars);\n    \n    return (\n      <span style={{\n        color: styles.colors.warning || styles.colors.secondary,\n        fontSize: styles.typography.fontSize.sm\n      }}>\n        {''$''.repeat(filledStars)}\n        <span style={{ opacity: 0.3 }}>\n          {''$''.repeat(maxStars - filledStars)}\n        </span>\n      </span>\n    );\n  };\n  \n  // Format token limit\n  const formatTokens = (tokens) => {\n    if (!tokens) return ''-'';\n    if (tokens >= 1000000) return `$' + '{(tokens / 1000000).toFixed(1)}M`;\n    if (tokens >= 1000) return `$' + '{(tokens / 1000).toFixed(0)}K`;\n    return tokens.toString();\n  };\n  \n  // Grid view rendering\n  const renderGridView = () => (\n    <div style={{\n      display: ''grid'',\n      gridTemplateColumns: ''repeat(auto-fill, minmax(320px, 1fr))'',\n      gap: styles.spacing.lg\n    }}>\n      {models.map((model) => {\n        const vendorInfo = getModelVendorInfo(model.ID);\n        const isSelected = model.ID === selectedModelId;\n        \n        return (\n          <div\n            key={model.ID}\n            onClick={() => onSelectModel?.(model.ID)}\n            style={{\n              backgroundColor: styles.colors.surface,\n              borderRadius: getBorderRadius(''md''),\n              padding: styles.spacing.lg,\n              cursor: ''pointer'',\n              transition: ''all 0.2s'',\n              border: isSelected \n                ? `2px solid $' + '{styles.colors.primary}`\n                : `1px solid $' + '{styles.colors.border}`,\n              boxShadow: isSelected \n                ? `0 4px 12px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}`\n                : ''none''\n            }}\n            onMouseEnter={(e) => {\n              if (!isSelected) {\n                e.currentTarget.style.borderColor = styles.colors.primary;\n                e.currentTarget.style.boxShadow = `0 2px 8px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.05)''}`;\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (!isSelected) {\n                e.currentTarget.style.borderColor = styles.colors.border;\n                e.currentTarget.style.boxShadow = ''none'';\n              }\n            }}\n          >\n            {/* Model Header */}\n            <div style={{\n              display: ''flex'',\n              justifyContent: ''space-between'',\n              alignItems: ''flex-start'',\n              marginBottom: styles.spacing.md\n            }}>\n              <div style={{ flex: 1 }}>\n                <h3 style={{\n                  margin: 0,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  {model.Name}\n                </h3>\n                {model.APIName && (\n                  <div style={{\n                    fontSize: styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    fontFamily: ''monospace''\n                  }}>\n                    {model.APIName}\n                  </div>\n                )}\n              </div>\n              {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n            </div>\n            \n            {/* Model Description */}\n            {model.Description && (\n              <div style={{\n                fontSize: styles.typography.fontSize.sm,\n                color: styles.colors.textSecondary,\n                marginBottom: styles.spacing.md,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                display: ''-webkit-box'',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: ''vertical''\n              }}>\n                {model.Description}\n              </div>\n            )}\n            \n            {/* Model Specs */}\n            <div style={{\n              display: ''grid'',\n              gridTemplateColumns: ''repeat(2, 1fr)'',\n              gap: styles.spacing.sm,\n              marginBottom: styles.spacing.md\n            }}>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Input Token Limit\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                  color: styles.colors.text\n                }}>\n                  {formatTokens(model.InputTokenLimit)}\n                </div>\n              </div>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Cost Rank\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  fontWeight: styles.typography.fontWeight?.medium || ''500''\n                }}>\n                  {renderCostRank(model.CostRank)}\n                </div>\n              </div>\n            </div>\n            \n            {/* Vendor Info */}\n            <div style={{\n              paddingTop: styles.spacing.md,\n              borderTop: `1px solid $' + '{styles.colors.border}`,\n              display: ''flex'',\n              gap: styles.spacing.md,\n              fontSize: styles.typography.fontSize.sm\n            }}>\n              {vendorInfo.modelDeveloper && (\n                <div style={{\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  gap: styles.spacing.xs\n                }}>\n                  <span style={{ color: styles.colors.textSecondary }}>Dev:</span>\n                  <span style={{ \n                    color: styles.colors.text,\n                    fontWeight: styles.typography.fontWeight?.medium || ''500''\n                  }}>\n                    {vendorInfo.modelDeveloper.Vendor}\n                  </span>\n                </div>\n              )}\n              {vendorInfo.inferenceProviders.length > 0 && (\n                <div style={{\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  gap: styles.spacing.xs\n                }}>\n                  <span style={{ color: styles.colors.textSecondary }}>Providers:</span>\n                  <span style={{ \n                    color: styles.colors.primary,\n                    fontWeight: styles.typography.fontWeight?.medium || ''500''\n                  }}>\n                    {vendorInfo.inferenceProviders.length}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n  \n  // List view rendering\n  const renderListView = () => (\n    <div style={{\n      backgroundColor: styles.colors.surface,\n      borderRadius: getBorderRadius(''md''),\n      overflow: ''hidden''\n    }}>\n      <table style={{\n        width: ''100%'',\n        borderCollapse: ''collapse''\n      }}>\n        <thead>\n          <tr style={{\n            borderBottom: `2px solid $' + '{styles.colors.border}`\n          }}>\n            <th\n              onClick={() => handleSort(''Name'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Model Name\n              {renderSortIndicator(''Name'')}\n            </th>\n            <th\n              onClick={() => handleSort(''Status'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Status\n              {renderSortIndicator(''Status'')}\n            </th>\n            <th\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary\n              }}\n            >\n              Developer\n            </th>\n            <th\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary\n              }}\n            >\n              Providers\n            </th>\n            <th\n              onClick={() => handleSort(''InputTokenLimit'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''right'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Input Limit\n              {renderSortIndicator(''InputTokenLimit'')}\n            </th>\n            <th\n              onClick={() => handleSort(''CostRank'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''center'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Cost\n              {renderSortIndicator(''CostRank'')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {models.map((model, index) => {\n            const vendorInfo = getModelVendorInfo(model.ID);\n            const isSelected = model.ID === selectedModelId;\n            \n            return (\n              <tr\n                key={model.ID}\n                onClick={() => onSelectModel?.(model.ID)}\n                style={{\n                  borderBottom: index < models.length - 1 \n                    ? `1px solid $' + '{styles.colors.borderLight || styles.colors.border}` \n                    : ''none'',\n                  backgroundColor: isSelected \n                    ? styles.colors.primaryLight || styles.colors.primary + ''10''\n                    : ''transparent'',\n                  cursor: ''pointer'',\n                  transition: ''background-color 0.2s''\n                }}\n                onMouseEnter={(e) => {\n                  if (!isSelected) {\n                    e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (!isSelected) {\n                    e.currentTarget.style.backgroundColor = ''transparent'';\n                  }\n                }}\n              >\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md\n                }}>\n                  <div>\n                    <div style={{\n                      fontWeight: isSelected \n                        ? (styles.typography.fontWeight?.semibold || ''600'')\n                        : (styles.typography.fontWeight?.regular || ''400''),\n                      color: styles.colors.text\n                    }}>\n                      {model.Name}\n                    </div>\n                    {model.APIName && (\n                      <div style={{\n                        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                        color: styles.colors.textSecondary,\n                        fontFamily: ''monospace''\n                      }}>\n                        {model.APIName}\n                      </div>\n                    )}\n                  </div>\n                </td>\n                <td style={{\n                  padding: styles.spacing.md\n                }}>\n                  {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text\n                }}>\n                  {vendorInfo.modelDeveloper?.Vendor || ''-''}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md\n                }}>\n                  {vendorInfo.inferenceProviders.length > 0 ? (\n                    <div style={{\n                      display: ''flex'',\n                      gap: styles.spacing.xs,\n                      flexWrap: ''wrap''\n                    }}>\n                      {vendorInfo.inferenceProviders.slice(0, 3).map((provider, idx) => (\n                        <span\n                          key={idx}\n                          style={{\n                            padding: `2px $' + '{styles.spacing.xs}`,\n                            backgroundColor: styles.colors.primary + ''15'',\n                            color: styles.colors.primary,\n                            borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                            fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                          }}\n                        >\n                          {provider.Vendor}\n                        </span>\n                      ))}\n                      {vendorInfo.inferenceProviders.length > 3 && (\n                        <span style={{\n                          color: styles.colors.textSecondary,\n                          fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                        }}>\n                          +{vendorInfo.inferenceProviders.length - 3}\n                        </span>\n                      )}\n                    </div>\n                  ) : (\n                    <span style={{ color: styles.colors.textSecondary }}>-</span>\n                  )}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  textAlign: ''right'',\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text\n                }}>\n                  {formatTokens(model.InputTokenLimit)}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  textAlign: ''center''\n                }}>\n                  {renderCostRank(model.CostRank)}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n  \n  return viewMode === ''grid'' ? renderGridView() : renderListView();\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "AIModelDetails",
      "title": "AI Model Details",
      "description": "Sliding details panel showing comprehensive model information, vendors, and usage statistics",
      "type": "detail",
      "functionalRequirements": "Show model specs, vendor associations grouped by type, usage statistics, and open record button",
      "dataRequirements": null,
      "technicalDesign": "",
      "properties": [
        {"name": "model", "type": "object", "required": false, "description": "The selected AI model object"},
        {"name": "vendors", "type": "array", "required": true, "description": "Array of vendors associated with the model"},
        {"name": "promptRuns", "type": "array", "required": true, "description": "Array of prompt runs for this model"},
        {"name": "isOpen", "type": "boolean", "required": true, "description": "Whether the details panel is open"}
      ],
      "events": [
        {"name": "onClose", "description": "Fired when the details panel should close", "parameters": []},
        {"name": "onOpenRecord", "description": "Fired when the open record button is clicked", "parameters": [{"name": "modelName", "type": "string", "description": "Name of the model to open"}]}
      ],
      "exampleUsage": "<AIModelDetails ... />",
      "code": "function AIModelDetails({ \n  model, \n  vendors,\n  promptRuns,\n  isOpen, \n  onClose, \n  onOpenRecord,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Handle escape key to close panel\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === ''Escape'' && isOpen) {\n        onClose?.();\n      }\n    };\n    \n    document.addEventListener(''keydown'', handleEscape);\n    return () => document.removeEventListener(''keydown'', handleEscape);\n  }, [isOpen, onClose]);\n  \n  // Handle open record button\n  const handleOpenRecord = useCallback(() => {\n    console.log(''AIModelDetails handleOpenRecord called'', { model, onOpenRecord });\n    if (model?.Name) {\n      console.log(''Calling onOpenRecord with model name:'', model.Name);\n      if (onOpenRecord) {\n        onOpenRecord(model.Name);\n      } else {\n        console.error(''onOpenRecord callback is not defined'');\n      }\n    } else {\n      console.error(''No model or model name available'');\n    }\n  }, [model, onOpenRecord]);\n  \n  // Format token limit\n  const formatTokens = (tokens) => {\n    if (!tokens) return ''-'';\n    if (tokens >= 1000000) return `$' + '{(tokens / 1000000).toFixed(1)}M`;\n    if (tokens >= 1000) return `$' + '{(tokens / 1000).toFixed(0)}K`;\n    return tokens.toString();\n  };\n  \n  // Render status badge\n  const renderStatusBadge = (status) => {\n    const statusColors = {\n      ''Active'': styles.colors.success || styles.colors.primary,\n      ''Inactive'': styles.colors.warning || styles.colors.secondary,\n      ''Deprecated'': styles.colors.error || styles.colors.secondary,\n      ''Preview'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = statusColors[status] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {status}\n      </span>\n    );\n  };\n  \n  // Render vendor type icon\n  const renderVendorTypeIcon = (type) => {\n    const icons = {\n      ''Model Developer'': ''\ud83c\udfe2'',\n      ''Inference Provider'': ''\ud83d\ude80''\n    };\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        marginRight: styles.spacing.xs,\n        fontSize: styles.typography.fontSize.md\n      }}>\n        {icons[type] || ''\ud83d\udce6''}\n      </span>\n    );\n  };\n  \n  // Calculate prompt statistics\n  const calculatePromptStats = useCallback(() => {\n    if (!promptRuns || promptRuns.length === 0) {\n      return {\n        totalRuns: 0,\n        successfulRuns: 0,\n        failedRuns: 0,\n        avgExecutionTime: 0,\n        totalTokens: 0,\n        uniquePrompts: 0\n      };\n    }\n    \n    const stats = {\n      totalRuns: promptRuns.length,\n      successfulRuns: promptRuns.filter(r => r.Status === ''Success'' || r.Status === ''Completed'').length,\n      failedRuns: promptRuns.filter(r => r.Status === ''Failed'' || r.Status === ''Error'').length,\n      avgExecutionTime: 0,\n      totalTokens: 0,\n      uniquePrompts: new Set(promptRuns.map(r => r.PromptID)).size\n    };\n    \n    const validTimes = promptRuns\n      .filter(r => r.TotalExecutionTime)\n      .map(r => r.TotalExecutionTime);\n    \n    if (validTimes.length > 0) {\n      stats.avgExecutionTime = validTimes.reduce((a, b) => a + b, 0) / validTimes.length;\n    }\n    \n    stats.totalTokens = promptRuns.reduce((sum, r) => sum + (r.TotalTokens || 0), 0);\n    \n    return stats;\n  }, [promptRuns]);\n  \n  const stats = calculatePromptStats();\n  \n  // Group vendors by type\n  const vendorsByType = useMemo(() => {\n    const grouped = {\n      ''Model Developer'': [],\n      ''Inference Provider'': []\n    };\n    \n    vendors.forEach(v => {\n      if (grouped[v.Type]) {\n        grouped[v.Type].push(v);\n      }\n    });\n    \n    return grouped;\n  }, [vendors]);\n  \n  return (\n    <>\n      {/* Backdrop */}\n      {isOpen && (\n        <div\n          onClick={onClose}\n          style={{\n            position: ''fixed'',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: ''rgba(0, 0, 0, 0.3)'',\n            zIndex: 99999,\n            opacity: isOpen ? 1 : 0,\n            transition: ''opacity 0.3s'',\n            pointerEvents: isOpen ? ''auto'' : ''none''\n          }}\n        />\n      )}\n      \n      {/* Panel */}\n      <div style={{\n        position: ''fixed'',\n        top: ''75px'',\n        right: 0,\n        bottom: 0,\n        width: ''520px'',\n        backgroundColor: styles.colors.background,\n        boxShadow: isOpen ? `-4px 0 24px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}` : ''none'',\n        transform: isOpen ? ''translateX(0)'' : ''translateX(100%)'',\n        transition: ''transform 0.3s ease-out'',\n        zIndex: 100000,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''flex-start''\n          }}>\n            <div style={{ flex: 1 }}>\n              <h2 style={{\n                margin: 0,\n                fontSize: styles.typography.fontSize.xl,\n                fontWeight: styles.typography.fontWeight?.bold || ''700'',\n                color: styles.colors.text,\n                marginBottom: styles.spacing.xs\n              }}>\n                {model?.Name || ''No Model Selected''}\n              </h2>\n              {model?.APIName && (\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  fontFamily: ''monospace''\n                }}>\n                  {model.APIName}\n                </div>\n              )}\n              {model?.IsActive !== undefined && (\n                <div style={{ marginTop: styles.spacing.sm }}>\n                  {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n                </div>\n              )}\n            </div>\n            <button\n              onClick={onClose}\n              style={{\n                width: ''32px'',\n                height: ''32px'',\n                borderRadius: getBorderRadius(''sm''),\n                border: ''none'',\n                backgroundColor: ''transparent'',\n                color: styles.colors.textSecondary,\n                fontSize: styles.typography.fontSize.lg,\n                cursor: ''pointer'',\n                display: ''flex'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = ''transparent'';\n              }}\n            >\n              \u2715\n            </button>\n          </div>\n        </div>\n        \n        {/* Content */}\n        <div style={{\n          flex: 1,\n          overflow: ''auto'',\n          padding: styles.spacing.lg\n        }}>\n          {model ? (\n            <>\n              {/* Model Description */}\n              {model.Description && (\n                <div style={{\n                  marginBottom: styles.spacing.xl,\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  borderLeft: `3px solid $' + '{styles.colors.primary}`\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    color: styles.colors.textSecondary,\n                    lineHeight: 1.6\n                  }}>\n                    {model.Description}\n                  </div>\n                </div>\n              )}\n              \n              {/* Model Specifications */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Specifications\n                </h3>\n                <div style={{\n                  display: ''grid'',\n                  gridTemplateColumns: ''repeat(2, 1fr)'',\n                  gap: styles.spacing.md\n                }}>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Input Token Limit\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(model.InputTokenLimit)}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Input Limit\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(model.InputTokenLimit)}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Output Limit\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(model.OutputTokenLimit)}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Cost Rank\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.warning || styles.colors.secondary\n                    }}>\n                      {''$''.repeat(Math.min(model.CostRank || 0, 5))}\n                      <span style={{ opacity: 0.3 }}>\n                        {''$''.repeat(Math.max(0, 5 - (model.CostRank || 0)))}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Vendors Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Vendors ({vendors.length})\n                </h3>\n                \n                {/* Model Developer */}\n                {vendorsByType[''Model Developer''].length > 0 && (\n                  <div style={{ marginBottom: styles.spacing.md }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.sm\n                    }}>\n                      {renderVendorTypeIcon(''Model Developer'')}\n                      Model Developer\n                    </div>\n                    {vendorsByType[''Model Developer''].map((vendor, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          marginBottom: styles.spacing.sm,\n                          display: ''flex'',\n                          justifyContent: ''space-between'',\n                          alignItems: ''center''\n                        }}\n                      >\n                        <div>\n                          <div style={{\n                            fontSize: styles.typography.fontSize.md,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.text\n                          }}>\n                            {vendor.Vendor}\n                          </div>\n                          {vendor.APIName && (\n                            <div style={{\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                              color: styles.colors.textSecondary,\n                              fontFamily: ''monospace''\n                            }}>\n                              API: {vendor.APIName}\n                            </div>\n                          )}\n                        </div>\n                        {renderStatusBadge(vendor.Status)}\n                      </div>\n                    ))}\n                  </div>\n                )}\n                \n                {/* Inference Providers */}\n                {vendorsByType[''Inference Provider''].length > 0 && (\n                  <div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.sm\n                    }}>\n                      {renderVendorTypeIcon(''Inference Provider'')}\n                      Inference Providers\n                    </div>\n                    {vendorsByType[''Inference Provider''].map((vendor, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          marginBottom: styles.spacing.sm\n                        }}\n                      >\n                        <div style={{\n                          display: ''flex'',\n                          justifyContent: ''space-between'',\n                          alignItems: ''flex-start'',\n                          marginBottom: styles.spacing.sm\n                        }}>\n                          <div>\n                            <div style={{\n                              fontSize: styles.typography.fontSize.md,\n                              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                              color: styles.colors.text\n                            }}>\n                              {vendor.Vendor}\n                            </div>\n                            {vendor.APIName && (\n                              <div style={{\n                                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                color: styles.colors.textSecondary,\n                                fontFamily: ''monospace''\n                              }}>\n                                API: {vendor.APIName}\n                              </div>\n                            )}\n                          </div>\n                          <div style={{\n                            display: ''flex'',\n                            gap: styles.spacing.xs,\n                            alignItems: ''center''\n                          }}>\n                            {vendor.Priority && (\n                              <span style={{\n                                padding: `2px $' + '{styles.spacing.xs}`,\n                                backgroundColor: styles.colors.info + ''15'',\n                                color: styles.colors.info || styles.colors.primary,\n                                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                              }}>\n                                Priority: {vendor.Priority}\n                              </span>\n                            )}\n                            {renderStatusBadge(vendor.Status)}\n                          </div>\n                        </div>\n                        \n                        {/* Vendor Capabilities */}\n                        <div style={{\n                          display: ''flex'',\n                          gap: styles.spacing.xs,\n                          flexWrap: ''wrap''\n                        }}>\n                          {vendor.SupportsStreaming && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.success + ''15'',\n                              color: styles.colors.success || styles.colors.primary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              \u2713 Streaming\n                            </span>\n                          )}\n                          {vendor.SupportsEffortLevel && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.success + ''15'',\n                              color: styles.colors.success || styles.colors.primary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              \u2713 Effort Level\n                            </span>\n                          )}\n                          {vendor.MaxInputTokens && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.background,\n                              color: styles.colors.textSecondary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              Max: {formatTokens(vendor.MaxInputTokens)}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n              \n              {/* Usage Statistics */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Usage Statistics\n                </h3>\n                <div style={{\n                  display: ''grid'',\n                  gridTemplateColumns: ''repeat(2, 1fr)'',\n                  gap: styles.spacing.md\n                }}>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Total Runs\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {stats.totalRuns.toLocaleString()}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Success Rate\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: stats.totalRuns > 0 \n                        ? (stats.successfulRuns / stats.totalRuns >= 0.9 ? styles.colors.success : styles.colors.warning)\n                        : styles.colors.text\n                    }}>\n                      {stats.totalRuns > 0 \n                        ? `$' + '{((stats.successfulRuns / stats.totalRuns) * 100).toFixed(1)}%`\n                        : ''-''}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Unique Prompts\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {stats.uniquePrompts}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Total Tokens\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(stats.totalTokens)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          ) : (\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              height: ''100%'',\n              color: styles.colors.textSecondary\n            }}>\n              <div style={{\n                fontSize: styles.typography.fontSize.lg,\n                marginBottom: styles.spacing.md\n              }}>\n                No Model Selected\n              </div>\n              <div style={{\n                fontSize: styles.typography.fontSize.md\n              }}>\n                Select a model from the list to view its details\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Footer with Open Record Button */}\n        {model && (\n          <div style={{\n            padding: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.border}`,\n            backgroundColor: styles.colors.surface\n          }}>\n            <button\n              onClick={handleOpenRecord}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.primary,\n                color: ''white'',\n                border: ''none'',\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primaryHover || styles.colors.primary;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primary;\n              }}\n            >\n              Open Model Record\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "AIModelFilter",
      "title": "AI Model Filter",
      "description": "Collapsible filter panel for filtering models by type, status, developer, and provider",
      "type": "form",
      "functionalRequirements": "Provide filters for model type, status, developer, and provider with active filter indicators",
      "dataRequirements": null,
      "technicalDesign": "",
      "properties": [
        {"name": "filters", "type": "object", "required": true, "description": "Current filter state object"},
        {"name": "modelTypes", "type": "array", "required": true, "description": "Array of available model types for filtering"},
        {"name": "vendors", "type": "array", "required": true, "description": "Array of available vendors for filtering"},
        {"name": "isCollapsed", "type": "boolean", "required": true, "description": "Whether the filter panel is collapsed"}
      ],
      "events": [
        {"name": "onFilterChange", "description": "Fired when filters are changed", "parameters": [{"name": "filters", "type": "object", "description": "New filter state"}]},
        {"name": "onToggleCollapse", "description": "Fired when the collapse state should toggle", "parameters": []}
      ],
      "exampleUsage": "<AIModelFilter ... />",
      "code": "function AIModelFilter({ \n  filters, \n  onFilterChange, \n  modelTypes,\n  vendors,\n  isCollapsed, \n  onToggleCollapse,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Calculate active filter count\n  const activeFilterCount = Object.values(filters || {}).filter(Boolean).length;\n  \n  // Handle model type filter change\n  const handleModelTypeChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      modelType: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle developer filter change\n  const handleDeveloperChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      developer: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle inference provider filter change\n  const handleProviderChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      provider: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle status filter change\n  const handleStatusChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      isActive: e.target.value === '''' ? undefined : e.target.value === ''true''\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle clear all filters\n  const handleClearFilters = useCallback(() => {\n    onFilterChange?.({});\n  }, [onFilterChange]);\n  \n  // Handle toggle collapse\n  const handleToggle = useCallback(() => {\n    onToggleCollapse?.();\n  }, [onToggleCollapse]);\n  \n  // Get unique developers and providers\n  const developers = useMemo(() => {\n    return vendors.filter(v => v.Name && v.Name.includes(''Developer'')).map(v => v.Name);\n  }, [vendors]);\n  \n  const providers = useMemo(() => {\n    return vendors.filter(v => v.Name && !v.Name.includes(''Developer'')).map(v => v.Name);\n  }, [vendors]);\n  \n  return (\n    <div style={{\n      width: isCollapsed ? ''48px'' : ''280px'',\n      minWidth: isCollapsed ? ''48px'' : ''280px'',\n      backgroundColor: styles.colors.surface,\n      borderRight: `1px solid $' + '{styles.colors.border}`,\n      transition: ''width 0.3s ease-out'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      position: ''relative'',\n      overflow: ''hidden''\n    }}>\n      {/* Toggle Button */}\n      <button\n        onClick={handleToggle}\n        style={{\n          position: ''absolute'',\n          top: styles.spacing.md,\n          right: styles.spacing.md,\n          width: ''32px'',\n          height: ''32px'',\n          borderRadius: getBorderRadius(''sm''),\n          border: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.background,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.md,\n          cursor: ''pointer'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1,\n          transition: ''all 0.2s''\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.background;\n        }}\n      >\n        {isCollapsed ? ''\u2192'' : ''\u2190''}\n      </button>\n      \n      {/* Filter Icon when collapsed */}\n      {isCollapsed && (\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          flex: 1,\n          opacity: 1,\n          transition: ''opacity 0.3s''\n        }}>\n          <div style={{\n            fontSize: styles.typography.fontSize.xl,\n            color: styles.colors.textSecondary,\n            marginBottom: styles.spacing.sm\n          }}>\n            \ud83d\udd0d\n          </div>\n          {activeFilterCount > 0 && (\n            <div style={{\n              width: ''24px'',\n              height: ''24px'',\n              borderRadius: ''50%'',\n              backgroundColor: styles.colors.primary,\n              color: ''white'',\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              fontSize: styles.typography.fontSize.xs,\n              fontWeight: styles.typography.fontWeight?.bold || ''700''\n            }}>\n              {activeFilterCount}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Filter Content */}\n      <div style={{\n        padding: styles.spacing.lg,\n        opacity: isCollapsed ? 0 : 1,\n        transition: ''opacity 0.3s'',\n        pointerEvents: isCollapsed ? ''none'' : ''auto'',\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column''\n      }}>\n        {/* Header */}\n        <div style={{\n          marginBottom: styles.spacing.xl,\n          paddingRight: ''40px''\n        }}>\n          <h2 style={{\n            margin: 0,\n            fontSize: styles.typography.fontSize.lg,\n            fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n            color: styles.colors.text,\n            marginBottom: styles.spacing.xs\n          }}>\n            Filters\n          </h2>\n          {activeFilterCount > 0 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary\n            }}>\n              {activeFilterCount} active filter{activeFilterCount !== 1 ? ''s'' : ''''}\n            </div>\n          )}\n        </div>\n        \n        {/* Filter Controls */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.lg\n        }}>\n          {/* Model Type Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Model Type\n            </label>\n            <select\n              value={filters?.modelType || ''''}\n              onChange={handleModelTypeChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Types</option>\n              {modelTypes.map((type) => (\n                <option key={type.ID} value={type.ID}>\n                  {type.Name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Status Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Status\n            </label>\n            <select\n              value={filters?.isActive || ''''}\n              onChange={handleStatusChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Statuses</option>\n              <option value=\"Active\">Active</option>\n              <option value=\"Inactive\">Inactive</option>\n              <option value=\"Deprecated\">Deprecated</option>\n              <option value=\"Preview\">Preview</option>\n            </select>\n          </div>\n          \n          {/* Model Developer Filter */}\n          {developers.length > 0 && (\n            <div>\n              <label style={{\n                display: ''block'',\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Model Developer\n              </label>\n              <select\n                value={filters?.developer || ''''}\n                onChange={handleDeveloperChange}\n                style={{\n                  width: ''100%'',\n                  padding: styles.spacing.sm,\n                  fontSize: styles.typography.fontSize.md,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  backgroundColor: styles.colors.background,\n                  color: styles.colors.text,\n                  cursor: ''pointer''\n                }}\n              >\n                <option value=\"\">All Developers</option>\n                {developers.map((dev) => (\n                  <option key={dev} value={dev}>\n                    {dev}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n          \n          {/* Inference Provider Filter */}\n          {providers.length > 0 && (\n            <div>\n              <label style={{\n                display: ''block'',\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Inference Provider\n              </label>\n              <select\n                value={filters?.provider || ''''}\n                onChange={handleProviderChange}\n                style={{\n                  width: ''100%'',\n                  padding: styles.spacing.sm,\n                  fontSize: styles.typography.fontSize.md,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  backgroundColor: styles.colors.background,\n                  color: styles.colors.text,\n                  cursor: ''pointer''\n                }}\n              >\n                <option value=\"\">All Providers</option>\n                {providers.map((provider) => (\n                  <option key={provider} value={provider}>\n                    {provider}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n          \n          {/* Active Filters Display */}\n          {activeFilterCount > 0 && (\n            <div>\n              <div style={{\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Active Filters\n              </div>\n              <div style={{\n                display: ''flex'',\n                flexDirection: ''column'',\n                gap: styles.spacing.xs\n              }}>\n                {filters?.modelType && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Type:\n                      </span>\n                      <strong>{modelTypes.find(t => t.ID === filters.modelType)?.Name || filters.modelType}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleModelTypeChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.isActive && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Status:\n                      </span>\n                      <strong>{filters.isActive}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleStatusChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.developer && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Developer:\n                      </span>\n                      <strong>{filters.developer}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleDeveloperChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.provider && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Provider:\n                      </span>\n                      <strong>{filters.provider}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleProviderChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Clear All Button */}\n        {activeFilterCount > 0 && (\n          <div style={{\n            marginTop: styles.spacing.xl,\n            paddingTop: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`\n          }}>\n            <button\n              onClick={handleClearFilters}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.surface,\n                color: styles.colors.text,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.error + ''15'';\n                e.currentTarget.style.color = styles.colors.error;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surface;\n                e.currentTarget.style.color = styles.colors.text;\n              }}\n            >\n              Clear All Filters\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "AIModelAnalytics",
      "title": "AI Model Analytics",
      "description": "Analytics panel with charts showing prompt usage distribution, performance metrics, and time series",
      "type": "chart",
      "functionalRequirements": "Display pie chart for prompt usage, bar chart for performance, time series for usage trends",
      "dataRequirements": null,
      "technicalDesign": "",
      "properties": [
        {"name": "model", "type": "object", "required": false, "description": "The selected AI model for analytics"},
        {"name": "promptRuns", "type": "array", "required": true, "description": "Array of prompt runs to analyze"},
        {"name": "view", "type": "string", "required": true, "description": "Current analytics view - ''prompts'', ''performance'', or ''timeline''"}
      ],
      "events": [
        {"name": "onViewChange", "description": "Fired when the analytics view changes", "parameters": [{"name": "view", "type": "string", "description": "New view name"}]}
      ],
      "exampleUsage": "<AIModelAnalytics ... />",
      "code": "function AIModelAnalytics({ \n  model,\n  promptRuns,\n  view,\n  onViewChange,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Calculate prompt usage statistics\n  const promptStats = useMemo(() => {\n    if (!promptRuns || promptRuns.length === 0) return [];\n    \n    const stats = {};\n    promptRuns.forEach(run => {\n      const promptName = run.PromptName || ''Unknown'';\n      if (!stats[promptName]) {\n        stats[promptName] = {\n          name: promptName,\n          runs: 0,\n          successfulRuns: 0,\n          failedRuns: 0,\n          totalTokens: 0,\n          avgExecutionTime: 0,\n          executionTimes: []\n        };\n      }\n      \n      stats[promptName].runs++;\n      if (run.Status === ''Success'' || run.Status === ''Completed'') {\n        stats[promptName].successfulRuns++;\n      } else if (run.Status === ''Failed'' || run.Status === ''Error'') {\n        stats[promptName].failedRuns++;\n      }\n      \n      stats[promptName].totalTokens += run.TotalTokens || 0;\n      if (run.TotalExecutionTime) {\n        stats[promptName].executionTimes.push(run.TotalExecutionTime);\n      }\n    });\n    \n    // Calculate averages\n    Object.values(stats).forEach(stat => {\n      if (stat.executionTimes.length > 0) {\n        stat.avgExecutionTime = stat.executionTimes.reduce((a, b) => a + b, 0) / stat.executionTimes.length;\n      }\n    });\n    \n    return Object.values(stats).sort((a, b) => b.runs - a.runs);\n  }, [promptRuns]);\n  \n  // Calculate time series data\n  const timeSeriesData = useMemo(() => {\n    if (!promptRuns || promptRuns.length === 0) return [];\n    \n    // Group by day\n    const dailyStats = {};\n    promptRuns.forEach(run => {\n      if (run.StartTime) {\n        const date = new Date(run.StartTime).toLocaleDateString();\n        if (!dailyStats[date]) {\n          dailyStats[date] = {\n            date,\n            runs: 0,\n            tokens: 0,\n            errors: 0\n          };\n        }\n        dailyStats[date].runs++;\n        dailyStats[date].tokens += run.TotalTokens || 0;\n        if (run.Status === ''Failed'' || run.Status === ''Error'') {\n          dailyStats[date].errors++;\n        }\n      }\n    });\n    \n    return Object.values(dailyStats).sort((a, b) => new Date(a.date) - new Date(b.date));\n  }, [promptRuns]);\n  \n  // Render pie chart\n  const renderPieChart = () => {\n    if (promptStats.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No prompt data available\n        </div>\n      );\n    }\n    \n    const total = promptStats.reduce((sum, stat) => sum + stat.runs, 0);\n    const colors = [\n      styles.colors.primary,\n      styles.colors.success || ''#4CAF50'',\n      styles.colors.warning || ''#FF9800'',\n      styles.colors.error || ''#F44336'',\n      styles.colors.info || ''#2196F3'',\n      ''#9C27B0'', ''#00BCD4'', ''#8BC34A'', ''#FFC107'', ''#795548''\n    ];\n    \n    // Create simple pie chart using SVG\n    let currentAngle = 0;\n    const segments = promptStats.slice(0, 5).map((stat, index) => {\n      const percentage = stat.runs / total;\n      const angle = percentage * 360;\n      const largeArcFlag = angle > 180 ? 1 : 0;\n      \n      const startX = 100 + 80 * Math.cos((currentAngle - 90) * Math.PI / 180);\n      const startY = 100 + 80 * Math.sin((currentAngle - 90) * Math.PI / 180);\n      \n      currentAngle += angle;\n      \n      const endX = 100 + 80 * Math.cos((currentAngle - 90) * Math.PI / 180);\n      const endY = 100 + 80 * Math.sin((currentAngle - 90) * Math.PI / 180);\n      \n      const pathData = [\n        `M 100 100`,\n        `L $' + '{startX} $' + '{startY}`,\n        `A 80 80 0 $' + '{largeArcFlag} 1 $' + '{endX} $' + '{endY}`,\n        ''Z''\n      ].join('' '');\n      \n      return {\n        path: pathData,\n        color: colors[index % colors.length],\n        percentage,\n        stat\n      };\n    });\n    \n    return (\n      <div>\n        <svg viewBox=\"0 0 200 200\" style={{ width: ''200px'', height: ''200px'', margin: ''0 auto'', display: ''block'' }}>\n          {segments.map((segment, index) => (\n            <g key={index}>\n              <path\n                d={segment.path}\n                fill={segment.color}\n                stroke={styles.colors.background}\n                strokeWidth=\"2\"\n                style={{ cursor: ''pointer'' }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.opacity = ''0.8'';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.opacity = ''1'';\n                }}\n              />\n            </g>\n          ))}\n        </svg>\n        \n        {/* Legend */}\n        <div style={{\n          marginTop: styles.spacing.md,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.xs\n        }}>\n          {segments.map((segment, index) => (\n            <div\n              key={index}\n              style={{\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm\n              }}\n            >\n              <div style={{\n                width: ''12px'',\n                height: ''12px'',\n                backgroundColor: segment.color,\n                borderRadius: ''2px''\n              }} />\n              <div style={{\n                flex: 1,\n                color: styles.colors.text,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                whiteSpace: ''nowrap''\n              }}>\n                {segment.stat.name}\n              </div>\n              <div style={{\n                color: styles.colors.textSecondary,\n                fontWeight: styles.typography.fontWeight?.medium || ''500''\n              }}>\n                {(segment.percentage * 100).toFixed(1)}%\n              </div>\n            </div>\n          ))}\n          {promptStats.length > 5 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary,\n              fontStyle: ''italic''\n            }}>\n              +{promptStats.length - 5} more prompts\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n  \n  // Render bar chart for performance\n  const renderPerformanceChart = () => {\n    if (promptStats.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No performance data available\n        </div>\n      );\n    }\n    \n    const maxTime = Math.max(...promptStats.map(s => s.avgExecutionTime || 0));\n    const displayStats = promptStats.slice(0, 10);\n    \n    return (\n      <div>\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.sm\n        }}>\n          {displayStats.map((stat, index) => (\n            <div key={index} style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.sm }}>\n              <div style={{\n                width: ''100px'',\n                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                color: styles.colors.text,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                whiteSpace: ''nowrap''\n              }}>\n                {stat.name}\n              </div>\n              <div style={{\n                flex: 1,\n                height: ''20px'',\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                overflow: ''hidden'',\n                position: ''relative''\n              }}>\n                <div style={{\n                  width: maxTime > 0 ? `$' + '{(stat.avgExecutionTime / maxTime) * 100}%` : ''0%'',\n                  height: ''100%'',\n                  backgroundColor: styles.colors.primary,\n                  transition: ''width 0.3s''\n                }} />\n                <div style={{\n                  position: ''absolute'',\n                  right: styles.spacing.xs,\n                  top: ''50%'',\n                  transform: ''translateY(-50%)'',\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary\n                }}>\n                  {stat.avgExecutionTime ? `$' + '{(stat.avgExecutionTime / 1000).toFixed(2)}s` : ''-''}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n  \n  // Render time series chart\n  const renderTimeSeriesChart = () => {\n    if (timeSeriesData.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No time series data available\n        </div>\n      );\n    }\n    \n    const maxRuns = Math.max(...timeSeriesData.map(d => d.runs));\n    const recentData = timeSeriesData.slice(-7);\n    \n    return (\n      <div>\n        <div style={{\n          display: ''flex'',\n          alignItems: ''flex-end'',\n          height: ''150px'',\n          gap: styles.spacing.xs,\n          marginBottom: styles.spacing.sm\n        }}>\n          {recentData.map((data, index) => (\n            <div\n              key={index}\n              style={{\n                flex: 1,\n                display: ''flex'',\n                flexDirection: ''column'',\n                alignItems: ''center'',\n                gap: styles.spacing.xs\n              }}\n            >\n              <div style={{\n                width: ''100%'',\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                position: ''relative'',\n                flex: 1,\n                display: ''flex'',\n                alignItems: ''flex-end''\n              }}>\n                <div style={{\n                  width: ''100%'',\n                  height: maxRuns > 0 ? `$' + '{(data.runs / maxRuns) * 100}%` : ''0%'',\n                  backgroundColor: data.errors > 0 \n                    ? styles.colors.error \n                    : styles.colors.primary,\n                  borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                  transition: ''height 0.3s''\n                }} />\n              </div>\n              <div style={{\n                fontSize: ''10px'',\n                color: styles.colors.textSecondary,\n                textAlign: ''center''\n              }}>\n                {new Date(data.date).toLocaleDateString(''en'', { month: ''short'', day: ''numeric'' })}\n              </div>\n            </div>\n          ))}\n        </div>\n        <div style={{\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n          color: styles.colors.textSecondary\n        }}>\n          <span>Runs per day (last 7 days)</span>\n          <span>Max: {maxRuns}</span>\n        </div>\n      </div>\n    );\n  };\n  \n  return (\n    <div style={{\n      height: ''100%'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      backgroundColor: styles.colors.surface\n    }}>\n      {/* Header with View Selector */}\n      <div style={{\n        padding: styles.spacing.lg,\n        borderBottom: `1px solid $' + '{styles.colors.border}`\n      }}>\n        <h3 style={{\n          margin: 0,\n          marginBottom: styles.spacing.md,\n          fontSize: styles.typography.fontSize.lg,\n          fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n          color: styles.colors.text\n        }}>\n          Analytics\n        </h3>\n        \n        {/* View Tabs */}\n        <div style={{\n          display: ''flex'',\n          gap: styles.spacing.xs,\n          borderBottom: `1px solid $' + '{styles.colors.border}`\n        }}>\n          <button\n            onClick={() => onViewChange?.(''prompts'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''prompts'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''prompts'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Prompt Usage\n          </button>\n          <button\n            onClick={() => onViewChange?.(''performance'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''performance'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''performance'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Performance\n          </button>\n          <button\n            onClick={() => onViewChange?.(''timeline'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''timeline'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''timeline'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Timeline\n          </button>\n        </div>\n      </div>\n      \n      {/* Content Area */}\n      <div style={{\n        flex: 1,\n        padding: styles.spacing.lg,\n        overflow: ''auto''\n      }}>\n        {!model ? (\n          <div style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''center'',\n            height: ''100%'',\n            color: styles.colors.textSecondary,\n            fontSize: styles.typography.fontSize.sm\n          }}>\n            Select a model to view analytics\n          </div>\n        ) : (\n          <>\n            {/* Summary Stats */}\n            <div style={{\n              display: ''grid'',\n              gridTemplateColumns: ''repeat(2, 1fr)'',\n              gap: styles.spacing.sm,\n              marginBottom: styles.spacing.lg\n            }}>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Total Runs\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  {promptRuns.length}\n                </div>\n              </div>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Unique Prompts\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  {promptStats.length}\n                </div>\n              </div>\n            </div>\n            \n            {/* Chart Area */}\n            <div>\n              {view === ''prompts'' && renderPieChart()}\n              {view === ''performance'' && renderPerformanceChart()}\n              {view === ''timeline'' && renderTimeSeriesChart()}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}",
      "dependencies": [],
      "libraries": []
    }
  ],
  "libraries": [],
  "code": "function AIModelBrowser({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Extract child components\n  const { AIModelList, AIModelDetails, AIModelFilter, AIModelAnalytics } = components;\n  console.log(''=== AIModelBrowser initialized with callbacks:'', callbacks);\n  \n  // Initialize state from saved settings where appropriate\n  const [selectedModelId, setSelectedModelId] = useState(savedUserSettings?.selectedModelId);\n  const [viewMode, setViewMode] = useState(savedUserSettings?.viewMode || ''grid'');\n  const [filters, setFilters] = useState(savedUserSettings?.filters || {});\n  const [sortBy, setSortBy] = useState(savedUserSettings?.sortBy || ''Name'');\n  const [sortDirection, setSortDirection] = useState(savedUserSettings?.sortDirection || ''asc'');\n  const [filterPanelCollapsed, setFilterPanelCollapsed] = useState(savedUserSettings?.filterPanelCollapsed || false);\n  const [analyticsView, setAnalyticsView] = useState(savedUserSettings?.analyticsView || ''prompts'');\n  \n  // Runtime UI state (not persisted)\n  const [models, setModels] = useState([]);\n  const [modelVendors, setModelVendors] = useState([]);\n  const [promptRuns, setPromptRuns] = useState([]);\n  const [vendors, setVendors] = useState([]);\n  const [modelTypes, setModelTypes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [detailsPanelOpen, setDetailsPanelOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('''');\n  \n  // Load models on mount and when filters/sort change\n  useEffect(() => {\n    const loadModels = async () => {\n      console.log(''=== Loading models with filters:'', filters, ''search:'', searchQuery);\n      setLoading(true);\n      try {\n        // Build filter string for models\n        let filterParts = [];\n        if (searchQuery) {\n          filterParts.push(`(Name LIKE ''%$' + '{searchQuery}%'' OR APIName LIKE ''%$' + '{searchQuery}%'' OR Description LIKE ''%$' + '{searchQuery}%'')`);\n        }\n        if (filters.modelType) {\n          filterParts.push(`AIModelTypeID = ''$' + '{filters.modelType}''`);\n        }\n        if (filters.isActive !== undefined) {\n          filterParts.push(`IsActive = ''$' + '{filters.isActive}''`);\n        }\n        \n        // Load AI Models\n        const modelsResult = await utilities.rv.RunView({\n          EntityName: ''AI Models'',\n          Fields: [''ID'', ''Name'', ''APIName'', ''Description'', ''AIModelTypeID'', ''InputTokenLimit'', \n                   ''CostRank'', ''IsActive'', ''__mj_CreatedAt'', ''__mj_UpdatedAt''],\n          OrderBy: `$' + '{sortBy} $' + '{sortDirection.toUpperCase()}`,\n          ExtraFilter: filterParts.length > 0 ? filterParts.join('' AND '') : undefined\n        });\n        \n        if (modelsResult?.Success && modelsResult?.Results) {\n          console.log(`Loaded $' + '{modelsResult.Results.length} models`);\n          setModels(modelsResult.Results);\n        } else {\n          console.error(''Failed to load models:'', modelsResult?.ErrorMessage);\n          setModels([]);\n        }\n        \n        // Load Model Types for filter\n        const typesResult = await utilities.rv.RunView({\n          EntityName: ''AI Model Types'',\n          Fields: [''ID'', ''Name'', ''Description''],\n          OrderBy: ''Name ASC''\n        });\n        \n        if (typesResult?.Success && typesResult?.Results) {\n          setModelTypes(typesResult.Results);\n        }\n        \n        // Load Vendors (from AI Model Vendors)\n        const vendorsResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Model Vendors'',\n          Fields: [''ID'', ''ModelID'', ''VendorID'', ''TypeID'', ''Model'', ''Vendor'', ''Type'', ''Status'', ''Priority''],\n          OrderBy: ''Vendor ASC, Model ASC''\n        });\n        \n        if (vendorsResult?.Success && vendorsResult?.Results) {\n          const vendorData = vendorsResult.Results;\n          console.log(`Loaded $' + '{vendorData.length} vendor associations`);\n          setModelVendors(vendorData);\n          \n          // Extract unique vendors\n          const uniqueVendors = [...new Set(vendorData.map(v => v.Vendor))].filter(Boolean);\n          setVendors(uniqueVendors.map(name => ({ Name: name })));\n          console.log(`Found $' + '{uniqueVendors.length} unique vendors`);\n          \n          // Apply vendor-based filters\n          if ((filters.developer || filters.provider) && modelsResult?.Results) {\n            console.log(''Applying vendor filters - developer:'', filters.developer, ''provider:'', filters.provider);\n            let vendorFilteredModels = modelsResult.Results;\n            \n            if (filters.developer) {\n              const developerModelIds = vendorData\n                .filter(v => v.Vendor === filters.developer && v.Type?.includes(''Developer''))\n                .map(v => v.ModelID);\n              vendorFilteredModels = vendorFilteredModels.filter(m => developerModelIds.includes(m.ID));\n              console.log(`After developer filter: $' + '{vendorFilteredModels.length} models`);\n            }\n            \n            if (filters.provider) {\n              const providerModelIds = vendorData\n                .filter(v => v.Vendor === filters.provider && v.Type?.includes(''Provider''))\n                .map(v => v.ModelID);\n              vendorFilteredModels = vendorFilteredModels.filter(m => providerModelIds.includes(m.ID));\n              console.log(`After provider filter: $' + '{vendorFilteredModels.length} models`);\n            }\n            \n            setModels(vendorFilteredModels);\n          }\n        }\n      } catch (error) {\n        console.error(''Error loading models:'', error);\n        setModels([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadModels();\n  }, [filters, sortBy, sortDirection, searchQuery, utilities.rv]);\n  \n  // Load model details and analytics when selection changes\n  useEffect(() => {\n    const loadModelDetails = async () => {\n      if (!selectedModelId) {\n        setPromptRuns([]);\n        return;\n      }\n      \n      console.log(''=== Loading prompt runs for model:'', selectedModelId);\n      \n      try {\n        // Use the correct entity name for prompt runs: MJ: AI Prompt Runs\n        console.log(''Loading prompt runs with entity: MJ: AI Prompt Runs'');\n        \n        const promptRunsResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Prompt Runs'',\n          Fields: [''ID'', ''PromptID'', ''ModelID'', ''RunAt'', ''CompletedAt'', ''ExecutionTimeMS'', \n                   ''TokensPrompt'', ''TokensCompletion'', ''TokensUsed'', ''Success'', ''ErrorMessage''],\n          OrderBy: ''RunAt DESC'',\n            ExtraFilter: `ModelID = ''$' + '{selectedModelId}''`,\n            MaxRows: 1000\n        });\n        \n        if (promptRunsResult?.Success && promptRunsResult?.Results) {\n          console.log(`Found $' + '{promptRunsResult.Results.length} prompt runs`);\n          // Enrich with prompt names\n          const promptIds = [...new Set(promptRunsResult.Results.map(r => r.PromptID))].filter(Boolean);\n          \n          if (promptIds.length > 0) {\n            const promptsResult = await utilities.rv.RunView({\n              EntityName: ''AI Prompts'',\n              Fields: [''ID'', ''Name'', ''Description'', ''CategoryID''],\n              ExtraFilter: `ID IN (''$' + '{promptIds.join(\"'',''\")}'')`\n            });\n            \n            const promptMap = {};\n            if (promptsResult?.Success && promptsResult?.Results) {\n              promptsResult.Results.forEach(p => {\n                promptMap[p.ID] = p;\n              });\n            }\n            \n            // Enrich prompt runs with prompt names and convert fields for compatibility\n            const enrichedRuns = promptRunsResult.Results.map(run => ({\n              ...run,\n              PromptName: promptMap[run.PromptID]?.Name || ''Unknown Prompt'',\n              PromptDescription: promptMap[run.PromptID]?.Description,\n              // Map fields for analytics component compatibility\n              StartTime: run.RunAt,\n              EndTime: run.CompletedAt,\n              TotalExecutionTime: run.ExecutionTimeMS,\n              Status: run.Success ? ''Success'' : ''Failed'',\n              Error: run.ErrorMessage,\n              TotalTokens: run.TokensUsed\n            }));\n            \n            console.log(`Enriched $' + '{enrichedRuns.length} runs with prompt names`);\n            setPromptRuns(enrichedRuns);\n          } else {\n            setPromptRuns(promptRunsResult.Results);\n          }\n        } else {\n          console.log(''No prompt runs found:'', promptRunsResult?.ErrorMessage);\n          setPromptRuns([]);\n        }\n      } catch (error) {\n        console.error(''Error loading model details:'', error);\n        setPromptRuns([]);\n      }\n    };\n    \n    loadModelDetails();\n  }, [selectedModelId, utilities.rv]);\n  \n  // Handle model selection\n  const handleSelectModel = useCallback((modelId) => {\n    setSelectedModelId(modelId);\n    setDetailsPanelOpen(true);\n    \n    // Save user preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      selectedModelId: modelId\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle view mode change\n  const handleViewModeChange = useCallback((mode) => {\n    setViewMode(mode);\n    \n    // Save preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      viewMode: mode\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter changes\n  const handleFilterChange = useCallback((newFilters) => {\n    setFilters(newFilters);\n    \n    // Save filter preferences\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filters: newFilters\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle sort changes\n  const handleSortChange = useCallback((newSortBy, newSortDirection) => {\n    setSortBy(newSortBy);\n    setSortDirection(newSortDirection);\n    \n    // Save sort preferences\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      sortBy: newSortBy,\n      sortDirection: newSortDirection\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter panel toggle\n  const handleToggleFilter = useCallback(() => {\n    const newCollapsed = !filterPanelCollapsed;\n    setFilterPanelCollapsed(newCollapsed);\n    \n    // Save collapsed state\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filterPanelCollapsed: newCollapsed\n    });\n  }, [filterPanelCollapsed, savedUserSettings, onSaveUserSettings]);\n  \n  // Handle analytics view change\n  const handleAnalyticsViewChange = useCallback((view) => {\n    setAnalyticsView(view);\n    \n    // Save preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      analyticsView: view\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle opening model record\n  const handleOpenRecord = useCallback((modelName) => {\n    console.log(''Opening AI Model record:'', modelName);\n    if (callbacks?.OpenEntityRecord && modelName) {\n      callbacks.OpenEntityRecord(''AI Models'', [{ FieldName: ''Name'', Value: modelName }]);\n    }\n  }, [callbacks]);\n  \n  // Handle closing details panel\n  const handleCloseDetails = useCallback(() => {\n    setDetailsPanelOpen(false);\n  }, []);\n  \n  // Handle search\n  const handleSearch = useCallback((query) => {\n    setSearchQuery(query);\n  }, []);\n  \n  // Get selected model object\n  const selectedModel = models.find(m => m.ID === selectedModelId);\n  \n  // Get vendors for selected model\n  const selectedModelVendors = modelVendors.filter(v => v.ModelID === selectedModelId);\n  \n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Loading state\n  if (loading && models.length === 0) {\n    return (\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        height: ''100vh'',\n        fontSize: styles.typography.fontSize.lg,\n        color: styles.colors.textSecondary\n      }}>\n        Loading AI models...\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{\n      display: ''flex'',\n      height: ''100vh'',\n      backgroundColor: styles.colors.background,\n      overflow: ''hidden''\n    }}>\n      {/* Filter Panel */}\n      {AIModelFilter && (\n        <AIModelFilter\n          filters={filters}\n          onFilterChange={handleFilterChange}\n          modelTypes={modelTypes}\n          vendors={vendors}\n          isCollapsed={filterPanelCollapsed}\n          onToggleCollapse={handleToggleFilter}\n          savedUserSettings={savedUserSettings?.filterPanel}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            filterPanel: settings\n          })}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n        />\n      )}\n      \n      {/* Main Content Area */}\n      <div style={{\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            marginBottom: styles.spacing.md\n          }}>\n            <h1 style={{\n              margin: 0,\n              fontSize: styles.typography.fontSize.xxl || styles.typography.fontSize.xl,\n              fontWeight: styles.typography.fontWeight?.bold || ''700'',\n              color: styles.colors.text\n            }}>\n              AI Model Browser\n            </h1>\n            \n            {/* View Mode Toggle */}\n            <div style={{\n              display: ''flex'',\n              gap: styles.spacing.sm,\n              alignItems: ''center''\n            }}>\n              <span style={{\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.textSecondary\n              }}>\n                View:\n              </span>\n              <button\n                onClick={() => handleViewModeChange(''grid'')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: viewMode === ''grid'' ? styles.colors.primary : styles.colors.background,\n                  color: viewMode === ''grid'' ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Grid\n              </button>\n              <button\n                onClick={() => handleViewModeChange(''list'')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: viewMode === ''list'' ? styles.colors.primary : styles.colors.background,\n                  color: viewMode === ''list'' ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                List\n              </button>\n            </div>\n          </div>\n          \n          {/* Search Bar */}\n          <div style={{\n            display: ''flex'',\n            gap: styles.spacing.md\n          }}>\n            <input\n              type=\"text\"\n              placeholder=\"Search AI models...\"\n              value={searchQuery}\n              onChange={(e) => handleSearch(e.target.value)}\n              style={{\n                flex: 1,\n                padding: styles.spacing.md,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background\n              }}\n            />\n            {searchQuery && (\n              <button\n                onClick={() => handleSearch('''')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: styles.colors.surfaceHover || styles.colors.surface,\n                  color: styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Clear\n              </button>\n            )}\n          </div>\n        </div>\n        \n        {/* Model List and Analytics Split View */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          overflow: ''hidden''\n        }}>\n          {/* Model List */}\n          <div style={{\n            flex: 1,\n            overflow: ''auto'',\n            padding: styles.spacing.lg\n          }}>\n            {AIModelList && (\n              <AIModelList\n                models={models}\n                modelVendors={modelVendors}\n                viewMode={viewMode}\n                selectedModelId={selectedModelId}\n                onSelectModel={handleSelectModel}\n                sortBy={sortBy}\n                sortDirection={sortDirection}\n                onSortChange={handleSortChange}\n                savedUserSettings={savedUserSettings?.modelList}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  modelList: settings\n                })}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            )}\n            \n            {/* Empty State */}\n            {models.length === 0 && !loading && (\n              <div style={{\n                display: ''flex'',\n                flexDirection: ''column'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                padding: styles.spacing.xxl || styles.spacing.xl,\n                color: styles.colors.textSecondary\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xl,\n                  marginBottom: styles.spacing.md\n                }}>\n                  No AI models found\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.md\n                }}>\n                  {searchQuery || Object.keys(filters).length > 0\n                    ? ''Try adjusting your filters or search query''\n                    : ''No AI models are available''}\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* Analytics Panel */}\n          {selectedModel && AIModelAnalytics && (\n            <div style={{\n              width: ''400px'',\n              borderLeft: `1px solid $' + '{styles.colors.border}`,\n              overflow: ''hidden'',\n              display: ''flex'',\n              flexDirection: ''column''\n            }}>\n              <AIModelAnalytics\n                model={selectedModel}\n                promptRuns={promptRuns}\n                view={analyticsView}\n                onViewChange={handleAnalyticsViewChange}\n                savedUserSettings={savedUserSettings?.analytics}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  analytics: settings\n                })}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Details Panel */}\n      {AIModelDetails && (\n        <AIModelDetails\n          model={selectedModel}\n          vendors={selectedModelVendors}\n          promptRuns={promptRuns}\n          isOpen={detailsPanelOpen}\n          onClose={handleCloseDetails}\n          onOpenRecord={() => handleOpenRecord(selectedModel?.Name)}\n          savedUserSettings={savedUserSettings?.detailsPanel}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            detailsPanel: settings\n          })}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n        />\n      )}\n    </div>\n  );\n}"
}'
SET
  @FunctionalRequirements_f11e2656 = N'## AI Model Browser Requirements

### Core Functionality
- Display AI models in grid or list view with comprehensive information
- Filter models by Model Type, Status, Model Developer, and Inference Provider
- View detailed model specifications including context window, token limits, and cost ranking
- Display all vendors associated with a model (model developers and inference providers)
- Show prompt run history and usage statistics for selected models
- Visualize prompt usage with pie charts showing distribution across different prompts
- Display performance metrics with bar charts showing average execution times
- Show time series data for model usage over time
- Support sorting by multiple fields with visual indicators
- Include search functionality for quick model filtering
- Provide ''Open'' button to trigger OpenEntityRecord callback for detailed editing

### Analytics Features
- Pie chart visualization of prompt usage distribution
- Performance bar charts showing average execution times per prompt
- Time series chart showing model usage trends over last 7 days
- Summary statistics including total runs, success rates, and token usage
- Grouped vendor display by type (Model Developer vs Inference Provider)

### UX Considerations
- Collapsible filter panel with active filter count indicator
- Sliding details panel for comprehensive model information
- Inline analytics panel with tabbed views for different visualizations
- Smooth animations for panel transitions and chart rendering
- Responsive design adapting to different screen sizes
- Loading states while fetching data
- Empty states with helpful messages
- Visual feedback for hover and selection states
- Maintain user preferences for view mode and filter state'
SET
  @TechnicalDesign_f11e2656 = N'## Component Architecture

### Root Component (AIModelBrowser)
- Manages overall state and data loading
- Coordinates between filter, list, details, and analytics components
- Handles user preferences and saved settings
- Manages search and sort state

### Child Components
1. **AIModelList**: Displays models in grid or list view with vendor information
2. **AIModelDetails**: Sliding panel showing comprehensive model information and vendors
3. **AIModelFilter**: Collapsible filter panel for model type, status, and vendor filtering
4. **AIModelAnalytics**: Inline analytics panel with charts and statistics

### Data Flow
- Root component loads all models and vendor associations
- Filters are applied at the root level and filtered data passed to list
- Selection in list triggers detail loading and analytics calculation
- Analytics component processes prompt runs to generate visualizations

### Chart Implementation
- Pie charts using SVG for prompt usage distribution
- Bar charts for performance metrics
- Time series charts for usage trends
- All charts are responsive and interactive'
SET
  @HasCustomProps_f11e2656 = 0
SET
  @HasCustomEvents_f11e2656 = 0
SET
  @RequiresData_f11e2656 = 1
SET
  @DependencyCount_f11e2656 = 4
SET
  @ID_f11e2656 = 'E7A334EA-53FD-40E4-A255-1DDA891D86B7'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_f11e2656,
  @Name = @Name_f11e2656,
  @Version = @Version_f11e2656,
  @VersionSequence = @VersionSequence_f11e2656,
  @Title = @Title_f11e2656,
  @Description = @Description_f11e2656,
  @Type = @Type_f11e2656,
  @Status = @Status_f11e2656,
  @DeveloperName = @DeveloperName_f11e2656,
  @DeveloperEmail = @DeveloperEmail_f11e2656,
  @DeveloperOrganization = @DeveloperOrganization_f11e2656,
  @SourceRegistryID = @SourceRegistryID_f11e2656,
  @ReplicatedAt = @ReplicatedAt_f11e2656,
  @LastSyncedAt = @LastSyncedAt_f11e2656,
  @Specification = @Specification_f11e2656,
  @FunctionalRequirements = @FunctionalRequirements_f11e2656,
  @TechnicalDesign = @TechnicalDesign_f11e2656,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_f11e2656,
  @TechnicalDesignVector = @TechnicalDesignVector_f11e2656,
  @HasCustomProps = @HasCustomProps_f11e2656,
  @HasCustomEvents = @HasCustomEvents_f11e2656,
  @RequiresData = @RequiresData_f11e2656,
  @DependencyCount = @DependencyCount_f11e2656,
  @ID = @ID_f11e2656;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_a492a11f NVARCHAR(MAX),
@Name_a492a11f NVARCHAR(500),
@Version_a492a11f NVARCHAR(50),
@VersionSequence_a492a11f INT,
@Title_a492a11f NVARCHAR(1000),
@Description_a492a11f NVARCHAR(MAX),
@Type_a492a11f NVARCHAR(255),
@Status_a492a11f NVARCHAR(50),
@DeveloperName_a492a11f NVARCHAR(255),
@DeveloperEmail_a492a11f NVARCHAR(255),
@DeveloperOrganization_a492a11f NVARCHAR(255),
@SourceRegistryID_a492a11f UNIQUEIDENTIFIER,
@ReplicatedAt_a492a11f DATETIMEOFFSET,
@LastSyncedAt_a492a11f DATETIMEOFFSET,
@Specification_a492a11f NVARCHAR(MAX),
@FunctionalRequirements_a492a11f NVARCHAR(MAX),
@TechnicalDesign_a492a11f NVARCHAR(MAX),
@FunctionalRequirementsVector_a492a11f NVARCHAR(MAX),
@TechnicalDesignVector_a492a11f NVARCHAR(MAX),
@HasCustomProps_a492a11f BIT,
@HasCustomEvents_a492a11f BIT,
@RequiresData_a492a11f BIT,
@DependencyCount_a492a11f INT,
@ID_a492a11f UNIQUEIDENTIFIER
SET
  @Namespace_a492a11f = N'AI'
SET
  @Name_a492a11f = N'AIModelDetails'
SET
  @Version_a492a11f = N'1.0.0'
SET
  @VersionSequence_a492a11f = 1
SET
  @Title_a492a11f = N'AI Model Details'
SET
  @Description_a492a11f = N'Sliding details panel showing comprehensive model information, vendors, and usage statistics'
SET
  @Type_a492a11f = N'Other'
SET
  @Status_a492a11f = N'Published'
SET
  @Specification_a492a11f = N'{
  "name": "AIModelDetails",
  "title": "AI Model Details",
  "description": "Sliding details panel showing comprehensive model information, vendors, and usage statistics",
  "type": "detail",
  "functionalRequirements": "Show model specs, vendor associations grouped by type, usage statistics, and open record button",
  "dataRequirements": null,
  "technicalDesign": "",
  "properties": [
    {"name": "model", "type": "object", "required": false, "description": "The selected AI model object"},
    {"name": "vendors", "type": "array", "required": true, "description": "Array of vendors associated with the model"},
    {"name": "promptRuns", "type": "array", "required": true, "description": "Array of prompt runs for this model"},
    {"name": "isOpen", "type": "boolean", "required": true, "description": "Whether the details panel is open"}
  ],
  "events": [ 
    {"name": "onClose", "description": "Fired when the details panel should close", "parameters": []},
    {"name": "onOpenRecord", "description": "Fired when the open record button is clicked", "parameters": [{"name": "modelName", "type": "string", "description": "Name of the model to open"}]}
  ],
  "exampleUsage": "<AIModelDetails ... />",
  "code": "function AIModelDetails({ \n  model, \n  vendors,\n  promptRuns,\n  isOpen, \n  onClose, \n  onOpenRecord,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Handle escape key to close panel\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === ''Escape'' && isOpen) {\n        onClose?.();\n      }\n    };\n    \n    document.addEventListener(''keydown'', handleEscape);\n    return () => document.removeEventListener(''keydown'', handleEscape);\n  }, [isOpen, onClose]);\n  \n  // Handle open record button\n  const handleOpenRecord = useCallback(() => {\n    console.log(''AIModelDetails handleOpenRecord called'', { model, onOpenRecord });\n    if (model?.Name) {\n      console.log(''Calling onOpenRecord with model name:'', model.Name);\n      if (onOpenRecord) {\n        onOpenRecord(model.Name);\n      } else {\n        console.error(''onOpenRecord callback is not defined'');\n      }\n    } else {\n      console.error(''No model or model name available'');\n    }\n  }, [model, onOpenRecord]);\n  \n  // Format token limit\n  const formatTokens = (tokens) => {\n    if (!tokens) return ''-'';\n    if (tokens >= 1000000) return `$' + '{(tokens / 1000000).toFixed(1)}M`;\n    if (tokens >= 1000) return `$' + '{(tokens / 1000).toFixed(0)}K`;\n    return tokens.toString();\n  };\n  \n  // Render status badge\n  const renderStatusBadge = (status) => {\n    const statusColors = {\n      ''Active'': styles.colors.success || styles.colors.primary,\n      ''Inactive'': styles.colors.warning || styles.colors.secondary,\n      ''Deprecated'': styles.colors.error || styles.colors.secondary,\n      ''Preview'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = statusColors[status] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {status}\n      </span>\n    );\n  };\n  \n  // Render vendor type icon\n  const renderVendorTypeIcon = (type) => {\n    const icons = {\n      ''Model Developer'': ''\ud83c\udfe2'',\n      ''Inference Provider'': ''\ud83d\ude80''\n    };\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        marginRight: styles.spacing.xs,\n        fontSize: styles.typography.fontSize.md\n      }}>\n        {icons[type] || ''\ud83d\udce6''}\n      </span>\n    );\n  };\n  \n  // Calculate prompt statistics\n  const calculatePromptStats = useCallback(() => {\n    if (!promptRuns || promptRuns.length === 0) {\n      return {\n        totalRuns: 0,\n        successfulRuns: 0,\n        failedRuns: 0,\n        avgExecutionTime: 0,\n        totalTokens: 0,\n        uniquePrompts: 0\n      };\n    }\n    \n    const stats = {\n      totalRuns: promptRuns.length,\n      successfulRuns: promptRuns.filter(r => r.Status === ''Success'' || r.Status === ''Completed'').length,\n      failedRuns: promptRuns.filter(r => r.Status === ''Failed'' || r.Status === ''Error'').length,\n      avgExecutionTime: 0,\n      totalTokens: 0,\n      uniquePrompts: new Set(promptRuns.map(r => r.PromptID)).size\n    };\n    \n    const validTimes = promptRuns\n      .filter(r => r.TotalExecutionTime)\n      .map(r => r.TotalExecutionTime);\n    \n    if (validTimes.length > 0) {\n      stats.avgExecutionTime = validTimes.reduce((a, b) => a + b, 0) / validTimes.length;\n    }\n    \n    stats.totalTokens = promptRuns.reduce((sum, r) => sum + (r.TotalTokens || 0), 0);\n    \n    return stats;\n  }, [promptRuns]);\n  \n  const stats = calculatePromptStats();\n  \n  // Group vendors by type\n  const vendorsByType = useMemo(() => {\n    const grouped = {\n      ''Model Developer'': [],\n      ''Inference Provider'': []\n    };\n    \n    vendors.forEach(v => {\n      if (grouped[v.Type]) {\n        grouped[v.Type].push(v);\n      }\n    });\n    \n    return grouped;\n  }, [vendors]);\n  \n  return (\n    <>\n      {/* Backdrop */}\n      {isOpen && (\n        <div\n          onClick={onClose}\n          style={{\n            position: ''fixed'',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: ''rgba(0, 0, 0, 0.3)'',\n            zIndex: 99999,\n            opacity: isOpen ? 1 : 0,\n            transition: ''opacity 0.3s'',\n            pointerEvents: isOpen ? ''auto'' : ''none''\n          }}\n        />\n      )}\n      \n      {/* Panel */}\n      <div style={{\n        position: ''fixed'',\n        top: ''75px'',\n        right: 0,\n        bottom: 0,\n        width: ''520px'',\n        backgroundColor: styles.colors.background,\n        boxShadow: isOpen ? `-4px 0 24px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}` : ''none'',\n        transform: isOpen ? ''translateX(0)'' : ''translateX(100%)'',\n        transition: ''transform 0.3s ease-out'',\n        zIndex: 100000,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''flex-start''\n          }}>\n            <div style={{ flex: 1 }}>\n              <h2 style={{\n                margin: 0,\n                fontSize: styles.typography.fontSize.xl,\n                fontWeight: styles.typography.fontWeight?.bold || ''700'',\n                color: styles.colors.text,\n                marginBottom: styles.spacing.xs\n              }}>\n                {model?.Name || ''No Model Selected''}\n              </h2>\n              {model?.APIName && (\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  fontFamily: ''monospace''\n                }}>\n                  {model.APIName}\n                </div>\n              )}\n              {model?.IsActive !== undefined && (\n                <div style={{ marginTop: styles.spacing.sm }}>\n                  {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n                </div>\n              )}\n            </div>\n            <button\n              onClick={onClose}\n              style={{\n                width: ''32px'',\n                height: ''32px'',\n                borderRadius: getBorderRadius(''sm''),\n                border: ''none'',\n                backgroundColor: ''transparent'',\n                color: styles.colors.textSecondary,\n                fontSize: styles.typography.fontSize.lg,\n                cursor: ''pointer'',\n                display: ''flex'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = ''transparent'';\n              }}\n            >\n              \u2715\n            </button>\n          </div>\n        </div>\n        \n        {/* Content */}\n        <div style={{\n          flex: 1,\n          overflow: ''auto'',\n          padding: styles.spacing.lg\n        }}>\n          {model ? (\n            <>\n              {/* Model Description */}\n              {model.Description && (\n                <div style={{\n                  marginBottom: styles.spacing.xl,\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  borderLeft: `3px solid $' + '{styles.colors.primary}`\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    color: styles.colors.textSecondary,\n                    lineHeight: 1.6\n                  }}>\n                    {model.Description}\n                  </div>\n                </div>\n              )}\n              \n              {/* Model Specifications */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Specifications\n                </h3>\n                <div style={{\n                  display: ''grid'',\n                  gridTemplateColumns: ''repeat(2, 1fr)'',\n                  gap: styles.spacing.md\n                }}>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Input Token Limit\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(model.InputTokenLimit)}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Cost Rank\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.warning || styles.colors.secondary\n                    }}>\n                      {''$''.repeat(Math.min(model.CostRank || 0, 5))}\n                      <span style={{ opacity: 0.3 }}>\n                        {''$''.repeat(Math.max(0, 5 - (model.CostRank || 0)))}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Vendors Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Vendors ({vendors.length})\n                </h3>\n                \n                {/* Model Developer */}\n                {vendorsByType[''Model Developer''].length > 0 && (\n                  <div style={{ marginBottom: styles.spacing.md }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.sm\n                    }}>\n                      {renderVendorTypeIcon(''Model Developer'')}\n                      Model Developer\n                    </div>\n                    {vendorsByType[''Model Developer''].map((vendor, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          marginBottom: styles.spacing.sm,\n                          display: ''flex'',\n                          justifyContent: ''space-between'',\n                          alignItems: ''center''\n                        }}\n                      >\n                        <div>\n                          <div style={{\n                            fontSize: styles.typography.fontSize.md,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.text\n                          }}>\n                            {vendor.Vendor}\n                          </div>\n                          {vendor.APIName && (\n                            <div style={{\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                              color: styles.colors.textSecondary,\n                              fontFamily: ''monospace''\n                            }}>\n                              API: {vendor.APIName}\n                            </div>\n                          )}\n                        </div>\n                        {renderStatusBadge(vendor.Status)}\n                      </div>\n                    ))}\n                  </div>\n                )}\n                \n                {/* Inference Providers */}\n                {vendorsByType[''Inference Provider''].length > 0 && (\n                  <div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.sm\n                    }}>\n                      {renderVendorTypeIcon(''Inference Provider'')}\n                      Inference Providers\n                    </div>\n                    {vendorsByType[''Inference Provider''].map((vendor, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          marginBottom: styles.spacing.sm\n                        }}\n                      >\n                        <div style={{\n                          display: ''flex'',\n                          justifyContent: ''space-between'',\n                          alignItems: ''flex-start'',\n                          marginBottom: styles.spacing.sm\n                        }}>\n                          <div>\n                            <div style={{\n                              fontSize: styles.typography.fontSize.md,\n                              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                              color: styles.colors.text\n                            }}>\n                              {vendor.Vendor}\n                            </div>\n                            {vendor.APIName && (\n                              <div style={{\n                                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                color: styles.colors.textSecondary,\n                                fontFamily: ''monospace''\n                              }}>\n                                API: {vendor.APIName}\n                              </div>\n                            )}\n                          </div>\n                          <div style={{\n                            display: ''flex'',\n                            gap: styles.spacing.xs,\n                            alignItems: ''center''\n                          }}>\n                            {vendor.Priority && (\n                              <span style={{\n                                padding: `2px $' + '{styles.spacing.xs}`,\n                                backgroundColor: styles.colors.info + ''15'',\n                                color: styles.colors.info || styles.colors.primary,\n                                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                              }}>\n                                Priority: {vendor.Priority}\n                              </span>\n                            )}\n                            {renderStatusBadge(vendor.Status)}\n                          </div>\n                        </div>\n                        \n                        {/* Vendor Capabilities */}\n                        <div style={{\n                          display: ''flex'',\n                          gap: styles.spacing.xs,\n                          flexWrap: ''wrap''\n                        }}>\n                          {vendor.SupportsStreaming && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.success + ''15'',\n                              color: styles.colors.success || styles.colors.primary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              \u2713 Streaming\n                            </span>\n                          )}\n                          {vendor.SupportsEffortLevel && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.success + ''15'',\n                              color: styles.colors.success || styles.colors.primary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              \u2713 Effort Level\n                            </span>\n                          )}\n                          {vendor.MaxInputTokens && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.background,\n                              color: styles.colors.textSecondary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              Max: {formatTokens(vendor.MaxInputTokens)}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n              \n              {/* Usage Statistics */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Usage Statistics\n                </h3>\n                <div style={{\n                  display: ''grid'',\n                  gridTemplateColumns: ''repeat(2, 1fr)'',\n                  gap: styles.spacing.md\n                }}>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Total Runs\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {stats.totalRuns.toLocaleString()}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Success Rate\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: stats.totalRuns > 0 \n                        ? (stats.successfulRuns / stats.totalRuns >= 0.9 ? styles.colors.success : styles.colors.warning)\n                        : styles.colors.text\n                    }}>\n                      {stats.totalRuns > 0 \n                        ? `$' + '{((stats.successfulRuns / stats.totalRuns) * 100).toFixed(1)}%`\n                        : ''-''}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Unique Prompts\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {stats.uniquePrompts}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Total Tokens\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(stats.totalTokens)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          ) : (\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              height: ''100%'',\n              color: styles.colors.textSecondary\n            }}>\n              <div style={{\n                fontSize: styles.typography.fontSize.lg,\n                marginBottom: styles.spacing.md\n              }}>\n                No Model Selected\n              </div>\n              <div style={{\n                fontSize: styles.typography.fontSize.md\n              }}>\n                Select a model from the list to view its details\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Footer with Open Record Button */}\n        {model && (\n          <div style={{\n            padding: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.border}`,\n            backgroundColor: styles.colors.surface\n          }}>\n            <button\n              onClick={handleOpenRecord}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.primary,\n                color: ''white'',\n                border: ''none'',\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primaryHover || styles.colors.primary;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primary;\n              }}\n            >\n              Open Model Record\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}",
  "dependencies": [],
  "libraries": []
}'
SET
  @FunctionalRequirements_a492a11f = N'Show model specs, vendor associations grouped by type, usage statistics, and open record button'
SET
  @TechnicalDesign_a492a11f = N''
SET
  @HasCustomProps_a492a11f = 1
SET
  @HasCustomEvents_a492a11f = 1
SET
  @RequiresData_a492a11f = 0
SET
  @DependencyCount_a492a11f = 0
SET
  @ID_a492a11f = '7B36D078-5B69-47EC-BDFB-D119524116F6'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_a492a11f,
  @Name = @Name_a492a11f,
  @Version = @Version_a492a11f,
  @VersionSequence = @VersionSequence_a492a11f,
  @Title = @Title_a492a11f,
  @Description = @Description_a492a11f,
  @Type = @Type_a492a11f,
  @Status = @Status_a492a11f,
  @DeveloperName = @DeveloperName_a492a11f,
  @DeveloperEmail = @DeveloperEmail_a492a11f,
  @DeveloperOrganization = @DeveloperOrganization_a492a11f,
  @SourceRegistryID = @SourceRegistryID_a492a11f,
  @ReplicatedAt = @ReplicatedAt_a492a11f,
  @LastSyncedAt = @LastSyncedAt_a492a11f,
  @Specification = @Specification_a492a11f,
  @FunctionalRequirements = @FunctionalRequirements_a492a11f,
  @TechnicalDesign = @TechnicalDesign_a492a11f,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_a492a11f,
  @TechnicalDesignVector = @TechnicalDesignVector_a492a11f,
  @HasCustomProps = @HasCustomProps_a492a11f,
  @HasCustomEvents = @HasCustomEvents_a492a11f,
  @RequiresData = @RequiresData_a492a11f,
  @DependencyCount = @DependencyCount_a492a11f,
  @ID = @ID_a492a11f;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_5e2cc5d2 NVARCHAR(MAX),
@Name_5e2cc5d2 NVARCHAR(500),
@Version_5e2cc5d2 NVARCHAR(50),
@VersionSequence_5e2cc5d2 INT,
@Title_5e2cc5d2 NVARCHAR(1000),
@Description_5e2cc5d2 NVARCHAR(MAX),
@Type_5e2cc5d2 NVARCHAR(255),
@Status_5e2cc5d2 NVARCHAR(50),
@DeveloperName_5e2cc5d2 NVARCHAR(255),
@DeveloperEmail_5e2cc5d2 NVARCHAR(255),
@DeveloperOrganization_5e2cc5d2 NVARCHAR(255),
@SourceRegistryID_5e2cc5d2 UNIQUEIDENTIFIER,
@ReplicatedAt_5e2cc5d2 DATETIMEOFFSET,
@LastSyncedAt_5e2cc5d2 DATETIMEOFFSET,
@Specification_5e2cc5d2 NVARCHAR(MAX),
@FunctionalRequirements_5e2cc5d2 NVARCHAR(MAX),
@TechnicalDesign_5e2cc5d2 NVARCHAR(MAX),
@FunctionalRequirementsVector_5e2cc5d2 NVARCHAR(MAX),
@TechnicalDesignVector_5e2cc5d2 NVARCHAR(MAX),
@HasCustomProps_5e2cc5d2 BIT,
@HasCustomEvents_5e2cc5d2 BIT,
@RequiresData_5e2cc5d2 BIT,
@DependencyCount_5e2cc5d2 INT,
@ID_5e2cc5d2 UNIQUEIDENTIFIER
SET
  @Namespace_5e2cc5d2 = N'AI/Agents'
SET
  @Name_5e2cc5d2 = N'AIAgentAnalyticsDashboard'
SET
  @Version_5e2cc5d2 = N'1.0.0'
SET
  @VersionSequence_5e2cc5d2 = 1
SET
  @Title_5e2cc5d2 = N'AI Agent Analytics Dashboard'
SET
  @Description_5e2cc5d2 = N'A comprehensive analytics dashboard for monitoring AI agent executions, performance metrics, hierarchical relationships, and step-by-step analysis with real-time updates and interactive visualizations'
SET
  @Type_5e2cc5d2 = N'Dashboard'
SET
  @Status_5e2cc5d2 = N'Deprecated'
SET
  @Specification_5e2cc5d2 = N'{
  "name": "AIAgentAnalyticsDashboard",
  "title": "AI Agent Analytics Dashboard",
  "description": "A comprehensive analytics dashboard for monitoring AI agent executions, performance metrics, hierarchical relationships, and step-by-step analysis with real-time updates and interactive visualizations",
  "type": "dashboard",
  "functionalRequirements": "## AI Agent Analytics Dashboard Requirements\n\n### Core Functionality\n- Display real-time agent execution status with live updates\n- Show hierarchical agent relationships and sub-agent orchestration\n- Provide step-by-step execution analysis with timing and success metrics\n- Visualize performance metrics including execution time, token usage, and costs\n- Track agent learning cycles and improvement over time\n- Monitor conversation flows and context compression effectiveness\n- Display error patterns and anomaly detection\n- Support drill-down from high-level metrics to detailed execution logs\n\n### Analytics Features\n- Live execution monitor with WebSocket updates\n- Agent hierarchy tree visualization with execution flow\n- Step type distribution and execution waterfall charts\n- Performance distribution plots and token usage analytics\n- Learning cycle progress tracking\n- Conversation flow network graph\n- Sub-agent orchestration timeline\n- Real-time alerts and SLA monitoring\n\n### UX Considerations\n- Multi-panel layout with coordinated views\n- Interactive filtering across all visualizations\n- Time range selection with comparison capabilities\n- Drill-down navigation to execution details\n- Export functionality for reports and data\n- Responsive design for different screen sizes\n- Dark/light theme support\n- Smooth animations and transitions",
  "dataRequirements": {
    "mode": "dynamic",
    "entities": [
      {
        "name": "AI Agents",
        "description": "Agent definitions and configurations",
        "fields": ["ID", "Name", "Description", "AgentTypeID", "IsActive", "DefaultPromptEffortLevel", "ExposeAsAction", "ParentID"]
      },
      {
        "name": "MJ: AI Agent Runs",
        "description": "Agent execution instances with hierarchical tracking",
        "fields": ["ID", "AgentID", "ParentRunID", "Status", "StartedAt", "CompletedAt", "Success", "ErrorMessage", "ConversationID", "UserID", "Result", "AgentState", "ExecutionTimeMS", "TotalCost", "TotalTokens", "EffortLevel"]
      },
      {
        "name": "MJ: AI Agent Run Steps",
        "description": "Detailed step-by-step execution tracking",
        "fields": ["ID", "AgentRunID", "StepNumber", "StepType", "StepName", "TargetID", "Status", "StartedAt", "CompletedAt", "Success", "ErrorMessage", "Input", "Output", "ExecutionTimeMS", "TokensUsed", "Cost"]
      },
      {
        "name": "AI Agent Relationships",
        "description": "Parent-child agent relationships",
        "fields": ["ID", "AgentID", "SubAgentID", "RelationshipType", "ExecutionOrder", "IsActive"]
      },
      {
        "name": "MJ: AI Prompt Runs",
        "description": "Prompt executions linked to agent runs",
        "fields": ["ID", "AgentRunID", "PromptID", "ModelID", "RunAt", "CompletedAt", "Success", "TokensUsed", "Cost"]
      }
    ]
  },
  "technicalDesign": "## Component Architecture\n\n### Root Component (AIAgentAnalyticsDashboard)\n- Manages overall dashboard state and data loading\n- Coordinates between multiple visualization panels\n- Handles real-time WebSocket connections for live updates\n- Manages time range and filtering state\n\n### Child Components\n1. **AIAgentExecutionOverview**: Top panel with live monitors, success gauges, and velocity metrics\n2. **AIAgentHierarchyTree**: Interactive tree visualization of agent relationships\n3. **AIAgentStepAnalysis**: Step-by-step execution waterfall and distribution charts\n4. **AIAgentPerformanceMetrics**: Performance plots, token usage, and error analysis\n\n### Data Flow\n- Root component establishes WebSocket connection for real-time updates\n- Historical data loaded based on selected time range\n- Filter changes propagate to all child components\n- Selection in one component updates others (coordinated views)\n\n### State Management\n- Selected agent IDs (for filtering)\n- Time range (with comparison period)\n- Active view tab\n- Real-time data buffer\n- User preferences (saved via onSaveUserSettings)",
  "properties": [],
  "events": [],
  "childComponents": [
    {
      "name": "AIAgentExecutionOverview",
      "description": "Live execution monitors and high-level metrics",
      "required": true
    },
    {
      "name": "AIAgentHierarchyTree",
      "description": "Interactive agent relationship visualization",
      "required": true
    },
    {
      "name": "AIAgentStepAnalysis",
      "description": "Step-by-step execution analysis",
      "required": true
    },
    {
      "name": "AIAgentPerformanceMetrics",
      "description": "Performance and cost analytics",
      "required": true
    }
  ],
  "exampleUsage": "<AIAgentAnalyticsDashboard />",
  "code": "function AIAgentAnalyticsDashboard({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Extract child components\n  const { AIAgentExecutionOverview, AIAgentHierarchyTree, AIAgentStepAnalysis, AIAgentPerformanceMetrics } = components;\n  \n  // Initialize state from saved settings\n  const [selectedAgentId, setSelectedAgentId] = useState(savedUserSettings?.selectedAgentId);\n  const [timeRange, setTimeRange] = useState(savedUserSettings?.timeRange || ''24h'');\n  const [comparisonPeriod, setComparisonPeriod] = useState(savedUserSettings?.comparisonPeriod || null);\n  const [filters, setFilters] = useState(savedUserSettings?.filters || {});\n  const [activeView, setActiveView] = useState(savedUserSettings?.activeView || ''overview'');\n  \n  // Runtime state\n  const [agents, setAgents] = useState([]);\n  const [agentRuns, setAgentRuns] = useState([]);\n  const [agentRunSteps, setAgentRunSteps] = useState([]);\n  const [agentRelationships, setAgentRelationships] = useState([]);\n  const [promptRuns, setPromptRuns] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [realTimeData, setRealTimeData] = useState({});\n  const [wsConnection, setWsConnection] = useState(null);\n  \n  // Helper function to get border radius\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Calculate time range dates\n  const getTimeRangeDates = useCallback((range) => {\n    const now = new Date();\n    const start = new Date();\n    \n    switch(range) {\n      case ''1h'':\n        start.setHours(now.getHours() - 1);\n        break;\n      case ''24h'':\n        start.setDate(now.getDate() - 1);\n        break;\n      case ''7d'':\n        start.setDate(now.getDate() - 7);\n        break;\n      case ''30d'':\n        start.setDate(now.getDate() - 30);\n        break;\n      default:\n        start.setDate(now.getDate() - 1);\n    }\n    \n    return { start, end: now };\n  }, []);\n  \n  // Load dashboard data\n  useEffect(() => {\n    const loadDashboardData = async () => {\n      setLoading(true);\n      const { start, end } = getTimeRangeDates(timeRange);\n      \n      try {\n        // Load agents\n        const agentsResult = await utilities.rv.RunView({\n          EntityName: ''AI Agents'',\n          Fields: [''ID'', ''Name'', ''Description'', ''AgentTypeID'', ''IsActive'', ''DefaultPromptEffortLevel'', ''ExposeAsAction'', ''ParentID''],\n          OrderBy: ''Name ASC''\n        });\n        \n        if (agentsResult?.Success) {\n          setAgents(agentsResult.Results || []);\n        }\n        \n        // Load agent runs for time period\n        const runsFilter = `StartedAt >= ''$' + '{start.toISOString()}'' AND StartedAt <= ''$' + '{end.toISOString()}''`;\n        const runsResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Agent Runs'',\n          Fields: [''ID'', ''AgentID'', ''ParentRunID'', ''Status'', ''StartedAt'', ''CompletedAt'', ''Success'', \n                   ''ErrorMessage'', ''ConversationID'', ''UserID'', ''Result'', ''AgentState'', \n                   ''ExecutionTimeMS'', ''TotalCost'', ''TotalTokens'', ''EffortLevel''],\n          ExtraFilter: runsFilter,\n          OrderBy: ''StartedAt DESC'',\n          MaxRows: 5000\n        });\n        \n        if (runsResult?.Success) {\n          setAgentRuns(runsResult.Results || []);\n          \n          // Load steps for these runs\n          if (runsResult.Results?.length > 0) {\n            const runIds = runsResult.Results.map(r => r.ID);\n            const stepsFilter = `AgentRunID IN (''$' + '{runIds.join(\"'',''\")}'')`;\n            \n            const stepsResult = await utilities.rv.RunView({\n              EntityName: ''MJ: AI Agent Run Steps'',\n              Fields: [''ID'', ''AgentRunID'', ''StepNumber'', ''StepType'', ''StepName'', ''TargetID'', \n                       ''Status'', ''StartedAt'', ''CompletedAt'', ''Success'', ''ErrorMessage'', \n                       ''Input'', ''Output'', ''ExecutionTimeMS'', ''TokensUsed'', ''Cost''],\n              ExtraFilter: stepsFilter,\n              OrderBy: ''AgentRunID, StepNumber'',\n              MaxRows: 10000\n            });\n            \n            if (stepsResult?.Success) {\n              setAgentRunSteps(stepsResult.Results || []);\n            }\n          }\n        }\n        \n        // Load agent relationships\n        const relationshipsResult = await utilities.rv.RunView({\n          EntityName: ''AI Agent Relationships'',\n          Fields: [''ID'', ''AgentID'', ''SubAgentID'', ''RelationshipType'', ''ExecutionOrder'', ''IsActive''],\n          OrderBy: ''ExecutionOrder ASC''\n        });\n        \n        if (relationshipsResult?.Success) {\n          setAgentRelationships(relationshipsResult.Results || []);\n        }\n        \n        // Load prompt runs\n        const promptRunsFilter = `RunAt >= ''$' + '{start.toISOString()}'' AND RunAt <= ''$' + '{end.toISOString()}''`;\n        const promptRunsResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Prompt Runs'',\n          Fields: [''ID'', ''AgentRunID'', ''PromptID'', ''ModelID'', ''RunAt'', ''CompletedAt'', \n                   ''Success'', ''TokensUsed'', ''Cost''],\n          ExtraFilter: promptRunsFilter,\n          OrderBy: ''RunAt DESC'',\n          MaxRows: 5000\n        });\n        \n        if (promptRunsResult?.Success) {\n          setPromptRuns(promptRunsResult.Results || []);\n        }\n      } catch (error) {\n        console.error(''Error loading dashboard data:'', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadDashboardData();\n  }, [timeRange, filters, utilities.rv, getTimeRangeDates]);\n  \n  // Set up WebSocket for real-time updates\n  useEffect(() => {\n    // This would connect to a real-time data source\n    // For now, we''ll simulate with periodic updates\n    const interval = setInterval(() => {\n      // Simulate real-time updates\n      setRealTimeData(prev => ({\n        ...prev,\n        lastUpdate: new Date(),\n        activeRuns: Math.floor(Math.random() * 20)\n      }));\n    }, 5000);\n    \n    return () => clearInterval(interval);\n  }, []);\n  \n  // Handle agent selection\n  const handleSelectAgent = useCallback((agentId) => {\n    setSelectedAgentId(agentId);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      selectedAgentId: agentId\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle time range change\n  const handleTimeRangeChange = useCallback((range) => {\n    setTimeRange(range);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      timeRange: range\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter changes\n  const handleFilterChange = useCallback((newFilters) => {\n    setFilters(newFilters);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filters: newFilters\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle view change\n  const handleViewChange = useCallback((view) => {\n    setActiveView(view);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      activeView: view\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Calculate aggregate metrics\n  const metrics = useMemo(() => {\n    const totalRuns = agentRuns.length;\n    const successfulRuns = agentRuns.filter(r => r.Success).length;\n    const failedRuns = agentRuns.filter(r => r.Success === false).length;\n    const runningRuns = agentRuns.filter(r => r.Status === ''Running'').length;\n    const avgExecutionTime = agentRuns.reduce((sum, r) => sum + (r.ExecutionTimeMS || 0), 0) / (totalRuns || 1);\n    const totalCost = agentRuns.reduce((sum, r) => sum + (r.TotalCost || 0), 0);\n    const totalTokens = agentRuns.reduce((sum, r) => sum + (r.TotalTokens || 0), 0);\n    \n    return {\n      totalRuns,\n      successfulRuns,\n      failedRuns,\n      runningRuns,\n      successRate: totalRuns > 0 ? (successfulRuns / totalRuns) * 100 : 0,\n      avgExecutionTime,\n      totalCost,\n      totalTokens\n    };\n  }, [agentRuns]);\n  \n  if (loading && agentRuns.length === 0) {\n    return (\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        height: ''100vh'',\n        fontSize: styles.typography.fontSize.lg,\n        color: styles.colors.textSecondary\n      }}>\n        Loading AI Agent Analytics...\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{\n      height: ''100vh'',\n      backgroundColor: styles.colors.background,\n      display: ''flex'',\n      flexDirection: ''column'',\n      overflow: ''hidden''\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: styles.spacing.lg,\n        backgroundColor: styles.colors.surface,\n        borderBottom: `1px solid $' + '{styles.colors.border}`,\n        flexShrink: 0\n      }}>\n        <div style={{\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center'',\n          marginBottom: styles.spacing.md\n        }}>\n          <h1 style={{\n            margin: 0,\n            fontSize: styles.typography.fontSize.xxl || styles.typography.fontSize.xl,\n            fontWeight: styles.typography.fontWeight?.bold || ''700'',\n            color: styles.colors.text\n          }}>\n            AI Agent Analytics Dashboard\n          </h1>\n          \n          {/* Time Range Selector */}\n          <div style={{\n            display: ''flex'',\n            gap: styles.spacing.sm,\n            alignItems: ''center''\n          }}>\n            <span style={{\n              fontSize: styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary\n            }}>\n              Time Range:\n            </span>\n            {[''1h'', ''24h'', ''7d'', ''30d''].map(range => (\n              <button\n                key={range}\n                onClick={() => handleTimeRangeChange(range)}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: timeRange === range ? styles.colors.primary : styles.colors.background,\n                  color: timeRange === range ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.sm,\n                  transition: ''all 0.2s''\n                }}\n              >\n                {range === ''1h'' ? ''Last Hour'' : range === ''24h'' ? ''Last 24 Hours'' : range === ''7d'' ? ''Last 7 Days'' : ''Last 30 Days''}\n              </button>\n            ))}\n          </div>\n        </div>\n        \n        {/* Quick Stats */}\n        <div style={{\n          display: ''grid'',\n          gridTemplateColumns: ''repeat(auto-fit, minmax(150px, 1fr))'',\n          gap: styles.spacing.md\n        }}>\n          <div style={{\n            padding: styles.spacing.md,\n            backgroundColor: styles.colors.background,\n            borderRadius: getBorderRadius(''sm''),\n            borderLeft: `3px solid $' + '{styles.colors.primary}`\n          }}>\n            <div style={{\n              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary,\n              marginBottom: styles.spacing.xs\n            }}>\n              Total Runs\n            </div>\n            <div style={{\n              fontSize: styles.typography.fontSize.xl,\n              fontWeight: styles.typography.fontWeight?.bold || ''700'',\n              color: styles.colors.text\n            }}>\n              {metrics.totalRuns.toLocaleString()}\n            </div>\n          </div>\n          \n          <div style={{\n            padding: styles.spacing.md,\n            backgroundColor: styles.colors.background,\n            borderRadius: getBorderRadius(''sm''),\n            borderLeft: `3px solid $' + '{styles.colors.success || styles.colors.primary}`\n          }}>\n            <div style={{\n              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary,\n              marginBottom: styles.spacing.xs\n            }}>\n              Success Rate\n            </div>\n            <div style={{\n              fontSize: styles.typography.fontSize.xl,\n              fontWeight: styles.typography.fontWeight?.bold || ''700'',\n              color: metrics.successRate >= 90 ? styles.colors.success : metrics.successRate >= 70 ? styles.colors.warning : styles.colors.error\n            }}>\n              {metrics.successRate.toFixed(1)}%\n            </div>\n          </div>\n          \n          <div style={{\n            padding: styles.spacing.md,\n            backgroundColor: styles.colors.background,\n            borderRadius: getBorderRadius(''sm''),\n            borderLeft: `3px solid $' + '{styles.colors.info || styles.colors.primary}`\n          }}>\n            <div style={{\n              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary,\n              marginBottom: styles.spacing.xs\n            }}>\n              Avg Time\n            </div>\n            <div style={{\n              fontSize: styles.typography.fontSize.xl,\n              fontWeight: styles.typography.fontWeight?.bold || ''700'',\n              color: styles.colors.text\n            }}>\n              {(metrics.avgExecutionTime / 1000).toFixed(2)}s\n            </div>\n          </div>\n          \n          <div style={{\n            padding: styles.spacing.md,\n            backgroundColor: styles.colors.background,\n            borderRadius: getBorderRadius(''sm''),\n            borderLeft: `3px solid $' + '{styles.colors.warning || styles.colors.secondary}`\n          }}>\n            <div style={{\n              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary,\n              marginBottom: styles.spacing.xs\n            }}>\n              Total Cost\n            </div>\n            <div style={{\n              fontSize: styles.typography.fontSize.xl,\n              fontWeight: styles.typography.fontWeight?.bold || ''700'',\n              color: styles.colors.text\n            }}>\n              $' + '{metrics.totalCost.toFixed(2)}\n            </div>\n          </div>\n          \n          <div style={{\n            padding: styles.spacing.md,\n            backgroundColor: styles.colors.background,\n            borderRadius: getBorderRadius(''sm''),\n            borderLeft: `3px solid $' + '{styles.colors.secondary}`\n          }}>\n            <div style={{\n              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary,\n              marginBottom: styles.spacing.xs\n            }}>\n              Active Now\n            </div>\n            <div style={{\n              fontSize: styles.typography.fontSize.xl,\n              fontWeight: styles.typography.fontWeight?.bold || ''700'',\n              color: styles.colors.primary,\n              display: ''flex'',\n              alignItems: ''center'',\n              gap: styles.spacing.xs\n            }}>\n              {realTimeData.activeRuns || metrics.runningRuns}\n              <span style={{\n                display: ''inline-block'',\n                width: ''8px'',\n                height: ''8px'',\n                backgroundColor: styles.colors.success || styles.colors.primary,\n                borderRadius: ''50%'',\n                animation: ''pulse 2s infinite''\n              }} />\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Main Content Area */}\n      <div style={{\n        flex: 1,\n        display: ''flex'',\n        overflow: ''hidden''\n      }}>\n        {/* Left Panel - Hierarchy Tree */}\n        <div style={{\n          width: ''300px'',\n          borderRight: `1px solid $' + '{styles.colors.border}`,\n          overflow: ''auto'',\n          backgroundColor: styles.colors.surface\n        }}>\n          {AIAgentHierarchyTree && (\n            <AIAgentHierarchyTree\n              agents={agents}\n              agentRuns={agentRuns}\n              agentRelationships={agentRelationships}\n              selectedAgentId={selectedAgentId}\n              onSelectAgent={handleSelectAgent}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings?.hierarchyTree}\n              onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                ...savedUserSettings,\n                hierarchyTree: settings\n              })}\n            />\n          )}\n        </div>\n        \n        {/* Center Panel - Main Visualizations */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          flexDirection: ''column'',\n          overflow: ''hidden''\n        }}>\n          {/* Execution Overview */}\n          <div style={{\n            height: ''200px'',\n            borderBottom: `1px solid $' + '{styles.colors.border}`,\n            overflow: ''hidden''\n          }}>\n            {AIAgentExecutionOverview && (\n              <AIAgentExecutionOverview\n                agentRuns={agentRuns}\n                agentRunSteps={agentRunSteps}\n                realTimeData={realTimeData}\n                selectedAgentId={selectedAgentId}\n                timeRange={timeRange}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n                savedUserSettings={savedUserSettings?.executionOverview}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  executionOverview: settings\n                })}\n              />\n            )}\n          </div>\n          \n          {/* Step Analysis */}\n          <div style={{\n            flex: 1,\n            overflow: ''auto''\n          }}>\n            {AIAgentStepAnalysis && (\n              <AIAgentStepAnalysis\n                agentRunSteps={agentRunSteps}\n                agentRuns={agentRuns}\n                selectedAgentId={selectedAgentId}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n                savedUserSettings={savedUserSettings?.stepAnalysis}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  stepAnalysis: settings\n                })}\n              />\n            )}\n          </div>\n        </div>\n        \n        {/* Right Panel - Performance Metrics */}\n        <div style={{\n          width: ''350px'',\n          borderLeft: `1px solid $' + '{styles.colors.border}`,\n          overflow: ''auto'',\n          backgroundColor: styles.colors.surface\n        }}>\n          {AIAgentPerformanceMetrics && (\n            <AIAgentPerformanceMetrics\n              agentRuns={agentRuns}\n              agentRunSteps={agentRunSteps}\n              promptRuns={promptRuns}\n              selectedAgentId={selectedAgentId}\n              timeRange={timeRange}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings?.performanceMetrics}\n              onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                ...savedUserSettings,\n                performanceMetrics: settings\n              })}\n            />\n          )}\n        </div>\n      </div>\n      \n      {/* CSS for pulse animation */}\n      <style>{`\n        @keyframes pulse {\n          0% { opacity: 1; }\n          50% { opacity: 0.5; }\n          100% { opacity: 1; }\n        }\n      `}</style>\n    </div>\n  );\n}",
  "dependencies": [],
  "libraries": []
}'
SET
  @FunctionalRequirements_5e2cc5d2 = N'Display real-time agent execution status with live updates, show hierarchical agent relationships and sub-agent orchestration, provide step-by-step execution analysis with timing and success metrics, visualize performance metrics including execution time, token usage, and costs'
SET
  @TechnicalDesign_5e2cc5d2 = N'Multi-panel dashboard with WebSocket real-time updates, coordinated views across child components, time range filtering, and interactive agent selection'
SET
  @HasCustomProps_5e2cc5d2 = 0
SET
  @HasCustomEvents_5e2cc5d2 = 0
SET
  @RequiresData_5e2cc5d2 = 1
SET
  @DependencyCount_5e2cc5d2 = 0
SET
  @ID_5e2cc5d2 = 'EC9FC426-5C79-4C8C-AEB5-211268BCCB9C'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_5e2cc5d2,
  @Name = @Name_5e2cc5d2,
  @Version = @Version_5e2cc5d2,
  @VersionSequence = @VersionSequence_5e2cc5d2,
  @Title = @Title_5e2cc5d2,
  @Description = @Description_5e2cc5d2,
  @Type = @Type_5e2cc5d2,
  @Status = @Status_5e2cc5d2,
  @DeveloperName = @DeveloperName_5e2cc5d2,
  @DeveloperEmail = @DeveloperEmail_5e2cc5d2,
  @DeveloperOrganization = @DeveloperOrganization_5e2cc5d2,
  @SourceRegistryID = @SourceRegistryID_5e2cc5d2,
  @ReplicatedAt = @ReplicatedAt_5e2cc5d2,
  @LastSyncedAt = @LastSyncedAt_5e2cc5d2,
  @Specification = @Specification_5e2cc5d2,
  @FunctionalRequirements = @FunctionalRequirements_5e2cc5d2,
  @TechnicalDesign = @TechnicalDesign_5e2cc5d2,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_5e2cc5d2,
  @TechnicalDesignVector = @TechnicalDesignVector_5e2cc5d2,
  @HasCustomProps = @HasCustomProps_5e2cc5d2,
  @HasCustomEvents = @HasCustomEvents_5e2cc5d2,
  @RequiresData = @RequiresData_5e2cc5d2,
  @DependencyCount = @DependencyCount_5e2cc5d2,
  @ID = @ID_5e2cc5d2;

-- Save MJ: Components (core SP call only)
DECLARE @ID_bb11c9bf UNIQUEIDENTIFIER,
@Namespace_bb11c9bf NVARCHAR(MAX),
@Name_bb11c9bf NVARCHAR(500),
@Version_bb11c9bf NVARCHAR(50),
@VersionSequence_bb11c9bf INT,
@Title_bb11c9bf NVARCHAR(1000),
@Description_bb11c9bf NVARCHAR(MAX),
@Type_bb11c9bf NVARCHAR(255),
@Status_bb11c9bf NVARCHAR(50),
@DeveloperName_bb11c9bf NVARCHAR(255),
@DeveloperEmail_bb11c9bf NVARCHAR(255),
@DeveloperOrganization_bb11c9bf NVARCHAR(255),
@SourceRegistryID_bb11c9bf UNIQUEIDENTIFIER,
@ReplicatedAt_bb11c9bf DATETIMEOFFSET,
@LastSyncedAt_bb11c9bf DATETIMEOFFSET,
@Specification_bb11c9bf NVARCHAR(MAX),
@FunctionalRequirements_bb11c9bf NVARCHAR(MAX),
@TechnicalDesign_bb11c9bf NVARCHAR(MAX),
@FunctionalRequirementsVector_bb11c9bf NVARCHAR(MAX),
@TechnicalDesignVector_bb11c9bf NVARCHAR(MAX),
@HasCustomProps_bb11c9bf BIT,
@HasCustomEvents_bb11c9bf BIT,
@RequiresData_bb11c9bf BIT,
@DependencyCount_bb11c9bf INT
SET
  @ID_bb11c9bf = '313ed35b-462c-439f-8f56-91ad90ccb252'
SET
  @Namespace_bb11c9bf = N'AI/Analytics/Performance'
SET
  @Name_bb11c9bf = N'AIPerformanceDashboard'
SET
  @Version_bb11c9bf = N'1.0.0'
SET
  @VersionSequence_bb11c9bf = 1
SET
  @Title_bb11c9bf = N'AI Performance Dashboard'
SET
  @Description_bb11c9bf = N'Comprehensive dashboard for analyzing AI agent and prompt performance with time-series charts, cost analysis, and drill-down capabilities'
SET
  @Type_bb11c9bf = N'Dashboard'
SET
  @Status_bb11c9bf = N'Published'
SET
  @Specification_bb11c9bf = N'{
  "name": "AIPerformanceDashboard",
  "location": "embedded",
  "title": "AI Performance Dashboard",
  "description": "Comprehensive dashboard for analyzing AI agent and prompt performance with time-series charts, cost analysis, and drill-down capabilities",
  "type": "dashboard",
  "functionalRequirements": "## AI Performance Dashboard Requirements\n\n### Core Functionality\n- Display multi-line time series charts showing total runs, tokens, and costs over time\n- Support multiple time groupings: day, week, month, quarter\n- Dual Y-axis display (tokens on left, runs/costs on right)\n- Click-to-drill-down on any chart point to see details for that period\n- Show distribution charts (pie/bar) for selected time period\n- Separate tabs for Agent Runs and Prompt Runs analysis\n- Real-time data refresh capabilities\n- Export functionality for charts and data\n\n### Analytics Features\n- Time series trends with moving averages\n- Cost breakdown by agent/prompt\n- Token usage distribution\n- Success/failure rate analysis\n- Performance comparisons across periods\n- Top consumers identification\n- Anomaly detection and alerts\n\n### UX Considerations\n- Responsive layout adapting to container size\n- Interactive tooltips on hover\n- Smooth chart animations\n- Loading states during data fetch\n- Clear visual hierarchy\n- Consistent color coding across charts\n- Mobile-responsive design",
  "dataRequirements": {
    "mode": "views",
    "description": "Loads AI performance data including agent runs, prompt runs, and aggregated metrics",
    "entities": [
      {
        "name": "MJ: AI Agent Runs",
        "description": "Historical agent execution data for performance analysis",
        "displayFields": [
          "ID",
          "AgentID",
          "Agent",
          "StartedAt",
          "CompletedAt",
          "Success",
          "TotalTokensUsed",
          "TotalCost"
        ],
        "filterFields": [
          "StartedAt",
          "Success",
          "AgentID"
        ],
        "sortFields": [
          "StartedAt"
        ],
        "fieldMetadata": [
          {
            "name": "ID",
            "type": "uniqueidentifier",
            "isPrimaryKey": true,
            "allowsNull": false,
            "description": "Unique run identifier"
          },
          {
            "name": "AgentID",
            "type": "uniqueidentifier",
            "allowsNull": false,
            "description": "Reference to AI Agent"
          },
          {
            "name": "Agent",
            "type": "nvarchar",
            "allowsNull": true,
            "description": "Agent name (denormalized)"
          },
          {
            "name": "StartedAt",
            "type": "datetime",
            "allowsNull": false,
            "description": "Execution start timestamp"
          },
          {
            "name": "TotalTokensUsed",
            "type": "int",
            "allowsNull": true,
            "description": "Total tokens consumed"
          },
          {
            "name": "TotalCost",
            "type": "decimal",
            "allowsNull": true,
            "description": "Total cost in USD"
          }
        ],
        "permissionLevelNeeded": ["read"]
      },
      {
        "name": "MJ: AI Prompt Runs",
        "description": "Historical prompt execution data for performance analysis",
        "displayFields": [
          "ID",
          "PromptID",
          "Prompt",
          "ModelID",
          "Model",
          "RunAt",
          "CompletedAt",
          "Success",
          "TokensUsed",
          "TotalCost"
        ],
        "filterFields": [
          "RunAt",
          "Success",
          "PromptID",
          "ModelID"
        ],
        "sortFields": [
          "RunAt"
        ],
        "fieldMetadata": [
          {
            "name": "ID",
            "type": "uniqueidentifier",
            "isPrimaryKey": true,
            "allowsNull": false,
            "description": "Unique run identifier"
          },
          {
            "name": "PromptID",
            "type": "uniqueidentifier",
            "allowsNull": false,
            "description": "Reference to AI Prompt"
          },
          {
            "name": "Prompt",
            "type": "nvarchar",
            "allowsNull": true,
            "description": "Prompt name (denormalized)"
          },
          {
            "name": "RunAt",
            "type": "datetime",
            "allowsNull": false,
            "description": "Execution timestamp"
          },
          {
            "name": "TokensUsed",
            "type": "int",
            "allowsNull": true,
            "description": "Total tokens consumed"
          },
          {
            "name": "TotalCost",
            "type": "decimal",
            "allowsNull": true,
            "description": "Total cost in USD"
          }
        ],
        "permissionLevelNeeded": ["read"]
      }
    ],
    "queries": []
  },
  "technicalDesign": "## Component Architecture\n\n### Root Component (AIPerformanceDashboard)\n- Manages overall dashboard state and data loading\n- Handles time range selection and grouping\n- Coordinates drill-down state between components\n- Manages tab switching between Agent and Prompt views\n\n### Child Components\n1. **AITimeSeriesChart**: Multi-line chart with dual Y-axes for runs/tokens/costs\n2. **AIDistributionChart**: Pie/bar charts showing breakdown by agent or prompt\n3. **AIDetailTable**: Detailed table view for drill-down data\n4. **AIMetricsSummary**: Key metrics cards for selected period\n\n### Data Flow\n- Root component loads data based on selected time range\n- Aggregates data by selected grouping (day/week/month/quarter)\n- Passes aggregated data to chart components\n- Handles drill-down events and updates detail views\n- Manages state persistence through savedUserSettings\n\n### State Management\n- Selected time range and grouping\n- Active tab (agents vs prompts)\n- Drill-down selection (selected date/period)\n- Chart view preferences\n- Filter states",
  "properties": [],
  "events": [],
  "exampleUsage": "<AIPerformanceDashboard />",
  "code": "function AIPerformanceDashboard({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AIPerformanceDashboard] Initializing with settings:'', savedUserSettings);\n  console.log(''[AIPerformanceDashboard] Available components:'', components ? Object.keys(components) : ''none'');\n  \n  // Extract child components with fallbacks\n  const AITimeSeriesChart = components?.AITimeSeriesChart;\n  const AIDistributionChart = components?.AIDistributionChart;\n  const AIDetailTable = components?.AIDetailTable;\n  const AIMetricsSummary = components?.AIMetricsSummary;\n  \n  // Check if required components are available\n  if (!AITimeSeriesChart || !AIDistributionChart || !AIDetailTable || !AIMetricsSummary) {\n    return (\n      <div style={{\n        padding: styles?.spacing?.lg || ''20px'',\n        color: styles?.colors?.error || ''red'',\n        textAlign: ''center''\n      }}>\n        Error: Required child components are not available. Please ensure all dashboard components are loaded.\n        <br />\n        Missing: {[\n          !AITimeSeriesChart && ''AITimeSeriesChart'',\n          !AIDistributionChart && ''AIDistributionChart'',\n          !AIDetailTable && ''AIDetailTable'',\n          !AIMetricsSummary && ''AIMetricsSummary''\n        ].filter(Boolean).join('', '')}\n      </div>\n    );\n  }\n  \n  // Initialize state from saved settings\n  const [timeRange, setTimeRange] = useState(savedUserSettings?.timeRange || ''30d'');\n  const [groupBy, setGroupBy] = useState(savedUserSettings?.groupBy || ''day'');\n  const [activeTab, setActiveTab] = useState(savedUserSettings?.activeTab || ''agents'');\n  const [selectedPoint, setSelectedPoint] = useState(null);\n  \n  // Data state\n  const [agentRuns, setAgentRuns] = useState([]);\n  const [promptRuns, setPromptRuns] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Calculate date range\n  const getDateRange = useCallback(() => {\n    const end = new Date();\n    const start = new Date();\n    \n    switch(timeRange) {\n      case ''7d'':\n        start.setDate(end.getDate() - 7);\n        break;\n      case ''30d'':\n        start.setDate(end.getDate() - 30);\n        break;\n      case ''90d'':\n        start.setDate(end.getDate() - 90);\n        break;\n      case ''1y'':\n        start.setFullYear(end.getFullYear() - 1);\n        break;\n      default:\n        start.setDate(end.getDate() - 30);\n    }\n    \n    return { start, end };\n  }, [timeRange]);\n  \n  // Load data\n  useEffect(() => {\n    const loadData = async () => {\n      console.log(''[AIPerformanceDashboard] Loading data for range:'', timeRange);\n      setLoading(true);\n      setError(null);\n      \n      const { start, end } = getDateRange();\n      \n      try {\n        // Load agent runs\n        const agentFilter = `StartedAt >= ''$' + '{start.toISOString()}'' AND StartedAt <= ''$' + '{end.toISOString()}''`;\n        console.log(''[AIPerformanceDashboard] Loading agent runs with filter:'', agentFilter);\n        \n        const agentResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Agent Runs'',\n          ExtraFilter: agentFilter,\n          OrderBy: ''StartedAt ASC'',\n          Fields: [''ID'', ''AgentID'', ''Agent'', ''StartedAt'', ''CompletedAt'', ''Success'', ''TotalTokensUsed'', ''TotalCost''],\n          MaxRows: 10000\n        });\n        \n        console.log(''[AIPerformanceDashboard] Agent runs loaded:'', {\n          success: agentResult?.Success,\n          count: agentResult?.Results?.length,\n          error: agentResult?.ErrorMessage\n        });\n        \n        if (agentResult?.Success) {\n          setAgentRuns(agentResult.Results || []);\n        } else {\n          console.error(''[AIPerformanceDashboard] Failed to load agent runs:'', agentResult?.ErrorMessage);\n        }\n        \n        // Load prompt runs\n        const promptFilter = `RunAt >= ''$' + '{start.toISOString()}'' AND RunAt <= ''$' + '{end.toISOString()}''`;\n        console.log(''[AIPerformanceDashboard] Loading prompt runs with filter:'', promptFilter);\n        \n        const promptResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Prompt Runs'',\n          ExtraFilter: promptFilter,\n          OrderBy: ''RunAt ASC'',\n          Fields: [''ID'', ''PromptID'', ''Prompt'', ''ModelID'', ''Model'', ''RunAt'', ''CompletedAt'', ''Success'', ''TokensUsed'', ''TotalCost''],\n          MaxRows: 10000\n        });\n        \n        console.log(''[AIPerformanceDashboard] Prompt runs loaded:'', {\n          success: promptResult?.Success,\n          count: promptResult?.Results?.length,\n          error: promptResult?.ErrorMessage\n        });\n        \n        if (promptResult?.Success) {\n          setPromptRuns(promptResult.Results || []);\n        } else {\n          console.error(''[AIPerformanceDashboard] Failed to load prompt runs:'', promptResult?.ErrorMessage);\n        }\n        \n      } catch (error) {\n        console.error(''[AIPerformanceDashboard] Error loading data:'', error);\n        setError(error.message || ''Failed to load data'');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadData();\n  }, [timeRange, utilities.rv, getDateRange]);\n  \n  // Aggregate data by time period\n  const aggregateData = useCallback((data, dateField, grouping) => {\n    console.log(`[AIPerformanceDashboard] Aggregating $' + '{data.length} records by $' + '{grouping}`);\n    \n    const grouped = {};\n    \n    data.forEach(item => {\n      const date = new Date(item[dateField]);\n      let key;\n      \n      switch(grouping) {\n        case ''day'':\n          key = date.toISOString().split(''T'')[0];\n          break;\n        case ''week'':\n          const weekStart = new Date(date);\n          weekStart.setDate(date.getDate() - date.getDay());\n          key = weekStart.toISOString().split(''T'')[0];\n          break;\n        case ''month'':\n          key = `$' + '{date.getFullYear()}-$' + '{String(date.getMonth() + 1).padStart(2, ''0'')}`;\n          break;\n        case ''quarter'':\n          const quarter = Math.floor(date.getMonth() / 3) + 1;\n          key = `$' + '{date.getFullYear()}-Q$' + '{quarter}`;\n          break;\n        default:\n          key = date.toISOString().split(''T'')[0];\n      }\n      \n      if (!grouped[key]) {\n        grouped[key] = {\n          date: key,\n          runs: 0,\n          tokens: 0,\n          cost: 0,\n          items: []\n        };\n      }\n      \n      grouped[key].runs++;\n      grouped[key].tokens += (item.TotalTokensUsed || item.TokensUsed || 0);\n      grouped[key].cost += (item.TotalCost || 0);\n      grouped[key].items.push(item);\n    });\n    \n    const result = Object.values(grouped).sort((a, b) => a.date.localeCompare(b.date));\n    console.log(`[AIPerformanceDashboard] Aggregated into $' + '{result.length} groups`);\n    return result;\n  }, []);\n  \n  // Get aggregated data for current view\n  const chartData = useMemo(() => {\n    const data = activeTab === ''agents'' ? agentRuns : promptRuns;\n    const dateField = activeTab === ''agents'' ? ''StartedAt'' : ''RunAt'';\n    return aggregateData(data, dateField, groupBy);\n  }, [activeTab, agentRuns, promptRuns, groupBy, aggregateData]);\n  \n  // Handle drill-down\n  const handleChartClick = useCallback((dataPoint) => {\n    console.log(''[AIPerformanceDashboard] Chart clicked:'', dataPoint);\n    setSelectedPoint(dataPoint);\n  }, []);\n  \n  // Handle time range change\n  const handleTimeRangeChange = useCallback((range) => {\n    console.log(''[AIPerformanceDashboard] Time range changed to:'', range);\n    setTimeRange(range);\n    setSelectedPoint(null);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      timeRange: range\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle grouping change\n  const handleGroupByChange = useCallback((grouping) => {\n    console.log(''[AIPerformanceDashboard] Grouping changed to:'', grouping);\n    setGroupBy(grouping);\n    setSelectedPoint(null);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      groupBy: grouping\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle tab change\n  const handleTabChange = useCallback((tab) => {\n    console.log(''[AIPerformanceDashboard] Tab changed to:'', tab);\n    setActiveTab(tab);\n    setSelectedPoint(null);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      activeTab: tab\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Calculate summary metrics\n  const metrics = useMemo(() => {\n    const data = activeTab === ''agents'' ? agentRuns : promptRuns;\n    return {\n      totalRuns: data.length,\n      totalTokens: data.reduce((sum, item) => sum + (item.TotalTokensUsed || item.TokensUsed || 0), 0),\n      totalCost: data.reduce((sum, item) => sum + (item.TotalCost || 0), 0),\n      avgTokensPerRun: data.length > 0 ? Math.round(data.reduce((sum, item) => sum + (item.TotalTokensUsed || item.TokensUsed || 0), 0) / data.length) : 0,\n      avgCostPerRun: data.length > 0 ? data.reduce((sum, item) => sum + (item.TotalCost || 0), 0) / data.length : 0\n    };\n  }, [activeTab, agentRuns, promptRuns]);\n  \n  console.log(''[AIPerformanceDashboard] Current state:'', {\n    timeRange,\n    groupBy,\n    activeTab,\n    agentRunsCount: agentRuns.length,\n    promptRunsCount: promptRuns.length,\n    chartDataPoints: chartData.length,\n    selectedPoint: selectedPoint?.date\n  });\n  \n  if (loading) {\n    return (\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        height: ''100%'',\n        color: styles.colors.textSecondary\n      }}>\n        Loading performance data...\n      </div>\n    );\n  }\n  \n  if (error) {\n    return (\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        height: ''100%'',\n        color: styles.colors.error\n      }}>\n        Error: {error}\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{\n      height: ''100%'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      backgroundColor: styles.colors.background,\n      padding: styles.spacing.md\n    }}>\n      {/* Header Controls */}\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center'',\n        marginBottom: styles.spacing.lg,\n        flexWrap: ''wrap'',\n        gap: styles.spacing.md\n      }}>\n        {/* Tab Selector */}\n        <div style={{\n          display: ''flex'',\n          gap: styles.spacing.xs,\n          backgroundColor: styles.colors.surface,\n          padding: styles.spacing.xs,\n          borderRadius: styles.borders?.radius || ''4px''\n        }}>\n          <button\n            onClick={() => handleTabChange(''agents'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: activeTab === ''agents'' ? styles.colors.primary : ''transparent'',\n              color: activeTab === ''agents'' ? ''white'' : styles.colors.text,\n              border: ''none'',\n              borderRadius: styles.borders?.radius || ''4px'',\n              cursor: ''pointer'',\n              fontWeight: activeTab === ''agents'' ? ''600'' : ''400''\n            }}\n          >\n            Agent Runs\n          </button>\n          <button\n            onClick={() => handleTabChange(''prompts'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: activeTab === ''prompts'' ? styles.colors.primary : ''transparent'',\n              color: activeTab === ''prompts'' ? ''white'' : styles.colors.text,\n              border: ''none'',\n              borderRadius: styles.borders?.radius || ''4px'',\n              cursor: ''pointer'',\n              fontWeight: activeTab === ''prompts'' ? ''600'' : ''400''\n            }}\n          >\n            Prompt Runs\n          </button>\n        </div>\n        \n        {/* Time Controls */}\n        <div style={{\n          display: ''flex'',\n          gap: styles.spacing.md,\n          alignItems: ''center''\n        }}>\n          {/* Time Range */}\n          <select\n            value={timeRange}\n            onChange={(e) => handleTimeRangeChange(e.target.value)}\n            style={{\n              padding: styles.spacing.sm,\n              border: `1px solid $' + '{styles.colors.border}`,\n              borderRadius: styles.borders?.radius || ''4px'',\n              backgroundColor: styles.colors.surface,\n              color: styles.colors.text\n            }}\n          >\n            <option value=\"7d\">Last 7 Days</option>\n            <option value=\"30d\">Last 30 Days</option>\n            <option value=\"90d\">Last 90 Days</option>\n            <option value=\"1y\">Last Year</option>\n          </select>\n          \n          {/* Group By */}\n          <select\n            value={groupBy}\n            onChange={(e) => handleGroupByChange(e.target.value)}\n            style={{\n              padding: styles.spacing.sm,\n              border: `1px solid $' + '{styles.colors.border}`,\n              borderRadius: styles.borders?.radius || ''4px'',\n              backgroundColor: styles.colors.surface,\n              color: styles.colors.text\n            }}\n          >\n            <option value=\"day\">By Day</option>\n            <option value=\"week\">By Week</option>\n            <option value=\"month\">By Month</option>\n            <option value=\"quarter\">By Quarter</option>\n          </select>\n        </div>\n      </div>\n      \n      {/* Metrics Summary */}\n      <AIMetricsSummary\n        metrics={metrics}\n        styles={styles}\n        utilities={utilities}\n        components={components}\n        callbacks={callbacks}\n        savedUserSettings={savedUserSettings?.metricsSummary}\n        onSaveUserSettings={(settings) => onSaveUserSettings?.({\n          ...savedUserSettings,\n          metricsSummary: settings\n        })}\n      />\n      \n      {/* Main Chart Area */}\n      <div style={{\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column'',\n        gap: styles.spacing.lg,\n        minHeight: 0\n      }}>\n        {/* Time Series Chart */}\n        <div style={{\n          flex: selectedPoint ? ''0 0 400px'' : ''1'',\n          minHeight: ''300px''\n        }}>\n          <AITimeSeriesChart\n            data={chartData}\n            groupBy={groupBy}\n            activeTab={activeTab}\n            selectedPoint={selectedPoint}\n            onPointClick={handleChartClick}\n            styles={styles}\n            utilities={utilities}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings?.timeSeriesChart}\n            onSaveUserSettings={(settings) => onSaveUserSettings?.({\n              ...savedUserSettings,\n              timeSeriesChart: settings\n            })}\n          />\n        </div>\n        \n        {/* Drill-down Area */}\n        {selectedPoint && (\n          <div style={{\n            flex: 1,\n            display: ''flex'',\n            gap: styles.spacing.md,\n            minHeight: 0\n          }}>\n            {/* Distribution Chart */}\n            <div style={{ flex: ''0 0 400px'' }}>\n              <AIDistributionChart\n                data={selectedPoint.items}\n                activeTab={activeTab}\n                groupBy={groupBy}\n                styles={styles}\n                utilities={utilities}\n                components={components}\n                callbacks={callbacks}\n                savedUserSettings={savedUserSettings?.distributionChart}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  distributionChart: settings\n                })}\n              />\n            </div>\n            \n            {/* Detail Table */}\n            <div style={{ flex: 1, overflow: ''auto'' }}>\n              <AIDetailTable\n                data={selectedPoint.items}\n                activeTab={activeTab}\n                styles={styles}\n                utilities={utilities}\n                components={components}\n                callbacks={callbacks}\n                savedUserSettings={savedUserSettings?.detailTable}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  detailTable: settings\n                })}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}",
  "dependencies": [
    {
      "name": "AITimeSeriesChart",
      "location": "embedded",
      "title": "AI Time Series Chart",
      "description": "Multi-line time series chart with dual Y-axes showing AI runs, token usage, and costs over time",
      "type": "chart",
      "functionalRequirements": "## Time Series Chart Requirements\n\n### Core Functionality\n- Display three data series: total runs, total tokens, total cost\n- Dual Y-axis configuration (left: tokens, right: runs and cost)\n- Interactive tooltips showing all values on hover\n- Click on data points to trigger drill-down\n- Smooth line interpolation with data point markers\n- Legend with series toggle capability\n\n### Visual Features\n- Different colors for each series\n- Hover effects on data points\n- Animated transitions\n- Responsive sizing\n- Grid lines for readability",
      "dataRequirements": {
        "mode": "views",
        "description": "Receives aggregated data from parent component",
        "entities": [],
        "queries": []
      },
      "technicalDesign": "## Technical Design\n\n### Props\n- data: Array of aggregated data points\n- groupBy: Time grouping (day/week/month/quarter)\n- activeTab: Current view context (agents/prompts)\n- selectedPoint: Currently selected data point\n- onPointClick: Callback for drill-down\n\n### Chart Implementation\n- SVG-based rendering for performance\n- Custom scales for dual Y-axes\n- D3-style data binding\n- Synchronized tooltips across series",
      "properties": [
        {
          "name": "data",
          "type": "array",
          "required": true,
          "description": "Array of aggregated time series data"
        },
        {
          "name": "groupBy",
          "type": "string",
          "required": true,
          "description": "Time grouping: day, week, month, quarter"
        },
        {
          "name": "onPointClick",
          "type": "function",
          "required": false,
          "description": "Callback when data point is clicked"
        }
      ],
      "events": [
        {
          "name": "onPointClick",
          "description": "Fired when user clicks on a data point",
          "payload": "{ date: string, runs: number, tokens: number, cost: number, items: array }"
        }
      ],
      "exampleUsage": "<AITimeSeriesChart data={chartData} groupBy=\"day\" onPointClick={handleDrillDown} />",
      "code": "function AITimeSeriesChart({ data, groupBy, activeTab, selectedPoint, onPointClick, styles, utilities, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AITimeSeriesChart] Rendering with'', data?.length || 0, ''data points'');\n  \n  const [hoveredPoint, setHoveredPoint] = useState(null);\n  const [showRuns, setShowRuns] = useState(savedUserSettings?.showRuns !== false);\n  const [showTokens, setShowTokens] = useState(savedUserSettings?.showTokens !== false);\n  const [showCost, setShowCost] = useState(savedUserSettings?.showCost !== false);\n  \n  const chartRef = useRef(null);\n  const [dimensions, setDimensions] = useState({ width: 800, height: 400 });\n  \n  // Update dimensions on resize\n  useEffect(() => {\n    const updateDimensions = () => {\n      if (chartRef.current) {\n        const { width, height } = chartRef.current.getBoundingClientRect();\n        setDimensions({ width: Math.max(width, 400), height: Math.max(height, 300) });\n      }\n    };\n    \n    updateDimensions();\n    window.addEventListener(''resize'', updateDimensions);\n    return () => window.removeEventListener(''resize'', updateDimensions);\n  }, []);\n  \n  // Calculate chart dimensions\n  const margin = { top: 20, right: 60, bottom: 40, left: 70 };\n  const chartWidth = dimensions.width - margin.left - margin.right;\n  const chartHeight = dimensions.height - margin.top - margin.bottom;\n  \n  // Calculate scales\n  const { xScale, yLeftScale, yRightScale, maxTokens, maxRuns, maxCost } = useMemo(() => {\n    if (!data || data.length === 0) {\n      return {\n        xScale: () => 0,\n        yLeftScale: () => 0,\n        yRightScale: () => 0,\n        maxTokens: 0,\n        maxRuns: 0,\n        maxCost: 0\n      };\n    }\n    \n    const maxTokens = Math.max(...data.map(d => d.tokens || 0));\n    const maxRuns = Math.max(...data.map(d => d.runs || 0));\n    const maxCost = Math.max(...data.map(d => d.cost || 0));\n    \n    // X scale (time)\n    const xScale = (index) => (index / (data.length - 1 || 1)) * chartWidth;\n    \n    // Y scales\n    const yLeftScale = (value) => chartHeight - (value / (maxTokens || 1)) * chartHeight;\n    const yRightScale = (value, max) => chartHeight - (value / (max || 1)) * chartHeight;\n    \n    return { xScale, yLeftScale, yRightScale, maxTokens, maxRuns, maxCost };\n  }, [data, chartWidth, chartHeight]);\n  \n  // Generate line paths\n  const { runsPath, tokensPath, costPath } = useMemo(() => {\n    if (!data || data.length === 0) {\n      return { runsPath: '''', tokensPath: '''', costPath: '''' };\n    }\n    \n    const runsPoints = data.map((d, i) => `$' + '{xScale(i)},$' + '{yRightScale(d.runs, maxRuns)}`);\n    const tokensPoints = data.map((d, i) => `$' + '{xScale(i)},$' + '{yLeftScale(d.tokens)}`);\n    const costPoints = data.map((d, i) => `$' + '{xScale(i)},$' + '{yRightScale(d.cost, maxCost)}`);\n    \n    return {\n      runsPath: `M $' + '{runsPoints.join('' L '')}`,\n      tokensPath: `M $' + '{tokensPoints.join('' L '')}`,\n      costPath: `M $' + '{costPoints.join('' L '')}`\n    };\n  }, [data, xScale, yLeftScale, yRightScale, maxTokens, maxRuns, maxCost]);\n  \n  // Format numbers for display\n  const formatNumber = (num) => {\n    if (num >= 1000000) return `$' + '{(num / 1000000).toFixed(1)}M`;\n    if (num >= 1000) return `$' + '{(num / 1000).toFixed(1)}K`;\n    return num.toFixed(0);\n  };\n  \n  const formatCost = (cost) => {\n    if (cost >= 1000) return `$$' + '{(cost / 1000).toFixed(1)}K`;\n    if (cost >= 1) return `$$' + '{cost.toFixed(2)}`;\n    return `$$' + '{cost.toFixed(4)}`;\n  };\n  \n  // Handle series toggle\n  const toggleSeries = (series) => {\n    const updates = {\n      showRuns: showRuns,\n      showTokens: showTokens,\n      showCost: showCost\n    };\n    \n    switch(series) {\n      case ''runs'':\n        updates.showRuns = !showRuns;\n        setShowRuns(!showRuns);\n        break;\n      case ''tokens'':\n        updates.showTokens = !showTokens;\n        setShowTokens(!showTokens);\n        break;\n      case ''cost'':\n        updates.showCost = !showCost;\n        setShowCost(!showCost);\n        break;\n    }\n    \n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      ...updates\n    });\n  };\n  \n  if (!data || data.length === 0) {\n    return (\n      <div style={{\n        width: ''100%'',\n        height: ''100%'',\n        display: ''flex'',\n        alignItems: ''center'',\n        justifyContent: ''center'',\n        backgroundColor: styles.colors.surface,\n        borderRadius: styles.borders?.radius || ''4px'',\n        color: styles.colors.textSecondary\n      }}>\n        No data available for the selected time range\n      </div>\n    );\n  }\n  \n  return (\n    <div \n      ref={chartRef}\n      style={{\n        width: ''100%'',\n        height: ''100%'',\n        backgroundColor: styles.colors.surface,\n        borderRadius: styles.borders?.radius || ''4px'',\n        padding: styles.spacing.md\n      }}\n    >\n      {/* Legend */}\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        gap: styles.spacing.lg,\n        marginBottom: styles.spacing.md\n      }}>\n        <label \n          style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            gap: styles.spacing.xs,\n            cursor: ''pointer'',\n            opacity: showRuns ? 1 : 0.5\n          }}\n        >\n          <input\n            type=\"checkbox\"\n            checked={showRuns}\n            onChange={() => toggleSeries(''runs'')}\n            style={{ cursor: ''pointer'' }}\n          />\n          <span style={{\n            width: ''20px'',\n            height: ''3px'',\n            backgroundColor: styles.colors.primary\n          }} />\n          <span style={{ color: styles.colors.text, fontSize: styles.typography.fontSize.sm }}>Runs</span>\n        </label>\n        \n        <label \n          style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            gap: styles.spacing.xs,\n            cursor: ''pointer'',\n            opacity: showTokens ? 1 : 0.5\n          }}\n        >\n          <input\n            type=\"checkbox\"\n            checked={showTokens}\n            onChange={() => toggleSeries(''tokens'')}\n            style={{ cursor: ''pointer'' }}\n          />\n          <span style={{\n            width: ''20px'',\n            height: ''3px'',\n            backgroundColor: styles.colors.success\n          }} />\n          <span style={{ color: styles.colors.text, fontSize: styles.typography.fontSize.sm }}>Tokens</span>\n        </label>\n        \n        <label \n          style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            gap: styles.spacing.xs,\n            cursor: ''pointer'',\n            opacity: showCost ? 1 : 0.5\n          }}\n        >\n          <input\n            type=\"checkbox\"\n            checked={showCost}\n            onChange={() => toggleSeries(''cost'')}\n            style={{ cursor: ''pointer'' }}\n          />\n          <span style={{\n            width: ''20px'',\n            height: ''3px'',\n            backgroundColor: styles.colors.warning\n          }} />\n          <span style={{ color: styles.colors.text, fontSize: styles.typography.fontSize.sm }}>Cost</span>\n        </label>\n      </div>\n      \n      {/* Chart */}\n      <svg \n        width={dimensions.width} \n        height={dimensions.height - 50}\n        style={{ display: ''block'' }}\n      >\n        <g transform={`translate($' + '{margin.left},$' + '{margin.top})`}>\n          {/* Grid lines */}\n          {[0, 0.25, 0.5, 0.75, 1].map((val) => (\n            <line\n              key={val}\n              x1={0}\n              y1={chartHeight * (1 - val)}\n              x2={chartWidth}\n              y2={chartHeight * (1 - val)}\n              stroke={styles.colors.border}\n              strokeOpacity={0.3}\n              strokeDasharray=\"2,2\"\n            />\n          ))}\n          \n          {/* Lines */}\n          {showTokens && (\n            <path\n              d={tokensPath}\n              fill=\"none\"\n              stroke={styles.colors.success}\n              strokeWidth={2}\n            />\n          )}\n          {showRuns && (\n            <path\n              d={runsPath}\n              fill=\"none\"\n              stroke={styles.colors.primary}\n              strokeWidth={2}\n            />\n          )}\n          {showCost && (\n            <path\n              d={costPath}\n              fill=\"none\"\n              stroke={styles.colors.warning}\n              strokeWidth={2}\n            />\n          )}\n          \n          {/* Data points */}\n          {data.map((point, i) => (\n            <g key={i}>\n              {showRuns && (\n                <circle\n                  cx={xScale(i)}\n                  cy={yRightScale(point.runs, maxRuns)}\n                  r={selectedPoint?.date === point.date ? 6 : 4}\n                  fill={styles.colors.primary}\n                  stroke=\"white\"\n                  strokeWidth={2}\n                  style={{ cursor: ''pointer'' }}\n                  onClick={() => onPointClick?.(point)}\n                  onMouseEnter={() => setHoveredPoint({ ...point, index: i })}\n                  onMouseLeave={() => setHoveredPoint(null)}\n                />\n              )}\n              {showTokens && (\n                <circle\n                  cx={xScale(i)}\n                  cy={yLeftScale(point.tokens)}\n                  r={selectedPoint?.date === point.date ? 6 : 4}\n                  fill={styles.colors.success}\n                  stroke=\"white\"\n                  strokeWidth={2}\n                  style={{ cursor: ''pointer'' }}\n                  onClick={() => onPointClick?.(point)}\n                  onMouseEnter={() => setHoveredPoint({ ...point, index: i })}\n                  onMouseLeave={() => setHoveredPoint(null)}\n                />\n              )}\n              {showCost && (\n                <circle\n                  cx={xScale(i)}\n                  cy={yRightScale(point.cost, maxCost)}\n                  r={selectedPoint?.date === point.date ? 6 : 4}\n                  fill={styles.colors.warning}\n                  stroke=\"white\"\n                  strokeWidth={2}\n                  style={{ cursor: ''pointer'' }}\n                  onClick={() => onPointClick?.(point)}\n                  onMouseEnter={() => setHoveredPoint({ ...point, index: i })}\n                  onMouseLeave={() => setHoveredPoint(null)}\n                />\n              )}\n            </g>\n          ))}\n          \n          {/* Axes */}\n          {/* X-axis */}\n          <line\n            x1={0}\n            y1={chartHeight}\n            x2={chartWidth}\n            y2={chartHeight}\n            stroke={styles.colors.border}\n          />\n          \n          {/* X-axis labels */}\n          {data.map((point, i) => {\n            if (data.length > 10 && i % Math.ceil(data.length / 10) !== 0) return null;\n            return (\n              <text\n                key={i}\n                x={xScale(i)}\n                y={chartHeight + 20}\n                textAnchor=\"middle\"\n                fontSize={10}\n                fill={styles.colors.textSecondary}\n              >\n                {point.date}\n              </text>\n            );\n          })}\n          \n          {/* Y-axis left (tokens) */}\n          <line\n            x1={0}\n            y1={0}\n            x2={0}\n            y2={chartHeight}\n            stroke={styles.colors.border}\n          />\n          \n          {/* Y-axis left labels */}\n          <text\n            x={-10}\n            y={chartHeight}\n            textAnchor=\"end\"\n            fontSize={10}\n            fill={styles.colors.textSecondary}\n          >\n            0\n          </text>\n          <text\n            x={-10}\n            y={5}\n            textAnchor=\"end\"\n            fontSize={10}\n            fill={styles.colors.textSecondary}\n          >\n            {formatNumber(maxTokens)}\n          </text>\n          \n          {/* Y-axis left title */}\n          <text\n            x={-40}\n            y={chartHeight / 2}\n            textAnchor=\"middle\"\n            fontSize={12}\n            fill={styles.colors.success}\n            transform={`rotate(-90, -40, $' + '{chartHeight / 2})`}\n          >\n            Tokens\n          </text>\n          \n          {/* Y-axis right (runs/cost) */}\n          <line\n            x1={chartWidth}\n            y1={0}\n            x2={chartWidth}\n            y2={chartHeight}\n            stroke={styles.colors.border}\n          />\n          \n          {/* Y-axis right labels */}\n          <text\n            x={chartWidth + 10}\n            y={chartHeight}\n            textAnchor=\"start\"\n            fontSize={10}\n            fill={styles.colors.textSecondary}\n          >\n            0\n          </text>\n          <text\n            x={chartWidth + 10}\n            y={5}\n            textAnchor=\"start\"\n            fontSize={10}\n            fill={styles.colors.textSecondary}\n          >\n            {formatNumber(Math.max(maxRuns, maxCost))}\n          </text>\n          \n          {/* Y-axis right title */}\n          <text\n            x={chartWidth + 40}\n            y={chartHeight / 2}\n            textAnchor=\"middle\"\n            fontSize={12}\n            fill={styles.colors.primary}\n            transform={`rotate(90, $' + '{chartWidth + 40}, $' + '{chartHeight / 2})`}\n          >\n            Runs / Cost\n          </text>\n        </g>\n        \n        {/* Tooltip */}\n        {hoveredPoint && (\n          <g transform={`translate($' + '{margin.left},$' + '{margin.top})`}>\n            <rect\n              x={Math.min(xScale(hoveredPoint.index) + 10, chartWidth - 180)}\n              y={10}\n              width={170}\n              height={80}\n              fill={styles.colors.surface}\n              stroke={styles.colors.border}\n              rx={4}\n            />\n            <text\n              x={Math.min(xScale(hoveredPoint.index) + 20, chartWidth - 170)}\n              y={30}\n              fontSize={12}\n              fontWeight=\"bold\"\n              fill={styles.colors.text}\n            >\n              {hoveredPoint.date}\n            </text>\n            <text\n              x={Math.min(xScale(hoveredPoint.index) + 20, chartWidth - 170)}\n              y={50}\n              fontSize={11}\n              fill={styles.colors.primary}\n            >\n              Runs: {hoveredPoint.runs.toLocaleString()}\n            </text>\n            <text\n              x={Math.min(xScale(hoveredPoint.index) + 20, chartWidth - 170)}\n              y={65}\n              fontSize={11}\n              fill={styles.colors.success}\n            >\n              Tokens: {formatNumber(hoveredPoint.tokens)}\n            </text>\n            <text\n              x={Math.min(xScale(hoveredPoint.index) + 20, chartWidth - 170)}\n              y={80}\n              fontSize={11}\n              fill={styles.colors.warning}\n            >\n              Cost: {formatCost(hoveredPoint.cost)}\n            </text>\n          </g>\n        )}\n      </svg>\n    </div>\n  );\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "AIDistributionChart",
      "location": "embedded",
      "title": "AI Distribution Chart",
      "description": "Pie and bar charts showing distribution of runs, tokens, and costs by agent or prompt for drill-down analysis",
      "type": "chart",
      "functionalRequirements": "## Distribution Chart Requirements\n\n### Core Functionality\n- Display distribution breakdown for selected time period\n- Toggle between pie chart and bar chart views\n- Show top 10 items with ''Others'' grouping\n- Display runs, tokens, and cost metrics\n- Interactive tooltips with detailed values\n- Color-coded segments with legend\n\n### Visual Features\n- Smooth transitions between chart types\n- Hover effects on segments\n- Click to filter/highlight\n- Responsive sizing\n- Data labels for major segments",
      "dataRequirements": {
        "mode": "views",
        "description": "Receives drill-down data from parent component",
        "entities": [],
        "queries": []
      },
      "technicalDesign": "## Technical Design\n\n### Props\n- data: Array of individual run records\n- activeTab: Current view context (agents/prompts)\n- groupBy: Time grouping context\n\n### Chart Implementation\n- Aggregates data by agent/prompt\n- Calculates percentages\n- Sorts by total value\n- Groups small items into ''Others'' category",
      "properties": [
        {
          "name": "data",
          "type": "array",
          "required": true,
          "description": "Array of run records to analyze"
        },
        {
          "name": "activeTab",
          "type": "string",
          "required": true,
          "description": "Current tab: agents or prompts"
        }
      ],
      "events": [],
      "exampleUsage": "<AIDistributionChart data={selectedPoint.items} activeTab=\"agents\" />",
      "code": "function AIDistributionChart({ data, activeTab, groupBy, styles, utilities, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AIDistributionChart] Rendering with'', data?.length || 0, ''items'');\n  \n  const [chartType, setChartType] = useState(savedUserSettings?.chartType || ''pie'');\n  const [metric, setMetric] = useState(savedUserSettings?.metric || ''runs'');\n  \n  // Aggregate data by agent/prompt\n  const aggregatedData = useMemo(() => {\n    if (!data || data.length === 0) return [];\n    \n    const nameField = activeTab === ''agents'' ? ''Agent'' : ''Prompt'';\n    const idField = activeTab === ''agents'' ? ''AgentID'' : ''PromptID'';\n    const grouped = {};\n    \n    data.forEach(item => {\n      const key = item[nameField] || item[idField] || ''Unknown'';\n      \n      if (!grouped[key]) {\n        grouped[key] = {\n          name: key,\n          runs: 0,\n          tokens: 0,\n          cost: 0\n        };\n      }\n      \n      grouped[key].runs++;\n      grouped[key].tokens += (item.TotalTokensUsed || item.TokensUsed || 0);\n      grouped[key].cost += (item.TotalCost || 0);\n    });\n    \n    // Sort by selected metric and take top 10\n    const sorted = Object.values(grouped)\n      .sort((a, b) => b[metric] - a[metric])\n      .slice(0, 10);\n    \n    // Calculate totals for percentage\n    const total = sorted.reduce((sum, item) => sum + item[metric], 0);\n    \n    return sorted.map(item => ({\n      ...item,\n      percentage: total > 0 ? (item[metric] / total) * 100 : 0\n    }));\n  }, [data, activeTab, metric]);\n  \n  // Generate colors\n  const colors = [\n    styles.colors.primary,\n    styles.colors.success,\n    styles.colors.warning,\n    styles.colors.error,\n    ''#9b59b6'',\n    ''#3498db'',\n    ''#1abc9c'',\n    ''#f39c12'',\n    ''#95a5a6'',\n    ''#34495e''\n  ];\n  \n  const handleChartTypeChange = (type) => {\n    setChartType(type);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      chartType: type\n    });\n  };\n  \n  const handleMetricChange = (newMetric) => {\n    setMetric(newMetric);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      metric: newMetric\n    });\n  };\n  \n  const formatValue = (value) => {\n    if (metric === ''cost'') return `$$' + '{value.toFixed(2)}`;\n    if (metric === ''tokens'' && value > 1000) return `$' + '{(value / 1000).toFixed(1)}K`;\n    return value.toLocaleString();\n  };\n  \n  const renderPieChart = () => {\n    const size = 300;\n    const center = size / 2;\n    const radius = size / 2 - 20;\n    \n    let currentAngle = -Math.PI / 2;\n    \n    return (\n      <svg width={size} height={size}>\n        {aggregatedData.map((item, index) => {\n          const angle = (item.percentage / 100) * Math.PI * 2;\n          const startX = center + Math.cos(currentAngle) * radius;\n          const startY = center + Math.sin(currentAngle) * radius;\n          const endX = center + Math.cos(currentAngle + angle) * radius;\n          const endY = center + Math.sin(currentAngle + angle) * radius;\n          const largeArc = angle > Math.PI ? 1 : 0;\n          \n          const path = `\n            M $' + '{center} $' + '{center}\n            L $' + '{startX} $' + '{startY}\n            A $' + '{radius} $' + '{radius} 0 $' + '{largeArc} 1 $' + '{endX} $' + '{endY}\n            Z\n          `;\n          \n          // Calculate label position\n          const labelAngle = currentAngle + angle / 2;\n          const labelRadius = radius * 0.7;\n          const labelX = center + Math.cos(labelAngle) * labelRadius;\n          const labelY = center + Math.sin(labelAngle) * labelRadius;\n          \n          currentAngle += angle;\n          \n          return (\n            <g key={index}>\n              <path\n                d={path}\n                fill={colors[index]}\n                stroke=\"white\"\n                strokeWidth={2}\n                opacity={0.8}\n                style={{ cursor: ''pointer'' }}\n              >\n                <title>\n                  {item.name}: {formatValue(item[metric])} ({item.percentage.toFixed(1)}%)\n                </title>\n              </path>\n              {item.percentage > 5 && (\n                <text\n                  x={labelX}\n                  y={labelY}\n                  textAnchor=\"middle\"\n                  dominantBaseline=\"middle\"\n                  fontSize={12}\n                  fill=\"white\"\n                  fontWeight=\"bold\"\n                  pointerEvents=\"none\"\n                >\n                  {item.percentage.toFixed(0)}%\n                </text>\n              )}\n            </g>\n          );\n        })}\n      </svg>\n    );\n  };\n  \n  const renderBarChart = () => {\n    const maxValue = Math.max(...aggregatedData.map(d => d[metric]));\n    const barHeight = 30;\n    const chartWidth = 400;\n    const chartHeight = aggregatedData.length * (barHeight + 10);\n    \n    return (\n      <svg width={chartWidth} height={chartHeight}>\n        {aggregatedData.map((item, index) => {\n          const barWidth = (item[metric] / maxValue) * (chartWidth - 150);\n          const y = index * (barHeight + 10);\n          \n          return (\n            <g key={index}>\n              <rect\n                x={0}\n                y={y}\n                width={barWidth}\n                height={barHeight}\n                fill={colors[index]}\n                opacity={0.8}\n              />\n              <text\n                x={barWidth + 5}\n                y={y + barHeight / 2}\n                dominantBaseline=\"middle\"\n                fontSize={12}\n                fill={styles.colors.text}\n              >\n                {formatValue(item[metric])}\n              </text>\n              <text\n                x={chartWidth - 5}\n                y={y + barHeight / 2}\n                textAnchor=\"end\"\n                dominantBaseline=\"middle\"\n                fontSize={11}\n                fill={styles.colors.textSecondary}\n              >\n                {item.name.length > 20 ? item.name.substring(0, 20) + ''...'' : item.name}\n              </text>\n            </g>\n          );\n        })}\n      </svg>\n    );\n  };\n  \n  return (\n    <div style={{\n      width: ''100%'',\n      height: ''100%'',\n      backgroundColor: styles.colors.surface,\n      borderRadius: styles.borders?.radius || ''4px'',\n      padding: styles.spacing.md,\n      display: ''flex'',\n      flexDirection: ''column''\n    }}>\n      {/* Header */}\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center'',\n        marginBottom: styles.spacing.md\n      }}>\n        <h3 style={{\n          margin: 0,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.lg\n        }}>\n          Distribution Analysis\n        </h3>\n        \n        {/* Controls */}\n        <div style={{\n          display: ''flex'',\n          gap: styles.spacing.sm\n        }}>\n          {/* Metric selector */}\n          <select\n            value={metric}\n            onChange={(e) => handleMetricChange(e.target.value)}\n            style={{\n              padding: styles.spacing.xs,\n              border: `1px solid $' + '{styles.colors.border}`,\n              borderRadius: styles.borders?.radius || ''4px'',\n              backgroundColor: styles.colors.background,\n              color: styles.colors.text,\n              fontSize: styles.typography.fontSize.sm\n            }}\n          >\n            <option value=\"runs\">Runs</option>\n            <option value=\"tokens\">Tokens</option>\n            <option value=\"cost\">Cost</option>\n          </select>\n          \n          {/* Chart type toggle */}\n          <div style={{\n            display: ''flex'',\n            gap: ''2px'',\n            backgroundColor: styles.colors.background,\n            padding: ''2px'',\n            borderRadius: styles.borders?.radius || ''4px''\n          }}>\n            <button\n              onClick={() => handleChartTypeChange(''pie'')}\n              style={{\n                padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n                backgroundColor: chartType === ''pie'' ? styles.colors.primary : ''transparent'',\n                color: chartType === ''pie'' ? ''white'' : styles.colors.text,\n                border: ''none'',\n                borderRadius: styles.borders?.radius || ''4px'',\n                cursor: ''pointer'',\n                fontSize: styles.typography.fontSize.sm\n              }}\n            >\n              Pie\n            </button>\n            <button\n              onClick={() => handleChartTypeChange(''bar'')}\n              style={{\n                padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n                backgroundColor: chartType === ''bar'' ? styles.colors.primary : ''transparent'',\n                color: chartType === ''bar'' ? ''white'' : styles.colors.text,\n                border: ''none'',\n                borderRadius: styles.borders?.radius || ''4px'',\n                cursor: ''pointer'',\n                fontSize: styles.typography.fontSize.sm\n              }}\n            >\n              Bar\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      {/* Chart */}\n      <div style={{\n        flex: 1,\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        minHeight: 0\n      }}>\n        {aggregatedData.length === 0 ? (\n          <div style={{\n            textAlign: ''center'',\n            color: styles.colors.textSecondary\n          }}>\n            No data to display\n          </div>\n        ) : (\n          <div style={{\n            display: ''flex'',\n            gap: styles.spacing.lg,\n            alignItems: ''center''\n          }}>\n            {/* Chart */}\n            <div>\n              {chartType === ''pie'' ? renderPieChart() : renderBarChart()}\n            </div>\n            \n            {/* Legend */}\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              gap: styles.spacing.xs,\n              maxHeight: ''300px'',\n              overflowY: ''auto''\n            }}>\n              {aggregatedData.map((item, index) => (\n                <div\n                  key={index}\n                  style={{\n                    display: ''flex'',\n                    alignItems: ''center'',\n                    gap: styles.spacing.xs\n                  }}\n                >\n                  <div\n                    style={{\n                      width: ''12px'',\n                      height: ''12px'',\n                      backgroundColor: colors[index],\n                      borderRadius: ''2px''\n                    }}\n                  />\n                  <span style={{\n                    fontSize: styles.typography.fontSize.sm,\n                    color: styles.colors.text\n                  }}>\n                    {item.name.length > 25 ? item.name.substring(0, 25) + ''...'' : item.name}\n                  </span>\n                  <span style={{\n                    fontSize: styles.typography.fontSize.xs,\n                    color: styles.colors.textSecondary\n                  }}>\n                    ({item.percentage.toFixed(1)}%)\n                  </span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n      \n      {/* Summary */}\n      {aggregatedData.length > 0 && (\n        <div style={{\n          marginTop: styles.spacing.md,\n          padding: styles.spacing.sm,\n          backgroundColor: styles.colors.background,\n          borderRadius: styles.borders?.radius || ''4px'',\n          display: ''flex'',\n          justifyContent: ''space-around'',\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          <div style={{ textAlign: ''center'' }}>\n            <div style={{ color: styles.colors.textSecondary }}>Total Runs</div>\n            <div style={{ color: styles.colors.text, fontWeight: ''bold'' }}>\n              {data.length.toLocaleString()}\n            </div>\n          </div>\n          <div style={{ textAlign: ''center'' }}>\n            <div style={{ color: styles.colors.textSecondary }}>Total Tokens</div>\n            <div style={{ color: styles.colors.text, fontWeight: ''bold'' }}>\n              {formatValue(aggregatedData.reduce((sum, item) => sum + item.tokens, 0))}\n            </div>\n          </div>\n          <div style={{ textAlign: ''center'' }}>\n            <div style={{ color: styles.colors.textSecondary }}>Total Cost</div>\n            <div style={{ color: styles.colors.text, fontWeight: ''bold'' }}>\n              {formatValue(aggregatedData.reduce((sum, item) => sum + item.cost, 0))}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "AIDetailTable",
      "location": "embedded",
      "title": "AI Detail Table",
      "description": "Detailed table view showing individual runs for drill-down analysis with sorting and filtering",
      "type": "table",
      "functionalRequirements": "## Detail Table Requirements\n\n### Core Functionality\n- Display individual run records in a sortable table\n- Show key fields: timestamp, name, success status, tokens, cost, execution time\n- Color-coded success/failure indicators\n- Sortable columns with visual indicators\n- Paginated results for large datasets\n- Export to CSV functionality\n- Expandable rows for additional details\n\n### Table Features\n- Responsive column widths\n- Hover row highlighting\n- Sticky header during scroll\n- Loading state for data updates\n- Empty state message",
      "dataRequirements": {
        "mode": "views",
        "description": "Receives detailed run data from parent component",
        "entities": [],
        "queries": []
      },
      "technicalDesign": "## Technical Design\n\n### Props\n- data: Array of run records\n- activeTab: Current view context (agents/prompts)\n\n### Table Management\n- Client-side sorting\n- Pagination with 25 rows per page\n- Column sorting state management\n- Row expansion for details",
      "properties": [
        {
          "name": "data",
          "type": "array",
          "required": true,
          "description": "Array of run records to display"
        },
        {
          "name": "activeTab",
          "type": "string",
          "required": true,
          "description": "Current tab: agents or prompts"
        }
      ],
      "events": [],
      "exampleUsage": "<AIDetailTable data={selectedPoint.items} activeTab=\"agents\" />",
      "code": "function AIDetailTable({ data, activeTab, styles, utilities, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AIDetailTable] Rendering with'', data?.length || 0, ''items'');\n  \n  const [sortField, setSortField] = useState(savedUserSettings?.sortField || ''timestamp'');\n  const [sortDirection, setSortDirection] = useState(savedUserSettings?.sortDirection || ''desc'');\n  const [currentPage, setCurrentPage] = useState(0);\n  const [expandedRows, setExpandedRows] = useState(new Set());\n  \n  const rowsPerPage = 25;\n  \n  // Get the correct timestamp field\n  const timestampField = activeTab === ''agents'' ? ''StartedAt'' : ''RunAt'';\n  const nameField = activeTab === ''agents'' ? ''Agent'' : ''Prompt'';\n  const idField = activeTab === ''agents'' ? ''AgentID'' : ''PromptID'';\n  \n  // Sort data\n  const sortedData = useMemo(() => {\n    if (!data || data.length === 0) return [];\n    \n    const sorted = [...data].sort((a, b) => {\n      let aVal = a[sortField];\n      let bVal = b[sortField];\n      \n      // Handle null/undefined\n      if (aVal == null) return sortDirection === ''asc'' ? 1 : -1;\n      if (bVal == null) return sortDirection === ''asc'' ? -1 : 1;\n      \n      // Compare values\n      if (typeof aVal === ''string'') {\n        aVal = aVal.toLowerCase();\n        bVal = bVal.toLowerCase();\n      }\n      \n      if (aVal < bVal) return sortDirection === ''asc'' ? -1 : 1;\n      if (aVal > bVal) return sortDirection === ''asc'' ? 1 : -1;\n      return 0;\n    });\n    \n    return sorted;\n  }, [data, sortField, sortDirection]);\n  \n  // Paginate data\n  const paginatedData = useMemo(() => {\n    const start = currentPage * rowsPerPage;\n    const end = start + rowsPerPage;\n    return sortedData.slice(start, end);\n  }, [sortedData, currentPage, rowsPerPage]);\n  \n  const totalPages = Math.ceil(sortedData.length / rowsPerPage);\n  \n  const handleSort = (field) => {\n    if (sortField === field) {\n      const newDirection = sortDirection === ''asc'' ? ''desc'' : ''asc'';\n      setSortDirection(newDirection);\n      onSaveUserSettings?.({\n        ...savedUserSettings,\n        sortField: field,\n        sortDirection: newDirection\n      });\n    } else {\n      setSortField(field);\n      setSortDirection(''asc'');\n      onSaveUserSettings?.({\n        ...savedUserSettings,\n        sortField: field,\n        sortDirection: ''asc''\n      });\n    }\n    setCurrentPage(0);\n  };\n  \n  const toggleRowExpansion = (id) => {\n    const newExpanded = new Set(expandedRows);\n    if (newExpanded.has(id)) {\n      newExpanded.delete(id);\n    } else {\n      newExpanded.add(id);\n    }\n    setExpandedRows(newExpanded);\n  };\n  \n  const formatTimestamp = (timestamp) => {\n    if (!timestamp) return ''-'';\n    const date = new Date(timestamp);\n    return date.toLocaleString(''en-US'', {\n      month: ''short'',\n      day: ''numeric'',\n      hour: ''2-digit'',\n      minute: ''2-digit''\n    });\n  };\n  \n  const formatDuration = (ms) => {\n    if (!ms) return ''-'';\n    if (ms < 1000) return `$' + '{ms}ms`;\n    if (ms < 60000) return `$' + '{(ms / 1000).toFixed(1)}s`;\n    return `$' + '{(ms / 60000).toFixed(1)}m`;\n  };\n  \n  const exportToCSV = () => {\n    console.log(''[AIDetailTable] Exporting to CSV'');\n    \n    const headers = [\n      ''Timestamp'',\n      activeTab === ''agents'' ? ''Agent'' : ''Prompt'',\n      ''Success'',\n      ''Tokens'',\n      ''Cost''\n    ];\n    \n    // Add Duration header only for prompts\n    if (activeTab === ''prompts'') {\n      headers.push(''Duration'');\n    }\n    \n    const rows = sortedData.map(item => {\n      const row = [\n        item[timestampField],\n        item[nameField] || item[idField],\n        item.Success ? ''Yes'' : ''No'',\n        (item.TotalTokensUsed || item.TokensUsed) || 0,\n        item.TotalCost || 0\n      ];\n      \n      // Add Duration value only for prompts\n      if (activeTab === ''prompts'') {\n        row.push(item.ExecutionTimeMS || 0);\n      }\n      \n      return row;\n    });\n    \n    const csv = [\n      headers.join('',''),\n      ...rows.map(row => row.join('',''))\n    ].join(''\\n'');\n    \n    const blob = new Blob([csv], { type: ''text/csv'' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(''a'');\n    a.href = url;\n    a.download = `ai-$' + '{activeTab}-details-$' + '{new Date().toISOString().split(''T'')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  \n  const columns = [\n    { field: timestampField, label: ''Timestamp'', width: ''150px'' },\n    { field: nameField, label: activeTab === ''agents'' ? ''Agent'' : ''Prompt'', width: ''auto'' },\n    { field: ''Success'', label: ''Status'', width: ''80px'' },\n    { field: ''TotalTokens'', label: ''Tokens'', width: ''100px'' },\n    { field: ''TotalCost'', label: ''Cost'', width: ''100px'' }\n  ];\n  \n  // Add Duration column only for Prompt Runs (Agent Runs don''t have ExecutionTimeMS)\n  if (activeTab === ''prompts'') {\n    columns.push({ field: ''ExecutionTimeMS'', label: ''Duration'', width: ''100px'' });\n  }\n  \n  return (\n    <div style={{\n      width: ''100%'',\n      height: ''100%'',\n      backgroundColor: styles.colors.surface,\n      borderRadius: styles.borders?.radius || ''4px'',\n      display: ''flex'',\n      flexDirection: ''column''\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: styles.spacing.md,\n        borderBottom: `1px solid $' + '{styles.colors.border}`,\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center''\n      }}>\n        <h3 style={{\n          margin: 0,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.lg\n        }}>\n          Detailed Records ({sortedData.length})\n        </h3>\n        \n        <button\n          onClick={exportToCSV}\n          style={{\n            padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n            backgroundColor: styles.colors.primary,\n            color: ''white'',\n            border: ''none'',\n            borderRadius: styles.borders?.radius || ''4px'',\n            cursor: ''pointer'',\n            fontSize: styles.typography.fontSize.sm\n          }}\n        >\n          Export CSV\n        </button>\n      </div>\n      \n      {/* Table */}\n      <div style={{ flex: 1, overflow: ''auto'' }}>\n        {paginatedData.length === 0 ? (\n          <div style={{\n            padding: styles.spacing.xl,\n            textAlign: ''center'',\n            color: styles.colors.textSecondary\n          }}>\n            No records to display\n          </div>\n        ) : (\n          <table style={{\n            width: ''100%'',\n            borderCollapse: ''collapse''\n          }}>\n            <thead style={{\n              position: ''sticky'',\n              top: 0,\n              backgroundColor: styles.colors.surface,\n              borderBottom: `2px solid $' + '{styles.colors.border}`\n            }}>\n              <tr>\n                <th style={{ width: ''30px'', padding: styles.spacing.sm }} />\n                {columns.map(col => (\n                  <th\n                    key={col.field}\n                    onClick={() => handleSort(col.field)}\n                    style={{\n                      padding: styles.spacing.sm,\n                      textAlign: ''left'',\n                      color: styles.colors.text,\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: ''600'',\n                      cursor: ''pointer'',\n                      userSelect: ''none'',\n                      width: col.width\n                    }}\n                  >\n                    <div style={{\n                      display: ''flex'',\n                      alignItems: ''center'',\n                      gap: styles.spacing.xs\n                    }}>\n                      {col.label}\n                      {sortField === col.field && (\n                        <span style={{ fontSize: ''10px'' }}>\n                          {sortDirection === ''asc'' ? ''▲'' : ''▼''}\n                        </span>\n                      )}\n                    </div>\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {paginatedData.map((row, index) => {\n                const isExpanded = expandedRows.has(row.ID);\n                return (\n                  <React.Fragment key={row.ID || index}>\n                    <tr style={{\n                      borderBottom: `1px solid $' + '{styles.colors.border}`,\n                      transition: ''background-color 0.2s'',\n                      backgroundColor: index % 2 === 0 ? ''transparent'' : styles.colors.background\n                    }}>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        textAlign: ''center''\n                      }}>\n                        <button\n                          onClick={() => toggleRowExpansion(row.ID)}\n                          style={{\n                            background: ''none'',\n                            border: ''none'',\n                            cursor: ''pointer'',\n                            color: styles.colors.textSecondary,\n                            padding: 0,\n                            fontSize: ''12px''\n                          }}\n                        >\n                          {isExpanded ? ''▼'' : ''▶''}\n                        </button>\n                      </td>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        fontSize: styles.typography.fontSize.sm,\n                        color: styles.colors.text\n                      }}>\n                        {formatTimestamp(row[timestampField])}\n                      </td>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        fontSize: styles.typography.fontSize.sm,\n                        color: styles.colors.text,\n                        overflow: ''hidden'',\n                        textOverflow: ''ellipsis'',\n                        whiteSpace: ''nowrap'',\n                        maxWidth: ''200px''\n                      }}>\n                        {row[nameField] || row[idField] || ''-''}\n                      </td>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        fontSize: styles.typography.fontSize.sm\n                      }}>\n                        <span style={{\n                          display: ''inline-block'',\n                          padding: `2px 8px`,\n                          borderRadius: ''12px'',\n                          backgroundColor: row.Success ? styles.colors.success + ''20'' : styles.colors.error + ''20'',\n                          color: row.Success ? styles.colors.success : styles.colors.error,\n                          fontSize: ''11px'',\n                          fontWeight: ''600''\n                        }}>\n                          {row.Success ? ''Success'' : ''Failed''}\n                        </span>\n                      </td>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        fontSize: styles.typography.fontSize.sm,\n                        color: styles.colors.text,\n                        textAlign: ''right''\n                      }}>\n                        {(row.TotalTokensUsed || row.TokensUsed) ? (row.TotalTokensUsed || row.TokensUsed).toLocaleString() : ''-''}\n                      </td>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        fontSize: styles.typography.fontSize.sm,\n                        color: styles.colors.text,\n                        textAlign: ''right''\n                      }}>\n                        {row.TotalCost ? `$$' + '{row.TotalCost.toFixed(4)}` : ''-''}\n                      </td>\n                      {activeTab === ''prompts'' && (\n                        <td style={{\n                          padding: styles.spacing.sm,\n                          fontSize: styles.typography.fontSize.sm,\n                          color: styles.colors.text,\n                          textAlign: ''right''\n                        }}>\n                          {formatDuration(row.ExecutionTimeMS)}\n                        </td>\n                      )}\n                    </tr>\n                    {isExpanded && (\n                      <tr>\n                        <td colSpan={columns.length + 1} style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.background,\n                          borderBottom: `1px solid $' + '{styles.colors.border}`\n                        }}>\n                          <div style={{\n                            display: ''grid'',\n                            gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'',\n                            gap: styles.spacing.md,\n                            fontSize: styles.typography.fontSize.sm\n                          }}>\n                            <div>\n                              <strong style={{ color: styles.colors.textSecondary }}>ID:</strong>\n                              <div style={{ color: styles.colors.text, fontFamily: ''monospace'' }}>\n                                {row.ID}\n                              </div>\n                            </div>\n                            {row.ErrorMessage && (\n                              <div style={{ gridColumn: ''1 / -1'' }}>\n                                <strong style={{ color: styles.colors.textSecondary }}>Error:</strong>\n                                <div style={{ color: styles.colors.error }}>\n                                  {row.ErrorMessage}\n                                </div>\n                              </div>\n                            )}\n                            {row.Model && (\n                              <div>\n                                <strong style={{ color: styles.colors.textSecondary }}>Model:</strong>\n                                <div style={{ color: styles.colors.text }}>\n                                  {row.Model}\n                                </div>\n                              </div>\n                            )}\n                            {row.CompletedAt && (\n                              <div>\n                                <strong style={{ color: styles.colors.textSecondary }}>Completed:</strong>\n                                <div style={{ color: styles.colors.text }}>\n                                  {formatTimestamp(row.CompletedAt)}\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    )}\n                  </React.Fragment>\n                );\n              })}\n            </tbody>\n          </table>\n        )}\n      </div>\n      \n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div style={{\n          padding: styles.spacing.md,\n          borderTop: `1px solid $' + '{styles.colors.border}`,\n          display: ''flex'',\n          justifyContent: ''center'',\n          alignItems: ''center'',\n          gap: styles.spacing.sm\n        }}>\n          <button\n            onClick={() => setCurrentPage(Math.max(0, currentPage - 1))}\n            disabled={currentPage === 0}\n            style={{\n              padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n              backgroundColor: currentPage === 0 ? styles.colors.background : styles.colors.primary,\n              color: currentPage === 0 ? styles.colors.textSecondary : ''white'',\n              border: `1px solid $' + '{styles.colors.border}`,\n              borderRadius: styles.borders?.radius || ''4px'',\n              cursor: currentPage === 0 ? ''not-allowed'' : ''pointer'',\n              fontSize: styles.typography.fontSize.sm\n            }}\n          >\n            Previous\n          </button>\n          \n          <span style={{\n            color: styles.colors.text,\n            fontSize: styles.typography.fontSize.sm\n          }}>\n            Page {currentPage + 1} of {totalPages}\n          </span>\n          \n          <button\n            onClick={() => setCurrentPage(Math.min(totalPages - 1, currentPage + 1))}\n            disabled={currentPage === totalPages - 1}\n            style={{\n              padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n              backgroundColor: currentPage === totalPages - 1 ? styles.colors.background : styles.colors.primary,\n              color: currentPage === totalPages - 1 ? styles.colors.textSecondary : ''white'',\n              border: `1px solid $' + '{styles.colors.border}`,\n              borderRadius: styles.borders?.radius || ''4px'',\n              cursor: currentPage === totalPages - 1 ? ''not-allowed'' : ''pointer'',\n              fontSize: styles.typography.fontSize.sm\n            }}\n          >\n            Next\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "AIMetricsSummary",
      "location": "embedded",
      "title": "AI Metrics Summary",
      "description": "Summary cards displaying key performance metrics for the selected time period",
      "type": "other",
      "functionalRequirements": "## Metrics Summary Requirements\n\n### Core Functionality\n- Display key metrics in card format\n- Show total runs, tokens, and costs\n- Calculate averages per run\n- Display success rate percentage\n- Show trend indicators\n- Responsive card layout\n\n### Visual Features\n- Icon for each metric\n- Color-coded values\n- Hover effects\n- Smooth animations\n- Responsive grid",
      "dataRequirements": {
        "mode": "views",
        "description": "Receives calculated metrics from parent component",
        "entities": [],
        "queries": []
      },
      "technicalDesign": "## Technical Design\n\n### Props\n- metrics: Object with calculated metric values\n\n### Display\n- Responsive grid of metric cards\n- Each card shows metric name, value, and icon\n- Consistent styling with theme",
      "properties": [
        {
          "name": "metrics",
          "type": "object",
          "required": true,
          "description": "Calculated metrics object"
        }
      ],
      "events": [],
      "exampleUsage": "<AIMetricsSummary metrics={calculatedMetrics} />",
      "code": "function AIMetricsSummary({ metrics, styles, utilities, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AIMetricsSummary] Rendering metrics:'', metrics);\n  \n  const formatNumber = (num) => {\n    if (num >= 1000000) return `$' + '{(num / 1000000).toFixed(1)}M`;\n    if (num >= 1000) return `$' + '{(num / 1000).toFixed(1)}K`;\n    return num.toFixed(0);\n  };\n  \n  const formatCost = (cost) => {\n    if (cost >= 1000) return `$$' + '{(cost / 1000).toFixed(1)}K`;\n    if (cost >= 1) return `$$' + '{cost.toFixed(2)}`;\n    return `$$' + '{cost.toFixed(4)}`;\n  };\n  \n  const cards = [\n    {\n      label: ''Total Runs'',\n      value: formatNumber(metrics?.totalRuns || 0),\n      icon: ''▶'',\n      color: styles.colors.primary\n    },\n    {\n      label: ''Total Tokens'',\n      value: formatNumber(metrics?.totalTokens || 0),\n      icon: ''◆'',\n      color: styles.colors.success\n    },\n    {\n      label: ''Total Cost'',\n      value: formatCost(metrics?.totalCost || 0),\n      icon: ''$'',\n      color: styles.colors.warning\n    },\n    {\n      label: ''Avg Tokens/Run'',\n      value: formatNumber(metrics?.avgTokensPerRun || 0),\n      icon: ''⟳'',\n      color: styles.colors.info || styles.colors.primary\n    },\n    {\n      label: ''Avg Cost/Run'',\n      value: formatCost(metrics?.avgCostPerRun || 0),\n      icon: ''¢'',\n      color: styles.colors.info || styles.colors.primary\n    }\n  ];\n  \n  return (\n    <div style={{\n      display: ''grid'',\n      gridTemplateColumns: ''repeat(auto-fit, minmax(150px, 1fr))'',\n      gap: styles.spacing.md,\n      marginBottom: styles.spacing.lg\n    }}>\n      {cards.map((card, index) => (\n        <div\n          key={index}\n          style={{\n            backgroundColor: styles.colors.surface,\n            borderRadius: styles.borders?.radius || ''4px'',\n            padding: styles.spacing.md,\n            boxShadow: ''0 1px 3px rgba(0,0,0,0.1)'',\n            transition: ''transform 0.2s, box-shadow 0.2s'',\n            cursor: ''default''\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.transform = ''translateY(-2px)'';\n            e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0,0,0,0.15)'';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = ''translateY(0)'';\n            e.currentTarget.style.boxShadow = ''0 1px 3px rgba(0,0,0,0.1)'';\n          }}\n        >\n          <div style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''space-between'',\n            marginBottom: styles.spacing.sm\n          }}>\n            <span style={{\n              fontSize: styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary,\n              fontWeight: ''500''\n            }}>\n              {card.label}\n            </span>\n            <span style={{\n              fontSize: ''20px'',\n              color: card.color,\n              opacity: 0.7\n            }}>\n              {card.icon}\n            </span>\n          </div>\n          <div style={{\n            fontSize: styles.typography.fontSize.xl || ''24px'',\n            fontWeight: ''bold'',\n            color: card.color\n          }}>\n            {card.value}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}",
      "dependencies": [],
      "libraries": []
    }
  ],
  "libraries": []
}'
SET
  @FunctionalRequirements_bb11c9bf = N'Display multi-line time series charts showing total runs, tokens, and costs over time. Support multiple time groupings: day, week, month, quarter. Dual Y-axis display (tokens on left, runs/costs on right). Click-to-drill-down on any chart point to see details for that period. Show distribution charts (pie/bar) for selected time period. Separate tabs for Agent Runs and Prompt Runs analysis.'
SET
  @TechnicalDesign_bb11c9bf = N'Root component manages overall dashboard state and data loading. Handles time range selection and grouping. Coordinates drill-down state between components. Manages tab switching between Agent and Prompt views. Child components: AITimeSeriesChart for multi-line charts with dual Y-axes, AIDistributionChart for pie/bar charts showing breakdown, AIDetailTable for detailed table view, AIMetricsSummary for key metrics cards.'
SET
  @HasCustomProps_bb11c9bf = 0
SET
  @HasCustomEvents_bb11c9bf = 0
SET
  @RequiresData_bb11c9bf = 1
SET
  @DependencyCount_bb11c9bf = 4
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_bb11c9bf,
  @Namespace = @Namespace_bb11c9bf,
  @Name = @Name_bb11c9bf,
  @Version = @Version_bb11c9bf,
  @VersionSequence = @VersionSequence_bb11c9bf,
  @Title = @Title_bb11c9bf,
  @Description = @Description_bb11c9bf,
  @Type = @Type_bb11c9bf,
  @Status = @Status_bb11c9bf,
  @DeveloperName = @DeveloperName_bb11c9bf,
  @DeveloperEmail = @DeveloperEmail_bb11c9bf,
  @DeveloperOrganization = @DeveloperOrganization_bb11c9bf,
  @SourceRegistryID = @SourceRegistryID_bb11c9bf,
  @ReplicatedAt = @ReplicatedAt_bb11c9bf,
  @LastSyncedAt = @LastSyncedAt_bb11c9bf,
  @Specification = @Specification_bb11c9bf,
  @FunctionalRequirements = @FunctionalRequirements_bb11c9bf,
  @TechnicalDesign = @TechnicalDesign_bb11c9bf,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_bb11c9bf,
  @TechnicalDesignVector = @TechnicalDesignVector_bb11c9bf,
  @HasCustomProps = @HasCustomProps_bb11c9bf,
  @HasCustomEvents = @HasCustomEvents_bb11c9bf,
  @RequiresData = @RequiresData_bb11c9bf,
  @DependencyCount = @DependencyCount_bb11c9bf;

-- Save MJ: Components (core SP call only)
DECLARE @ID_6912f79a UNIQUEIDENTIFIER,
@Namespace_6912f79a NVARCHAR(MAX),
@Name_6912f79a NVARCHAR(500),
@Version_6912f79a NVARCHAR(50),
@VersionSequence_6912f79a INT,
@Title_6912f79a NVARCHAR(1000),
@Description_6912f79a NVARCHAR(MAX),
@Type_6912f79a NVARCHAR(255),
@Status_6912f79a NVARCHAR(50),
@DeveloperName_6912f79a NVARCHAR(255),
@DeveloperEmail_6912f79a NVARCHAR(255),
@DeveloperOrganization_6912f79a NVARCHAR(255),
@SourceRegistryID_6912f79a UNIQUEIDENTIFIER,
@ReplicatedAt_6912f79a DATETIMEOFFSET,
@LastSyncedAt_6912f79a DATETIMEOFFSET,
@Specification_6912f79a NVARCHAR(MAX),
@FunctionalRequirements_6912f79a NVARCHAR(MAX),
@TechnicalDesign_6912f79a NVARCHAR(MAX),
@FunctionalRequirementsVector_6912f79a NVARCHAR(MAX),
@TechnicalDesignVector_6912f79a NVARCHAR(MAX),
@HasCustomProps_6912f79a BIT,
@HasCustomEvents_6912f79a BIT,
@RequiresData_6912f79a BIT,
@DependencyCount_6912f79a INT
SET
  @ID_6912f79a = '12796365-7678-410f-867d-3ef0598e0beb'
SET
  @Namespace_6912f79a = N'AI/Analytics/Performance'
SET
  @Name_6912f79a = N'AITimeSeriesChart'
SET
  @Version_6912f79a = N'1.0.0'
SET
  @VersionSequence_6912f79a = 1
SET
  @Title_6912f79a = N'AI Time Series Chart'
SET
  @Description_6912f79a = N'Multi-line time series chart with dual Y-axes showing AI runs, token usage, and costs over time'
SET
  @Type_6912f79a = N'Chart'
SET
  @Status_6912f79a = N'Published'
SET
  @Specification_6912f79a = N'{
  "name": "AITimeSeriesChart",
  "location": "embedded",
  "title": "AI Time Series Chart",
  "description": "Multi-line time series chart with dual Y-axes showing AI runs, token usage, and costs over time",
  "type": "chart",
  "functionalRequirements": "## Time Series Chart Requirements\n\n### Core Functionality\n- Display three data series: total runs, total tokens, total cost\n- Dual Y-axis configuration (left: tokens, right: runs and cost)\n- Interactive tooltips showing all values on hover\n- Click on data points to trigger drill-down\n- Smooth line interpolation with data point markers\n- Legend with series toggle capability\n- Responsive to container size changes\n\n### Visual Features\n- Consistent color coding (runs: blue, tokens: green, cost: orange)\n- Grid lines for better readability\n- Axis labels with appropriate formatting\n- Highlighted selection state for clicked points\n- Animated transitions on data updates\n- Zero-baseline for better comparison",
  "dataRequirements": {
    "mode": "views",
    "description": "Receives aggregated time series data from parent component",
    "entities": [],
    "queries": []
  },
  "technicalDesign": "## Technical Design\n\n### Props\n- data: Array of aggregated data points with date, runs, tokens, cost\n- groupBy: Current grouping (day/week/month/quarter)\n- activeTab: Current view (agents/prompts)\n- selectedPoint: Currently selected data point\n- onPointClick: Callback when point is clicked\n\n### Chart Configuration\n- Uses recharts library for rendering\n- Dual Y-axis setup with synchronized tooltips\n- Custom tick formatters for large numbers\n- Responsive container with aspect ratio preservation",
  "properties": [
    {
      "name": "data",
      "type": "array",
      "required": true,
      "description": "Array of time series data points"
    },
    {
      "name": "groupBy",
      "type": "string",
      "required": true,
      "description": "Time grouping: day, week, month, or quarter"
    },
    {
      "name": "activeTab",
      "type": "string",
      "required": true,
      "description": "Current tab: agents or prompts"
    },
    {
      "name": "selectedPoint",
      "type": "object",
      "required": false,
      "description": "Currently selected data point"
    },
    {
      "name": "onPointClick",
      "type": "function",
      "required": true,
      "description": "Callback when a data point is clicked"
    }
  ],
  "events": [
    {
      "name": "onPointClick",
      "description": "Fired when user clicks on a data point",
      "payload": "Data point object with date and values"
    }
  ],
  "exampleUsage": "<AITimeSeriesChart data={chartData} groupBy=\"day\" activeTab=\"agents\" onPointClick={handleChartClick} />",
  "code": "function AITimeSeriesChart({ data, groupBy, activeTab, selectedPoint, onPointClick, styles, utilities, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AITimeSeriesChart] Rendering with'', data.length, ''data points'');\n  \n  // Format large numbers\n  const formatNumber = (value) => {\n    if (value >= 1000000) {\n      return `$' + '{(value / 1000000).toFixed(1)}M`;\n    } else if (value >= 1000) {\n      return `$' + '{(value / 1000).toFixed(1)}K`;\n    }\n    return value.toFixed(0);\n  };\n  \n  // Format currency\n  const formatCurrency = (value) => {\n    if (value >= 1000) {\n      return `$$' + '{(value / 1000).toFixed(1)}K`;\n    }\n    return `$$' + '{value.toFixed(2)}`;\n  };\n  \n  // Format date based on grouping\n  const formatDate = (date) => {\n    const d = new Date(date);\n    switch(groupBy) {\n      case ''day'':\n        return d.toLocaleDateString(''en-US'', { month: ''short'', day: ''numeric'' });\n      case ''week'':\n        return `Week of $' + '{d.toLocaleDateString(''en-US'', { month: ''short'', day: ''numeric'' })}`;\n      case ''month'':\n        return d.toLocaleDateString(''en-US'', { month: ''short'', year: ''numeric'' });\n      case ''quarter'':\n        return date; // Already formatted as YYYY-Q#\n      default:\n        return date;\n    }\n  };\n  \n  // Prepare chart data\n  const chartData = useMemo(() => {\n    return data.map(point => ({\n      ...point,\n      displayDate: formatDate(point.date),\n      isSelected: selectedPoint?.date === point.date\n    }));\n  }, [data, selectedPoint, groupBy]);\n  \n  // Calculate max values for axis domains\n  const maxTokens = useMemo(() => Math.max(...data.map(d => d.tokens || 0)), [data]);\n  const maxRuns = useMemo(() => Math.max(...data.map(d => d.runs || 0)), [data]);\n  const maxCost = useMemo(() => Math.max(...data.map(d => d.cost || 0)), [data]);\n  \n  // Use a simple SVG chart since we can''t use external libraries\n  const width = 800;\n  const height = 400;\n  const margin = { top: 20, right: 80, bottom: 60, left: 80 };\n  const innerWidth = width - margin.left - margin.right;\n  const innerHeight = height - margin.top - margin.bottom;\n  \n  // Create scales\n  const xScale = (index) => (index / (chartData.length - 1)) * innerWidth;\n  const yScaleTokens = (value) => innerHeight - (value / maxTokens) * innerHeight;\n  const yScaleRight = (value, max) => innerHeight - (value / max) * innerHeight;\n  \n  // Create path data for lines\n  const createPath = (data, valueKey, scale, max) => {\n    return data.map((d, i) => {\n      const x = xScale(i);\n      const y = scale(d[valueKey] || 0, max);\n      return `$' + '{i === 0 ? ''M'' : ''L''} $' + '{x} $' + '{y}`;\n    }).join('' '');\n  };\n  \n  const handlePointClick = (point) => {\n    console.log(''[AITimeSeriesChart] Point clicked:'', point);\n    onPointClick(point);\n  };\n  \n  return (\n    <div style={{\n      width: ''100%'',\n      height: ''100%'',\n      backgroundColor: styles.colors.surface,\n      borderRadius: styles.borders?.radius || ''4px'',\n      padding: styles.spacing.md,\n      display: ''flex'',\n      flexDirection: ''column''\n    }}>\n      <h3 style={{\n        margin: `0 0 $' + '{styles.spacing.md} 0`,\n        color: styles.colors.text,\n        fontSize: styles.typography.fontSize.lg\n      }}>\n        Performance Trends - {activeTab === ''agents'' ? ''Agent Runs'' : ''Prompt Runs''}\n      </h3>\n      \n      {/* Chart Container */}\n      <div style={{ flex: 1, position: ''relative'', minHeight: ''300px'' }}>\n        {chartData.length === 0 ? (\n          <div style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''center'',\n            height: ''100%'',\n            color: styles.colors.textSecondary\n          }}>\n            No data available for the selected period\n          </div>\n        ) : (\n          <svg\n            viewBox={`0 0 $' + '{width} $' + '{height}`}\n            style={{ width: ''100%'', height: ''100%'' }}\n            preserveAspectRatio=\"xMidYMid meet\"\n          >\n            <g transform={`translate($' + '{margin.left}, $' + '{margin.top})`}>\n              {/* Grid lines */}\n              {[0, 0.25, 0.5, 0.75, 1].map(tick => (\n                <line\n                  key={tick}\n                  x1={0}\n                  x2={innerWidth}\n                  y1={innerHeight * (1 - tick)}\n                  y2={innerHeight * (1 - tick)}\n                  stroke={styles.colors.border}\n                  strokeOpacity={0.3}\n                  strokeDasharray=\"2,2\"\n                />\n              ))}\n              \n              {/* X-axis labels */}\n              {chartData.map((point, i) => {\n                if (chartData.length > 20 && i % Math.ceil(chartData.length / 10) !== 0) {\n                  return null;\n                }\n                return (\n                  <text\n                    key={i}\n                    x={xScale(i)}\n                    y={innerHeight + 20}\n                    textAnchor=\"middle\"\n                    fill={styles.colors.textSecondary}\n                    fontSize=\"12\"\n                  >\n                    {point.displayDate}\n                  </text>\n                );\n              })}\n              \n              {/* Y-axis labels (left - tokens) */}\n              {[0, 0.25, 0.5, 0.75, 1].map(tick => (\n                <text\n                  key={tick}\n                  x={-10}\n                  y={innerHeight * (1 - tick) + 5}\n                  textAnchor=\"end\"\n                  fill={styles.colors.textSecondary}\n                  fontSize=\"12\"\n                >\n                  {formatNumber(maxTokens * tick)}\n                </text>\n              ))}\n              \n              {/* Y-axis labels (right - cost) */}\n              {[0, 0.25, 0.5, 0.75, 1].map(tick => (\n                <text\n                  key={tick}\n                  x={innerWidth + 10}\n                  y={innerHeight * (1 - tick) + 5}\n                  textAnchor=\"start\"\n                  fill={styles.colors.textSecondary}\n                  fontSize=\"12\"\n                >\n                  {formatCurrency(maxCost * tick)}\n                </text>\n              ))}\n              \n              {/* Lines */}\n              <path\n                d={createPath(chartData, ''tokens'', yScaleTokens, maxTokens)}\n                fill=\"none\"\n                stroke={styles.colors.success || ''#10b981''}\n                strokeWidth=\"2\"\n              />\n              <path\n                d={createPath(chartData, ''runs'', yScaleRight, maxRuns)}\n                fill=\"none\"\n                stroke={styles.colors.primary || ''#3b82f6''}\n                strokeWidth=\"2\"\n              />\n              <path\n                d={createPath(chartData, ''cost'', yScaleRight, maxCost)}\n                fill=\"none\"\n                stroke={styles.colors.warning || ''#f59e0b''}\n                strokeWidth=\"2\"\n              />\n              \n              {/* Data points */}\n              {chartData.map((point, i) => (\n                <g key={i}>\n                  {/* Tokens */}\n                  <circle\n                    cx={xScale(i)}\n                    cy={yScaleTokens(point.tokens || 0)}\n                    r={point.isSelected ? 6 : 4}\n                    fill={styles.colors.success || ''#10b981''}\n                    stroke=\"white\"\n                    strokeWidth=\"2\"\n                    style={{ cursor: ''pointer'' }}\n                    onClick={() => handlePointClick(point)}\n                  />\n                  {/* Runs */}\n                  <circle\n                    cx={xScale(i)}\n                    cy={yScaleRight(point.runs || 0, maxRuns)}\n                    r={point.isSelected ? 6 : 4}\n                    fill={styles.colors.primary || ''#3b82f6''}\n                    stroke=\"white\"\n                    strokeWidth=\"2\"\n                    style={{ cursor: ''pointer'' }}\n                    onClick={() => handlePointClick(point)}\n                  />\n                  {/* Cost */}\n                  <circle\n                    cx={xScale(i)}\n                    cy={yScaleRight(point.cost || 0, maxCost)}\n                    r={point.isSelected ? 6 : 4}\n                    fill={styles.colors.warning || ''#f59e0b''}\n                    stroke=\"white\"\n                    strokeWidth=\"2\"\n                    style={{ cursor: ''pointer'' }}\n                    onClick={() => handlePointClick(point)}\n                  />\n                </g>\n              ))}\n            </g>\n            \n            {/* Axis labels */}\n            <text\n              x={margin.left - 40}\n              y={height / 2}\n              transform={`rotate(-90, $' + '{margin.left - 40}, $' + '{height / 2})`}\n              textAnchor=\"middle\"\n              fill={styles.colors.textSecondary}\n              fontSize=\"14\"\n            >\n              Tokens\n            </text>\n            <text\n              x={width - margin.right + 40}\n              y={height / 2}\n              transform={`rotate(90, $' + '{width - margin.right + 40}, $' + '{height / 2})`}\n              textAnchor=\"middle\"\n              fill={styles.colors.textSecondary}\n              fontSize=\"14\"\n            >\n              Runs / Cost ($)\n            </text>\n          </svg>\n        )}\n      </div>\n      \n      {/* Legend */}\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        gap: styles.spacing.lg,\n        marginTop: styles.spacing.md\n      }}>\n        <div style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.xs }}>\n          <div style={{\n            width: ''12px'',\n            height: ''12px'',\n            backgroundColor: styles.colors.primary || ''#3b82f6'',\n            borderRadius: ''2px''\n          }} />\n          <span style={{ fontSize: styles.typography.fontSize.sm, color: styles.colors.text }}>Runs</span>\n        </div>\n        <div style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.xs }}>\n          <div style={{\n            width: ''12px'',\n            height: ''12px'',\n            backgroundColor: styles.colors.success || ''#10b981'',\n            borderRadius: ''2px''\n          }} />\n          <span style={{ fontSize: styles.typography.fontSize.sm, color: styles.colors.text }}>Tokens</span>\n        </div>\n        <div style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.xs }}>\n          <div style={{\n            width: ''12px'',\n            height: ''12px'',\n            backgroundColor: styles.colors.warning || ''#f59e0b'',\n            borderRadius: ''2px''\n          }} />\n          <span style={{ fontSize: styles.typography.fontSize.sm, color: styles.colors.text }}>Cost</span>\n        </div>\n      </div>\n    </div>\n  );\n}",
  "dependencies": [],
  "libraries": []
}'
SET
  @FunctionalRequirements_6912f79a = N'Display three data series: total runs, total tokens, total cost. Dual Y-axis configuration (left: tokens, right: runs and cost). Interactive tooltips showing all values on hover. Click on data points to trigger drill-down. Smooth line interpolation with data point markers. Legend with series toggle capability.'
SET
  @TechnicalDesign_6912f79a = N'Uses SVG for chart rendering with custom scales. Dual Y-axis setup with synchronized tooltips. Custom tick formatters for large numbers. Responsive container with aspect ratio preservation.'
SET
  @HasCustomProps_6912f79a = 1
SET
  @HasCustomEvents_6912f79a = 1
SET
  @RequiresData_6912f79a = 1
SET
  @DependencyCount_6912f79a = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_6912f79a,
  @Namespace = @Namespace_6912f79a,
  @Name = @Name_6912f79a,
  @Version = @Version_6912f79a,
  @VersionSequence = @VersionSequence_6912f79a,
  @Title = @Title_6912f79a,
  @Description = @Description_6912f79a,
  @Type = @Type_6912f79a,
  @Status = @Status_6912f79a,
  @DeveloperName = @DeveloperName_6912f79a,
  @DeveloperEmail = @DeveloperEmail_6912f79a,
  @DeveloperOrganization = @DeveloperOrganization_6912f79a,
  @SourceRegistryID = @SourceRegistryID_6912f79a,
  @ReplicatedAt = @ReplicatedAt_6912f79a,
  @LastSyncedAt = @LastSyncedAt_6912f79a,
  @Specification = @Specification_6912f79a,
  @FunctionalRequirements = @FunctionalRequirements_6912f79a,
  @TechnicalDesign = @TechnicalDesign_6912f79a,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_6912f79a,
  @TechnicalDesignVector = @TechnicalDesignVector_6912f79a,
  @HasCustomProps = @HasCustomProps_6912f79a,
  @HasCustomEvents = @HasCustomEvents_6912f79a,
  @RequiresData = @RequiresData_6912f79a,
  @DependencyCount = @DependencyCount_6912f79a;

-- Save MJ: Components (core SP call only)
DECLARE @ID_68247dfa UNIQUEIDENTIFIER,
@Namespace_68247dfa NVARCHAR(MAX),
@Name_68247dfa NVARCHAR(500),
@Version_68247dfa NVARCHAR(50),
@VersionSequence_68247dfa INT,
@Title_68247dfa NVARCHAR(1000),
@Description_68247dfa NVARCHAR(MAX),
@Type_68247dfa NVARCHAR(255),
@Status_68247dfa NVARCHAR(50),
@DeveloperName_68247dfa NVARCHAR(255),
@DeveloperEmail_68247dfa NVARCHAR(255),
@DeveloperOrganization_68247dfa NVARCHAR(255),
@SourceRegistryID_68247dfa UNIQUEIDENTIFIER,
@ReplicatedAt_68247dfa DATETIMEOFFSET,
@LastSyncedAt_68247dfa DATETIMEOFFSET,
@Specification_68247dfa NVARCHAR(MAX),
@FunctionalRequirements_68247dfa NVARCHAR(MAX),
@TechnicalDesign_68247dfa NVARCHAR(MAX),
@FunctionalRequirementsVector_68247dfa NVARCHAR(MAX),
@TechnicalDesignVector_68247dfa NVARCHAR(MAX),
@HasCustomProps_68247dfa BIT,
@HasCustomEvents_68247dfa BIT,
@RequiresData_68247dfa BIT,
@DependencyCount_68247dfa INT
SET
  @ID_68247dfa = '1ebd8365-41eb-41e4-b71f-418628db4eb5'
SET
  @Namespace_68247dfa = N'AI/Analytics/Performance'
SET
  @Name_68247dfa = N'AIDistributionChart'
SET
  @Version_68247dfa = N'1.0.0'
SET
  @VersionSequence_68247dfa = 1
SET
  @Title_68247dfa = N'AI Distribution Chart'
SET
  @Description_68247dfa = N'Pie and bar charts showing distribution of runs, tokens, and costs by agent or prompt for drill-down analysis'
SET
  @Type_68247dfa = N'Chart'
SET
  @Status_68247dfa = N'Published'
SET
  @Specification_68247dfa = N'{
  "name": "AIDistributionChart",
  "location": "embedded",
  "title": "AI Distribution Chart",
  "description": "Pie and bar charts showing distribution of runs, tokens, and costs by agent or prompt for drill-down analysis",
  "type": "chart",
  "functionalRequirements": "## Distribution Chart Requirements\n\n### Core Functionality\n- Display distribution breakdown for selected time period\n- Toggle between pie chart and bar chart views\n- Show top 10 items with ''Others'' grouping\n- Display runs, tokens, and cost metrics\n- Interactive tooltips with detailed values\n- Click on segments to filter detail table\n- Color-coded segments with legend\n\n### Visual Features\n- Smooth transitions between chart types\n- Percentage labels on pie segments\n- Value labels on bar chart\n- Responsive sizing\n- Hover effects for interactivity",
  "dataRequirements": {
    "mode": "views",
    "description": "Receives drill-down data from parent component",
    "entities": [],
    "queries": []
  },
  "technicalDesign": "## Technical Design\n\n### Props\n- data: Array of items for selected period\n- activeTab: Current view (agents/prompts)\n- groupBy: Time grouping context\n\n### Chart Features\n- Aggregates data by agent/prompt\n- Calculates percentages\n- Sorts by total value\n- Groups small items into ''Others''",
  "properties": [
    {
      "name": "data",
      "type": "array",
      "required": true,
      "description": "Array of run items for distribution analysis"
    },
    {
      "name": "activeTab",
      "type": "string",
      "required": true,
      "description": "Current tab: agents or prompts"
    },
    {
      "name": "groupBy",
      "type": "string",
      "required": false,
      "description": "Time grouping context"
    }
  ],
  "events": [],
  "exampleUsage": "<AIDistributionChart data={selectedPoint.items} activeTab=\"agents\" />",
  "code": "function AIDistributionChart({ data, activeTab, groupBy, styles, utilities, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AIDistributionChart] Rendering with'', data?.length || 0, ''items'');\n  \n  const [chartType, setChartType] = useState(savedUserSettings?.chartType || ''pie'');\n  const [metric, setMetric] = useState(savedUserSettings?.metric || ''cost'');\n  \n  // Aggregate data by agent or prompt\n  const aggregatedData = useMemo(() => {\n    if (!data || data.length === 0) return [];\n    \n    const grouped = {};\n    const groupField = activeTab === ''agents'' ? ''Agent'' : ''Prompt'';\n    const idField = activeTab === ''agents'' ? ''AgentID'' : ''PromptID'';\n    \n    data.forEach(item => {\n      const key = item[groupField] || item[idField] || ''Unknown'';\n      if (!grouped[key]) {\n        grouped[key] = {\n          name: key,\n          runs: 0,\n          tokens: 0,\n          cost: 0\n        };\n      }\n      grouped[key].runs++;\n      grouped[key].tokens += (item.TotalTokensUsed || item.TokensUsed || 0);\n      grouped[key].cost += (item.TotalCost || 0);\n    });\n    \n    // Sort by selected metric and take top 10\n    const sorted = Object.values(grouped)\n      .sort((a, b) => b[metric] - a[metric])\n      .slice(0, 10);\n    \n    // Calculate total for percentages\n    const total = sorted.reduce((sum, item) => sum + item[metric], 0);\n    \n    return sorted.map(item => ({\n      ...item,\n      percentage: total > 0 ? (item[metric] / total) * 100 : 0\n    }));\n  }, [data, activeTab, metric]);\n  \n  // Color palette\n  const colors = [\n    ''#3b82f6'', ''#10b981'', ''#f59e0b'', ''#ef4444'', ''#8b5cf6'',\n    ''#ec4899'', ''#14b8a6'', ''#f97316'', ''#06b6d4'', ''#84cc16''\n  ];\n  \n  const handleChartTypeChange = (type) => {\n    setChartType(type);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      chartType: type\n    });\n  };\n  \n  const handleMetricChange = (newMetric) => {\n    setMetric(newMetric);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      metric: newMetric\n    });\n  };\n  \n  const formatValue = (value) => {\n    if (metric === ''cost'') {\n      return `$$' + '{value.toFixed(2)}`;\n    } else if (metric === ''tokens'') {\n      return value >= 1000000 ? `$' + '{(value / 1000000).toFixed(1)}M` : value >= 1000 ? `$' + '{(value / 1000).toFixed(1)}K` : value.toString();\n    }\n    return value.toString();\n  };\n  \n  // Calculate pie chart segments\n  const calculatePieSegments = () => {\n    let startAngle = -90; // Start from top\n    return aggregatedData.map((item, index) => {\n      const angle = (item.percentage / 100) * 360;\n      const segment = {\n        ...item,\n        startAngle,\n        endAngle: startAngle + angle,\n        color: colors[index % colors.length]\n      };\n      startAngle += angle;\n      return segment;\n    });\n  };\n  \n  const pieSegments = chartType === ''pie'' ? calculatePieSegments() : [];\n  \n  // Create pie slice path\n  const createPieSlice = (startAngle, endAngle, outerRadius, innerRadius = 0) => {\n    const startAngleRad = (startAngle * Math.PI) / 180;\n    const endAngleRad = (endAngle * Math.PI) / 180;\n    \n    const x1 = Math.cos(startAngleRad) * outerRadius;\n    const y1 = Math.sin(startAngleRad) * outerRadius;\n    const x2 = Math.cos(endAngleRad) * outerRadius;\n    const y2 = Math.sin(endAngleRad) * outerRadius;\n    \n    const largeArc = endAngle - startAngle > 180 ? 1 : 0;\n    \n    if (innerRadius > 0) {\n      const ix1 = Math.cos(startAngleRad) * innerRadius;\n      const iy1 = Math.sin(startAngleRad) * innerRadius;\n      const ix2 = Math.cos(endAngleRad) * innerRadius;\n      const iy2 = Math.sin(endAngleRad) * innerRadius;\n      \n      return `M $' + '{ix1} $' + '{iy1} L $' + '{x1} $' + '{y1} A $' + '{outerRadius} $' + '{outerRadius} 0 $' + '{largeArc} 1 $' + '{x2} $' + '{y2} L $' + '{ix2} $' + '{iy2} A $' + '{innerRadius} $' + '{innerRadius} 0 $' + '{largeArc} 0 $' + '{ix1} $' + '{iy1}`;\n    }\n    \n    return `M 0 0 L $' + '{x1} $' + '{y1} A $' + '{outerRadius} $' + '{outerRadius} 0 $' + '{largeArc} 1 $' + '{x2} $' + '{y2} Z`;\n  };\n  \n  return (\n    <div style={{\n      width: ''100%'',\n      height: ''100%'',\n      backgroundColor: styles.colors.surface,\n      borderRadius: styles.borders?.radius || ''4px'',\n      padding: styles.spacing.md,\n      display: ''flex'',\n      flexDirection: ''column''\n    }}>\n      {/* Header */}\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center'',\n        marginBottom: styles.spacing.md\n      }}>\n        <h3 style={{\n          margin: 0,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.lg\n        }}>\n          Distribution by {activeTab === ''agents'' ? ''Agent'' : ''Prompt''}\n        </h3>\n        \n        {/* Controls */}\n        <div style={{ display: ''flex'', gap: styles.spacing.sm }}>\n          {/* Metric Selector */}\n          <select\n            value={metric}\n            onChange={(e) => handleMetricChange(e.target.value)}\n            style={{\n              padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n              border: `1px solid $' + '{styles.colors.border}`,\n              borderRadius: styles.borders?.radius || ''4px'',\n              backgroundColor: styles.colors.background,\n              color: styles.colors.text,\n              fontSize: styles.typography.fontSize.sm\n            }}\n          >\n            <option value=\"cost\">Cost</option>\n            <option value=\"tokens\">Tokens</option>\n            <option value=\"runs\">Runs</option>\n          </select>\n          \n          {/* Chart Type Toggle */}\n          <div style={{\n            display: ''flex'',\n            backgroundColor: styles.colors.background,\n            borderRadius: styles.borders?.radius || ''4px'',\n            border: `1px solid $' + '{styles.colors.border}`\n          }}>\n            <button\n              onClick={() => handleChartTypeChange(''pie'')}\n              style={{\n                padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n                backgroundColor: chartType === ''pie'' ? styles.colors.primary : ''transparent'',\n                color: chartType === ''pie'' ? ''white'' : styles.colors.text,\n                border: ''none'',\n                borderRadius: styles.borders?.radius || ''4px'',\n                cursor: ''pointer''\n              }}\n            >\n              Pie\n            </button>\n            <button\n              onClick={() => handleChartTypeChange(''bar'')}\n              style={{\n                padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n                backgroundColor: chartType === ''bar'' ? styles.colors.primary : ''transparent'',\n                color: chartType === ''bar'' ? ''white'' : styles.colors.text,\n                border: ''none'',\n                borderRadius: styles.borders?.radius || ''4px'',\n                cursor: ''pointer''\n              }}\n            >\n              Bar\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      {/* Chart */}\n      <div style={{ flex: 1, display: ''flex'', alignItems: ''center'', justifyContent: ''center'' }}>\n        {aggregatedData.length === 0 ? (\n          <div style={{ color: styles.colors.textSecondary }}>\n            No data available\n          </div>\n        ) : chartType === ''pie'' ? (\n          /* Pie Chart */\n          <svg viewBox=\"-150 -150 300 300\" style={{ maxWidth: ''300px'', maxHeight: ''300px'' }}>\n            {pieSegments.map((segment, index) => (\n              <g key={index}>\n                <path\n                  d={createPieSlice(segment.startAngle, segment.endAngle, 100, 50)}\n                  fill={segment.color}\n                  stroke=\"white\"\n                  strokeWidth=\"2\"\n                  opacity=\"0.9\"\n                  style={{ cursor: ''pointer'' }}\n                >\n                  <title>{segment.name}: {formatValue(segment[metric])} ({segment.percentage.toFixed(1)}%)</title>\n                </path>\n                {/* Label for large segments */}\n                {segment.percentage > 5 && (\n                  <text\n                    x={Math.cos(((segment.startAngle + segment.endAngle) / 2) * Math.PI / 180) * 75}\n                    y={Math.sin(((segment.startAngle + segment.endAngle) / 2) * Math.PI / 180) * 75}\n                    textAnchor=\"middle\"\n                    fill=\"white\"\n                    fontSize=\"12\"\n                    fontWeight=\"bold\"\n                  >\n                    {segment.percentage.toFixed(0)}%\n                  </text>\n                )}\n              </g>\n            ))}\n          </svg>\n        ) : (\n          /* Bar Chart */\n          <div style={{\n            width: ''100%'',\n            maxWidth: ''400px'',\n            display: ''flex'',\n            flexDirection: ''column'',\n            gap: styles.spacing.xs\n          }}>\n            {aggregatedData.map((item, index) => {\n              const maxValue = Math.max(...aggregatedData.map(d => d[metric]));\n              const width = (item[metric] / maxValue) * 100;\n              \n              return (\n                <div key={index} style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.sm }}>\n                  <div style={{\n                    width: ''120px'',\n                    fontSize: styles.typography.fontSize.sm,\n                    color: styles.colors.text,\n                    overflow: ''hidden'',\n                    textOverflow: ''ellipsis'',\n                    whiteSpace: ''nowrap''\n                  }}>\n                    {item.name}\n                  </div>\n                  <div style={{\n                    flex: 1,\n                    height: ''24px'',\n                    backgroundColor: styles.colors.background,\n                    borderRadius: styles.borders?.radius || ''4px'',\n                    position: ''relative'',\n                    overflow: ''hidden''\n                  }}>\n                    <div style={{\n                      width: `$' + '{width}%`,\n                      height: ''100%'',\n                      backgroundColor: colors[index % colors.length],\n                      transition: ''width 0.3s ease''\n                    }} />\n                    <div style={{\n                      position: ''absolute'',\n                      right: styles.spacing.sm,\n                      top: ''50%'',\n                      transform: ''translateY(-50%)'',\n                      fontSize: styles.typography.fontSize.xs,\n                      color: width > 50 ? ''white'' : styles.colors.text,\n                      fontWeight: ''500''\n                    }}>\n                      {formatValue(item[metric])}\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n      \n      {/* Legend */}\n      {chartType === ''pie'' && aggregatedData.length > 0 && (\n        <div style={{\n          display: ''flex'',\n          flexWrap: ''wrap'',\n          gap: styles.spacing.sm,\n          justifyContent: ''center'',\n          marginTop: styles.spacing.md\n        }}>\n          {aggregatedData.slice(0, 5).map((item, index) => (\n            <div key={index} style={{\n              display: ''flex'',\n              alignItems: ''center'',\n              gap: styles.spacing.xs\n            }}>\n              <div style={{\n                width: ''12px'',\n                height: ''12px'',\n                backgroundColor: colors[index % colors.length],\n                borderRadius: ''2px''\n              }} />\n              <span style={{\n                fontSize: styles.typography.fontSize.xs,\n                color: styles.colors.text,\n                maxWidth: ''100px'',\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                whiteSpace: ''nowrap''\n              }}>\n                {item.name}\n              </span>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}",
  "dependencies": [],
  "libraries": []
}'
SET
  @FunctionalRequirements_68247dfa = N'Display distribution breakdown for selected time period. Toggle between pie chart and bar chart views. Show top 10 items with ''Others'' grouping. Display runs, tokens, and cost metrics. Interactive tooltips with detailed values. Color-coded segments with legend.'
SET
  @TechnicalDesign_68247dfa = N'Aggregates data by agent/prompt. Calculates percentages. Sorts by total value. Groups small items into ''Others'' category. Smooth transitions between chart types.'
SET
  @HasCustomProps_68247dfa = 1
SET
  @HasCustomEvents_68247dfa = 0
SET
  @RequiresData_68247dfa = 1
SET
  @DependencyCount_68247dfa = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_68247dfa,
  @Namespace = @Namespace_68247dfa,
  @Name = @Name_68247dfa,
  @Version = @Version_68247dfa,
  @VersionSequence = @VersionSequence_68247dfa,
  @Title = @Title_68247dfa,
  @Description = @Description_68247dfa,
  @Type = @Type_68247dfa,
  @Status = @Status_68247dfa,
  @DeveloperName = @DeveloperName_68247dfa,
  @DeveloperEmail = @DeveloperEmail_68247dfa,
  @DeveloperOrganization = @DeveloperOrganization_68247dfa,
  @SourceRegistryID = @SourceRegistryID_68247dfa,
  @ReplicatedAt = @ReplicatedAt_68247dfa,
  @LastSyncedAt = @LastSyncedAt_68247dfa,
  @Specification = @Specification_68247dfa,
  @FunctionalRequirements = @FunctionalRequirements_68247dfa,
  @TechnicalDesign = @TechnicalDesign_68247dfa,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_68247dfa,
  @TechnicalDesignVector = @TechnicalDesignVector_68247dfa,
  @HasCustomProps = @HasCustomProps_68247dfa,
  @HasCustomEvents = @HasCustomEvents_68247dfa,
  @RequiresData = @RequiresData_68247dfa,
  @DependencyCount = @DependencyCount_68247dfa;

-- Save MJ: Components (core SP call only)
DECLARE @ID_a11d772a UNIQUEIDENTIFIER,
@Namespace_a11d772a NVARCHAR(MAX),
@Name_a11d772a NVARCHAR(500),
@Version_a11d772a NVARCHAR(50),
@VersionSequence_a11d772a INT,
@Title_a11d772a NVARCHAR(1000),
@Description_a11d772a NVARCHAR(MAX),
@Type_a11d772a NVARCHAR(255),
@Status_a11d772a NVARCHAR(50),
@DeveloperName_a11d772a NVARCHAR(255),
@DeveloperEmail_a11d772a NVARCHAR(255),
@DeveloperOrganization_a11d772a NVARCHAR(255),
@SourceRegistryID_a11d772a UNIQUEIDENTIFIER,
@ReplicatedAt_a11d772a DATETIMEOFFSET,
@LastSyncedAt_a11d772a DATETIMEOFFSET,
@Specification_a11d772a NVARCHAR(MAX),
@FunctionalRequirements_a11d772a NVARCHAR(MAX),
@TechnicalDesign_a11d772a NVARCHAR(MAX),
@FunctionalRequirementsVector_a11d772a NVARCHAR(MAX),
@TechnicalDesignVector_a11d772a NVARCHAR(MAX),
@HasCustomProps_a11d772a BIT,
@HasCustomEvents_a11d772a BIT,
@RequiresData_a11d772a BIT,
@DependencyCount_a11d772a INT
SET
  @ID_a11d772a = 'd1420ccb-4502-47d5-b18c-4e268c18d659'
SET
  @Namespace_a11d772a = N'AI/Analytics/Performance'
SET
  @Name_a11d772a = N'AIDetailTable'
SET
  @Version_a11d772a = N'1.0.0'
SET
  @VersionSequence_a11d772a = 1
SET
  @Title_a11d772a = N'AI Detail Table'
SET
  @Description_a11d772a = N'Detailed table view showing individual runs for drill-down analysis with sorting and filtering'
SET
  @Type_a11d772a = N'Table'
SET
  @Status_a11d772a = N'Published'
SET
  @Specification_a11d772a = N'{
  "name": "AIDetailTable",
  "location": "embedded",
  "title": "AI Detail Table",
  "description": "Detailed table view showing individual runs for drill-down analysis with sorting and filtering",
  "type": "table",
  "functionalRequirements": "## Detail Table Requirements\n\n### Core Functionality\n- Display individual run records in a sortable table\n- Show key fields: timestamp, name, success status, tokens, cost, execution time\n- Color-coded success/failure indicators\n- Sortable columns with visual indicators\n- Paginated results for large datasets\n- Export to CSV functionality\n- Expandable rows for additional details\n\n### Table Features\n- Responsive column widths\n- Hover row highlighting\n- Sticky header during scroll\n- Loading state for data updates\n- Empty state message",
  "dataRequirements": {
    "mode": "views",
    "description": "Receives detailed run data from parent component",
    "entities": [],
    "queries": []
  },
  "technicalDesign": "## Technical Design\n\n### Props\n- data: Array of run records\n- activeTab: Current view context (agents/prompts)\n\n### Table Management\n- Client-side sorting\n- Pagination with 25 rows per page\n- Column sorting state management\n- Row expansion for details",
  "properties": [
    {
      "name": "data",
      "type": "array",
      "required": true,
      "description": "Array of run records to display"
    },
    {
      "name": "activeTab",
      "type": "string",
      "required": true,
      "description": "Current tab: agents or prompts"
    }
  ],
  "events": [],
  "exampleUsage": "<AIDetailTable data={selectedPoint.items} activeTab=\"agents\" />",
  "code": "function AIDetailTable({ data, activeTab, styles, utilities, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AIDetailTable] Rendering with'', data?.length || 0, ''items'');\n  \n  const [sortField, setSortField] = useState(savedUserSettings?.sortField || ''timestamp'');\n  const [sortDirection, setSortDirection] = useState(savedUserSettings?.sortDirection || ''desc'');\n  const [currentPage, setCurrentPage] = useState(0);\n  const [expandedRows, setExpandedRows] = useState(new Set());\n  \n  const rowsPerPage = 25;\n  \n  // Get the correct timestamp field\n  const timestampField = activeTab === ''agents'' ? ''StartedAt'' : ''RunAt'';\n  const nameField = activeTab === ''agents'' ? ''Agent'' : ''Prompt'';\n  const idField = activeTab === ''agents'' ? ''AgentID'' : ''PromptID'';\n  \n  // Sort data\n  const sortedData = useMemo(() => {\n    if (!data || data.length === 0) return [];\n    \n    const sorted = [...data].sort((a, b) => {\n      let aVal = a[sortField];\n      let bVal = b[sortField];\n      \n      // Handle null/undefined\n      if (aVal == null) return sortDirection === ''asc'' ? 1 : -1;\n      if (bVal == null) return sortDirection === ''asc'' ? -1 : 1;\n      \n      // Compare values\n      if (typeof aVal === ''string'') {\n        aVal = aVal.toLowerCase();\n        bVal = bVal.toLowerCase();\n      }\n      \n      if (aVal < bVal) return sortDirection === ''asc'' ? -1 : 1;\n      if (aVal > bVal) return sortDirection === ''asc'' ? 1 : -1;\n      return 0;\n    });\n    \n    return sorted;\n  }, [data, sortField, sortDirection]);\n  \n  // Paginate data\n  const paginatedData = useMemo(() => {\n    const start = currentPage * rowsPerPage;\n    const end = start + rowsPerPage;\n    return sortedData.slice(start, end);\n  }, [sortedData, currentPage, rowsPerPage]);\n  \n  const totalPages = Math.ceil(sortedData.length / rowsPerPage);\n  \n  const handleSort = (field) => {\n    if (sortField === field) {\n      const newDirection = sortDirection === ''asc'' ? ''desc'' : ''asc'';\n      setSortDirection(newDirection);\n      onSaveUserSettings?.({\n        ...savedUserSettings,\n        sortField: field,\n        sortDirection: newDirection\n      });\n    } else {\n      setSortField(field);\n      setSortDirection(''asc'');\n      onSaveUserSettings?.({\n        ...savedUserSettings,\n        sortField: field,\n        sortDirection: ''asc''\n      });\n    }\n    setCurrentPage(0);\n  };\n  \n  const toggleRowExpansion = (id) => {\n    const newExpanded = new Set(expandedRows);\n    if (newExpanded.has(id)) {\n      newExpanded.delete(id);\n    } else {\n      newExpanded.add(id);\n    }\n    setExpandedRows(newExpanded);\n  };\n  \n  const formatTimestamp = (timestamp) => {\n    if (!timestamp) return ''-'';\n    const date = new Date(timestamp);\n    return date.toLocaleString(''en-US'', {\n      month: ''short'',\n      day: ''numeric'',\n      hour: ''2-digit'',\n      minute: ''2-digit''\n    });\n  };\n  \n  const formatDuration = (ms) => {\n    if (!ms) return ''-'';\n    if (ms < 1000) return `$' + '{ms}ms`;\n    if (ms < 60000) return `$' + '{(ms / 1000).toFixed(1)}s`;\n    return `$' + '{(ms / 60000).toFixed(1)}m`;\n  };\n  \n  const exportToCSV = () => {\n    console.log(''[AIDetailTable] Exporting to CSV'');\n    \n    const headers = [\n      ''Timestamp'',\n      activeTab === ''agents'' ? ''Agent'' : ''Prompt'',\n      ''Success'',\n      ''Tokens'',\n      ''Cost''\n    ];\n    \n    // Add Duration header only for prompts\n    if (activeTab === ''prompts'') {\n      headers.push(''Duration'');\n    }\n    \n    const rows = sortedData.map(item => {\n      const row = [\n        item[timestampField],\n        item[nameField] || item[idField],\n        item.Success ? ''Yes'' : ''No'',\n        (item.TotalTokensUsed || item.TokensUsed) || 0,\n        item.TotalCost || 0\n      ];\n      \n      // Add Duration value only for prompts\n      if (activeTab === ''prompts'') {\n        row.push(item.ExecutionTimeMS || 0);\n      }\n      \n      return row;\n    });\n    \n    const csv = [\n      headers.join('',''),\n      ...rows.map(row => row.join('',''))\n    ].join(''\\n'');\n    \n    const blob = new Blob([csv], { type: ''text/csv'' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(''a'');\n    a.href = url;\n    a.download = `ai-$' + '{activeTab}-details-$' + '{new Date().toISOString().split(''T'')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  \n  const columns = [\n    { field: timestampField, label: ''Timestamp'', width: ''150px'' },\n    { field: nameField, label: activeTab === ''agents'' ? ''Agent'' : ''Prompt'', width: ''auto'' },\n    { field: ''Success'', label: ''Status'', width: ''80px'' },\n    { field: ''TotalTokens'', label: ''Tokens'', width: ''100px'' },\n    { field: ''TotalCost'', label: ''Cost'', width: ''100px'' }\n  ];\n  \n  // Add Duration column only for Prompt Runs (Agent Runs don''t have ExecutionTimeMS)\n  if (activeTab === ''prompts'') {\n    columns.push({ field: ''ExecutionTimeMS'', label: ''Duration'', width: ''100px'' });\n  }\n  \n  return (\n    <div style={{\n      width: ''100%'',\n      height: ''100%'',\n      backgroundColor: styles.colors.surface,\n      borderRadius: styles.borders?.radius || ''4px'',\n      display: ''flex'',\n      flexDirection: ''column''\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: styles.spacing.md,\n        borderBottom: `1px solid $' + '{styles.colors.border}`,\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center''\n      }}>\n        <h3 style={{\n          margin: 0,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.lg\n        }}>\n          Detailed Records ({sortedData.length})\n        </h3>\n        \n        <button\n          onClick={exportToCSV}\n          style={{\n            padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n            backgroundColor: styles.colors.primary,\n            color: ''white'',\n            border: ''none'',\n            borderRadius: styles.borders?.radius || ''4px'',\n            cursor: ''pointer'',\n            fontSize: styles.typography.fontSize.sm\n          }}\n        >\n          Export CSV\n        </button>\n      </div>\n      \n      {/* Table */}\n      <div style={{ flex: 1, overflow: ''auto'' }}>\n        {paginatedData.length === 0 ? (\n          <div style={{\n            padding: styles.spacing.xl,\n            textAlign: ''center'',\n            color: styles.colors.textSecondary\n          }}>\n            No records to display\n          </div>\n        ) : (\n          <table style={{\n            width: ''100%'',\n            borderCollapse: ''collapse''\n          }}>\n            <thead style={{\n              position: ''sticky'',\n              top: 0,\n              backgroundColor: styles.colors.surface,\n              borderBottom: `2px solid $' + '{styles.colors.border}`\n            }}>\n              <tr>\n                <th style={{ width: ''30px'', padding: styles.spacing.sm }} />\n                {columns.map(col => (\n                  <th\n                    key={col.field}\n                    onClick={() => handleSort(col.field)}\n                    style={{\n                      padding: styles.spacing.sm,\n                      textAlign: ''left'',\n                      color: styles.colors.text,\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: ''600'',\n                      cursor: ''pointer'',\n                      userSelect: ''none'',\n                      width: col.width\n                    }}\n                  >\n                    <div style={{\n                      display: ''flex'',\n                      alignItems: ''center'',\n                      gap: styles.spacing.xs\n                    }}>\n                      {col.label}\n                      {sortField === col.field && (\n                        <span style={{ fontSize: ''10px'' }}>\n                          {sortDirection === ''asc'' ? ''▲'' : ''▼''}\n                        </span>\n                      )}\n                    </div>\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {paginatedData.map((row, index) => {\n                const isExpanded = expandedRows.has(row.ID);\n                return (\n                  <React.Fragment key={row.ID || index}>\n                    <tr style={{\n                      borderBottom: `1px solid $' + '{styles.colors.border}`,\n                      transition: ''background-color 0.2s'',\n                      backgroundColor: index % 2 === 0 ? ''transparent'' : styles.colors.background\n                    }}>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        textAlign: ''center''\n                      }}>\n                        <button\n                          onClick={() => toggleRowExpansion(row.ID)}\n                          style={{\n                            background: ''none'',\n                            border: ''none'',\n                            cursor: ''pointer'',\n                            color: styles.colors.textSecondary,\n                            padding: 0,\n                            fontSize: ''12px''\n                          }}\n                        >\n                          {isExpanded ? ''▼'' : ''▶''}\n                        </button>\n                      </td>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        fontSize: styles.typography.fontSize.sm,\n                        color: styles.colors.text\n                      }}>\n                        {formatTimestamp(row[timestampField])}\n                      </td>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        fontSize: styles.typography.fontSize.sm,\n                        color: styles.colors.text,\n                        overflow: ''hidden'',\n                        textOverflow: ''ellipsis'',\n                        whiteSpace: ''nowrap'',\n                        maxWidth: ''200px''\n                      }}>\n                        {row[nameField] || row[idField] || ''-''}\n                      </td>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        fontSize: styles.typography.fontSize.sm\n                      }}>\n                        <span style={{\n                          display: ''inline-block'',\n                          padding: `2px 8px`,\n                          borderRadius: ''12px'',\n                          backgroundColor: row.Success ? styles.colors.success + ''20'' : styles.colors.error + ''20'',\n                          color: row.Success ? styles.colors.success : styles.colors.error,\n                          fontSize: ''11px'',\n                          fontWeight: ''600''\n                        }}>\n                          {row.Success ? ''Success'' : ''Failed''}\n                        </span>\n                      </td>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        fontSize: styles.typography.fontSize.sm,\n                        color: styles.colors.text,\n                        textAlign: ''right''\n                      }}>\n                        {(row.TotalTokensUsed || row.TokensUsed) ? (row.TotalTokensUsed || row.TokensUsed).toLocaleString() : ''-''}\n                      </td>\n                      <td style={{\n                        padding: styles.spacing.sm,\n                        fontSize: styles.typography.fontSize.sm,\n                        color: styles.colors.text,\n                        textAlign: ''right''\n                      }}>\n                        {row.TotalCost ? `$$' + '{row.TotalCost.toFixed(4)}` : ''-''}\n                      </td>\n                      {activeTab === ''prompts'' && (\n                        <td style={{\n                          padding: styles.spacing.sm,\n                          fontSize: styles.typography.fontSize.sm,\n                          color: styles.colors.text,\n                          textAlign: ''right''\n                        }}>\n                          {formatDuration(row.ExecutionTimeMS)}\n                        </td>\n                      )}\n                    </tr>\n                    {isExpanded && (\n                      <tr>\n                        <td colSpan={columns.length + 1} style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.background,\n                          borderBottom: `1px solid $' + '{styles.colors.border}`\n                        }}>\n                          <div style={{\n                            display: ''grid'',\n                            gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'',\n                            gap: styles.spacing.md,\n                            fontSize: styles.typography.fontSize.sm\n                          }}>\n                            <div>\n                              <strong style={{ color: styles.colors.textSecondary }}>ID:</strong>\n                              <div style={{ color: styles.colors.text, fontFamily: ''monospace'' }}>\n                                {row.ID}\n                              </div>\n                            </div>\n                            {row.ErrorMessage && (\n                              <div style={{ gridColumn: ''1 / -1'' }}>\n                                <strong style={{ color: styles.colors.textSecondary }}>Error:</strong>\n                                <div style={{ color: styles.colors.error }}>\n                                  {row.ErrorMessage}\n                                </div>\n                              </div>\n                            )}\n                            {row.Model && (\n                              <div>\n                                <strong style={{ color: styles.colors.textSecondary }}>Model:</strong>\n                                <div style={{ color: styles.colors.text }}>\n                                  {row.Model}\n                                </div>\n                              </div>\n                            )}\n                            {row.CompletedAt && (\n                              <div>\n                                <strong style={{ color: styles.colors.textSecondary }}>Completed:</strong>\n                                <div style={{ color: styles.colors.text }}>\n                                  {formatTimestamp(row.CompletedAt)}\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    )}\n                  </React.Fragment>\n                );\n              })}\n            </tbody>\n          </table>\n        )}\n      </div>\n      \n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div style={{\n          padding: styles.spacing.md,\n          borderTop: `1px solid $' + '{styles.colors.border}`,\n          display: ''flex'',\n          justifyContent: ''center'',\n          alignItems: ''center'',\n          gap: styles.spacing.sm\n        }}>\n          <button\n            onClick={() => setCurrentPage(Math.max(0, currentPage - 1))}\n            disabled={currentPage === 0}\n            style={{\n              padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n              backgroundColor: currentPage === 0 ? styles.colors.background : styles.colors.primary,\n              color: currentPage === 0 ? styles.colors.textSecondary : ''white'',\n              border: `1px solid $' + '{styles.colors.border}`,\n              borderRadius: styles.borders?.radius || ''4px'',\n              cursor: currentPage === 0 ? ''not-allowed'' : ''pointer'',\n              fontSize: styles.typography.fontSize.sm\n            }}\n          >\n            Previous\n          </button>\n          \n          <span style={{\n            color: styles.colors.text,\n            fontSize: styles.typography.fontSize.sm\n          }}>\n            Page {currentPage + 1} of {totalPages}\n          </span>\n          \n          <button\n            onClick={() => setCurrentPage(Math.min(totalPages - 1, currentPage + 1))}\n            disabled={currentPage === totalPages - 1}\n            style={{\n              padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n              backgroundColor: currentPage === totalPages - 1 ? styles.colors.background : styles.colors.primary,\n              color: currentPage === totalPages - 1 ? styles.colors.textSecondary : ''white'',\n              border: `1px solid $' + '{styles.colors.border}`,\n              borderRadius: styles.borders?.radius || ''4px'',\n              cursor: currentPage === totalPages - 1 ? ''not-allowed'' : ''pointer'',\n              fontSize: styles.typography.fontSize.sm\n            }}\n          >\n            Next\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}",
  "dependencies": [],
  "libraries": []
}'
SET
  @FunctionalRequirements_a11d772a = N'Display individual run records in a sortable table. Show key fields: timestamp, name, success status, tokens, cost, execution time. Color-coded success/failure indicators. Sortable columns with visual indicators. Paginated results for large datasets. Export to CSV functionality. Expandable rows for additional details.'
SET
  @TechnicalDesign_a11d772a = N'Client-side sorting and pagination with 25 rows per page. Column sorting state management. Row expansion for details. CSV export functionality.'
SET
  @HasCustomProps_a11d772a = 1
SET
  @HasCustomEvents_a11d772a = 0
SET
  @RequiresData_a11d772a = 1
SET
  @DependencyCount_a11d772a = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_a11d772a,
  @Namespace = @Namespace_a11d772a,
  @Name = @Name_a11d772a,
  @Version = @Version_a11d772a,
  @VersionSequence = @VersionSequence_a11d772a,
  @Title = @Title_a11d772a,
  @Description = @Description_a11d772a,
  @Type = @Type_a11d772a,
  @Status = @Status_a11d772a,
  @DeveloperName = @DeveloperName_a11d772a,
  @DeveloperEmail = @DeveloperEmail_a11d772a,
  @DeveloperOrganization = @DeveloperOrganization_a11d772a,
  @SourceRegistryID = @SourceRegistryID_a11d772a,
  @ReplicatedAt = @ReplicatedAt_a11d772a,
  @LastSyncedAt = @LastSyncedAt_a11d772a,
  @Specification = @Specification_a11d772a,
  @FunctionalRequirements = @FunctionalRequirements_a11d772a,
  @TechnicalDesign = @TechnicalDesign_a11d772a,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_a11d772a,
  @TechnicalDesignVector = @TechnicalDesignVector_a11d772a,
  @HasCustomProps = @HasCustomProps_a11d772a,
  @HasCustomEvents = @HasCustomEvents_a11d772a,
  @RequiresData = @RequiresData_a11d772a,
  @DependencyCount = @DependencyCount_a11d772a;

-- Save MJ: Components (core SP call only)
DECLARE @ID_28de83f1 UNIQUEIDENTIFIER,
@Namespace_28de83f1 NVARCHAR(MAX),
@Name_28de83f1 NVARCHAR(500),
@Version_28de83f1 NVARCHAR(50),
@VersionSequence_28de83f1 INT,
@Title_28de83f1 NVARCHAR(1000),
@Description_28de83f1 NVARCHAR(MAX),
@Type_28de83f1 NVARCHAR(255),
@Status_28de83f1 NVARCHAR(50),
@DeveloperName_28de83f1 NVARCHAR(255),
@DeveloperEmail_28de83f1 NVARCHAR(255),
@DeveloperOrganization_28de83f1 NVARCHAR(255),
@SourceRegistryID_28de83f1 UNIQUEIDENTIFIER,
@ReplicatedAt_28de83f1 DATETIMEOFFSET,
@LastSyncedAt_28de83f1 DATETIMEOFFSET,
@Specification_28de83f1 NVARCHAR(MAX),
@FunctionalRequirements_28de83f1 NVARCHAR(MAX),
@TechnicalDesign_28de83f1 NVARCHAR(MAX),
@FunctionalRequirementsVector_28de83f1 NVARCHAR(MAX),
@TechnicalDesignVector_28de83f1 NVARCHAR(MAX),
@HasCustomProps_28de83f1 BIT,
@HasCustomEvents_28de83f1 BIT,
@RequiresData_28de83f1 BIT,
@DependencyCount_28de83f1 INT
SET
  @ID_28de83f1 = '57548cb2-944c-443d-8345-0f2e5cd673d1'
SET
  @Namespace_28de83f1 = N'AI/Analytics/Performance'
SET
  @Name_28de83f1 = N'AIMetricsSummary'
SET
  @Version_28de83f1 = N'1.0.0'
SET
  @VersionSequence_28de83f1 = 1
SET
  @Title_28de83f1 = N'AI Metrics Summary'
SET
  @Description_28de83f1 = N'Summary cards displaying key performance metrics for the selected time period'
SET
  @Type_28de83f1 = N'Other'
SET
  @Status_28de83f1 = N'Published'
SET
  @Specification_28de83f1 = N'{
  "name": "AIMetricsSummary",
  "location": "embedded", 
  "title": "AI Metrics Summary",
  "description": "Summary cards displaying key performance metrics for the selected time period",
  "type": "other",
  "functionalRequirements": "## Metrics Summary Requirements\n\n### Core Functionality\n- Display key metrics in card format\n- Show total runs, tokens, and costs\n- Calculate averages per run\n- Display success rate percentage\n- Show trend indicators (up/down from previous period)\n- Responsive card layout\n\n### Visual Features\n- Color-coded metric cards\n- Icon indicators for each metric\n- Animated number transitions\n- Hover effects for additional info",
  "dataRequirements": {
    "mode": "views",
    "description": "Receives calculated metrics from parent component",
    "entities": [],
    "queries": []
  },
  "technicalDesign": "## Technical Design\n\n### Props\n- metrics: Object with calculated metric values\n\n### Card Layout\n- Responsive grid of metric cards\n- Each card shows metric name, value, and trend\n- Consistent styling with theme",
  "properties": [
    {
      "name": "metrics",
      "type": "object",
      "required": true,
      "description": "Calculated metrics object with totalRuns, totalTokens, totalCost, etc."
    }
  ],
  "events": [],
  "exampleUsage": "<AIMetricsSummary metrics={metrics} />",
  "code": "function AIMetricsSummary({ metrics, styles, utilities, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AIMetricsSummary] Rendering metrics:'', metrics);\n  \n  const formatNumber = (value) => {\n    if (value >= 1000000) {\n      return `$' + '{(value / 1000000).toFixed(2)}M`;\n    } else if (value >= 1000) {\n      return `$' + '{(value / 1000).toFixed(1)}K`;\n    }\n    return value.toLocaleString();\n  };\n  \n  const formatCurrency = (value) => {\n    if (value >= 1000) {\n      return `$$' + '{(value / 1000).toFixed(2)}K`;\n    }\n    return `$$' + '{value.toFixed(2)}`;\n  };\n  \n  const metricCards = [\n    {\n      label: ''Total Runs'',\n      value: formatNumber(metrics.totalRuns || 0),\n      color: styles.colors.primary,\n      icon: ''▶'',\n      description: ''Total execution count''\n    },\n    {\n      label: ''Total Tokens'',\n      value: formatNumber(metrics.totalTokens || 0),\n      color: styles.colors.success,\n      icon: ''◆'',\n      description: ''Tokens consumed''\n    },\n    {\n      label: ''Total Cost'',\n      value: formatCurrency(metrics.totalCost || 0),\n      color: styles.colors.warning,\n      icon: ''$'',\n      description: ''Total spend''\n    },\n    {\n      label: ''Avg Tokens/Run'',\n      value: formatNumber(metrics.avgTokensPerRun || 0),\n      color: styles.colors.info || styles.colors.primary,\n      icon: ''⊙'',\n      description: ''Average token usage''\n    },\n    {\n      label: ''Avg Cost/Run'',\n      value: formatCurrency(metrics.avgCostPerRun || 0),\n      color: styles.colors.secondary,\n      icon: ''¢'',\n      description: ''Average cost per execution''\n    }\n  ];\n  \n  return (\n    <div style={{\n      display: ''grid'',\n      gridTemplateColumns: ''repeat(auto-fit, minmax(150px, 1fr))'',\n      gap: styles.spacing.md,\n      marginBottom: styles.spacing.lg\n    }}>\n      {metricCards.map((card, index) => (\n        <div\n          key={index}\n          style={{\n            backgroundColor: styles.colors.surface,\n            borderRadius: styles.borders?.radius || ''4px'',\n            padding: styles.spacing.md,\n            borderLeft: `3px solid $' + '{card.color}`,\n            transition: ''transform 0.2s, box-shadow 0.2s'',\n            cursor: ''default'',\n            position: ''relative''\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.transform = ''translateY(-2px)'';\n            e.currentTarget.style.boxShadow = `0 4px 12px $' + '{styles.colors.border}40`;\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = ''translateY(0)'';\n            e.currentTarget.style.boxShadow = ''none'';\n          }}\n          title={card.description}\n        >\n          <div style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''space-between'',\n            marginBottom: styles.spacing.xs\n          }}>\n            <div style={{\n              fontSize: styles.typography.fontSize.xs,\n              color: styles.colors.textSecondary,\n              fontWeight: ''500''\n            }}>\n              {card.label}\n            </div>\n            <div style={{\n              fontSize: styles.typography.fontSize.lg,\n              color: card.color,\n              opacity: 0.3\n            }}>\n              {card.icon}\n            </div>\n          </div>\n          <div style={{\n            fontSize: styles.typography.fontSize.xl,\n            color: styles.colors.text,\n            fontWeight: ''700''\n          }}>\n            {card.value}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}",
  "dependencies": [],
  "libraries": []
}'
SET
  @FunctionalRequirements_28de83f1 = N'Display key metrics in card format. Show total runs, tokens, and costs. Calculate averages per run. Display success rate percentage. Show trend indicators. Responsive card layout.'
SET
  @TechnicalDesign_28de83f1 = N'Responsive grid of metric cards. Each card shows metric name, value, and icon. Consistent styling with theme. Hover effects for additional information.'
SET
  @HasCustomProps_28de83f1 = 1
SET
  @HasCustomEvents_28de83f1 = 0
SET
  @RequiresData_28de83f1 = 1
SET
  @DependencyCount_28de83f1 = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_28de83f1,
  @Namespace = @Namespace_28de83f1,
  @Name = @Name_28de83f1,
  @Version = @Version_28de83f1,
  @VersionSequence = @VersionSequence_28de83f1,
  @Title = @Title_28de83f1,
  @Description = @Description_28de83f1,
  @Type = @Type_28de83f1,
  @Status = @Status_28de83f1,
  @DeveloperName = @DeveloperName_28de83f1,
  @DeveloperEmail = @DeveloperEmail_28de83f1,
  @DeveloperOrganization = @DeveloperOrganization_28de83f1,
  @SourceRegistryID = @SourceRegistryID_28de83f1,
  @ReplicatedAt = @ReplicatedAt_28de83f1,
  @LastSyncedAt = @LastSyncedAt_28de83f1,
  @Specification = @Specification_28de83f1,
  @FunctionalRequirements = @FunctionalRequirements_28de83f1,
  @TechnicalDesign = @TechnicalDesign_28de83f1,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_28de83f1,
  @TechnicalDesignVector = @TechnicalDesignVector_28de83f1,
  @HasCustomProps = @HasCustomProps_28de83f1,
  @HasCustomEvents = @HasCustomEvents_28de83f1,
  @RequiresData = @RequiresData_28de83f1,
  @DependencyCount = @DependencyCount_28de83f1;


-- End of SQL Logging Session
-- Session ID: d4e7b38a-1f25-406e-8093-cf44f7a5dd32
-- Completed: 2025-08-15T16:45:19.296Z
-- Duration: 22748ms
-- Total Statements: 8

















-- Save MJ: Components (core SP call only)
DECLARE @Namespace_619ec45c NVARCHAR(MAX),
@Name_619ec45c NVARCHAR(500),
@Version_619ec45c NVARCHAR(50),
@VersionSequence_619ec45c INT,
@Title_619ec45c NVARCHAR(1000),
@Description_619ec45c NVARCHAR(MAX),
@Type_619ec45c NVARCHAR(255),
@Status_619ec45c NVARCHAR(50),
@DeveloperName_619ec45c NVARCHAR(255),
@DeveloperEmail_619ec45c NVARCHAR(255),
@DeveloperOrganization_619ec45c NVARCHAR(255),
@SourceRegistryID_619ec45c UNIQUEIDENTIFIER,
@ReplicatedAt_619ec45c DATETIMEOFFSET,
@LastSyncedAt_619ec45c DATETIMEOFFSET,
@Specification_619ec45c NVARCHAR(MAX),
@FunctionalRequirements_619ec45c NVARCHAR(MAX),
@TechnicalDesign_619ec45c NVARCHAR(MAX),
@FunctionalRequirementsVector_619ec45c NVARCHAR(MAX),
@TechnicalDesignVector_619ec45c NVARCHAR(MAX),
@HasCustomProps_619ec45c BIT,
@HasCustomEvents_619ec45c BIT,
@RequiresData_619ec45c BIT,
@DependencyCount_619ec45c INT,
@TechnicalDesignVectorEmbeddingModelID_619ec45c NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_619ec45c NVARCHAR(MAX),
@ID_619ec45c UNIQUEIDENTIFIER
SET
  @Namespace_619ec45c = N'Admin/Entities'
SET
  @Name_619ec45c = N'EntityBrowser'
SET
  @Version_619ec45c = N'1.0.0'
SET
  @VersionSequence_619ec45c = 1
SET
  @Title_619ec45c = N'Entity Browser'
SET
  @Description_619ec45c = N'A comprehensive multi-panel dashboard component for browsing and exploring entities in a data system. Features a three-panel layout with collapsible filters, main entity list (grid/card view), and sliding details panel.'
SET
  @Type_619ec45c = N'Dashboard'
SET
  @Status_619ec45c = N'Published'
SET
  @Specification_619ec45c = N'{
  "name": "EntityBrowser",
  "title": "Entity Browser",
  "description": "A comprehensive entity browser with multi-panel display showing entities in a grid or card view with a sliding details panel, collapsible filters, sorting, and entity record opening capability",
  "type": "dashboard",
  "functionalRequirements": "## Entity Browser Requirements\n\n### Core Functionality\n- Display entities in a responsive grid or card layout based on user preference\n- Allow users to select view mode (grid vs card)\n- Click on an entity to slide in a details panel from the right\n- Show entity metadata including fields and relationships in the details panel\n- Provide a collapsible filter panel on the left side\n- Support sorting by multiple fields with visual indicators\n- Include a search bar for quick entity filtering\n- Provide an ''Open'' button to trigger the OpenEntityRecord callback\n- Remember user''s last selected entity and view preferences\n\n### UX Considerations\n- Smooth animations for panel transitions\n- Responsive design that works on different screen sizes\n- Loading states while fetching data\n- Empty states with helpful messages\n- Keyboard navigation support (arrow keys, tab, enter)\n- Visual feedback for hover and selection states\n- Maintain scroll position when switching between entities",
  "dataRequirements": {
    "mode": "views",
    "entities": [
      {
        "name": "Entities",
        "description": "Metadata about all entities in the system",
        "displayFields": [
          "ID",
          "Name",
          "DisplayName",
          "NameSuffix",
          "Description",
          "SchemaName",
          "BaseTable",
          "BaseView"
        ],
        "filterFields": [
          "SchemaName",
          "BaseTable"
        ],
        "sortFields": [
          "Name",
          "DisplayName"
        ],
        "fieldMetadata": [
          {
            "name": "ID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": true,
            "description": "Unique identifier for the entity"
          },
          {
            "name": "Name",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "System name of the entity"
          },
          {
            "name": "DisplayName",
            "sequence": 3,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "User-friendly display name for the entity"
          },
          {
            "name": "NameSuffix",
            "sequence": 4,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Optional suffix appended to entity names for display purposes"
          },
          {
            "name": "Description",
            "sequence": 5,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Description of the entity"
          },
          {
            "name": "SchemaName",
            "sequence": 6,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Database schema name"
          },
          {
            "name": "BaseTable",
            "sequence": 7,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Base table in the database"
          },
          {
            "name": "BaseView",
            "sequence": 8,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Base view used for the entity"
          }
        ],
        "permissionLevelNeeded": [
          "read"
        ],
        "usageContext": "Main entity list display and filtering"
      },
      {
        "name": "Entity Fields",
        "description": "Fields belonging to each entity",
        "displayFields": [
          "Name",
          "DisplayName",
          "Type",
          "Length",
          "AllowsNull",
          "IsPrimaryKey",
          "IsUnique"
        ],
        "filterFields": [
          "EntityID"
        ],
        "sortFields": [
          "Sequence",
          "Name"
        ],
        "fieldMetadata": [
          {
            "name": "EntityID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Reference to parent entity"
          },
          {
            "name": "Name",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Field name"
          },
          {
            "name": "DisplayName",
            "sequence": 3,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "User-friendly field name"
          },
          {
            "name": "Type",
            "sequence": 4,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Data type of the field"
          },
          {
            "name": "Length",
            "sequence": 5,
            "defaultInView": true,
            "type": "int",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Maximum length for string fields"
          },
          {
            "name": "AllowsNull",
            "sequence": 6,
            "defaultInView": true,
            "type": "bit",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Whether field allows null values"
          },
          {
            "name": "IsPrimaryKey",
            "sequence": 7,
            "defaultInView": true,
            "type": "bit",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Whether field is part of primary key"
          },
          {
            "name": "IsUnique",
            "sequence": 8,
            "defaultInView": true,
            "type": "bit",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Whether field must be unique"
          },
          {
            "name": "Sequence",
            "sequence": 9,
            "defaultInView": false,
            "type": "int",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Display order of the field"
          }
        ],
        "permissionLevelNeeded": [
          "read"
        ],
        "usageContext": "Details panel to show entity fields"
      },
      {
        "name": "Entity Relationships",
        "description": "Relationships between entities",
        "displayFields": [
          "RelatedEntity",
          "Type",
          "DisplayName",
          "RelatedEntityJoinField"
        ],
        "filterFields": [
          "EntityID"
        ],
        "sortFields": [
          "Sequence",
          "RelatedEntity"
        ],
        "fieldMetadata": [
          {
            "name": "EntityID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Reference to parent entity"
          },
          {
            "name": "RelatedEntity",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "The related entity in the relationship"
          },
          {
            "name": "Type",
            "sequence": 3,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Type of relationship (One to Many, Many to One, etc.)"
          },
          {
            "name": "DisplayName",
            "sequence": 4,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "User-friendly name for the relationship"
          },
          {
            "name": "RelatedEntityJoinField",
            "sequence": 5,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "The field in the related entity that joins to this entity"
          },
          {
            "name": "Sequence",
            "sequence": 6,
            "defaultInView": false,
            "type": "int",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Display order"
          }
        ],
        "permissionLevelNeeded": [
          "read"
        ],
        "usageContext": "Details panel to show entity relationships"
      }
    ],
    "queries": [],
    "description": "This component requires access to entity metadata including entities, their fields, and relationships to provide a comprehensive entity browsing experience"
  },
  "technicalDesign": "## Technical Architecture\n\n### Component Structure\n- **Root Component (EntityBrowser)**: Manages overall layout and state coordination\n- **EntityList (Child)**: Displays entities in grid/card view with sorting\n- **EntityDetails (Child)**: Sliding panel showing entity fields and relationships\n- **EntityFilter (Child)**: Collapsible filter panel with dynamic filters\n\n### State Management\n- Selected entity ID (persisted in savedUserSettings)\n- View mode (grid/card) (persisted)\n- Active filters (persisted)\n- Sort configuration (persisted)\n- Panel visibility states (details open, filters collapsed)\n- Search query\n- Loading states for async operations\n\n### Layout\n```\n+------------------+------------------------+------------------+\n|                  |                        |                  |\n|   Filter Panel   |    Entity Grid/Cards   |  Details Panel   |\n|   (Collapsible)  |    (Main Content)      |    (Sliding)     |\n|                  |                        |                  |\n|  [Schema Filter] |  +-----+  +-----+      |  Entity: Orders  |\n|  [Table Filter]  |  | Card |  | Card |     |                  |\n|  [Search Box]    |  +-----+  +-----+      |  Fields:         |\n|                  |                        |  - ID            |\n|  Sort By:        |  +-----+  +-----+      |  - CustomerID    |\n|  [Name \u2193]        |  | Card |  | Card |     |  - OrderDate     |\n|                  |  +-----+  +-----+      |                  |\n|                  |                        |  Relationships:  |\n|                  |                        |  \u2192 Customers     |\n|                  |                        |  \u2192 OrderItems    |\n|                  |                        |                  |\n|                  |                        |  [Open Record]   |\n+------------------+------------------------+------------------+\n```\n\n### Data Flow\n1. Root component loads entities on mount\n2. Passes entity data to EntityList\n3. EntityList handles selection and passes selectedId up\n4. Root loads fields/relationships for selected entity\n5. Passes detailed data to EntityDetails\n6. Filter changes trigger data reload\n7. All user preferences saved via onSaveUserSettings\n\n### Interaction Patterns\n- Click entity card \u2192 Select and open details\n- Click filter \u2192 Apply and reload data\n- Click sort \u2192 Update sort and reload\n- Click ''Open'' \u2192 Trigger OpenEntityRecord callback\n- Press Escape \u2192 Close details panel\n- Click outside \u2192 Close details panel",
  "properties": [],
  "events": [],
  "exampleUsage": "<EntityBrowser\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>",
  "dependencies": [
    {
      "name": "EntityList",
      "title": "Entity List",
      "description": "Displays entities in a grid or card layout with sorting capabilities",
      "type": "table",
      "functionalRequirements": "## Entity List Requirements\n\n- Display entities in grid or card view based on viewMode prop\n- Support sorting by multiple fields\n- Handle entity selection and notify parent\n- Show loading state while data loads\n- Display record count badges\n- Highlight selected entity\n- Support keyboard navigation",
      "dataRequirements": null,
      "technicalDesign": "## Technical Design\n\n### Props\n- entities: Array of entity objects\n- viewMode: ''grid'' | ''card''\n- selectedEntityId: Currently selected entity\n- onSelectEntity: Callback when entity selected\n- sortBy: Current sort field\n- sortDirection: ''asc'' | ''desc''\n- onSortChange: Callback for sort changes\n\n### Rendering\n- Grid mode: Compact table with columns\n- Card mode: Cards with entity info\n- Sort indicators in headers\n- Selection highlighting",
      "properties": [
        {
          "name": "entities",
          "description": "Array of entity objects to display",
          "type": "array",
          "required": true
        },
        {
          "name": "viewMode",
          "description": "Display mode - grid or card view",
          "type": "string",
          "required": true,
          "possibleValues": [
            "grid",
            "card"
          ]
        },
        {
          "name": "selectedEntityId",
          "description": "ID of the currently selected entity",
          "type": "string",
          "required": false
        },
        {
          "name": "onSelectEntity",
          "description": "Callback when an entity is selected",
          "type": "function",
          "required": true
        },
        {
          "name": "sortBy",
          "description": "Field to sort by",
          "type": "string",
          "required": false,
          "defaultValue": "Name"
        },
        {
          "name": "sortDirection",
          "description": "Sort direction",
          "type": "string",
          "required": false,
          "defaultValue": "asc",
          "possibleValues": [
            "asc",
            "desc"
          ]
        },
        {
          "name": "onSortChange",
          "description": "Callback when sort changes",
          "type": "function",
          "required": true
        }
      ],
      "events": [
        {
          "name": "onSelectEntity",
          "description": "Fired when an entity is selected",
          "parameters": [
            {
              "name": "entityId",
              "description": "ID of the selected entity",
              "type": "string"
            }
          ]
        },
        {
          "name": "onSortChange",
          "description": "Fired when sort configuration changes",
          "parameters": [
            {
              "name": "sortBy",
              "description": "Field to sort by",
              "type": "string"
            },
            {
              "name": "sortDirection",
              "description": "Sort direction",
              "type": "string"
            }
          ]
        }
      ],
      "exampleUsage": "<EntityList\n  entities={entities}\n  viewMode={viewMode}\n  selectedEntityId={selectedEntityId}\n  onSelectEntity={handleSelectEntity}\n  sortBy={sortBy}\n  sortDirection={sortDirection}\n  onSortChange={handleSortChange}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>",
      "code": "function EntityList({ \n  entities, \n  viewMode, \n  selectedEntityId, \n  onSelectEntity, \n  sortBy, \n  sortDirection, \n  onSortChange,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders.radius === ''object'' ? styles.borders.radius[size] : styles.borders.radius;\n  };\n  \n  // Handle sort column click\n  const handleSortClick = useCallback((field) => {\n    if (sortBy === field) {\n      // Toggle direction if same field\n      const newDirection = sortDirection === ''asc'' ? ''desc'' : ''asc'';\n      onSortChange?.(field, newDirection);\n    } else {\n      // New field, default to ascending\n      onSortChange?.(field, ''asc'');\n    }\n  }, [sortBy, sortDirection, onSortChange]);\n  \n  // Handle entity selection\n  const handleEntityClick = useCallback((entityId) => {\n    onSelectEntity?.(entityId);\n  }, [onSelectEntity]);\n  \n  // Render sort indicator\n  const renderSortIndicator = (field) => {\n    if (sortBy !== field) return null;\n    \n    return (\n      <span style={{ marginLeft: styles.spacing.xs }}>\n        {sortDirection === ''asc'' ? ''\u2191'' : ''\u2193''}\n      </span>\n    );\n  };\n  \n  // Grid View\n  if (viewMode === ''grid'') {\n    return (\n      <div style={{\n        width: ''100%'',\n        overflowX: ''auto''\n      }}>\n        <table style={{\n          width: ''100%'',\n          borderCollapse: ''collapse'',\n          backgroundColor: styles.colors.surface\n        }}>\n          <thead>\n            <tr style={{\n              borderBottom: `2px solid $' + '{styles.colors.border}`\n            }}>\n              <th\n                onClick={() => handleSortClick(''Name'')}\n                style={{\n                  padding: styles.spacing.md,\n                  textAlign: ''left'',\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text,\n                  cursor: ''pointer'',\n                  userSelect: ''none'',\n                  whiteSpace: ''nowrap''\n                }}\n              >\n                Name {renderSortIndicator(''Name'')}\n              </th>\n              <th\n                onClick={() => handleSortClick(''DisplayName'')}\n                style={{\n                  padding: styles.spacing.md,\n                  textAlign: ''left'',\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text,\n                  cursor: ''pointer'',\n                  userSelect: ''none'',\n                  whiteSpace: ''nowrap''\n                }}\n              >\n                Display Name {renderSortIndicator(''DisplayName'')}\n              </th>\n              <th style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.text\n              }}>\n                Description\n              </th>\n              <th style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.text\n              }}>\n                Schema\n              </th>\n              <th style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.text\n              }}>\n                Table\n              </th>\n              <th style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.text\n              }}>\n                Base View\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {entities.map((entity) => (\n              <tr\n                key={entity.ID}\n                onClick={() => handleEntityClick(entity.ID)}\n                style={{\n                  backgroundColor: selectedEntityId === entity.ID \n                    ? styles.colors.primary + ''20'' \n                    : ''transparent'',\n                  borderBottom: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`,\n                  cursor: ''pointer'',\n                  transition: ''background-color 0.2s''\n                }}\n                onMouseEnter={(e) => {\n                  if (selectedEntityId !== entity.ID) {\n                    e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (selectedEntityId !== entity.ID) {\n                    e.currentTarget.style.backgroundColor = ''transparent'';\n                  }\n                }}\n              >\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text,\n                  fontWeight: selectedEntityId === entity.ID \n                    ? (styles.typography.fontWeight?.semibold || ''600'')\n                    : (styles.typography.fontWeight?.regular || ''400'')\n                }}>\n                  {entity.Name}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text\n                }}>\n                  {entity.DisplayName || entity.Name}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  maxWidth: ''300px'',\n                  overflow: ''hidden'',\n                  textOverflow: ''ellipsis'',\n                  whiteSpace: ''nowrap''\n                }}>\n                  {entity.Description || ''-''}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.textSecondary\n                }}>\n                  {entity.SchemaName || ''-''}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.textSecondary\n                }}>\n                  {entity.BaseTable || ''-''}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.textSecondary\n                }}>\n                  {entity.BaseView || ''-''}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n  \n  // Card View\n  return (\n    <div style={{\n      display: ''grid'',\n      gridTemplateColumns: ''repeat(auto-fill, minmax(300px, 1fr))'',\n      gap: styles.spacing.lg\n    }}>\n      {entities.map((entity) => (\n        <div\n          key={entity.ID}\n          onClick={() => handleEntityClick(entity.ID)}\n          style={{\n            padding: styles.spacing.lg,\n            backgroundColor: selectedEntityId === entity.ID \n              ? styles.colors.primary + ''20''\n              : styles.colors.surface,\n            border: selectedEntityId === entity.ID\n              ? `2px solid $' + '{styles.colors.primary}`\n              : `1px solid $' + '{styles.colors.border}`,\n            borderRadius: getBorderRadius(''md''),\n            cursor: ''pointer'',\n            transition: ''all 0.2s'',\n            position: ''relative''\n          }}\n          onMouseEnter={(e) => {\n            if (selectedEntityId !== entity.ID) {\n              e.currentTarget.style.transform = ''translateY(-2px)'';\n              e.currentTarget.style.boxShadow = `0 4px 12px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}`;\n            }\n          }}\n          onMouseLeave={(e) => {\n            if (selectedEntityId !== entity.ID) {\n              e.currentTarget.style.transform = ''translateY(0)'';\n              e.currentTarget.style.boxShadow = ''none'';\n            }\n          }}\n        >\n          {/* Card Header */}\n          <div style={{\n            marginBottom: styles.spacing.md,\n            paddingBottom: styles.spacing.md,\n            borderBottom: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`\n          }}>\n            <h3 style={{\n              margin: 0,\n              fontSize: styles.typography.fontSize.lg,\n              fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n              color: styles.colors.text,\n              marginBottom: styles.spacing.xs\n            }}>\n              {entity.DisplayName || entity.Name}\n            </h3>\n            {entity.DisplayName && entity.DisplayName !== entity.Name && (\n              <div style={{\n                fontSize: styles.typography.fontSize.sm,\n                color: styles.colors.textSecondary\n              }}>\n                {entity.Name}\n              </div>\n            )}\n          </div>\n          \n          {/* Card Body */}\n          {entity.Description && (\n            <p style={{\n              margin: 0,\n              marginBottom: styles.spacing.md,\n              fontSize: styles.typography.fontSize.md,\n              color: styles.colors.textSecondary,\n              lineHeight: 1.5,\n              display: ''-webkit-box'',\n              WebkitLineClamp: 2,\n              WebkitBoxOrient: ''vertical'',\n              overflow: ''hidden''\n            }}>\n              {entity.Description}\n            </p>\n          )}\n          \n          {/* Card Footer */}\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            fontSize: styles.typography.fontSize.sm,\n            color: styles.colors.textSecondary\n          }}>\n            <div>\n              {entity.SchemaName && (\n                <span style={{ marginRight: styles.spacing.md }}>\n                  Schema: <strong>{entity.SchemaName}</strong>\n                </span>\n              )}\n              {entity.BaseTable && (\n                <span>\n                  Table: <strong>{entity.BaseTable}</strong>\n                </span>\n              )}\n            </div>\n            {entity.BaseView && (\n              <div style={{\n                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                color: styles.colors.textSecondary\n              }}>\n                View: {entity.BaseView}\n              </div>\n            )}\n          </div>\n          \n          {/* Selection Indicator */}\n          {selectedEntityId === entity.ID && (\n            <div style={{\n              position: ''absolute'',\n              top: styles.spacing.sm,\n              right: styles.spacing.sm,\n              width: ''8px'',\n              height: ''8px'',\n              backgroundColor: styles.colors.primary,\n              borderRadius: ''50%''\n            }} />\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "EntityDetails",
      "title": "Entity Details Panel",
      "description": "Sliding panel that displays detailed information about a selected entity including fields and relationships",
      "type": "form",
      "functionalRequirements": "## Entity Details Requirements\n\n- Slide in from the right when an entity is selected\n- Display entity metadata at the top\n- Show fields in a formatted table\n- Display relationships with icons\n- Include ''Open Record'' button\n- Support closing via X button or Escape key\n- Smooth slide animation\n- Scrollable content area",
      "dataRequirements": null,
      "technicalDesign": "## Technical Design\n\n### Props\n- entity: Selected entity object\n- fields: Array of entity fields\n- relationships: Array of entity relationships\n- isOpen: Whether panel is visible\n- onClose: Callback to close panel\n- onOpenRecord: Callback to open entity record\n\n### Layout\n- Fixed position overlay\n- Slide animation using transform\n- Header with entity name and close button\n- Sections for metadata, fields, relationships\n- Sticky ''Open Record'' button at bottom",
      "properties": [
        {
          "name": "entity",
          "description": "The selected entity object",
          "type": "object",
          "required": false
        },
        {
          "name": "fields",
          "description": "Array of fields for the entity",
          "type": "array",
          "required": false,
          "defaultValue": []
        },
        {
          "name": "relationships",
          "description": "Array of relationships for the entity",
          "type": "array",
          "required": false,
          "defaultValue": []
        },
        {
          "name": "isOpen",
          "description": "Whether the panel is open",
          "type": "boolean",
          "required": true
        },
        {
          "name": "onClose",
          "description": "Callback to close the panel",
          "type": "function",
          "required": true
        },
        {
          "name": "onOpenRecord",
          "description": "Callback to open the entity record",
          "type": "function",
          "required": true
        }
      ],
      "events": [
        {
          "name": "onClose",
          "description": "Fired when the panel should close",
          "parameters": []
        },
        {
          "name": "onOpenRecord",
          "description": "Fired when the open record button is clicked",
          "parameters": [
            {
              "name": "entityName",
              "description": "Name of the entity to open",
              "type": "string"
            }
          ]
        }
      ],
      "exampleUsage": "<EntityDetails\n  entity={selectedEntity}\n  fields={entityFields}\n  relationships={entityRelationships}\n  isOpen={detailsPanelOpen}\n  onClose={handleCloseDetails}\n  onOpenRecord={handleOpenRecord}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>",
      "code": "function EntityDetails({ \n  entity, \n  fields, \n  relationships, \n  isOpen, \n  onClose, \n  onOpenRecord,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders.radius === ''object'' ? styles.borders.radius[size] : styles.borders.radius;\n  };\n  \n  // Handle escape key to close panel\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === ''Escape'' && isOpen) {\n        onClose?.();\n      }\n    };\n    \n    document.addEventListener(''keydown'', handleEscape);\n    return () => document.removeEventListener(''keydown'', handleEscape);\n  }, [isOpen, onClose]);\n  \n  // Handle open record button\n  const handleOpenRecord = useCallback(() => {\n    console.log(''EntityDetails handleOpenRecord called'', { entity, onOpenRecord });\n    if (entity?.Name) {\n      console.log(''Calling onOpenRecord with entity name:'', entity.Name);\n      if (onOpenRecord) {\n        onOpenRecord(entity.Name);\n      } else {\n        console.error(''onOpenRecord callback is not defined'');\n      }\n    } else {\n      console.error(''No entity or entity name available'');\n    }\n  }, [entity, onOpenRecord]);\n  \n  // Render field type badge\n  const renderFieldType = (type) => {\n    const typeColors = {\n      ''nvarchar'': styles.colors.info || styles.colors.primary,\n      ''varchar'': styles.colors.info || styles.colors.primary,\n      ''int'': styles.colors.success || styles.colors.primary,\n      ''bigint'': styles.colors.success || styles.colors.primary,\n      ''decimal'': styles.colors.success || styles.colors.primary,\n      ''float'': styles.colors.success || styles.colors.primary,\n      ''bit'': styles.colors.warning || styles.colors.secondary,\n      ''datetime'': styles.colors.secondary,\n      ''uniqueidentifier'': styles.colors.primary,\n      ''text'': styles.colors.info || styles.colors.primary,\n      ''ntext'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = typeColors[type?.toLowerCase()] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {type}\n      </span>\n    );\n  };\n  \n  // Render relationship type icon\n  const renderRelationshipIcon = (type) => {\n    const icons = {\n      ''One to Many'': ''1:N'',\n      ''Many to One'': ''N:1'',\n      ''Many to Many'': ''N:N'',\n      ''One to One'': ''1:1''\n    };\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: styles.colors.primary + ''15'',\n        color: styles.colors.primary,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.bold || ''700'',\n        fontFamily: ''monospace''\n      }}>\n        {icons[type] || type}\n      </span>\n    );\n  };\n  \n  return (\n    <>\n      {/* Backdrop */}\n      {isOpen && (\n        <div\n          onClick={onClose}\n          style={{\n            position: ''fixed'',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: ''rgba(0, 0, 0, 0.3)'',\n            zIndex: 99999,\n            opacity: isOpen ? 1 : 0,\n            transition: ''opacity 0.3s'',\n            pointerEvents: isOpen ? ''auto'' : ''none''\n          }}\n        />\n      )}\n      \n      {/* Panel */}\n      <div style={{\n        position: ''fixed'',\n        top: ''75px'',\n        right: 0,\n        bottom: 0,\n        width: ''480px'',\n        backgroundColor: styles.colors.background,\n        boxShadow: isOpen ? `-4px 0 24px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}` : ''none'',\n        transform: isOpen ? ''translateX(0)'' : ''translateX(100%)'',\n        transition: ''transform 0.3s ease-out'',\n        zIndex: 100000,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''flex-start''\n          }}>\n            <div style={{ flex: 1 }}>\n              <h2 style={{\n                margin: 0,\n                fontSize: styles.typography.fontSize.xl,\n                fontWeight: styles.typography.fontWeight?.bold || ''700'',\n                color: styles.colors.text,\n                marginBottom: styles.spacing.xs\n              }}>\n                {entity?.DisplayName || entity?.Name || ''No Entity Selected''}\n              </h2>\n              {entity?.DisplayName && entity?.Name && entity.DisplayName !== entity.Name && (\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  fontFamily: ''monospace''\n                }}>\n                  {entity.Name}\n                </div>\n              )}\n            </div>\n            <button\n              onClick={onClose}\n              style={{\n                width: ''32px'',\n                height: ''32px'',\n                borderRadius: getBorderRadius(''sm''),\n                border: ''none'',\n                backgroundColor: ''transparent'',\n                color: styles.colors.textSecondary,\n                fontSize: styles.typography.fontSize.lg,\n                cursor: ''pointer'',\n                display: ''flex'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = ''transparent'';\n              }}\n            >\n              \u2715\n            </button>\n          </div>\n        </div>\n        \n        {/* Content */}\n        <div style={{\n          flex: 1,\n          overflow: ''auto'',\n          padding: styles.spacing.lg\n        }}>\n          {entity ? (\n            <>\n              {/* Entity Metadata */}\n              {entity.Description && (\n                <div style={{\n                  marginBottom: styles.spacing.xl,\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  borderLeft: `3px solid $' + '{styles.colors.primary}`\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    color: styles.colors.textSecondary,\n                    lineHeight: 1.6\n                  }}>\n                    {entity.Description}\n                  </div>\n                </div>\n              )}\n              \n              {/* Quick Info */}\n              <div style={{\n                display: ''grid'',\n                gridTemplateColumns: ''repeat(2, 1fr)'',\n                gap: styles.spacing.md,\n                marginBottom: styles.spacing.xl\n              }}>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Schema\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {entity.SchemaName || ''-''}\n                  </div>\n                </div>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Base Table\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {entity.BaseTable || ''-''}\n                  </div>\n                </div>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Base View\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {entity.BaseView || ''-''}\n                  </div>\n                </div>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Field Count\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {fields?.length || 0}\n                  </div>\n                </div>\n              </div>\n              \n              {/* Fields Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Fields ({fields?.length || 0})\n                </h3>\n                <div style={{\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  overflow: ''hidden''\n                }}>\n                  {fields && fields.length > 0 ? (\n                    <table style={{\n                      width: ''100%'',\n                      borderCollapse: ''collapse''\n                    }}>\n                      <thead>\n                        <tr style={{\n                          borderBottom: `1px solid $' + '{styles.colors.border}`\n                        }}>\n                          <th style={{\n                            padding: styles.spacing.sm,\n                            textAlign: ''left'',\n                            fontSize: styles.typography.fontSize.sm,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.textSecondary\n                          }}>\n                            Field\n                          </th>\n                          <th style={{\n                            padding: styles.spacing.sm,\n                            textAlign: ''left'',\n                            fontSize: styles.typography.fontSize.sm,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.textSecondary\n                          }}>\n                            Type\n                          </th>\n                          <th style={{\n                            padding: styles.spacing.sm,\n                            textAlign: ''center'',\n                            fontSize: styles.typography.fontSize.sm,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.textSecondary\n                          }}>\n                            Attributes\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {fields.map((field, index) => (\n                          <tr\n                            key={index}\n                            style={{\n                              borderBottom: index < fields.length - 1 \n                                ? `1px solid $' + '{styles.colors.borderLight || styles.colors.border}` \n                                : ''none''\n                            }}\n                          >\n                            <td style={{\n                              padding: styles.spacing.sm,\n                              fontSize: styles.typography.fontSize.sm,\n                              color: styles.colors.text\n                            }}>\n                              <div>\n                                <div style={{\n                                  fontWeight: field.IsPrimaryKey \n                                    ? (styles.typography.fontWeight?.semibold || ''600'')\n                                    : (styles.typography.fontWeight?.regular || ''400'')\n                                }}>\n                                  {field.DisplayName || field.Name}\n                                </div>\n                                {field.DisplayName && (\n                                  <div style={{\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    color: styles.colors.textSecondary,\n                                    fontFamily: ''monospace''\n                                  }}>\n                                    {field.Name}\n                                  </div>\n                                )}\n                              </div>\n                            </td>\n                            <td style={{\n                              padding: styles.spacing.sm\n                            }}>\n                              {renderFieldType(field.Type)}\n                              {field.Length && (\n                                <span style={{\n                                  marginLeft: styles.spacing.xs,\n                                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                  color: styles.colors.textSecondary\n                                }}>\n                                  ({field.Length})\n                                </span>\n                              )}\n                            </td>\n                            <td style={{\n                              padding: styles.spacing.sm,\n                              textAlign: ''center''\n                            }}>\n                              <div style={{\n                                display: ''flex'',\n                                gap: styles.spacing.xs,\n                                justifyContent: ''center'',\n                                flexWrap: ''wrap''\n                              }}>\n                                {field.IsPrimaryKey && (\n                                  <span style={{\n                                    padding: `2px $' + '{styles.spacing.xs}`,\n                                    backgroundColor: (styles.colors.warning || styles.colors.secondary) + ''15'',\n                                    color: styles.colors.warning || styles.colors.secondary,\n                                    borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    fontWeight: styles.typography.fontWeight?.bold || ''700''\n                                  }}>\n                                    PK\n                                  </span>\n                                )}\n                                {field.IsUnique && (\n                                  <span style={{\n                                    padding: `2px $' + '{styles.spacing.xs}`,\n                                    backgroundColor: (styles.colors.info || styles.colors.primary) + ''15'',\n                                    color: styles.colors.info || styles.colors.primary,\n                                    borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    fontWeight: styles.typography.fontWeight?.bold || ''700''\n                                  }}>\n                                    UQ\n                                  </span>\n                                )}\n                                {!field.AllowsNull && !field.IsPrimaryKey && (\n                                  <span style={{\n                                    padding: `2px $' + '{styles.spacing.xs}`,\n                                    backgroundColor: (styles.colors.error || styles.colors.secondary) + ''15'',\n                                    color: styles.colors.error || styles.colors.secondary,\n                                    borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    fontWeight: styles.typography.fontWeight?.bold || ''700''\n                                  }}>\n                                    NN\n                                  </span>\n                                )}\n                              </div>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  ) : (\n                    <div style={{\n                      padding: styles.spacing.lg,\n                      textAlign: ''center'',\n                      color: styles.colors.textSecondary,\n                      fontSize: styles.typography.fontSize.sm\n                    }}>\n                      No fields available\n                    </div>\n                  )}\n                </div>\n              </div>\n              \n              {/* Relationships Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Relationships ({relationships?.length || 0})\n                </h3>\n                <div style={{\n                  display: ''flex'',\n                  flexDirection: ''column'',\n                  gap: styles.spacing.sm\n                }}>\n                  {relationships && relationships.length > 0 ? (\n                    relationships.map((rel, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          display: ''flex'',\n                          alignItems: ''center'',\n                          gap: styles.spacing.md\n                        }}\n                      >\n                        {renderRelationshipIcon(rel.Type)}\n                        <div style={{ flex: 1 }}>\n                          <div style={{\n                            fontSize: styles.typography.fontSize.md,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.text\n                          }}>\n                            {rel.DisplayName || rel.RelatedEntity}\n                          </div>\n                          {rel.RelatedEntityJoinField && (\n                            <div style={{\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                              color: styles.colors.textSecondary,\n                              fontFamily: ''monospace''\n                            }}>\n                              via {rel.RelatedEntityJoinField}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    ))\n                  ) : (\n                    <div style={{\n                      padding: styles.spacing.lg,\n                      backgroundColor: styles.colors.surface,\n                      borderRadius: getBorderRadius(''sm''),\n                      textAlign: ''center'',\n                      color: styles.colors.textSecondary,\n                      fontSize: styles.typography.fontSize.sm\n                    }}>\n                      No relationships defined\n                    </div>\n                  )}\n                </div>\n              </div>\n            </>\n          ) : (\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              height: ''100%'',\n              color: styles.colors.textSecondary\n            }}>\n              <div style={{\n                fontSize: styles.typography.fontSize.lg,\n                marginBottom: styles.spacing.md\n              }}>\n                No Entity Selected\n              </div>\n              <div style={{\n                fontSize: styles.typography.fontSize.md\n              }}>\n                Select an entity from the list to view its details\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Footer with Open Record Button */}\n        {entity && (\n          <div style={{\n            padding: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.border}`,\n            backgroundColor: styles.colors.surface\n          }}>\n            <button\n              onClick={handleOpenRecord}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.primary,\n                color: ''white'',\n                border: ''none'',\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primaryHover || styles.colors.primary;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primary;\n              }}\n            >\n              Open Entity Record\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "EntityFilter",
      "title": "Entity Filter Panel",
      "description": "Collapsible filter panel for filtering entities by various criteria",
      "type": "form",
      "functionalRequirements": "## Entity Filter Requirements\n\n- Collapsible panel on the left side\n- Filter by schema name (dropdown)\n- Filter by base table (dropdown)\n- Search box for text search\n- Clear all filters button\n- Show active filter count\n- Smooth collapse/expand animation\n- Remember collapsed state",
      "dataRequirements": null,
      "technicalDesign": "## Technical Design\n\n### Props\n- filters: Current filter values\n- onFilterChange: Callback when filters change\n- schemas: Available schema options\n- tables: Available table options\n- isCollapsed: Whether panel is collapsed\n- onToggleCollapse: Callback to toggle collapse\n\n### Components\n- Collapse toggle button\n- Schema dropdown\n- Table dropdown\n- Search input\n- Clear filters button\n- Active filter badges",
      "properties": [
        {
          "name": "filters",
          "description": "Current filter values",
          "type": "object",
          "required": true
        },
        {
          "name": "onFilterChange",
          "description": "Callback when filters change",
          "type": "function",
          "required": true
        },
        {
          "name": "schemas",
          "description": "Available schema options",
          "type": "array",
          "required": true
        },
        {
          "name": "tables",
          "description": "Available table options",
          "type": "array",
          "required": true
        },
        {
          "name": "isCollapsed",
          "description": "Whether the panel is collapsed",
          "type": "boolean",
          "required": true
        },
        {
          "name": "onToggleCollapse",
          "description": "Callback to toggle collapse state",
          "type": "function",
          "required": true
        }
      ],
      "events": [
        {
          "name": "onFilterChange",
          "description": "Fired when filter values change",
          "parameters": [
            {
              "name": "filters",
              "description": "Updated filter object",
              "type": "object"
            }
          ]
        },
        {
          "name": "onToggleCollapse",
          "description": "Fired when collapse state should toggle",
          "parameters": []
        }
      ],
      "exampleUsage": "<EntityFilter\n  filters={filters}\n  onFilterChange={handleFilterChange}\n  schemas={uniqueSchemas}\n  tables={uniqueTables}\n  isCollapsed={filterPanelCollapsed}\n  onToggleCollapse={handleToggleFilter}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>",
      "code": "function EntityFilter({ \n  filters, \n  onFilterChange, \n  schemas, \n  tables, \n  isCollapsed, \n  onToggleCollapse,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders.radius === ''object'' ? styles.borders.radius[size] : styles.borders.radius;\n  };\n  \n  // Calculate active filter count\n  const activeFilterCount = Object.values(filters || {}).filter(Boolean).length;\n  \n  // Handle schema filter change\n  const handleSchemaChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      schema: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle table filter change\n  const handleTableChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      table: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle clear all filters\n  const handleClearFilters = useCallback(() => {\n    onFilterChange?.({});\n  }, [onFilterChange]);\n  \n  // Handle toggle collapse\n  const handleToggle = useCallback(() => {\n    onToggleCollapse?.();\n  }, [onToggleCollapse]);\n  \n  return (\n    <div style={{\n      width: isCollapsed ? ''48px'' : ''280px'',\n      minWidth: isCollapsed ? ''48px'' : ''280px'',\n      backgroundColor: styles.colors.surface,\n      borderRight: `1px solid $' + '{styles.colors.border}`,\n      transition: ''width 0.3s ease-out'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      position: ''relative'',\n      overflow: ''hidden''\n    }}>\n      {/* Toggle Button */}\n      <button\n        onClick={handleToggle}\n        style={{\n          position: ''absolute'',\n          top: styles.spacing.md,\n          right: styles.spacing.md,\n          width: ''32px'',\n          height: ''32px'',\n          borderRadius: getBorderRadius(''sm''),\n          border: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.background,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.md,\n          cursor: ''pointer'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1,\n          transition: ''all 0.2s''\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.background;\n        }}\n      >\n        {isCollapsed ? ''\u2192'' : ''\u2190''}\n      </button>\n      \n      {/* Filter Icon when collapsed */}\n      {isCollapsed && (\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          flex: 1,\n          opacity: 1,\n          transition: ''opacity 0.3s''\n        }}>\n          <div style={{\n            fontSize: styles.typography.fontSize.xl,\n            color: styles.colors.textSecondary,\n            marginBottom: styles.spacing.sm\n          }}>\n            \ud83d\udd0d\n          </div>\n          {activeFilterCount > 0 && (\n            <div style={{\n              width: ''24px'',\n              height: ''24px'',\n              borderRadius: ''50%'',\n              backgroundColor: styles.colors.primary,\n              color: ''white'',\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              fontSize: styles.typography.fontSize.xs,\n              fontWeight: styles.typography.fontWeight?.bold || ''700''\n            }}>\n              {activeFilterCount}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Filter Content */}\n      <div style={{\n        padding: styles.spacing.lg,\n        opacity: isCollapsed ? 0 : 1,\n        transition: ''opacity 0.3s'',\n        pointerEvents: isCollapsed ? ''none'' : ''auto'',\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column''\n      }}>\n        {/* Header */}\n        <div style={{\n          marginBottom: styles.spacing.xl,\n          paddingRight: ''40px''\n        }}>\n          <h2 style={{\n            margin: 0,\n            fontSize: styles.typography.fontSize.lg,\n            fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n            color: styles.colors.text,\n            marginBottom: styles.spacing.xs\n          }}>\n            Filters\n          </h2>\n          {activeFilterCount > 0 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary\n            }}>\n              {activeFilterCount} active filter{activeFilterCount !== 1 ? ''s'' : ''''}\n            </div>\n          )}\n        </div>\n        \n        {/* Filter Controls */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.lg\n        }}>\n          {/* Schema Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Schema\n            </label>\n            <select\n              value={filters?.schema || ''''}\n              onChange={handleSchemaChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Schemas</option>\n              {schemas.map((schema) => (\n                <option key={schema} value={schema}>\n                  {schema}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Table Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Base Table\n            </label>\n            <select\n              value={filters?.table || ''''}\n              onChange={handleTableChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Tables</option>\n              {tables.map((table) => (\n                <option key={table} value={table}>\n                  {table}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Active Filters Display */}\n          {activeFilterCount > 0 && (\n            <div>\n              <div style={{\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Active Filters\n              </div>\n              <div style={{\n                display: ''flex'',\n                flexDirection: ''column'',\n                gap: styles.spacing.xs\n              }}>\n                {filters?.schema && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Schema:\n                      </span>\n                      <strong>{filters.schema}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleSchemaChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.table && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Table:\n                      </span>\n                      <strong>{filters.table}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleTableChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Clear All Button */}\n        {activeFilterCount > 0 && (\n          <div style={{\n            marginTop: styles.spacing.xl,\n            paddingTop: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`\n          }}>\n            <button\n              onClick={handleClearFilters}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.surface,\n                color: styles.colors.text,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.error + ''15'';\n                e.currentTarget.style.color = styles.colors.error;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surface;\n                e.currentTarget.style.color = styles.colors.text;\n              }}\n            >\n              Clear All Filters\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}",
      "dependencies": [],
      "libraries": []
    }
  ],
  "libraries": [],
  "code": "function EntityBrowser({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Extract child components\n  const { EntityList, EntityDetails, EntityFilter } = components;\n  \n  // Initialize state from saved settings where appropriate\n  const [selectedEntityId, setSelectedEntityId] = useState(savedUserSettings?.selectedEntityId);\n  const [viewMode, setViewMode] = useState(savedUserSettings?.viewMode || ''grid'');\n  const [filters, setFilters] = useState(savedUserSettings?.filters || {});\n  const [sortBy, setSortBy] = useState(savedUserSettings?.sortBy || ''Name'');\n  const [sortDirection, setSortDirection] = useState(savedUserSettings?.sortDirection || ''asc'');\n  const [filterPanelCollapsed, setFilterPanelCollapsed] = useState(savedUserSettings?.filterPanelCollapsed || false);\n  \n  // Runtime UI state (not persisted)\n  const [entities, setEntities] = useState([]);\n  const [entityFields, setEntityFields] = useState([]);\n  const [entityRelationships, setEntityRelationships] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [detailsPanelOpen, setDetailsPanelOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('''');\n  const [uniqueSchemas, setUniqueSchemas] = useState([]);\n  const [uniqueTables, setUniqueTables] = useState([]);\n  \n  // Load entities on mount and when filters/sort change\n  useEffect(() => {\n    const loadEntities = async () => {\n      setLoading(true);\n      try {\n        // Build filter string\n        let filterParts = [];\n        if (filters.schema) {\n          filterParts.push(`SchemaName = ''$' + '{filters.schema}''`);\n        }\n        if (filters.table) {\n          filterParts.push(`BaseTable = ''$' + '{filters.table}''`);\n        }\n        if (searchQuery) {\n          filterParts.push(`(Name LIKE ''%$' + '{searchQuery}%'' OR DisplayName LIKE ''%$' + '{searchQuery}%'' OR Description LIKE ''%$' + '{searchQuery}%'')`);\n        }\n        \n        const result = await utilities.rv.RunView({\n          EntityName: ''Entities'',\n          Fields: [''ID'', ''Name'', ''DisplayName'', ''NameSuffix'', ''Description'', ''SchemaName'', ''BaseTable'', ''BaseView''],\n          OrderBy: `$' + '{sortBy} $' + '{sortDirection.toUpperCase()}`,\n          ExtraFilter: filterParts.length > 0 ? filterParts.join('' AND '') : undefined\n        });\n        \n        if (result?.Success && result?.Results) {\n          setEntities(result.Results);\n          \n          // Extract unique schemas and tables for filter dropdowns\n          const schemas = [...new Set(result.Results.map(e => e.SchemaName).filter(Boolean))];\n          const tables = [...new Set(result.Results.map(e => e.BaseTable).filter(Boolean))];\n          setUniqueSchemas(schemas);\n          setUniqueTables(tables);\n        } else {\n          console.error(''Failed to load entities:'', result?.ErrorMessage);\n          setEntities([]);\n        }\n      } catch (error) {\n        console.error(''Error loading entities:'', error);\n        setEntities([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadEntities();\n  }, [filters, sortBy, sortDirection, searchQuery, utilities.rv]);\n  \n  // Load entity details when selection changes\n  useEffect(() => {\n    const loadEntityDetails = async () => {\n      if (!selectedEntityId) {\n        setEntityFields([]);\n        setEntityRelationships([]);\n        return;\n      }\n      \n      try {\n        // Load fields\n        const fieldsResult = await utilities.rv.RunView({\n          EntityName: ''Entity Fields'',\n          Fields: [''Name'', ''DisplayName'', ''Type'', ''Length'', ''AllowsNull'', ''IsPrimaryKey'', ''IsUnique'', ''Sequence''],\n          OrderBy: ''Sequence ASC, Name ASC'',\n          ExtraFilter: `EntityID = ''$' + '{selectedEntityId}''`\n        });\n        \n        if (fieldsResult?.Success && fieldsResult?.Results) {\n          setEntityFields(fieldsResult.Results);\n        } else {\n          setEntityFields([]);\n        }\n        \n        // Load relationships\n        const relationshipsResult = await utilities.rv.RunView({\n          EntityName: ''Entity Relationships'',\n          Fields: [''RelatedEntity'', ''Type'', ''DisplayName'', ''RelatedEntityJoinField'', ''Sequence''],\n          OrderBy: ''Sequence ASC, RelatedEntity ASC'',\n          ExtraFilter: `EntityID = ''$' + '{selectedEntityId}''`\n        });\n        \n        if (relationshipsResult?.Success && relationshipsResult?.Results) {\n          setEntityRelationships(relationshipsResult.Results);\n        } else {\n          setEntityRelationships([]);\n        }\n      } catch (error) {\n        console.error(''Error loading entity details:'', error);\n        setEntityFields([]);\n        setEntityRelationships([]);\n      }\n    };\n    \n    loadEntityDetails();\n  }, [selectedEntityId, utilities.rv]);\n  \n  // Handle entity selection\n  const handleSelectEntity = useCallback((entityId) => {\n    setSelectedEntityId(entityId);\n    setDetailsPanelOpen(true);\n    \n    // Save user preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      selectedEntityId: entityId\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle view mode change\n  const handleViewModeChange = useCallback((mode) => {\n    setViewMode(mode);\n    \n    // Save preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      viewMode: mode\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter changes\n  const handleFilterChange = useCallback((newFilters) => {\n    setFilters(newFilters);\n    \n    // Save filter preferences\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filters: newFilters\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle sort changes\n  const handleSortChange = useCallback((newSortBy, newSortDirection) => {\n    setSortBy(newSortBy);\n    setSortDirection(newSortDirection);\n    \n    // Save sort preferences\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      sortBy: newSortBy,\n      sortDirection: newSortDirection\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter panel toggle\n  const handleToggleFilter = useCallback(() => {\n    const newCollapsed = !filterPanelCollapsed;\n    setFilterPanelCollapsed(newCollapsed);\n    \n    // Save collapsed state\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filterPanelCollapsed: newCollapsed\n    });\n  }, [filterPanelCollapsed, savedUserSettings, onSaveUserSettings]);\n  \n  // Handle opening entity record\n  const handleOpenRecord = useCallback((entityName) => {\n    console.log(''Root handleOpenRecord called with entityName:'', entityName);\n    console.log(''Callbacks object:'', callbacks);\n    if (callbacks?.OpenEntityRecord && entityName) {\n      console.log(''Calling OpenEntityRecord callback with:'', ''Entities'', entityName);\n      // Open the Entities entity record for the selected entity\n      callbacks.OpenEntityRecord(''Entities'', [{ FieldName: ''Name'', Value: entityName }]);\n    } else {\n      console.error(''OpenEntityRecord callback not available or entityName missing'');\n    }\n  }, [callbacks]);\n  \n  // Handle closing details panel\n  const handleCloseDetails = useCallback(() => {\n    setDetailsPanelOpen(false);\n  }, []);\n  \n  // Handle search\n  const handleSearch = useCallback((query) => {\n    setSearchQuery(query);\n  }, []);\n  \n  // Get selected entity object\n  const selectedEntity = entities.find(e => e.ID === selectedEntityId);\n  \n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders.radius === ''object'' ? styles.borders.radius[size] : styles.borders.radius;\n  };\n  \n  // Loading state\n  if (loading && entities.length === 0) {\n    return (\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        height: ''100vh'',\n        fontSize: styles.typography.fontSize.lg,\n        color: styles.colors.textSecondary\n      }}>\n        Loading entities...\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{\n      display: ''flex'',\n      height: ''100vh'',\n      backgroundColor: styles.colors.background,\n      overflow: ''hidden''\n    }}>\n      {/* Filter Panel */}\n      {EntityFilter && (\n        <EntityFilter\n          filters={filters}\n          onFilterChange={handleFilterChange}\n          schemas={uniqueSchemas}\n          tables={uniqueTables}\n          isCollapsed={filterPanelCollapsed}\n          onToggleCollapse={handleToggleFilter}\n          savedUserSettings={savedUserSettings?.filterPanel}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            filterPanel: settings\n          })}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n        />\n      )}\n      \n      {/* Main Content Area */}\n      <div style={{\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            marginBottom: styles.spacing.md\n          }}>\n            <h1 style={{\n              margin: 0,\n              fontSize: styles.typography.fontSize.xxl || styles.typography.fontSize.xl,\n              fontWeight: styles.typography.fontWeight?.bold || ''700'',\n              color: styles.colors.text\n            }}>\n              Entity Browser\n            </h1>\n            \n            {/* View Mode Toggle */}\n            <div style={{\n              display: ''flex'',\n              gap: styles.spacing.sm,\n              alignItems: ''center''\n            }}>\n              <span style={{\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.textSecondary\n              }}>\n                View:\n              </span>\n              <button\n                onClick={() => handleViewModeChange(''grid'')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: viewMode === ''grid'' ? styles.colors.primary : styles.colors.background,\n                  color: viewMode === ''grid'' ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Grid\n              </button>\n              <button\n                onClick={() => handleViewModeChange(''card'')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: viewMode === ''card'' ? styles.colors.primary : styles.colors.background,\n                  color: viewMode === ''card'' ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Cards\n              </button>\n            </div>\n          </div>\n          \n          {/* Search Bar */}\n          <div style={{\n            display: ''flex'',\n            gap: styles.spacing.md\n          }}>\n            <input\n              type=\"text\"\n              placeholder=\"Search entities...\"\n              value={searchQuery}\n              onChange={(e) => handleSearch(e.target.value)}\n              style={{\n                flex: 1,\n                padding: styles.spacing.md,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background\n              }}\n            />\n            {searchQuery && (\n              <button\n                onClick={() => handleSearch('''')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: styles.colors.surfaceHover || styles.colors.surface,\n                  color: styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Clear\n              </button>\n            )}\n          </div>\n        </div>\n        \n        {/* Entity List */}\n        <div style={{\n          flex: 1,\n          overflow: ''auto'',\n          padding: styles.spacing.lg\n        }}>\n          {EntityList && (\n            <EntityList\n              entities={entities}\n              viewMode={viewMode}\n              selectedEntityId={selectedEntityId}\n              onSelectEntity={handleSelectEntity}\n              sortBy={sortBy}\n              sortDirection={sortDirection}\n              onSortChange={handleSortChange}\n              savedUserSettings={savedUserSettings?.entityList}\n              onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                ...savedUserSettings,\n                entityList: settings\n              })}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n            />\n          )}\n          \n          {/* Empty State */}\n          {entities.length === 0 && !loading && (\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              padding: styles.spacing.xxl || styles.spacing.xl,\n              color: styles.colors.textSecondary\n            }}>\n              <div style={{\n                fontSize: styles.typography.fontSize.xl,\n                marginBottom: styles.spacing.md\n              }}>\n                No entities found\n              </div>\n              <div style={{\n                fontSize: styles.typography.fontSize.md\n              }}>\n                {searchQuery || Object.keys(filters).length > 0\n                  ? ''Try adjusting your filters or search query''\n                  : ''No entities are available''}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Details Panel */}\n      {EntityDetails && (\n        <EntityDetails\n          entity={selectedEntity}\n          fields={entityFields}\n          relationships={entityRelationships}\n          isOpen={detailsPanelOpen}\n          onClose={handleCloseDetails}\n          onOpenRecord={() => handleOpenRecord(selectedEntity?.Name)}\n          savedUserSettings={savedUserSettings?.detailsPanel}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            detailsPanel: settings\n          })}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n        />\n      )}\n    </div>\n  );\n}"
}'
SET
  @FunctionalRequirements_619ec45c = N'## Entity Browser

### Core Functionality
- Display entities in a responsive grid or card layout based on user preference
- Allow users to select view mode (grid vs card)
- Click on an entity to slide in a details panel from the right
- Show entity metadata including fields and relationships in the details panel
- Provide a collapsible filter panel on the left side
- Support sorting by multiple fields with visual indicators
- Include a search bar for quick entity filtering
- Provide an ''Open'' button to trigger the OpenEntityRecord callback
- Remember user''s last selected entity and view preferences

### UX Considerations
- Smooth animations for panel transitions
- Responsive design that works on different screen sizes
- Loading states while fetching data
- Empty states with helpful messages
- Keyboard navigation support (arrow keys, tab, enter)
- Visual feedback for hover and selection states
- Maintain scroll position when switching between entities'
SET
  @TechnicalDesign_619ec45c = N'## Technical Design

### Component Structure
- **Root Component (EntityBrowser)**: Manages overall layout and state coordination
- **EntityList (Child)**: Displays entities in grid/card view with sorting
- **EntityDetails (Child)**: Sliding panel showing entity fields and relationships
- **EntityFilter (Child)**: Collapsible filter panel with dynamic filters

### State Management
- Selected entity ID (persisted in savedUserSettings)
- View mode (grid/card) (persisted)
- Active filters (persisted)
- Sort configuration (persisted)
- Panel visibility states (details open, filters collapsed)
- Search query
- Loading states for async operations

### Layout
```
+------------------+------------------------+------------------+
|                  |                        |                  |
|   Filter Panel   |    Entity Grid/Cards   |  Details Panel   |
|   (Collapsible)  |    (Main Content)      |    (Sliding)     |
|                  |                        |                  |
|  [Schema Filter] |  +-----+  +-----+      |  Entity: Orders  |
|  [Table Filter]  |  | Card |  | Card |     |                  |
|  [Search Box]    |  +-----+  +-----+      |  Fields:         |
|                  |                        |  - ID            |
|  Sort By:        |  +-----+  +-----+      |  - CustomerID    |
|  [Name ↓]        |  | Card |  | Card |     |  - OrderDate     |
|                  |  +-----+  +-----+      |                  |
|                  |                        |  Relationships:  |
|                  |                        |  → Customers     |
|                  |                        |  → OrderItems    |
|                  |                        |                  |
|                  |                        |  [Open Record]   |
+------------------+------------------------+------------------+
```

### Data Flow
1. Root component loads entities on mount
2. Passes entity data to EntityList
3. EntityList handles selection and passes selectedId up
4. Root loads fields/relationships for selected entity
5. Passes detailed data to EntityDetails
6. Filter changes trigger data reload
7. All user preferences saved via onSaveUserSettings

### Interaction Patterns
- Click entity card → Select and open details
- Click filter → Apply and reload data
- Click sort → Update sort and reload
- Click ''Open'' → Trigger OpenEntityRecord callback
- Press Escape → Close details panel
- Click outside → Close details panel'
SET
  @FunctionalRequirementsVector_619ec45c = N'[0.010399672202765942,0.03898456320166588,0.0031065745279192924,-0.04359811916947365,0.023196784779429436,0.0022272225469350815,0.007008499000221491,0.05608177185058594,-0.013064481317996979,-0.04003686457872391,-0.010273541323840618,0.029687099158763885,0.016627568751573563,0.06836752593517303,0.024465834721922874,-0.08569731563329697,-0.036598868668079376,0.05451998859643936,-0.006759223993867636,-0.00007211563206510618,0.03493105247616768,-0.023384306579828262,-0.03443508222699165,0.006100410129874945,0.01422246266156435,0.008284099400043488,-0.07864219695329666,0.05377742648124695,0.012832329608500004,-0.07425346225500107,0.012844725511968136,0.05412127450108528,-0.046401239931583405,-0.02396952547132969,0.0000025645733785495395,-0.00276555004529655,-0.05796699598431587,0.002532001119107008,-0.042379699647426605,0.011148902587592602,-0.02573355846107006,0.03732384741306305,0.038165900856256485,-0.029492516070604324,0.020351603627204895,-0.04810800403356552,-0.02773316577076912,0.028702206909656525,0.017837567254900932,-0.023448055610060692,0.013159654103219509,-0.009726779535412788,-0.007924215868115425,-0.016290333122015,0.0018048669444397092,0.045587208122015,0.02159583941102028,-0.07739321887493134,0.05076661333441734,0.01482523512095213,-0.0021591470576822758,-0.02184262126684189,0.008339321240782738,-0.01659330353140831,0.060566265136003494,0.04278693348169327,0.06494858860969543,-0.0496649369597435,0.03997647389769554,0.03348543494939804,0.15494465827941895,0.011581211350858212,-0.000701707846019417,-0.031050313264131546,0.0051757399924099445,0.05128803104162216,0.023933907970786095,-0.0359402634203434,-0.011657549999654293,0.002028602408245206,-0.03052225336432457,-0.026098478585481644,-0.025612695142626762,-0.017312979325652122,-0.050224147737026215,0.02160145714879036,0.029966922476887703,-0.03953507915139198,-0.03857091814279556,-0.028552046045660973,0.06101163476705551,-0.024447062984108925,-0.005132048856467009,0.01808777265250683,-0.04985116794705391,-0.024111200124025345,0.03503953292965889,-0.06594490259885788,0.034844908863306046,0.033180419355630875,0.007057378068566322,0.02007991448044777,0.013947916217148304,0.012564988806843758,0.06090366467833519,0.01762058585882187,-0.019367745146155357,-0.02435099519789219,0.03230536729097366,0.013532663695514202,-0.0076223439536988735,0.012194284237921238,-0.013327275402843952,0.0637287050485611,-0.06040702015161514,0.04000544175505638,-0.03160833939909935,-0.008241785690188408,0.005361375864595175,0.026439672335982323,0.07041149586439133,0.020301366224884987,0.03178171068429947,0.0013165712589398026,-0.03811822086572647,0.014554220251739025,-0.044111333787441254,-0.07113770395517349,-0.005632716231048107,-0.008180026896297932,-0.0074714296497404575,-0.03539252653717995,0.00367412599734962,-0.021869728341698647,-0.014831911772489548,0.0213587898761034,0.051087863743305206,-0.02816380374133587,-0.08109444379806519,0.022831039503216743,-0.004910190589725971,-0.01173004787415266,-0.05145316198468208,0.024201493710279465,0.032708119601011276,0.013569021597504616,-0.022944210097193718,-0.04481993243098259,0.03186320886015892,0.016122978180646896,0.010654622688889503,-0.04535052925348282,-0.052391428500413895,0.004259629175066948,0.02192278578877449,0.028729664161801338,0.05787114426493645,0.010502006858587265,0.01812564954161644,-0.027410129085183144,0.017805960029363632,0.014787927269935608,-0.000017187887351610698,-0.003644616575911641,-0.012406500987708569,0.014600567519664764,-0.002230693120509386,0.008236025460064411,-0.04047468304634094,-0.013652734458446503,-0.04472304880619049,-0.02087966911494732,-0.03613915294408798,-0.008498255163431168,0.02852608449757099,0.016937630251049995,0.07793781161308289,0.0058380975387990475,-0.026462934911251068,0.02209681086242199,0.03420004993677139,-0.02929365076124668,-0.006279189605265856,0.037802983075380325,0.09538817405700684,-0.06287548691034317,0.03765435144305229,0.02460668981075287,-0.018605045974254608,-0.0022862148471176624,0.030586527660489082,-0.020743384957313538,-0.0730431005358696,-0.007137634325772524,0.01395630743354559,-0.014912398532032967,-0.007487328257411718,0.030041584745049477,0.0580364428460598,-0.014414873905479908,-0.03925754502415657,-0.004219763912260532,0.04746604338288307,0.08309047669172287,0.014567709527909756,0.020876983180642128,-0.033169738948345184,-0.01951703429222107,-0.019001487642526627,0.006526869256049395,0.020093826577067375,-0.0069078984670341015,-0.032786592841148376,0.03660152852535248,-0.04157617688179016,-0.004755842033773661,0.03565208986401558,0.03519288823008537,-0.021579593420028687,0.01664748787879944,-0.02318541705608368,-0.026392830535769463,0.0710616484284401,0.01057544257491827,0.07923772931098938,0.06361143290996552,0.016513219103217125,0.04213372617959976,0.0015577105805277824,0.024096626788377762,0.010401246137917042,-0.015941819176077843,0.007836933247745037,0.03970028832554817,0.009991110302507877,0.0073816245421767235,0.03690257668495178,0.13125111162662506,-0.02663608267903328,0.04249986261129379,0.06662946939468384,-0.051591213792562485,0.013960842974483967,-0.023197654634714127,-0.0622297003865242,-0.026077264919877052,-0.0174405574798584,0.010598999448120594,0.03680071607232094,-0.009235401637852192,0.0017385226674377918,0.006814471911638975,0.0489221066236496,-0.0019724909216165543,0.018874332308769226,0.02004796452820301,-0.0020148437470197678,0.008805358782410622,-0.040504470467567444,0.04032474383711815,0.00944923423230648,0.008311165496706963,-0.00861819926649332,-0.0280994214117527,0.00027612302801571786,-0.01748758554458618,0.044422704726457596,-0.07925693690776825,-0.008477145805954933,-0.005093075335025787,0.016879195347428322,0.03142248094081879,0.03341977298259735,-0.021985089406371117,-0.004542011767625809,0.021246347576379776,-0.010028429329395294,0.01987876556813717,-0.014755673706531525,-0.020642079412937164,0.024522650986909866,-0.027671433985233307,-0.01412900723516941,0.03516646474599838,-0.020615093410015106,0.028098683804273605,-0.003703400259837508,-0.06337764859199524,0.02703252248466015,-0.034101009368896484,0.035391952842473984,-0.001983240246772766,0.04340599849820137,0.032846130430698395,-0.008985663764178753,0.015483061783015728,-0.039546918123960495,0.054832328110933304,-0.020919958129525185,0.07428246736526489,-0.015291504561901093,-0.01573360711336136,-0.05979906767606735,0.014340310357511044,0.015109420754015446,0.06518121808767319,-0.0014076463412493467,0.014933520928025246,0.02327997237443924,0.06448157876729965,-0.04990266263484955,0.03573345020413399,0.022630205377936363,-0.021542390808463097,0.013031636364758015,0.028182515874505043,0.043907832354307175,0.04154534637928009,0.011189347133040428,0.057785261422395706,-0.03161966800689697,0.025395987555384636,0.016941774636507034,-0.005102953873574734,-0.01497552078217268,0.0335998497903347,0.018760712817311287,-0.006956056691706181,-0.019005974754691124,-0.02006240375339985,-0.007951268926262856,0.011147296987473965,-0.006439243908971548,-0.002815288957208395,0.06229009851813316,-0.004595787264406681,-0.02957875281572342,-0.014777645468711853,0.001745819579809904,-0.02405421994626522,-0.02964232675731182,-0.01751244254410267,-0.02233462780714035,0.036758001893758774,0.027282357215881348,-0.018710169941186905,0.02974563278257847,-0.010938247665762901,-0.07609176635742188,-0.0010358759900555015,0.010499561205506325,0.028428399935364723,-0.010760542936623096,-0.006544744595885277,0.04370734468102455,-0.010834799148142338,-0.049438800662755966,0.027620486915111542,-0.0415174625813961,-0.03664165362715721,0.04398975521326065,0.06508603692054749,-0.047658294439315796,-0.01956011727452278,0.03882747143507004,0.01028345711529255,0.03510546311736107,-0.02904699556529522,-0.01830991357564926,-0.020892487838864326,0.009624756872653961,-0.028384586796164513,0.004460845608264208,0.05436569079756737,0.009476745501160622,-0.024219578132033348,-0.020189665257930756,0.015154501423239708,0.03455453738570213,-0.0027398942038416862,0.04971201345324516,-0.043188199400901794,0.06907648593187332,-0.03932458162307739,0.07579681277275085,0.008359038271009922,-0.03884955868124962,0.042781565338373184,-0.011089826002717018,-0.005697593558579683,-0.043346162885427475,-0.0033585699275135994,0.00601580273360014,-0.06845331937074661,0.02011762745678425,-0.006897269282490015,-0.0439189113676548,0.04217711091041565,0.01633049175143242,0.009564151987433434,-0.029661908745765686,0.05973763391375542,-0.003934066742658615,-0.02016485296189785,0.005230137147009373,-0.01365652959793806,0.036193542182445526,0.049440156668424606,0.045009151101112366,-0.03262302279472351,-0.12219930440187454,-0.01980811171233654,-0.03898068517446518,-0.04694764316082001,0.015913017094135284,-0.042682524770498276,0.012835543602705002,-0.0458427295088768,0.025927085429430008,0.07709560543298721,0.007056726608425379,-0.012098761275410652,-0.028233613818883896,-0.02821081504225731,0.03706569969654083,-0.02726130001246929,-0.07785871624946594,-0.022486060857772827,-0.012651250697672367,0.03681563213467598,-0.07445081323385239,-0.022616427391767502,-0.014656801708042622,0.026180589571595192,-0.047462452203035355,0.01108042523264885,0.0371716246008873,-0.0029171141795814037,-0.019237319007515907,-0.016087396070361137,-0.014411425217986107,-0.01178333442658186,0.011837543919682503,0.05128980427980423,-0.026406029239296913,0.022897955030202866,-0.010371695272624493,0.02449868805706501,-0.043507687747478485,-0.0006037342827767134,-0.005130353849381208,-0.036281485110521317,-0.047369010746479034,0.046495694667100906,0.019046403467655182,-0.012939708307385445,-0.055711619555950165,0.02744893729686737,-0.03397110849618912,-0.016778284683823586,0.0061228396371006966,0.011656727641820908,-0.012859521433711052,-0.011783595196902752,0.002875189995393157,-0.061162546277046204,0.0020578433759510517,-0.12902642786502838,-0.04902217909693718,-0.03965763375163078,0.05277301371097565,-0.03855815902352333,-0.014067546464502811,-0.03965282067656517,-0.03204018250107765,-0.006890359800308943,0.006763033103197813,-0.00972821842879057,-0.07599017769098282,0.009810377843677998,-0.002904073800891638,0.01916615292429924,0.012511094100773335,-0.0757574588060379,0.013746405951678753,0.06375370174646378,-0.002756525995209813,-0.000992843764834106,0.0036345345433801413,0.012778295204043388,-0.0442686527967453,0.00690825330093503,0.01189878024160862,0.0762973353266716,0.04620802402496338,-0.0060218037106096745,-0.09117025882005692,0.07254214584827423,-0.09846463054418564,-0.05885323882102966,-0.004732050932943821,-0.0022021490149199963,0.012344090268015862,0.013011445291340351,0.027743689715862274,0.004395497962832451,-0.038632847368717194,0.058720845729112625,-0.0037965094670653343,-0.0041958545334637165,0.04112944379448891,-0.021885521709918976,0.0010618306696414948,0.02195890247821808,-0.010098123922944069,0.1095864400267601,-0.005956961773335934,0.02681756392121315,0.03126100078225136,-0.014345224015414715,0.011594104580581188,-0.0018843964207917452,-0.015607009641826153,0.0031170339789241552,0.038118429481983185,0.000740989635232836,0.016586730256676674,0.013547890819609165,0.01672445237636566,0.0213653314858675,-0.014887718483805656,-0.008027229458093643,0.02063075080513954,-0.004812363535165787,-0.028439469635486603,0.02304665371775627,0.030148029327392578,0.013431861065328121,-0.042809296399354935,-0.009459338150918484,-0.06515000760555267,0.04832272231578827,-0.001591341570019722,-0.03172910213470459,-0.04187654331326485,-0.018732434138655663,0.020925164222717285,-0.03605828434228897,0.04102494567632675,0.027225876227021217,-0.0002495362423360348,-0.06637067347764969,-0.03596113994717598,-0.008654632605612278,-0.0033854844514280558,-7.073766477471525e-33,-0.05666534975171089,-0.006179549265652895,-0.04253564402461052,-0.011154080741107464,0.03187583014369011,-0.0941513404250145,-0.004017732571810484,-0.008693709969520569,-0.022931363433599472,-0.022801382467150688,-0.001164026907645166,-0.04247891530394554,0.0009705126285552979,0.01344126183539629,-0.00803395640105009,0.021823059767484665,0.012871897779405117,0.00007065935642458498,0.004401656799018383,0.02515367604792118,-0.04744245484471321,0.04218774661421776,-0.0345751978456974,-0.09234067797660828,-0.012932232581079006,0.000938472687266767,0.04192686453461647,-0.0002579370338935405,-0.05280137434601784,0.04498947784304619,0.006048115435987711,-0.03979799523949623,-0.03365689888596535,-0.06684942543506622,0.016972029581665993,-0.013872221112251282,-0.10613337904214859,-0.011998985894024372,-0.006125171668827534,0.0475945882499218,0.04559025913476944,-0.02709123305976391,-0.002570186275988817,0.016094135120511055,0.014784201979637146,0.015738429501652718,0.033762723207473755,0.007162143941968679,-0.027063408866524696,-0.07154791802167892,0.03317108005285263,0.015134984627366066,-0.034613195806741714,0.02656404860317707,0.021932043135166168,-0.0018695007311180234,0.045034218579530716,-0.0162526722997427,-0.055508825927972794,-0.02961987815797329,0.0033863994758576155,-0.050378333777189255,-0.036295242607593536,0.00022505561355501413,0.03852122649550438,0.031113754957914352,0.021222276613116264,0.022730372846126556,-0.0995112806558609,0.022218007594347,0.005872884765267372,0.021383075043559074,0.01137477345764637,-0.07680012285709381,-0.028621919453144073,0.02067936584353447,-0.041500918567180634,0.025757895782589912,-0.09200840443372726,0.07491343468427658,0.01860654354095459,0.016710380092263222,-0.009523884393274784,-0.008959830738604069,0.017093965783715248,-0.03946634382009506,0.0005940819391980767,-0.028337553143501282,0.024722494184970856,-0.0018045210745185614,-0.030397823080420494,-0.03318570554256439,-0.07509484142065048,0.023038605228066444,-0.1033271923661232,0.014980364590883255,0.047579288482666016,-0.012032934464514256,-0.021601827815175056,-0.0224840696901083,0.03106050007045269,-0.017613140866160393,0.0014583338052034378,-0.013916351832449436,-0.022102804854512215,-0.010448994114995003,0.007357614114880562,-0.04881800338625908,-0.07308969646692276,0.020892616361379623,0.027509566396474838,-0.000693438109010458,-0.0005942309508100152,-0.03687888756394386,0.006219221279025078,-0.014764044433832169,-0.0016035803128033876,0.019845547154545784,0.025444116443395615,0.021292712539434433,-0.009639072231948376,0.006136213429272175,0.037675388157367706,0.02843867428600788,0.09661167114973068,-0.023492811247706413,-0.00021000522247049958,0.029927223920822144,0.017456840723752975,0.014788538217544556,-0.014262263663113117,0.0052611916325986385,3.25636790421413e-7,0.002277635969221592,0.00031712703639641404,0.01286312099546194,-0.006608620285987854,0.032825957983732224,-0.015676118433475494,-0.008599869906902313,-0.05293590575456619,-0.007275498937815428,-0.08858971297740936,0.02798156626522541,0.04023529216647148,0.03474494069814682,0.035097386687994,-0.05635989457368851,-0.06460103392601013,0.06393657624721527,-0.02098848856985569,-0.04666679725050926,0.0012480553705245256,0.04676336795091629,-0.012352611869573593,0.03494664281606674,0.026441920548677444,-0.00383680104278028,0.04786413535475731,0.0038528689183294773,-0.03518295660614967,0.07991433888673782,-0.005192310083657503,0.055143240839242935,0.030512124300003052,0.0015882505103945732,0.019581079483032227,0.024091137573122978,0.0016727992333471775,0.0030735828913748264,0.01946881413459778,0.01984868012368679,0.04007141292095184,0.07553129643201828,-0.04776844009757042,-0.02520037814974785,-0.03865398094058037,0.015318979509174824,-0.038061946630477905,-0.0012196764582768083,0.10929904878139496,-0.04932452365756035,0.02274111658334732,0.006967879366129637,0.011474977247416973,0.014258035458624363,-0.07377210259437561,0.017650814726948738,-0.02797706238925457,-0.02291141077876091,0.03282530605792999,0.01696290448307991,0.044676803052425385,0.01659543626010418,-0.00391817232593894,-0.008366109803318977,-0.014471558853983879,-0.004907290916889906,-0.024839099496603012,-0.02397405542433262,3.883545430836383e-34,-0.028813371434807777,0.022011414170265198,0.007568246219307184,0.08572226762771606,0.02217283472418785,-0.038598932325839996,0.006422638893127441,-0.06671557575464249,0.006614017300307751,-0.041951198130846024,-0.006814384832978249]'
SET
  @TechnicalDesignVector_619ec45c = N'[0.00852501392364502,0.09333718568086624,-0.014715795405209064,0.006013380363583565,0.02282358705997467,-0.0062700677663087845,-0.0067566027864813805,0.06305945664644241,0.009306957013905048,-0.0072202482260763645,-0.055636290460824966,-0.0130293108522892,0.048341765999794006,0.01600467413663864,-0.029028240591287613,0.0036471725907176733,0.02460559643805027,0.0734144002199173,-0.04196210950613022,-0.06562729924917221,-0.01414837222546339,-0.041390713304281235,0.043763529509305954,-0.014411240816116333,0.06514855474233627,0.011289958842098713,-0.03213515505194664,0.01295675802975893,0.03204789012670517,-0.03956502303481102,-0.012155277654528618,0.01141073927283287,-0.0345996730029583,0.00811964925378561,0.000002154651838282007,-0.01077436376363039,-0.0745266005396843,-0.005433196667581797,-0.03940097987651825,-0.0009589421679265797,-0.07605976611375809,-0.019810844212770462,0.01604357920587063,-0.014417012222111225,-0.018932590261101723,-0.06585131585597992,-0.08090239763259888,0.06645094603300095,-0.011080218479037285,0.011003687046468258,0.0020317621529102325,-0.04174751788377762,-0.0298012662678957,0.004364851862192154,0.020555628463625908,0.03160779923200607,0.021944619715213776,-0.061979085206985474,0.07790160179138184,-0.041454289108514786,-0.04028566926717758,0.024928351864218712,0.018082065507769585,-0.04502156376838684,0.06362945586442947,-0.010056410916149616,0.08749359101057053,0.03845702111721039,0.02427174150943756,-0.04534410685300827,0.04339278116822243,0.002627431182190776,0.018513107672333717,0.002151667606085539,-0.05603494867682457,0.02372216247022152,0.008936992846429348,-0.005744993686676025,-0.020516715943813324,0.014987730421125889,0.014946932904422283,0.017035281285643578,-0.0056645856238901615,-0.005011698231101036,-0.02819000743329525,0.08658330887556076,-0.022573241963982582,-0.028209395706653595,-0.03780006989836693,-0.0486673004925251,0.042180098593235016,-0.05670208856463432,0.023753415793180466,0.05701376497745514,-0.049675021320581436,0.00043765571899712086,0.05218710005283356,-0.026494063436985016,0.026528313755989075,-0.025918127968907356,0.003740620566532016,0.045820578932762146,0.027725880965590477,-0.010100633837282658,0.05209659785032272,0.03692684322595596,-0.011111999861896038,-0.008492954075336456,-0.0020246990025043488,0.035050805658102036,-0.020799240097403526,-0.002424260601401329,0.03174682334065437,0.08165598660707474,-0.03175029158592224,0.012089080177247524,-0.0538567416369915,-0.04702078551054001,-0.028492843732237816,-0.0100509999319911,0.048005297780036926,-0.006161730736494064,0.05034342780709267,0.0244989562779665,0.026485586538910866,0.04408865049481392,0.024863863363862038,-0.07595343142747879,-0.018375277519226074,0.03580767661333084,-0.013868549838662148,-0.04414264112710953,0.0157777052372694,0.0237163994461298,-0.0069351838901638985,0.021167239174246788,0.03391677886247635,-0.00737327616661787,-0.06595347821712494,-0.009665248915553093,0.011594299226999283,-0.0024636632297188044,-0.000449036480858922,0.032167401164770126,-0.0008899644017219543,-0.004232058767229319,0.03695740923285484,-0.02127118408679962,-0.018092751502990723,-0.010381834581494331,0.03536997735500336,0.005152691155672073,0.032491154968738556,0.033592816442251205,0.04114346578717232,0.06336274743080139,0.0887540802359581,0.01740732230246067,0.09967551380395889,-0.06359267979860306,0.023401403799653053,0.06773412227630615,0.014114480465650558,-0.008327731862664223,-0.007276862394064665,0.01815740019083023,0.03594619035720825,-0.027316024526953697,-0.07211021333932877,-0.03952061012387276,-0.034489914774894714,-0.015154577791690826,-0.04090474173426628,0.08187202364206314,0.007402127608656883,-0.06631594151258469,0.026447530835866928,-0.023514386266469955,-0.0641804113984108,-0.03764702007174492,0.005397258326411247,0.0487055703997612,-0.00900226179510355,0.0013241274282336235,0.06307242810726166,-0.07216919958591461,0.03173281252384186,0.0114798154681921,0.020812323316931725,0.004637033678591251,0.04982226714491844,0.019331878051161766,-0.05814768373966217,-0.006104589439928532,-0.018813420087099075,0.04078807681798935,-0.0322694294154644,0.00424839835613966,0.015062063932418823,0.008827966637909412,0.032021958380937576,-0.042927466332912445,0.08950849622488022,0.0685739740729332,0.0031948620453476906,0.015244286507368088,-0.05602455139160156,0.06446582823991776,-0.0155238201841712,-0.06210524961352348,-0.04477255046367645,-0.008664618246257305,-0.017271097749471664,0.0458296462893486,-0.04339919984340668,0.05304870754480362,0.04389345645904541,0.007434455677866936,-0.012203802354633808,-0.019286558032035828,-0.002093429211527109,0.04157063364982605,0.030021894723176956,0.0018569689709693193,0.047308556735515594,0.05468222126364708,0.04096152260899544,0.016990631818771362,0.004159355536103249,-0.043293461203575134,0.01748478226363659,0.014380084350705147,-0.024830659851431847,0.004322557710111141,-0.00701585179194808,0.009160740301012993,-0.04180070385336876,0.028331607580184937,-0.024311859160661697,0.028985032811760902,0.04014287889003754,-0.07145910710096359,0.008138559758663177,-0.03911299630999565,-0.08580763638019562,-0.03065270557999611,-0.01847452111542225,0.054514989256858826,0.018115147948265076,-0.018165836110711098,-0.003532737959176302,0.001130610820837319,0.019990358501672745,-0.013341019861400127,-0.03752043843269348,0.004687543958425522,-0.021908994764089584,0.00841020978987217,-0.012007368728518486,0.01467263512313366,0.019120611250400543,0.0377337709069252,-0.0068246484734117985,-0.03567735478281975,0.04235050082206726,-0.017828062176704407,0.0420043021440506,-0.035778116434812546,0.026653969660401344,0.013009382411837578,0.0008016492938622832,0.019934451207518578,0.06000768393278122,0.00015721464296802878,0.03300650790333748,0.02686723880469799,0.0007544448599219322,0.07213959097862244,-0.02846369706094265,-0.049103520810604095,0.006382301449775696,-0.03409765288233757,-0.005780175793915987,0.03716612234711647,-0.03439987450838089,-0.001591708860360086,-0.007294162642210722,-0.039259184151887894,0.009386553429067135,-0.007112815976142883,0.0074060047045350075,0.004069473594427109,0.015590691938996315,-0.027125252410769463,-0.035284075886011124,0.006551964208483696,-0.01357296947389841,0.016298245638608932,-0.001984067726880312,-0.005959820933640003,-0.004386151675134897,-0.004584541544318199,-0.029635706916451454,-0.022082636132836342,-0.0008036373183131218,0.04237210750579834,0.008394481614232063,0.03823523968458176,0.027883578091859818,0.02504981867969036,-0.026107488200068474,0.043124377727508545,-0.007096361834555864,-0.04683791100978851,0.014898398891091347,0.029750274494290352,0.033682238310575485,-0.05593618378043175,0.013993649743497372,0.06858120113611221,-0.006917147431522608,-0.011637992225587368,0.0011779614724218845,0.04725676402449608,0.0028359328862279654,0.014215716160833836,0.009933103807270527,-0.01083021704107523,0.005293183960020542,0.02391435019671917,0.01644972339272499,-0.026377219706773758,-0.003755175042897463,-0.04870663210749626,0.021605242043733597,-0.042366836220026016,-0.0015988654922693968,0.061817821115255356,-0.019328905269503593,-0.017955128103494644,0.03052186407148838,-0.016410162672400475,-0.04992964118719101,0.054368630051612854,0.03721623867750168,0.004952030722051859,0.014209764078259468,-0.021986626088619232,-0.05815335363149643,-0.007216234691441059,-0.017345191910862923,0.05195885896682739,-0.010390091687440872,-0.022906560450792313,-0.011157779023051262,0.02922249771654606,-0.004727057181298733,0.038063712418079376,0.0321258082985878,-0.030442753806710243,0.053460970520973206,0.06364963203668594,0.05349409207701683,-0.019757332280278206,0.016856782138347626,0.0200027022510767,0.03213921934366226,-0.01017147395759821,-0.03381343185901642,-0.046952296048402786,-0.045721374452114105,-0.0029225689359009266,-0.027156325057148933,0.04586171731352806,0.011285850778222084,0.013475224375724792,0.014646480791270733,0.009123090654611588,-0.0002541042922530323,-0.009258308447897434,0.02817428670823574,-0.008589428849518299,0.09064068645238876,0.017825836315751076,0.06397468596696854,-0.026811596006155014,0.021684855222702026,-0.04866062104701996,-0.021171895787119865,-0.008077695965766907,-0.025145631283521652,-0.006099645048379898,-0.01915862411260605,-0.05891420692205429,-0.009615391492843628,0.01469123363494873,-0.026025913655757904,0.06313695013523102,0.03452082350850105,-0.006033126264810562,-0.05315778777003288,0.07975965738296509,0.02940097264945507,0.053379274904727936,-0.033754266798496246,-0.05491112545132637,0.011535098776221275,0.01647384651005268,0.061612553894519806,0.007379375398159027,-0.013413924723863602,-0.006904338952153921,-0.04903443902730942,-0.04786499962210655,-0.019971435889601707,-0.048442188650369644,-0.000156674170284532,-0.022809017449617386,-0.0059987944550812244,0.02907477505505085,-0.01817549392580986,0.030556373298168182,-0.03597595542669296,-0.028079820796847343,0.03241695463657379,-0.003363936673849821,0.013430025428533554,-0.014725652523338795,-0.011208035051822662,-0.005462310276925564,-0.032682597637176514,0.01718084327876568,0.05417345464229584,0.06847809255123138,0.035924967378377914,-0.023785080760717392,0.07147938758134842,0.0024581989273428917,0.06241809204220772,-0.024215539917349815,0.015607975423336029,-0.07184983789920807,0.054418351501226425,0.0809900239109993,0.0028576841577887535,-0.0066153742372989655,-0.03134440630674362,0.09481384605169296,-0.05187222361564636,-0.03124985098838806,0.01082997303456068,-0.03208456188440323,0.021486632525920868,-0.0244560819119215,-0.013729038648307323,-0.024975469335913658,-0.033478327095508575,0.04312177374958992,-0.02579597383737564,0.016942834481596947,0.009988208301365376,0.04269152134656906,-0.012626432813704014,0.0005119089037179947,0.010482209734618664,-0.0674089640378952,0.02347252517938614,-0.0567622035741806,-0.03821171447634697,-0.016007371246814728,0.011682181619107723,-0.03882225230336189,0.015134915709495544,0.02505839243531227,0.013964497484266758,-0.044135451316833496,0.002433749847114086,-0.021336430683732033,-0.062258362770080566,-0.02576306462287903,0.005152751691639423,0.012769117951393127,-0.043762482702732086,-0.04349559172987938,0.01633290760219097,0.03457011282444,-0.02186361700296402,-0.013161621056497097,0.005960426758974791,-0.03689279779791832,-0.021523544564843178,0.0718030333518982,-0.0218764990568161,0.0012219223426654935,0.014289266429841518,-0.010835439898073673,-0.02323865331709385,0.01981917954981327,-0.05596988648176193,-0.10262896120548248,-0.008379943668842316,-0.022027604281902313,0.04426085948944092,0.012999757193028927,0.07283195108175278,-0.04375739395618439,-0.047169994562864304,0.04400363191962242,-0.018904609605669975,-0.038736991584300995,-0.040012817829847336,-0.028955325484275818,-0.08649195730686188,0.018075913190841675,0.02132248505949974,0.05938936769962311,-0.03291354328393936,-0.05855770409107208,0.03614006191492081,-0.04343486204743385,0.036578308790922165,0.01802174746990204,-0.0014085696311667562,0.014679919928312302,0.013720359653234482,-0.023691102862358093,0.0012953259283676744,0.01945309527218342,0.06670672446489334,0.03257784992456436,-0.007768542971462011,-0.00164208491332829,-0.012607818469405174,0.01597435213625431,-0.027142534032464027,0.03765447810292244,0.029821135103702545,-0.02643747255206108,-0.03134562447667122,-0.05884725600481033,-0.07811801135540009,0.028610490262508392,0.03901314735412598,-0.016875581815838814,0.0098051642999053,-0.071775421500206,0.06931982934474945,-0.04607607424259186,-0.00600242568179965,0.030408987775444984,0.008856235072016716,-0.0654468983411789,-0.02233312837779522,-0.02537423186004162,0.0378434918820858,-6.096539085382587e-33,-0.02842452935874462,-0.057552121579647064,-0.01299373246729374,0.008784630335867405,0.029296541586518288,-0.000912439136300236,-0.018295768648386,-0.03226068615913391,-0.03274579718708992,-0.0647357776761055,-0.003116883337497711,-0.01635250262916088,0.006584887858480215,0.014522803947329521,-0.01876194402575493,-0.04228280112147331,0.012632441706955433,0.010799038223922253,-0.03201156482100487,0.006247378420084715,-0.01708981767296791,0.004502901807427406,-0.041395287960767746,-0.01704087108373642,-0.01990162581205368,0.025675293058156967,-0.02231053076684475,0.015943871811032295,-0.08667117357254028,0.04758692905306816,-0.04464219510555267,-0.021012060344219208,-0.024945441633462906,-0.0928494781255722,0.038460128009319305,-0.03396201133728027,-0.07781818509101868,0.015212505124509335,0.012344888411462307,0.0075194332748651505,0.04954735189676285,0.013735519722104073,0.011859264224767685,0.020110733807086945,0.002344849519431591,-0.02908337488770485,0.008783933706581593,0.0026922249235212803,0.01585538126528263,-0.06050288304686546,-0.027265746146440506,0.002340399194508791,-0.004304617177695036,0.024705586954951286,-0.016427427530288696,0.03158651664853096,0.058751024305820465,0.053460896015167236,-0.0779939666390419,-0.031486283987760544,0.02273351140320301,-0.030487025156617165,0.004204574041068554,0.0173799991607666,0.032272037118673325,0.020260944962501526,0.021600177511572838,0.029082389548420906,-0.04676438122987747,-0.045314423739910126,-0.004110196139663458,-0.0063648405484855175,-0.021323328837752342,-0.022701002657413483,0.030196573585271835,0.0013805640628561378,-0.09302760660648346,0.02050914615392685,-0.11336630582809448,0.047229692339897156,-0.012629001401364803,0.02701619826257229,0.025492720305919647,0.014466586522758007,0.009013391099870205,-0.033536914736032486,0.023655563592910767,0.01680668257176876,-0.036382634192705154,-0.0002058740210486576,0.017835957929491997,-0.06005902588367462,-0.07197093218564987,0.027850180864334106,-0.0970541387796402,-0.016175562515854836,0.04336177930235863,-0.01429116353392601,0.006643753033131361,0.030401451513171196,0.07179141044616699,-0.011194806545972824,-0.0024322408717125654,0.0006533875712193549,-0.03808164596557617,0.01825471967458725,0.05869317799806595,0.049083467572927475,-0.04432007670402527,0.010731713846325874,0.01615426316857338,-0.018677370622754097,-0.03676353394985199,0.04706481471657753,0.030025998130440712,0.034344445914030075,0.007155195809900761,-0.0868086963891983,0.03902013599872589,0.0477842278778553,0.023497341200709343,0.02976958081126213,-0.010900123976171017,0.05683176591992378,0.047338951379060745,0.029291773214936256,-0.012036706320941448,-0.003185631474480033,-0.03899673372507095,-0.05501009523868561,0.008627605624496937,-0.00043981653288938105,2.8278822128413594e-7,0.010812691412866116,-0.010782288387417793,-0.042324550449848175,-0.009277153760194778,-0.004784236662089825,-0.03955838829278946,-0.025659115985035896,-0.05142270401120186,-0.017599500715732574,-0.06568029522895813,0.028377613052725792,0.004305880982428789,0.05129069462418556,0.0017368439584970474,-0.048683371394872665,-0.04856683686375618,0.03937038406729698,-0.02709868736565113,-0.019822431728243828,-0.027969906106591225,0.011275558732450008,0.008801196701824665,0.03137911483645439,-0.01207016408443451,0.014615783467888832,0.07350064069032669,-0.007373501546680927,-0.0510229766368866,0.0371486097574234,-0.052152618765830994,0.023992042988538742,-0.005085778422653675,0.00039293066947720945,0.0036745984107255936,0.03540501743555069,0.033621154725551605,0.006292886100709438,0.00022742696455679834,0.06676360964775085,0.008625098504126072,0.03858589380979538,-0.007193740922957659,-0.047245319932699203,-0.09630773961544037,-0.00033834914211183786,-0.029255561530590057,-0.007338931318372488,0.05769439414143562,-0.007504807785153389,0.03301938623189926,0.005544420797377825,0.04200289398431778,-0.028351454064249992,-0.013336176984012127,0.034257203340530396,-0.03622470796108246,0.01773998886346817,0.02645636908710003,0.025064103305339813,0.01383147481828928,-0.024775629863142967,-0.008928501047194004,0.023421797901391983,0.004990122746676207,-0.014826334081590176,0.024427343159914017,-0.04971839115023613,3.424189100417659e-34,-0.030926009640097618,-0.03648584336042404,0.02917681261897087,0.017080433666706085,0.019987864419817924,-0.03771960735321045,-0.029647301882505417,-0.01995430514216423,0.044959016144275665,-0.018905360251665115,-0.03268422558903694]'
SET
  @HasCustomProps_619ec45c = 0
SET
  @HasCustomEvents_619ec45c = 0
SET
  @RequiresData_619ec45c = 1
SET
  @DependencyCount_619ec45c = 3
SET
  @TechnicalDesignVectorEmbeddingModelID_619ec45c = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_619ec45c = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @ID_619ec45c = '77571F8B-A4A2-4CD3-AC23-A59D6E989F5D'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_619ec45c,
  @Name = @Name_619ec45c,
  @Version = @Version_619ec45c,
  @VersionSequence = @VersionSequence_619ec45c,
  @Title = @Title_619ec45c,
  @Description = @Description_619ec45c,
  @Type = @Type_619ec45c,
  @Status = @Status_619ec45c,
  @DeveloperName = @DeveloperName_619ec45c,
  @DeveloperEmail = @DeveloperEmail_619ec45c,
  @DeveloperOrganization = @DeveloperOrganization_619ec45c,
  @SourceRegistryID = @SourceRegistryID_619ec45c,
  @ReplicatedAt = @ReplicatedAt_619ec45c,
  @LastSyncedAt = @LastSyncedAt_619ec45c,
  @Specification = @Specification_619ec45c,
  @FunctionalRequirements = @FunctionalRequirements_619ec45c,
  @TechnicalDesign = @TechnicalDesign_619ec45c,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_619ec45c,
  @TechnicalDesignVector = @TechnicalDesignVector_619ec45c,
  @HasCustomProps = @HasCustomProps_619ec45c,
  @HasCustomEvents = @HasCustomEvents_619ec45c,
  @RequiresData = @RequiresData_619ec45c,
  @DependencyCount = @DependencyCount_619ec45c,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_619ec45c,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_619ec45c,
  @ID = @ID_619ec45c;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_a9ceb279 NVARCHAR(MAX),
@Name_a9ceb279 NVARCHAR(500),
@Version_a9ceb279 NVARCHAR(50),
@VersionSequence_a9ceb279 INT,
@Title_a9ceb279 NVARCHAR(1000),
@Description_a9ceb279 NVARCHAR(MAX),
@Type_a9ceb279 NVARCHAR(255),
@Status_a9ceb279 NVARCHAR(50),
@DeveloperName_a9ceb279 NVARCHAR(255),
@DeveloperEmail_a9ceb279 NVARCHAR(255),
@DeveloperOrganization_a9ceb279 NVARCHAR(255),
@SourceRegistryID_a9ceb279 UNIQUEIDENTIFIER,
@ReplicatedAt_a9ceb279 DATETIMEOFFSET,
@LastSyncedAt_a9ceb279 DATETIMEOFFSET,
@Specification_a9ceb279 NVARCHAR(MAX),
@FunctionalRequirements_a9ceb279 NVARCHAR(MAX),
@TechnicalDesign_a9ceb279 NVARCHAR(MAX),
@FunctionalRequirementsVector_a9ceb279 NVARCHAR(MAX),
@TechnicalDesignVector_a9ceb279 NVARCHAR(MAX),
@HasCustomProps_a9ceb279 BIT,
@HasCustomEvents_a9ceb279 BIT,
@RequiresData_a9ceb279 BIT,
@DependencyCount_a9ceb279 INT,
@TechnicalDesignVectorEmbeddingModelID_a9ceb279 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_a9ceb279 NVARCHAR(MAX),
@ID_a9ceb279 UNIQUEIDENTIFIER
SET
  @Namespace_a9ceb279 = N'Admin/Entities'
SET
  @Name_a9ceb279 = N'EntityDetails'
SET
  @Version_a9ceb279 = N'1.0.0'
SET
  @VersionSequence_a9ceb279 = 1
SET
  @Title_a9ceb279 = N'Entity Details Panel'
SET
  @Description_a9ceb279 = N'Sliding panel that displays detailed information about a selected entity including fields and relationships'
SET
  @Type_a9ceb279 = N'Other'
SET
  @Status_a9ceb279 = N'Published'
SET
  @Specification_a9ceb279 = N'{
    "name": "EntityDetails",
    "title": "Entity Details Panel",
    "description": "Sliding panel that displays detailed information about a selected entity including fields and relationships",
    "type": "form",
    "functionalRequirements": "## Entity Details Requirements\n\n- Slide in from the right when an entity is selected\n- Display entity metadata at the top\n- Show fields in a formatted table\n- Display relationships with icons\n- Include ''Open Record'' button\n- Support closing via X button or Escape key\n- Smooth slide animation\n- Scrollable content area",
    "dataRequirements": null,
    "technicalDesign": "## Technical Design\n\n### Props\n- entity: Selected entity object\n- fields: Array of entity fields\n- relationships: Array of entity relationships\n- isOpen: Whether panel is visible\n- onClose: Callback to close panel\n- onOpenRecord: Callback to open entity record\n\n### Layout\n- Fixed position overlay\n- Slide animation using transform\n- Header with entity name and close button\n- Sections for metadata, fields, relationships\n- Sticky ''Open Record'' button at bottom",
    "properties": [
    {
        "name": "entity",
        "description": "The selected entity object",
        "type": "object",
        "required": false
    },
    {
        "name": "fields",
        "description": "Array of fields for the entity",
        "type": "array",
        "required": false,
        "defaultValue": []
    },
    {
        "name": "relationships",
        "description": "Array of relationships for the entity",
        "type": "array",
        "required": false,
        "defaultValue": []
    },
    {
        "name": "isOpen",
        "description": "Whether the panel is open",
        "type": "boolean",
        "required": true
    },
    {
        "name": "onClose",
        "description": "Callback to close the panel",
        "type": "function",
        "required": true
    },
    {
        "name": "onOpenRecord",
        "description": "Callback to open the entity record",
        "type": "function",
        "required": true
    }
    ],
    "events": [
    {
        "name": "onClose",
        "description": "Fired when the panel should close",
        "parameters": []
    },
    {
        "name": "onOpenRecord",
        "description": "Fired when the open record button is clicked",
        "parameters": [
        {
            "name": "entityName",
            "description": "Name of the entity to open",
            "type": "string"
        }
        ]
    }
    ],
    "exampleUsage": "<EntityDetails\n  entity={selectedEntity}\n  fields={entityFields}\n  relationships={entityRelationships}\n  isOpen={detailsPanelOpen}\n  onClose={handleCloseDetails}\n  onOpenRecord={handleOpenRecord}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>",
    "code": "function EntityDetails({ \n  entity, \n  fields, \n  relationships, \n  isOpen, \n  onClose, \n  onOpenRecord,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders.radius === ''object'' ? styles.borders.radius[size] : styles.borders.radius;\n  };\n  \n  // Handle escape key to close panel\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === ''Escape'' && isOpen) {\n        onClose?.();\n      }\n    };\n    \n    document.addEventListener(''keydown'', handleEscape);\n    return () => document.removeEventListener(''keydown'', handleEscape);\n  }, [isOpen, onClose]);\n  \n  // Handle open record button\n  const handleOpenRecord = useCallback(() => {\n    console.log(''EntityDetails handleOpenRecord called'', { entity, onOpenRecord });\n    if (entity?.Name) {\n      console.log(''Calling onOpenRecord with entity name:'', entity.Name);\n      if (onOpenRecord) {\n        onOpenRecord(entity.Name);\n      } else {\n        console.error(''onOpenRecord callback is not defined'');\n      }\n    } else {\n      console.error(''No entity or entity name available'');\n    }\n  }, [entity, onOpenRecord]);\n  \n  // Render field type badge\n  const renderFieldType = (type) => {\n    const typeColors = {\n      ''nvarchar'': styles.colors.info || styles.colors.primary,\n      ''varchar'': styles.colors.info || styles.colors.primary,\n      ''int'': styles.colors.success || styles.colors.primary,\n      ''bigint'': styles.colors.success || styles.colors.primary,\n      ''decimal'': styles.colors.success || styles.colors.primary,\n      ''float'': styles.colors.success || styles.colors.primary,\n      ''bit'': styles.colors.warning || styles.colors.secondary,\n      ''datetime'': styles.colors.secondary,\n      ''uniqueidentifier'': styles.colors.primary,\n      ''text'': styles.colors.info || styles.colors.primary,\n      ''ntext'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = typeColors[type?.toLowerCase()] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {type}\n      </span>\n    );\n  };\n  \n  // Render relationship type icon\n  const renderRelationshipIcon = (type) => {\n    const icons = {\n      ''One to Many'': ''1:N'',\n      ''Many to One'': ''N:1'',\n      ''Many to Many'': ''N:N'',\n      ''One to One'': ''1:1''\n    };\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: styles.colors.primary + ''15'',\n        color: styles.colors.primary,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.bold || ''700'',\n        fontFamily: ''monospace''\n      }}>\n        {icons[type] || type}\n      </span>\n    );\n  };\n  \n  return (\n    <>\n      {/* Backdrop */}\n      {isOpen && (\n        <div\n          onClick={onClose}\n          style={{\n            position: ''fixed'',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: ''rgba(0, 0, 0, 0.3)'',\n            zIndex: 99999,\n            opacity: isOpen ? 1 : 0,\n            transition: ''opacity 0.3s'',\n            pointerEvents: isOpen ? ''auto'' : ''none''\n          }}\n        />\n      )}\n      \n      {/* Panel */}\n      <div style={{\n        position: ''fixed'',\n        top: ''75px'',\n        right: 0,\n        bottom: 0,\n        width: ''480px'',\n        backgroundColor: styles.colors.background,\n        boxShadow: isOpen ? `-4px 0 24px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}` : ''none'',\n        transform: isOpen ? ''translateX(0)'' : ''translateX(100%)'',\n        transition: ''transform 0.3s ease-out'',\n        zIndex: 100000,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''flex-start''\n          }}>\n            <div style={{ flex: 1 }}>\n              <h2 style={{\n                margin: 0,\n                fontSize: styles.typography.fontSize.xl,\n                fontWeight: styles.typography.fontWeight?.bold || ''700'',\n                color: styles.colors.text,\n                marginBottom: styles.spacing.xs\n              }}>\n                {entity?.DisplayName || entity?.Name || ''No Entity Selected''}\n              </h2>\n              {entity?.DisplayName && entity?.Name && entity.DisplayName !== entity.Name && (\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  fontFamily: ''monospace''\n                }}>\n                  {entity.Name}\n                </div>\n              )}\n            </div>\n            <button\n              onClick={onClose}\n              style={{\n                width: ''32px'',\n                height: ''32px'',\n                borderRadius: getBorderRadius(''sm''),\n                border: ''none'',\n                backgroundColor: ''transparent'',\n                color: styles.colors.textSecondary,\n                fontSize: styles.typography.fontSize.lg,\n                cursor: ''pointer'',\n                display: ''flex'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = ''transparent'';\n              }}\n            >\n              \u2715\n            </button>\n          </div>\n        </div>\n        \n        {/* Content */}\n        <div style={{\n          flex: 1,\n          overflow: ''auto'',\n          padding: styles.spacing.lg\n        }}>\n          {entity ? (\n            <>\n              {/* Entity Metadata */}\n              {entity.Description && (\n                <div style={{\n                  marginBottom: styles.spacing.xl,\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  borderLeft: `3px solid $' + '{styles.colors.primary}`\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    color: styles.colors.textSecondary,\n                    lineHeight: 1.6\n                  }}>\n                    {entity.Description}\n                  </div>\n                </div>\n              )}\n              \n              {/* Quick Info */}\n              <div style={{\n                display: ''grid'',\n                gridTemplateColumns: ''repeat(2, 1fr)'',\n                gap: styles.spacing.md,\n                marginBottom: styles.spacing.xl\n              }}>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Schema\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {entity.SchemaName || ''-''}\n                  </div>\n                </div>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Base Table\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {entity.BaseTable || ''-''}\n                  </div>\n                </div>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Base View\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {entity.BaseView || ''-''}\n                  </div>\n                </div>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Field Count\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {fields?.length || 0}\n                  </div>\n                </div>\n              </div>\n              \n              {/* Fields Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Fields ({fields?.length || 0})\n                </h3>\n                <div style={{\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  overflow: ''hidden''\n                }}>\n                  {fields && fields.length > 0 ? (\n                    <table style={{\n                      width: ''100%'',\n                      borderCollapse: ''collapse''\n                    }}>\n                      <thead>\n                        <tr style={{\n                          borderBottom: `1px solid $' + '{styles.colors.border}`\n                        }}>\n                          <th style={{\n                            padding: styles.spacing.sm,\n                            textAlign: ''left'',\n                            fontSize: styles.typography.fontSize.sm,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.textSecondary\n                          }}>\n                            Field\n                          </th>\n                          <th style={{\n                            padding: styles.spacing.sm,\n                            textAlign: ''left'',\n                            fontSize: styles.typography.fontSize.sm,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.textSecondary\n                          }}>\n                            Type\n                          </th>\n                          <th style={{\n                            padding: styles.spacing.sm,\n                            textAlign: ''center'',\n                            fontSize: styles.typography.fontSize.sm,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.textSecondary\n                          }}>\n                            Attributes\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {fields.map((field, index) => (\n                          <tr\n                            key={index}\n                            style={{\n                              borderBottom: index < fields.length - 1 \n                                ? `1px solid $' + '{styles.colors.borderLight || styles.colors.border}` \n                                : ''none''\n                            }}\n                          >\n                            <td style={{\n                              padding: styles.spacing.sm,\n                              fontSize: styles.typography.fontSize.sm,\n                              color: styles.colors.text\n                            }}>\n                              <div>\n                                <div style={{\n                                  fontWeight: field.IsPrimaryKey \n                                    ? (styles.typography.fontWeight?.semibold || ''600'')\n                                    : (styles.typography.fontWeight?.regular || ''400'')\n                                }}>\n                                  {field.DisplayName || field.Name}\n                                </div>\n                                {field.DisplayName && (\n                                  <div style={{\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    color: styles.colors.textSecondary,\n                                    fontFamily: ''monospace''\n                                  }}>\n                                    {field.Name}\n                                  </div>\n                                )}\n                              </div>\n                            </td>\n                            <td style={{\n                              padding: styles.spacing.sm\n                            }}>\n                              {renderFieldType(field.Type)}\n                              {field.Length && (\n                                <span style={{\n                                  marginLeft: styles.spacing.xs,\n                                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                  color: styles.colors.textSecondary\n                                }}>\n                                  ({field.Length})\n                                </span>\n                              )}\n                            </td>\n                            <td style={{\n                              padding: styles.spacing.sm,\n                              textAlign: ''center''\n                            }}>\n                              <div style={{\n                                display: ''flex'',\n                                gap: styles.spacing.xs,\n                                justifyContent: ''center'',\n                                flexWrap: ''wrap''\n                              }}>\n                                {field.IsPrimaryKey && (\n                                  <span style={{\n                                    padding: `2px $' + '{styles.spacing.xs}`,\n                                    backgroundColor: (styles.colors.warning || styles.colors.secondary) + ''15'',\n                                    color: styles.colors.warning || styles.colors.secondary,\n                                    borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    fontWeight: styles.typography.fontWeight?.bold || ''700''\n                                  }}>\n                                    PK\n                                  </span>\n                                )}\n                                {field.IsUnique && (\n                                  <span style={{\n                                    padding: `2px $' + '{styles.spacing.xs}`,\n                                    backgroundColor: (styles.colors.info || styles.colors.primary) + ''15'',\n                                    color: styles.colors.info || styles.colors.primary,\n                                    borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    fontWeight: styles.typography.fontWeight?.bold || ''700''\n                                  }}>\n                                    UQ\n                                  </span>\n                                )}\n                                {!field.AllowsNull && !field.IsPrimaryKey && (\n                                  <span style={{\n                                    padding: `2px $' + '{styles.spacing.xs}`,\n                                    backgroundColor: (styles.colors.error || styles.colors.secondary) + ''15'',\n                                    color: styles.colors.error || styles.colors.secondary,\n                                    borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    fontWeight: styles.typography.fontWeight?.bold || ''700''\n                                  }}>\n                                    NN\n                                  </span>\n                                )}\n                              </div>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  ) : (\n                    <div style={{\n                      padding: styles.spacing.lg,\n                      textAlign: ''center'',\n                      color: styles.colors.textSecondary,\n                      fontSize: styles.typography.fontSize.sm\n                    }}>\n                      No fields available\n                    </div>\n                  )}\n                </div>\n              </div>\n              \n              {/* Relationships Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Relationships ({relationships?.length || 0})\n                </h3>\n                <div style={{\n                  display: ''flex'',\n                  flexDirection: ''column'',\n                  gap: styles.spacing.sm\n                }}>\n                  {relationships && relationships.length > 0 ? (\n                    relationships.map((rel, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          display: ''flex'',\n                          alignItems: ''center'',\n                          gap: styles.spacing.md\n                        }}\n                      >\n                        {renderRelationshipIcon(rel.Type)}\n                        <div style={{ flex: 1 }}>\n                          <div style={{\n                            fontSize: styles.typography.fontSize.md,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.text\n                          }}>\n                            {rel.DisplayName || rel.RelatedEntity}\n                          </div>\n                          {rel.RelatedEntityJoinField && (\n                            <div style={{\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                              color: styles.colors.textSecondary,\n                              fontFamily: ''monospace''\n                            }}>\n                              via {rel.RelatedEntityJoinField}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    ))\n                  ) : (\n                    <div style={{\n                      padding: styles.spacing.lg,\n                      backgroundColor: styles.colors.surface,\n                      borderRadius: getBorderRadius(''sm''),\n                      textAlign: ''center'',\n                      color: styles.colors.textSecondary,\n                      fontSize: styles.typography.fontSize.sm\n                    }}>\n                      No relationships defined\n                    </div>\n                  )}\n                </div>\n              </div>\n            </>\n          ) : (\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              height: ''100%'',\n              color: styles.colors.textSecondary\n            }}>\n              <div style={{\n                fontSize: styles.typography.fontSize.lg,\n                marginBottom: styles.spacing.md\n              }}>\n                No Entity Selected\n              </div>\n              <div style={{\n                fontSize: styles.typography.fontSize.md\n              }}>\n                Select an entity from the list to view its details\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Footer with Open Record Button */}\n        {entity && (\n          <div style={{\n            padding: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.border}`,\n            backgroundColor: styles.colors.surface\n          }}>\n            <button\n              onClick={handleOpenRecord}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.primary,\n                color: ''white'',\n                border: ''none'',\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primaryHover || styles.colors.primary;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primary;\n              }}\n            >\n              Open Entity Record\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}",
    "dependencies": [],
    "libraries": []
}'
SET
  @FunctionalRequirements_a9ceb279 = N'## Entity Details

- Slide in from the right when an entity is selected
- Display entity metadata at the top
- Show fields in a formatted table
- Display relationships with icons
- Include ''Open Record'' button
- Support closing via X button or Escape key
- Smooth slide animation
- Scrollable content area'
SET
  @TechnicalDesign_a9ceb279 = N'## Design

### Props
- entity: Selected entity object
- fields: Array of entity fields
- relationships: Array of entity relationships
- isOpen: Whether panel is visible
- onClose: Callback to close panel
- onOpenRecord: Callback to open entity record

### Layout
- Fixed position overlay
- Slide animation using transform
- Header with entity name and close button
- Sections for metadata, fields, relationships
- Sticky ''Open Record'' button at bottom'
SET
  @FunctionalRequirementsVector_a9ceb279 = N'[-0.002087970729917288,-0.009539744816720486,-0.00039501007995568216,-0.011082619428634644,-0.011342833749949932,0.02810012549161911,0.042209964245557785,0.05928429216146469,-0.054289963096380234,-0.013591830618679523,-0.013269752264022827,0.03306238725781441,0.01741080731153488,0.060327064245939255,-0.007865426130592823,-0.105472631752491,-0.04006217420101166,0.006005467846989632,0.014696863479912281,0.002543821930885315,0.015302017331123352,-0.016913890838623047,-0.035096172243356705,-0.018312234431505203,-0.0306647177785635,-0.007065486628562212,-0.07132260501384735,0.03651455417275429,0.003309678053483367,-0.0667063519358635,-0.036982614547014236,0.06564293801784515,-0.04760976508259773,-0.08207718282938004,0.000001908952299345401,-0.021419707685709,-0.03309643641114235,0.02114817127585411,-0.07007281482219696,0.04157669469714165,-0.012194724753499031,-0.02728511393070221,0.0596720390021801,-0.037662994116544724,0.022071313112974167,-0.04220366105437279,0.01080665085464716,0.0665203183889389,-0.005095264408737421,-0.008434548042714596,0.012532848864793777,0.007519469130784273,0.033470895141363144,-0.030304597690701485,0.07648076862096786,0.025389935821294785,0.0026916703209280968,0.014825938269495964,0.04886089265346527,0.02042194828391075,-0.016977505758404732,-0.03142620250582695,0.028202185407280922,-0.03484562411904335,0.04284137114882469,0.021901991218328476,0.037265386432409286,-0.023369567468762398,0.056169793009757996,0.037720322608947754,0.11560135334730148,0.027279168367385864,0.001824146369472146,-0.07302716374397278,0.012290040031075478,-0.02258688397705555,0.0009798515820875764,-0.012588872574269772,-0.007051564287394285,-0.035858433693647385,-0.025711804628372192,-0.020516997203230858,-0.03777320310473442,0.003975107334554195,-0.012344390153884888,-0.012615418061614037,0.008288735523819923,-0.03831500932574272,-0.010321766138076782,-0.03794465214014053,0.029027044773101807,0.001727821072563529,-0.00396881764754653,0.01701545901596546,-0.04768356680870056,-0.025316717103123665,0.02716737613081932,-0.02745676040649414,0.033816006034612656,0.008455741219222546,-0.003985085058957338,0.047054264694452286,0.023192664608359337,0.01848003827035427,0.06233777850866318,0.0614180862903595,-0.0310758538544178,-0.005811902228742838,-0.006440968718379736,0.030116647481918335,0.017294222488999367,0.022406989708542824,-0.03521832451224327,0.0525505356490612,-0.04429372027516365,0.017270321026444435,0.0043245889246463776,-0.008582829497754574,0.024305561557412148,0.039444953203201294,0.10777346044778824,0.0143172862008214,-0.005355246365070343,-0.029522838070988655,-0.015001919120550156,-0.03950412943959236,-0.03959447145462036,-0.05250558257102966,0.0015485192416235805,0.01930467039346695,-0.0189406368881464,-0.009013975039124489,0.008398899808526039,-0.0448090098798275,0.010537074878811836,-0.010212463326752186,0.03155592456459999,0.027245990931987762,-0.06367824226617813,0.022708814591169357,-0.013524842448532581,-0.007552722003310919,-0.04840194433927536,0.03848012164235115,0.007478736340999603,0.02931869588792324,-0.02266974188387394,-0.040447331964969635,0.03903913125395775,0.011635681614279747,-0.02356608770787716,-0.03434276208281517,-0.04282108694314957,0.021601920947432518,0.013583619147539139,0.027820585295557976,-0.006988997105509043,-0.02354479394853115,0.01412136945873499,-0.005618614610284567,-0.0013956114416942,0.014527157880365849,0.018725518137216568,-0.0013960041105747223,-0.026302337646484375,0.017039624974131584,-0.015383400954306126,0.008108336478471756,0.02522268518805504,0.0008535207016393542,0.00861668772995472,-0.014546643942594528,-0.015130767598748207,-0.035415247082710266,0.010977196507155895,-0.008665112778544426,0.010358397848904133,0.015688739717006683,-0.03970379754900932,0.025664199143648148,0.03595781326293945,-0.06697046011686325,-0.015417445451021194,0.03172600269317627,0.11594703048467636,-0.023846779018640518,-0.01741739735007286,0.016941387206315994,-0.03905387967824936,-0.014137751422822475,0.014837752096354961,0.011981138959527016,-0.01818699575960636,-0.004758735187351704,-0.005780482664704323,-0.006110764108598232,-0.0012634126469492912,0.03209615498781204,0.023145537823438644,0.030432865023612976,-0.03570649027824402,0.028636792674660683,-0.009945225901901722,0.05072648450732231,-0.01088434923440218,-0.0012175196316093206,-0.028079356998205185,-0.05279969424009323,0.0054387543350458145,0.050243183970451355,0.03509165719151497,-0.0010873874416574836,-0.033395297825336456,0.03532794117927551,-0.04766911268234253,0.005332222208380699,0.017413143068552017,0.03298671171069145,-0.05770181864500046,0.0324043408036232,0.0002598236605990678,-0.03578118607401848,0.0024998474400490522,0.009963051415979862,0.049197833985090256,0.03458040952682495,0.04049033671617508,-0.003149794414639473,0.008519580587744713,0.04779960587620735,0.015785781666636467,-0.013554543256759644,0.012792875990271568,0.014210808090865612,0.0306803397834301,0.05023489519953728,-0.00461959233507514,0.12370088696479797,-0.010580251924693584,0.04409686103463173,-0.0010499245254322886,-0.12166164815425873,0.0025075131561607122,0.0011310408590361476,-0.021193886175751686,-0.04396075755357742,-0.018283741548657417,0.008278408087790012,0.053206201642751694,-0.011541569605469704,-0.0009366524172946811,0.025383437052369118,0.06962735950946808,-0.012679502367973328,0.01814456284046173,0.07147369533777237,-0.05648178607225418,0.014700041152536869,-0.04037097468972206,0.03032507374882698,0.03560051694512367,-0.027544956654310226,-0.010546855628490448,-0.029215730726718903,-0.006036608945578337,-0.003339781193062663,0.052001290023326874,-0.04938366264104843,-0.012599999085068703,-0.0022470655385404825,0.030349692329764366,0.0009166270028799772,0.013724510557949543,-0.01655416004359722,0.00070585758658126,0.0010224462021142244,-0.05088900774717331,-0.0009128511883318424,0.012927494943141937,-0.019142616540193558,0.02214932255446911,-0.015403869561851025,0.0042670960538089275,0.03588728979229927,-0.007722318172454834,-0.0032656772527843714,-0.008355055004358292,-0.05054609477519989,0.03597171604633331,-0.037313565611839294,0.04628477990627289,-0.015043889172375202,0.03766871988773346,0.029405642300844193,-0.0074015469290316105,0.028287524357438087,-0.03338434547185898,0.04944130405783653,-0.050095800310373306,0.09709075838327408,-0.027879780158400536,0.015904201194643974,-0.02827315218746662,0.01659674383699894,0.004513027612119913,0.043754663318395615,0.022690536454319954,0.011401694267988205,-0.023444056510925293,0.039069052785634995,-0.002947608707472682,0.04689306020736694,0.017995202913880348,-0.11067736893892288,0.024642597883939743,0.01843813806772232,0.038120824843645096,0.02228405512869358,0.011200102977454662,0.03822153061628342,-0.02202567458152771,0.021100757643580437,-0.004856820218265057,-0.027110004797577858,-0.017933467403054237,0.0417163111269474,0.012343212030827999,0.01516648754477501,0.04122668877243996,0.029943404719233513,0.014216410927474499,0.07200616598129272,-0.035740867257118225,0.012052418664097786,0.04609524458646774,0.04746804013848305,-0.040399763733148575,-0.025517866015434265,-0.004893520846962929,-0.034056831151247025,-0.032080017030239105,-0.021395869553089142,-0.012449432164430618,-0.0063454569317400455,0.057547952979803085,0.0182858407497406,0.008966376073658466,0.0006576747982762754,-0.05418798327445984,0.0015731501625850797,0.01591229997575283,0.017446298152208328,-0.019705168902873993,0.008778120391070843,0.028193138539791107,-0.006169516127556562,-0.014678032137453556,0.007587462663650513,-0.04606429114937782,-0.07974467426538467,0.038573477417230606,0.00020481472893152386,-0.04840342700481415,0.021111469715833664,0.027234811335802078,0.026311105117201805,-0.037615805864334106,-0.03132518753409386,-0.032586026936769485,-0.016243550926446915,-0.0034525191877037287,-0.0016193523770198226,0.01777576468884945,0.06383176892995834,-0.013310909271240234,-0.010816878639161587,-0.004367974121123552,0.03323021158576012,-0.0022514339070767164,0.01922137849032879,0.03514064848423004,-0.041230298578739166,0.10454750806093216,-0.05851967632770538,0.04349590837955475,0.013291478157043457,-0.021035153418779373,0.025339540094137192,-0.008440197445452213,-0.02941061556339264,-0.046042028814554214,0.023067520931363106,-0.039169132709503174,-0.05263155326247215,-0.014006653800606728,-0.02629844658076763,-0.001886966871097684,0.005126208532601595,0.001553392969071865,-0.0013411467662081122,-0.012730957008898258,0.09726990759372711,0.01068610418587923,-0.003059873590245843,-0.005357680842280388,-0.04064544662833214,0.03093569353222847,0.026603007689118385,0.010222228243947029,-0.011881527490913868,-0.07906775176525116,0.0393095538020134,-0.03337384760379791,-0.02031228505074978,0.047208018600940704,-0.03650691360235214,0.013750718906521797,-0.03673719987273216,0.027209831401705742,0.09478142112493515,-0.014269798994064331,-0.027415277436375618,0.029564302414655685,-0.020695233717560768,0.008304772898554802,-0.014052500948309898,-0.06185271590948105,-0.0416889414191246,-0.003128421027213335,0.045734602957963943,-0.04991980642080307,0.004590304102748632,-0.027035964652895927,0.019550936296582222,0.02358170785009861,0.04227381572127342,0.01551943551748991,-0.00619332492351532,0.036254171282052994,0.005035359412431717,-0.03515762835741043,0.02192903310060501,0.017669349908828735,0.031854283064603806,0.008802956901490688,-0.003364027477800846,-0.029020873829722404,-0.04139290750026703,-0.01890934444963932,0.027611760422587395,-0.05812934786081314,-0.006245082709938288,-0.05270889401435852,0.02431412972509861,-0.009643938392400742,-0.007071631494909525,-0.0905829444527626,0.010378005914390087,-0.023196930065751076,-0.04392378032207489,-0.01698877662420273,0.02099868282675743,-0.022067245095968246,-0.002093186369165778,-0.007125888951122761,-0.057750310748815536,0.01927218586206436,-0.06496953964233398,-0.03520265594124794,-0.0155725022777915,0.035305824130773544,-0.01691320724785328,-0.0069046360440552235,-0.045788928866386414,-0.04295503348112106,0.01108573842793703,-0.017192533239722252,-0.009591172449290752,-0.055637259036302567,-0.027475446462631226,0.0014210655353963375,0.018405407667160034,0.041064612567424774,-0.12186693400144577,0.006690537091344595,0.0481734499335289,-0.010766392573714256,-0.012526468373835087,0.027937598526477814,0.04193059727549553,-0.03239656612277031,-0.03262821212410927,0.00000607124320595176,0.03401346504688263,0.02113228477537632,-0.011583343148231506,-0.07044346630573273,0.05231914669275284,-0.07407142221927643,-0.0813739225268364,-0.0426289327442646,-0.012783761136233807,-0.006487842183560133,0.006833138410001993,0.012057864107191563,0.01422934141010046,0.009203028865158558,0.0768524706363678,-0.026937758550047874,0.03321455791592598,0.07825444638729095,-0.026556098833680153,0.0116646196693182,-0.00776874553412199,-0.0219441968947649,0.08202247321605682,-0.024339886382222176,0.012159156613051891,0.0059133535251021385,-0.0014708897797390819,0.010959258303046227,-0.0018441140418872237,-0.007159761618822813,0.01419559121131897,-0.005060830619186163,0.01429160125553608,0.02361002191901207,0.006139575038105249,0.03231843560934067,-0.0009603479411453009,-0.017292959615588188,0.040148839354515076,0.04012176766991615,0.02782573364675045,-0.029326021671295166,0.02701963484287262,0.08033770322799683,-0.031240109354257584,-0.020167186856269836,-0.00032650583307258785,-0.03703392297029495,0.03944699838757515,0.0109041016548872,-0.03344287350773811,-0.02059444971382618,0.015110471285879612,-0.006728080101311207,-0.0778898075222969,0.0084571223706007,-0.004525255411863327,-0.0067222085781395435,-0.0749148279428482,-0.05686820298433304,-0.019305262714624405,-0.04200930520892143,-5.83253407444744e-33,-0.033559683710336685,-0.024128125980496407,-0.05325838550925255,0.030465973541140556,0.05415943264961243,-0.057208724319934845,-0.0265145655721426,0.0026910232845693827,-0.032531216740608215,0.009696269407868385,0.007582361809909344,-0.04030187055468559,0.014024081639945507,0.03685036674141884,-0.020469501614570618,-0.0030717947520315647,0.007319328840821981,-0.03088224306702614,0.024881785735487938,0.04021713510155678,-0.06025610864162445,-0.009639004245400429,0.01995101198554039,-0.06294525414705276,0.007468729745596647,0.040733128786087036,-0.0009551988332532346,0.006561942398548126,0.005147330928593874,0.05067068338394165,-0.029483163729310036,-0.07068997621536255,-0.009642833843827248,-0.06080307438969612,0.03202762454748154,-0.0223025344312191,-0.10507862269878387,0.015972044318914413,-0.01824495941400528,0.028642384335398674,0.08586016297340393,-0.04513585567474365,-0.014981016516685486,0.009963574819266796,-0.0039048802573233843,-0.025100642815232277,0.017426075413823128,-0.00937706045806408,-0.025950537994503975,-0.05502259358763695,0.006388355512171984,0.01146131195127964,-0.008028892800211906,0.01563289575278759,0.01711774617433548,-0.06861922889947891,0.033492349088191986,-0.053114812821149826,-0.0585104301571846,-0.03359626978635788,0.03318195044994354,-0.02543812245130539,-0.019642572849988937,-0.0010039574699476361,0.05505560711026192,0.01630115509033203,-0.03565799072384834,0.06325186043977737,-0.029335564002394676,0.039744745939970016,0.004040113650262356,0.044648997485637665,0.005336229223757982,-0.05755162611603737,-0.01676359958946705,0.06783131510019302,0.01570850796997547,0.02909010834991932,-0.11255474388599396,0.06903978437185287,0.036742113530635834,0.0004433932190295309,-0.03777270019054413,0.006916421931236982,-0.011121776886284351,-0.02907199040055275,-0.0012757985386997461,-0.027300124987959862,0.01261634100228548,-0.02662009559571743,0.010919410735368729,-0.01936386339366436,-0.04950805753469467,0.043576113879680634,-0.10884947329759598,0.03116697631776333,0.044709183275699615,0.021828187629580498,-0.02097911946475506,-0.030791863799095154,-0.008429327979683876,-0.036576155573129654,0.005062504205852747,-0.00016034675354603678,0.005796324461698532,0.032336704432964325,-0.0009446503827348351,-0.031155377626419067,-0.061443228274583817,0.018908703699707985,0.020354747772216797,0.004303777124732733,-0.021422123536467552,-0.0073561640456318855,-0.03171742334961891,-0.039321426302194595,-0.02841155230998993,0.04603240266442299,0.017319614067673683,-0.01115905400365591,-0.012444017454981804,0.002467065816745162,0.03662322089076042,0.017813103273510933,0.08371876180171967,-0.0006665730034001172,0.012354512698948383,-0.016320936381816864,0.020067228004336357,0.034033820033073425,0.004665560554713011,0.04090071842074394,2.649592829584435e-7,-0.009264055639505386,0.005998275242745876,0.052367936819791794,0.05697333440184593,0.02014428749680519,-0.043071698397397995,0.03128940239548683,-0.02896992303431034,-0.014182121492922306,-0.13505443930625916,0.06756077706813812,0.023348018527030945,0.049478646367788315,0.029558973386883736,0.037839148193597794,-0.025870639830827713,0.06159243732690811,-0.051441799849271774,-0.05990530550479889,-0.0008912291959859431,0.07047602534294128,0.011104293167591095,0.003166451118886471,0.04803084209561348,-0.005013981834053993,0.06636355072259903,0.0017060971586033702,-0.04591378569602966,0.09102930873632431,-0.025643328204751015,0.02573472633957863,0.007183990906924009,-0.006729924585670233,0.024167053401470184,0.010210123844444752,0.00415823794901371,-0.007006611209362745,0.038196317851543427,0.015523371286690235,0.028334759175777435,0.05782489478588104,-0.07554105669260025,-0.020739465951919556,-0.053068581968545914,0.011416492983698845,-0.014867594465613365,-0.015027038753032684,0.061596814543008804,-0.03845008835196495,0.037440527230501175,0.02848624438047409,0.018676649779081345,0.05440900847315788,-0.054741352796554565,0.023732908070087433,-0.017418785020709038,-0.026527758687734604,0.04733321815729141,-0.0059461030177772045,0.01707177609205246,0.009928912855684757,0.033075619488954544,-0.007844461128115654,0.011916020885109901,0.015804685652256012,-0.02962096594274044,-0.01906520500779152,3.362215293367881e-34,-0.03137058764696121,-0.03535160422325134,0.04984870180487633,0.08959416300058365,0.04703087732195854,0.01380355004221201,0.04039464145898819,-0.05657394230365753,-0.002058866200968623,-0.03794175013899803,-0.02428002469241619]'
SET
  @TechnicalDesignVector_a9ceb279 = N'[0.022589782252907753,-0.003648285986855626,-0.0050565521232783794,-0.023614315316081047,0.01947898603975773,-0.027604524046182632,0.074955053627491,0.040549032390117645,0.0027865259908139706,-0.01402334962040186,-0.04140869528055191,0.029403643682599068,0.0558130256831646,0.04488137736916542,0.042091161012649536,-0.09814397245645523,-0.04268305376172066,0.04938887432217598,-0.020221438258886337,-0.015278154984116554,0.010707522742450237,0.002822432667016983,-0.019621850922703743,0.02258375659584999,0.0018980370368808508,-0.03799129277467728,-0.06242586672306061,0.00957746896892786,0.037699274718761444,-0.013901735655963421,-0.0007075838511809707,0.05766578018665314,-0.08500067889690399,-0.04292246699333191,0.0000018031897752734949,-0.015754837542772293,-0.002313398290425539,-0.0057953130453825,-0.05423654243350029,0.031048309057950974,-0.05883722007274628,-0.02112654410302639,0.016848374158143997,-0.029174095019698143,0.007152986712753773,-0.10028638690710068,-0.029147470369935036,0.06182406097650528,0.02034727670252323,0.00371413747780025,0.001057588728144765,-0.021839553490281105,0.09102410823106766,-0.015816425904631615,0.047275103628635406,0.017174556851387024,-0.004062993451952934,-0.04518147185444832,0.02106427773833275,-0.02327030710875988,-0.007011445704847574,-0.035941820591688156,0.030920641496777534,-0.03637228533625603,0.03457128256559372,0.017311420291662216,0.030861850827932358,-0.03607596084475517,0.0252293199300766,0.05371011793613434,0.18332158029079437,0.021674172952771187,-0.007952820509672165,-0.014478190802037716,0.0070932465605437756,0.005220012739300728,0.02017461694777012,-0.030656874179840088,-0.01585252210497856,-0.007738350424915552,0.005269552115350962,-0.005577524192631245,-0.0475827194750309,0.016482120379805565,0.04385335370898247,-0.014058554545044899,-0.012281376868486404,-0.017650438472628593,-0.030349642038345337,-0.03026379458606243,0.01667972281575203,-0.012813474982976913,0.003151222364977002,0.011807362549006939,-0.015459544956684113,0.009446961805224419,0.027406880632042885,-0.07945918291807175,0.014418087899684906,0.0012408063048496842,-0.05894404277205467,0.049368515610694885,0.02695109136402607,0.029521042481064796,0.04341207817196846,0.10236216336488724,-0.003160156076774001,0.015636524185538292,0.007970946840941906,0.03724260628223419,-0.028166035190224648,0.009270855225622654,-0.013750496320426464,0.04793921113014221,-0.01105385273694992,0.026621529832482338,-0.020049450919032097,-0.018891720101237297,0.03085196204483509,0.007526267785578966,0.09151683747768402,0.004502367228269577,-0.005006765015423298,-0.029113180935382843,0.03001583181321621,0.01762719266116619,-0.010100283659994602,-0.07861468195915222,-0.0011589180212467909,0.03822460025548935,-0.0027797038201242685,-0.0146305738016963,0.016411209478974342,-0.003540498437359929,-0.03881966322660446,0.03774406760931015,0.01300465501844883,-0.0071393270045518875,-0.02417718432843685,0.0342944897711277,-0.023821964859962463,-0.010994764044880867,-0.09216631203889847,0.03460400179028511,-0.019451778382062912,-0.003497217781841755,-0.015994509682059288,-0.07329656928777695,0.024933157488703728,0.02730250172317028,0.03512880578637123,-0.05110666900873184,-0.03210226073861122,0.033318039029836655,-0.02738678641617298,0.04424372315406799,-0.05312921106815338,-0.00839762482792139,0.04216112196445465,0.022154834121465683,0.0209836196154356,0.03818914294242859,0.03826696798205376,0.04051588848233223,-0.054389070719480515,0.028689149767160416,-0.018975302577018738,-0.03945669159293175,0.014757216908037663,-0.03110661543905735,-0.03867631405591965,-0.026890045031905174,-0.026668628677725792,0.00617891363799572,-0.02728348784148693,-0.06392509490251541,0.03832542896270752,0.00032671663211658597,-0.08107955753803253,0.0062811351381242275,-0.004819761961698532,-0.028110986575484276,-0.02208101376891136,0.021452296525239944,0.03639545291662216,-0.03654500097036362,-0.06323333084583282,0.037267256528139114,-0.0015592880081385374,-0.006999428384006023,-0.010609986260533333,0.022080114111304283,-0.09734941273927689,-0.016815531998872757,-0.0041936244815588,0.014533554203808308,-0.0363101027905941,0.0931757315993309,0.009279186837375164,0.06049603596329689,-0.018321992829442024,0.015714410692453384,0.04302984103560448,0.025008510798215866,-0.030665019527077675,0.011311485432088375,-0.07167156785726547,-0.009888027794659138,-0.016434645280241966,0.009547402150928974,-0.0037452192045748234,0.006218621972948313,-0.010293274186551571,0.02192390151321888,-0.0380886010825634,0.0028820300940424204,0.03071637451648712,0.007460727356374264,-0.06726362556219101,0.006363541819155216,-0.00899141002446413,-0.015736263245344162,0.05426464229822159,0.022616658359766006,0.03717438131570816,0.017580727115273476,-0.003214906668290496,0.014259305782616138,-0.00817131344228983,0.016352875158190727,-0.0015879023121669888,-0.02907402813434601,0.00041237816913053393,0.03075479343533516,0.032720182090997696,0.060646992176771164,-0.018743278458714485,0.021996088325977325,-0.02081712707877159,0.03153439238667488,-0.03772158920764923,-0.06486228853464127,-0.019576208665966988,0.0015886706532910466,-0.03870757669210434,-0.025680294260382652,0.012697338126599789,0.008969764225184917,0.005128173157572746,-0.02985944226384163,-0.012054067105054855,0.011640914715826511,0.03821391984820366,-0.032742176204919815,-0.006525300443172455,0.027679115533828735,0.031209338456392288,0.04396878182888031,0.00009906997729558498,0.0288681760430336,0.04068826511502266,-0.020726503804326057,0.008390925824642181,-0.0174839086830616,0.03176804631948471,-0.017819147557020187,0.028257688507437706,-0.06621790677309036,-0.009190904907882214,-0.008039147593080997,0.0128715168684721,0.007913860492408276,-0.013608668930828571,-0.03924814984202385,0.027986405417323112,0.05463728681206703,0.01684325374662876,0.046272050589323044,-0.030500628054142,-0.05562663450837135,0.011712037026882172,-0.033842116594314575,0.0022539664059877396,0.04627996310591698,-0.00983481202274561,0.025518007576465607,0.006506719160825014,-0.03152405843138695,0.003532333765178919,-0.023040927946567535,0.02662191167473793,-0.02416115812957287,0.037992723286151886,-0.016859132796525955,-0.0158954206854105,0.014219173230230808,0.037037502974271774,0.023441491648554802,-0.043716102838516235,0.07043972611427307,0.00393953500315547,0.012641875073313713,-0.02557429112493992,0.011010841466486454,0.02308281883597374,0.009615547023713589,-0.02280242368578911,0.037178948521614075,0.013855071738362312,0.03311591222882271,0.003148965770378709,0.03307335451245308,0.006378574296832085,-0.03896108269691467,0.0030629311222583055,0.02358958311378956,0.026936015114188194,0.005689886398613453,-0.01186977606266737,0.08167941868305206,-0.007569132838398218,0.00897975079715252,0.007696956396102905,-0.00430184043943882,-0.05838765949010849,0.03991664573550224,0.027662228792905807,-0.004590026568621397,0.09434732049703598,-0.014442706480622292,0.018943829461932182,0.05263633280992508,-0.01602168008685112,0.0005903813289478421,0.07265982776880264,-0.05023659020662308,-0.018070118501782417,-0.05925185978412628,-0.009094366803765297,-0.008852706290781498,-0.0009105862118303776,-0.01640992984175682,-0.02730063535273075,0.013543334789574146,-0.018261903896927834,-0.009759552776813507,-0.11841102689504623,0.01559923030436039,-0.09180167317390442,0.025599809363484383,-0.03813004121184349,0.006298142019659281,-0.004729393869638443,-0.00767061673104763,0.005679612047970295,0.05332624912261963,0.01261063851416111,0.02267281524837017,-0.014898826368153095,-0.05870423838496208,0.05102282762527466,0.0000035807863696390996,-0.011996093206107616,0.05947265401482582,0.03345246613025665,-0.012333772145211697,0.002219712594524026,-0.0027521904557943344,-0.018093161284923553,-0.056049447506666183,0.010739936493337154,0.012669379822909832,0.03195847570896149,0.038575123995542526,-0.042122725397348404,-0.019766513258218765,0.03242422640323639,0.02661767229437828,0.02016262710094452,0.010653010569512844,0.04340476542711258,0.01107329037040472,0.05275557190179825,-0.013692984357476234,0.04451127350330353,0.011018714867532253,0.005965345073491335,0.010471574030816555,0.0023585997987538576,-0.0095691978931427,-0.03762255236506462,-0.04291827231645584,-0.047621775418519974,-0.03650651499629021,0.006231042556464672,-0.02362678200006485,-0.0002139884018106386,0.007318198215216398,0.052021775394678116,-0.016450176015496254,-0.026701582595705986,0.15969334542751312,-0.017373042181134224,0.0219141636043787,0.020205166190862656,0.02150014601647854,-0.0059391213580966,0.027462145313620567,0.06319887936115265,-0.0055457004345953465,-0.07125234603881836,0.03559873625636101,-0.020878029987215996,-0.00896516628563404,-0.035787198692560196,0.0019530989229679108,-0.002617877908051014,-0.10162550956010818,0.0028902748599648476,0.04028637334704399,-0.01052322518080473,0.0216350257396698,0.005461305379867554,-0.002161904703825712,-0.02358357235789299,-0.021349545568227768,-0.018933091312646866,-0.028434820473194122,-0.018650420010089874,-0.006859315559267998,-0.055260252207517624,0.006894685793668032,-0.013634994626045227,0.057145703583955765,-0.01321355253458023,-0.02739606983959675,0.011513948440551758,-0.039257969707250595,0.0863892138004303,-0.01701953448355198,0.01935943402349949,-0.026438076049089432,0.03858240693807602,0.04655945301055908,-0.007067273836582899,-0.004691697657108307,-0.006605232134461403,0.07324612140655518,-0.02971057780086994,0.020248446613550186,-0.02145380526781082,-0.02073674649000168,-0.04738077148795128,0.05172092467546463,-0.004624044988304377,-0.04544348269701004,-0.03354557231068611,0.06651561707258224,-0.03063923493027687,0.00026441054069437087,-0.04740818589925766,0.019795425236225128,-0.01738819293677807,0.003830122994259,0.009165591560304165,-0.07214004546403885,0.00023802714713383466,-0.07314866036176682,-0.02299933321774006,-0.007081192918121815,0.014306852594017982,-0.01382462214678526,0.00863287691026926,-0.0069013601168990135,0.009060108102858067,-0.00750230997800827,-0.008748914115130901,-0.030617590993642807,-0.02658931352198124,-0.006338521372526884,0.01837121695280075,0.039162732660770416,-0.019759051501750946,-0.10073810070753098,0.01662382297217846,0.019797421991825104,0.043865423649549484,0.018613500520586967,0.015894154086709023,0.01246066577732563,-0.010548830032348633,-0.005355599336326122,0.014821731485426426,0.08501731604337692,0.06737025082111359,0.023661380633711815,-0.025562379509210587,0.02058136835694313,-0.08706766366958618,-0.03210916370153427,-0.029510734602808952,0.0007697597611695528,-0.00047914456808939576,0.0670107826590538,-0.008061390370130539,-0.036244962364435196,-0.0271315798163414,0.061072319746017456,-0.02480367012321949,-0.0220007486641407,0.025784600526094437,-0.061352964490652084,0.019680162891745567,0.01879763975739479,-0.009861218743026257,0.09389913082122803,-0.01850166544318199,-0.00283616641536355,0.026416907086968422,-0.021112916991114616,0.005658783484250307,0.026688916608691216,-0.015931494534015656,0.001164320739917457,0.019044682383537292,-0.00921370554715395,0.04299863427877426,0.03905791789293289,0.02882416732609272,-0.008532878942787647,0.012129239737987518,0.005362530238926411,0.03659772127866745,0.040825746953487396,0.014664728194475174,0.051795925945043564,0.03786464035511017,-0.057311464101076126,-0.004233014769852161,0.0036305466201156378,-0.053910717368125916,0.03952186927199364,-0.025417977944016457,-0.03871634975075722,0.02031422033905983,0.025812136009335518,0.006616469006985426,-0.05710853636264801,0.03254557400941849,0.012344129383563995,0.002615567995235324,-0.06754092127084732,-0.03204626590013504,-0.008802044205367565,0.019531749188899994,-6.052691676728977e-33,-0.011206959374248981,-0.045637328177690506,-0.05265611782670021,0.05024191364645958,-0.01684737764298916,-0.022940978407859802,-0.05577267333865166,0.007501608692109585,-0.033889465034008026,-0.022413084283471107,0.011282104067504406,-0.05242506042122841,-0.0027651037089526653,0.037782877683639526,-0.009760178625583649,0.014958670362830162,0.024407390505075455,0.002168778097257018,0.0030333776958286762,0.04121190309524536,-0.049605730921030045,0.0133065702393651,0.010562125593423843,-0.06205864995718002,-0.027793534100055695,-0.009833768010139465,0.006392179988324642,0.030136829242110252,-0.06110920011997223,0.031186452135443687,-0.03824011981487274,-0.02716589719057083,-0.03784763813018799,-0.09392084926366806,0.053008027374744415,0.009187990799546242,-0.06010333076119423,-0.007725060451775789,0.0071166446432471275,0.026325860992074013,0.06969552487134933,-0.01954655721783638,-0.01946660690009594,0.006159067153930664,0.030070606619119644,-0.046531956642866135,0.0009612871217541397,0.0013360590673983097,-0.0021174282301217318,0.017864180728793144,0.0028298378456383944,0.01728122867643833,-0.043693412095308304,0.009475670754909515,0.0002848069998435676,-0.014825776219367981,0.050016339868307114,0.01979285664856434,-0.10381142795085907,-0.023869946599006653,-0.011759010143578053,-0.053518906235694885,-0.007111130747944117,0.02019006945192814,0.04659424349665642,0.0386008694767952,-0.013708138838410378,0.05946560204029083,-0.10949327051639557,-0.002155451802536845,0.029757244512438774,0.024421850219368935,0.0008003838593140244,-0.03719018027186394,0.013061805628240108,-0.0010760290315374732,-0.0221851859241724,-0.026671938598155975,-0.04030722379684448,0.05700308084487915,0.012000137940049171,0.05171579122543335,0.007540889084339142,0.03424447774887085,-0.04053479805588722,-0.023782309144735336,0.032226692885160446,-0.04117868095636368,-0.011614170856773853,-0.006702627055346966,-0.021149789914488792,-0.057763222604990005,-0.060142505913972855,0.05766276642680168,-0.05067150294780731,0.004798462148755789,0.0667203888297081,0.03899899497628212,-0.01640976034104824,-0.0017185215838253498,0.020958850160241127,-0.016374686732888222,-0.018429581075906754,0.009574921801686287,-0.012377907522022724,0.006350446026772261,-0.016679275780916214,0.007797620724886656,-0.02679617330431938,0.021372171118855476,0.03304431959986687,-0.022270290181040764,-0.014658944681286812,-0.03954740986227989,-0.03798476979136467,-0.008943493478000164,-0.001204426633194089,0.0030966096092015505,0.025778893381357193,0.0655740275979042,-0.008610562421381474,0.04378833249211311,0.019116658717393875,0.008398126810789108,0.025718199089169502,0.005468212068080902,-0.022956639528274536,-0.03744369372725487,-0.022214330732822418,0.024646222591400146,0.012125162407755852,-0.013308080844581127,2.8182856226521835e-7,-0.03107602708041668,0.001007435261271894,-0.01634247973561287,-0.004592162556946278,0.029095761477947235,-0.019802259281277657,-0.024897010996937752,-0.04242357611656189,-0.027057472616434097,-0.13177911937236786,0.047676797956228256,-0.006858170963823795,0.035808153450489044,0.048683568835258484,-0.06341790407896042,0.0007681330316700041,0.039980098605155945,-0.045469995588064194,-0.05380559340119362,0.0016103301895782351,0.05694540590047836,0.0014084185240790248,0.060882508754730225,0.01013859361410141,-0.005877237301319838,0.11023922264575958,0.008970305323600769,0.012823117896914482,0.08150945603847504,-0.027935022488236427,0.030739858746528625,-0.007949890568852425,-0.01592034101486206,-0.029218055307865143,0.050497692078351974,0.003994197119027376,0.021188750863075256,0.02286655828356743,0.021038692444562912,0.04047383368015289,0.07006307691335678,0.013667434453964233,-0.03492346033453941,-0.06730511039495468,0.019918732345104218,-0.03970541059970856,-0.039041370153427124,0.054730840027332306,-0.042308613657951355,0.02177792228758335,0.011858095414936543,-0.004556076601147652,0.028868794441223145,-0.04170260950922966,-0.0004961544764228165,-0.06718327850103378,-0.017119789496064186,0.046155065298080444,0.0007918620831333101,0.0366717167198658,-0.02502676285803318,0.04083294793963432,0.022516369819641113,-0.036569107323884964,0.0004599553649313748,-0.0222811046987772,-0.009014480747282505,2.8667366184791133e-34,-0.02866499312222004,-0.02927442267537117,0.015117434784770012,0.06047919765114784,0.03841403126716614,-0.010969526134431362,0.05166463181376457,-0.021461429074406624,-0.009737272746860981,-0.033094171434640884,0.002916666679084301]'
SET
  @HasCustomProps_a9ceb279 = 1
SET
  @HasCustomEvents_a9ceb279 = 1
SET
  @RequiresData_a9ceb279 = 0
SET
  @DependencyCount_a9ceb279 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_a9ceb279 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_a9ceb279 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @ID_a9ceb279 = '894F252D-1ED3-4196-AB01-DCA71382D752'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_a9ceb279,
  @Name = @Name_a9ceb279,
  @Version = @Version_a9ceb279,
  @VersionSequence = @VersionSequence_a9ceb279,
  @Title = @Title_a9ceb279,
  @Description = @Description_a9ceb279,
  @Type = @Type_a9ceb279,
  @Status = @Status_a9ceb279,
  @DeveloperName = @DeveloperName_a9ceb279,
  @DeveloperEmail = @DeveloperEmail_a9ceb279,
  @DeveloperOrganization = @DeveloperOrganization_a9ceb279,
  @SourceRegistryID = @SourceRegistryID_a9ceb279,
  @ReplicatedAt = @ReplicatedAt_a9ceb279,
  @LastSyncedAt = @LastSyncedAt_a9ceb279,
  @Specification = @Specification_a9ceb279,
  @FunctionalRequirements = @FunctionalRequirements_a9ceb279,
  @TechnicalDesign = @TechnicalDesign_a9ceb279,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_a9ceb279,
  @TechnicalDesignVector = @TechnicalDesignVector_a9ceb279,
  @HasCustomProps = @HasCustomProps_a9ceb279,
  @HasCustomEvents = @HasCustomEvents_a9ceb279,
  @RequiresData = @RequiresData_a9ceb279,
  @DependencyCount = @DependencyCount_a9ceb279,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_a9ceb279,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_a9ceb279,
  @ID = @ID_a9ceb279;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_d8aa3096 NVARCHAR(MAX),
@Name_d8aa3096 NVARCHAR(500),
@Version_d8aa3096 NVARCHAR(50),
@VersionSequence_d8aa3096 INT,
@Title_d8aa3096 NVARCHAR(1000),
@Description_d8aa3096 NVARCHAR(MAX),
@Type_d8aa3096 NVARCHAR(255),
@Status_d8aa3096 NVARCHAR(50),
@DeveloperName_d8aa3096 NVARCHAR(255),
@DeveloperEmail_d8aa3096 NVARCHAR(255),
@DeveloperOrganization_d8aa3096 NVARCHAR(255),
@SourceRegistryID_d8aa3096 UNIQUEIDENTIFIER,
@ReplicatedAt_d8aa3096 DATETIMEOFFSET,
@LastSyncedAt_d8aa3096 DATETIMEOFFSET,
@Specification_d8aa3096 NVARCHAR(MAX),
@FunctionalRequirements_d8aa3096 NVARCHAR(MAX),
@TechnicalDesign_d8aa3096 NVARCHAR(MAX),
@FunctionalRequirementsVector_d8aa3096 NVARCHAR(MAX),
@TechnicalDesignVector_d8aa3096 NVARCHAR(MAX),
@HasCustomProps_d8aa3096 BIT,
@HasCustomEvents_d8aa3096 BIT,
@RequiresData_d8aa3096 BIT,
@DependencyCount_d8aa3096 INT,
@TechnicalDesignVectorEmbeddingModelID_d8aa3096 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_d8aa3096 NVARCHAR(MAX),
@ID_d8aa3096 UNIQUEIDENTIFIER
SET
  @Namespace_d8aa3096 = N'Admin/Entities'
SET
  @Name_d8aa3096 = N'EntityList'
SET
  @Version_d8aa3096 = N'1.0.0'
SET
  @VersionSequence_d8aa3096 = 1
SET
  @Title_d8aa3096 = N'Entity List'
SET
  @Description_d8aa3096 = N'Displays entities in a grid or card layout with sorting capabilities'
SET
  @Type_d8aa3096 = N'Table'
SET
  @Status_d8aa3096 = N'Published'
SET
  @Specification_d8aa3096 = N'{
    "name": "EntityList",
    "title": "Entity List",
    "description": "Displays entities in a grid or card layout with sorting capabilities",
    "type": "table",
    "functionalRequirements": "## Entity List Requirements\n\n- Display entities in grid or card view based on viewMode prop\n- Support sorting by multiple fields\n- Handle entity selection and notify parent\n- Show loading state while data loads\n- Display record count badges\n- Highlight selected entity\n- Support keyboard navigation",
    "dataRequirements": null,
    "technicalDesign": "## Technical Design\n\n### Props\n- entities: Array of entity objects\n- viewMode: ''grid'' | ''card''\n- selectedEntityId: Currently selected entity\n- onSelectEntity: Callback when entity selected\n- sortBy: Current sort field\n- sortDirection: ''asc'' | ''desc''\n- onSortChange: Callback for sort changes\n\n### Rendering\n- Grid mode: Compact table with columns\n- Card mode: Cards with entity info\n- Sort indicators in headers\n- Selection highlighting",
    "properties": [
    {
        "name": "entities",
        "description": "Array of entity objects to display",
        "type": "array",
        "required": true
    },
    {
        "name": "viewMode",
        "description": "Display mode - grid or card view",
        "type": "string",
        "required": true,
        "possibleValues": [
        "grid",
        "card"
        ]
    },
    {
        "name": "selectedEntityId",
        "description": "ID of the currently selected entity",
        "type": "string",
        "required": false
    },
    {
        "name": "onSelectEntity",
        "description": "Callback when an entity is selected",
        "type": "function",
        "required": true
    },
    {
        "name": "sortBy",
        "description": "Field to sort by",
        "type": "string",
        "required": false,
        "defaultValue": "Name"
    },
    {
        "name": "sortDirection",
        "description": "Sort direction",
        "type": "string",
        "required": false,
        "defaultValue": "asc",
        "possibleValues": [
        "asc",
        "desc"
        ]
    },
    {
        "name": "onSortChange",
        "description": "Callback when sort changes",
        "type": "function",
        "required": true
    }
    ],
    "events": [
    {
        "name": "onSelectEntity",
        "description": "Fired when an entity is selected",
        "parameters": [
        {
            "name": "entityId",
            "description": "ID of the selected entity",
            "type": "string"
        }
        ]
    },
    {
        "name": "onSortChange",
        "description": "Fired when sort configuration changes",
        "parameters": [
        {
            "name": "sortBy",
            "description": "Field to sort by",
            "type": "string"
        },
        {
            "name": "sortDirection",
            "description": "Sort direction",
            "type": "string"
        }
        ]
    }
    ],
    "exampleUsage": "<EntityList\n  entities={entities}\n  viewMode={viewMode}\n  selectedEntityId={selectedEntityId}\n  onSelectEntity={handleSelectEntity}\n  sortBy={sortBy}\n  sortDirection={sortDirection}\n  onSortChange={handleSortChange}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>",
    "code": "function EntityList({ \n  entities, \n  viewMode, \n  selectedEntityId, \n  onSelectEntity, \n  sortBy, \n  sortDirection, \n  onSortChange,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders.radius === ''object'' ? styles.borders.radius[size] : styles.borders.radius;\n  };\n  \n  // Handle sort column click\n  const handleSortClick = useCallback((field) => {\n    if (sortBy === field) {\n      // Toggle direction if same field\n      const newDirection = sortDirection === ''asc'' ? ''desc'' : ''asc'';\n      onSortChange?.(field, newDirection);\n    } else {\n      // New field, default to ascending\n      onSortChange?.(field, ''asc'');\n    }\n  }, [sortBy, sortDirection, onSortChange]);\n  \n  // Handle entity selection\n  const handleEntityClick = useCallback((entityId) => {\n    onSelectEntity?.(entityId);\n  }, [onSelectEntity]);\n  \n  // Render sort indicator\n  const renderSortIndicator = (field) => {\n    if (sortBy !== field) return null;\n    \n    return (\n      <span style={{ marginLeft: styles.spacing.xs }}>\n        {sortDirection === ''asc'' ? ''\u2191'' : ''\u2193''}\n      </span>\n    );\n  };\n  \n  // Grid View\n  if (viewMode === ''grid'') {\n    return (\n      <div style={{\n        width: ''100%'',\n        overflowX: ''auto''\n      }}>\n        <table style={{\n          width: ''100%'',\n          borderCollapse: ''collapse'',\n          backgroundColor: styles.colors.surface\n        }}>\n          <thead>\n            <tr style={{\n              borderBottom: `2px solid $' + '{styles.colors.border}`\n            }}>\n              <th\n                onClick={() => handleSortClick(''Name'')}\n                style={{\n                  padding: styles.spacing.md,\n                  textAlign: ''left'',\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text,\n                  cursor: ''pointer'',\n                  userSelect: ''none'',\n                  whiteSpace: ''nowrap''\n                }}\n              >\n                Name {renderSortIndicator(''Name'')}\n              </th>\n              <th\n                onClick={() => handleSortClick(''DisplayName'')}\n                style={{\n                  padding: styles.spacing.md,\n                  textAlign: ''left'',\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text,\n                  cursor: ''pointer'',\n                  userSelect: ''none'',\n                  whiteSpace: ''nowrap''\n                }}\n              >\n                Display Name {renderSortIndicator(''DisplayName'')}\n              </th>\n              <th style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.text\n              }}>\n                Description\n              </th>\n              <th style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.text\n              }}>\n                Schema\n              </th>\n              <th style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.text\n              }}>\n                Table\n              </th>\n              <th style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.text\n              }}>\n                Base View\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {entities.map((entity) => (\n              <tr\n                key={entity.ID}\n                onClick={() => handleEntityClick(entity.ID)}\n                style={{\n                  backgroundColor: selectedEntityId === entity.ID \n                    ? styles.colors.primary + ''20'' \n                    : ''transparent'',\n                  borderBottom: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`,\n                  cursor: ''pointer'',\n                  transition: ''background-color 0.2s''\n                }}\n                onMouseEnter={(e) => {\n                  if (selectedEntityId !== entity.ID) {\n                    e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (selectedEntityId !== entity.ID) {\n                    e.currentTarget.style.backgroundColor = ''transparent'';\n                  }\n                }}\n              >\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text,\n                  fontWeight: selectedEntityId === entity.ID \n                    ? (styles.typography.fontWeight?.semibold || ''600'')\n                    : (styles.typography.fontWeight?.regular || ''400'')\n                }}>\n                  {entity.Name}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text\n                }}>\n                  {entity.DisplayName || entity.Name}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  maxWidth: ''300px'',\n                  overflow: ''hidden'',\n                  textOverflow: ''ellipsis'',\n                  whiteSpace: ''nowrap''\n                }}>\n                  {entity.Description || ''-''}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.textSecondary\n                }}>\n                  {entity.SchemaName || ''-''}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.textSecondary\n                }}>\n                  {entity.BaseTable || ''-''}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.textSecondary\n                }}>\n                  {entity.BaseView || ''-''}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n  \n  // Card View\n  return (\n    <div style={{\n      display: ''grid'',\n      gridTemplateColumns: ''repeat(auto-fill, minmax(300px, 1fr))'',\n      gap: styles.spacing.lg\n    }}>\n      {entities.map((entity) => (\n        <div\n          key={entity.ID}\n          onClick={() => handleEntityClick(entity.ID)}\n          style={{\n            padding: styles.spacing.lg,\n            backgroundColor: selectedEntityId === entity.ID \n              ? styles.colors.primary + ''20''\n              : styles.colors.surface,\n            border: selectedEntityId === entity.ID\n              ? `2px solid $' + '{styles.colors.primary}`\n              : `1px solid $' + '{styles.colors.border}`,\n            borderRadius: getBorderRadius(''md''),\n            cursor: ''pointer'',\n            transition: ''all 0.2s'',\n            position: ''relative''\n          }}\n          onMouseEnter={(e) => {\n            if (selectedEntityId !== entity.ID) {\n              e.currentTarget.style.transform = ''translateY(-2px)'';\n              e.currentTarget.style.boxShadow = `0 4px 12px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}`;\n            }\n          }}\n          onMouseLeave={(e) => {\n            if (selectedEntityId !== entity.ID) {\n              e.currentTarget.style.transform = ''translateY(0)'';\n              e.currentTarget.style.boxShadow = ''none'';\n            }\n          }}\n        >\n          {/* Card Header */}\n          <div style={{\n            marginBottom: styles.spacing.md,\n            paddingBottom: styles.spacing.md,\n            borderBottom: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`\n          }}>\n            <h3 style={{\n              margin: 0,\n              fontSize: styles.typography.fontSize.lg,\n              fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n              color: styles.colors.text,\n              marginBottom: styles.spacing.xs\n            }}>\n              {entity.DisplayName || entity.Name}\n            </h3>\n            {entity.DisplayName && entity.DisplayName !== entity.Name && (\n              <div style={{\n                fontSize: styles.typography.fontSize.sm,\n                color: styles.colors.textSecondary\n              }}>\n                {entity.Name}\n              </div>\n            )}\n          </div>\n          \n          {/* Card Body */}\n          {entity.Description && (\n            <p style={{\n              margin: 0,\n              marginBottom: styles.spacing.md,\n              fontSize: styles.typography.fontSize.md,\n              color: styles.colors.textSecondary,\n              lineHeight: 1.5,\n              display: ''-webkit-box'',\n              WebkitLineClamp: 2,\n              WebkitBoxOrient: ''vertical'',\n              overflow: ''hidden''\n            }}>\n              {entity.Description}\n            </p>\n          )}\n          \n          {/* Card Footer */}\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            fontSize: styles.typography.fontSize.sm,\n            color: styles.colors.textSecondary\n          }}>\n            <div>\n              {entity.SchemaName && (\n                <span style={{ marginRight: styles.spacing.md }}>\n                  Schema: <strong>{entity.SchemaName}</strong>\n                </span>\n              )}\n              {entity.BaseTable && (\n                <span>\n                  Table: <strong>{entity.BaseTable}</strong>\n                </span>\n              )}\n            </div>\n            {entity.BaseView && (\n              <div style={{\n                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                color: styles.colors.textSecondary\n              }}>\n                View: {entity.BaseView}\n              </div>\n            )}\n          </div>\n          \n          {/* Selection Indicator */}\n          {selectedEntityId === entity.ID && (\n            <div style={{\n              position: ''absolute'',\n              top: styles.spacing.sm,\n              right: styles.spacing.sm,\n              width: ''8px'',\n              height: ''8px'',\n              backgroundColor: styles.colors.primary,\n              borderRadius: ''50%''\n            }} />\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}",
    "dependencies": [],
    "libraries": []
}'
SET
  @FunctionalRequirements_d8aa3096 = N'## Entity List

- Display entities in grid or card view based on viewMode prop
- Support sorting by multiple fields
- Handle entity selection and notify parent
- Show loading state while data loads
- Display record count badges
- Highlight selected entity
- Support keyboard navigation'
SET
  @TechnicalDesign_d8aa3096 = N'## Design

### Props
- entities: Array of entity objects
- viewMode: ''grid'' | ''card''
- selectedEntityId: Currently selected entity
- onSelectEntity: Callback when entity selected
- sortBy: Current sort field
- sortDirection: ''asc'' | ''desc''
- onSortChange: Callback for sort changes

### Rendering
- Grid mode: Compact table with columns
- Card mode: Cards with entity info
- Sort indicators in headers
- Selection highlighting'
SET
  @FunctionalRequirementsVector_d8aa3096 = N'[0.02104358747601509,-0.0029776773881167173,0.0007188297458924353,-0.04881633445620537,0.024488288909196854,0.03208089619874954,0.03707721829414368,0.06684620678424835,0.05198686942458153,-0.04294391721487045,0.049079157412052155,0.021177494898438454,0.027889056131243706,0.038801323622465134,0.016124092042446136,-0.06899441033601761,-0.022798484191298485,0.016056936234235764,0.0029305124189704657,-0.0034834155812859535,-0.0031189145520329475,-0.010332700796425343,-0.025272967293858528,-0.006359592080116272,0.007771437056362629,0.023302864283323288,-0.05124211311340332,0.050806108862161636,0.04710063710808754,-0.12200406193733215,-0.051088910549879074,0.03176652640104294,-0.03171439841389656,-0.09495455771684647,0.0000020020643205498345,-0.0002554774982854724,-0.052550461143255234,0.012270626612007618,-0.06316564232110977,0.0019631364848464727,-0.025590188801288605,-0.006941661238670349,0.03117063082754612,-0.0481923408806324,0.03425847366452217,-0.04180286452174187,-0.025151139125227928,0.07761385291814804,-0.009737484157085419,-0.01271558366715908,0.019412264227867126,-0.01341538317501545,-0.000899655045941472,-0.03579055145382881,0.03491584584116936,0.08780968934297562,0.0248958058655262,-0.04427788034081459,0.0754275918006897,0.05090055614709854,-0.02383311651647091,-0.02197740040719509,0.034543998539447784,-0.016058722510933876,0.05219244584441185,0.0386439748108387,0.08471659570932388,-0.02054501324892044,0.056226953864097595,0.0040902746841311455,0.0760912075638771,-0.00037346704630181193,0.022762998938560486,-0.0600278377532959,0.015134373679757118,-0.008310319855809212,0.030088325962424278,-0.021621543914079666,-0.015637686476111412,-0.002198226051405072,0.012645520269870758,-0.021975427865982056,-0.007934176363050938,-0.022398000583052635,-0.004695411771535873,0.009290286339819431,0.026666991412639618,-0.03187525272369385,-0.02131633646786213,-0.0003788019821513444,0.007856650277972221,-0.04433954134583473,-0.008212778717279434,0.016857566311955452,-0.04653232544660568,-0.0022619361989200115,0.021228758618235588,-0.040450479835271835,0.045121707022190094,-0.01061253808438778,0.020480865612626076,0.031139912083745003,0.03584524989128113,0.012751099653542042,0.064214326441288,0.006165103521198034,0.008962863124907017,-0.03244467079639435,-0.02139897085726261,0.030765920877456665,-0.005265466403216124,-0.0009638369083404541,-0.037472229450941086,0.08047592639923096,-0.025777826085686684,0.0250118225812912,-0.050933703780174255,-0.04681216925382614,0.00236005918122828,0.010572980158030987,0.1048009991645813,-0.007634990382939577,0.03830879181623459,0.015834730118513107,0.0016614458290860057,-0.014758702367544174,-0.050524938851594925,-0.07061741501092911,-0.012692010961472988,0.014249039813876152,0.005339767783880234,-0.08498982340097427,-0.007819771766662598,-0.021624688059091568,-0.0053038932383060455,-0.02365305833518505,0.05797461047768593,0.01042240485548973,-0.08083244413137436,0.03528385981917381,0.004920218605548143,-0.003749667201191187,-0.02186492085456848,0.014296437613666058,-0.04150693863630295,0.020378638058900833,0.006596451159566641,0.005003174766898155,0.026941556483507156,0.01975587196648121,-0.0039945123717188835,-0.04907090961933136,-0.037407632917165756,0.016914719715714455,0.009282446466386318,0.03688831627368927,0.02680809050798416,0.02752324752509594,0.029920225962996483,-0.03684975206851959,0.02798549272119999,-0.0037340247072279453,0.05832354724407196,0.015282483771443367,-0.021172724664211273,0.023303648456931114,-0.048538681119680405,-0.03505760803818703,-0.04923762381076813,-0.02606053650379181,-0.053715579211711884,-0.007591511122882366,-0.0507679283618927,-0.01189873181283474,0.03169703856110573,0.03168544918298721,0.03449312224984169,-0.024148285388946533,-0.045507390052080154,-0.01209575030952692,0.041549358516931534,-0.03243657201528549,-0.01883808523416519,0.04792621731758118,0.07019311189651489,-0.09137501567602158,-0.005589071195572615,0.004754131659865379,-0.0182037353515625,-0.010272705927491188,0.0257535632699728,-0.005548541899770498,-0.04779023304581642,0.012081790715456009,-0.020307257771492004,-0.011062105186283588,0.010156507603824139,-0.007570816669613123,0.051466554403305054,-0.010089851915836334,0.0006236716872081161,0.02254558354616165,0.006460390519350767,0.07477350533008575,0.001476371311582625,0.021665656939148903,-0.029840491712093353,-0.00043041029130108654,-0.032535940408706665,0.006190556101500988,0.02658180333673954,0.0005623763427138329,-0.02852056734263897,0.033235542476177216,-0.0259776022285223,0.039863716810941696,0.006845953408628702,0.029846321791410446,-0.054552242159843445,0.017391633242368698,-0.03697825223207474,-0.08640638738870621,-0.01814369298517704,0.004606538452208042,0.11663345247507095,0.049808669835329056,0.004245799500495195,-0.02021395042538643,-0.024528343230485916,0.02075105346739292,-0.02554701454937458,-0.027874883264303207,0.025743508711457253,0.004046653863042593,0.05176020786166191,-0.010549712926149368,0.004489053040742874,0.089593306183815,-0.0019212178885936737,0.03371620550751686,0.014243100769817829,-0.026654640212655067,0.011898977681994438,-0.0034023853950202465,-0.05446474999189377,-0.033999163657426834,-0.0038685379549860954,0.018405606970191002,0.016712956130504608,-0.00659115519374609,0.01211169920861721,0.023234117776155472,0.046014461666345596,-0.0023661907762289047,0.01413220539689064,0.05259627476334572,-0.005961996037513018,0.00840144231915474,-0.04515282064676285,0.003859938122332096,0.04639270901679993,0.0030108573846518993,-0.018703293055295944,-0.0031032669357955456,-0.02392909675836563,-0.008401582948863506,0.06275545060634613,-0.11479974538087845,-0.014765148051083088,0.0022638896480202675,0.030069386586546898,-0.016486162319779396,0.018656451255083084,-0.02269384264945984,0.005393494386225939,0.0012202116195112467,-0.03025433048605919,0.025474045425653458,0.0016578948125243187,-0.046531789004802704,-0.0320674404501915,-0.03897075727581978,0.013479212298989296,0.04176464304327965,-0.025357823818922043,-0.009109141305088997,0.019383704289793968,-0.07103120535612106,0.05491974204778671,-0.06348387151956558,0.03389598801732063,0.01426219753921032,0.03943084925413132,0.009221797809004784,-0.020616095513105392,0.004919357132166624,-0.02725280076265335,0.0626501590013504,-0.02903883531689644,0.07570267468690872,-0.051614683121442795,-0.0193483829498291,-0.03622673079371452,0.0015561444452032447,0.04038460552692413,0.05934244394302368,-0.015353258699178696,0.023295298218727112,-0.003067342797294259,0.053199026733636856,-0.020433595404028893,0.04781848192214966,0.024665281176567078,-0.06616811454296112,0.0006821058923378587,0.007457784377038479,0.013111165724694729,0.03833065927028656,-0.002082026796415448,0.03444640710949898,-0.015587125904858112,0.01899345964193344,0.013731662184000015,-0.013775634579360485,-0.03563573583960533,0.005820954218506813,-0.008715077303349972,0.02467348426580429,0.020499445497989655,0.0549498051404953,0.00006916673009982333,0.02260858193039894,-0.006642302963882685,0.02974579855799675,0.0766628086566925,-0.04863182455301285,-0.03791952133178711,-0.03853493928909302,0.000896403391379863,-0.029561584815382957,-0.05587834492325783,-0.007454430218786001,-0.013887893408536911,0.003109938697889447,0.03237512335181236,-0.024403352290391922,0.006126258987933397,-0.011541122570633888,-0.0262762438505888,-0.004738197661936283,0.03607561066746712,0.02521149255335331,-0.0035977556835860014,0.0016490379348397255,0.0351039320230484,-0.038182199001312256,-0.0033113269601017237,0.038612060248851776,-0.04348187521100044,-0.038485851138830185,0.009151102043688297,0.05521721765398979,0.03287440538406372,0.0006785588921047747,0.029433606192469597,0.03115556389093399,0.019007619470357895,-0.04150548577308655,-0.04101715609431267,-0.0029865666292607784,0.010402046144008636,-0.015341304242610931,0.04211360961198807,0.07175426185131073,-0.008167874999344349,-0.03869537636637688,0.024131910875439644,0.03569228947162628,0.014632562175393105,0.01621490716934204,0.03470577299594879,-0.07390350848436356,0.07903739809989929,-0.009099450893700123,0.03717714920639992,-0.02201973646879196,-0.04824261739850044,0.04106711596250534,-0.06130878999829292,0.010760964825749397,-0.044075533747673035,0.007075450848788023,-0.027490856125950813,-0.03812389075756073,0.011293284595012665,0.03969300538301468,-0.06290193647146225,0.028379453346133232,0.011980733834207058,0.023358242586255074,-0.004222738556563854,0.06294749677181244,0.010835678316652775,-0.007812418043613434,0.009529675357043743,-0.005859255790710449,0.03773418068885803,0.043126028031110764,0.007589283864945173,-0.00474440585821867,-0.08828283101320267,0.0023520542308688164,-0.06845789402723312,-0.05196231231093407,-0.013565754517912865,-0.0034471959806978703,0.02050846256315708,-0.0362049899995327,0.0017755061853677034,0.08924383670091629,-0.02238190732896328,-0.00859039556235075,-0.026926176622509956,-0.004142861347645521,0.0007996333879418671,-0.01484860759228468,-0.05612392723560333,-0.00611208425834775,-0.032569315284490585,0.023237498477101326,-0.05393107607960701,-0.005141550675034523,-0.04426989331841469,0.049928002059459686,0.001837560092099011,0.01102415844798088,0.029292037710547447,-0.016312383115291595,0.03224239870905876,-0.02743118815124035,-0.039405785501003265,0.0019097531912848353,0.03131062164902687,0.05971669405698776,0.012921204790472984,0.03632161393761635,-0.04591896012425423,0.015382254496216774,-0.04496406018733978,0.00254028826020658,-0.005825878586620092,-0.0265695471316576,-0.09005089849233627,0.006529635284096003,0.012322577647864819,-0.03336659073829651,-0.06403891742229462,0.047576650977134705,-0.031503334641456604,0.007480313070118427,0.0365341417491436,0.02520468458533287,-0.0663456842303276,-0.022991279140114784,-0.025462204590439796,-0.0600871667265892,0.01686643622815609,-0.050631601363420486,0.003087296150624752,-0.04904977232217789,0.029828647151589394,-0.013153806328773499,-0.008159685879945755,-0.01435669045895338,0.03755566105246544,-0.002888968214392662,-0.0037987481337040663,-0.027238881215453148,-0.03972940891981125,-0.04476764053106308,0.03215597942471504,0.012573029845952988,-0.003980944398790598,-0.09853414446115494,0.029690219089388847,0.057918842881917953,-0.04376452416181564,-0.007792086806148291,-0.004484078381210566,0.0075738755986094475,-0.01812596805393696,0.034192636609077454,-0.021494988352060318,0.08097374439239502,0.07542016357183456,0.0009971556719392538,-0.08435137569904327,0.06149546802043915,-0.052340783178806305,-0.07355113327503204,-0.017000775784254074,-0.006730088964104652,-0.012715834192931652,-0.010212207213044167,0.05434790253639221,0.002899616491049528,-0.015995658934116364,0.042754437774419785,-0.03378941863775253,-0.01879371888935566,0.07051507383584976,-0.029123209416866302,-0.027648935094475746,0.016145357862114906,0.016793372109532356,0.1282588094472885,0.016584543511271477,0.01719997078180313,0.020158443599939346,-0.014281920157372952,0.03561460226774216,-0.020574627444148064,-0.02415059693157673,-0.017538221552968025,0.05510517582297325,-0.009481166489422321,0.016906138509511948,0.0008790481369942427,0.03414472937583923,0.016665834933519363,0.017534218728542328,0.007631881162524223,0.055314384400844574,0.05267557501792908,-0.012766662985086441,0.0484083890914917,0.09870708733797073,-0.009198208339512348,0.0032734456472098827,0.033735476434230804,-0.03300868347287178,0.01991334557533264,0.04316612333059311,-0.03726107254624367,-0.01934727281332016,-0.04490504413843155,0.0082725640386343,-0.07043423503637314,0.014321430586278439,0.025958921760320663,-0.0008847354329191148,-0.06935914605855942,-0.06227147579193115,-0.003623083233833313,0.01275994349271059,-6.515524210266021e-33,-0.052150044590234756,-0.04775996506214142,-0.03471914306282997,-0.005332747008651495,0.020797492936253548,-0.023155638948082924,0.00035970445605926216,-0.02100650779902935,-0.022709185257554054,-0.004085144959390163,-0.024074453860521317,-0.041238006204366684,0.011389879509806633,0.014877122826874256,-0.0014035518979653716,-0.025938238948583603,0.012819367460906506,-0.0004863314388785511,-0.0010841714683920145,0.0035001880023628473,-0.05770214647054672,0.017085477709770203,0.014063756912946701,-0.05701424181461334,0.002679874887689948,0.014649284072220325,0.03739751875400543,-0.012011231854557991,-0.05254015699028969,0.034136440604925156,-0.011022025719285011,-0.05189894884824753,-0.014942497946321964,-0.0663599818944931,0.026229767128825188,0.023156436160206795,-0.06742649525403976,-0.017322134226560593,0.0022470552939921618,0.03744438290596008,0.0687834843993187,0.010601113550364971,-0.01785396598279476,0.034854620695114136,0.004326026886701584,0.01799069717526436,0.01028673630207777,0.009436110034584999,-0.020533651113510132,-0.05749943107366562,0.02619788981974125,0.027106236666440964,0.0011855417396873236,0.040127623826265335,0.0034703388810157776,-0.054164957255125046,0.05129067227244377,-0.03337312489748001,-0.06821312010288239,-0.041759442538022995,0.061567988246679306,-0.0022357020061463118,-0.0135700274258852,-0.002187607577070594,0.02323167584836483,0.038003891706466675,0.006872836034744978,0.011199748143553734,-0.07703083008527756,0.04729799926280975,0.011634988710284233,0.037380367517471313,0.022425055503845215,-0.056451864540576935,0.018362069502472878,0.045368582010269165,-0.044761497527360916,0.03182024136185646,-0.04098834842443466,0.040357060730457306,-0.008647591806948185,0.02408631518483162,0.00507731270045042,0.016824673861265182,0.010525612160563469,-0.023832835257053375,0.01923171989619732,0.0070838285610079765,-0.0009911544620990753,0.008890737779438496,-0.021121937781572342,0.05136684328317642,-0.041207700967788696,0.04069187492132187,-0.13132497668266296,0.012844718992710114,0.07940826565027237,0.030574295669794083,-0.012808600440621376,-0.003755550365895033,-0.009683975949883461,-0.004659040831029415,0.013891813345253468,-0.019390109926462173,-0.026188381016254425,0.023986581712961197,-0.0007770824013277888,-0.014932111836969852,-0.051220931112766266,0.017881358042359352,0.04300486668944359,0.012692155316472054,-0.010915554128587246,0.01122883427888155,0.010967593640089035,-0.02864859066903591,0.0027662180364131927,-0.006639497354626656,0.02263004146516323,-0.0037736697122454643,-0.001091532176360488,0.07564639300107956,0.0174702238291502,-0.0061079454608261585,0.07392910122871399,0.0011737002059817314,-0.00868102815002203,0.015629710629582405,0.012017741799354553,-0.013263554312288761,0.008951696567237377,0.0395551472902298,2.7794035872830136e-7,-0.016226768493652344,0.0036835521459579468,-0.00003093154009548016,-0.005455466918647289,0.013630770146846771,-0.015427466481924057,-0.00815392006188631,-0.029187196865677834,0.020309288054704666,-0.08583389222621918,0.009378043003380299,0.022450517863035202,0.03910414129495621,0.051816169172525406,-0.022296441718935966,-0.06757354736328125,0.04140035808086395,-0.02640715427696705,-0.02857469581067562,0.004230139777064323,0.03920920565724373,-0.009382473304867744,0.01837601698935032,0.022699639201164246,0.009105334989726543,0.030438411980867386,-0.009078475646674633,-0.054144248366355896,0.04508696123957634,-0.04901862144470215,0.03350437432527542,0.026473047211766243,0.0008837682544253767,0.018367677927017212,0.033454809337854385,0.0004479403141885996,0.02291049249470234,0.010087613016366959,0.007608349900692701,0.05856797471642494,0.03658507764339447,-0.05421177297830582,-0.021934833377599716,-0.03579172119498253,0.019604790955781937,-0.033948224037885666,0.006974771153181791,0.08462201803922653,-0.0371374785900116,0.013017735444009304,-0.041346002370119095,0.015556109137833118,-0.01181480661034584,-0.056721124798059464,0.03703509271144867,-0.050977300852537155,-0.03235403820872307,0.04842991754412651,-0.02279738336801529,-0.02768499031662941,0.019176999107003212,-0.029468441382050514,0.006646344903856516,-0.011523855850100517,-0.0009794976795092225,-0.028668144717812538,-0.03983279690146446,3.4609081460239893e-34,-0.0013221398694440722,-0.03724304586648941,0.013700014911592007,0.0814150720834732,0.041811440140008926,-0.022162534296512604,-0.056796859949827194,-0.055327508598566055,-0.0024720130022615194,-0.049766939133405685,-0.04655035585165024]'
SET
  @TechnicalDesignVector_d8aa3096 = N'[-0.008379597216844559,0.009652724489569664,0.0007958762580528855,-0.02566857822239399,0.06466231495141983,0.020220786333084106,-0.006735581438988447,0.07359804213047028,0.014603645540773869,-0.02151581272482872,0.004160422831773758,0.05289650708436966,0.05920015648007393,0.026283418759703636,0.035349924117326736,-0.03172760456800461,-0.05659738555550575,0.039252739399671555,-0.055924709886312485,0.00004507163612288423,0.01336844265460968,-0.02714945375919342,-0.02304164506494999,0.006548892240971327,0.014058584347367287,-0.011871451511979103,-0.022150179371237755,0.012244864366948605,0.04295941814780235,-0.033261723816394806,0.010387072339653969,0.0549304336309433,-0.021765848621726036,-0.015910711139440536,0.0000019066081904384191,-0.014779863879084587,-0.040326859802007675,0.008435476571321487,0.013046539388597012,-0.029117142781615257,0.0029114035423845053,-0.009593436494469643,-0.008617553859949112,-0.03018803521990776,0.0013899325858801603,-0.1035631075501442,-0.0549783930182457,0.09506695717573166,0.0015458090929314494,-0.027905989438295364,0.02396473102271557,-0.03630899265408516,0.025669414550065994,-0.004980101715773344,-0.0115669472143054,0.08201142400503159,-0.01116468757390976,-0.07826308161020279,0.01727433130145073,0.0249419454485178,-0.0004319525614846498,-0.0021375645883381367,0.026883132755756378,-0.038080256432294846,0.030732806771993637,0.004809682723134756,0.07763409614562988,0.06930670142173767,0.038506198674440384,0.011869684793055058,0.08553780615329742,-0.005482938140630722,-0.007541611324995756,-0.01614261604845524,-0.0024300275836139917,-0.053556282073259354,0.017335999757051468,-0.005299154669046402,0.0029612567741423845,-0.005604824982583523,0.03820905089378357,0.012145530432462692,-0.010777764953672886,0.006407461129128933,0.021245863288640976,0.05704456940293312,-0.005103622563183308,-0.022621963173151016,-0.0742800384759903,-0.04839196428656578,0.03553047403693199,-0.010693313553929329,0.004920915234833956,0.00844519305974245,-0.03817763924598694,-0.0013226764276623726,0.06557117402553558,-0.12221632897853851,0.03391088545322418,-0.01011117734014988,0.032402560114860535,0.03943365067243576,0.032521821558475494,-0.026926105841994286,0.0518527589738369,0.06889094412326813,0.018779205158352852,0.01048656739294529,-0.04361274838447571,0.030956624075770378,-0.00454764673486352,-0.022932108491659164,0.019180910661816597,0.06306607276201248,-0.06575947999954224,0.02272488735616207,-0.05220469832420349,-0.06597639620304108,0.00537455640733242,-0.0037117390893399715,0.0655965581536293,-0.017929688096046448,-0.0027263702359050512,0.01281283050775528,0.012092136777937412,-0.006540854461491108,-0.010944629088044167,-0.09432604163885117,-0.008167627267539501,0.056457798928022385,0.008432631380856037,-0.05301160737872124,-0.03084668330848217,-0.008138689212501049,-0.044417284429073334,-0.008029386401176453,0.010506968945264816,-0.014009109698235989,-0.00400712713599205,0.04966456815600395,-0.00653873523697257,0.03787664324045181,0.021336259320378304,0.06376521289348602,-0.03713788464665413,0.03414301946759224,0.06990554183721542,-0.0016362005844712257,-0.011423742398619652,-0.01568708010017872,0.026929449290037155,-0.006641330197453499,-0.02816798724234104,0.0038283851463347673,0.035128530114889145,0.03151904419064522,-0.006044741719961166,0.010053313337266445,0.056660477072000504,-0.058716848492622375,0.015616714023053646,-0.003967171534895897,0.062419064342975616,0.020804893225431442,-0.055741086602211,0.044376544654369354,-0.06410840153694153,-0.059843700379133224,-0.05068500339984894,0.00801138672977686,0.0058680991642177105,-0.0048150839284062386,-0.05300753936171532,0.028520377352833748,0.031357623636722565,-0.02356402389705181,0.04281296581029892,0.02547169104218483,-0.06001588702201843,0.008377116173505783,0.015522085130214691,0.00333741819486022,0.003970290534198284,0.019281990826129913,0.05439379811286926,-0.04038527235388756,0.014174601063132286,0.02459035813808441,0.025359636172652245,-0.0032510426826775074,0.02338774874806404,-0.02844906598329544,-0.05361916869878769,-0.04263089969754219,-0.0351128913462162,0.024332676082849503,-0.02000408247113228,-0.03995057940483093,0.010528563521802425,0.007768312003463507,-0.020878475159406662,-0.014149938710033894,0.04021624103188515,0.06363491714000702,-0.0032433997839689255,-0.006482067983597517,-0.03441630303859711,-0.027182966470718384,-0.03376905247569084,-0.03482428938150406,-0.04089330509305,0.0015642250655218959,-0.008760198019444942,0.02145455591380596,0.010575428605079651,0.017874712124466896,-0.024883214384317398,-0.02632436715066433,-0.055404502898454666,-0.010275146923959255,-0.025898683816194534,-0.02030234783887863,0.002918423619121313,0.01801406405866146,0.14935892820358276,0.03430309519171715,0.007132203783839941,-0.0430796816945076,0.014425799250602722,-0.03694768622517586,-0.017056109383702278,0.0037887084763497114,0.006006096955388784,-0.018481994047760963,0.013166757300496101,-0.023839879781007767,-0.015657221898436546,0.017379943281412125,-0.024396831169724464,0.05334969609975815,-0.024593673646450043,-0.012608421966433525,-0.045460861176252365,0.02100573480129242,-0.029420705512166023,0.022097697481513023,-0.038577910512685776,0.027102038264274597,-0.0013037939788773656,0.020412346348166466,0.022394785657525063,0.03199397027492523,0.06053560599684715,-0.03722420334815979,0.021214786916971207,-0.016418177634477615,-0.0012783370912075043,-0.025932176038622856,-0.025574002414941788,0.029160093516111374,0.06938496232032776,0.036829326301813126,-0.03076906129717827,-0.0188525952398777,0.04377518966794014,-0.010017339140176773,0.04672868177294731,-0.06650363653898239,-0.038230106234550476,0.016432614997029305,-0.025948213413357735,0.005495244171470404,-0.028176307678222656,0.007790772709995508,0.017726674675941467,0.02056250534951687,-0.02298600599169731,0.026873387396335602,-0.0039077987894415855,-0.018909253180027008,-0.04025203362107277,-0.005926267243921757,0.018387984484434128,0.017698774114251137,-0.04455983638763428,0.03438247740268707,-0.03328602388501167,-0.006329615134745836,0.01989622600376606,-0.1011267676949501,0.007462224457412958,0.021312493830919266,0.04600777477025986,-0.02107510156929493,-0.01257138792425394,0.032886844128370285,-0.011304272338747978,0.043936535716056824,0.04016802832484245,0.04767056927084923,-0.03273256868124008,0.020450668409466743,-0.02159413881599903,-0.026075145229697227,0.035194799304008484,0.05119679495692253,-0.010413508862257004,0.02415814995765686,-0.002532870275899768,0.06811972707509995,-0.02714420296251774,0.06183568760752678,-0.022396724671125412,-0.042552649974823,-0.012686975300312042,0.04682532325387001,0.017825476825237274,0.020415520295500755,-0.00899519957602024,0.033877722918987274,-0.027396824210882187,-0.0056411270052194595,0.005365544930100441,-0.003561693010851741,-0.03541865572333336,-0.001541434321552515,0.05488795414566994,0.006903301924467087,0.02451714128255844,0.039933059364557266,0.03543032705783844,-0.04528007283806801,0.04335799068212509,-0.02748911827802658,-0.00917284656316042,-0.06937815994024277,0.0030802865512669086,0.026978494599461555,0.01460140012204647,0.0006061018793843687,-0.014698615297675133,-0.048678915947675705,0.018376264721155167,-0.01917761191725731,-0.022289039567112923,0.031175829470157623,0.025610119104385376,-0.010630522854626179,-0.04037650302052498,-0.019714495167136192,0.01180723961442709,0.04479203373193741,-0.010920409113168716,-0.008699917234480381,0.007305582519620657,0.04388195648789406,-0.0027120693121105433,0.03571530431509018,0.007552069611847401,-0.016706235706806183,0.026815176010131836,0.056581418961286545,0.026479508727788925,0.0014362013898789883,-0.016098808497190475,0.03355629742145538,0.020156128332018852,-0.02082022838294506,-0.04337213933467865,-0.04580415040254593,-0.023575419560074806,0.02584354765713215,0.022784031927585602,0.010777815245091915,-0.023966995999217033,0.030097024515271187,0.06244321167469025,0.029881613329052925,0.01022958941757679,0.006391151808202267,0.04664195328950882,-0.013245832175016403,0.04537467658519745,-0.0005671094986610115,0.04893283173441887,-0.04857916757464409,0.0039270538836717606,0.014200427569448948,-0.034019798040390015,-0.01003300491720438,-0.025046899914741516,-0.07495392858982086,-0.042363159358501434,0.008320695720613003,-0.0018260495271533728,0.05407970771193504,-0.0036382339894771576,0.05767806991934776,0.07227949053049088,0.009026521816849709,-0.01811957359313965,0.09522558003664017,0.056485190987586975,0.006475152913480997,0.04629811272025108,-0.010053234174847603,0.00521355215460062,0.044105228036642075,0.053839392960071564,-0.01866404339671135,-0.0690886527299881,-0.015208684839308262,-0.04256228730082512,-0.024534491822123528,-0.05245313048362732,-0.04931070655584335,0.017545824870467186,-0.04884013533592224,-0.02903488464653492,0.04071173444390297,-0.02685846947133541,-0.008086372166872025,0.0024438570253551006,-0.011458327993750572,0.0069755869917571545,0.005916707683354616,-0.04493522271513939,-0.02558070234954357,-0.02538968250155449,0.0077402954921126366,0.0016275454545393586,-0.0044839694164693356,-0.015374582260847092,0.06216972693800926,-0.014376586303114891,-0.0011375646572560072,-0.017566751688718796,0.040023501962423325,0.06129508465528488,-0.03773387521505356,0.012035099789500237,-0.02733764983713627,0.01116197556257248,0.01543240062892437,0.04240497946739197,-0.055247221142053604,-0.028247782960534096,0.05581207200884819,-0.0094523960724473,0.031111376360058784,-0.01960582844913006,-0.03359393775463104,-0.10822848230600357,0.049576908349990845,-0.017315944656729698,-0.035152725875377655,0.04296998307108879,0.10871712118387222,0.028446467593312263,-0.016718966886401176,0.020635847002267838,0.01733638532459736,-0.06622715294361115,-0.01680038496851921,-0.0268500205129385,-0.07586740702390671,-0.01443233247846365,-0.0015743764815852046,-0.017992887645959854,-0.017458513379096985,-0.00028112370637245476,-0.029903272166848183,0.006680173333734274,0.03915497660636902,0.020788583904504776,-0.011297464370727539,-0.004648732487112284,-0.05760299786925316,-0.020326517522335052,-0.0399874784052372,-0.008439073339104652,0.012776666320860386,-0.035995349287986755,-0.12251614034175873,0.007153129205107689,0.02559133991599083,-0.0058829947374761105,-0.008807606063783169,0.02823658660054207,-0.03047877922654152,-0.03180239722132683,0.02842695079743862,-0.02949519082903862,0.05131246894598007,0.04030110314488411,0.020684989169239998,-0.012635686434805393,0.029182806611061096,0.00015768501907587051,-0.09542817622423172,-0.004551944322884083,-0.010961929336190224,0.013617857359349728,0.019464239478111267,0.0024090956430882215,-0.018569182604551315,-0.025474052876234055,0.05998855084180832,-0.016225513070821762,-0.041277721524238586,0.010286077857017517,0.013254337012767792,-0.02400684542953968,0.020809821784496307,0.0022612849716097116,0.08897920697927475,-0.02866520546376705,-0.027681643143296242,0.04153509810566902,0.02717430703341961,0.019766462966799736,0.004368364345282316,-0.04248643293976784,0.02315889485180378,0.053110286593437195,0.017580769956111908,0.023904772475361824,-0.0055166673846542835,0.09625764191150665,0.018509984016418457,0.010425299406051636,0.007248306181281805,0.020683500915765762,0.022789599373936653,0.02162601612508297,0.053048133850097656,0.021195515990257263,-0.023450808599591255,0.0030205126386135817,-0.0378713421523571,-0.057744890451431274,0.01879868283867836,0.057923056185245514,-0.009077210910618305,-0.016730723902583122,-0.04689941555261612,0.004719831980764866,-0.04941316321492195,0.05335132032632828,0.008579184301197529,-0.0044930013827979565,-0.04731731116771698,-0.01583815924823284,-0.04293610900640488,0.03731513395905495,-6.232624597009345e-33,-0.02164478972554207,0.00854196771979332,-0.051355451345443726,-0.03591061010956764,0.0052109165117144585,-0.014039282687008381,-0.03135739639401436,-0.006403583101928234,0.0008606264600530267,-0.026070907711982727,-0.028187988325953484,-0.04406287148594856,-0.00213596667163074,0.009908768348395824,-0.0001723292371025309,-0.025871798396110535,-0.004483677446842194,-0.00635147700086236,-0.016180211678147316,0.021046802401542664,-0.021153125911951065,0.037117764353752136,0.025953780859708786,-0.017202144488692284,-0.015207909047603607,0.0037152597215026617,0.011742385104298592,-0.0027430509217083454,-0.1053725928068161,0.048255790024995804,-0.025111623108386993,-0.04158858582377434,-0.016754373908042908,-0.12825964391231537,0.04282066226005554,0.010174214839935303,-0.034146927297115326,-0.017212923616170883,0.004603495821356773,0.026594601571559906,0.0429825522005558,0.007985942997038364,-0.030261099338531494,0.03843104466795921,-0.009446613490581512,-0.01641693152487278,-0.021023865789175034,-0.015423628501594067,-0.03670336306095123,-0.0716296061873436,0.019463125616312027,0.008348600938916206,-0.029516881331801414,-0.03311019018292427,0.0017236430430784822,-0.054311271756887436,0.061371881514787674,0.033212147653102875,-0.05750628933310509,-0.008612317033112049,0.011978549882769585,-0.016495218500494957,0.020193977281451225,0.03318316861987114,0.014478741213679314,0.01572299748659134,0.03265177085995674,0.007147901691496372,-0.072514109313488,0.005933869164437056,-0.0026018344797194004,-0.05020710825920105,-0.005410309880971909,-0.05399562045931816,0.013212584890425205,0.03621087595820427,-0.03408561646938324,0.020262230187654495,-0.004566050134599209,0.016909629106521606,0.004521679133176804,0.03946799412369728,0.005211937241256237,0.006349669303745031,-0.025705786421895027,-0.10618909448385239,0.04287264123558998,0.025148890912532806,-0.01788089983165264,-0.019932782277464867,-0.017805000767111778,0.006552869454026222,-0.04831312596797943,0.04018959775567055,-0.1120150163769722,0.00236293557099998,0.011894493363797665,0.0490623340010643,-0.009518255479633808,0.024589436128735542,0.009879945777356625,-0.017822375521063805,0.0116604408249259,-0.0037966996897011995,-0.027466842904686928,0.027251290157437325,0.040205180644989014,-0.023604741320014,-0.03144686296582222,0.0055291252210736275,0.08630043268203735,0.0021539442241191864,-0.014814600348472595,0.02037985809147358,-0.020093342289328575,-0.007690283004194498,0.003426674986258149,-0.04215075820684433,0.043183181434869766,0.07324650138616562,-0.0031109843403100967,0.09031552076339722,-0.043074142187833786,0.0008482822449877858,0.06453324109315872,-0.010899149812757969,0.005698244087398052,0.013676290400326252,-0.03561148792505264,-0.01661929488182068,0.006568366661667824,0.019195057451725006,2.808097860906855e-7,0.002889032708480954,-0.02991654723882675,-0.03063899278640747,-0.09030109643936157,0.02068045362830162,-0.0040545156225562096,-0.016084682196378708,-0.07723665982484818,-0.0167123731225729,-0.08088842034339905,0.020036950707435608,0.03581797704100609,0.04905199259519577,0.009989581070840359,-0.0001929736026795581,-0.07123143970966339,0.040569059550762177,0.014027412980794907,-0.034059226512908936,-0.00115423824172467,0.03261813148856163,0.022662853822112083,0.018719937652349472,-0.004822458140552044,-0.026881836354732513,0.0851685181260109,0.007612088695168495,-0.02412492036819458,0.08463729172945023,-0.06916043162345886,0.015598404221236706,-0.03866562619805336,-0.03331989422440529,0.025624210014939308,0.03571341186761856,-0.006066412664949894,0.04275692626833916,-0.010908953845500946,0.02443285472691059,0.03889373317360878,0.025129511952400208,0.021842442452907562,-0.023257996886968613,-0.048901718109846115,0.009267699904739857,-0.04329593852162361,-0.04450313374400139,0.07602611929178238,-0.033789440989494324,0.03538789972662926,-0.03322803974151611,-0.03461766242980957,-0.04608415439724922,-0.03358687832951546,0.02602815069258213,-0.05228618159890175,-0.011178134009242058,0.028448864817619324,0.024180607870221138,0.045213788747787476,0.0021629335824400187,-0.008051406592130661,0.024265484884381294,0.0006617300678044558,0.011485032737255096,0.03267741948366165,-0.03595682233572006,3.0159392236108572e-34,-0.008805299177765846,-0.013775336556136608,0.030992817133665085,0.04499654471874237,0.04155152663588524,-0.05034976080060005,0.05560702830553055,-0.042582299560308456,0.004493684973567724,-0.03007415495812893,-0.016287703067064285]'
SET
  @HasCustomProps_d8aa3096 = 1
SET
  @HasCustomEvents_d8aa3096 = 1
SET
  @RequiresData_d8aa3096 = 0
SET
  @DependencyCount_d8aa3096 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_d8aa3096 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_d8aa3096 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @ID_d8aa3096 = '85027C84-2321-4F18-9280-4959F4EC4668'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_d8aa3096,
  @Name = @Name_d8aa3096,
  @Version = @Version_d8aa3096,
  @VersionSequence = @VersionSequence_d8aa3096,
  @Title = @Title_d8aa3096,
  @Description = @Description_d8aa3096,
  @Type = @Type_d8aa3096,
  @Status = @Status_d8aa3096,
  @DeveloperName = @DeveloperName_d8aa3096,
  @DeveloperEmail = @DeveloperEmail_d8aa3096,
  @DeveloperOrganization = @DeveloperOrganization_d8aa3096,
  @SourceRegistryID = @SourceRegistryID_d8aa3096,
  @ReplicatedAt = @ReplicatedAt_d8aa3096,
  @LastSyncedAt = @LastSyncedAt_d8aa3096,
  @Specification = @Specification_d8aa3096,
  @FunctionalRequirements = @FunctionalRequirements_d8aa3096,
  @TechnicalDesign = @TechnicalDesign_d8aa3096,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_d8aa3096,
  @TechnicalDesignVector = @TechnicalDesignVector_d8aa3096,
  @HasCustomProps = @HasCustomProps_d8aa3096,
  @HasCustomEvents = @HasCustomEvents_d8aa3096,
  @RequiresData = @RequiresData_d8aa3096,
  @DependencyCount = @DependencyCount_d8aa3096,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_d8aa3096,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_d8aa3096,
  @ID = @ID_d8aa3096;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_f07389d0 NVARCHAR(MAX),
@Name_f07389d0 NVARCHAR(500),
@Version_f07389d0 NVARCHAR(50),
@VersionSequence_f07389d0 INT,
@Title_f07389d0 NVARCHAR(1000),
@Description_f07389d0 NVARCHAR(MAX),
@Type_f07389d0 NVARCHAR(255),
@Status_f07389d0 NVARCHAR(50),
@DeveloperName_f07389d0 NVARCHAR(255),
@DeveloperEmail_f07389d0 NVARCHAR(255),
@DeveloperOrganization_f07389d0 NVARCHAR(255),
@SourceRegistryID_f07389d0 UNIQUEIDENTIFIER,
@ReplicatedAt_f07389d0 DATETIMEOFFSET,
@LastSyncedAt_f07389d0 DATETIMEOFFSET,
@Specification_f07389d0 NVARCHAR(MAX),
@FunctionalRequirements_f07389d0 NVARCHAR(MAX),
@TechnicalDesign_f07389d0 NVARCHAR(MAX),
@FunctionalRequirementsVector_f07389d0 NVARCHAR(MAX),
@TechnicalDesignVector_f07389d0 NVARCHAR(MAX),
@HasCustomProps_f07389d0 BIT,
@HasCustomEvents_f07389d0 BIT,
@RequiresData_f07389d0 BIT,
@DependencyCount_f07389d0 INT,
@TechnicalDesignVectorEmbeddingModelID_f07389d0 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_f07389d0 NVARCHAR(MAX),
@ID_f07389d0 UNIQUEIDENTIFIER
SET
  @Namespace_f07389d0 = N'Admin/Entities'
SET
  @Name_f07389d0 = N'EntityFilter'
SET
  @Version_f07389d0 = N'1.0.0'
SET
  @VersionSequence_f07389d0 = 1
SET
  @Title_f07389d0 = N'Entity Filter'
SET
  @Description_f07389d0 = N'Collapsible filter panel for filtering entities by various criteria'
SET
  @Type_f07389d0 = N'Other'
SET
  @Status_f07389d0 = N'Published'
SET
  @Specification_f07389d0 = N'{
    "name": "EntityFilter",
    "title": "Entity Filter Panel",
    "description": "Collapsible filter panel for filtering entities by various criteria",
    "type": "form",
    "functionalRequirements": "## Entity Filter Requirements\n\n- Collapsible panel on the left side\n- Filter by schema name (dropdown)\n- Filter by base table (dropdown)\n- Search box for text search\n- Clear all filters button\n- Show active filter count\n- Smooth collapse/expand animation\n- Remember collapsed state",
    "dataRequirements": null,
    "technicalDesign": "## Technical Design\n\n### Props\n- filters: Current filter values\n- onFilterChange: Callback when filters change\n- schemas: Available schema options\n- tables: Available table options\n- isCollapsed: Whether panel is collapsed\n- onToggleCollapse: Callback to toggle collapse\n\n### Components\n- Collapse toggle button\n- Schema dropdown\n- Table dropdown\n- Search input\n- Clear filters button\n- Active filter badges",
    "properties": [
    {
        "name": "filters",
        "description": "Current filter values",
        "type": "object",
        "required": true
    },
    {
        "name": "onFilterChange",
        "description": "Callback when filters change",
        "type": "function",
        "required": true
    },
    {
        "name": "schemas",
        "description": "Available schema options",
        "type": "array",
        "required": true
    },
    {
        "name": "tables",
        "description": "Available table options",
        "type": "array",
        "required": true
    },
    {
        "name": "isCollapsed",
        "description": "Whether the panel is collapsed",
        "type": "boolean",
        "required": true
    },
    {
        "name": "onToggleCollapse",
        "description": "Callback to toggle collapse state",
        "type": "function",
        "required": true
    }
    ],
    "events": [
    {
        "name": "onFilterChange",
        "description": "Fired when filter values change",
        "parameters": [
        {
            "name": "filters",
            "description": "Updated filter object",
            "type": "object"
        }
        ]
    },
    {
        "name": "onToggleCollapse",
        "description": "Fired when collapse state should toggle",
        "parameters": []
    }
    ],
    "exampleUsage": "<EntityFilter\n  filters={filters}\n  onFilterChange={handleFilterChange}\n  schemas={uniqueSchemas}\n  tables={uniqueTables}\n  isCollapsed={filterPanelCollapsed}\n  onToggleCollapse={handleToggleFilter}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>",
    "code": "function EntityFilter({ \n  filters, \n  onFilterChange, \n  schemas, \n  tables, \n  isCollapsed, \n  onToggleCollapse,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders.radius === ''object'' ? styles.borders.radius[size] : styles.borders.radius;\n  };\n  \n  // Calculate active filter count\n  const activeFilterCount = Object.values(filters || {}).filter(Boolean).length;\n  \n  // Handle schema filter change\n  const handleSchemaChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      schema: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle table filter change\n  const handleTableChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      table: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle clear all filters\n  const handleClearFilters = useCallback(() => {\n    onFilterChange?.({});\n  }, [onFilterChange]);\n  \n  // Handle toggle collapse\n  const handleToggle = useCallback(() => {\n    onToggleCollapse?.();\n  }, [onToggleCollapse]);\n  \n  return (\n    <div style={{\n      width: isCollapsed ? ''48px'' : ''280px'',\n      minWidth: isCollapsed ? ''48px'' : ''280px'',\n      backgroundColor: styles.colors.surface,\n      borderRight: `1px solid $' + '{styles.colors.border}`,\n      transition: ''width 0.3s ease-out'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      position: ''relative'',\n      overflow: ''hidden''\n    }}>\n      {/* Toggle Button */}\n      <button\n        onClick={handleToggle}\n        style={{\n          position: ''absolute'',\n          top: styles.spacing.md,\n          right: styles.spacing.md,\n          width: ''32px'',\n          height: ''32px'',\n          borderRadius: getBorderRadius(''sm''),\n          border: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.background,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.md,\n          cursor: ''pointer'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1,\n          transition: ''all 0.2s''\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.background;\n        }}\n      >\n        {isCollapsed ? ''\u2192'' : ''\u2190''}\n      </button>\n      \n      {/* Filter Icon when collapsed */}\n      {isCollapsed && (\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          flex: 1,\n          opacity: 1,\n          transition: ''opacity 0.3s''\n        }}>\n          <div style={{\n            fontSize: styles.typography.fontSize.xl,\n            color: styles.colors.textSecondary,\n            marginBottom: styles.spacing.sm\n          }}>\n            \ud83d\udd0d\n          </div>\n          {activeFilterCount > 0 && (\n            <div style={{\n              width: ''24px'',\n              height: ''24px'',\n              borderRadius: ''50%'',\n              backgroundColor: styles.colors.primary,\n              color: ''white'',\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              fontSize: styles.typography.fontSize.xs,\n              fontWeight: styles.typography.fontWeight?.bold || ''700''\n            }}>\n              {activeFilterCount}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Filter Content */}\n      <div style={{\n        padding: styles.spacing.lg,\n        opacity: isCollapsed ? 0 : 1,\n        transition: ''opacity 0.3s'',\n        pointerEvents: isCollapsed ? ''none'' : ''auto'',\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column''\n      }}>\n        {/* Header */}\n        <div style={{\n          marginBottom: styles.spacing.xl,\n          paddingRight: ''40px''\n        }}>\n          <h2 style={{\n            margin: 0,\n            fontSize: styles.typography.fontSize.lg,\n            fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n            color: styles.colors.text,\n            marginBottom: styles.spacing.xs\n          }}>\n            Filters\n          </h2>\n          {activeFilterCount > 0 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary\n            }}>\n              {activeFilterCount} active filter{activeFilterCount !== 1 ? ''s'' : ''''}\n            </div>\n          )}\n        </div>\n        \n        {/* Filter Controls */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.lg\n        }}>\n          {/* Schema Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Schema\n            </label>\n            <select\n              value={filters?.schema || ''''}\n              onChange={handleSchemaChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Schemas</option>\n              {schemas.map((schema) => (\n                <option key={schema} value={schema}>\n                  {schema}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Table Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Base Table\n            </label>\n            <select\n              value={filters?.table || ''''}\n              onChange={handleTableChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Tables</option>\n              {tables.map((table) => (\n                <option key={table} value={table}>\n                  {table}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Active Filters Display */}\n          {activeFilterCount > 0 && (\n            <div>\n              <div style={{\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Active Filters\n              </div>\n              <div style={{\n                display: ''flex'',\n                flexDirection: ''column'',\n                gap: styles.spacing.xs\n              }}>\n                {filters?.schema && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Schema:\n                      </span>\n                      <strong>{filters.schema}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleSchemaChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.table && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Table:\n                      </span>\n                      <strong>{filters.table}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleTableChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Clear All Button */}\n        {activeFilterCount > 0 && (\n          <div style={{\n            marginTop: styles.spacing.xl,\n            paddingTop: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`\n          }}>\n            <button\n              onClick={handleClearFilters}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.surface,\n                color: styles.colors.text,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.error + ''15'';\n                e.currentTarget.style.color = styles.colors.error;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surface;\n                e.currentTarget.style.color = styles.colors.text;\n              }}\n            >\n              Clear All Filters\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}",
    "dependencies": [],
    "libraries": []
}'
SET
  @FunctionalRequirements_f07389d0 = N'## Entity Filter

- Collapsible panel on the left side
- Filter by schema name (dropdown)
- Filter by base table (dropdown)
- Search box for text search
- Clear all filters button
- Show active filter count
- Smooth collapse/expand animation
- Remember collapsed state'
SET
  @TechnicalDesign_f07389d0 = N'## Design

### Props
- filters: Current filter values
- onFilterChange: Callback when filters change
- schemas: Available schema options
- tables: Available table options
- isCollapsed: Whether panel is collapsed
- onToggleCollapse: Callback to toggle collapse

### Components
- Collapse toggle button
- Schema dropdown
- Table dropdown
- Search input
- Clear filters button
- Active filter badges'
SET
  @FunctionalRequirementsVector_f07389d0 = N'[-0.05202985554933548,0.04957040399312973,-0.030017420649528503,-0.024727223441004753,-0.01788698136806488,-0.026782630011439323,-0.009166572242975235,0.09901880472898483,-0.01911846362054348,0.013985728845000267,-0.014999715611338615,0.012902847491204739,-0.014069408178329468,0.0897999182343483,-0.01258549652993679,-0.022761385887861252,0.015254654921591282,0.0379212386906147,-0.01576949842274189,-0.014209519140422344,0.01310844998806715,-0.014015012420713902,-0.020758450031280518,0.021828705444931984,0.10473129153251648,0.0391184501349926,-0.017779018729925156,-0.021993502974510193,0.01943076401948929,-0.03140546381473541,-0.026446353644132614,0.023448288440704346,-0.0005638257134705782,-0.01860630512237549,0.0000017811396446631989,0.017509890720248222,-0.08682898432016373,-0.0014480247627943754,-0.02078034169971943,0.018607020378112793,-0.019382024183869362,0.0416523776948452,0.02569640427827835,0.001247010543011129,0.002208956517279148,-0.022341109812259674,-0.03947338089346886,0.04647548124194145,0.0025785183534026146,-0.034012582153081894,0.03132885694503784,-0.03323452174663544,-0.008984560146927834,-0.011566045694053173,-0.008254210464656353,-0.060905858874320984,-0.008693800307810307,-0.06500820815563202,0.047269683331251144,0.00638929707929492,-0.01942335069179535,0.03305138647556305,0.02517944760620594,-0.04813961684703827,0.015447511337697506,-0.023664571344852448,0.019868163391947746,-0.056034862995147705,0.08152026683092117,-0.00011197164712939411,0.12292730808258057,-0.04597901925444603,-0.021812796592712402,-0.051047854125499725,0.00025425959029234946,0.07646124809980392,0.02703912742435932,0.008958886377513409,0.024217426776885986,0.043966133147478104,-0.05181445926427841,-0.010693696327507496,-0.003228996880352497,-0.006253942381590605,-0.06583801656961441,0.06991018354892731,-0.022688573226332664,-0.01792772486805916,0.021440085023641586,-0.07170064747333527,0.08835642039775848,0.011499963700771332,0.0069521451368927956,0.03758919611573219,-0.0553240068256855,-0.03264771029353142,0.039903029799461365,-0.019729575142264366,0.012417880818247795,0.04533211141824722,-0.04012622311711311,0.052244000136852264,0.05982518568634987,0.01561837736517191,0.010249238461256027,0.051899343729019165,0.012856649234890938,-0.03904998302459717,0.008314990438520908,-0.01875944249331951,-0.048248548060655594,0.04377712681889534,-0.011704607866704464,0.03181394189596176,-0.047613080590963364,0.005528364796191454,-0.023616285994648933,-0.06407984346151352,-0.015513601712882519,-0.013766865245997906,0.027754420414566994,0.013682645745575428,0.026880284771323204,-0.028718164190649986,-0.02403566800057888,0.016350215300917625,0.014914707280695438,-0.07270326465368271,-0.027268342673778534,-0.022963356226682663,-0.04181705415248871,-0.04340103641152382,0.04417954012751579,-0.00016794500697869807,0.006500339601188898,-0.060521580278873444,0.0011792511213570833,-0.02250419743359089,-0.052020035684108734,0.0156495850533247,0.03854653611779213,-0.0057122171856462955,-0.040641382336616516,0.10437895357608795,-0.013432236388325691,-0.06307164579629898,0.0250909011811018,-0.06556723266839981,0.037163425236940384,0.025827517732977867,-0.006091782823204994,-0.005723418667912483,-0.019364120438694954,0.03328077122569084,-0.0067169261164963245,-0.026729896664619446,0.050853997468948364,0.05035445839166641,-0.009011507965624332,0.0025804738979786634,-0.03016703948378563,0.022084174677729607,0.023862099274992943,-0.00609660753980279,0.05135240778326988,0.044402074068784714,-0.152191624045372,-0.004966971464455128,-0.09176652878522873,-0.03663889691233635,-0.0025952858850359917,-0.0322139672935009,0.00897275935858488,0.03249030560255051,0.01675054244697094,-0.012195292860269547,0.10772731155157089,0.04784216359257698,-0.056328557431697845,0.010580304078757763,0.0258575938642025,-0.029558122158050537,0.017117934301495552,-0.05470404028892517,0.014324165880680084,-0.040939852595329285,-0.024579660966992378,-0.03064139187335968,-0.02282528392970562,0.016884006559848785,0.03347767889499664,0.054598644375801086,0.0059665204025805,0.040707871317863464,-0.003940919414162636,0.016653867438435555,0.0019368953071534634,0.030324894934892654,0.039983976632356644,-0.012487511150538921,-0.029670242220163345,-0.019624188542366028,0.06302452832460403,0.03204970806837082,0.022872664034366608,-0.02678101509809494,0.004410581663250923,0.014484073035418987,0.03124924562871456,0.018626293167471886,-0.06365487724542618,0.02208448201417923,-0.025437762960791588,0.03900563344359398,-0.01554851233959198,0.07921230047941208,0.03650432080030441,-0.004804064054042101,-0.047493841499090195,0.003999906126409769,-0.010187029838562012,0.01208187360316515,-0.01764504984021187,0.022238759323954582,0.05716225132346153,0.08000417053699493,0.029284803196787834,0.0009657499031163752,-0.000043338943214621395,-0.02215764857828617,-0.016289839521050453,-0.005539169535040855,-0.004259662702679634,0.02002866379916668,-0.0012060487642884254,-0.029870495200157166,0.06714127957820892,0.069534070789814,-0.03179137036204338,0.006264586001634598,0.056009192019701004,-0.011843104846775532,-0.0002881063846871257,0.002033418510109186,-0.0446506030857563,-0.07936888933181763,-0.01939193531870842,-0.004079689271748066,0.03439344838261604,-0.05799306184053421,-0.009939227253198624,-0.006322314031422138,0.030911888927221298,-0.039472710341215134,-0.020661791786551476,0.012446105480194092,-0.0364244282245636,0.008207500912249088,-0.008920593187212944,0.07982905954122543,0.06144983693957329,-0.010638657957315445,-0.048997145146131516,0.015429545193910599,0.025476522743701935,0.010471302084624767,0.0687670037150383,0.0033515836112201214,0.03539615496993065,-0.008369974792003632,0.008073452860116959,0.009435239247977734,-0.0035312986001372337,-0.017780466005206108,-0.006429123692214489,-0.009694796055555344,-0.00024195377773139626,0.043855879455804825,-0.0013420097529888153,-0.05970285087823868,-0.026222189888358116,-0.017274407669901848,-0.02953958511352539,0.03930045664310455,0.01557603757828474,0.006083634681999683,0.019529860466718674,-0.06793210655450821,0.0429186075925827,0.019529225304722786,0.03682081401348114,0.007229804992675781,0.057715125381946564,-0.007777780294418335,-0.009514939971268177,0.0242047980427742,-0.08662591874599457,0.058831874281167984,-0.00007645526784472167,0.08342809975147247,-0.015726054087281227,0.055814214050769806,-0.012798692099750042,0.032680243253707886,-0.014836110174655914,0.05788327008485794,0.005598954390734434,0.000983205158263445,0.02829541638493538,0.03409932553768158,-0.03886764869093895,0.011998312547802925,-0.021271707490086555,-0.0651271641254425,-0.026023991405963898,-0.013972098007798195,-0.006600065156817436,0.0037045537028461695,-0.0030406115110963583,0.055806443095207214,-0.014590068720281124,0.025675181299448013,-0.020250290632247925,0.02196452207863331,-0.019595399498939514,-0.001797927776351571,-0.0204663947224617,-0.019862068817019463,0.018808651715517044,0.005172830540686846,0.020265160128474236,0.025419149547815323,-0.011931986548006535,-0.012201065197587013,0.004795046988874674,-0.018098197877407074,-0.04763796553015709,0.07537595927715302,-0.0077821617014706135,-0.012858632951974869,-0.018847879022359848,-0.005320507101714611,-0.010508871637284756,-0.01718435063958168,-0.0017481512622907758,0.04142911732196808,0.06533785164356232,-0.017542045563459396,-0.11926702409982681,0.005582806654274464,0.025421852245926857,0.04490987956523895,-0.028507228940725327,-0.00280739669688046,0.014549847692251205,-0.024215472862124443,-0.0004042851796839386,0.043245378881692886,-0.03403540700674057,-0.032715316861867905,0.09348318725824356,0.013229474425315857,-0.005931261461228132,0.022557640448212624,0.044943176209926605,-0.02520902454853058,-0.006790912244468927,-0.00114275177475065,0.03195623680949211,-0.036842748522758484,-0.04563041031360626,0.002985358936712146,0.008195493370294571,0.06617704778909683,-0.007136191241443157,-0.0456300787627697,0.007406975608319044,-0.010106883943080902,0.011035818606615067,0.012586042284965515,0.009305622428655624,0.007129354402422905,0.02759888581931591,-0.012224925681948662,0.003763721324503422,0.0050179362297058105,-0.012669319286942482,0.012232689186930656,-0.003907695412635803,-0.020264631137251854,-0.024140262976288795,-0.0340624563395977,0.016680609434843063,-0.005146396346390247,0.0034939355682581663,-0.03361337631940842,-0.015478754416108131,0.04623730108141899,0.0033083909656852484,0.010229159146547318,-0.014934699982404709,0.1134023368358612,-0.04289375618100166,0.03370140492916107,-0.008693801239132881,-0.06605201959609985,-0.028614645823836327,0.06529128551483154,0.02083691395819187,-0.01888708397746086,-0.019707873463630676,-0.021213924512267113,0.01076924242079258,-0.02830340526998043,0.012431163340806961,-0.035769153386354446,-0.00710224499925971,-0.032937828451395035,-0.007464244030416012,0.046251438558101654,0.00022181640088092536,-0.0350930280983448,0.012071202509105206,-0.026369614526629448,0.022888464853167534,0.0012795457150787115,0.0023913460317999125,-0.06593086570501328,-0.0022024314384907484,0.0472857840359211,-0.040458738803863525,0.07345598191022873,0.018214954063296318,0.023800931870937347,0.008436780422925949,-0.061165910214185715,0.03935173898935318,-0.049184445291757584,-0.010174294002354145,0.016634803265333176,0.018105274066329002,0.016191823408007622,0.036314770579338074,0.02082749828696251,0.0328107550740242,0.06841681897640228,0.034834012389183044,0.06147179380059242,-0.002637819154188037,-0.04309730976819992,0.014721762388944626,0.014791944064199924,-0.04427444934844971,-0.014007752761244774,-0.002686224179342389,-0.014321265742182732,0.00808462779968977,0.03261786326766014,-0.02588462084531784,-0.007453883998095989,-0.09337998926639557,0.028511319309473038,-0.04683983325958252,-0.009044348262250423,-0.0398237444460392,-0.014547962695360184,-0.04503140598535538,-0.08248377591371536,0.0004355965356808156,-0.006123244762420654,-0.07314250618219376,0.01206955686211586,0.026163846254348755,0.006727761588990688,-0.0011103752767667174,-0.020944520831108093,-0.029755286872386932,-0.028781386092305183,0.018501823768019676,0.013750777579843998,-0.0231571476906538,-0.0026125432923436165,0.030829068273305893,-0.10247891396284103,-0.010264422744512558,0.0699743777513504,-0.02023272030055523,-0.009103920310735703,0.006605942267924547,0.06039387732744217,0.02881721779704094,-0.038754209876060486,0.003362639108672738,0.03097573108971119,0.022869857028126717,0.009620056487619877,0.027705777436494827,0.05365076661109924,-0.039422113448381424,-0.03555648401379585,0.030726658180356026,0.0042063710279762745,0.019317423924803734,-0.022251231595873833,0.0036893158685415983,-0.006067155860364437,0.022526511922478676,0.07406872510910034,-0.002992397639900446,0.006014707963913679,0.019995231181383133,-0.0031641710083931684,-0.05131363868713379,-0.004806078504770994,0.02377551794052124,-0.034928154200315475,-0.012564163655042648,0.002994018839672208,-0.009438619948923588,0.03314271196722984,0.013357100076973438,0.018790030851960182,-0.021097812801599503,-0.02556864731013775,0.041820723563432693,-0.031322747468948364,0.0037892358377575874,0.007867187261581421,0.054312046617269516,0.02883034385740757,0.05787491425871849,0.0051630823872983456,0.006421409547328949,0.0048264386132359505,0.0013737132539972663,-0.005296791438013315,0.022479532286524773,0.02226407080888748,-0.007959835231304169,-0.031218308955430984,-0.06370896100997925,0.03784704580903053,0.0021775183267891407,-0.015509207732975483,-0.027420928701758385,-0.054586101323366165,0.01800449565052986,0.0044096605852246284,0.0074722315184772015,0.009573005139827728,-0.03512625768780708,-0.03790844604372978,-0.03558036684989929,0.024448378011584282,-0.03786548227071762,-5.778171868825725e-33,-0.03220992535352707,-0.031932294368743896,-0.03440915048122406,-0.07695379108190536,0.01596762239933014,-0.061304379254579544,-0.018278829753398895,-0.003019273281097412,-0.02871794067323208,-0.004829494748264551,-0.028855595737695694,0.019644420593976974,-0.00629656296223402,0.018772335723042488,-0.03334236890077591,-0.02944176457822323,-0.0003677399654407054,-0.02831660769879818,0.03404823690652847,0.05899226665496826,-0.04190483316779137,0.03764791041612625,-0.041367270052433014,-0.022222034633159637,-0.057141393423080444,0.06286981701850891,-0.0032205265015363693,-0.0011784269008785486,-0.04792409762740135,0.01269935630261898,-0.028052853420376778,-0.044153843075037,0.00025230005849152803,-0.038228172808885574,0.025220191106200218,-0.06673495471477509,0.004121190868318081,-0.006727590225636959,-0.018250785768032074,0.010703641921281815,0.05103088542819023,-0.006525462493300438,0.0024878508411347866,0.013655095361173153,-0.030471840873360634,0.05220072343945503,0.007044771686196327,-0.018376123160123825,-0.032233018428087234,-0.022761017084121704,0.007047795690596104,0.030581604689359665,0.0020929682068526745,0.018833313137292862,-0.0027510218787938356,0.03834341838955879,0.005877689924091101,0.05399029701948166,0.03736581653356552,-0.05039801821112633,0.09531067311763763,0.013351835310459137,-0.038083042949438095,0.042883388698101044,0.026270151138305664,0.012354506179690361,-0.03634816035628319,0.040559981018304825,-0.07531462609767914,-0.03580772876739502,0.015067710541188717,0.04055257886648178,0.028863174840807915,-0.04458039999008179,0.018481288105249405,-0.0016124186804518104,-0.00910286046564579,-0.003549172542989254,-0.10901309549808502,0.07043659687042236,0.01208285242319107,0.026656370609998703,0.014994521625339985,0.03745923563838005,-0.009776439517736435,-0.032394908368587494,-0.009299898520112038,0.019890207797288895,0.007083363831043243,0.024292845278978348,-0.00716044008731842,-0.07227575033903122,-0.049426596611738205,0.0423717200756073,-0.03272425755858421,-0.014629493467509747,0.011296456679701805,-0.025997260585427284,-0.008504779078066349,-0.012531493790447712,0.025610120967030525,-0.0026521028485149145,-0.023081623017787933,-0.02685520425438881,-0.01946008764207363,0.008765047416090965,-0.013509288430213928,0.01284722238779068,-0.030806584283709526,0.00010926030518021435,0.0012080518063157797,-0.022621827200055122,0.0002763778902590275,0.005048444028943777,-0.020995236933231354,0.007703753188252449,0.009233075194060802,-0.0002652184630278498,0.027969172224402428,0.036553435027599335,0.01993311382830143,-0.03556547686457634,0.04595116898417473,0.061841931194067,0.07195328921079636,-0.042185138911008835,-0.0343690924346447,-0.051004618406295776,0.03359966725111008,-0.01889748126268387,0.004336244892328978,0.022157080471515656,2.5975211315198976e-7,0.00020912752370350063,-0.025872275233268738,-0.046196985989809036,0.0018739139195531607,0.05173035338521004,-0.06314510852098465,0.03710191324353218,-0.044264812022447586,-0.018621422350406647,-0.09471604973077774,0.03827852010726929,0.0019190413877367973,0.04060311242938042,-0.008132987655699253,-0.048435818403959274,-0.0725557804107666,-0.004443996585905552,-0.06668638437986374,-0.0433923676609993,-0.03900202736258507,0.021053433418273926,0.08666965365409851,0.013686709105968475,0.017968405038118362,-0.01337796077132225,0.011904227547347546,0.0037383362650871277,-0.027501914650201797,0.04066634178161621,-0.008306490257382393,0.06677119433879852,-0.02634953148663044,-0.04533591866493225,0.02955184318125248,0.02368975058197975,0.058450665324926376,-0.00131451606284827,0.006132820155471563,-0.0025631103198975325,0.025487251579761505,0.04374159872531891,-0.033557597547769547,-0.04940810427069664,-0.041371189057826996,0.07140309363603592,0.02261061780154705,0.014372908510267735,0.07639164477586746,0.009157707914710045,0.025305291637778282,0.04437645524740219,-0.0025419483426958323,0.004983825609087944,-0.025617625564336777,0.026973385363817215,0.004073879215866327,-0.004014100879430771,-0.008707759901881218,0.023160729557275772,-0.07823443412780762,-0.04419957473874092,0.01987350732088089,-0.021716823801398277,-0.04265978932380676,0.0090192761272192,0.013786707073450089,-0.01730635017156601,3.1884613866932595e-34,0.0010568437865003943,-0.005796699784696102,0.01891055516898632,0.06727493554353714,0.036450888961553574,0.003346808487549424,-0.053426388651132584,-0.012658270075917244,0.0031679493840783834,-0.09166194498538971,0.013779187574982643]'
SET
  @TechnicalDesignVector_f07389d0 = N'[-0.054166171699762344,0.0021915712859481573,-0.022925058379769325,-0.03809015080332756,0.00803006999194622,-0.056045543402433395,0.0257845688611269,0.07828803360462189,0.0071576680056750774,-0.004283680580556393,-0.007080964278429747,0.04733036085963249,0.08264008164405823,0.11088848859071732,0.011892156675457954,-0.022773724049329758,0.034409649670124054,0.06370586901903152,-0.07275749742984772,-0.024100426584482193,-0.01481874193996191,0.002326763467863202,-0.01948036253452301,0.018299294635653496,0.07970906794071198,-0.02547159232199192,0.0004459522315301001,-0.03873100131750107,0.0012670934665948153,-0.01912854239344597,0.009109259583055973,0.04366788640618324,-0.04553243890404701,-0.025902902707457542,0.0000021031562482676236,0.003133566817268729,-0.001179745770059526,-0.03495316207408905,-0.03077325038611889,-0.006559071596711874,-0.037658609449863434,-0.03528449311852455,0.0459754653275013,0.019539855420589447,0.008911682292819023,-0.11478953063488007,-0.06499746441841125,0.07450997084379196,-0.007562481798231602,-0.04352550581097603,0.01020049024373293,-0.0288994237780571,0.007723324466496706,-0.008094054646790028,0.03223705664277077,-0.012514262460172176,-0.0030068359337747097,-0.06988982856273651,0.04932321608066559,-0.05147363618016243,0.015011993236839771,-0.0031068501994013786,-0.0010208925232291222,-0.037910692393779755,-0.004734447225928307,-0.035152409225702286,0.027281267568469048,-0.04632052034139633,0.03925022855401039,-0.010904069058597088,0.09143155068159103,-0.016531558707356453,-0.0035518479999154806,-0.009940051473677158,-0.016262199729681015,0.04612685367465019,0.009636184200644493,-0.02067609503865242,0.0007441763882525265,0.037091899663209915,0.007928992621600628,-0.014827664010226727,-0.023453686386346817,-0.01748238131403923,0.0294595155864954,0.06933823972940445,-0.03418583795428276,0.00417479919269681,-0.00822665449231863,-0.0500272773206234,0.09631893038749695,-0.022761065512895584,0.029504192993044853,-0.04067188501358032,-0.05318181589245796,-0.001807655324228108,0.027214616537094116,-0.08099990338087082,0.01897481083869934,0.007753221318125725,-0.011502864770591259,0.041649408638477325,0.011252849362790585,0.00997681263834238,0.012482648715376854,0.07499861717224121,0.004434170201420784,-0.003829725319519639,-0.018334323540329933,0.0019494043663144112,-0.035060904920101166,0.02367710880935192,0.044657446444034576,0.03217252343893051,-0.01797688938677311,0.0017742827767506242,-0.02598353661596775,-0.02636347897350788,0.0028366046026349068,-0.00562044745311141,0.05311590060591698,-0.02622351609170437,0.049345407634973526,-0.008406281471252441,0.015007191337645054,0.055988866835832596,0.06506059318780899,-0.06905344128608704,-0.017709873616695404,0.012009008787572384,0.0027247359976172447,-0.03527996689081192,0.030527539551258087,0.01129135675728321,-0.018349872902035713,-0.03995522856712341,-0.03163011744618416,-0.0039533269591629505,-0.00661538215354085,0.041516490280628204,0.04484005272388458,0.014854525215923786,-0.010740160010755062,0.06953753530979156,-0.02769746258854866,-0.013957345858216286,0.043253093957901,-0.08432776480913162,-0.01796598546206951,0.03451075404882431,0.022966578602790833,0.0047180852852761745,0.009245375171303749,0.030578898265957832,-0.022055907174944878,0.02141975425183773,-0.024851389229297638,0.014535505324602127,0.008220992051064968,0.02222120575606823,-0.0068566035479307175,0.010091838426887989,0.026324089616537094,-0.012713421136140823,-0.011001314967870712,0.036044687032699585,-0.10520883649587631,-0.0681399330496788,0.002800161950290203,-0.06264565140008926,-0.003791446564719081,-0.0329962857067585,-0.02968401461839676,0.053247563540935516,0.0059796725399792194,-0.06743953377008438,0.11260277777910233,0.03554854542016983,-0.0821218341588974,-0.02288626879453659,0.03578585758805275,-0.00918175932019949,-0.018797971308231354,-0.016050955280661583,-0.0660451278090477,-0.02010582946240902,-0.06805108487606049,-0.0072335135191679,0.022149929776787758,-0.022496506571769714,-0.03532195836305618,0.03662274032831192,-0.01207547727972269,-0.0042283483780920506,-0.0264462698251009,0.022984975948929787,-0.060379862785339355,0.03353703394532204,-0.0209883414208889,0.02411077730357647,0.021541066467761993,-0.03133559972047806,0.09956379979848862,0.06679131090641022,0.006843359675258398,-0.025086738169193268,-0.009214363060891628,0.03380056470632553,0.008268121629953384,-0.015509476885199547,-0.01845824532210827,0.017502689734101295,0.04444187134504318,0.04394889995455742,-0.03536549210548401,0.03422142192721367,0.04789157956838608,-0.029012518003582954,-0.04246694594621658,-0.02584470994770527,-0.022790193557739258,0.01633315533399582,0.015458231791853905,0.037822358310222626,0.11667490750551224,0.05603383854031563,0.01613418385386467,0.013149355538189411,0.010389639064669609,-0.042490217834711075,0.050459712743759155,-0.00024838754325173795,-0.0428873747587204,0.04019119590520859,0.007730088662356138,-0.016679270192980766,0.006471538916230202,-0.026253214105963707,0.010148594155907631,-0.0003850827633868903,0.004418220836669207,0.06855450570583344,-0.03338712081313133,0.029280608519911766,-0.018720099702477455,-0.06031852588057518,-0.04921247065067291,0.03665837645530701,-0.0028119131457060575,-0.028181077912449837,0.012517699040472507,0.042739469558000565,0.016498321667313576,-0.07621104270219803,-0.036305904388427734,-0.056815218180418015,-0.005477284546941519,0.030154449865221977,0.014538266696035862,0.047300826758146286,0.045515723526477814,-0.019472423940896988,-0.036222148686647415,-0.013091586530208588,0.04998927563428879,0.0067479233257472515,0.059568192809820175,0.038605887442827225,0.021467629820108414,0.005008968524634838,-0.002063738415017724,-0.00713562173768878,-0.00460791913792491,-0.013569229282438755,0.007335863076150417,0.007154402323067188,0.08142071217298508,0.053169019520282745,0.0024764426052570343,-0.025985537096858025,-0.01754075288772583,-0.03668353334069252,-0.04593183472752571,0.0005996373947709799,-0.004806586541235447,0.009624400176107883,-0.01686135306954384,0.0016438851598650217,0.03799379989504814,-0.031246155500411987,0.03585289046168327,0.012851533479988575,0.03414476290345192,-0.06255985051393509,-0.01203538291156292,-0.0024057000409811735,-0.01096329651772976,0.0371692031621933,0.014219135046005249,0.030652880668640137,-0.0003628330014180392,0.03825276717543602,-0.008724733255803585,-0.002177218208089471,-0.02063194289803505,0.031148066744208336,-0.0680663138628006,-0.013933098874986172,0.00958613958209753,0.033840764313936234,-0.007352878339588642,0.0452008917927742,-0.04835105687379837,-0.05548712611198425,0.002208173740655184,0.0033016144298017025,0.0037425775080919266,-0.024451175704598427,0.01509389840066433,0.07126377522945404,-0.00895120482891798,-0.016607847064733505,-0.02948712930083275,-0.0023371644783765078,-0.025888610631227493,-0.011474226601421833,-0.008017531596124172,-0.031231028959155083,0.10353245586156845,-0.020422853529453278,0.0010367652866989374,0.06823189556598663,0.01147376000881195,-0.020498288795351982,0.012780153192579746,-0.016024062409996986,-0.04169074445962906,0.04402049258351326,-0.0065216924995183945,-0.00030624758801423013,-0.015083547681570053,-0.015476022846996784,-0.028331181034445763,0.0013004724169149995,0.013830084353685379,0.0003533855779096484,0.0028786889743059874,-0.006939959712326527,-0.08728385716676712,-0.008599093183875084,0.016632115468382835,0.02709135226905346,0.035225383937358856,-0.012560422532260418,0.007869064807891846,0.00024191646662075073,0.0029963820707052946,0.022868145257234573,-0.007102093193680048,-0.007879056967794895,0.06251205503940582,-0.029441459104418755,0.041299425065517426,0.008275246247649193,-0.012422206811606884,0.014315989799797535,0.029552606865763664,0.006143228150904179,-0.0030181463807821274,-0.08649227023124695,-0.05646205693483353,-0.00010747052147053182,0.05308184400200844,0.0022195351775735617,-0.0450119748711586,-0.01589994691312313,0.041473645716905594,0.013545971363782883,-0.004406181164085865,0.018596626818180084,0.012419618666172028,-0.002951383590698242,0.026533160358667374,-0.018781743943691254,0.056312158703804016,-0.011958914808928967,0.04156117886304855,0.006178840529173613,0.020039407536387444,-0.01218384224921465,-0.03085850179195404,-0.08211733400821686,-0.0361449271440506,0.005837612319737673,-0.0006739668897353113,-0.036799024790525436,-0.018157586455345154,0.018460679799318314,0.004443368408828974,-0.0009769543539732695,-0.031405504792928696,0.14838548004627228,-0.01588113233447075,0.02265952341258526,0.05928577110171318,-0.03278530761599541,-0.053353458642959595,0.025307562202215195,0.06412091851234436,-0.008356064558029175,0.01271093264222145,-0.022487318143248558,0.008515539579093456,-0.019949836656451225,-0.08526156097650528,0.012908637523651123,0.004909144714474678,-0.059032171964645386,-0.011538534425199032,0.04137083515524864,-0.0312715582549572,-0.01123871374875307,0.006652175448834896,-0.010748469270765781,-0.03005005232989788,-0.025771791115403175,0.013201870024204254,-0.034175410866737366,-0.009997920133173466,0.027190780267119408,-0.004476428963243961,0.030515484511852264,0.04880550131201744,0.004609433002769947,-0.008889473974704742,-0.05206200107932091,0.03962068632245064,-0.007034596521407366,-0.017468422651290894,-0.025257011875510216,0.06414546817541122,-0.03877108171582222,0.001969981472939253,-0.0026951399631798267,0.037215057760477066,-0.049655601382255554,0.04187552258372307,0.07749166339635849,0.011646643280982971,-0.034429024904966354,-0.007952244952321053,0.026102157309651375,-0.037021901458501816,0.02039649523794651,-0.03897827863693237,-0.02128736488521099,0.021986378356814384,0.08473128825426102,-0.000908522866666317,0.028007181361317635,-0.04369192570447922,0.02727574110031128,-0.03331713378429413,0.0004476721223909408,-0.029941128566861153,-0.017158042639493942,0.05869273841381073,-0.03620752692222595,-0.016693195328116417,0.028525421395897865,-0.06334363669157028,0.024319257587194443,0.01350159477442503,0.012119277380406857,0.012740714475512505,-0.08157673478126526,-0.04169989004731178,-0.03806348890066147,-0.012823277153074741,0.017653102055191994,0.010778694413602352,-0.0031599111389368773,-0.02144961804151535,-0.045312896370887756,0.024787019938230515,0.01074486318975687,0.029784666374325752,0.003984411247074604,0.03769705817103386,0.030851606279611588,0.038443807512521744,-0.017704583704471588,0.010114037431776524,0.05832483246922493,0.0609043724834919,0.08210467547178268,0.00724976509809494,0.07108275592327118,-0.03381478786468506,-0.02358306385576725,0.03901992365717888,0.0005804457468912005,0.0050253733061254025,0.0253249853849411,-0.01629122905433178,-0.07376808673143387,-0.0174466110765934,0.05877087265253067,-0.03423384949564934,-0.03957144916057587,-0.05631565675139427,0.010749774053692818,-0.037419643253088,-0.0017059413949027658,0.03469833731651306,0.00053351407404989,-0.05200653150677681,0.005632344167679548,0.030095502734184265,-0.022315341979265213,0.029968298971652985,0.02763507328927517,-0.019836345687508583,-0.01820184662938118,0.03793938085436821,-0.0032992810010910034,0.0031410909723490477,0.027873298153281212,0.006334562785923481,0.03397195041179657,0.026020454242825508,-0.01084054633975029,-0.007278199307620525,0.020213348791003227,0.023489531129598618,0.01611301489174366,-0.027459556236863136,0.0775810033082962,-0.02317107655107975,-0.038814716041088104,-0.06511645019054413,0.0019027754897251725,0.007769034709781408,-0.011355491355061531,0.06774570047855377,-0.04575056582689285,0.023709053173661232,-0.018584007397294044,0.01801847107708454,0.029958907514810562,-0.010145066305994987,-0.03226545453071594,-0.022567814216017723,0.013830349780619144,0.03456353768706322,-6.456504842963142e-33,-0.0131300687789917,-0.005095269531011581,-0.012722352519631386,-0.0016473900759592652,-0.030103059485554695,-0.033064477145671844,-0.07659686356782913,-0.03321458771824837,-0.050592076033353806,-0.03015364706516266,-0.04664750397205353,0.0017718091839924455,-0.011118312366306782,-0.008359845727682114,0.014013531617820263,-0.0474172942340374,0.023244205862283707,-0.0036023384891450405,-0.014611311256885529,0.042813740670681,-0.022680455818772316,0.0001510715374024585,0.007287846878170967,-0.013717706315219402,-0.08348376303911209,0.009411907754838467,-0.0517500638961792,0.005437205545604229,-0.08016028255224228,0.01624811813235283,-0.04586160555481911,-0.008955310098826885,-0.015874924138188362,-0.07303289324045181,0.04267764091491699,0.025990258902311325,-0.02497418038547039,-0.000323840940836817,0.07329294085502625,0.013681143522262573,0.03529774397611618,-0.011345122009515762,0.022277390584349632,0.02678115852177143,0.0297042578458786,-0.02541566826403141,-0.010241064243018627,-0.00589809799566865,-0.010017437860369682,0.02810700796544552,0.007487169932574034,0.040362220257520676,-0.02194490283727646,-0.00952084083110094,-0.05347936227917671,0.046308599412441254,0.02219875156879425,0.06417851895093918,0.015062314458191395,-0.011612583883106709,-0.006255899090319872,-0.01605435274541378,0.004388906992971897,0.01671389490365982,0.025490496307611465,0.006476248148828745,-0.03202582150697708,0.05011550337076187,-0.06687279790639877,-0.06729362159967422,0.008068946190178394,0.013226312585175037,0.02430260367691517,0.02881728485226631,0.053822461515665054,-0.05728568881750107,-0.02614608407020569,-0.026914430782198906,-0.025393422693014145,0.05758862942457199,-0.024498354643583298,0.08078451454639435,0.06982409209012985,0.02644285559654236,-0.05163594335317612,-0.05196935683488846,0.03729470074176788,-0.004111660644412041,-0.032910123467445374,0.03625454753637314,-0.020343955606222153,-0.02567998506128788,-0.04680338501930237,0.044810254126787186,0.010832308791577816,-0.014084129594266415,0.04475576803088188,-0.0007693307125009596,-0.005757300183176994,-0.037135884165763855,0.030703669413924217,-0.019201461225748062,-0.03963508829474449,0.007108726073056459,0.00007857810851419345,0.03059029020369053,-0.037217482924461365,0.054174844175577164,0.011247314512729645,-0.0012855561217293143,-0.0018806476145982742,-0.06714560836553574,-0.026983430609107018,-0.010373645462095737,0.014988020062446594,0.02721194364130497,-0.00983367394655943,-0.08546231687068939,0.02140806056559086,0.06037747859954834,0.01142184343189001,-0.016687501221895218,0.007919768802821636,0.05989363417029381,0.0475313775241375,-0.03674228489398956,-0.07609603554010391,-0.0465279147028923,0.03471745178103447,-0.010384107939898968,0.029532762244343758,0.009166872128844261,3.052149111226754e-7,-0.009772933088243008,-0.009499209932982922,-0.047076884657144547,-0.02049991860985756,0.02682138793170452,-0.03707897290587425,-0.0011806837283074856,-0.06902649998664856,-0.05109262466430664,-0.06234373152256012,0.038013819605112076,-0.02032044343650341,0.029650993645191193,0.0311849657446146,-0.06210959702730179,-0.03543409705162048,0.02255365252494812,-0.06714457273483276,-0.06925921142101288,-0.012229254469275475,0.014657972380518913,0.03492196276783943,0.06807857006788254,-0.010703064501285553,-0.002854181220754981,0.07245230674743652,-0.011540076695382595,0.0009355982765555382,0.041753534227609634,-0.011640158481895924,0.034807126969099045,-0.014239045791327953,-0.014183840714395046,-0.01993538998067379,0.01801997981965542,0.0386420339345932,0.03312615305185318,-0.017935093492269516,0.02256678231060505,0.023832395672798157,0.026891037821769714,-0.026166222989559174,-0.06302084028720856,-0.07041288167238235,0.03678517043590546,0.002975820330902934,0.006276657339185476,0.04751502722501755,-0.02877994254231453,0.020277947187423706,0.03512635827064514,-0.004830315243452787,-0.0021000613924115896,-0.016498267650604248,-0.007188086397945881,-0.00478315819054842,-0.012373181991279125,0.0033716210164129734,0.03689482435584068,0.0076470570638775826,-0.04508977010846138,0.010707796551287174,-0.002266298048198223,-0.020092254504561424,0.022314297035336494,0.05111320689320564,-0.05530029907822609,2.864609478799354e-34,-0.018842196092009544,-0.04679013043642044,-0.000022684149371343665,-0.009145610965788364,0.029797466471791267,-0.030509229749441147,0.004338790662586689,0.006956461351364851,0.01835935190320015,-0.034067779779434204,0.019255323335528374]'
SET
  @HasCustomProps_f07389d0 = 1
SET
  @HasCustomEvents_f07389d0 = 1
SET
  @RequiresData_f07389d0 = 0
SET
  @DependencyCount_f07389d0 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_f07389d0 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_f07389d0 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @ID_f07389d0 = '386543D8-C739-4C52-8FAC-E941C078AA8F'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_f07389d0,
  @Name = @Name_f07389d0,
  @Version = @Version_f07389d0,
  @VersionSequence = @VersionSequence_f07389d0,
  @Title = @Title_f07389d0,
  @Description = @Description_f07389d0,
  @Type = @Type_f07389d0,
  @Status = @Status_f07389d0,
  @DeveloperName = @DeveloperName_f07389d0,
  @DeveloperEmail = @DeveloperEmail_f07389d0,
  @DeveloperOrganization = @DeveloperOrganization_f07389d0,
  @SourceRegistryID = @SourceRegistryID_f07389d0,
  @ReplicatedAt = @ReplicatedAt_f07389d0,
  @LastSyncedAt = @LastSyncedAt_f07389d0,
  @Specification = @Specification_f07389d0,
  @FunctionalRequirements = @FunctionalRequirements_f07389d0,
  @TechnicalDesign = @TechnicalDesign_f07389d0,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_f07389d0,
  @TechnicalDesignVector = @TechnicalDesignVector_f07389d0,
  @HasCustomProps = @HasCustomProps_f07389d0,
  @HasCustomEvents = @HasCustomEvents_f07389d0,
  @RequiresData = @RequiresData_f07389d0,
  @DependencyCount = @DependencyCount_f07389d0,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_f07389d0,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_f07389d0,
  @ID = @ID_f07389d0;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_aeb8b9e3 NVARCHAR(MAX),
@Name_aeb8b9e3 NVARCHAR(500),
@Version_aeb8b9e3 NVARCHAR(50),
@VersionSequence_aeb8b9e3 INT,
@Title_aeb8b9e3 NVARCHAR(1000),
@Description_aeb8b9e3 NVARCHAR(MAX),
@Type_aeb8b9e3 NVARCHAR(255),
@Status_aeb8b9e3 NVARCHAR(50),
@DeveloperName_aeb8b9e3 NVARCHAR(255),
@DeveloperEmail_aeb8b9e3 NVARCHAR(255),
@DeveloperOrganization_aeb8b9e3 NVARCHAR(255),
@SourceRegistryID_aeb8b9e3 UNIQUEIDENTIFIER,
@ReplicatedAt_aeb8b9e3 DATETIMEOFFSET,
@LastSyncedAt_aeb8b9e3 DATETIMEOFFSET,
@Specification_aeb8b9e3 NVARCHAR(MAX),
@FunctionalRequirements_aeb8b9e3 NVARCHAR(MAX),
@TechnicalDesign_aeb8b9e3 NVARCHAR(MAX),
@FunctionalRequirementsVector_aeb8b9e3 NVARCHAR(MAX),
@TechnicalDesignVector_aeb8b9e3 NVARCHAR(MAX),
@HasCustomProps_aeb8b9e3 BIT,
@HasCustomEvents_aeb8b9e3 BIT,
@RequiresData_aeb8b9e3 BIT,
@DependencyCount_aeb8b9e3 INT,
@TechnicalDesignVectorEmbeddingModelID_aeb8b9e3 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_aeb8b9e3 NVARCHAR(MAX),
@ID_aeb8b9e3 UNIQUEIDENTIFIER
SET
  @Namespace_aeb8b9e3 = N'AI'
SET
  @Name_aeb8b9e3 = N'AIModelBrowser'
SET
  @Version_aeb8b9e3 = N'1.0.0'
SET
  @VersionSequence_aeb8b9e3 = 1
SET
  @Title_aeb8b9e3 = N'AI Model Browser'
SET
  @Description_aeb8b9e3 = N'A comprehensive AI model browser with filtering by developers and inference providers, prompt usage analytics with pie charts, and detailed model specifications'
SET
  @Type_aeb8b9e3 = N'Other'
SET
  @Status_aeb8b9e3 = N'Published'
SET
  @Specification_aeb8b9e3 = N'{
  "name": "AIModelBrowser",
  "title": "AI Model Browser",
  "description": "A comprehensive AI model browser with filtering by developers and inference providers, prompt usage analytics with pie charts, and detailed model specifications",
  "type": "dashboard",
  "functionalRequirements": "## AI Model Browser Requirements\n\n### Core Functionality\n- Display AI models in grid or list view with comprehensive information\n- Filter models by Model Type, Status, Model Developer, and Inference Provider\n- View detailed model specifications including context window, token limits, and cost ranking\n- Display all vendors associated with a model (model developers and inference providers)\n- Show prompt run history and usage statistics for selected models\n- Visualize prompt usage with pie charts showing distribution across different prompts\n- Display performance metrics with bar charts showing average execution times\n- Show time series data for model usage over time\n- Support sorting by multiple fields with visual indicators\n- Include search functionality for quick model filtering\n- Provide ''Open'' button to trigger OpenEntityRecord callback for detailed editing\n\n### Analytics Features\n- Pie chart visualization of prompt usage distribution\n- Performance bar charts showing average execution times per prompt\n- Time series chart showing model usage trends over last 7 days\n- Summary statistics including total runs, success rates, and token usage\n- Grouped vendor display by type (Model Developer vs Inference Provider)\n\n### UX Considerations\n- Collapsible filter panel with active filter count indicator\n- Sliding details panel for comprehensive model information\n- Inline analytics panel with tabbed views for different visualizations\n- Smooth animations for panel transitions and chart rendering\n- Responsive design adapting to different screen sizes\n- Loading states while fetching data\n- Empty states with helpful messages\n- Visual feedback for hover and selection states\n- Maintain user preferences for view mode and filter state",
  "dataRequirements": {
    "mode": "views",
    "entities": [
      {
        "name": "AI Models",
        "description": "Core AI model definitions and specifications",
        "displayFields": [
          "ID",
          "Name", 
          "APIName",
          "Description",
          "AIModelTypeID",
          "InputTokenLimit",
          "PowerRank",
          "SpeedRank",
          "CostRank",
          "IsActive",
          "__mj_CreatedAt",
          "__mj_UpdatedAt"
        ],
        "filterFields": [
          "AIModelTypeID",
          "IsActive"
        ],
        "sortFields": [
          "Name",
          "InputTokenLimit",
          "CostRank",
          "IsActive",
          "__mj_CreatedAt"
        ],
        "fieldMetadata": [
          {
            "name": "ID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": true,
            "description": "Unique identifier for the AI model"
          },
          {
            "name": "Name",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "System name of the AI model"
          },
          {
            "name": "APIName",
            "sequence": 4,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "API identifier for the model"
          },
          {
            "name": "InputTokenLimit",
            "sequence": 5,
            "defaultInView": true,
            "type": "int",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Maximum input token limit"
          },
          {
            "name": "CostRank",
            "sequence": 6,
            "defaultInView": true,
            "type": "int",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Relative cost ranking (1-5)"
          }
        ],
        "permissions": [
          "read"
        ],
        "usageContext": "Main list of AI models"
      },
      {
        "name": "MJ: AI Model Vendors",
        "description": "Vendor associations for AI models",
        "displayFields": [
          "ID",
          "ModelID",
          "VendorID",
          "TypeID",
          "Model",
          "Vendor",
          "Type",
          "Status",
          "Priority",
          "APIName",
          "MaxInputTokens",
          "MaxOutputTokens",
          "SupportsStreaming",
          "SupportsEffortLevel"
        ],
        "filterFields": [
          "ModelID",
          "Type",
          "Status"
        ],
        "sortFields": [
          "Vendor",
          "Priority",
          "Type"
        ],
        "fieldMetadata": [
          {
            "name": "ModelID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Reference to AI Model"
          },
          {
            "name": "Vendor",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Vendor name"
          },
          {
            "name": "Type",
            "sequence": 3,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Vendor type (Model Developer or Inference Provider)"
          }
        ],
        "permissions": [
          "read"
        ],
        "usageContext": "Vendor associations for models"
      },
      {
        "name": "AI Model Types",
        "description": "Types/categories of AI models",
        "displayFields": [
          "ID",
          "Name",
          "Description"
        ],
        "filterFields": [],
        "sortFields": [
          "Name"
        ],
        "permissions": [
          "read"
        ],
        "usageContext": "Filter dropdown for model types"
      },
      {
        "name": "MJ: AI Prompt Runs",
        "description": "Execution history for AI prompts",
        "displayFields": [
          "ID",
          "PromptID",
          "ModelID",
          "StartTime",
          "EndTime",
          "TotalExecutionTime",
          "InputTokens",
          "OutputTokens",
          "TotalTokens",
          "Status",
          "Error"
        ],
        "filterFields": [
          "ModelID",
          "PromptID",
          "Status"
        ],
        "sortFields": [
          "StartTime",
          "TotalExecutionTime"
        ],
        "permissions": [
          "read"
        ],
        "usageContext": "Analytics and usage history"
      },
      {
        "name": "AI Prompts",
        "description": "AI prompt definitions",
        "displayFields": [
          "ID",
          "Name",
          "Description",
          "CategoryID"
        ],
        "filterFields": [],
        "sortFields": [
          "Name"
        ],
        "permissions": [
          "read"
        ],
        "usageContext": "Enrich prompt runs with names"
      }
    ]
  },
  "technicalDesign": "## Component Architecture\n\n### Root Component (AIModelBrowser)\n- Manages overall state and data loading\n- Coordinates between filter, list, details, and analytics components\n- Handles user preferences and saved settings\n- Manages search and sort state\n\n### Child Components\n1. **AIModelList**: Displays models in grid or list view with vendor information\n2. **AIModelDetails**: Sliding panel showing comprehensive model information and vendors\n3. **AIModelFilter**: Collapsible filter panel for model type, status, and vendor filtering\n4. **AIModelAnalytics**: Inline analytics panel with charts and statistics\n\n### Data Flow\n- Root component loads all models and vendor associations\n- Filters are applied at the root level and filtered data passed to list\n- Selection in list triggers detail loading and analytics calculation\n- Analytics component processes prompt runs to generate visualizations\n\n### Chart Implementation\n- Pie charts using SVG for prompt usage distribution\n- Bar charts for performance metrics\n- Time series charts for usage trends\n- All charts are responsive and interactive",
  "properties": [],
  "events": [],
  "exampleUsage": "<AIModelBrowser\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>",
  "dependencies": [
    {
      "name": "AIModelList",
      "title": "AI Model List",
      "description": "Displays AI models in grid or list view with vendor information and sorting",
      "type": "table",
      "functionalRequirements": "Display models with vendor counts, support grid and list views, handle sorting and selection",
      "dataRequirements": null,
      "technicalDesign": "",
      "properties": [
        {"name": "models", "type": "array", "required": true, "description": "Array of AI model objects to display"},
        {"name": "modelVendors", "type": "array", "required": true, "description": "Array of model vendor associations"},
        {"name": "viewMode", "type": "string", "required": true, "description": "Display mode - ''grid'' or ''list''"},
        {"name": "selectedModelId", "type": "string", "required": false, "description": "ID of the currently selected model"},
        {"name": "sortBy", "type": "string", "required": false, "description": "Field to sort by"},
        {"name": "sortDirection", "type": "string", "required": false, "description": "Sort direction - ''asc'' or ''desc''"}
      ],
      "events": [
        {"name": "onSelectModel", "description": "Fired when a model is selected", "parameters": [{"name": "modelId", "type": "string", "description": "ID of the selected model"}]},
        {"name": "onSortChange", "description": "Fired when sort criteria changes", "parameters": [{"name": "sortBy", "type": "string", "description": "Field to sort by"}, {"name": "sortDirection", "type": "string", "description": "Sort direction"}]}
      ],
      "exampleUsage": "<AIModelList ... />",
      "code": "function AIModelList({ \n  models, \n  modelVendors,\n  viewMode, \n  selectedModelId, \n  onSelectModel, \n  sortBy, \n  sortDirection, \n  onSortChange,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? ''50px'' : ''20px'';\n  };\n  \n  // Get vendor info for a model\n  const getModelVendorInfo = useCallback((modelId) => {\n    const vendors = modelVendors.filter(v => v.ModelID === modelId);\n    const inferenceProviders = vendors.filter(v => v.Type === ''Inference Provider'');\n    const modelDeveloper = vendors.find(v => v.Type === ''Model Developer'');\n    \n    return {\n      inferenceProviders,\n      modelDeveloper,\n      vendorCount: vendors.length\n    };\n  }, [modelVendors]);\n  \n  // Handle sort column click\n  const handleSort = useCallback((field) => {\n    if (sortBy === field) {\n      onSortChange?.(field, sortDirection === ''asc'' ? ''desc'' : ''asc'');\n    } else {\n      onSortChange?.(field, ''asc'');\n    }\n  }, [sortBy, sortDirection, onSortChange]);\n  \n  // Render sort indicator\n  const renderSortIndicator = (field) => {\n    if (sortBy !== field) return null;\n    \n    return (\n      <span style={{\n        marginLeft: styles.spacing.xs,\n        fontSize: styles.typography.fontSize.sm\n      }}>\n        {sortDirection === ''asc'' ? ''\u25b2'' : ''\u25bc''}\n      </span>\n    );\n  };\n  \n  // Render status badge\n  const renderStatusBadge = (status) => {\n    const statusColors = {\n      ''Active'': styles.colors.success || styles.colors.primary,\n      ''Inactive'': styles.colors.warning || styles.colors.secondary,\n      ''Deprecated'': styles.colors.error || styles.colors.secondary,\n      ''Preview'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = statusColors[status] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {status}\n      </span>\n    );\n  };\n  \n  // Render cost rank\n  const renderCostRank = (rank) => {\n    if (rank == null) return ''-'';\n    \n    const maxStars = 5;\n    const filledStars = Math.min(rank, maxStars);\n    \n    return (\n      <span style={{\n        color: styles.colors.warning || styles.colors.secondary,\n        fontSize: styles.typography.fontSize.sm\n      }}>\n        {''$''.repeat(filledStars)}\n        <span style={{ opacity: 0.3 }}>\n          {''$''.repeat(maxStars - filledStars)}\n        </span>\n      </span>\n    );\n  };\n  \n  // Format token limit\n  const formatTokens = (tokens) => {\n    if (!tokens) return ''-'';\n    if (tokens >= 1000000) return `$' + '{(tokens / 1000000).toFixed(1)}M`;\n    if (tokens >= 1000) return `$' + '{(tokens / 1000).toFixed(0)}K`;\n    return tokens.toString();\n  };\n  \n  // Grid view rendering\n  const renderGridView = () => (\n    <div style={{\n      display: ''grid'',\n      gridTemplateColumns: ''repeat(auto-fill, minmax(320px, 1fr))'',\n      gap: styles.spacing.lg\n    }}>\n      {models.map((model) => {\n        const vendorInfo = getModelVendorInfo(model.ID);\n        const isSelected = model.ID === selectedModelId;\n        \n        return (\n          <div\n            key={model.ID}\n            onClick={() => onSelectModel?.(model.ID)}\n            style={{\n              backgroundColor: styles.colors.surface,\n              borderRadius: getBorderRadius(''md''),\n              padding: styles.spacing.lg,\n              cursor: ''pointer'',\n              transition: ''all 0.2s'',\n              border: isSelected \n                ? `2px solid $' + '{styles.colors.primary}`\n                : `1px solid $' + '{styles.colors.border}`,\n              boxShadow: isSelected \n                ? `0 4px 12px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}`\n                : ''none''\n            }}\n            onMouseEnter={(e) => {\n              if (!isSelected) {\n                e.currentTarget.style.borderColor = styles.colors.primary;\n                e.currentTarget.style.boxShadow = `0 2px 8px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.05)''}`;\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (!isSelected) {\n                e.currentTarget.style.borderColor = styles.colors.border;\n                e.currentTarget.style.boxShadow = ''none'';\n              }\n            }}\n          >\n            {/* Model Header */}\n            <div style={{\n              display: ''flex'',\n              justifyContent: ''space-between'',\n              alignItems: ''flex-start'',\n              marginBottom: styles.spacing.md\n            }}>\n              <div style={{ flex: 1 }}>\n                <h3 style={{\n                  margin: 0,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  {model.Name}\n                </h3>\n                {model.APIName && (\n                  <div style={{\n                    fontSize: styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    fontFamily: ''monospace''\n                  }}>\n                    {model.APIName}\n                  </div>\n                )}\n              </div>\n              {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n            </div>\n            \n            {/* Model Description */}\n            {model.Description && (\n              <div style={{\n                fontSize: styles.typography.fontSize.sm,\n                color: styles.colors.textSecondary,\n                marginBottom: styles.spacing.md,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                display: ''-webkit-box'',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: ''vertical''\n              }}>\n                {model.Description}\n              </div>\n            )}\n            \n            {/* Model Specs */}\n            <div style={{\n              display: ''grid'',\n              gridTemplateColumns: ''repeat(2, 1fr)'',\n              gap: styles.spacing.sm,\n              marginBottom: styles.spacing.md\n            }}>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Input Token Limit\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                  color: styles.colors.text\n                }}>\n                  {formatTokens(model.InputTokenLimit)}\n                </div>\n              </div>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Cost Rank\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  fontWeight: styles.typography.fontWeight?.medium || ''500''\n                }}>\n                  {renderCostRank(model.CostRank)}\n                </div>\n              </div>\n            </div>\n            \n            {/* Vendor Info */}\n            <div style={{\n              paddingTop: styles.spacing.md,\n              borderTop: `1px solid $' + '{styles.colors.border}`,\n              display: ''flex'',\n              gap: styles.spacing.md,\n              fontSize: styles.typography.fontSize.sm\n            }}>\n              {vendorInfo.modelDeveloper && (\n                <div style={{\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  gap: styles.spacing.xs\n                }}>\n                  <span style={{ color: styles.colors.textSecondary }}>Dev:</span>\n                  <span style={{ \n                    color: styles.colors.text,\n                    fontWeight: styles.typography.fontWeight?.medium || ''500''\n                  }}>\n                    {vendorInfo.modelDeveloper.Vendor}\n                  </span>\n                </div>\n              )}\n              {vendorInfo.inferenceProviders.length > 0 && (\n                <div style={{\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  gap: styles.spacing.xs\n                }}>\n                  <span style={{ color: styles.colors.textSecondary }}>Providers:</span>\n                  <span style={{ \n                    color: styles.colors.primary,\n                    fontWeight: styles.typography.fontWeight?.medium || ''500''\n                  }}>\n                    {vendorInfo.inferenceProviders.length}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n  \n  // List view rendering\n  const renderListView = () => (\n    <div style={{\n      backgroundColor: styles.colors.surface,\n      borderRadius: getBorderRadius(''md''),\n      overflow: ''hidden''\n    }}>\n      <table style={{\n        width: ''100%'',\n        borderCollapse: ''collapse''\n      }}>\n        <thead>\n          <tr style={{\n            borderBottom: `2px solid $' + '{styles.colors.border}`\n          }}>\n            <th\n              onClick={() => handleSort(''Name'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Model Name\n              {renderSortIndicator(''Name'')}\n            </th>\n            <th\n              onClick={() => handleSort(''Status'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Status\n              {renderSortIndicator(''Status'')}\n            </th>\n            <th\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary\n              }}\n            >\n              Developer\n            </th>\n            <th\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary\n              }}\n            >\n              Providers\n            </th>\n            <th\n              onClick={() => handleSort(''InputTokenLimit'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''right'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Input Limit\n              {renderSortIndicator(''InputTokenLimit'')}\n            </th>\n            <th\n              onClick={() => handleSort(''CostRank'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''center'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Cost\n              {renderSortIndicator(''CostRank'')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {models.map((model, index) => {\n            const vendorInfo = getModelVendorInfo(model.ID);\n            const isSelected = model.ID === selectedModelId;\n            \n            return (\n              <tr\n                key={model.ID}\n                onClick={() => onSelectModel?.(model.ID)}\n                style={{\n                  borderBottom: index < models.length - 1 \n                    ? `1px solid $' + '{styles.colors.borderLight || styles.colors.border}` \n                    : ''none'',\n                  backgroundColor: isSelected \n                    ? styles.colors.primaryLight || styles.colors.primary + ''10''\n                    : ''transparent'',\n                  cursor: ''pointer'',\n                  transition: ''background-color 0.2s''\n                }}\n                onMouseEnter={(e) => {\n                  if (!isSelected) {\n                    e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (!isSelected) {\n                    e.currentTarget.style.backgroundColor = ''transparent'';\n                  }\n                }}\n              >\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md\n                }}>\n                  <div>\n                    <div style={{\n                      fontWeight: isSelected \n                        ? (styles.typography.fontWeight?.semibold || ''600'')\n                        : (styles.typography.fontWeight?.regular || ''400''),\n                      color: styles.colors.text\n                    }}>\n                      {model.Name}\n                    </div>\n                    {model.APIName && (\n                      <div style={{\n                        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                        color: styles.colors.textSecondary,\n                        fontFamily: ''monospace''\n                      }}>\n                        {model.APIName}\n                      </div>\n                    )}\n                  </div>\n                </td>\n                <td style={{\n                  padding: styles.spacing.md\n                }}>\n                  {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text\n                }}>\n                  {vendorInfo.modelDeveloper?.Vendor || ''-''}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md\n                }}>\n                  {vendorInfo.inferenceProviders.length > 0 ? (\n                    <div style={{\n                      display: ''flex'',\n                      gap: styles.spacing.xs,\n                      flexWrap: ''wrap''\n                    }}>\n                      {vendorInfo.inferenceProviders.slice(0, 3).map((provider, idx) => (\n                        <span\n                          key={idx}\n                          style={{\n                            padding: `2px $' + '{styles.spacing.xs}`,\n                            backgroundColor: styles.colors.primary + ''15'',\n                            color: styles.colors.primary,\n                            borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                            fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                          }}\n                        >\n                          {provider.Vendor}\n                        </span>\n                      ))}\n                      {vendorInfo.inferenceProviders.length > 3 && (\n                        <span style={{\n                          color: styles.colors.textSecondary,\n                          fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                        }}>\n                          +{vendorInfo.inferenceProviders.length - 3}\n                        </span>\n                      )}\n                    </div>\n                  ) : (\n                    <span style={{ color: styles.colors.textSecondary }}>-</span>\n                  )}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  textAlign: ''right'',\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text\n                }}>\n                  {formatTokens(model.InputTokenLimit)}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  textAlign: ''center''\n                }}>\n                  {renderCostRank(model.CostRank)}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n  \n  return viewMode === ''grid'' ? renderGridView() : renderListView();\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "AIModelDetails",
      "title": "AI Model Details",
      "description": "Sliding details panel showing comprehensive model information, vendors, and usage statistics",
      "type": "detail",
      "functionalRequirements": "Show model specs, vendor associations grouped by type, usage statistics, and open record button",
      "dataRequirements": null,
      "technicalDesign": "",
      "properties": [
        {"name": "model", "type": "object", "required": false, "description": "The selected AI model object"},
        {"name": "vendors", "type": "array", "required": true, "description": "Array of vendors associated with the model"},
        {"name": "promptRuns", "type": "array", "required": true, "description": "Array of prompt runs for this model"},
        {"name": "isOpen", "type": "boolean", "required": true, "description": "Whether the details panel is open"}
      ],
      "events": [
        {"name": "onClose", "description": "Fired when the details panel should close", "parameters": []},
        {"name": "onOpenRecord", "description": "Fired when the open record button is clicked", "parameters": [{"name": "modelName", "type": "string", "description": "Name of the model to open"}]}
      ],
      "exampleUsage": "<AIModelDetails ... />",
      "code": "function AIModelDetails({ \n  model, \n  vendors,\n  promptRuns,\n  isOpen, \n  onClose, \n  onOpenRecord,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Handle escape key to close panel\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === ''Escape'' && isOpen) {\n        onClose?.();\n      }\n    };\n    \n    document.addEventListener(''keydown'', handleEscape);\n    return () => document.removeEventListener(''keydown'', handleEscape);\n  }, [isOpen, onClose]);\n  \n  // Handle open record button\n  const handleOpenRecord = useCallback(() => {\n    console.log(''AIModelDetails handleOpenRecord called'', { model, onOpenRecord });\n    if (model?.Name) {\n      console.log(''Calling onOpenRecord with model name:'', model.Name);\n      if (onOpenRecord) {\n        onOpenRecord(model.Name);\n      } else {\n        console.error(''onOpenRecord callback is not defined'');\n      }\n    } else {\n      console.error(''No model or model name available'');\n    }\n  }, [model, onOpenRecord]);\n  \n  // Format token limit\n  const formatTokens = (tokens) => {\n    if (!tokens) return ''-'';\n    if (tokens >= 1000000) return `$' + '{(tokens / 1000000).toFixed(1)}M`;\n    if (tokens >= 1000) return `$' + '{(tokens / 1000).toFixed(0)}K`;\n    return tokens.toString();\n  };\n  \n  // Render status badge\n  const renderStatusBadge = (status) => {\n    const statusColors = {\n      ''Active'': styles.colors.success || styles.colors.primary,\n      ''Inactive'': styles.colors.warning || styles.colors.secondary,\n      ''Deprecated'': styles.colors.error || styles.colors.secondary,\n      ''Preview'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = statusColors[status] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {status}\n      </span>\n    );\n  };\n  \n  // Render vendor type icon\n  const renderVendorTypeIcon = (type) => {\n    const icons = {\n      ''Model Developer'': ''\ud83c\udfe2'',\n      ''Inference Provider'': ''\ud83d\ude80''\n    };\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        marginRight: styles.spacing.xs,\n        fontSize: styles.typography.fontSize.md\n      }}>\n        {icons[type] || ''\ud83d\udce6''}\n      </span>\n    );\n  };\n  \n  // Calculate prompt statistics\n  const calculatePromptStats = useCallback(() => {\n    if (!promptRuns || promptRuns.length === 0) {\n      return {\n        totalRuns: 0,\n        successfulRuns: 0,\n        failedRuns: 0,\n        avgExecutionTime: 0,\n        totalTokens: 0,\n        uniquePrompts: 0\n      };\n    }\n    \n    const stats = {\n      totalRuns: promptRuns.length,\n      successfulRuns: promptRuns.filter(r => r.Status === ''Success'' || r.Status === ''Completed'').length,\n      failedRuns: promptRuns.filter(r => r.Status === ''Failed'' || r.Status === ''Error'').length,\n      avgExecutionTime: 0,\n      totalTokens: 0,\n      uniquePrompts: new Set(promptRuns.map(r => r.PromptID)).size\n    };\n    \n    const validTimes = promptRuns\n      .filter(r => r.TotalExecutionTime)\n      .map(r => r.TotalExecutionTime);\n    \n    if (validTimes.length > 0) {\n      stats.avgExecutionTime = validTimes.reduce((a, b) => a + b, 0) / validTimes.length;\n    }\n    \n    stats.totalTokens = promptRuns.reduce((sum, r) => sum + (r.TotalTokens || 0), 0);\n    \n    return stats;\n  }, [promptRuns]);\n  \n  const stats = calculatePromptStats();\n  \n  // Group vendors by type\n  const vendorsByType = useMemo(() => {\n    const grouped = {\n      ''Model Developer'': [],\n      ''Inference Provider'': []\n    };\n    \n    vendors.forEach(v => {\n      if (grouped[v.Type]) {\n        grouped[v.Type].push(v);\n      }\n    });\n    \n    return grouped;\n  }, [vendors]);\n  \n  return (\n    <>\n      {/* Backdrop */}\n      {isOpen && (\n        <div\n          onClick={onClose}\n          style={{\n            position: ''fixed'',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: ''rgba(0, 0, 0, 0.3)'',\n            zIndex: 99999,\n            opacity: isOpen ? 1 : 0,\n            transition: ''opacity 0.3s'',\n            pointerEvents: isOpen ? ''auto'' : ''none''\n          }}\n        />\n      )}\n      \n      {/* Panel */}\n      <div style={{\n        position: ''fixed'',\n        top: ''75px'',\n        right: 0,\n        bottom: 0,\n        width: ''520px'',\n        backgroundColor: styles.colors.background,\n        boxShadow: isOpen ? `-4px 0 24px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}` : ''none'',\n        transform: isOpen ? ''translateX(0)'' : ''translateX(100%)'',\n        transition: ''transform 0.3s ease-out'',\n        zIndex: 100000,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''flex-start''\n          }}>\n            <div style={{ flex: 1 }}>\n              <h2 style={{\n                margin: 0,\n                fontSize: styles.typography.fontSize.xl,\n                fontWeight: styles.typography.fontWeight?.bold || ''700'',\n                color: styles.colors.text,\n                marginBottom: styles.spacing.xs\n              }}>\n                {model?.Name || ''No Model Selected''}\n              </h2>\n              {model?.APIName && (\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  fontFamily: ''monospace''\n                }}>\n                  {model.APIName}\n                </div>\n              )}\n              {model?.IsActive !== undefined && (\n                <div style={{ marginTop: styles.spacing.sm }}>\n                  {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n                </div>\n              )}\n            </div>\n            <button\n              onClick={onClose}\n              style={{\n                width: ''32px'',\n                height: ''32px'',\n                borderRadius: getBorderRadius(''sm''),\n                border: ''none'',\n                backgroundColor: ''transparent'',\n                color: styles.colors.textSecondary,\n                fontSize: styles.typography.fontSize.lg,\n                cursor: ''pointer'',\n                display: ''flex'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = ''transparent'';\n              }}\n            >\n              \u2715\n            </button>\n          </div>\n        </div>\n        \n        {/* Content */}\n        <div style={{\n          flex: 1,\n          overflow: ''auto'',\n          padding: styles.spacing.lg\n        }}>\n          {model ? (\n            <>\n              {/* Model Description */}\n              {model.Description && (\n                <div style={{\n                  marginBottom: styles.spacing.xl,\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  borderLeft: `3px solid $' + '{styles.colors.primary}`\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    color: styles.colors.textSecondary,\n                    lineHeight: 1.6\n                  }}>\n                    {model.Description}\n                  </div>\n                </div>\n              )}\n              \n              {/* Model Specifications */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Specifications\n                </h3>\n                <div style={{\n                  display: ''grid'',\n                  gridTemplateColumns: ''repeat(2, 1fr)'',\n                  gap: styles.spacing.md\n                }}>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Input Token Limit\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(model.InputTokenLimit)}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Input Limit\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(model.InputTokenLimit)}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Output Limit\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(model.OutputTokenLimit)}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Cost Rank\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.warning || styles.colors.secondary\n                    }}>\n                      {''$''.repeat(Math.min(model.CostRank || 0, 5))}\n                      <span style={{ opacity: 0.3 }}>\n                        {''$''.repeat(Math.max(0, 5 - (model.CostRank || 0)))}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Vendors Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Vendors ({vendors.length})\n                </h3>\n                \n                {/* Model Developer */}\n                {vendorsByType[''Model Developer''].length > 0 && (\n                  <div style={{ marginBottom: styles.spacing.md }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.sm\n                    }}>\n                      {renderVendorTypeIcon(''Model Developer'')}\n                      Model Developer\n                    </div>\n                    {vendorsByType[''Model Developer''].map((vendor, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          marginBottom: styles.spacing.sm,\n                          display: ''flex'',\n                          justifyContent: ''space-between'',\n                          alignItems: ''center''\n                        }}\n                      >\n                        <div>\n                          <div style={{\n                            fontSize: styles.typography.fontSize.md,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.text\n                          }}>\n                            {vendor.Vendor}\n                          </div>\n                          {vendor.APIName && (\n                            <div style={{\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                              color: styles.colors.textSecondary,\n                              fontFamily: ''monospace''\n                            }}>\n                              API: {vendor.APIName}\n                            </div>\n                          )}\n                        </div>\n                        {renderStatusBadge(vendor.Status)}\n                      </div>\n                    ))}\n                  </div>\n                )}\n                \n                {/* Inference Providers */}\n                {vendorsByType[''Inference Provider''].length > 0 && (\n                  <div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.sm\n                    }}>\n                      {renderVendorTypeIcon(''Inference Provider'')}\n                      Inference Providers\n                    </div>\n                    {vendorsByType[''Inference Provider''].map((vendor, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          marginBottom: styles.spacing.sm\n                        }}\n                      >\n                        <div style={{\n                          display: ''flex'',\n                          justifyContent: ''space-between'',\n                          alignItems: ''flex-start'',\n                          marginBottom: styles.spacing.sm\n                        }}>\n                          <div>\n                            <div style={{\n                              fontSize: styles.typography.fontSize.md,\n                              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                              color: styles.colors.text\n                            }}>\n                              {vendor.Vendor}\n                            </div>\n                            {vendor.APIName && (\n                              <div style={{\n                                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                color: styles.colors.textSecondary,\n                                fontFamily: ''monospace''\n                              }}>\n                                API: {vendor.APIName}\n                              </div>\n                            )}\n                          </div>\n                          <div style={{\n                            display: ''flex'',\n                            gap: styles.spacing.xs,\n                            alignItems: ''center''\n                          }}>\n                            {vendor.Priority && (\n                              <span style={{\n                                padding: `2px $' + '{styles.spacing.xs}`,\n                                backgroundColor: styles.colors.info + ''15'',\n                                color: styles.colors.info || styles.colors.primary,\n                                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                              }}>\n                                Priority: {vendor.Priority}\n                              </span>\n                            )}\n                            {renderStatusBadge(vendor.Status)}\n                          </div>\n                        </div>\n                        \n                        {/* Vendor Capabilities */}\n                        <div style={{\n                          display: ''flex'',\n                          gap: styles.spacing.xs,\n                          flexWrap: ''wrap''\n                        }}>\n                          {vendor.SupportsStreaming && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.success + ''15'',\n                              color: styles.colors.success || styles.colors.primary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              \u2713 Streaming\n                            </span>\n                          )}\n                          {vendor.SupportsEffortLevel && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.success + ''15'',\n                              color: styles.colors.success || styles.colors.primary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              \u2713 Effort Level\n                            </span>\n                          )}\n                          {vendor.MaxInputTokens && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.background,\n                              color: styles.colors.textSecondary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              Max: {formatTokens(vendor.MaxInputTokens)}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n              \n              {/* Usage Statistics */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Usage Statistics\n                </h3>\n                <div style={{\n                  display: ''grid'',\n                  gridTemplateColumns: ''repeat(2, 1fr)'',\n                  gap: styles.spacing.md\n                }}>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Total Runs\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {stats.totalRuns.toLocaleString()}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Success Rate\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: stats.totalRuns > 0 \n                        ? (stats.successfulRuns / stats.totalRuns >= 0.9 ? styles.colors.success : styles.colors.warning)\n                        : styles.colors.text\n                    }}>\n                      {stats.totalRuns > 0 \n                        ? `$' + '{((stats.successfulRuns / stats.totalRuns) * 100).toFixed(1)}%`\n                        : ''-''}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Unique Prompts\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {stats.uniquePrompts}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Total Tokens\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(stats.totalTokens)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          ) : (\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              height: ''100%'',\n              color: styles.colors.textSecondary\n            }}>\n              <div style={{\n                fontSize: styles.typography.fontSize.lg,\n                marginBottom: styles.spacing.md\n              }}>\n                No Model Selected\n              </div>\n              <div style={{\n                fontSize: styles.typography.fontSize.md\n              }}>\n                Select a model from the list to view its details\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Footer with Open Record Button */}\n        {model && (\n          <div style={{\n            padding: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.border}`,\n            backgroundColor: styles.colors.surface\n          }}>\n            <button\n              onClick={handleOpenRecord}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.primary,\n                color: ''white'',\n                border: ''none'',\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primaryHover || styles.colors.primary;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primary;\n              }}\n            >\n              Open Model Record\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "AIModelFilter",
      "title": "AI Model Filter",
      "description": "Collapsible filter panel for filtering models by type, status, developer, and provider",
      "type": "form",
      "functionalRequirements": "Provide filters for model type, status, developer, and provider with active filter indicators",
      "dataRequirements": null,
      "technicalDesign": "",
      "properties": [
        {"name": "filters", "type": "object", "required": true, "description": "Current filter state object"},
        {"name": "modelTypes", "type": "array", "required": true, "description": "Array of available model types for filtering"},
        {"name": "vendors", "type": "array", "required": true, "description": "Array of available vendors for filtering"},
        {"name": "isCollapsed", "type": "boolean", "required": true, "description": "Whether the filter panel is collapsed"}
      ],
      "events": [
        {"name": "onFilterChange", "description": "Fired when filters are changed", "parameters": [{"name": "filters", "type": "object", "description": "New filter state"}]},
        {"name": "onToggleCollapse", "description": "Fired when the collapse state should toggle", "parameters": []}
      ],
      "exampleUsage": "<AIModelFilter ... />",
      "code": "function AIModelFilter({ \n  filters, \n  onFilterChange, \n  modelTypes,\n  vendors,\n  isCollapsed, \n  onToggleCollapse,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Calculate active filter count\n  const activeFilterCount = Object.values(filters || {}).filter(Boolean).length;\n  \n  // Handle model type filter change\n  const handleModelTypeChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      modelType: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle developer filter change\n  const handleDeveloperChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      developer: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle inference provider filter change\n  const handleProviderChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      provider: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle status filter change\n  const handleStatusChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      isActive: e.target.value === '''' ? undefined : e.target.value === ''true''\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle clear all filters\n  const handleClearFilters = useCallback(() => {\n    onFilterChange?.({});\n  }, [onFilterChange]);\n  \n  // Handle toggle collapse\n  const handleToggle = useCallback(() => {\n    onToggleCollapse?.();\n  }, [onToggleCollapse]);\n  \n  // Get unique developers and providers\n  const developers = useMemo(() => {\n    return vendors.filter(v => v.Name && v.Name.includes(''Developer'')).map(v => v.Name);\n  }, [vendors]);\n  \n  const providers = useMemo(() => {\n    return vendors.filter(v => v.Name && !v.Name.includes(''Developer'')).map(v => v.Name);\n  }, [vendors]);\n  \n  return (\n    <div style={{\n      width: isCollapsed ? ''48px'' : ''280px'',\n      minWidth: isCollapsed ? ''48px'' : ''280px'',\n      backgroundColor: styles.colors.surface,\n      borderRight: `1px solid $' + '{styles.colors.border}`,\n      transition: ''width 0.3s ease-out'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      position: ''relative'',\n      overflow: ''hidden''\n    }}>\n      {/* Toggle Button */}\n      <button\n        onClick={handleToggle}\n        style={{\n          position: ''absolute'',\n          top: styles.spacing.md,\n          right: styles.spacing.md,\n          width: ''32px'',\n          height: ''32px'',\n          borderRadius: getBorderRadius(''sm''),\n          border: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.background,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.md,\n          cursor: ''pointer'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1,\n          transition: ''all 0.2s''\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.background;\n        }}\n      >\n        {isCollapsed ? ''\u2192'' : ''\u2190''}\n      </button>\n      \n      {/* Filter Icon when collapsed */}\n      {isCollapsed && (\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          flex: 1,\n          opacity: 1,\n          transition: ''opacity 0.3s''\n        }}>\n          <div style={{\n            fontSize: styles.typography.fontSize.xl,\n            color: styles.colors.textSecondary,\n            marginBottom: styles.spacing.sm\n          }}>\n            \ud83d\udd0d\n          </div>\n          {activeFilterCount > 0 && (\n            <div style={{\n              width: ''24px'',\n              height: ''24px'',\n              borderRadius: ''50%'',\n              backgroundColor: styles.colors.primary,\n              color: ''white'',\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              fontSize: styles.typography.fontSize.xs,\n              fontWeight: styles.typography.fontWeight?.bold || ''700''\n            }}>\n              {activeFilterCount}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Filter Content */}\n      <div style={{\n        padding: styles.spacing.lg,\n        opacity: isCollapsed ? 0 : 1,\n        transition: ''opacity 0.3s'',\n        pointerEvents: isCollapsed ? ''none'' : ''auto'',\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column''\n      }}>\n        {/* Header */}\n        <div style={{\n          marginBottom: styles.spacing.xl,\n          paddingRight: ''40px''\n        }}>\n          <h2 style={{\n            margin: 0,\n            fontSize: styles.typography.fontSize.lg,\n            fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n            color: styles.colors.text,\n            marginBottom: styles.spacing.xs\n          }}>\n            Filters\n          </h2>\n          {activeFilterCount > 0 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary\n            }}>\n              {activeFilterCount} active filter{activeFilterCount !== 1 ? ''s'' : ''''}\n            </div>\n          )}\n        </div>\n        \n        {/* Filter Controls */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.lg\n        }}>\n          {/* Model Type Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Model Type\n            </label>\n            <select\n              value={filters?.modelType || ''''}\n              onChange={handleModelTypeChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Types</option>\n              {modelTypes.map((type) => (\n                <option key={type.ID} value={type.ID}>\n                  {type.Name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Status Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Status\n            </label>\n            <select\n              value={filters?.isActive || ''''}\n              onChange={handleStatusChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Statuses</option>\n              <option value=\"Active\">Active</option>\n              <option value=\"Inactive\">Inactive</option>\n              <option value=\"Deprecated\">Deprecated</option>\n              <option value=\"Preview\">Preview</option>\n            </select>\n          </div>\n          \n          {/* Model Developer Filter */}\n          {developers.length > 0 && (\n            <div>\n              <label style={{\n                display: ''block'',\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Model Developer\n              </label>\n              <select\n                value={filters?.developer || ''''}\n                onChange={handleDeveloperChange}\n                style={{\n                  width: ''100%'',\n                  padding: styles.spacing.sm,\n                  fontSize: styles.typography.fontSize.md,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  backgroundColor: styles.colors.background,\n                  color: styles.colors.text,\n                  cursor: ''pointer''\n                }}\n              >\n                <option value=\"\">All Developers</option>\n                {developers.map((dev) => (\n                  <option key={dev} value={dev}>\n                    {dev}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n          \n          {/* Inference Provider Filter */}\n          {providers.length > 0 && (\n            <div>\n              <label style={{\n                display: ''block'',\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Inference Provider\n              </label>\n              <select\n                value={filters?.provider || ''''}\n                onChange={handleProviderChange}\n                style={{\n                  width: ''100%'',\n                  padding: styles.spacing.sm,\n                  fontSize: styles.typography.fontSize.md,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  backgroundColor: styles.colors.background,\n                  color: styles.colors.text,\n                  cursor: ''pointer''\n                }}\n              >\n                <option value=\"\">All Providers</option>\n                {providers.map((provider) => (\n                  <option key={provider} value={provider}>\n                    {provider}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n          \n          {/* Active Filters Display */}\n          {activeFilterCount > 0 && (\n            <div>\n              <div style={{\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Active Filters\n              </div>\n              <div style={{\n                display: ''flex'',\n                flexDirection: ''column'',\n                gap: styles.spacing.xs\n              }}>\n                {filters?.modelType && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Type:\n                      </span>\n                      <strong>{modelTypes.find(t => t.ID === filters.modelType)?.Name || filters.modelType}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleModelTypeChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.isActive && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Status:\n                      </span>\n                      <strong>{filters.isActive}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleStatusChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.developer && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Developer:\n                      </span>\n                      <strong>{filters.developer}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleDeveloperChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.provider && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Provider:\n                      </span>\n                      <strong>{filters.provider}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleProviderChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Clear All Button */}\n        {activeFilterCount > 0 && (\n          <div style={{\n            marginTop: styles.spacing.xl,\n            paddingTop: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`\n          }}>\n            <button\n              onClick={handleClearFilters}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.surface,\n                color: styles.colors.text,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.error + ''15'';\n                e.currentTarget.style.color = styles.colors.error;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surface;\n                e.currentTarget.style.color = styles.colors.text;\n              }}\n            >\n              Clear All Filters\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}",
      "dependencies": [],
      "libraries": []
    },
    {
      "name": "AIModelAnalytics",
      "title": "AI Model Analytics",
      "description": "Analytics panel with charts showing prompt usage distribution, performance metrics, and time series",
      "type": "chart",
      "functionalRequirements": "Display pie chart for prompt usage, bar chart for performance, time series for usage trends",
      "dataRequirements": null,
      "technicalDesign": "",
      "properties": [
        {"name": "model", "type": "object", "required": false, "description": "The selected AI model for analytics"},
        {"name": "promptRuns", "type": "array", "required": true, "description": "Array of prompt runs to analyze"},
        {"name": "view", "type": "string", "required": true, "description": "Current analytics view - ''prompts'', ''performance'', or ''timeline''"}
      ],
      "events": [
        {"name": "onViewChange", "description": "Fired when the analytics view changes", "parameters": [{"name": "view", "type": "string", "description": "New view name"}]}
      ],
      "exampleUsage": "<AIModelAnalytics ... />",
      "code": "function AIModelAnalytics({ \n  model,\n  promptRuns,\n  view,\n  onViewChange,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Calculate prompt usage statistics\n  const promptStats = useMemo(() => {\n    if (!promptRuns || promptRuns.length === 0) return [];\n    \n    const stats = {};\n    promptRuns.forEach(run => {\n      const promptName = run.PromptName || ''Unknown'';\n      if (!stats[promptName]) {\n        stats[promptName] = {\n          name: promptName,\n          runs: 0,\n          successfulRuns: 0,\n          failedRuns: 0,\n          totalTokens: 0,\n          avgExecutionTime: 0,\n          executionTimes: []\n        };\n      }\n      \n      stats[promptName].runs++;\n      if (run.Status === ''Success'' || run.Status === ''Completed'') {\n        stats[promptName].successfulRuns++;\n      } else if (run.Status === ''Failed'' || run.Status === ''Error'') {\n        stats[promptName].failedRuns++;\n      }\n      \n      stats[promptName].totalTokens += run.TotalTokens || 0;\n      if (run.TotalExecutionTime) {\n        stats[promptName].executionTimes.push(run.TotalExecutionTime);\n      }\n    });\n    \n    // Calculate averages\n    Object.values(stats).forEach(stat => {\n      if (stat.executionTimes.length > 0) {\n        stat.avgExecutionTime = stat.executionTimes.reduce((a, b) => a + b, 0) / stat.executionTimes.length;\n      }\n    });\n    \n    return Object.values(stats).sort((a, b) => b.runs - a.runs);\n  }, [promptRuns]);\n  \n  // Calculate time series data\n  const timeSeriesData = useMemo(() => {\n    if (!promptRuns || promptRuns.length === 0) return [];\n    \n    // Group by day\n    const dailyStats = {};\n    promptRuns.forEach(run => {\n      if (run.StartTime) {\n        const date = new Date(run.StartTime).toLocaleDateString();\n        if (!dailyStats[date]) {\n          dailyStats[date] = {\n            date,\n            runs: 0,\n            tokens: 0,\n            errors: 0\n          };\n        }\n        dailyStats[date].runs++;\n        dailyStats[date].tokens += run.TotalTokens || 0;\n        if (run.Status === ''Failed'' || run.Status === ''Error'') {\n          dailyStats[date].errors++;\n        }\n      }\n    });\n    \n    return Object.values(dailyStats).sort((a, b) => new Date(a.date) - new Date(b.date));\n  }, [promptRuns]);\n  \n  // Render pie chart\n  const renderPieChart = () => {\n    if (promptStats.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No prompt data available\n        </div>\n      );\n    }\n    \n    const total = promptStats.reduce((sum, stat) => sum + stat.runs, 0);\n    const colors = [\n      styles.colors.primary,\n      styles.colors.success || ''#4CAF50'',\n      styles.colors.warning || ''#FF9800'',\n      styles.colors.error || ''#F44336'',\n      styles.colors.info || ''#2196F3'',\n      ''#9C27B0'', ''#00BCD4'', ''#8BC34A'', ''#FFC107'', ''#795548''\n    ];\n    \n    // Create simple pie chart using SVG\n    let currentAngle = 0;\n    const segments = promptStats.slice(0, 5).map((stat, index) => {\n      const percentage = stat.runs / total;\n      const angle = percentage * 360;\n      const largeArcFlag = angle > 180 ? 1 : 0;\n      \n      const startX = 100 + 80 * Math.cos((currentAngle - 90) * Math.PI / 180);\n      const startY = 100 + 80 * Math.sin((currentAngle - 90) * Math.PI / 180);\n      \n      currentAngle += angle;\n      \n      const endX = 100 + 80 * Math.cos((currentAngle - 90) * Math.PI / 180);\n      const endY = 100 + 80 * Math.sin((currentAngle - 90) * Math.PI / 180);\n      \n      const pathData = [\n        `M 100 100`,\n        `L $' + '{startX} $' + '{startY}`,\n        `A 80 80 0 $' + '{largeArcFlag} 1 $' + '{endX} $' + '{endY}`,\n        ''Z''\n      ].join('' '');\n      \n      return {\n        path: pathData,\n        color: colors[index % colors.length],\n        percentage,\n        stat\n      };\n    });\n    \n    return (\n      <div>\n        <svg viewBox=\"0 0 200 200\" style={{ width: ''200px'', height: ''200px'', margin: ''0 auto'', display: ''block'' }}>\n          {segments.map((segment, index) => (\n            <g key={index}>\n              <path\n                d={segment.path}\n                fill={segment.color}\n                stroke={styles.colors.background}\n                strokeWidth=\"2\"\n                style={{ cursor: ''pointer'' }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.opacity = ''0.8'';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.opacity = ''1'';\n                }}\n              />\n            </g>\n          ))}\n        </svg>\n        \n        {/* Legend */}\n        <div style={{\n          marginTop: styles.spacing.md,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.xs\n        }}>\n          {segments.map((segment, index) => (\n            <div\n              key={index}\n              style={{\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm\n              }}\n            >\n              <div style={{\n                width: ''12px'',\n                height: ''12px'',\n                backgroundColor: segment.color,\n                borderRadius: ''2px''\n              }} />\n              <div style={{\n                flex: 1,\n                color: styles.colors.text,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                whiteSpace: ''nowrap''\n              }}>\n                {segment.stat.name}\n              </div>\n              <div style={{\n                color: styles.colors.textSecondary,\n                fontWeight: styles.typography.fontWeight?.medium || ''500''\n              }}>\n                {(segment.percentage * 100).toFixed(1)}%\n              </div>\n            </div>\n          ))}\n          {promptStats.length > 5 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary,\n              fontStyle: ''italic''\n            }}>\n              +{promptStats.length - 5} more prompts\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n  \n  // Render bar chart for performance\n  const renderPerformanceChart = () => {\n    if (promptStats.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No performance data available\n        </div>\n      );\n    }\n    \n    const maxTime = Math.max(...promptStats.map(s => s.avgExecutionTime || 0));\n    const displayStats = promptStats.slice(0, 10);\n    \n    return (\n      <div>\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.sm\n        }}>\n          {displayStats.map((stat, index) => (\n            <div key={index} style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.sm }}>\n              <div style={{\n                width: ''100px'',\n                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                color: styles.colors.text,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                whiteSpace: ''nowrap''\n              }}>\n                {stat.name}\n              </div>\n              <div style={{\n                flex: 1,\n                height: ''20px'',\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                overflow: ''hidden'',\n                position: ''relative''\n              }}>\n                <div style={{\n                  width: maxTime > 0 ? `$' + '{(stat.avgExecutionTime / maxTime) * 100}%` : ''0%'',\n                  height: ''100%'',\n                  backgroundColor: styles.colors.primary,\n                  transition: ''width 0.3s''\n                }} />\n                <div style={{\n                  position: ''absolute'',\n                  right: styles.spacing.xs,\n                  top: ''50%'',\n                  transform: ''translateY(-50%)'',\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary\n                }}>\n                  {stat.avgExecutionTime ? `$' + '{(stat.avgExecutionTime / 1000).toFixed(2)}s` : ''-''}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n  \n  // Render time series chart\n  const renderTimeSeriesChart = () => {\n    if (timeSeriesData.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No time series data available\n        </div>\n      );\n    }\n    \n    const maxRuns = Math.max(...timeSeriesData.map(d => d.runs));\n    const recentData = timeSeriesData.slice(-7);\n    \n    return (\n      <div>\n        <div style={{\n          display: ''flex'',\n          alignItems: ''flex-end'',\n          height: ''150px'',\n          gap: styles.spacing.xs,\n          marginBottom: styles.spacing.sm\n        }}>\n          {recentData.map((data, index) => (\n            <div\n              key={index}\n              style={{\n                flex: 1,\n                display: ''flex'',\n                flexDirection: ''column'',\n                alignItems: ''center'',\n                gap: styles.spacing.xs\n              }}\n            >\n              <div style={{\n                width: ''100%'',\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                position: ''relative'',\n                flex: 1,\n                display: ''flex'',\n                alignItems: ''flex-end''\n              }}>\n                <div style={{\n                  width: ''100%'',\n                  height: maxRuns > 0 ? `$' + '{(data.runs / maxRuns) * 100}%` : ''0%'',\n                  backgroundColor: data.errors > 0 \n                    ? styles.colors.error \n                    : styles.colors.primary,\n                  borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                  transition: ''height 0.3s''\n                }} />\n              </div>\n              <div style={{\n                fontSize: ''10px'',\n                color: styles.colors.textSecondary,\n                textAlign: ''center''\n              }}>\n                {new Date(data.date).toLocaleDateString(''en'', { month: ''short'', day: ''numeric'' })}\n              </div>\n            </div>\n          ))}\n        </div>\n        <div style={{\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n          color: styles.colors.textSecondary\n        }}>\n          <span>Runs per day (last 7 days)</span>\n          <span>Max: {maxRuns}</span>\n        </div>\n      </div>\n    );\n  };\n  \n  return (\n    <div style={{\n      height: ''100%'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      backgroundColor: styles.colors.surface\n    }}>\n      {/* Header with View Selector */}\n      <div style={{\n        padding: styles.spacing.lg,\n        borderBottom: `1px solid $' + '{styles.colors.border}`\n      }}>\n        <h3 style={{\n          margin: 0,\n          marginBottom: styles.spacing.md,\n          fontSize: styles.typography.fontSize.lg,\n          fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n          color: styles.colors.text\n        }}>\n          Analytics\n        </h3>\n        \n        {/* View Tabs */}\n        <div style={{\n          display: ''flex'',\n          gap: styles.spacing.xs,\n          borderBottom: `1px solid $' + '{styles.colors.border}`\n        }}>\n          <button\n            onClick={() => onViewChange?.(''prompts'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''prompts'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''prompts'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Prompt Usage\n          </button>\n          <button\n            onClick={() => onViewChange?.(''performance'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''performance'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''performance'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Performance\n          </button>\n          <button\n            onClick={() => onViewChange?.(''timeline'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''timeline'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''timeline'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Timeline\n          </button>\n        </div>\n      </div>\n      \n      {/* Content Area */}\n      <div style={{\n        flex: 1,\n        padding: styles.spacing.lg,\n        overflow: ''auto''\n      }}>\n        {!model ? (\n          <div style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''center'',\n            height: ''100%'',\n            color: styles.colors.textSecondary,\n            fontSize: styles.typography.fontSize.sm\n          }}>\n            Select a model to view analytics\n          </div>\n        ) : (\n          <>\n            {/* Summary Stats */}\n            <div style={{\n              display: ''grid'',\n              gridTemplateColumns: ''repeat(2, 1fr)'',\n              gap: styles.spacing.sm,\n              marginBottom: styles.spacing.lg\n            }}>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Total Runs\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  {promptRuns.length}\n                </div>\n              </div>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Unique Prompts\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  {promptStats.length}\n                </div>\n              </div>\n            </div>\n            \n            {/* Chart Area */}\n            <div>\n              {view === ''prompts'' && renderPieChart()}\n              {view === ''performance'' && renderPerformanceChart()}\n              {view === ''timeline'' && renderTimeSeriesChart()}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}",
      "dependencies": [],
      "libraries": []
    }
  ],
  "libraries": [],
  "code": "function AIModelBrowser({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Extract child components\n  const { AIModelList, AIModelDetails, AIModelFilter, AIModelAnalytics } = components;\n  console.log(''=== AIModelBrowser initialized with callbacks:'', callbacks);\n  \n  // Initialize state from saved settings where appropriate\n  const [selectedModelId, setSelectedModelId] = useState(savedUserSettings?.selectedModelId);\n  const [viewMode, setViewMode] = useState(savedUserSettings?.viewMode || ''grid'');\n  const [filters, setFilters] = useState(savedUserSettings?.filters || {});\n  const [sortBy, setSortBy] = useState(savedUserSettings?.sortBy || ''Name'');\n  const [sortDirection, setSortDirection] = useState(savedUserSettings?.sortDirection || ''asc'');\n  const [filterPanelCollapsed, setFilterPanelCollapsed] = useState(savedUserSettings?.filterPanelCollapsed || false);\n  const [analyticsView, setAnalyticsView] = useState(savedUserSettings?.analyticsView || ''prompts'');\n  \n  // Runtime UI state (not persisted)\n  const [models, setModels] = useState([]);\n  const [modelVendors, setModelVendors] = useState([]);\n  const [promptRuns, setPromptRuns] = useState([]);\n  const [vendors, setVendors] = useState([]);\n  const [modelTypes, setModelTypes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [detailsPanelOpen, setDetailsPanelOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('''');\n  \n  // Load models on mount and when filters/sort change\n  useEffect(() => {\n    const loadModels = async () => {\n      console.log(''=== Loading models with filters:'', filters, ''search:'', searchQuery);\n      setLoading(true);\n      try {\n        // Build filter string for models\n        let filterParts = [];\n        if (searchQuery) {\n          filterParts.push(`(Name LIKE ''%$' + '{searchQuery}%'' OR APIName LIKE ''%$' + '{searchQuery}%'' OR Description LIKE ''%$' + '{searchQuery}%'')`);\n        }\n        if (filters.modelType) {\n          filterParts.push(`AIModelTypeID = ''$' + '{filters.modelType}''`);\n        }\n        if (filters.isActive !== undefined) {\n          filterParts.push(`IsActive = ''$' + '{filters.isActive}''`);\n        }\n        \n        // Load AI Models\n        const modelsResult = await utilities.rv.RunView({\n          EntityName: ''AI Models'',\n          Fields: [''ID'', ''Name'', ''APIName'', ''Description'', ''AIModelTypeID'', ''InputTokenLimit'', \n                   ''CostRank'', ''IsActive'', ''__mj_CreatedAt'', ''__mj_UpdatedAt''],\n          OrderBy: `$' + '{sortBy} $' + '{sortDirection.toUpperCase()}`,\n          ExtraFilter: filterParts.length > 0 ? filterParts.join('' AND '') : undefined\n        });\n        \n        if (modelsResult?.Success && modelsResult?.Results) {\n          console.log(`Loaded $' + '{modelsResult.Results.length} models`);\n          setModels(modelsResult.Results);\n        } else {\n          console.error(''Failed to load models:'', modelsResult?.ErrorMessage);\n          setModels([]);\n        }\n        \n        // Load Model Types for filter\n        const typesResult = await utilities.rv.RunView({\n          EntityName: ''AI Model Types'',\n          Fields: [''ID'', ''Name'', ''Description''],\n          OrderBy: ''Name ASC''\n        });\n        \n        if (typesResult?.Success && typesResult?.Results) {\n          setModelTypes(typesResult.Results);\n        }\n        \n        // Load Vendors (from AI Model Vendors)\n        const vendorsResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Model Vendors'',\n          Fields: [''ID'', ''ModelID'', ''VendorID'', ''TypeID'', ''Model'', ''Vendor'', ''Type'', ''Status'', ''Priority''],\n          OrderBy: ''Vendor ASC, Model ASC''\n        });\n        \n        if (vendorsResult?.Success && vendorsResult?.Results) {\n          const vendorData = vendorsResult.Results;\n          console.log(`Loaded $' + '{vendorData.length} vendor associations`);\n          setModelVendors(vendorData);\n          \n          // Extract unique vendors\n          const uniqueVendors = [...new Set(vendorData.map(v => v.Vendor))].filter(Boolean);\n          setVendors(uniqueVendors.map(name => ({ Name: name })));\n          console.log(`Found $' + '{uniqueVendors.length} unique vendors`);\n          \n          // Apply vendor-based filters\n          if ((filters.developer || filters.provider) && modelsResult?.Results) {\n            console.log(''Applying vendor filters - developer:'', filters.developer, ''provider:'', filters.provider);\n            let vendorFilteredModels = modelsResult.Results;\n            \n            if (filters.developer) {\n              const developerModelIds = vendorData\n                .filter(v => v.Vendor === filters.developer && v.Type?.includes(''Developer''))\n                .map(v => v.ModelID);\n              vendorFilteredModels = vendorFilteredModels.filter(m => developerModelIds.includes(m.ID));\n              console.log(`After developer filter: $' + '{vendorFilteredModels.length} models`);\n            }\n            \n            if (filters.provider) {\n              const providerModelIds = vendorData\n                .filter(v => v.Vendor === filters.provider && v.Type?.includes(''Provider''))\n                .map(v => v.ModelID);\n              vendorFilteredModels = vendorFilteredModels.filter(m => providerModelIds.includes(m.ID));\n              console.log(`After provider filter: $' + '{vendorFilteredModels.length} models`);\n            }\n            \n            setModels(vendorFilteredModels);\n          }\n        }\n      } catch (error) {\n        console.error(''Error loading models:'', error);\n        setModels([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadModels();\n  }, [filters, sortBy, sortDirection, searchQuery, utilities.rv]);\n  \n  // Load model details and analytics when selection changes\n  useEffect(() => {\n    const loadModelDetails = async () => {\n      if (!selectedModelId) {\n        setPromptRuns([]);\n        return;\n      }\n      \n      console.log(''=== Loading prompt runs for model:'', selectedModelId);\n      \n      try {\n        // Use the correct entity name for prompt runs: MJ: AI Prompt Runs\n        console.log(''Loading prompt runs with entity: MJ: AI Prompt Runs'');\n        \n        const promptRunsResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Prompt Runs'',\n          Fields: [''ID'', ''PromptID'', ''ModelID'', ''RunAt'', ''CompletedAt'', ''ExecutionTimeMS'', \n                   ''TokensPrompt'', ''TokensCompletion'', ''TokensUsed'', ''Success'', ''ErrorMessage''],\n          OrderBy: ''RunAt DESC'',\n            ExtraFilter: `ModelID = ''$' + '{selectedModelId}''`,\n            MaxRows: 1000\n        });\n        \n        if (promptRunsResult?.Success && promptRunsResult?.Results) {\n          console.log(`Found $' + '{promptRunsResult.Results.length} prompt runs`);\n          // Enrich with prompt names\n          const promptIds = [...new Set(promptRunsResult.Results.map(r => r.PromptID))].filter(Boolean);\n          \n          if (promptIds.length > 0) {\n            const promptsResult = await utilities.rv.RunView({\n              EntityName: ''AI Prompts'',\n              Fields: [''ID'', ''Name'', ''Description'', ''CategoryID''],\n              ExtraFilter: `ID IN (''$' + '{promptIds.join(\"'',''\")}'')`\n            });\n            \n            const promptMap = {};\n            if (promptsResult?.Success && promptsResult?.Results) {\n              promptsResult.Results.forEach(p => {\n                promptMap[p.ID] = p;\n              });\n            }\n            \n            // Enrich prompt runs with prompt names and convert fields for compatibility\n            const enrichedRuns = promptRunsResult.Results.map(run => ({\n              ...run,\n              PromptName: promptMap[run.PromptID]?.Name || ''Unknown Prompt'',\n              PromptDescription: promptMap[run.PromptID]?.Description,\n              // Map fields for analytics component compatibility\n              StartTime: run.RunAt,\n              EndTime: run.CompletedAt,\n              TotalExecutionTime: run.ExecutionTimeMS,\n              Status: run.Success ? ''Success'' : ''Failed'',\n              Error: run.ErrorMessage,\n              TotalTokens: run.TokensUsed\n            }));\n            \n            console.log(`Enriched $' + '{enrichedRuns.length} runs with prompt names`);\n            setPromptRuns(enrichedRuns);\n          } else {\n            setPromptRuns(promptRunsResult.Results);\n          }\n        } else {\n          console.log(''No prompt runs found:'', promptRunsResult?.ErrorMessage);\n          setPromptRuns([]);\n        }\n      } catch (error) {\n        console.error(''Error loading model details:'', error);\n        setPromptRuns([]);\n      }\n    };\n    \n    loadModelDetails();\n  }, [selectedModelId, utilities.rv]);\n  \n  // Handle model selection\n  const handleSelectModel = useCallback((modelId) => {\n    setSelectedModelId(modelId);\n    setDetailsPanelOpen(true);\n    \n    // Save user preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      selectedModelId: modelId\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle view mode change\n  const handleViewModeChange = useCallback((mode) => {\n    setViewMode(mode);\n    \n    // Save preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      viewMode: mode\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter changes\n  const handleFilterChange = useCallback((newFilters) => {\n    setFilters(newFilters);\n    \n    // Save filter preferences\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filters: newFilters\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle sort changes\n  const handleSortChange = useCallback((newSortBy, newSortDirection) => {\n    setSortBy(newSortBy);\n    setSortDirection(newSortDirection);\n    \n    // Save sort preferences\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      sortBy: newSortBy,\n      sortDirection: newSortDirection\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter panel toggle\n  const handleToggleFilter = useCallback(() => {\n    const newCollapsed = !filterPanelCollapsed;\n    setFilterPanelCollapsed(newCollapsed);\n    \n    // Save collapsed state\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filterPanelCollapsed: newCollapsed\n    });\n  }, [filterPanelCollapsed, savedUserSettings, onSaveUserSettings]);\n  \n  // Handle analytics view change\n  const handleAnalyticsViewChange = useCallback((view) => {\n    setAnalyticsView(view);\n    \n    // Save preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      analyticsView: view\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle opening model record\n  const handleOpenRecord = useCallback((modelName) => {\n    console.log(''Opening AI Model record:'', modelName);\n    if (callbacks?.OpenEntityRecord && modelName) {\n      callbacks.OpenEntityRecord(''AI Models'', [{ FieldName: ''Name'', Value: modelName }]);\n    }\n  }, [callbacks]);\n  \n  // Handle closing details panel\n  const handleCloseDetails = useCallback(() => {\n    setDetailsPanelOpen(false);\n  }, []);\n  \n  // Handle search\n  const handleSearch = useCallback((query) => {\n    setSearchQuery(query);\n  }, []);\n  \n  // Get selected model object\n  const selectedModel = models.find(m => m.ID === selectedModelId);\n  \n  // Get vendors for selected model\n  const selectedModelVendors = modelVendors.filter(v => v.ModelID === selectedModelId);\n  \n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Loading state\n  if (loading && models.length === 0) {\n    return (\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        height: ''100vh'',\n        fontSize: styles.typography.fontSize.lg,\n        color: styles.colors.textSecondary\n      }}>\n        Loading AI models...\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{\n      display: ''flex'',\n      height: ''100vh'',\n      backgroundColor: styles.colors.background,\n      overflow: ''hidden''\n    }}>\n      {/* Filter Panel */}\n      {AIModelFilter && (\n        <AIModelFilter\n          filters={filters}\n          onFilterChange={handleFilterChange}\n          modelTypes={modelTypes}\n          vendors={vendors}\n          isCollapsed={filterPanelCollapsed}\n          onToggleCollapse={handleToggleFilter}\n          savedUserSettings={savedUserSettings?.filterPanel}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            filterPanel: settings\n          })}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n        />\n      )}\n      \n      {/* Main Content Area */}\n      <div style={{\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            marginBottom: styles.spacing.md\n          }}>\n            <h1 style={{\n              margin: 0,\n              fontSize: styles.typography.fontSize.xxl || styles.typography.fontSize.xl,\n              fontWeight: styles.typography.fontWeight?.bold || ''700'',\n              color: styles.colors.text\n            }}>\n              AI Model Browser\n            </h1>\n            \n            {/* View Mode Toggle */}\n            <div style={{\n              display: ''flex'',\n              gap: styles.spacing.sm,\n              alignItems: ''center''\n            }}>\n              <span style={{\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.textSecondary\n              }}>\n                View:\n              </span>\n              <button\n                onClick={() => handleViewModeChange(''grid'')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: viewMode === ''grid'' ? styles.colors.primary : styles.colors.background,\n                  color: viewMode === ''grid'' ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Grid\n              </button>\n              <button\n                onClick={() => handleViewModeChange(''list'')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: viewMode === ''list'' ? styles.colors.primary : styles.colors.background,\n                  color: viewMode === ''list'' ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                List\n              </button>\n            </div>\n          </div>\n          \n          {/* Search Bar */}\n          <div style={{\n            display: ''flex'',\n            gap: styles.spacing.md\n          }}>\n            <input\n              type=\"text\"\n              placeholder=\"Search AI models...\"\n              value={searchQuery}\n              onChange={(e) => handleSearch(e.target.value)}\n              style={{\n                flex: 1,\n                padding: styles.spacing.md,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background\n              }}\n            />\n            {searchQuery && (\n              <button\n                onClick={() => handleSearch('''')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: styles.colors.surfaceHover || styles.colors.surface,\n                  color: styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Clear\n              </button>\n            )}\n          </div>\n        </div>\n        \n        {/* Model List and Analytics Split View */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          overflow: ''hidden''\n        }}>\n          {/* Model List */}\n          <div style={{\n            flex: 1,\n            overflow: ''auto'',\n            padding: styles.spacing.lg\n          }}>\n            {AIModelList && (\n              <AIModelList\n                models={models}\n                modelVendors={modelVendors}\n                viewMode={viewMode}\n                selectedModelId={selectedModelId}\n                onSelectModel={handleSelectModel}\n                sortBy={sortBy}\n                sortDirection={sortDirection}\n                onSortChange={handleSortChange}\n                savedUserSettings={savedUserSettings?.modelList}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  modelList: settings\n                })}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            )}\n            \n            {/* Empty State */}\n            {models.length === 0 && !loading && (\n              <div style={{\n                display: ''flex'',\n                flexDirection: ''column'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                padding: styles.spacing.xxl || styles.spacing.xl,\n                color: styles.colors.textSecondary\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xl,\n                  marginBottom: styles.spacing.md\n                }}>\n                  No AI models found\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.md\n                }}>\n                  {searchQuery || Object.keys(filters).length > 0\n                    ? ''Try adjusting your filters or search query''\n                    : ''No AI models are available''}\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* Analytics Panel */}\n          {selectedModel && AIModelAnalytics && (\n            <div style={{\n              width: ''400px'',\n              borderLeft: `1px solid $' + '{styles.colors.border}`,\n              overflow: ''hidden'',\n              display: ''flex'',\n              flexDirection: ''column''\n            }}>\n              <AIModelAnalytics\n                model={selectedModel}\n                promptRuns={promptRuns}\n                view={analyticsView}\n                onViewChange={handleAnalyticsViewChange}\n                savedUserSettings={savedUserSettings?.analytics}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  analytics: settings\n                })}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Details Panel */}\n      {AIModelDetails && (\n        <AIModelDetails\n          model={selectedModel}\n          vendors={selectedModelVendors}\n          promptRuns={promptRuns}\n          isOpen={detailsPanelOpen}\n          onClose={handleCloseDetails}\n          onOpenRecord={() => handleOpenRecord(selectedModel?.Name)}\n          savedUserSettings={savedUserSettings?.detailsPanel}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            detailsPanel: settings\n          })}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n        />\n      )}\n    </div>\n  );\n}"
}'
SET
  @FunctionalRequirements_aeb8b9e3 = N'## AI Model Browser

### Core Functionality
- Display AI models in grid or list view with comprehensive information
- Filter models by Model Type, Status, Model Developer, and Inference Provider
- View detailed model specifications including context window, token limits, and cost ranking
- Display all vendors associated with a model (model developers and inference providers)
- Show prompt run history and usage statistics for selected models
- Visualize prompt usage with pie charts showing distribution across different prompts
- Display performance metrics with bar charts showing average execution times
- Show time series data for model usage over time
- Support sorting by multiple fields with visual indicators
- Include search functionality for quick model filtering
- Provide ''Open'' button to trigger OpenEntityRecord callback for detailed editing

### Analytics Features
- Pie chart visualization of prompt usage distribution
- Performance bar charts showing average execution times per prompt
- Time series chart showing model usage trends over last 7 days
- Summary statistics including total runs, success rates, and token usage
- Grouped vendor display by type (Model Developer vs Inference Provider)

### UX Considerations
- Collapsible filter panel with active filter count indicator
- Sliding details panel for comprehensive model information
- Inline analytics panel with tabbed views for different visualizations
- Smooth animations for panel transitions and chart rendering
- Responsive design adapting to different screen sizes
- Loading states while fetching data
- Empty states with helpful messages
- Visual feedback for hover and selection states
- Maintain user preferences for view mode and filter state'
SET
  @TechnicalDesign_aeb8b9e3 = N'## Architecture

### Root Component (AIModelBrowser)
- Manages overall state and data loading
- Coordinates between filter, list, details, and analytics components
- Handles user preferences and saved settings
- Manages search and sort state

### Child Components
1. **AIModelList**: Displays models in grid or list view with vendor information
2. **AIModelDetails**: Sliding panel showing comprehensive model information and vendors
3. **AIModelFilter**: Collapsible filter panel for model type, status, and vendor filtering
4. **AIModelAnalytics**: Inline analytics panel with charts and statistics

### Data Flow
- Root component loads all models and vendor associations
- Filters are applied at the root level and filtered data passed to list
- Selection in list triggers detail loading and analytics calculation
- Analytics component processes prompt runs to generate visualizations

### Chart Implementation
- Pie charts using SVG for prompt usage distribution
- Bar charts for performance metrics
- Time series charts for usage trends
- All charts are responsive and interactive'
SET
  @FunctionalRequirementsVector_aeb8b9e3 = N'[-0.018954802304506302,0.09649690240621567,-0.024486785754561424,-0.041474826633930206,0.004181933589279652,0.00290582119487226,0.09871092438697815,-0.01124159898608923,-0.0005670316750183702,-0.01998923160135746,-0.012950634583830833,0.041514892131090164,0.008768998086452484,0.18495233356952667,-0.007924949750304222,-0.03069666214287281,0.020554978400468826,-0.004705705214291811,0.04407649487257004,0.010969441384077072,-0.0073686265386641026,-0.025929758325219154,0.0028177134227007627,0.032239481806755066,-0.009231056086719036,-0.04166416823863983,-0.04087425023317337,0.009326332248747349,-0.006149556487798691,-0.07734014093875885,0.01691114716231823,0.021212231367826462,-0.01826726272702217,0.06881257891654968,0.0000028977385682082968,-0.02654130943119526,-0.06930284947156906,0.03121425025165081,-0.06000618264079094,0.028107408434152603,0.05261973664164543,0.08556845784187317,0.040153905749320984,0.020960651338100433,-0.00404793955385685,0.023034578189253807,0.006849102210253477,0.027071133255958557,0.020621471107006073,-0.017654916271567345,0.011244138702750206,0.03384232148528099,-0.010643170215189457,-0.031210467219352722,-0.025484973564743996,-0.051188334822654724,-0.009866531938314438,-0.014233634807169437,0.030828120186924934,0.010146494023501873,0.008161010220646858,0.03281518816947937,0.019955044612288475,-0.031985241919755936,0.08970048278570175,0.061936382204294205,0.07178601622581482,-0.12165624648332596,-0.01529591903090477,-0.0071367379277944565,0.09148968011140823,-0.00603578332811594,-0.026081040501594543,-0.014260608702898026,-0.038586340844631195,0.005281538236886263,-0.04639536887407303,-0.0005500251427292824,-0.0023204716853797436,-0.0038778907619416714,-0.016673831269145012,-0.0009573762072250247,-0.035736143589019775,-0.010892250575125217,-0.03555911034345627,0.025775903835892677,0.008389401249587536,-0.005645557772368193,-0.006961803883314133,-0.019579347223043442,0.05318067595362663,-0.06649237871170044,0.010700362734496593,-0.018168386071920395,-0.06257052719593048,-0.042853351682424545,0.026777083054184914,-0.033560674637556076,0.020715879276394844,0.008194532245397568,0.0891493484377861,0.0057632108218967915,-0.0228923037648201,0.03462223336100578,0.0320785716176033,0.0530163049697876,-0.013030566275119781,-0.024995414540171623,0.03844990208745003,0.05497166886925697,-0.006774238310754299,-0.0063087595626711845,-0.02968887984752655,0.03365016728639603,-0.019104352220892906,-0.03994455188512802,0.01253308542072773,0.02320984937250614,-0.0028310439083725214,0.025740621611475945,0.03935406729578972,0.022661933675408363,0.01372178178280592,0.04247362166643143,-0.019660262390971184,0.011183840222656727,-0.0783284455537796,-0.0007694902596995234,0.023065613582730293,-0.05629643425345421,-0.02612469159066677,-0.020791491493582726,-0.003424345748499036,-0.02518051117658615,-0.0022230944596230984,0.034559063613414764,0.07163052260875702,-0.02605437859892845,-0.05702902376651764,-0.04647798463702202,0.02866644412279129,-0.03659806400537491,-0.07742869108915329,-0.002393980510532856,-0.006304134149104357,-0.015261432155966759,0.00506565859541297,-0.03259219974279404,-0.0063265967182815075,-0.021500594913959503,-0.002725290833041072,-0.021227283403277397,-0.04964274913072586,0.008901610039174557,0.002325261477380991,-0.011139853857457638,0.035738296806812286,0.014442448504269123,-0.011797990649938583,0.04602033272385597,0.03009677305817604,-0.005961091257631779,0.00880449265241623,-0.020993953570723534,0.0006040741573087871,0.026083016768097878,-0.028818832710385323,0.015293704345822334,-0.05466575548052788,-0.027090435847640038,-0.04825868085026741,-0.035413771867752075,0.013294167816638947,0.01462403405457735,0.05822852626442909,0.03097987174987793,0.05671190470457077,-0.013478550128638744,-0.01389402151107788,0.006454982794821262,0.045716408640146255,-0.09695862978696823,-0.01004109252244234,0.0461994931101799,-0.025941448286175728,-0.003931940067559481,-0.013682372868061066,0.07219726592302322,-0.01428181305527687,-0.04000644385814667,0.005343346390873194,-0.02861730009317398,-0.07280614972114563,0.017727166414260864,0.04609503597021103,0.006421761587262154,0.012060102075338364,-0.059529222548007965,0.018648482859134674,-0.04186786711215973,-0.07561910897493362,-0.08012180775403976,0.06875584274530411,0.053196072578430176,0.025106456130743027,-0.011544949375092983,-0.08077622205018997,-0.03366544842720032,-0.06257405877113342,0.009924638085067272,0.08434568345546722,0.00395268714055419,-0.03049072064459324,0.026442550122737885,-0.04867228493094444,-0.02228556200861931,0.03010735474526882,0.02681473270058632,-0.010646993294358253,0.030638795346021652,-0.041868340224027634,-0.030388308688998222,-0.02311289869248867,0.014140946790575981,0.020021280273795128,0.018613342195749283,0.018491407856345177,0.018184464424848557,0.03562408313155174,0.02469576708972454,0.0026375206653028727,0.018029317259788513,0.05178896710276604,0.03264151141047478,0.01614759862422943,0.019485680386424065,0.05490689352154732,0.11459845304489136,0.0022985755931586027,0.05611496418714523,0.06091584265232086,-0.010627573356032372,-0.0008141049765981734,0.001037220237776637,-0.018849307671189308,-0.029310425743460655,0.036686092615127563,0.03470619022846222,0.027871184051036835,-0.03658667206764221,0.01679273135960102,0.0002627461508382112,0.03931979835033417,0.01038247812539339,-0.03348053991794586,0.018976807594299316,-0.028687026351690292,-0.0189488735049963,-0.05264444276690483,0.06218123808503151,0.00952551793307066,-0.010225679725408554,-0.04198647290468216,-0.010493878275156021,0.0030830225441604853,-0.011592473834753036,0.08435589075088501,-0.09356031566858292,0.004021923523396254,0.016457408666610718,-0.006460277363657951,0.03998924046754837,0.06005031242966652,-0.026639927178621292,-0.01581558771431446,0.0484793521463871,-0.028241248801350594,0.020298585295677185,-0.035328108817338943,-0.03834500163793564,0.02174932137131691,-0.03697134926915169,-0.05790446698665619,0.029239105060696602,-0.028836023062467575,0.028709517791867256,0.07140611112117767,-0.044409964233636856,0.025165405124425888,-0.0022762627340853214,0.006975377909839153,-0.00048434591735713184,0.012225967831909657,0.019430682063102722,-0.014833456836640835,0.004009376745671034,-0.05896718055009842,0.07474584877490997,-0.032213348895311356,0.08174439519643784,0.004907906986773014,0.021392740309238434,-0.05348282679915428,0.02380741573870182,0.021061204373836517,0.041446685791015625,0.02312871254980564,0.02108907140791416,0.013896358199417591,0.06471143662929535,0.0033566667698323727,0.009189526550471783,0.036468926817178726,0.060669828206300735,0.02764977514743805,-0.020415177568793297,0.0015848423354327679,0.02018844522535801,0.0016830734675750136,0.08168540894985199,0.03474403917789459,-0.06512083113193512,0.018072927370667458,-0.04278511926531792,-0.000998981180600822,-0.019108280539512634,-0.07533925771713257,-0.0036283552180975676,-0.019567955285310745,-0.013534028083086014,0.005352125968784094,-0.028949592262506485,0.038768231868743896,0.037112001329660416,0.011923892423510551,-0.013673909939825535,-0.03149193897843361,-0.028584085404872894,-0.006897793151438236,-0.022866113111376762,-0.010117661207914352,0.03631521761417389,-0.01830219477415085,-0.02301204577088356,-0.03454216569662094,-0.018681105226278305,0.0035690355580300093,-0.04047558456659317,-0.03857393190264702,0.024814806878566742,0.05516981706023216,0.05243069306015968,-0.024262694641947746,-0.011555814184248447,0.04238467663526535,-0.06011936813592911,-0.01938866637647152,-0.04040831699967384,-0.007175082806497812,-0.027116719633340836,0.08855777233839035,0.01471111923456192,-0.00012059816799592227,0.020649470388889313,-0.07235688716173172,0.012799008749425411,0.013667400926351547,0.0007550251903012395,-0.01620279811322689,0.015378536656498909,-0.005973221268504858,-0.020447954535484314,0.009859822690486908,0.03414611518383026,0.021789442747831345,-0.02391641214489937,0.0019750292412936687,0.004492614418268204,0.03922755643725395,0.023624781519174576,0.02016986720263958,-0.022162366658449173,0.04777539521455765,0.0321376770734787,0.08525251597166061,-0.03366199880838394,-0.031382955610752106,0.00045957876136526465,-0.00990136619657278,0.02137664519250393,-0.017184222117066383,0.00047726984485052526,0.0069527155719697475,-0.10093379765748978,0.016549458727240562,-0.043373093008995056,-0.04989834874868393,0.022998908534646034,-0.0003674394974950701,0.03854705020785332,0.0064802998676896095,0.008601176552474499,-0.018320247530937195,-0.035862330347299576,0.007037774194031954,-0.01820949651300907,0.0797848105430603,0.04807399585843086,0.00633068336173892,-0.023192482069134712,-0.022044874727725983,0.059166304767131805,-0.0005246711662039161,-0.0544428788125515,0.0580848827958107,-0.012196440249681473,-0.008253447711467743,-0.017910035327076912,0.04468459263443947,0.05546688288450241,0.03583747148513794,0.019892888143658638,-0.020135872066020966,-0.060857806354761124,0.04719994589686394,-0.04727394878864288,-0.026920879259705544,-0.020746629685163498,0.036155156791210175,0.05405750870704651,-0.0299476757645607,0.000038338464946718886,-0.02653326466679573,0.021877935156226158,-0.021424612030386925,-0.007180305197834969,0.030730757862329483,-0.011623389087617397,-0.0817335918545723,-0.0045267860405147076,-0.005789459217339754,-0.002335812197998166,0.01914592646062374,0.012147094123065472,-0.02876986190676689,0.007546038832515478,0.03591062128543854,0.025651248171925545,-0.017804274335503578,0.020320827141404152,0.038589075207710266,-0.0665624737739563,-0.0032771534752100706,0.01197469886392355,-0.000306479400023818,-0.036426398903131485,-0.015672357752919197,-0.010075501166284084,-0.015526780858635902,0.009854908101260662,0.03656040132045746,0.0377989299595356,-0.03383766487240791,-0.00567470770329237,0.058540839701890945,-0.01855211704969406,-0.005448807030916214,-0.0523657500743866,-0.04079599305987358,-0.013363570906221867,0.03362364321947098,-0.009563210420310497,-0.02297947183251381,-0.028315816074609756,-0.01809997856616974,-0.02913537248969078,-0.0069295200519263744,-0.019174136221408844,-0.029365817084908485,0.01219293475151062,0.06672016531229019,0.025420019403100014,0.029672469943761826,-0.03947966918349266,-0.017537668347358704,0.023085376247763634,-0.021957390010356903,-0.0029447125270962715,-0.036256078630685806,0.01488696038722992,0.002109317108988762,0.00769411027431488,0.02301776222884655,0.03062024712562561,0.03404579684138298,-0.009476415812969208,-0.08109461516141891,0.05260533466935158,-0.04525219276547432,0.01518078800290823,0.006268100813031197,0.0019236725056543946,0.009890424087643623,-0.029630478471517563,0.005642062518745661,0.023485252633690834,-0.0184011347591877,0.013197144493460655,-0.04263893514871597,-0.01584741659462452,-0.0004836685839109123,0.011932620778679848,-0.03350156545639038,-0.11432621628046036,-0.0017264650668948889,0.10147058218717575,-0.04968990758061409,-0.0020486812572926283,0.002753700828179717,-0.0501810759305954,0.013947620987892151,-0.01255891378968954,-0.0019102237420156598,0.04798858240246773,0.0403592549264431,-0.034453798085451126,0.008494170382618904,-0.039466600865125656,-0.04319125413894653,0.059582389891147614,0.013883639127016068,0.0336739756166935,-0.04399159550666809,-0.03487744182348251,-0.04268079623579979,0.050828609615564346,0.03997531905770302,0.022443337365984917,-0.01250525750219822,0.003322844160720706,-0.04205458611249924,-0.018237363547086716,0.0027919637504965067,-0.031335022300481796,-0.02095641940832138,-0.023776495829224586,0.01167263463139534,0.022552821785211563,0.004079831298440695,-0.019160695374011993,0.028789367526769638,-0.055237267166376114,-0.033893831074237823,0.0007015564478933811,-0.042356353253126144,-8.028944534274915e-33,-0.04545973241329193,0.005639516748487949,-0.04634704813361168,-0.06305615603923798,-0.016254650428891182,-0.039148494601249695,0.004491452127695084,0.001215767697431147,-0.0354728028178215,-0.03131977841258049,-0.008145482279360294,-0.008265279233455658,0.012854316271841526,-0.013114635832607746,0.024588340893387794,0.05763532966375351,0.044755998998880386,0.008294458501040936,-0.007811286952346563,0.02864854410290718,-0.0150741683319211,0.03360583633184433,-0.0489666685461998,-0.06905904412269592,0.00013027821842115372,0.03627074509859085,0.02099306881427765,-0.018679974600672722,-0.0789954885840416,0.04711771011352539,0.025215553119778633,-0.01867259107530117,-0.034915126860141754,-0.02791137993335724,-0.02233739197254181,-0.000431785942055285,-0.018870627507567406,-0.01785440929234028,0.007307303138077259,-0.00819790456444025,0.018117539584636688,-0.03787064179778099,0.028362635523080826,0.012229799292981625,-0.0009510904201306403,0.005458631087094545,0.03327378258109093,-0.03578858822584152,0.0031328238546848297,0.011946897022426128,0.009930184110999107,-0.0036799556110054255,-0.05147581920027733,0.05950959026813507,0.03586815297603607,0.07284742593765259,0.013472942635416985,0.03789883106946945,-0.019397206604480743,-0.012815297581255436,0.027801642194390297,-0.023084990680217743,0.01996026746928692,0.012495698407292366,0.039149209856987,0.0001931523293023929,-0.01931687444448471,-0.036567285656929016,-0.03696085885167122,-0.02450362965464592,-0.0068682418204844,0.07620103657245636,0.003955370280891657,-0.07762831449508667,-0.04686693102121353,-0.032553840428590775,-0.017341740429401398,0.029177306219935417,-0.012249273248016834,0.08062098920345306,0.00819100346416235,-0.017765825614333153,-0.03193450719118118,0.026132049039006233,0.0370924212038517,-0.10261055827140808,-0.03825490549206734,-0.015484452247619629,0.05104149132966995,0.0005493339849635959,-0.03174334019422531,-0.018038982525467873,-0.05091583728790283,-0.043231867253780365,-0.0014338204637169838,0.006982119753956795,0.046303581446409225,0.003226182423532009,0.019406504929065704,-0.04630288854241371,0.018591107800602913,0.033943381160497665,-0.04235202446579933,0.025198308750987053,0.034316182136535645,-0.04659055545926094,0.01927606575191021,-0.015813380479812622,-0.06856587529182434,0.0075818742625415325,-0.0050312215462327,-0.0022749106865376234,0.03631509840488434,-0.013539007864892483,0.021853726357221603,-0.019020790234208107,-0.007189725525677204,0.04829658567905426,0.008524610660970211,0.018890781328082085,-0.033025577664375305,-0.022509006783366203,-0.019629420712590218,-0.015479324385523796,0.006795817520469427,-0.03555898740887642,-0.03250586986541748,0.00040155675378628075,0.042279575020074844,-0.020653625950217247,-0.027454866096377373,-0.011195426806807518,3.5701998513104627e-7,-0.01269929576665163,0.04402468353509903,0.008434053510427475,0.01471082866191864,0.002473041880875826,0.026985974982380867,-0.04278301075100899,-0.044117238372564316,0.006653557065874338,-0.0016874255379661918,0.03557971119880676,0.00305074080824852,0.021505272015929222,0.034175995737314224,0.01772443763911724,-0.05281420424580574,-0.030460914596915245,0.018022924661636353,-0.074491485953331,0.009150232188403606,0.05771986395120621,0.04770387336611748,0.05443751811981201,0.0011449833400547504,0.05494360253214836,-0.03799322247505188,-0.04405795782804489,-0.01759777031838894,0.020858224481344223,-0.031865302473306656,0.007209928706288338,0.052979692816734314,-0.013141436502337456,-0.013226332142949104,-0.008395279757678509,0.004207952413707972,-0.05071746185421944,0.03364500030875206,-0.0033062673173844814,0.028593502938747406,0.04362083971500397,-0.046850189566612244,0.014245236292481422,-0.08379878848791122,0.04296325147151947,0.03121146187186241,0.0020293344277888536,-0.022557230666279793,-0.021809997037053108,-0.013776857405900955,0.03759618103504181,0.01716436631977558,0.025669805705547333,-0.03792839124798775,0.0043458035215735435,-0.037322673946619034,-0.010730906389653683,0.054949935525655746,0.0158891212195158,0.03008137084543705,-0.02749747596681118,-0.04696225747466087,-0.038952820003032684,0.03961033746600151,0.024374045431613922,0.009167486801743507,-0.014163144864141941,4.257130392497168e-34,0.009845680557191372,0.005831483285874128,0.04061184823513031,0.04023654758930206,0.026840567588806152,-0.029227364808321,0.004944947548210621,-0.04258675128221512,0.016221629455685616,-0.08404307067394257,-0.02679458074271679]'
SET
  @TechnicalDesignVector_aeb8b9e3 = N'[-0.04455028846859932,-0.023948704823851585,-0.04292631894350052,-0.07809945940971375,0.027811840176582336,-0.014077198691666126,0.029283683747053146,0.008394245058298111,-0.000669428613036871,-0.025235269218683243,-0.009922560304403305,0.014216303825378418,0.026506459340453148,0.11488807946443558,-0.023034662008285522,-0.03355199843645096,0.006409747060388327,0.01720452681183815,0.011229232884943485,0.026946865022182465,0.02824837528169155,-0.011614454910159111,0.02634485438466072,0.02844131551682949,0.006903723813593388,-0.01493024080991745,-0.022443905472755432,0.023990124464035034,0.029232461005449295,-0.1102200374007225,0.00989728607237339,0.013494309969246387,-0.030302025377750397,0.013200667686760426,0.0000023159507236414356,-0.00759019935503602,-0.03784604370594025,0.032010193914175034,-0.060548096895217896,0.012142972089350224,0.09797315299510956,-0.026376212015748024,0.03908391296863556,0.004092477262020111,0.023114576935768127,-0.01814170554280281,-0.027445504441857338,-0.012357832863926888,0.038666654378175735,-0.01765410043299198,0.028864655643701553,0.013481147587299347,-0.008846351876854897,-0.010058610700070858,-0.0012565933866426349,0.0038457431364804506,0.002688287990167737,0.017149033024907112,0.06620277464389801,0.03579626604914665,-0.023330820724368095,0.016907624900341034,0.02992302179336548,-0.013872364535927773,0.1012362465262413,0.018132973462343216,0.12246403098106384,-0.05781133472919464,0.02138485759496689,0.01712755486369133,0.1622018963098526,-0.019089380279183388,0.0054743001237511635,-0.03857982158660889,-0.039204634726047516,-0.009238183498382568,-0.017864353954792023,-0.009194456972181797,-0.015922753140330315,0.0038838305044919252,-0.0027900049462914467,0.01670726388692856,-0.039386823773384094,-0.0422971285879612,-0.05281096324324608,0.04264652356505394,-0.015363074839115143,-0.021217385306954384,-0.022199314087629318,-0.03128507360816002,0.0624406673014164,-0.04425749182701111,-0.004316197708249092,-0.023073380813002586,-0.0674435943365097,-0.006181145552545786,0.03505765274167061,-0.10687606781721115,0.01837458834052086,-0.012536793947219849,0.06054188311100006,0.03588392585515976,0.013046401552855968,0.03276928514242172,0.07438509911298752,0.04716812074184418,0.007551062386482954,-0.05172150954604149,-0.007146092597395182,0.016869666054844856,-0.0007531894370913506,-0.004263641778379679,0.026424113661050797,0.031449269503355026,-0.04844602197408676,0.010080411098897457,-0.05384843796491623,-0.008869948796927929,-0.021174881607294083,0.006844767834991217,0.06465157866477966,-0.011478266678750515,0.007454415783286095,0.033357031643390656,0.01299529243260622,0.015846362337470055,-0.0019173392793163657,-0.056125208735466,-0.007384409662336111,0.013878215104341507,-0.02172398567199707,-0.058899737894535065,0.012237608432769775,-0.0489361435174942,-0.023104775696992874,-0.013138886541128159,0.03196629509329796,0.005219508893787861,-0.010195479728281498,-0.018240945413708687,0.05374504625797272,0.007582738529890776,-0.046748869121074677,0.07430565357208252,0.015898261219263077,-0.013807713985443115,0.03167641907930374,-0.006845206022262573,0.007681483402848244,0.030239881947636604,-0.0057123457081615925,-0.012624073773622513,-0.006829674355685711,0.02654164470732212,-0.05510029196739197,-0.01431194320321083,0.05684148147702217,-0.010321584530174732,-0.023101452738046646,0.007279678247869015,-0.005371100269258022,-0.023540344089269638,0.040992435067892075,0.006211788393557072,-0.013566512614488602,0.0021408575121313334,-0.12923982739448547,-0.001414305530488491,-0.10830758512020111,-0.08137477934360504,-0.030324093997478485,-0.061370600014925,0.008314809761941433,0.04214867949485779,0.024433009326457977,-0.0003884966718032956,0.133650541305542,-0.03969601169228554,-0.04729596897959709,-0.009385192766785622,0.0026309953536838293,-0.1408897340297699,-0.0015886303735896945,0.042191360145807266,0.012732168659567833,-0.023268090561032295,-0.08273021131753922,0.08792512863874435,-0.0001994357444345951,-0.0036613130941987038,-0.03007526323199272,0.02193371020257473,-0.08920340240001678,-0.0009591034613549709,0.021183889359235764,0.028793875128030777,0.003888374427333474,-0.05300208926200867,0.05318114906549454,-0.011828904040157795,-0.03162844851613045,-0.02153807505965233,0.04444650933146477,0.05376626178622246,0.03284405916929245,-0.01580171100795269,-0.037561964243650436,-0.022295581176877022,-0.02902572974562645,-0.0035676180850714445,-0.015207327902317047,0.018828144297003746,-0.054195936769247055,0.03258365020155907,-0.030915511772036552,0.03648906573653221,0.02078508585691452,0.036699384450912476,-0.07973340153694153,-0.004077502992004156,-0.02482425794005394,-0.026905685663223267,-0.009242984466254711,0.005741008557379246,0.038269706070423126,0.06629671156406403,0.05444396287202835,-0.021948449313640594,0.02220521681010723,0.016788765788078308,-0.023232469335198402,-0.019393296912312508,0.015937156975269318,0.046379152685403824,0.03842424973845482,0.031100697815418243,0.04364509508013725,0.10633695125579834,-0.026553113013505936,0.05453689023852348,0.04321539029479027,-0.021326908841729164,-0.0008806390687823296,-0.014861874282360077,-0.013251306489109993,-0.03865713253617287,-0.03940424695611,0.032848626375198364,0.008487728424370289,-0.012651045806705952,0.054752081632614136,0.014031190425157547,0.04843008145689964,-0.0241868793964386,-0.036223869770765305,0.008904242888092995,-0.036388203501701355,-0.018157880753278732,-0.0024477823171764612,0.057596076279878616,0.0013454502914100885,-0.013057442381978035,-0.030912691727280617,-0.0017102460842579603,0.014977168291807175,0.005480992142111063,0.0639004185795784,-0.023542620241642,0.018023118376731873,0.030386829748749733,0.012704427354037762,0.03741521015763283,0.03409193456172943,-0.004990709945559502,0.013516027480363846,0.04842047393321991,-0.018606998026371002,0.04420432820916176,-0.024234004318714142,-0.04917605593800545,-0.01834530010819435,-0.041147731244564056,0.006367367226630449,0.031068293377757072,-0.023217124864459038,0.0003283626865595579,0.041576504707336426,-0.05675612762570381,0.021366694942116737,-0.02620188519358635,0.012156647630035877,-0.02088160067796707,0.0022934554144740105,-0.01542313490062952,-0.019847793504595757,0.017469914630055428,-0.01986098289489746,0.09026182442903519,-0.03808651491999626,0.08568383753299713,-0.017117129638791084,-0.004951957147568464,-0.03219417482614517,0.018727587535977364,0.00791346374899149,0.09850604832172394,0.010354449041187763,0.024190180003643036,0.03857327625155449,0.06060154363512993,-0.01196219865232706,0.011768760159611702,0.038674212992191315,0.00693676620721817,-0.0017713455017656088,0.014666534028947353,-0.000649469206109643,0.009323246777057648,-0.007738251239061356,0.060603588819503784,0.01622716523706913,-0.005254602525383234,-0.009921170771121979,0.001395310158841312,-0.0553676001727581,0.0016205321298912168,-0.07987640053033829,-0.00407227361574769,-0.06686916947364807,0.022692866623401642,0.011410270817577839,-0.011979401111602783,0.010264632292091846,0.033619124442338943,-0.01467965915799141,-0.025023361667990685,-0.040728237479925156,-0.029825937002897263,0.01677633821964264,-0.022112028673291206,0.004905051086097956,0.00024295650655403733,-0.015522944740951061,0.01809413731098175,0.01997128129005432,-0.023051608353853226,0.019293783232569695,-0.04199821501970291,-0.0463189072906971,0.026405105367302895,0.07194428890943527,0.02630261518061161,-0.0003135192673653364,-0.020545799285173416,0.001735521131195128,-0.007516446989029646,-0.01789797842502594,-0.02799351140856743,-0.010600167326629162,-0.02191777341067791,0.09005007147789001,0.006393626797944307,0.02730136550962925,0.021667921915650368,-0.02287299744784832,0.01766021177172661,0.010426126420497894,0.02429938316345215,0.006825991906225681,-0.020147031173110008,-0.013281634077429771,0.014609048143029213,0.02304137870669365,0.023346930742263794,-0.0012248901184648275,-0.03408277407288551,0.008886145427823067,0.04663757234811783,0.00888897106051445,0.024721505120396614,0.048999637365341187,-0.015209505334496498,0.09047111123800278,-0.00332660716958344,0.07008855789899826,-0.04053286463022232,0.0007775814738124609,0.005845966283231974,-0.005974391475319862,0.009380398318171501,0.011310077272355556,-0.03667760267853737,0.017240528017282486,-0.03060481883585453,-0.003945409785956144,-0.03699493780732155,-0.00988449901342392,-0.00039608890074305236,0.009431646205484867,0.01933692768216133,-0.0033824779093265533,-0.0009657922200858593,-0.03153638169169426,-0.014712031930685043,0.04216961935162544,0.00037479348247870803,0.019153567031025887,0.04832880571484566,-0.026977235451340675,0.03370143473148346,0.04447830468416214,-0.015181833878159523,-0.036197979003190994,-0.068693146109581,-0.04142789915204048,0.015893276780843735,-0.012871767394244671,-0.01718015782535076,0.016037624329328537,0.0637444257736206,0.00674561969935894,-0.0028155173640698195,0.025420457124710083,-0.008387339301407337,0.08710019290447235,-0.056151214987039566,-0.015486589632928371,-0.049119263887405396,-0.014199364930391312,0.002818306442350149,0.008277441374957561,0.023185579106211662,-0.041127003729343414,0.00874384306371212,-0.017325781285762787,-0.029969772323966026,0.03575965389609337,-0.046052347868680954,-0.01812392845749855,0.013085042126476765,0.013677861541509628,0.002631313866004348,0.06527315080165863,0.012126198038458824,-0.015131342224776745,0.009412387385964394,-0.01799771748483181,0.04775672405958176,-0.02743721753358841,-0.016045544296503067,0.05141324922442436,0.005377624649554491,-0.022042255848646164,0.02486812137067318,0.0070303394459187984,-0.06442975252866745,0.01986307092010975,0.02131487801671028,-0.03311773017048836,0.03315087780356407,0.010814188048243523,0.031823284924030304,-0.04755670949816704,-0.004531661048531532,0.01821928657591343,-0.03079507127404213,0.001125754090026021,-0.02812325395643711,-0.0151326609775424,-0.03360031545162201,0.013321652077138424,-0.008017201907932758,-0.0534847117960453,0.016434255987405777,0.008568789809942245,0.0033299557399004698,-0.03695651888847351,-0.014493012800812721,-0.03517209738492966,-0.011225050315260887,0.06700283288955688,0.00926138088107109,0.04900672659277916,-0.12132182717323303,0.0163051038980484,0.025187477469444275,-0.034369032829999924,0.004034675192087889,-0.03436044603586197,-0.006803987547755241,0.005201517604291439,-0.03804941475391388,-0.021446766331791878,0.0995061993598938,0.05056193843483925,-0.001674165134318173,-0.0548865869641304,0.010531401261687279,-0.06760742515325546,-0.0440233014523983,-0.02445739321410656,-0.009252984076738358,0.03394535928964615,-0.03176291286945343,0.05741465836763382,0.05940490961074829,0.010693580843508244,0.03182816132903099,-0.05123531073331833,0.00649381335824728,0.020116429775953293,0.0006948021473363042,-0.041522327810525894,0.01495356298983097,0.01224476844072342,0.03086257539689541,-0.04871564358472824,0.035799525678157806,0.03159967437386513,-0.030038371682167053,0.02737434022128582,-0.014316745102405548,0.004863587208092213,-0.03626521676778793,0.07510190457105637,-0.022413449361920357,0.0029693765100091696,-0.015833476558327675,-0.01973903179168701,0.04316592589020729,0.04079922288656235,0.012299460358917713,-0.02019224315881729,-0.0270554032176733,-0.026854833588004112,0.05120651796460152,0.05005963519215584,0.01730404421687126,0.004132906906306744,0.013547660782933235,-0.06768597662448883,0.001845486112870276,0.002168242819607258,-0.02509709820151329,-0.017722005024552345,-0.07594031095504761,-0.003172650234773755,-0.04123774170875549,-0.007033816073089838,0.02773883566260338,0.004943809472024441,-0.12120725214481354,-0.07688139379024506,0.01970861293375492,-0.012219546362757683,-7.420643105455674e-33,-0.051636792719364166,0.0027605504728853703,-0.037223003804683685,-0.05234409123659134,-0.033428966999053955,-0.062413688749074936,0.0249236561357975,-0.03762201592326164,-0.03485344722867012,-0.04531285911798477,-0.010872969403862953,0.010139530524611473,-0.005452901590615511,-0.01586800068616867,-0.009171315468847752,0.020455243065953255,0.027510758489370346,0.01622888818383217,0.010912328958511353,0.01887403428554535,-0.011195197701454163,0.02128453738987446,-0.040777720510959625,-0.04235934466123581,-0.043998006731271744,0.05612124875187874,0.016890471801161766,0.023008424788713455,-0.09242099523544312,0.03663534298539162,0.008559520356357098,-0.04144560918211937,-0.03450247272849083,0.01392500288784504,-0.03131973743438721,-0.023022882640361786,-0.015420669689774513,-0.028725218027830124,0.02090860903263092,-0.006414015777409077,0.0943257063627243,0.004012241959571838,0.02886531502008438,0.019407834857702255,-0.01856693997979164,-0.023990079760551453,0.028473131358623505,0.005818803329020739,-0.017908304929733276,0.0258930753916502,0.03665591776371002,0.0022780681028962135,-0.014733020216226578,0.04314712807536125,0.026006415486335754,0.05464676395058632,0.03160819411277771,0.03620447963476181,-0.017897365614771843,-0.013366665691137314,0.022753793746232986,-0.011116622015833855,0.019173095002770424,0.06255040317773819,0.05858254432678223,-0.02278580516576767,0.046590667217969894,0.0184792373329401,-0.0399891696870327,-0.023861682042479515,0.003202154068276286,0.028148384764790535,0.019324954599142075,-0.09456023573875427,-0.03595916926860809,-0.0006065730703994632,0.007266511209309101,0.002520332345739007,-0.0428883321583271,0.06444201618432999,-0.015330931171774864,-6.548929718519503e-7,0.000513405364472419,0.0009828299516811967,0.02965005673468113,-0.04624498263001442,-0.01345305796712637,-0.01630064845085144,-0.008429092355072498,0.012117567472159863,-0.02476164698600769,-0.0078032370656728745,-0.050463203340768814,-0.0010037767933681607,-0.039402883499860764,-0.030989112332463264,0.04219341650605202,-0.0003732030454557389,-0.0005016506765969098,-0.010403512977063656,0.016301486641168594,0.033060263842344284,-0.026782849803566933,0.03427496179938316,-0.004065601155161858,-0.00450741034001112,0.033050987869501114,-0.004869161639362574,-0.07135406881570816,0.01316092349588871,0.004178351256996393,0.03677970543503761,-0.037367258220911026,-0.009908599779009819,-0.0006525164935737848,0.010216282680630684,0.0035244531463831663,0.022919688373804092,0.011279664002358913,0.006782244425266981,-0.018250713124871254,-0.02905656397342682,-0.03010367415845394,0.005042563658207655,0.03256407007575035,-0.021064911037683487,-0.06599017232656479,0.004148231819272041,0.0662718117237091,0.006375946570187807,0.0008935617515817285,-0.010525934398174286,3.251105624713091e-7,-0.01646885648369789,0.023847274482250214,-0.056089285761117935,0.02398703061044216,0.019679434597492218,-0.0033457623794674873,-0.053782109171152115,-0.04876704886555672,0.0018299816874787211,-0.030873121693730354,0.01831953227519989,-0.02454419434070587,0.05609004199504852,0.035032693296670914,0.02110043168067932,-0.007853642106056213,-0.031301531940698624,-0.016370316967368126,-0.06330057978630066,0.0026617851108312607,0.0328231006860733,0.008970007300376892,0.029613172635436058,0.02782471291720867,0.03538059815764427,0.004203096032142639,-0.018619490787386894,-0.016893336549401283,0.00033872455242089927,-0.026417527347803116,0.03755531087517738,0.03226480260491371,-0.012755289673805237,-0.009248482063412666,-0.004469028674066067,0.009181918576359749,-0.056758813560009,-0.0016631638864055276,-0.0069347466342151165,0.053380995988845825,0.05506245419383049,-0.016490288078784943,-0.0462791807949543,-0.014866679906845093,0.030326049774885178,-0.034155867993831635,0.01187326293438673,0.005519705358892679,-0.01853923499584198,0.010025391355156898,-0.0006331689655780792,0.01423458568751812,0.01488331239670515,-0.03309979662299156,0.01796761527657509,-0.005396619439125061,-0.01635073497891426,0.07686322182416916,0.0034318622201681137,0.024422619491815567,0.0019200562965124846,-0.05881465971469879,-0.01687180995941162,0.07509221136569977,0.025913188233971596,0.00026270258240401745,-0.04635009542107582,4.892551669851329e-34,0.03333844617009163,-0.016410304233431816,0.02483636513352394,0.04601101949810982,0.03537432849407196,-0.02100287564098835,0.005034778267145157,0.005928983446210623,0.011912759393453598,-0.08319055289030075,-0.004226184915751219]'
SET
  @HasCustomProps_aeb8b9e3 = 0
SET
  @HasCustomEvents_aeb8b9e3 = 0
SET
  @RequiresData_aeb8b9e3 = 1
SET
  @DependencyCount_aeb8b9e3 = 4
SET
  @TechnicalDesignVectorEmbeddingModelID_aeb8b9e3 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_aeb8b9e3 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @ID_aeb8b9e3 = 'E7A334EA-53FD-40E4-A255-1DDA891D86B7'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_aeb8b9e3,
  @Name = @Name_aeb8b9e3,
  @Version = @Version_aeb8b9e3,
  @VersionSequence = @VersionSequence_aeb8b9e3,
  @Title = @Title_aeb8b9e3,
  @Description = @Description_aeb8b9e3,
  @Type = @Type_aeb8b9e3,
  @Status = @Status_aeb8b9e3,
  @DeveloperName = @DeveloperName_aeb8b9e3,
  @DeveloperEmail = @DeveloperEmail_aeb8b9e3,
  @DeveloperOrganization = @DeveloperOrganization_aeb8b9e3,
  @SourceRegistryID = @SourceRegistryID_aeb8b9e3,
  @ReplicatedAt = @ReplicatedAt_aeb8b9e3,
  @LastSyncedAt = @LastSyncedAt_aeb8b9e3,
  @Specification = @Specification_aeb8b9e3,
  @FunctionalRequirements = @FunctionalRequirements_aeb8b9e3,
  @TechnicalDesign = @TechnicalDesign_aeb8b9e3,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_aeb8b9e3,
  @TechnicalDesignVector = @TechnicalDesignVector_aeb8b9e3,
  @HasCustomProps = @HasCustomProps_aeb8b9e3,
  @HasCustomEvents = @HasCustomEvents_aeb8b9e3,
  @RequiresData = @RequiresData_aeb8b9e3,
  @DependencyCount = @DependencyCount_aeb8b9e3,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_aeb8b9e3,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_aeb8b9e3,
  @ID = @ID_aeb8b9e3;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_072918a6 NVARCHAR(MAX),
@Name_072918a6 NVARCHAR(500),
@Version_072918a6 NVARCHAR(50),
@VersionSequence_072918a6 INT,
@Title_072918a6 NVARCHAR(1000),
@Description_072918a6 NVARCHAR(MAX),
@Type_072918a6 NVARCHAR(255),
@Status_072918a6 NVARCHAR(50),
@DeveloperName_072918a6 NVARCHAR(255),
@DeveloperEmail_072918a6 NVARCHAR(255),
@DeveloperOrganization_072918a6 NVARCHAR(255),
@SourceRegistryID_072918a6 UNIQUEIDENTIFIER,
@ReplicatedAt_072918a6 DATETIMEOFFSET,
@LastSyncedAt_072918a6 DATETIMEOFFSET,
@Specification_072918a6 NVARCHAR(MAX),
@FunctionalRequirements_072918a6 NVARCHAR(MAX),
@TechnicalDesign_072918a6 NVARCHAR(MAX),
@FunctionalRequirementsVector_072918a6 NVARCHAR(MAX),
@TechnicalDesignVector_072918a6 NVARCHAR(MAX),
@HasCustomProps_072918a6 BIT,
@HasCustomEvents_072918a6 BIT,
@RequiresData_072918a6 BIT,
@DependencyCount_072918a6 INT,
@TechnicalDesignVectorEmbeddingModelID_072918a6 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_072918a6 NVARCHAR(MAX),
@ID_072918a6 UNIQUEIDENTIFIER
SET
  @Namespace_072918a6 = N'AI'
SET
  @Name_072918a6 = N'AIModelList'
SET
  @Version_072918a6 = N'1.0.0'
SET
  @VersionSequence_072918a6 = 1
SET
  @Title_072918a6 = N'AI Model List'
SET
  @Description_072918a6 = N'Displays AI models in grid or list view with vendor information and sorting'
SET
  @Type_072918a6 = N'Other'
SET
  @Status_072918a6 = N'Published'
SET
  @Specification_072918a6 = N'{
  "name": "AIModelList",
  "title": "AI Model List",
  "description": "Displays AI models in grid or list view with vendor information and sorting",
  "type": "table",
  "functionalRequirements": "Display models with vendor counts, support grid and list views, handle sorting and selection",
  "dataRequirements": null,
  "technicalDesign": "",
  "properties": [
    {"name": "models", "type": "array", "required": true, "description": "Array of AI model objects to display"},
    {"name": "modelVendors", "type": "array", "required": true, "description": "Array of model vendor associations"},
    {"name": "viewMode", "type": "string", "required": true, "description": "Display mode - ''grid'' or ''list''"},
    {"name": "selectedModelId", "type": "string", "required": false, "description": "ID of the currently selected model"},
    {"name": "sortBy", "type": "string", "required": false, "description": "Field to sort by"},
    {"name": "sortDirection", "type": "string", "required": false, "description": "Sort direction - ''asc'' or ''desc''"}
  ],
  "events": [
    {"name": "onSelectModel", "description": "Fired when a model is selected", "parameters": [{"name": "modelId", "type": "string", "description": "ID of the selected model"}]},
    {"name": "onSortChange", "description": "Fired when sort criteria changes", "parameters": [{"name": "sortBy", "type": "string", "description": "Field to sort by"}, {"name": "sortDirection", "type": "string", "description": "Sort direction"}]}
  ],
  "exampleUsage": "<AIModelList ... />",
  "code": "function AIModelList({ \n  models, \n  modelVendors,\n  viewMode, \n  selectedModelId, \n  onSelectModel, \n  sortBy, \n  sortDirection, \n  onSortChange,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Get vendor info for a model\n  const getModelVendorInfo = useCallback((modelId) => {\n    const vendors = modelVendors.filter(v => v.ModelID === modelId);\n    const inferenceProviders = vendors.filter(v => v.Type === ''Inference Provider'');\n    const modelDeveloper = vendors.find(v => v.Type === ''Model Developer'');\n    \n    return {\n      inferenceProviders,\n      modelDeveloper,\n      vendorCount: vendors.length\n    };\n  }, [modelVendors]);\n  \n  // Handle sort column click\n  const handleSort = useCallback((field) => {\n    if (sortBy === field) {\n      onSortChange?.(field, sortDirection === ''asc'' ? ''desc'' : ''asc'');\n    } else {\n      onSortChange?.(field, ''asc'');\n    }\n  }, [sortBy, sortDirection, onSortChange]);\n  \n  // Render sort indicator\n  const renderSortIndicator = (field) => {\n    if (sortBy !== field) return null;\n    \n    return (\n      <span style={{\n        marginLeft: styles.spacing.xs,\n        fontSize: styles.typography.fontSize.sm\n      }}>\n        {sortDirection === ''asc'' ? ''\u25b2'' : ''\u25bc''}\n      </span>\n    );\n  };\n  \n  // Render status badge\n  const renderStatusBadge = (status) => {\n    const statusColors = {\n      ''Active'': styles.colors.success || styles.colors.primary,\n      ''Inactive'': styles.colors.warning || styles.colors.secondary,\n      ''Deprecated'': styles.colors.error || styles.colors.secondary,\n      ''Preview'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = statusColors[status] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {status}\n      </span>\n    );\n  };\n  \n  // Render cost rank\n  const renderCostRank = (rank) => {\n    if (rank == null) return ''-'';\n    \n    const maxStars = 5;\n    const filledStars = Math.min(rank, maxStars);\n    \n    return (\n      <span style={{\n        color: styles.colors.warning || styles.colors.secondary,\n        fontSize: styles.typography.fontSize.sm\n      }}>\n        {''$''.repeat(filledStars)}\n        <span style={{ opacity: 0.3 }}>\n          {''$''.repeat(maxStars - filledStars)}\n        </span>\n      </span>\n    );\n  };\n  \n  // Format token limit\n  const formatTokens = (tokens) => {\n    if (!tokens) return ''-'';\n    if (tokens >= 1000000) return `$' + '{(tokens / 1000000).toFixed(1)}M`;\n    if (tokens >= 1000) return `$' + '{(tokens / 1000).toFixed(0)}K`;\n    return tokens.toString();\n  };\n  \n  // Grid view rendering\n  const renderGridView = () => (\n    <div style={{\n      display: ''grid'',\n      gridTemplateColumns: ''repeat(auto-fill, minmax(320px, 1fr))'',\n      gap: styles.spacing.lg\n    }}>\n      {models.map((model) => {\n        const vendorInfo = getModelVendorInfo(model.ID);\n        const isSelected = model.ID === selectedModelId;\n        \n        return (\n          <div\n            key={model.ID}\n            onClick={() => onSelectModel?.(model.ID)}\n            style={{\n              backgroundColor: styles.colors.surface,\n              borderRadius: getBorderRadius(''md''),\n              padding: styles.spacing.lg,\n              cursor: ''pointer'',\n              transition: ''all 0.2s'',\n              border: isSelected \n                ? `2px solid $' + '{styles.colors.primary}`\n                : `1px solid $' + '{styles.colors.border}`,\n              boxShadow: isSelected \n                ? `0 4px 12px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}`\n                : ''none''\n            }}\n            onMouseEnter={(e) => {\n              if (!isSelected) {\n                e.currentTarget.style.borderColor = styles.colors.primary;\n                e.currentTarget.style.boxShadow = `0 2px 8px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.05)''}`;\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (!isSelected) {\n                e.currentTarget.style.borderColor = styles.colors.border;\n                e.currentTarget.style.boxShadow = ''none'';\n              }\n            }}\n          >\n            {/* Model Header */}\n            <div style={{\n              display: ''flex'',\n              justifyContent: ''space-between'',\n              alignItems: ''flex-start'',\n              marginBottom: styles.spacing.md\n            }}>\n              <div style={{ flex: 1 }}>\n                <h3 style={{\n                  margin: 0,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  {model.Name}\n                </h3>\n                {model.APIName && (\n                  <div style={{\n                    fontSize: styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    fontFamily: ''monospace''\n                  }}>\n                    {model.APIName}\n                  </div>\n                )}\n              </div>\n              {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n            </div>\n            \n            {/* Model Description */}\n            {model.Description && (\n              <div style={{\n                fontSize: styles.typography.fontSize.sm,\n                color: styles.colors.textSecondary,\n                marginBottom: styles.spacing.md,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                display: ''-webkit-box'',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: ''vertical''\n              }}>\n                {model.Description}\n              </div>\n            )}\n            \n            {/* Model Specs */}\n            <div style={{\n              display: ''grid'',\n              gridTemplateColumns: ''repeat(2, 1fr)'',\n              gap: styles.spacing.sm,\n              marginBottom: styles.spacing.md\n            }}>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Input Token Limit\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                  color: styles.colors.text\n                }}>\n                  {formatTokens(model.InputTokenLimit)}\n                </div>\n              </div>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Cost Rank\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  fontWeight: styles.typography.fontWeight?.medium || ''500''\n                }}>\n                  {renderCostRank(model.CostRank)}\n                </div>\n              </div>\n            </div>\n            \n            {/* Vendor Info */}\n            <div style={{\n              paddingTop: styles.spacing.md,\n              borderTop: `1px solid $' + '{styles.colors.border}`,\n              display: ''flex'',\n              gap: styles.spacing.md,\n              fontSize: styles.typography.fontSize.sm\n            }}>\n              {vendorInfo.modelDeveloper && (\n                <div style={{\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  gap: styles.spacing.xs\n                }}>\n                  <span style={{ color: styles.colors.textSecondary }}>Dev:</span>\n                  <span style={{ \n                    color: styles.colors.text,\n                    fontWeight: styles.typography.fontWeight?.medium || ''500''\n                  }}>\n                    {vendorInfo.modelDeveloper.Vendor}\n                  </span>\n                </div>\n              )}\n              {vendorInfo.inferenceProviders.length > 0 && (\n                <div style={{\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  gap: styles.spacing.xs\n                }}>\n                  <span style={{ color: styles.colors.textSecondary }}>Providers:</span>\n                  <span style={{ \n                    color: styles.colors.primary,\n                    fontWeight: styles.typography.fontWeight?.medium || ''500''\n                  }}>\n                    {vendorInfo.inferenceProviders.length}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n  \n  // List view rendering\n  const renderListView = () => (\n    <div style={{\n      backgroundColor: styles.colors.surface,\n      borderRadius: getBorderRadius(''md''),\n      overflow: ''hidden''\n    }}>\n      <table style={{\n        width: ''100%'',\n        borderCollapse: ''collapse''\n      }}>\n        <thead>\n          <tr style={{\n            borderBottom: `2px solid $' + '{styles.colors.border}`\n          }}>\n            <th\n              onClick={() => handleSort(''Name'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Model Name\n              {renderSortIndicator(''Name'')}\n            </th>\n            <th\n              onClick={() => handleSort(''Status'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Status\n              {renderSortIndicator(''Status'')}\n            </th>\n            <th\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary\n              }}\n            >\n              Developer\n            </th>\n            <th\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''left'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary\n              }}\n            >\n              Providers\n            </th>\n            <th\n              onClick={() => handleSort(''InputTokenLimit'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''right'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Input Limit\n              {renderSortIndicator(''InputTokenLimit'')}\n            </th>\n            <th\n              onClick={() => handleSort(''CostRank'')}\n              style={{\n                padding: styles.spacing.md,\n                textAlign: ''center'',\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                color: styles.colors.textSecondary,\n                cursor: ''pointer'',\n                userSelect: ''none''\n              }}\n            >\n              Cost\n              {renderSortIndicator(''CostRank'')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {models.map((model, index) => {\n            const vendorInfo = getModelVendorInfo(model.ID);\n            const isSelected = model.ID === selectedModelId;\n            \n            return (\n              <tr\n                key={model.ID}\n                onClick={() => onSelectModel?.(model.ID)}\n                style={{\n                  borderBottom: index < models.length - 1 \n                    ? `1px solid $' + '{styles.colors.borderLight || styles.colors.border}` \n                    : ''none'',\n                  backgroundColor: isSelected \n                    ? styles.colors.primaryLight || styles.colors.primary + ''10''\n                    : ''transparent'',\n                  cursor: ''pointer'',\n                  transition: ''background-color 0.2s''\n                }}\n                onMouseEnter={(e) => {\n                  if (!isSelected) {\n                    e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (!isSelected) {\n                    e.currentTarget.style.backgroundColor = ''transparent'';\n                  }\n                }}\n              >\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md\n                }}>\n                  <div>\n                    <div style={{\n                      fontWeight: isSelected \n                        ? (styles.typography.fontWeight?.semibold || ''600'')\n                        : (styles.typography.fontWeight?.regular || ''400''),\n                      color: styles.colors.text\n                    }}>\n                      {model.Name}\n                    </div>\n                    {model.APIName && (\n                      <div style={{\n                        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                        color: styles.colors.textSecondary,\n                        fontFamily: ''monospace''\n                      }}>\n                        {model.APIName}\n                      </div>\n                    )}\n                  </div>\n                </td>\n                <td style={{\n                  padding: styles.spacing.md\n                }}>\n                  {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text\n                }}>\n                  {vendorInfo.modelDeveloper?.Vendor || ''-''}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.md\n                }}>\n                  {vendorInfo.inferenceProviders.length > 0 ? (\n                    <div style={{\n                      display: ''flex'',\n                      gap: styles.spacing.xs,\n                      flexWrap: ''wrap''\n                    }}>\n                      {vendorInfo.inferenceProviders.slice(0, 3).map((provider, idx) => (\n                        <span\n                          key={idx}\n                          style={{\n                            padding: `2px $' + '{styles.spacing.xs}`,\n                            backgroundColor: styles.colors.primary + ''15'',\n                            color: styles.colors.primary,\n                            borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                            fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                          }}\n                        >\n                          {provider.Vendor}\n                        </span>\n                      ))}\n                      {vendorInfo.inferenceProviders.length > 3 && (\n                        <span style={{\n                          color: styles.colors.textSecondary,\n                          fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                        }}>\n                          +{vendorInfo.inferenceProviders.length - 3}\n                        </span>\n                      )}\n                    </div>\n                  ) : (\n                    <span style={{ color: styles.colors.textSecondary }}>-</span>\n                  )}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  textAlign: ''right'',\n                  fontSize: styles.typography.fontSize.md,\n                  color: styles.colors.text\n                }}>\n                  {formatTokens(model.InputTokenLimit)}\n                </td>\n                <td style={{\n                  padding: styles.spacing.md,\n                  textAlign: ''center''\n                }}>\n                  {renderCostRank(model.CostRank)}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n  \n  return viewMode === ''grid'' ? renderGridView() : renderListView();\n}",
  "dependencies": [],
  "libraries": []
}'
SET
  @FunctionalRequirements_072918a6 = N'Display models with vendor counts, support grid and list views, handle sorting and selection.'
SET
  @TechnicalDesign_072918a6 = N''
SET
  @FunctionalRequirementsVector_072918a6 = N'[0.004819558002054691,0.038254957646131516,-0.014198723249137402,-0.023682551458477974,0.04074212536215782,0.017795579507946968,0.05611666291952133,0.010683034546673298,0.039796385914087296,-0.04898315295577049,-0.03152022883296013,-0.0065228380262851715,-0.0006406992906704545,0.10698121786117554,0.0113868722692132,-0.08486556261777878,-0.013417488895356655,0.009710729122161865,-0.014259402640163898,-0.002459269016981125,-0.00028425222262740135,-0.004070803057402372,0.003802067367359996,-0.05160834640264511,0.03634024038910866,-0.01926627941429615,-0.042414505034685135,0.03483400121331215,0.009738896042108536,-0.03301488608121872,-0.03508162871003151,0.00791480764746666,0.005712355952709913,-0.01507554017007351,0.000001645384600124089,-0.007102804258465767,-0.09401721507310867,0.03459087014198303,-0.04425643011927605,0.056110359728336334,0.07822726666927338,0.0043553817085921764,0.040257081389427185,0.005112980492413044,-0.011994468048214912,-0.0063072857446968555,-0.02563011460006237,0.087516188621521,-0.00882294774055481,-0.001619246555492282,0.017290478572249413,-0.00830978062003851,0.012356748804450035,-0.007691994309425354,-0.05737324431538582,0.0008017689106054604,-0.011904614046216011,0.02459348738193512,0.08845917880535126,0.027884963899850845,-0.0207451693713665,0.00497110839933157,-0.020057307556271553,-0.01677718758583069,0.03518204391002655,0.05212443694472313,0.0735141858458519,-0.05261124670505524,-0.008657409809529781,-0.018617648631334305,0.03882797434926033,-0.00867157056927681,0.035449739545583725,-0.018905034288764,-0.031769365072250366,0.016107091680169106,-0.031616050750017166,0.029274610802531242,0.00886981375515461,0.01607903093099594,-0.008229894563555717,-0.011617084965109825,-0.015652673318982124,-0.01979604735970497,0.019287345930933952,-0.0043151103891432285,0.030413828790187836,-0.027360528707504272,-0.06760562211275101,-0.007332970388233662,-0.0039218696765601635,-0.045962631702423096,0.024636780843138695,0.02379344031214714,-0.0807081013917923,-0.014174736104905605,0.02940584160387516,0.007996740750968456,0.01784326881170273,-0.03453352302312851,0.007711261510848999,0.006718751974403858,0.02683507837355137,0.007640102878212929,0.010968184098601341,0.009722881019115448,-0.0654519572854042,0.02856292389333248,-0.043798670172691345,0.007465418893843889,0.01876668632030487,-0.01063085999339819,-0.008953149430453777,0.03352852910757065,-0.038221389055252075,-0.012199945747852325,-0.019134070724248886,-0.00740561680868268,0.008372962474822998,0.008046082220971584,0.060099098831415176,0.004731564316898584,0.016224263235926628,-0.007218761369585991,-0.011920109391212463,-0.011677482165396214,-0.010622802190482616,-0.03350338712334633,-0.007795526180416346,-0.024195678532123566,-0.0006662982050329447,-0.04051411151885986,0.03737276792526245,-0.013261135667562485,-0.01683969236910343,-0.04149501398205757,0.03366610035300255,0.06466088443994522,-0.06628741323947906,0.024437539279460907,0.002705679042264819,-0.01098250038921833,-0.03518228605389595,0.0440923348069191,-0.007936274632811546,-0.016616299748420715,-0.007166104856878519,0.004300996195524931,-0.014612488448619843,-0.01601771079003811,-0.005213416647166014,-0.0459754541516304,-0.005549094174057245,-0.0013167198048904538,0.05075429379940033,0.015360740013420582,0.09029284119606018,-0.01487206295132637,0.01567736268043518,-0.0023669397924095392,0.028993694111704826,0.017524154856801033,0.09953062236309052,-0.033418361097574234,-0.010456056334078312,-0.00501275435090065,-0.06783928722143173,0.0681152418255806,-0.0029804715886712074,-0.025324948132038116,-0.011503005400300026,-0.004554749932140112,-0.022934282198548317,0.020468343049287796,0.04877513647079468,-0.03247588127851486,-0.01036795973777771,-0.017548302188515663,-0.011134090833365917,-0.015584709122776985,0.06047922000288963,-0.025590218603610992,0.017173072323203087,0.04556923359632492,0.046351008117198944,-0.06662213057279587,-0.06249118596315384,-0.0011165449395775795,-0.011863909661769867,0.02305193990468979,0.0021662430372089148,0.012671788223087788,-0.05749217048287392,0.03696245327591896,0.0030322507955133915,0.04900415986776352,0.001011973014101386,-0.03347805142402649,-0.0020632578525692225,-0.0474727563560009,-0.0661511942744255,-0.009381086565554142,0.03132741525769234,0.057457346469163895,0.017628945410251617,-0.019447727128863335,-0.05204230174422264,0.027745531871914864,-0.02964259311556816,0.005723320879042149,0.11352705955505371,-0.02738879807293415,-0.008280034177005291,0.0344720333814621,-0.019969340413808823,0.03713201731443405,0.01451820507645607,0.039415013045072556,-0.04778521880507469,-0.0348426029086113,-0.034656427800655365,-0.06547467410564423,-0.051457930356264114,0.009509454481303692,0.0686827152967453,0.034071553498506546,-0.018655551597476006,0.014124847948551178,-0.018881086260080338,0.020980030298233032,-0.01049447525292635,-0.023697374388575554,0.07357655465602875,0.040470805019140244,0.03539978712797165,-0.018553270027041435,0.04811739921569824,0.06946155428886414,-0.03605586290359497,0.120338074862957,-0.005450548604130745,-0.017510879784822464,-0.00891175027936697,-0.02721881866455078,0.003857922274619341,0.013690327294170856,-0.020406899973750114,0.008237801492214203,0.024017998948693275,-0.0077628339640796185,0.010282782837748528,0.004659436177462339,0.09067642688751221,0.03251395747065544,0.021310953423380852,0.030186310410499573,-0.0590355359017849,-0.0009752796613611281,-0.05322977900505066,0.007998952642083168,0.012838155031204224,0.006286391522735357,0.00940366555005312,-0.023395776748657227,-0.02451263554394245,0.005002919118851423,0.06719012558460236,-0.1041615754365921,0.006174867041409016,0.03472434729337692,-0.015104822814464569,0.02733275294303894,0.06105882301926613,-0.008429017849266529,-0.012658934108912945,0.012774196453392506,-0.00976118165999651,0.03349756449460983,-0.02048305794596672,-0.017597481608390808,0.011206467635929585,-0.03098517842590809,-0.0028675375506281853,0.03972394019365311,-0.005385582335293293,-0.009602869860827923,0.04453282058238983,-0.015270281583070755,0.029144154861569405,-0.03269650787115097,-0.022903727367520332,0.02173554338514805,0.027442567050457,0.011016345582902431,-0.02225428819656372,0.010069889016449451,-0.022540904581546783,0.08254748582839966,-0.0566667802631855,0.08597622811794281,-0.014610915444791317,0.015707358717918396,-0.005679353140294552,0.009486806578934193,0.007365379948168993,0.04529620707035065,0.05246979743242264,0.01775495894253254,0.00016169394075404853,0.024595346301794052,-0.008673625066876411,0.017514003440737724,0.05972260236740112,0.011529263108968735,0.030862709507346153,0.013571963645517826,0.04044201970100403,0.022864293307065964,-0.036990825086832047,0.10319223999977112,-0.0247481856495142,0.0021996640134602785,-0.0186770036816597,-0.026609301567077637,-0.03699382767081261,0.010149621404707432,-0.03209598734974861,-0.001991139492020011,-0.049603741616010666,0.04344211518764496,0.01471785455942154,-0.07912012189626694,0.014468803070485592,-0.008861163631081581,-0.017255721613764763,0.016645587980747223,-0.025090636685490608,-0.01549913827329874,-0.03813428059220314,-0.0317595973610878,-0.043920788913965225,0.007850399240851402,-0.03180178999900818,-0.0012306257849559188,0.03977249935269356,-0.0012997847516089678,-0.0006733995978720486,0.03919358178973198,-0.06304438412189484,0.014578623697161674,0.0554451085627079,0.04258272051811218,-0.002770953346043825,0.0033201302867382765,0.015076864510774612,0.032618243247270584,-0.04992593079805374,-0.00573424156755209,-0.030337315052747726,-0.020765649154782295,0.0004772283136844635,0.0022778043057769537,0.008234299719333649,0.01164476852864027,-0.010150534100830555,-0.0026547443121671677,0.006429796107113361,-0.00302865426056087,0.011423643678426743,-0.02844827063381672,-0.020298141986131668,0.004539415240287781,0.03990033641457558,0.03023098222911358,0.0053470442071557045,-0.021588778123259544,-0.0030840847175568342,0.05707801133394241,-0.018589427694678307,0.02212347649037838,0.07554493099451065,0.008446678519248962,0.10436657816171646,-0.01886233687400818,0.04503696784377098,-0.0037621627561748028,-0.024216121062636375,-0.029716787859797478,-0.013963607139885426,0.006070342846214771,-0.0238808561116457,-0.01935144141316414,0.022425208240747452,-0.043275270611047745,0.01734708994626999,-0.03223971277475357,-0.06028672307729721,0.06333030760288239,-0.013534252531826496,0.03448357433080673,0.012046996504068375,0.06372319161891937,0.011513863690197468,-0.042857009917497635,0.017647001892328262,-0.06054599955677986,0.05797545984387398,0.06189100816845894,-0.003144322894513607,0.0034918084274977446,-0.05343666300177574,0.023412901908159256,-0.0732589140534401,-0.06546202301979065,0.038361016660928726,0.010425659827888012,-0.006902673281729221,0.0234038308262825,-0.045723218470811844,0.0621720589697361,0.03675531595945358,-0.03197391703724861,0.011692194268107414,-0.01263068150728941,0.022302642464637756,0.007292233407497406,-0.0642922893166542,-0.0007232121424749494,-0.03886139765381813,0.0284141693264246,0.014866812154650688,0.012003693729639053,-0.02880183607339859,0.01202315278351307,0.013292812742292881,-0.01855108141899109,-0.002099604345858097,-0.05113108083605766,-0.008426455780863762,-0.027002772316336632,-0.028333550319075584,0.04826175421476364,0.055576324462890625,0.032506756484508514,-0.01826983503997326,-0.03114968165755272,-0.009771405719220638,-0.010110422037541866,-0.06739220768213272,0.011710470542311668,0.02150925248861313,-0.00952738244086504,-0.024665242061018944,0.018255218863487244,-0.045240115374326706,-0.03415610268712044,-0.12169960141181946,0.03528270125389099,-0.021033016964793205,0.0031433033291250467,0.06757482141256332,0.033519770950078964,-0.03842737153172493,0.002627164591103792,0.01646067388355732,-0.11420918256044388,0.0019241234986111522,-0.013388164341449738,0.007218384649604559,-0.06512195616960526,0.004121686331927776,-0.01132324617356062,0.002911242889240384,-0.02573591284453869,0.0037636510096490383,-0.015140780247747898,-0.033456023782491684,0.012186385691165924,-0.022437138482928276,0.0002438464289298281,0.0009325020364485681,0.02670428715646267,0.06298920512199402,-0.04214593768119812,0.011316868476569653,0.015125882811844349,-0.08318959176540375,-0.028044898062944412,-0.028445584699511528,0.05392655357718468,0.012076876126229763,0.015155383385717869,-0.01838253065943718,0.05262720584869385,0.02924172580242157,0.05949355289340019,-0.052643053233623505,0.016841579228639603,-0.025084378197789192,-0.07698172330856323,-0.016765503212809563,0.02400727942585945,-0.03567834571003914,-0.03417626768350601,0.047686804085969925,0.055778659880161285,0.01119176298379898,-0.005727879237383604,-0.031021270900964737,0.00007830563117749989,-0.0306352861225605,-0.011050829663872719,-0.027951456606388092,-0.10830608755350113,0.001835410832427442,0.04124687612056732,-0.07082809507846832,-0.025134431198239326,0.021499933674931526,-0.014240297488868237,0.03325335681438446,-0.045643918216228485,-0.0028412325773388147,0.011496754363179207,0.04465639963746071,-0.05121792107820511,0.030987033620476723,-0.004455809015780687,-0.0248433668166399,0.06029791384935379,0.01008568424731493,-0.03203123062849045,0.005592528730630875,-0.04678421467542648,-0.027722066268324852,0.027443604543805122,0.03315522149205208,-0.005213054362684488,0.006511857733130455,0.044007349759340286,-0.06157607585191727,0.005618584342300892,0.04674248769879341,-0.019626598805189133,-0.007716346997767687,-0.07217969000339508,-0.025062117725610733,0.01606868952512741,0.003194929799064994,0.08618016541004181,-0.047736138105392456,-0.05984294041991234,-0.06976816058158875,0.0041593085043132305,0.0016330576036125422,-5.564039777118106e-33,-0.05180324241518974,-0.050043363124132156,-0.003115993458777666,-0.04452018439769745,0.020343713462352753,-0.039334774017333984,0.01521815825253725,-0.04970838874578476,-0.06095288693904877,-0.009678445756435394,-0.01760817877948284,0.025100817903876305,0.018724555149674416,-0.026124997064471245,0.006218630820512772,0.05266664922237396,0.02682829648256302,-0.01077740453183651,-0.0508887842297554,-0.012877478264272213,-0.04299120604991913,0.010819182731211185,0.006698330398648977,-0.00968520063906908,-0.015591848641633987,0.001112056546844542,0.04418884217739105,-0.014783792197704315,-0.03320162370800972,0.03120887652039528,-0.012758085504174232,-0.056737981736660004,-0.003820285899564624,0.010140851140022278,0.003487846115604043,0.02488170936703682,-0.02177487686276436,0.03259405493736267,0.026284173130989075,0.045172322541475296,0.0888340026140213,0.015503289178013802,-0.013060033321380615,0.017693283036351204,0.03039870224893093,0.004937004763633013,0.010877036489546299,-0.019513560459017754,-0.027081642299890518,0.0223226398229599,0.03181751072406769,0.01032455824315548,0.03120844066143036,0.040930770337581635,0.06470192223787308,0.011067397892475128,0.018272217363119125,0.024276738986372948,-0.0057201506569981575,-0.007206519600003958,0.0632457286119461,0.02480335533618927,0.007721900008618832,0.013405405916273594,0.011355568654835224,-0.03253120183944702,-0.011214583180844784,0.003730318509042263,0.013258921913802624,-0.04671867564320564,-0.08703893423080444,0.08591515570878983,-0.0009169323602691293,-0.03203620761632919,-0.01797735132277012,0.03720168396830559,0.03764433041214943,0.010981389321386814,-0.06247266009449959,0.011294371448457241,-0.03372938930988312,0.010698381811380386,0.015831630676984787,-0.015072773210704327,0.06705751270055771,-0.04369392991065979,-0.021009840071201324,0.06363778561353683,0.01662737876176834,0.02387530915439129,-0.06619209796190262,0.10116448253393173,-0.02117125689983368,0.0031774037051945925,-0.10510201752185822,0.0061803278513252735,0.06202537566423416,-0.002914417302235961,0.002334553748369217,0.0030473924707621336,0.045131098479032516,0.026430636644363403,-0.031130433082580566,0.035766903311014175,-0.037264011800289154,-0.0046422844752669334,-0.002752522937953472,0.0002917430829256773,-0.010650640353560448,0.03688828647136688,0.00902053713798523,-0.0238152127712965,0.005496453959494829,0.06454946100711823,-0.023461079224944115,0.003641588380560279,0.014918986707925797,0.034075379371643066,-0.007076317444443703,-0.07277321815490723,0.015048263594508171,0.0347139798104763,-0.036853592842817307,-0.04737520590424538,0.017783749848604202,-0.005868799053132534,-0.01193360798060894,0.014939174987375736,0.009015649557113647,-0.009472031146287918,-0.029912911355495453,0.05434311926364899,2.2707151003942272e-7,0.04932780936360359,-0.01669624261558056,0.0019903387874364853,0.006301912013441324,0.03799346834421158,-0.02541651576757431,-0.0020037884823977947,0.008631177246570587,0.02566121518611908,-0.051753174513578415,0.03191380947828293,-0.011593617498874664,0.04409228265285492,0.009497849270701408,0.00778621481731534,-0.10529764741659164,0.020115885883569717,-0.009775983169674873,-0.023421842604875565,-0.034591272473335266,0.003132961690425873,0.01493409276008606,-0.011969626881182194,0.039398856461048126,0.027134284377098083,0.005934448447078466,0.0016006905352696776,-0.0027941532898694277,0.06822073459625244,-0.010945837944746017,0.022112229838967323,-0.03892158344388008,-0.03756960481405258,0.00708389887586236,-0.0031003758776932955,0.008303198963403702,-0.005328097380697727,0.014610927551984787,0.015633907169103622,0.05330103635787964,0.039272528141736984,-0.07822607457637787,-0.03931755945086479,-0.04682048410177231,0.006411836016923189,-0.043549057096242905,0.027262452989816666,0.06980825215578079,-0.02861921116709709,-0.007432707119733095,-0.02076583169400692,0.03291146457195282,-0.00573182525113225,-0.01510176993906498,0.016211962327361107,-0.05782940238714218,-0.012281687930226326,0.039031852036714554,-0.020445629954338074,-0.008609946817159653,-0.02493784949183464,-0.06732913106679916,0.0008605892071500421,-0.020341575145721436,0.06091073900461197,0.03544546663761139,-0.0632910504937172,2.332160817811004e-34,0.04697028920054436,0.03016992099583149,0.004319129511713982,0.08178199082612991,-0.024164093658328056,-0.03777584061026573,-0.028960594907402992,-0.06567253917455673,-0.018734224140644073,-0.05413294583559036,-0.023210784420371056]'
SET
  @HasCustomProps_072918a6 = 1
SET
  @HasCustomEvents_072918a6 = 1
SET
  @RequiresData_072918a6 = 0
SET
  @DependencyCount_072918a6 = 0
SET
  @FunctionalRequirementsVectorEmbeddingModelID_072918a6 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @ID_072918a6 = '3E5B43DE-1F29-4268-8DBB-A5FA0CE56B70'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_072918a6,
  @Name = @Name_072918a6,
  @Version = @Version_072918a6,
  @VersionSequence = @VersionSequence_072918a6,
  @Title = @Title_072918a6,
  @Description = @Description_072918a6,
  @Type = @Type_072918a6,
  @Status = @Status_072918a6,
  @DeveloperName = @DeveloperName_072918a6,
  @DeveloperEmail = @DeveloperEmail_072918a6,
  @DeveloperOrganization = @DeveloperOrganization_072918a6,
  @SourceRegistryID = @SourceRegistryID_072918a6,
  @ReplicatedAt = @ReplicatedAt_072918a6,
  @LastSyncedAt = @LastSyncedAt_072918a6,
  @Specification = @Specification_072918a6,
  @FunctionalRequirements = @FunctionalRequirements_072918a6,
  @TechnicalDesign = @TechnicalDesign_072918a6,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_072918a6,
  @TechnicalDesignVector = @TechnicalDesignVector_072918a6,
  @HasCustomProps = @HasCustomProps_072918a6,
  @HasCustomEvents = @HasCustomEvents_072918a6,
  @RequiresData = @RequiresData_072918a6,
  @DependencyCount = @DependencyCount_072918a6,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_072918a6,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_072918a6,
  @ID = @ID_072918a6;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_dad3f859 NVARCHAR(MAX),
@Name_dad3f859 NVARCHAR(500),
@Version_dad3f859 NVARCHAR(50),
@VersionSequence_dad3f859 INT,
@Title_dad3f859 NVARCHAR(1000),
@Description_dad3f859 NVARCHAR(MAX),
@Type_dad3f859 NVARCHAR(255),
@Status_dad3f859 NVARCHAR(50),
@DeveloperName_dad3f859 NVARCHAR(255),
@DeveloperEmail_dad3f859 NVARCHAR(255),
@DeveloperOrganization_dad3f859 NVARCHAR(255),
@SourceRegistryID_dad3f859 UNIQUEIDENTIFIER,
@ReplicatedAt_dad3f859 DATETIMEOFFSET,
@LastSyncedAt_dad3f859 DATETIMEOFFSET,
@Specification_dad3f859 NVARCHAR(MAX),
@FunctionalRequirements_dad3f859 NVARCHAR(MAX),
@TechnicalDesign_dad3f859 NVARCHAR(MAX),
@FunctionalRequirementsVector_dad3f859 NVARCHAR(MAX),
@TechnicalDesignVector_dad3f859 NVARCHAR(MAX),
@HasCustomProps_dad3f859 BIT,
@HasCustomEvents_dad3f859 BIT,
@RequiresData_dad3f859 BIT,
@DependencyCount_dad3f859 INT,
@TechnicalDesignVectorEmbeddingModelID_dad3f859 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_dad3f859 NVARCHAR(MAX),
@ID_dad3f859 UNIQUEIDENTIFIER
SET
  @Namespace_dad3f859 = N'AI'
SET
  @Name_dad3f859 = N'AIModelDetails'
SET
  @Version_dad3f859 = N'1.0.0'
SET
  @VersionSequence_dad3f859 = 1
SET
  @Title_dad3f859 = N'AI Model Details'
SET
  @Description_dad3f859 = N'Sliding details panel showing comprehensive model information, vendors, and usage statistics'
SET
  @Type_dad3f859 = N'Other'
SET
  @Status_dad3f859 = N'Published'
SET
  @Specification_dad3f859 = N'{
  "name": "AIModelDetails",
  "title": "AI Model Details",
  "description": "Sliding details panel showing comprehensive model information, vendors, and usage statistics",
  "type": "detail",
  "functionalRequirements": "Show model specs, vendor associations grouped by type, usage statistics, and open record button",
  "dataRequirements": null,
  "technicalDesign": "",
  "properties": [
    {"name": "model", "type": "object", "required": false, "description": "The selected AI model object"},
    {"name": "vendors", "type": "array", "required": true, "description": "Array of vendors associated with the model"},
    {"name": "promptRuns", "type": "array", "required": true, "description": "Array of prompt runs for this model"},
    {"name": "isOpen", "type": "boolean", "required": true, "description": "Whether the details panel is open"}
  ],
  "events": [ 
    {"name": "onClose", "description": "Fired when the details panel should close", "parameters": []},
    {"name": "onOpenRecord", "description": "Fired when the open record button is clicked", "parameters": [{"name": "modelName", "type": "string", "description": "Name of the model to open"}]}
  ],
  "exampleUsage": "<AIModelDetails ... />",
  "code": "function AIModelDetails({ \n  model, \n  vendors,\n  promptRuns,\n  isOpen, \n  onClose, \n  onOpenRecord,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Handle escape key to close panel\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === ''Escape'' && isOpen) {\n        onClose?.();\n      }\n    };\n    \n    document.addEventListener(''keydown'', handleEscape);\n    return () => document.removeEventListener(''keydown'', handleEscape);\n  }, [isOpen, onClose]);\n  \n  // Handle open record button\n  const handleOpenRecord = useCallback(() => {\n    console.log(''AIModelDetails handleOpenRecord called'', { model, onOpenRecord });\n    if (model?.Name) {\n      console.log(''Calling onOpenRecord with model name:'', model.Name);\n      if (onOpenRecord) {\n        onOpenRecord(model.Name);\n      } else {\n        console.error(''onOpenRecord callback is not defined'');\n      }\n    } else {\n      console.error(''No model or model name available'');\n    }\n  }, [model, onOpenRecord]);\n  \n  // Format token limit\n  const formatTokens = (tokens) => {\n    if (!tokens) return ''-'';\n    if (tokens >= 1000000) return `$' + '{(tokens / 1000000).toFixed(1)}M`;\n    if (tokens >= 1000) return `$' + '{(tokens / 1000).toFixed(0)}K`;\n    return tokens.toString();\n  };\n  \n  // Render status badge\n  const renderStatusBadge = (status) => {\n    const statusColors = {\n      ''Active'': styles.colors.success || styles.colors.primary,\n      ''Inactive'': styles.colors.warning || styles.colors.secondary,\n      ''Deprecated'': styles.colors.error || styles.colors.secondary,\n      ''Preview'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = statusColors[status] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {status}\n      </span>\n    );\n  };\n  \n  // Render vendor type icon\n  const renderVendorTypeIcon = (type) => {\n    const icons = {\n      ''Model Developer'': ''\ud83c\udfe2'',\n      ''Inference Provider'': ''\ud83d\ude80''\n    };\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        marginRight: styles.spacing.xs,\n        fontSize: styles.typography.fontSize.md\n      }}>\n        {icons[type] || ''\ud83d\udce6''}\n      </span>\n    );\n  };\n  \n  // Calculate prompt statistics\n  const calculatePromptStats = useCallback(() => {\n    if (!promptRuns || promptRuns.length === 0) {\n      return {\n        totalRuns: 0,\n        successfulRuns: 0,\n        failedRuns: 0,\n        avgExecutionTime: 0,\n        totalTokens: 0,\n        uniquePrompts: 0\n      };\n    }\n    \n    const stats = {\n      totalRuns: promptRuns.length,\n      successfulRuns: promptRuns.filter(r => r.Status === ''Success'' || r.Status === ''Completed'').length,\n      failedRuns: promptRuns.filter(r => r.Status === ''Failed'' || r.Status === ''Error'').length,\n      avgExecutionTime: 0,\n      totalTokens: 0,\n      uniquePrompts: new Set(promptRuns.map(r => r.PromptID)).size\n    };\n    \n    const validTimes = promptRuns\n      .filter(r => r.TotalExecutionTime)\n      .map(r => r.TotalExecutionTime);\n    \n    if (validTimes.length > 0) {\n      stats.avgExecutionTime = validTimes.reduce((a, b) => a + b, 0) / validTimes.length;\n    }\n    \n    stats.totalTokens = promptRuns.reduce((sum, r) => sum + (r.TotalTokens || 0), 0);\n    \n    return stats;\n  }, [promptRuns]);\n  \n  const stats = calculatePromptStats();\n  \n  // Group vendors by type\n  const vendorsByType = useMemo(() => {\n    const grouped = {\n      ''Model Developer'': [],\n      ''Inference Provider'': []\n    };\n    \n    vendors.forEach(v => {\n      if (grouped[v.Type]) {\n        grouped[v.Type].push(v);\n      }\n    });\n    \n    return grouped;\n  }, [vendors]);\n  \n  return (\n    <>\n      {/* Backdrop */}\n      {isOpen && (\n        <div\n          onClick={onClose}\n          style={{\n            position: ''fixed'',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: ''rgba(0, 0, 0, 0.3)'',\n            zIndex: 99999,\n            opacity: isOpen ? 1 : 0,\n            transition: ''opacity 0.3s'',\n            pointerEvents: isOpen ? ''auto'' : ''none''\n          }}\n        />\n      )}\n      \n      {/* Panel */}\n      <div style={{\n        position: ''fixed'',\n        top: ''75px'',\n        right: 0,\n        bottom: 0,\n        width: ''520px'',\n        backgroundColor: styles.colors.background,\n        boxShadow: isOpen ? `-4px 0 24px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}` : ''none'',\n        transform: isOpen ? ''translateX(0)'' : ''translateX(100%)'',\n        transition: ''transform 0.3s ease-out'',\n        zIndex: 100000,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''flex-start''\n          }}>\n            <div style={{ flex: 1 }}>\n              <h2 style={{\n                margin: 0,\n                fontSize: styles.typography.fontSize.xl,\n                fontWeight: styles.typography.fontWeight?.bold || ''700'',\n                color: styles.colors.text,\n                marginBottom: styles.spacing.xs\n              }}>\n                {model?.Name || ''No Model Selected''}\n              </h2>\n              {model?.APIName && (\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  fontFamily: ''monospace''\n                }}>\n                  {model.APIName}\n                </div>\n              )}\n              {model?.IsActive !== undefined && (\n                <div style={{ marginTop: styles.spacing.sm }}>\n                  {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n                </div>\n              )}\n            </div>\n            <button\n              onClick={onClose}\n              style={{\n                width: ''32px'',\n                height: ''32px'',\n                borderRadius: getBorderRadius(''sm''),\n                border: ''none'',\n                backgroundColor: ''transparent'',\n                color: styles.colors.textSecondary,\n                fontSize: styles.typography.fontSize.lg,\n                cursor: ''pointer'',\n                display: ''flex'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = ''transparent'';\n              }}\n            >\n              \u2715\n            </button>\n          </div>\n        </div>\n        \n        {/* Content */}\n        <div style={{\n          flex: 1,\n          overflow: ''auto'',\n          padding: styles.spacing.lg\n        }}>\n          {model ? (\n            <>\n              {/* Model Description */}\n              {model.Description && (\n                <div style={{\n                  marginBottom: styles.spacing.xl,\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  borderLeft: `3px solid $' + '{styles.colors.primary}`\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    color: styles.colors.textSecondary,\n                    lineHeight: 1.6\n                  }}>\n                    {model.Description}\n                  </div>\n                </div>\n              )}\n              \n              {/* Model Specifications */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Specifications\n                </h3>\n                <div style={{\n                  display: ''grid'',\n                  gridTemplateColumns: ''repeat(2, 1fr)'',\n                  gap: styles.spacing.md\n                }}>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Input Token Limit\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(model.InputTokenLimit)}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Cost Rank\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.warning || styles.colors.secondary\n                    }}>\n                      {''$''.repeat(Math.min(model.CostRank || 0, 5))}\n                      <span style={{ opacity: 0.3 }}>\n                        {''$''.repeat(Math.max(0, 5 - (model.CostRank || 0)))}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Vendors Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Vendors ({vendors.length})\n                </h3>\n                \n                {/* Model Developer */}\n                {vendorsByType[''Model Developer''].length > 0 && (\n                  <div style={{ marginBottom: styles.spacing.md }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.sm\n                    }}>\n                      {renderVendorTypeIcon(''Model Developer'')}\n                      Model Developer\n                    </div>\n                    {vendorsByType[''Model Developer''].map((vendor, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          marginBottom: styles.spacing.sm,\n                          display: ''flex'',\n                          justifyContent: ''space-between'',\n                          alignItems: ''center''\n                        }}\n                      >\n                        <div>\n                          <div style={{\n                            fontSize: styles.typography.fontSize.md,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.text\n                          }}>\n                            {vendor.Vendor}\n                          </div>\n                          {vendor.APIName && (\n                            <div style={{\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                              color: styles.colors.textSecondary,\n                              fontFamily: ''monospace''\n                            }}>\n                              API: {vendor.APIName}\n                            </div>\n                          )}\n                        </div>\n                        {renderStatusBadge(vendor.Status)}\n                      </div>\n                    ))}\n                  </div>\n                )}\n                \n                {/* Inference Providers */}\n                {vendorsByType[''Inference Provider''].length > 0 && (\n                  <div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.sm\n                    }}>\n                      {renderVendorTypeIcon(''Inference Provider'')}\n                      Inference Providers\n                    </div>\n                    {vendorsByType[''Inference Provider''].map((vendor, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          marginBottom: styles.spacing.sm\n                        }}\n                      >\n                        <div style={{\n                          display: ''flex'',\n                          justifyContent: ''space-between'',\n                          alignItems: ''flex-start'',\n                          marginBottom: styles.spacing.sm\n                        }}>\n                          <div>\n                            <div style={{\n                              fontSize: styles.typography.fontSize.md,\n                              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                              color: styles.colors.text\n                            }}>\n                              {vendor.Vendor}\n                            </div>\n                            {vendor.APIName && (\n                              <div style={{\n                                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                color: styles.colors.textSecondary,\n                                fontFamily: ''monospace''\n                              }}>\n                                API: {vendor.APIName}\n                              </div>\n                            )}\n                          </div>\n                          <div style={{\n                            display: ''flex'',\n                            gap: styles.spacing.xs,\n                            alignItems: ''center''\n                          }}>\n                            {vendor.Priority && (\n                              <span style={{\n                                padding: `2px $' + '{styles.spacing.xs}`,\n                                backgroundColor: styles.colors.info + ''15'',\n                                color: styles.colors.info || styles.colors.primary,\n                                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                              }}>\n                                Priority: {vendor.Priority}\n                              </span>\n                            )}\n                            {renderStatusBadge(vendor.Status)}\n                          </div>\n                        </div>\n                        \n                        {/* Vendor Capabilities */}\n                        <div style={{\n                          display: ''flex'',\n                          gap: styles.spacing.xs,\n                          flexWrap: ''wrap''\n                        }}>\n                          {vendor.SupportsStreaming && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.success + ''15'',\n                              color: styles.colors.success || styles.colors.primary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              \u2713 Streaming\n                            </span>\n                          )}\n                          {vendor.SupportsEffortLevel && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.success + ''15'',\n                              color: styles.colors.success || styles.colors.primary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              \u2713 Effort Level\n                            </span>\n                          )}\n                          {vendor.MaxInputTokens && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.background,\n                              color: styles.colors.textSecondary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              Max: {formatTokens(vendor.MaxInputTokens)}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n              \n              {/* Usage Statistics */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Usage Statistics\n                </h3>\n                <div style={{\n                  display: ''grid'',\n                  gridTemplateColumns: ''repeat(2, 1fr)'',\n                  gap: styles.spacing.md\n                }}>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Total Runs\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {stats.totalRuns.toLocaleString()}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Success Rate\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: stats.totalRuns > 0 \n                        ? (stats.successfulRuns / stats.totalRuns >= 0.9 ? styles.colors.success : styles.colors.warning)\n                        : styles.colors.text\n                    }}>\n                      {stats.totalRuns > 0 \n                        ? `$' + '{((stats.successfulRuns / stats.totalRuns) * 100).toFixed(1)}%`\n                        : ''-''}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Unique Prompts\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {stats.uniquePrompts}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Total Tokens\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(stats.totalTokens)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          ) : (\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              height: ''100%'',\n              color: styles.colors.textSecondary\n            }}>\n              <div style={{\n                fontSize: styles.typography.fontSize.lg,\n                marginBottom: styles.spacing.md\n              }}>\n                No Model Selected\n              </div>\n              <div style={{\n                fontSize: styles.typography.fontSize.md\n              }}>\n                Select a model from the list to view its details\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Footer with Open Record Button */}\n        {model && (\n          <div style={{\n            padding: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.border}`,\n            backgroundColor: styles.colors.surface\n          }}>\n            <button\n              onClick={handleOpenRecord}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.primary,\n                color: ''white'',\n                border: ''none'',\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primaryHover || styles.colors.primary;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.primary;\n              }}\n            >\n              Open Model Record\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}",
  "dependencies": [],
  "libraries": []
}'
SET
  @FunctionalRequirements_dad3f859 = N'Show model specs, vendor associations grouped by type, usage stats, and open record button'
SET
  @TechnicalDesign_dad3f859 = N''
SET
  @FunctionalRequirementsVector_dad3f859 = N'[-0.0715712159872055,0.0827350839972496,0.00139689224306494,0.013588594272732735,0.03292979300022125,0.01016004104167223,0.07455896586179733,0.02751857601106167,-0.010450690984725952,-0.08600346744060516,-0.06856264173984528,-0.014420717023313046,0.01597965508699417,0.08322606235742569,0.038467638194561005,-0.06649574637413025,0.016695907339453697,0.018274907022714615,-0.0197281651198864,0.036222491413354874,0.023623250424861908,-0.027884136885404587,0.018007973209023476,0.006183151621371508,0.0018716963240876794,-0.020379861816763878,0.0003312116605229676,-0.016256244853138924,0.02495926059782505,-0.059970807284116745,-0.008660880848765373,0.057790204882621765,-0.024687178432941437,-0.006983382627367973,0.0000014146125977276824,-0.025779668241739273,-0.06718473881483078,0.06292090564966202,-0.03220803290605545,0.07391287386417389,0.04257513955235481,0.059560999274253845,0.06160464510321617,0.023357484489679337,0.0001912994048325345,-0.06122543290257454,-0.026785967871546745,-0.013802504166960716,-0.05224921181797981,-0.0033162524923682213,0.03394639119505882,0.03650173544883728,-0.028903445228934288,-0.04584788531064987,0.012225935235619545,0.029906470328569412,-0.0383160263299942,-0.005453887395560741,0.03122270479798317,0.005034625995904207,-0.018819168210029602,0.0028124551754444838,0.007100897841155529,0.03457864746451378,0.08388593792915344,0.038304030895233154,0.047471415251493454,0.005196291022002697,0.02055680751800537,0.045551761984825134,0.08802155405282974,0.024253640323877335,-0.004989233799278736,-0.02347536012530327,-0.02910756878554821,-0.03771847486495972,-0.015993934124708176,0.00046933034900575876,0.01975291781127453,-0.005428611300885677,-0.021732570603489876,-0.00913826934993267,-0.030253197997808456,0.0011445744894444942,-0.07067162543535233,-0.05400656908750534,-0.010444925166666508,-0.005120186135172844,-0.026199795305728912,-0.06396850943565369,0.0031847720965743065,0.006250669248402119,-0.0321241095662117,-0.016846653074026108,-0.0612984336912632,0.004839334636926651,0.04943224787712097,0.004519439768046141,0.058273863047361374,0.008885026909410954,0.017758596688508987,0.045422933995723724,-0.04186677560210228,-0.002645622007548809,0.01715153455734253,0.02936665527522564,-0.009336973540484905,0.0012582403142005205,0.015796208754181862,0.05535411462187767,-0.01577606052160263,0.026226971298456192,0.029098570346832275,0.01922018453478813,-0.034238871186971664,0.033063631504774094,-0.004523990210145712,-0.001321602612733841,-0.01545046642422676,-0.005263564642518759,0.07329146564006805,0.005598575342446566,-0.01247402373701334,-0.02093036100268364,-0.010626732371747494,-0.016260625794529915,0.0033806164283305407,-0.025539949536323547,-0.020229283720254898,-0.019352732226252556,-0.03575633466243744,-0.038603585213422775,-0.005369901657104492,-0.0024344001431018114,-0.00644742650911212,0.012416229583323002,0.012592633254826069,-0.0034850211814045906,-0.0250792745500803,-0.036521296948194504,0.05597609654068947,-0.023151924833655357,-0.058611106127500534,0.048912305384874344,0.030972888693213463,0.006714578252285719,0.0018474821699783206,-0.038840509951114655,-0.015765469521284103,-0.01709066703915596,-0.0012962426990270615,-0.004066419787704945,-0.00743720680475235,-0.0018441271968185902,-0.01180650107562542,-0.028963468968868256,0.0002378680947003886,-0.04520738869905472,-0.017626650631427765,-0.010005513206124306,-0.03289114311337471,0.012888959608972073,0.07274874299764633,-0.004398462828248739,-0.0045206365175545216,0.0032414980232715607,-0.06521634012460709,-0.005505568813532591,-0.023517286404967308,-0.04935772344470024,-0.03431525081396103,-0.04087957367300987,-0.002212988678365946,0.0005470582982525229,-0.013996393419802189,-0.03037707321345806,0.0832502543926239,-0.01723078265786171,-0.013402207754552364,0.008284742012619972,0.06642363220453262,-0.06454602628946304,-0.0033274274319410324,-0.0028073987923562527,-0.017444897443056107,0.0018743021646514535,-0.041724346578121185,0.05468790605664253,-0.003204078646376729,-0.00075151352211833,-0.033622778952121735,0.0027644236106425524,-0.019662532955408096,0.0004236821550875902,0.02524307183921337,0.03620564565062523,0.007166689727455378,-0.031698450446128845,0.06168469414114952,0.03378240764141083,-0.05628658086061478,-0.0423923134803772,0.05965140461921692,0.0007252602954395115,0.02545810490846634,-0.0055664605461061,-0.023844309151172638,-0.0026602079160511494,-0.07446341961622238,0.019203631207346916,0.0653134360909462,-0.025968074798583984,-0.0016420066822320223,0.03277640789747238,-0.030543876811861992,0.0033001380506902933,0.023443065583705902,0.04317169263958931,-0.08235430717468262,-0.017762256786227226,0.017491880804300308,-0.09721218794584274,0.009627380408346653,0.0011111550265923142,0.0683649331331253,0.03824184462428093,0.05814037472009659,0.008015281520783901,0.004695559851825237,0.0112084299325943,-0.00403987243771553,0.03307241201400757,0.019060717895627022,0.028901470825076103,0.04706579074263573,0.011381606571376324,0.04362674057483673,0.049521300941705704,-0.05075670778751373,0.045290179550647736,0.025472305715084076,-0.09693370014429092,-0.013221734203398228,-0.009055948816239834,-0.04639445245265961,-0.012250361032783985,0.04153990373015404,0.0020469913724809885,0.027983685955405235,0.007151563186198473,0.01981731317937374,0.01050201989710331,0.10194005072116852,0.00006709668377880007,-0.022093843668699265,0.05228183791041374,-0.04139252379536629,-0.005552837625145912,-0.05199829116463661,0.05835316702723503,-0.003395125037059188,-0.029797034338116646,-0.0020865658298134804,-0.002436873270198703,-0.014355643652379513,0.0020383712835609913,0.03853238746523857,-0.10327829420566559,0.02529194951057434,0.0043907128274440765,0.003540355945006013,0.004431365057826042,0.034691233187913895,-0.035535480827093124,0.00946221686899662,0.0417913943529129,-0.025418749079108238,0.00990291591733694,0.024653533473610878,-0.019790587946772575,0.015623091720044613,-0.020436322316527367,0.005357307381927967,0.0468415692448616,-0.04837104305624962,0.0052721151150763035,-0.015003389678895473,-0.009829968214035034,0.01506519503891468,-0.019784094765782356,0.019567100331187248,-0.027865443378686905,0.004575788974761963,0.01662556640803814,0.009036511182785034,0.0229391660541296,-0.0030827189330011606,0.10082773119211197,-0.01489926129579544,0.11870655417442322,0.019911887124180794,0.07031095027923584,-0.03275821730494499,0.013166408985853195,0.01382230781018734,0.044974181801080704,0.03393866866827011,-0.016184885054826736,0.020826954394578934,0.020632201805710793,0.01652352511882782,0.02393065020442009,0.06945901364088058,-0.01931430585682392,0.021550899371504784,-0.02208198420703411,0.009665931575000286,0.008733222261071205,0.0247186329215765,0.03889409825205803,0.020582599565386772,-0.009502317756414413,-0.04996233060956001,0.013290590606629848,0.016629571095108986,0.020366622135043144,0.0010149219306185842,-0.00040118012111634016,-0.0041251699440181255,0.028417162597179413,0.04134076088666916,-0.024005044251680374,-0.009738001972436905,0.0008929807809181511,-0.026551667600870132,0.010479968972504139,-0.03363725170493126,0.04690299183130264,-0.009101116098463535,-0.02811662293970585,0.011275534518063068,-0.007628054358065128,-0.023624049499630928,-0.03159179911017418,0.0409650057554245,-0.02204844541847706,-0.03288247436285019,-0.01669745147228241,-0.07033689320087433,0.00673862686380744,0.02756967768073082,0.018938088789582253,-0.003950075246393681,-0.02293078415095806,0.027561040595173836,0.015022583305835724,-0.006004259921610355,-0.04692704975605011,-0.009083309210836887,-0.0685027539730072,-0.006620680447667837,0.01796848326921463,0.019271668046712875,0.05770806595683098,-0.024514775723218918,-0.025958076119422913,-0.06073407828807831,0.01882854476571083,0.029910268262028694,-0.018348103389143944,-0.06303425878286362,0.023193132132291794,0.060463983565568924,0.02197796292603016,0.006660769693553448,-0.06570413708686829,-0.003389991819858551,0.06604409962892532,0.04175977408885956,0.0037976528983563185,0.058640528470277786,0.011153710074722767,0.06938241422176361,-0.04456804692745209,0.05154450982809067,-0.01446361280977726,0.0184097271412611,-0.013412915170192719,0.03711706027388573,-0.03838728740811348,0.0042776246555149555,-0.03356355428695679,0.02690267562866211,-0.03376837447285652,0.012090000323951244,-0.04931841045618057,-0.04417687654495239,0.00974007323384285,-0.014652407728135586,-0.009104426018893719,0.009062438271939754,0.0471932478249073,-0.03947211056947708,-0.026068828999996185,0.05102095007896423,0.00900690071284771,-0.0026323068886995316,0.01623738557100296,0.01795235462486744,0.0023459377698600292,-0.017450736835598946,0.0677124559879303,-0.00638847891241312,-0.02714894898235798,0.04796876013278961,-0.021817907691001892,0.045017555356025696,0.022575484588742256,-0.0005770399002358317,0.08045892417430878,0.03059404529631138,-0.04367433488368988,0.009311683475971222,-0.010575816035270691,0.01893272064626217,-0.07457853108644485,-0.056669630110263824,-0.010625304654240608,-0.01267655473202467,-0.007970543578267097,0.02858675830066204,0.05860598012804985,-0.008903197944164276,-0.014485553838312626,0.07050441950559616,0.03284073621034622,0.01002111192792654,-0.09495153278112411,-0.037870924919843674,0.056636180728673935,-0.0012135269353166223,0.04150155559182167,0.05672119930386543,-0.02806282788515091,-0.023272337391972542,0.04832307621836662,0.023164993152022362,-0.008646588772535324,0.07042441517114639,-0.00957279559224844,-0.006771720014512539,-0.02450599893927574,-0.043903350830078125,0.052654460072517395,-0.06076958030462265,-0.02962641417980194,-0.05175115168094635,-0.007574687246233225,-0.0500498004257679,-0.010876600630581379,-0.04174390435218811,0.033140454441308975,-0.004850133787840605,-0.000060849029978271574,0.0023692657705396414,-0.04484667629003525,0.010031746700406075,-0.04334193468093872,0.038104355335235596,-0.05758339539170265,-0.013866708613932133,-0.0543331578373909,-0.009693479165434837,-0.012048599310219288,-0.016660917550325394,-0.024832798168063164,-0.05406594276428223,-0.033509936183691025,-0.03328574076294899,-0.015847083181142807,-0.027616914361715317,0.02648940682411194,0.07676360756158829,-0.07105473428964615,-0.0391228012740612,-0.02885858714580536,-0.00957189779728651,0.01832656003534794,-0.008450272493064404,0.04964413121342659,-0.003077060217037797,-0.038167595863342285,-0.026246855035424232,-0.022013412788510323,0.012342169880867004,0.025644950568675995,-0.02771090529859066,-0.00033557857386767864,-0.04283057153224945,-0.125070258975029,0.009994450956583023,-0.03810374438762665,-0.0053894477896392345,-0.0005767375114373863,-0.0015522559406235814,0.038360171020030975,0.01509771030396223,0.029888397082686424,-0.04025851562619209,0.027098465710878372,-0.00012978643644601107,0.005148562602698803,-0.015051917172968388,-0.03785169869661331,0.013362358324229717,0.0351220928132534,-0.10613780468702316,0.009960449300706387,0.0012119717430323362,-0.0035752563271671534,0.021534014493227005,0.009015016257762909,0.011147520504891872,-0.018510615453124046,0.05469313636422157,0.0012152896961197257,0.02239094115793705,0.01706610433757305,0.0179021917283535,-0.006641110870987177,-0.0013212873600423336,0.006398136727511883,-0.007493684999644756,-0.04637940227985382,-0.01788358949124813,0.037399254739284515,0.06495924293994904,-0.04262693226337433,-0.004664676263928413,0.029253991320729256,-0.07068770378828049,0.018733758479356766,0.016562270000576973,-0.041468895971775055,-0.05564624443650246,-0.01433195173740387,-0.03492986410856247,0.022746970877051353,-0.007827404886484146,0.00686456635594368,-0.004871021956205368,-0.07524839043617249,-0.06288183480501175,-0.017513031139969826,0.012952350080013275,-5.3216954536487676e-33,-0.006570055149495602,-0.04299343004822731,-0.0725138708949089,-0.1122041791677475,0.028957515954971313,-0.001475148368626833,0.04262971878051758,-0.01017952710390091,-0.06744816899299622,-0.019558804109692574,-0.030183279886841774,-0.007885544560849667,-0.008358311839401722,0.004453630186617374,-0.011116447858512402,0.04938197135925293,0.02321503311395645,-0.01206156611442566,-0.004419450182467699,0.020813889801502228,-0.03617054224014282,-0.009744190610945225,0.007267280947417021,-0.06656913459300995,-0.01769533008337021,0.01997975818812847,0.006585652939975262,0.0365556962788105,-0.03546622022986412,0.041708800941705704,-0.029371298849582672,-0.042073145508766174,-0.0006885462207719684,0.06300239264965057,-0.021020369604229927,-0.0011825105175375938,0.023309964686632156,0.018880024552345276,0.008476300165057182,-0.028526222333312035,0.08936098217964172,0.02210802212357521,-0.038939107209444046,0.01608181558549404,0.02791621722280979,-0.05631488189101219,0.01572290062904358,0.03783867508172989,-0.006269281264394522,0.03250914439558983,0.027160733938217163,0.01213858276605606,0.005435872357338667,0.048747193068265915,-0.02064133808016777,0.006751581095159054,0.022645078599452972,0.0014644274488091469,0.006854378152638674,-0.004563920199871063,0.07096707820892334,-0.002974206581711769,0.032150089740753174,0.012549192644655704,0.049051180481910706,-0.04145745187997818,-0.030172910541296005,0.0384838804602623,-0.008311912417411804,-0.09834122657775879,-0.016670113429427147,0.053854480385780334,-0.04677744582295418,-0.06516102701425552,0.01653948239982128,0.016203949227929115,0.05128981173038483,-0.007559555117040873,0.003053618362173438,-0.002602966967970133,0.015553089790046215,0.010450323112308979,-0.07033815234899521,0.010336336679756641,0.021923616528511047,0.007566666696220636,-0.019435036927461624,0.009494570083916187,0.02585860714316368,-0.003618567483499646,-0.010018118657171726,-0.044112950563430786,-0.02366327866911888,0.0401017889380455,-0.051642004400491714,0.046794380992650986,0.0808371752500534,0.01972067728638649,-0.025201376527547836,-0.02087411656975746,-0.00030632957350462675,0.029530493542551994,0.015525156632065773,0.05311209335923195,-0.03102441504597664,0.001002060598693788,0.003738545812666416,-0.01422720868140459,-0.02392854355275631,0.01069662719964981,-0.004390984307974577,-0.033892080187797546,0.004553703591227531,-0.01708921417593956,0.017882684245705605,0.02446575276553631,-0.010087378323078156,0.05898516625165939,-0.02208176627755165,-0.014804044738411903,-0.03028964065015316,-0.01856226660311222,-0.01611226238310337,0.005108175799250603,0.053107038140296936,-0.030176497995853424,-0.03512978181242943,-0.040262870490550995,0.09581079334020615,0.038177404552698135,-0.012893583625555038,0.0007914173183962703,2.2126576482150995e-7,0.015351341105997562,-0.040200311690568924,-0.04141052067279816,0.023524150252342224,0.01774749904870987,0.010705597698688507,0.0427643284201622,0.012357508763670921,0.030798880383372307,-0.08830463141202927,0.04263630136847496,0.03753214329481125,0.013876853510737419,0.05560414120554924,0.056328184902668,-0.04884978383779526,0.060483336448669434,-0.024278495460748672,-0.08290791511535645,0.009193711914122105,0.015083362348377705,0.014958767220377922,-0.007510658353567123,0.024339735507965088,0.018316281959414482,0.008240765891969204,-0.014650325290858746,-0.01702594943344593,-0.011796407401561737,0.027143731713294983,0.06912881880998611,0.003910413943231106,-0.015259689651429653,0.04541265219449997,0.025390449911355972,0.01914466731250286,-0.029860857874155045,-0.035520464181900024,0.008066539652645588,0.0014868652215227485,0.06273246556520462,-0.035521261394023895,-0.023555302992463112,0.012524903751909733,0.00707163754850626,-0.003235845360904932,0.019322462379932404,0.04657503589987755,0.004346683155745268,0.007138189859688282,0.013731556944549084,-0.00284851947799325,0.06132211163640022,-0.016818618401885033,-0.001639006775803864,-0.0412009060382843,-0.03228674829006195,0.017979789525270462,-0.026695888489484787,-0.042708538472652435,-0.024549543857574463,-0.04345329478383064,0.0306104589253664,0.055598143488168716,0.08674462884664536,-0.03416875749826431,-0.07448839396238327,3.0823592462071244e-34,-0.011631995439529419,0.02338542602956295,0.020374266430735588,0.10223663598299026,0.06438993662595749,-0.0020653544925153255,-0.0116655845195055,-0.013142437674105167,-0.0007927379920147359,-0.10650412738323212,-0.02432798221707344]'
SET
  @HasCustomProps_dad3f859 = 1
SET
  @HasCustomEvents_dad3f859 = 1
SET
  @RequiresData_dad3f859 = 0
SET
  @DependencyCount_dad3f859 = 0
SET
  @FunctionalRequirementsVectorEmbeddingModelID_dad3f859 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @ID_dad3f859 = '7B36D078-5B69-47EC-BDFB-D119524116F6'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_dad3f859,
  @Name = @Name_dad3f859,
  @Version = @Version_dad3f859,
  @VersionSequence = @VersionSequence_dad3f859,
  @Title = @Title_dad3f859,
  @Description = @Description_dad3f859,
  @Type = @Type_dad3f859,
  @Status = @Status_dad3f859,
  @DeveloperName = @DeveloperName_dad3f859,
  @DeveloperEmail = @DeveloperEmail_dad3f859,
  @DeveloperOrganization = @DeveloperOrganization_dad3f859,
  @SourceRegistryID = @SourceRegistryID_dad3f859,
  @ReplicatedAt = @ReplicatedAt_dad3f859,
  @LastSyncedAt = @LastSyncedAt_dad3f859,
  @Specification = @Specification_dad3f859,
  @FunctionalRequirements = @FunctionalRequirements_dad3f859,
  @TechnicalDesign = @TechnicalDesign_dad3f859,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_dad3f859,
  @TechnicalDesignVector = @TechnicalDesignVector_dad3f859,
  @HasCustomProps = @HasCustomProps_dad3f859,
  @HasCustomEvents = @HasCustomEvents_dad3f859,
  @RequiresData = @RequiresData_dad3f859,
  @DependencyCount = @DependencyCount_dad3f859,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_dad3f859,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_dad3f859,
  @ID = @ID_dad3f859;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_6144345d NVARCHAR(MAX),
@Name_6144345d NVARCHAR(500),
@Version_6144345d NVARCHAR(50),
@VersionSequence_6144345d INT,
@Title_6144345d NVARCHAR(1000),
@Description_6144345d NVARCHAR(MAX),
@Type_6144345d NVARCHAR(255),
@Status_6144345d NVARCHAR(50),
@DeveloperName_6144345d NVARCHAR(255),
@DeveloperEmail_6144345d NVARCHAR(255),
@DeveloperOrganization_6144345d NVARCHAR(255),
@SourceRegistryID_6144345d UNIQUEIDENTIFIER,
@ReplicatedAt_6144345d DATETIMEOFFSET,
@LastSyncedAt_6144345d DATETIMEOFFSET,
@Specification_6144345d NVARCHAR(MAX),
@FunctionalRequirements_6144345d NVARCHAR(MAX),
@TechnicalDesign_6144345d NVARCHAR(MAX),
@FunctionalRequirementsVector_6144345d NVARCHAR(MAX),
@TechnicalDesignVector_6144345d NVARCHAR(MAX),
@HasCustomProps_6144345d BIT,
@HasCustomEvents_6144345d BIT,
@RequiresData_6144345d BIT,
@DependencyCount_6144345d INT,
@TechnicalDesignVectorEmbeddingModelID_6144345d NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_6144345d NVARCHAR(MAX),
@ID_6144345d UNIQUEIDENTIFIER
SET
  @Namespace_6144345d = N'AI'
SET
  @Name_6144345d = N'AIModelFilter'
SET
  @Version_6144345d = N'1.0.0'
SET
  @VersionSequence_6144345d = 1
SET
  @Title_6144345d = N'AI Model Filter'
SET
  @Description_6144345d = N'Collapsible filter panel for filtering models by type, status, developer, and provider'
SET
  @Type_6144345d = N'Other'
SET
  @Status_6144345d = N'Published'
SET
  @Specification_6144345d = N'{
  "name": "AIModelFilter",
  "title": "AI Model Filter",
  "description": "Collapsible filter panel for filtering models by type, status, developer, and provider",
  "type": "form",
  "functionalRequirements": "Provide filters for model type, status, developer, and provider with active filter indicators",
  "dataRequirements": null,
  "technicalDesign": "",
  "properties": [
    {"name": "filters", "type": "object", "required": true, "description": "Current filter state object"},
    {"name": "modelTypes", "type": "array", "required": true, "description": "Array of available model types for filtering"},
    {"name": "vendors", "type": "array", "required": true, "description": "Array of available vendors for filtering"},
    {"name": "isCollapsed", "type": "boolean", "required": true, "description": "Whether the filter panel is collapsed"}
  ],
  "events": [
    {"name": "onFilterChange", "description": "Fired when filters are changed", "parameters": [{"name": "filters", "type": "object", "description": "New filter state"}]},
    {"name": "onToggleCollapse", "description": "Fired when the collapse state should toggle", "parameters": []}
  ],
  "exampleUsage": "<AIModelFilter ... />",
  "code": "function AIModelFilter({ \n  filters, \n  onFilterChange, \n  modelTypes,\n  vendors,\n  isCollapsed, \n  onToggleCollapse,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Calculate active filter count\n  const activeFilterCount = Object.values(filters || {}).filter(Boolean).length;\n  \n  // Handle model type filter change\n  const handleModelTypeChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      modelType: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle developer filter change\n  const handleDeveloperChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      developer: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle inference provider filter change\n  const handleProviderChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      provider: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle status filter change\n  const handleStatusChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      isActive: e.target.value === '''' ? undefined : e.target.value === ''true''\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle clear all filters\n  const handleClearFilters = useCallback(() => {\n    onFilterChange?.({});\n  }, [onFilterChange]);\n  \n  // Handle toggle collapse\n  const handleToggle = useCallback(() => {\n    onToggleCollapse?.();\n  }, [onToggleCollapse]);\n  \n  // Get unique developers and providers\n  const developers = useMemo(() => {\n    // Use all vendors for now since we''ll filter properly in the parent\n    return vendors.map(v => v.Name).filter(Boolean);\n  }, [vendors]);\n  \n  const providers = useMemo(() => {\n    // Use all vendors for now since we''ll filter properly in the parent  \n    return vendors.map(v => v.Name).filter(Boolean);\n  }, [vendors]);\n  \n  return (\n    <div style={{\n      width: isCollapsed ? ''48px'' : ''280px'',\n      minWidth: isCollapsed ? ''48px'' : ''280px'',\n      backgroundColor: styles.colors.surface,\n      borderRight: `1px solid $' + '{styles.colors.border}`,\n      transition: ''width 0.3s ease-out'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      position: ''relative'',\n      overflow: ''hidden''\n    }}>\n      {/* Toggle Button */}\n      <button\n        onClick={handleToggle}\n        style={{\n          position: ''absolute'',\n          top: styles.spacing.md,\n          right: styles.spacing.md,\n          width: ''32px'',\n          height: ''32px'',\n          borderRadius: getBorderRadius(''sm''),\n          border: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.background,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.md,\n          cursor: ''pointer'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1,\n          transition: ''all 0.2s''\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.background;\n        }}\n      >\n        {isCollapsed ? ''\u2192'' : ''\u2190''}\n      </button>\n      \n      {/* Filter Icon when collapsed */}\n      {isCollapsed && (\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          flex: 1,\n          opacity: 1,\n          transition: ''opacity 0.3s''\n        }}>\n          <div style={{\n            fontSize: styles.typography.fontSize.xl,\n            color: styles.colors.textSecondary,\n            marginBottom: styles.spacing.sm\n          }}>\n            \ud83d\udd0d\n          </div>\n          {activeFilterCount > 0 && (\n            <div style={{\n              width: ''24px'',\n              height: ''24px'',\n              borderRadius: ''50%'',\n              backgroundColor: styles.colors.primary,\n              color: ''white'',\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              fontSize: styles.typography.fontSize.xs,\n              fontWeight: styles.typography.fontWeight?.bold || ''700''\n            }}>\n              {activeFilterCount}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Filter Content */}\n      <div style={{\n        padding: styles.spacing.lg,\n        opacity: isCollapsed ? 0 : 1,\n        transition: ''opacity 0.3s'',\n        pointerEvents: isCollapsed ? ''none'' : ''auto'',\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column''\n      }}>\n        {/* Header */}\n        <div style={{\n          marginBottom: styles.spacing.xl,\n          paddingRight: ''40px''\n        }}>\n          <h2 style={{\n            margin: 0,\n            fontSize: styles.typography.fontSize.lg,\n            fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n            color: styles.colors.text,\n            marginBottom: styles.spacing.xs\n          }}>\n            Filters\n          </h2>\n          {activeFilterCount > 0 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary\n            }}>\n              {activeFilterCount} active filter{activeFilterCount !== 1 ? ''s'' : ''''}\n            </div>\n          )}\n        </div>\n        \n        {/* Filter Controls */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.lg\n        }}>\n          {/* Model Type Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Model Type\n            </label>\n            <select\n              value={filters?.modelType || ''''}\n              onChange={handleModelTypeChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Types</option>\n              {modelTypes.map((type) => (\n                <option key={type.ID} value={type.ID}>\n                  {type.Name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Status Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Status\n            </label>\n            <select\n              value={filters?.isActive === undefined ? '''' : filters.isActive.toString()}\n              onChange={handleStatusChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Statuses</option>\n              <option value=\"true\">Active</option>\n              <option value=\"false\">Inactive</option>\n            </select>\n          </div>\n          \n          {/* Model Developer Filter */}\n          {developers.length > 0 && (\n            <div>\n              <label style={{\n                display: ''block'',\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Model Developer\n              </label>\n              <select\n                value={filters?.developer || ''''}\n                onChange={handleDeveloperChange}\n                style={{\n                  width: ''100%'',\n                  padding: styles.spacing.sm,\n                  fontSize: styles.typography.fontSize.md,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  backgroundColor: styles.colors.background,\n                  color: styles.colors.text,\n                  cursor: ''pointer''\n                }}\n              >\n                <option value=\"\">All Developers</option>\n                {developers.map((dev) => (\n                  <option key={dev} value={dev}>\n                    {dev}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n          \n          {/* Inference Provider Filter */}\n          {providers.length > 0 && (\n            <div>\n              <label style={{\n                display: ''block'',\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Inference Provider\n              </label>\n              <select\n                value={filters?.provider || ''''}\n                onChange={handleProviderChange}\n                style={{\n                  width: ''100%'',\n                  padding: styles.spacing.sm,\n                  fontSize: styles.typography.fontSize.md,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  backgroundColor: styles.colors.background,\n                  color: styles.colors.text,\n                  cursor: ''pointer''\n                }}\n              >\n                <option value=\"\">All Providers</option>\n                {providers.map((provider) => (\n                  <option key={provider} value={provider}>\n                    {provider}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n          \n          {/* Active Filters Display */}\n          {activeFilterCount > 0 && (\n            <div>\n              <div style={{\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Active Filters\n              </div>\n              <div style={{\n                display: ''flex'',\n                flexDirection: ''column'',\n                gap: styles.spacing.xs\n              }}>\n                {filters?.modelType && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Type:\n                      </span>\n                      <strong>{modelTypes.find(t => t.ID === filters.modelType)?.Name || filters.modelType}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleModelTypeChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.isActive !== undefined && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Status:\n                      </span>\n                      <strong>{filters.isActive ? ''Active'' : ''Inactive''}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleStatusChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.developer && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Developer:\n                      </span>\n                      <strong>{filters.developer}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleDeveloperChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n                {filters?.provider && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Provider:\n                      </span>\n                      <strong>{filters.provider}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleProviderChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      \u2715\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Clear All Button */}\n        {activeFilterCount > 0 && (\n          <div style={{\n            marginTop: styles.spacing.xl,\n            paddingTop: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`\n          }}>\n            <button\n              onClick={handleClearFilters}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.surface,\n                color: styles.colors.text,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.error + ''15'';\n                e.currentTarget.style.color = styles.colors.error;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surface;\n                e.currentTarget.style.color = styles.colors.text;\n              }}\n            >\n              Clear All Filters\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}",
  "dependencies": [],
  "libraries": []
}'
SET
  @FunctionalRequirements_6144345d = N'Provide filters for model type, status, developer, and provider with active filter indicators.'
SET
  @TechnicalDesign_6144345d = N''
SET
  @FunctionalRequirementsVector_6144345d = N'[-0.057094506919384,0.053574346005916595,-0.02739069238305092,-0.03897964581847191,0.027060680091381073,-0.03369918093085289,0.037785567343235016,0.04354553669691086,0.000984774436801672,-0.03388954699039459,0.02818208374083042,0.050855912268161774,-0.05206209048628807,0.15853317081928253,0.006571861915290356,0.010366041213274002,0.03021368756890297,0.007224590517580509,0.01663404516875744,0.004692782647907734,-0.03751792013645172,0.011648328974843025,0.026384472846984863,0.02031363733112812,0.02801033854484558,0.01049545407295227,0.017359480261802673,0.02143928036093712,0.011368556879460812,-0.041338302195072174,0.02597801387310028,0.006483142729848623,-0.03463652729988098,-0.0203324556350708,0.0000015905346799627296,0.011982779949903488,-0.08444031327962875,-0.01118484791368246,-0.010456707328557968,0.008176044560968876,-0.001324459444731474,-0.006828876677900553,0.05802039057016373,0.02123715914785862,-0.02977154403924942,-0.034629903733730316,-0.05236756056547165,0.0627414658665657,0.03114461898803711,0.0065226624719798565,0.012701901607215405,0.09116017818450928,-0.011912202462553978,-0.03335246071219444,-0.08280135691165924,0.015224456787109375,0.03173644840717316,-0.022428279742598534,0.05823323875665665,0.042916569858789444,0.01727154664695263,0.03278380259871483,0.0009518619626760483,0.01964009553194046,0.028551941737532616,-0.007760487962514162,0.11965706199407578,-0.060749806463718414,0.02217916026711464,-0.0384756475687027,0.012523185461759567,0.001617609872482717,-0.030877605080604553,-0.05583774298429489,-0.0316978357732296,-0.017181599512696266,0.0170428566634655,-0.024526990950107574,-0.016753599047660828,0.033169884234666824,0.02698432095348835,0.016195615753531456,-0.007697473280131817,-0.011201383545994759,-0.06254952400922775,0.029145170003175735,0.018330687656998634,0.001205499516800046,-0.05253380164504051,-0.025356071069836617,0.005000579636543989,-0.019776318222284317,0.02783774398267269,-0.04093829542398453,-0.058531198650598526,-0.048036687076091766,0.018835334107279778,0.05320494994521141,0.019035395234823227,0.0182099137455225,-0.0469278059899807,0.038354553282260895,-0.033110905438661575,0.01709878072142601,-0.006126320455223322,-0.044022057205438614,0.02980155684053898,0.015892362222075462,-0.01665334403514862,0.011219917796552181,-0.003185742534697056,0.03720520809292793,-0.005761270876973867,0.054208915680646896,-0.017001453787088394,-0.00613487558439374,-0.030452925711870193,0.011345621198415756,-0.03675466403365135,-0.03307212516665459,0.07832150906324387,0.027727685868740082,0.024983763694763184,0.01291685365140438,0.04697107523679733,-0.008905778639018536,-0.024738425388932228,-0.017337748780846596,-0.033398453146219254,-0.03617525473237038,-0.014631643891334534,-0.06563086062669754,0.04118103161454201,-0.0399884358048439,0.015255986712872982,-0.05201520770788193,0.05177538841962814,-0.019126376137137413,-0.05214730277657509,-0.024708084762096405,0.07758092880249023,0.029418138787150383,-0.0452730767428875,0.06964061409235,-0.06138529255986214,-0.03500724211335182,-0.0036410957109183073,-0.08033211529254913,-0.03709147498011589,-0.008931792341172695,0.0036833365447819233,-0.020262908190488815,-0.008207145147025585,0.022604774683713913,0.004640783183276653,-0.01425810344517231,0.0014622884336858988,0.04723714664578438,-0.010581757873296738,-0.03953564912080765,-0.004080696031451225,-0.0038376827724277973,0.016139065846800804,0.017737900838255882,-0.022798987105488777,0.0067311800085008144,-0.053627412766218185,-0.0316348634660244,-0.06078451871871948,-0.0797290951013565,-0.04026154801249504,-0.060534000396728516,0.006307356525212526,0.042483970522880554,0.02090921439230442,-0.044252339750528336,0.10843297839164734,0.004312226083129644,0.022754529491066933,-0.0399617962539196,-0.002588310046121478,-0.03788427636027336,0.013918360695242882,-0.018162813037633896,-0.026796698570251465,-0.0512562058866024,-0.07560721784830093,0.06748680025339127,-0.0217512808740139,-0.022906675934791565,0.0044350880198180676,0.04862285777926445,-0.012794638983905315,0.04601122438907623,0.010697402991354465,0.027402427047491074,-0.012590080499649048,-0.032747697085142136,0.0029933652840554714,-0.022698810324072838,-0.019127992913126945,-0.061650775372982025,0.07797883450984955,0.027739644050598145,0.02860444039106369,-0.06237785890698433,-0.07208805531263351,0.0228815209120512,-0.03870092332363129,-0.03136109560728073,0.026496941223740578,0.0068813799880445,0.009417972527444363,0.035305626690387726,-0.028319422155618668,0.0458391048014164,0.06120912358164787,-0.012497465126216412,-0.05129481106996536,0.00741439126431942,-0.045331355184316635,-0.013210215605795383,-0.06199989095330238,0.033204060047864914,0.07314260303974152,0.00017474903143011034,0.03629471734166145,0.012091042473912239,0.02244737558066845,-0.006987066939473152,0.019478267058730125,-0.0006272401078604162,0.00943349115550518,-0.022934406995773315,0.029365452006459236,-0.03755335509777069,0.08868919312953949,0.1166549026966095,-0.017763355746865273,0.0638410821557045,0.017289405688643456,-0.004158094525337219,0.007477113977074623,-0.001348329009488225,-0.018309175968170166,0.00260528945364058,-0.022016964852809906,0.013334782794117928,0.0307890884578228,0.022256186231970787,0.067384734749794,0.009554070420563221,0.011050933040678501,-0.010630671866238117,-0.04311542958021164,-0.005522354040294886,-0.06876631081104279,-0.01152502279728651,0.0179849062114954,0.0601896308362484,0.026173772290349007,-0.02063044160604477,-0.00911802425980568,0.004627052694559097,0.03214127570390701,0.022609682753682137,0.02988109551370144,-0.03560463339090347,0.005426217336207628,0.013176880776882172,-0.025989746674895287,0.0008230142993852496,0.048382438719272614,0.0008155792020261288,0.030900130048394203,0.03574692830443382,-0.0280295480042696,0.023146657273173332,-0.002694064285606146,-0.05573156476020813,-0.04039667174220085,-0.053077563643455505,-0.012868858873844147,0.021736880764365196,-0.032130591571331024,0.024760711938142776,-0.004669815767556429,-0.04361753538250923,0.04420096054673195,-0.020414240658283234,0.01187921967357397,0.013804754242300987,0.0314178392291069,-0.02572605386376381,-0.025523357093334198,0.012137065641582012,-0.05999221280217171,0.11133206635713577,0.00006201229552971199,0.10606605559587479,-0.02070651948451996,0.020076870918273926,-0.03738430142402649,-0.0003290145832579583,-0.020925458520650864,0.028127843514084816,0.030128229409456253,0.015068241395056248,0.042850952595472336,0.01786821335554123,-0.043301474303007126,-0.010483067482709885,-0.019364146515727043,0.03299025818705559,-0.010317550972104073,-0.023258602246642113,0.04898235946893692,0.039262764155864716,0.015889741480350494,0.07760955393314362,0.006745863705873489,0.02691107988357544,-0.008869379758834839,0.037970662117004395,-0.0009133928106166422,-0.013221276924014091,-0.06314034759998322,0.010890766978263855,-0.09608200937509537,-0.016450639814138412,0.03130865469574928,-0.0001851303968578577,-0.006817452609539032,-0.06303530931472778,-0.06363529711961746,0.026201840490102768,-0.03321881592273712,0.026847902685403824,-0.009875403717160225,-0.004906020127236843,0.035671234130859375,0.01650857739150524,-0.026552533730864525,0.01142674870789051,0.06809648126363754,0.058681804686784744,-0.04100017622113228,0.014535749331116676,-0.060346923768520355,0.06763999909162521,-0.04346351698040962,0.030954919755458832,0.0009990496328100562,-0.02336699329316616,-0.016949757933616638,-0.05207056924700737,0.006469751242548227,-0.05407620221376419,-0.03125086426734924,-0.034207478165626526,0.09154804050922394,-0.009997145272791386,-0.040128614753484726,0.03537143021821976,-0.051033779978752136,0.020059777423739433,0.03519624471664429,-0.026047999039292336,0.04311593249440193,-0.011588077992200851,-0.052571725100278854,0.0031471257098019123,0.01374046690762043,0.02654510736465454,0.00940584484487772,-0.05821011960506439,0.02375771477818489,0.011878100223839283,-0.028766805306077003,0.03569071367383003,0.025654243305325508,0.01304799597710371,0.055616576224565506,-0.01587941125035286,-0.012486069463193417,-0.030449800193309784,0.03101813979446888,-0.0009754101629368961,0.06755679845809937,0.03416012227535248,-0.005508146248757839,-0.04399693384766579,0.015359281562268734,-0.0032189341727644205,0.02295106090605259,-0.045803252607584,-0.057698193937540054,-0.00031538246548734605,0.0007395042339339852,-0.005698819644749165,-0.001712704193778336,0.024567456915974617,-0.07265651971101761,-0.024440113455057144,-0.02409435622394085,-0.06686683744192123,0.0005064065335318446,0.026964286342263222,0.0007611321634612978,0.011062609031796455,-0.010304071009159088,-0.018429916352033615,-0.030398275703191757,-0.07026493549346924,0.0166896004229784,-0.05527978390455246,0.011653071269392967,0.03182608261704445,0.019651204347610474,0.04031117632985115,0.018847472965717316,-0.011658422648906708,0.030914535745978355,-0.04065362364053726,0.00837880652397871,-0.056396931409835815,0.0035342522896826267,-0.00034293890348635614,-0.004958667792379856,0.005426496732980013,-0.05804426968097687,0.05568813905119896,-0.004945505876094103,0.015061430633068085,0.02854568138718605,-0.02144872210919857,0.0024919910356402397,-0.04010389372706413,-0.07920458912849426,0.006306723691523075,-0.000802963157184422,0.023705923929810524,0.039411887526512146,0.018322866410017014,0.05220368877053261,0.0346030667424202,0.014286561869084835,0.03623393923044205,-0.0022235095966607332,-0.025795960798859596,0.017609842121601105,-0.0021808918099850416,-0.029995881021022797,-0.014928208664059639,-0.02649470418691635,-0.03151121735572815,-0.036861322820186615,-0.004208108875900507,-0.027522249147295952,0.014770276844501495,-0.021268267184495926,0.041042719036340714,-0.049395184963941574,-0.012334272265434265,0.011642446741461754,-0.0238900575786829,-0.039507970213890076,-0.012565427459776402,0.02574894018471241,0.03192862123250961,-0.024596238508820534,-0.039780739694833755,-0.0025503223296254873,-0.0062238965183496475,0.020962471142411232,-0.03478377312421799,-0.012683825567364693,-0.013067185878753662,-0.021955525502562523,-0.023080673068761826,-0.010134255513548851,0.011672778986394405,0.038000281900167465,-0.0964348241686821,-0.02961381897330284,0.010770498774945736,-0.016889676451683044,-0.005688961129635572,-0.03736149147152901,0.07344361394643784,0.004344511311501265,0.008939074352383614,-0.044027745723724365,-0.00843396969139576,0.03195350617170334,0.03152997046709061,-0.04328698664903641,-0.012918842025101185,-0.07471036911010742,-0.08078031986951828,-0.01019021961838007,-0.010425581596791744,0.0038926457054913044,-0.04070764407515526,0.004060151521116495,-0.02749105729162693,-0.0010586369317024946,0.03888365253806114,-0.013090376742184162,0.039124492555856705,-0.047001924365758896,0.00001865345984697342,-0.042157091200351715,-0.022033028304576874,0.004969553556293249,0.026762956753373146,0.022330258041620255,0.022220326587557793,0.0456877276301384,-0.028363971039652824,0.03114583157002926,0.00923461839556694,0.02209261991083622,0.039246004074811935,0.04010695219039917,-0.01904417760670185,0.0157903004437685,-0.0011867802822962403,-0.04151381179690361,0.03795401006937027,0.013773522339761257,0.03366272896528244,-0.07441597431898117,-0.010420137085020542,0.0012793922796845436,0.016408436000347137,0.06548161059617996,0.02438085712492466,-0.011511066928505898,0.03889446705579758,-0.043110281229019165,-0.004751753062009811,0.058075398206710815,0.0016088521806523204,-0.04126643389463425,-0.037909623235464096,-0.014635910280048847,0.0271208044141531,0.002465819241479039,-0.031179143115878105,-0.01636907458305359,-0.14571337401866913,-0.02847817912697792,0.024775343015789986,0.014949445612728596,-6.164566412832611e-33,-0.026976410299539566,-0.021459998562932014,-0.02834269031882286,-0.10182040184736252,0.008218033239245415,-0.0038583918940275908,0.04951023310422897,-0.05983166769146919,-0.022828156128525734,-0.054637469351291656,0.013662857003509998,0.05854702368378639,-0.006369348149746656,-0.013149315491318703,0.022058408707380295,0.010018543340265751,0.07449016720056534,0.007566413376480341,0.007928374223411083,0.029750145971775055,-0.05536932870745659,0.005692691076546907,-0.0482729934155941,0.001235900679603219,-0.06710927188396454,0.05026174709200859,-0.015000918880105019,0.013460331596434116,-0.09038832783699036,0.04750201106071472,-0.019291557371616364,-0.033307675272226334,-0.006680199410766363,0.02908398024737835,0.03417482227087021,-0.07143652439117432,0.044278405606746674,-0.003308924613520503,0.020764587447047234,-0.020169049501419067,0.07033509016036987,-0.015689464285969734,0.015366838313639164,0.023739608004689217,0.00759161775931716,-0.025451932102441788,0.04943455755710602,0.009997964836657047,0.024126188829541206,0.02607259713113308,0.016124268993735313,-0.002655297750607133,-0.0004760123847518116,0.09275908768177032,-0.0032095201313495636,0.0564383789896965,0.04526755213737488,-0.008890763856470585,0.03169982507824898,-0.04175962135195732,-0.012933886609971523,0.03605019301176071,-0.006806485820561647,0.07524744421243668,-0.011511854827404022,0.0015590934781357646,-0.09229719638824463,0.030789077281951904,0.021057112142443657,-0.057945799082517624,0.007542895618826151,0.0945894718170166,-0.009031295776367188,-0.048601239919662476,-0.05620088800787926,0.021614547818899155,0.011398714035749435,0.012981753796339035,-0.06045562028884888,0.021520446985960007,0.027878832072019577,0.0020915099885314703,0.004224804695695639,0.012129978276789188,0.026394447311758995,-0.04687771573662758,-0.019645931199193,0.044043686240911484,0.018249740824103355,0.030845709145069122,-0.026089437305927277,0.04514000937342644,0.00030930351931601763,0.013443517498672009,0.01338808424770832,-0.017895003780722618,-0.020094813778996468,-0.009864471852779388,0.008903443813323975,0.011399621143937111,0.06579457968473434,0.00312952883541584,-0.00036844940041191876,-0.0035739531740546227,-0.003357069566845894,-0.01554857473820448,0.012798530980944633,-0.032474335283041,-0.0029514210764318705,-0.006318194326013327,-0.00040266747237183154,0.01273148413747549,0.001410486875101924,-0.003149425145238638,0.009918422438204288,0.0335082970559597,0.03047874942421913,0.011104390025138855,0.028693251311779022,-0.0010061563225463033,0.0011443129042163491,0.0017347855027765036,0.010680709965527058,0.04547830671072006,0.014872466214001179,-0.03320300951600075,-0.01500278152525425,-0.013249138370156288,0.04602887108922005,-0.020786922425031662,-0.03582001477479935,0.029625168070197105,2.507278793473233e-7,0.010003257542848587,-0.016571462154388428,-0.04413329064846039,0.02827301435172558,-0.017393339425325394,-0.005946705117821693,0.05682383105158806,-0.04193733260035515,0.02819257602095604,0.0218461062759161,0.025370564311742783,0.014504622668027878,0.008171943947672844,0.02900308184325695,0.0056970734149217606,-0.07202247530221939,0.03386340290307999,0.008321224711835384,-0.08174245059490204,-0.0006705894484184682,0.06952211260795593,0.008782162331044674,0.034685876220464706,-0.0011795812752097845,0.01908234693109989,-0.022242635488510132,-0.011536898091435432,-0.016123685985803604,0.014807949773967266,0.03730060160160065,0.039327871054410934,-0.01236259751021862,0.02010851725935936,0.028118962422013283,-0.0036881454288959503,0.03192884102463722,-0.018780970945954323,-0.016039056703448296,-0.03296978399157524,-0.0011952993227168918,0.005054987967014313,0.021523641422390938,-0.011328003369271755,-0.006712543312460184,0.05860675126314163,0.015087220817804337,0.007099179085344076,-0.032943904399871826,-0.010067889466881752,-0.01882067136466503,0.015942277386784554,-0.013502905145287514,0.005678984802216291,0.014018826186656952,0.02856188826262951,0.00003109401950496249,-0.03520938754081726,0.01842409372329712,0.02876114472746849,-0.033162590116262436,-0.010114243254065514,-0.03613530471920967,0.002721301978453994,0.04154333844780922,0.07838460057973862,-0.008837325498461723,-0.03349469229578972,3.032118801323972e-34,-0.006456827279180288,0.0029394631274044514,0.045042842626571655,0.06342443078756332,0.04848966374993324,-0.02652139775454998,-0.031465575098991394,0.0026017886120826006,0.0007874912116676569,-0.05906039476394653,-0.015393836423754692]'
SET
  @HasCustomProps_6144345d = 1
SET
  @HasCustomEvents_6144345d = 1
SET
  @RequiresData_6144345d = 0
SET
  @DependencyCount_6144345d = 0
SET
  @FunctionalRequirementsVectorEmbeddingModelID_6144345d = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @ID_6144345d = '04395751-8D07-4906-BAE1-9D1789543E14'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_6144345d,
  @Name = @Name_6144345d,
  @Version = @Version_6144345d,
  @VersionSequence = @VersionSequence_6144345d,
  @Title = @Title_6144345d,
  @Description = @Description_6144345d,
  @Type = @Type_6144345d,
  @Status = @Status_6144345d,
  @DeveloperName = @DeveloperName_6144345d,
  @DeveloperEmail = @DeveloperEmail_6144345d,
  @DeveloperOrganization = @DeveloperOrganization_6144345d,
  @SourceRegistryID = @SourceRegistryID_6144345d,
  @ReplicatedAt = @ReplicatedAt_6144345d,
  @LastSyncedAt = @LastSyncedAt_6144345d,
  @Specification = @Specification_6144345d,
  @FunctionalRequirements = @FunctionalRequirements_6144345d,
  @TechnicalDesign = @TechnicalDesign_6144345d,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_6144345d,
  @TechnicalDesignVector = @TechnicalDesignVector_6144345d,
  @HasCustomProps = @HasCustomProps_6144345d,
  @HasCustomEvents = @HasCustomEvents_6144345d,
  @RequiresData = @RequiresData_6144345d,
  @DependencyCount = @DependencyCount_6144345d,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_6144345d,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_6144345d,
  @ID = @ID_6144345d;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_2c9dc62d NVARCHAR(MAX),
@Name_2c9dc62d NVARCHAR(500),
@Version_2c9dc62d NVARCHAR(50),
@VersionSequence_2c9dc62d INT,
@Title_2c9dc62d NVARCHAR(1000),
@Description_2c9dc62d NVARCHAR(MAX),
@Type_2c9dc62d NVARCHAR(255),
@Status_2c9dc62d NVARCHAR(50),
@DeveloperName_2c9dc62d NVARCHAR(255),
@DeveloperEmail_2c9dc62d NVARCHAR(255),
@DeveloperOrganization_2c9dc62d NVARCHAR(255),
@SourceRegistryID_2c9dc62d UNIQUEIDENTIFIER,
@ReplicatedAt_2c9dc62d DATETIMEOFFSET,
@LastSyncedAt_2c9dc62d DATETIMEOFFSET,
@Specification_2c9dc62d NVARCHAR(MAX),
@FunctionalRequirements_2c9dc62d NVARCHAR(MAX),
@TechnicalDesign_2c9dc62d NVARCHAR(MAX),
@FunctionalRequirementsVector_2c9dc62d NVARCHAR(MAX),
@TechnicalDesignVector_2c9dc62d NVARCHAR(MAX),
@HasCustomProps_2c9dc62d BIT,
@HasCustomEvents_2c9dc62d BIT,
@RequiresData_2c9dc62d BIT,
@DependencyCount_2c9dc62d INT,
@TechnicalDesignVectorEmbeddingModelID_2c9dc62d NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_2c9dc62d NVARCHAR(MAX),
@ID_2c9dc62d UNIQUEIDENTIFIER
SET
  @Namespace_2c9dc62d = N'AI'
SET
  @Name_2c9dc62d = N'AIModelAnalytics'
SET
  @Version_2c9dc62d = N'1.0.0'
SET
  @VersionSequence_2c9dc62d = 1
SET
  @Title_2c9dc62d = N'AI Model Analytics'
SET
  @Description_2c9dc62d = N'Analytics panel with charts showing prompt usage distribution, performance metrics, and time series'
SET
  @Type_2c9dc62d = N'Chart'
SET
  @Status_2c9dc62d = N'Published'
SET
  @Specification_2c9dc62d = N'{
  "name": "AIModelAnalytics",
  "title": "AI Model Analytics",
  "description": "Analytics panel with charts showing prompt usage distribution, performance metrics, and time series",
  "type": "chart",
  "functionalRequirements": "Display pie chart for prompt usage, bar chart for performance, time series for usage trends",
  "dataRequirements": null,
  "technicalDesign": "",
  "properties": [
    {"name": "model", "type": "object", "required": false, "description": "The selected AI model for analytics"},
    {"name": "promptRuns", "type": "array", "required": true, "description": "Array of prompt runs to analyze"},
    {"name": "view", "type": "string", "required": true, "description": "Current analytics view - ''prompts'', ''performance'', or ''timeline''"}
  ],
  "events": [
    {"name": "onViewChange", "description": "Fired when the analytics view changes", "parameters": [{"name": "view", "type": "string", "description": "New view name"}]}
  ],
  "exampleUsage": "<AIModelAnalytics ... />",
  "code": "function AIModelAnalytics({ \n  model,\n  promptRuns,\n  view,\n  onViewChange,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Calculate prompt usage statistics\n  const promptStats = useMemo(() => {\n    if (!promptRuns || promptRuns.length === 0) return [];\n    \n    const stats = {};\n    promptRuns.forEach(run => {\n      const promptName = run.PromptName || ''Unknown'';\n      if (!stats[promptName]) {\n        stats[promptName] = {\n          name: promptName,\n          runs: 0,\n          successfulRuns: 0,\n          failedRuns: 0,\n          totalTokens: 0,\n          avgExecutionTime: 0,\n          executionTimes: []\n        };\n      }\n      \n      stats[promptName].runs++;\n      if (run.Status === ''Success'' || run.Status === ''Completed'') {\n        stats[promptName].successfulRuns++;\n      } else if (run.Status === ''Failed'' || run.Status === ''Error'') {\n        stats[promptName].failedRuns++;\n      }\n      \n      stats[promptName].totalTokens += run.TotalTokens || 0;\n      if (run.TotalExecutionTime) {\n        stats[promptName].executionTimes.push(run.TotalExecutionTime);\n      }\n    });\n    \n    // Calculate averages\n    Object.values(stats).forEach(stat => {\n      if (stat.executionTimes.length > 0) {\n        stat.avgExecutionTime = stat.executionTimes.reduce((a, b) => a + b, 0) / stat.executionTimes.length;\n      }\n    });\n    \n    return Object.values(stats).sort((a, b) => b.runs - a.runs);\n  }, [promptRuns]);\n  \n  // Calculate time series data\n  const timeSeriesData = useMemo(() => {\n    if (!promptRuns || promptRuns.length === 0) return [];\n    \n    // Group by day\n    const dailyStats = {};\n    promptRuns.forEach(run => {\n      if (run.StartTime) {\n        const date = new Date(run.StartTime).toLocaleDateString();\n        if (!dailyStats[date]) {\n          dailyStats[date] = {\n            date,\n            runs: 0,\n            tokens: 0,\n            errors: 0\n          };\n        }\n        dailyStats[date].runs++;\n        dailyStats[date].tokens += run.TotalTokens || 0;\n        if (run.Status === ''Failed'' || run.Status === ''Error'') {\n          dailyStats[date].errors++;\n        }\n      }\n    });\n    \n    return Object.values(dailyStats).sort((a, b) => new Date(a.date) - new Date(b.date));\n  }, [promptRuns]);\n  \n  // Render pie chart\n  const renderPieChart = () => {\n    if (promptStats.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No prompt data available\n        </div>\n      );\n    }\n    \n    const total = promptStats.reduce((sum, stat) => sum + stat.runs, 0);\n    const colors = [\n      styles.colors.primary,\n      styles.colors.success || ''#4CAF50'',\n      styles.colors.warning || ''#FF9800'',\n      styles.colors.error || ''#F44336'',\n      styles.colors.info || ''#2196F3'',\n      ''#9C27B0'', ''#00BCD4'', ''#8BC34A'', ''#FFC107'', ''#795548''\n    ];\n    \n    // Create simple pie chart using SVG\n    let currentAngle = 0;\n    const segments = promptStats.slice(0, 5).map((stat, index) => {\n      const percentage = stat.runs / total;\n      const angle = percentage * 360;\n      const largeArcFlag = angle > 180 ? 1 : 0;\n      \n      const startX = 100 + 80 * Math.cos((currentAngle - 90) * Math.PI / 180);\n      const startY = 100 + 80 * Math.sin((currentAngle - 90) * Math.PI / 180);\n      \n      currentAngle += angle;\n      \n      const endX = 100 + 80 * Math.cos((currentAngle - 90) * Math.PI / 180);\n      const endY = 100 + 80 * Math.sin((currentAngle - 90) * Math.PI / 180);\n      \n      const pathData = [\n        `M 100 100`,\n        `L $' + '{startX} $' + '{startY}`,\n        `A 80 80 0 $' + '{largeArcFlag} 1 $' + '{endX} $' + '{endY}`,\n        ''Z''\n      ].join('' '');\n      \n      return {\n        path: pathData,\n        color: colors[index % colors.length],\n        percentage,\n        stat\n      };\n    });\n    \n    return (\n      <div>\n        <svg viewBox=\"0 0 200 200\" style={{ width: ''200px'', height: ''200px'', margin: ''0 auto'', display: ''block'' }}>\n          {segments.map((segment, index) => (\n            <g key={index}>\n              <path\n                d={segment.path}\n                fill={segment.color}\n                stroke={styles.colors.background}\n                strokeWidth=\"2\"\n                style={{ cursor: ''pointer'' }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.opacity = ''0.8'';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.opacity = ''1'';\n                }}\n              />\n            </g>\n          ))}\n        </svg>\n        \n        {/* Legend */}\n        <div style={{\n          marginTop: styles.spacing.md,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.xs\n        }}>\n          {segments.map((segment, index) => (\n            <div\n              key={index}\n              style={{\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm\n              }}\n            >\n              <div style={{\n                width: ''12px'',\n                height: ''12px'',\n                backgroundColor: segment.color,\n                borderRadius: ''2px''\n              }} />\n              <div style={{\n                flex: 1,\n                color: styles.colors.text,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                whiteSpace: ''nowrap''\n              }}>\n                {segment.stat.name}\n              </div>\n              <div style={{\n                color: styles.colors.textSecondary,\n                fontWeight: styles.typography.fontWeight?.medium || ''500''\n              }}>\n                {(segment.percentage * 100).toFixed(1)}%\n              </div>\n            </div>\n          ))}\n          {promptStats.length > 5 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary,\n              fontStyle: ''italic''\n            }}>\n              +{promptStats.length - 5} more prompts\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n  \n  // Render bar chart for performance\n  const renderPerformanceChart = () => {\n    if (promptStats.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No performance data available\n        </div>\n      );\n    }\n    \n    const maxTime = Math.max(...promptStats.map(s => s.avgExecutionTime || 0));\n    const displayStats = promptStats.slice(0, 10);\n    \n    return (\n      <div>\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.sm\n        }}>\n          {displayStats.map((stat, index) => (\n            <div key={index} style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.sm }}>\n              <div style={{\n                width: ''100px'',\n                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                color: styles.colors.text,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                whiteSpace: ''nowrap''\n              }}>\n                {stat.name}\n              </div>\n              <div style={{\n                flex: 1,\n                height: ''20px'',\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                overflow: ''hidden'',\n                position: ''relative''\n              }}>\n                <div style={{\n                  width: maxTime > 0 ? `$' + '{(stat.avgExecutionTime / maxTime) * 100}%` : ''0%'',\n                  height: ''100%'',\n                  backgroundColor: styles.colors.primary,\n                  transition: ''width 0.3s''\n                }} />\n                <div style={{\n                  position: ''absolute'',\n                  right: styles.spacing.xs,\n                  top: ''50%'',\n                  transform: ''translateY(-50%)'',\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary\n                }}>\n                  {stat.avgExecutionTime ? `$' + '{(stat.avgExecutionTime / 1000).toFixed(2)}s` : ''-''}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n  \n  // Render time series chart\n  const renderTimeSeriesChart = () => {\n    if (timeSeriesData.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No time series data available\n        </div>\n      );\n    }\n    \n    const maxRuns = Math.max(...timeSeriesData.map(d => d.runs));\n    const recentData = timeSeriesData.slice(-7);\n    \n    return (\n      <div>\n        <div style={{\n          display: ''flex'',\n          alignItems: ''flex-end'',\n          height: ''150px'',\n          gap: styles.spacing.xs,\n          marginBottom: styles.spacing.sm\n        }}>\n          {recentData.map((data, index) => (\n            <div\n              key={index}\n              style={{\n                flex: 1,\n                display: ''flex'',\n                flexDirection: ''column'',\n                alignItems: ''center'',\n                gap: styles.spacing.xs\n              }}\n            >\n              <div style={{\n                width: ''100%'',\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                position: ''relative'',\n                flex: 1,\n                display: ''flex'',\n                alignItems: ''flex-end''\n              }}>\n                <div style={{\n                  width: ''100%'',\n                  height: maxRuns > 0 ? `$' + '{(data.runs / maxRuns) * 100}%` : ''0%'',\n                  backgroundColor: data.errors > 0 \n                    ? styles.colors.error \n                    : styles.colors.primary,\n                  borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                  transition: ''height 0.3s''\n                }} />\n              </div>\n              <div style={{\n                fontSize: ''10px'',\n                color: styles.colors.textSecondary,\n                textAlign: ''center''\n              }}>\n                {new Date(data.date).toLocaleDateString(''en'', { month: ''short'', day: ''numeric'' })}\n              </div>\n            </div>\n          ))}\n        </div>\n        <div style={{\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n          color: styles.colors.textSecondary\n        }}>\n          <span>Runs per day (last 7 days)</span>\n          <span>Max: {maxRuns}</span>\n        </div>\n      </div>\n    );\n  };\n  \n  return (\n    <div style={{\n      height: ''100%'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      backgroundColor: styles.colors.surface\n    }}>\n      {/* Header with View Selector */}\n      <div style={{\n        padding: styles.spacing.lg,\n        borderBottom: `1px solid $' + '{styles.colors.border}`\n      }}>\n        <h3 style={{\n          margin: 0,\n          marginBottom: styles.spacing.md,\n          fontSize: styles.typography.fontSize.lg,\n          fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n          color: styles.colors.text\n        }}>\n          Analytics\n        </h3>\n        \n        {/* View Tabs */}\n        <div style={{\n          display: ''flex'',\n          gap: styles.spacing.xs,\n          borderBottom: `1px solid $' + '{styles.colors.border}`\n        }}>\n          <button\n            onClick={() => onViewChange?.(''prompts'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''prompts'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''prompts'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Prompt Usage\n          </button>\n          <button\n            onClick={() => onViewChange?.(''performance'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''performance'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''performance'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Performance\n          </button>\n          <button\n            onClick={() => onViewChange?.(''timeline'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''timeline'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''timeline'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Timeline\n          </button>\n        </div>\n      </div>\n      \n      {/* Content Area */}\n      <div style={{\n        flex: 1,\n        padding: styles.spacing.lg,\n        overflow: ''auto''\n      }}>\n        {!model ? (\n          <div style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''center'',\n            height: ''100%'',\n            color: styles.colors.textSecondary,\n            fontSize: styles.typography.fontSize.sm\n          }}>\n            Select a model to view analytics\n          </div>\n        ) : (\n          <>\n            {/* Summary Stats */}\n            <div style={{\n              display: ''grid'',\n              gridTemplateColumns: ''repeat(2, 1fr)'',\n              gap: styles.spacing.sm,\n              marginBottom: styles.spacing.lg\n            }}>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Total Runs\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  {promptRuns.length}\n                </div>\n              </div>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Unique Prompts\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  {promptStats.length}\n                </div>\n              </div>\n            </div>\n            \n            {/* Chart Area */}\n            <div>\n              {view === ''prompts'' && renderPieChart()}\n              {view === ''performance'' && renderPerformanceChart()}\n              {view === ''timeline'' && renderTimeSeriesChart()}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}",
  "dependencies": [],
  "libraries": []
}'
SET
  @FunctionalRequirements_2c9dc62d = N'Display pie chart for prompt usage, bar chart for performance, time series for usage trends.'
SET
  @TechnicalDesign_2c9dc62d = N''
SET
  @FunctionalRequirementsVector_2c9dc62d = N'[-0.025757480412721634,-0.035494305193424225,-0.034683942794799805,-0.03108888305723667,0.011409773491322994,0.02220533974468708,0.04339675232768059,0.03110852651298046,-0.011788226664066315,0.039237067103385925,0.05451994761824608,0.011413711123168468,-0.0120750917121768,0.08038156479597092,-0.006415870506316423,-0.09074358642101288,-0.02278922125697136,0.02330203726887703,0.03142634406685829,0.045185916125774384,0.031009402126073837,0.015692904591560364,0.0009332643239758909,-0.0005026400904171169,-0.024309927597641945,-0.03163156658411026,0.0005736449384130538,-0.00310957757756114,0.06444667279720306,-0.14553244411945343,-0.01158208679407835,0.021447019651532173,-0.047411881387233734,-0.009547190740704536,0.0000016128741435750271,-0.040715523064136505,0.01813509315252304,0.01453386154025793,-0.07704820483922958,0.05737484619021416,0.044568981975317,-0.027720429003238678,0.08937878906726837,0.006462597753852606,0.026455553248524666,0.04238066077232361,0.0034057809971272945,-0.015282399952411652,0.056203693151474,-0.007906896062195301,0.004115806892514229,0.0640806183218956,-0.07381054759025574,-0.04926709458231926,-0.020567143335938454,0.018018702045083046,-0.024478854611516,-0.017441650852560997,0.07727426290512085,0.03997652232646942,-0.02111935056746006,0.0031438448932021856,0.002535703359171748,0.023539189249277115,-0.020387817174196243,0.019999146461486816,0.1023835837841034,-0.04629360884428024,0.0009168283431790769,-0.003293738467618823,0.062087275087833405,0.009002674371004105,0.01884773001074791,-0.06317242980003357,-0.003451951779425144,0.03154850751161575,-0.02944920025765896,-0.06465259939432144,-0.015427694655954838,-0.03667151555418968,-0.04863546043634415,0.040697500109672546,-0.021930860355496407,-0.026221858337521553,0.026829222217202187,-0.0586862787604332,-0.02122802473604679,-0.023657623678445816,-0.033494025468826294,0.012985237874090672,0.0048142834566533566,0.036939915269613266,-0.004494923632591963,-0.0208466574549675,-0.04128003865480423,-0.01798209920525551,0.051397424191236496,-0.039533764123916626,0.05085207521915436,0.037615519016981125,0.05956854671239853,0.02548138052225113,-0.0035243865568190813,0.005758399143815041,0.03174402564764023,0.027755338698625565,0.054611045867204666,-0.09747941792011261,-0.009711666032671928,0.027340473607182503,0.031424205750226974,-0.0016638195374980569,0.005953268148005009,-0.031922951340675354,0.06209671497344971,-0.018130604177713394,-0.046951279044151306,0.027743101119995117,0.03182384744286537,0.018321914598345757,0.11359968781471252,-0.0034649756271392107,0.010539989918470383,0.002799045527353883,-0.015762416645884514,0.0089739840477705,-0.03410949185490608,-0.003669132012873888,-0.010508106090128422,-0.018525244668126106,-0.017988048493862152,-0.03404628485441208,0.015142473392188549,0.0011677475413307548,-0.010868298821151257,-0.027337457984685898,0.008705264888703823,0.05177370086312294,-0.08450998365879059,-0.0342409685254097,-0.006185262929648161,0.013948668725788593,-0.036725498735904694,-0.004427393898367882,0.0014687719522044063,0.0004887811955995858,0.02176598273217678,0.08411131799221039,-0.008139214478433132,0.034050870686769485,0.009930731728672981,-0.013361514545977116,-0.020978033542633057,0.007474783807992935,-0.025553690269589424,-0.023227090016007423,-0.01728159934282303,-0.030894985422492027,-0.061866458505392075,0.02780240774154663,0.006935492157936096,-0.025082435458898544,-0.017273345962166786,0.012047924101352692,-0.010925051756203175,0.026253413408994675,-0.03988627344369888,-0.030780598521232605,-0.043443262577056885,-0.057527054101228714,-0.06694724410772324,-0.028230924159288406,-0.02617226168513298,0.031099602580070496,0.0011316179297864437,0.04360325261950493,0.0828331708908081,-0.07132887095212936,0.03102707490324974,-0.020151598379015923,0.013814065605401993,-0.04148884490132332,-0.005634760949760675,0.03955398127436638,0.02802337147295475,0.02246454916894436,-0.0780976265668869,-0.030475961044430733,-0.011464356444776058,-0.0007811248069629073,-0.033123936504125595,0.01265552919358015,-0.06935781985521317,0.03044855408370495,-0.003862762590870261,0.022306697443127632,0.021019749343395233,-0.07242119312286377,0.013932253234088421,0.004899275954812765,-0.011142287403345108,-0.025226330384612083,0.03750874474644661,0.0838264748454094,-0.008876794949173927,0.013808001764118671,0.05373184755444527,-0.014472901821136475,0.028264304623007774,0.012029689736664295,0.08582448214292526,0.016329362988471985,-0.04867493361234665,0.018089719116687775,-0.0340832956135273,0.03144548460841179,-0.025520101189613342,0.0280444473028183,-0.020961234346032143,0.05248795449733734,0.014687569811940193,-0.021096093580126762,-0.02588445506989956,-0.002136901021003723,0.05734517425298691,-0.009879869408905506,0.01572522148489952,0.00545458123087883,-0.002541211200878024,0.05242408439517021,0.0028271109331399202,0.015103557147085667,0.0002449160092510283,0.008601137436926365,0.009231103584170341,0.014069605618715286,0.022319072857499123,0.02676149643957615,0.010529364459216595,0.026415113359689713,-0.0002977619005832821,-0.04513900727033615,-0.034847572445869446,-0.004787557292729616,-0.010929576121270657,-0.07841084897518158,0.03264075890183449,-0.0073653762228786945,-0.005929272156208754,0.013364612124860287,0.015876997262239456,0.0035397724714130163,0.039493829011917114,-0.01784621924161911,0.03318055346608162,0.0370987206697464,0.05423172190785408,-0.029665090143680573,-0.06832602620124817,0.02437165379524231,0.019046735018491745,-0.007707259617745876,0.003466295311227441,0.0069914767518639565,0.011725868098437786,-0.0366329550743103,0.08418957144021988,-0.05400298535823822,-0.024589449167251587,0.0028343575540930033,0.006081844680011272,0.018857011571526527,0.012329722754657269,-0.04105643928050995,-0.04091748222708702,0.021059824153780937,-0.042306821793317795,0.00464279530569911,0.013830923475325108,0.035727813839912415,0.002511513652279973,-0.033073559403419495,0.01690974459052086,0.029822014272212982,-0.0015691970475018024,-0.04142586514353752,0.020060745999217033,0.015959730371832848,0.0531625896692276,0.006104614119976759,0.061206042766571045,-0.045044783502817154,0.04325322434306145,0.013942589983344078,-0.00853924360126257,0.028248675167560577,0.06928785890340805,0.044934310019016266,-0.01651950553059578,0.03186792507767677,-0.07756990194320679,0.013935554772615433,-0.0180054921656847,0.00685326149687171,-0.022518103942275047,0.030326955020427704,0.0764591246843338,-0.08689389377832413,0.031058816239237785,0.016290778294205666,0.058274511247873306,0.008801311254501343,0.04352859780192375,-0.011591006070375443,-0.015504352748394012,0.0292507391422987,-0.0799373909831047,0.06871911883354187,-0.03534383326768875,0.020710760727524757,0.05502444878220558,0.0050369384698569775,-0.0005390632431954145,-0.009240674786269665,-0.00828512478619814,0.038247380405664444,-0.10248906165361404,-0.003529041074216366,-0.009933345019817352,-0.011698130518198013,-0.0014621047303080559,-0.013365560211241245,-0.03274516761302948,0.029499612748622894,-0.03579564765095711,0.04644913226366043,-0.013735054060816765,-0.0768572986125946,0.011144721880555153,-0.030042635276913643,-0.0007861228077672422,0.011613714508712292,-0.0362044982612133,-0.024993473663926125,0.01959417760372162,-0.053222231566905975,0.01105284970253706,-0.007804189343005419,0.03950981795787811,-0.03854601830244064,0.056211017072200775,0.018308749422430992,0.02402128279209137,-0.023786036297678947,0.06438153982162476,-0.017994876950979233,-0.039949312806129456,0.03454149141907692,-0.08314964920282364,-0.03881331533193588,-0.0072170644998550415,0.00634625181555748,0.010754270479083061,0.0007947045378386974,-0.0253977682441473,0.013540857471525669,-0.039074014872312546,0.012235493399202824,0.015127554535865784,0.027893664315342903,-0.050685882568359375,0.06402935087680817,0.07994598895311356,0.03338675945997238,0.0037677104119211435,0.019673898816108704,0.008565385825932026,0.018719324842095375,-0.06495054811239243,0.018231011927127838,0.009883864782750607,-0.02571054920554161,0.03598342835903168,-0.02713908441364765,0.10435672849416733,-0.033320002257823944,-0.024986229836940765,-0.00258462131023407,-0.008617649786174297,-0.011712826788425446,-0.02387898974120617,0.025847921147942543,0.0368356853723526,-0.03621240332722664,-0.002849066397175193,-0.014804616570472717,-0.03553178906440735,-0.024692902341485023,-0.01378361415117979,0.008646364323794842,0.04058680683374405,-0.06774287670850754,-0.022837314754724503,-0.023842474445700645,0.025734396651387215,-0.052467476576566696,-0.00015744961274322122,0.049217578023672104,-0.03724142909049988,-0.006518136709928513,-0.057121239602565765,0.007336537819355726,0.024814698845148087,-0.05799945443868637,0.017735810950398445,0.022432716563344002,-0.017145585268735886,-0.011161727830767632,0.03575387969613075,0.06873870640993118,0.022157983854413033,0.034194473177194595,0.012471883557736874,-0.005417353473603725,0.006157049909234047,-0.052071601152420044,0.02672664076089859,0.009589456021785736,-0.025257520377635956,0.03409093990921974,-0.014248402789235115,-0.004235622473061085,-0.0362282320857048,0.010498221032321453,-0.06142712011933327,0.002330998657271266,-0.08495458215475082,0.0024758167564868927,0.005221578758209944,0.010277189314365387,-0.009528029710054398,-0.002010192023590207,0.03365924209356308,0.009177434258162975,-0.02460864931344986,-0.046074941754341125,0.038596633821725845,-0.012619512155652046,-0.024880001321434975,0.022126497700810432,0.03551346808671951,-0.0449456050992012,-0.025918519124388695,0.017494887113571167,0.03424012288451195,-0.0010227685561403632,-0.028747837990522385,0.009338448755443096,0.004748587496578693,-0.0002534112427383661,0.008487492799758911,0.018171392381191254,-0.0968232974410057,0.00020373611187096685,0.06427880376577377,0.05652047321200371,0.06888186186552048,0.010042567737400532,-0.009596002288162708,-0.06319920718669891,0.08399517089128494,-0.00826727133244276,-0.028915157541632652,-0.006024646107107401,-0.004644525237381458,-0.048458002507686615,-0.023357156664133072,-0.04463696479797363,-0.014893485233187675,-0.01935509964823723,0.054874010384082794,0.014834728091955185,0.009432592429220676,-0.07844719290733337,0.002253428101539612,-0.03071633353829384,-0.01393753569573164,-0.01508411206305027,0.036526188254356384,-0.007195080164819956,0.018431110307574272,-0.05460454151034355,-0.023722410202026367,0.037095654755830765,0.028896795585751534,-0.04644562304019928,-0.09654878079891205,0.013352248817682266,-0.005547103937715292,-0.02480929158627987,-0.008637472055852413,0.020366376265883446,-0.025375034660100937,-0.034283049404621124,-0.014462042599916458,0.03521569445729256,0.05468148738145828,0.006055631209164858,-0.05254990980029106,0.026777317747473717,0.04057789966464043,-0.007278818171471357,0.0050313472747802734,-0.07737834751605988,0.04812401160597801,0.016074201092123985,-0.04814458265900612,-0.011810971423983574,-0.05272006615996361,-0.018807897344231606,0.0017125956946983933,-0.024823281913995743,0.0012100980384275317,-0.0030853350181132555,0.07277941703796387,-0.0394786037504673,0.01872076280415058,-0.013709641061723232,-0.08435589075088501,0.026587728410959244,-0.046338558197021484,-0.05187872424721718,-0.03956211730837822,-0.00760657899081707,-0.05270974338054657,0.01892130635678768,0.03579843416810036,0.03300616890192032,-0.006398877128958702,0.019213082268834114,-0.014733263291418552,-0.02153642848134041,0.002414204180240631,-0.0161104965955019,-0.018820414319634438,0.017625436186790466,0.010569028556346893,-0.03192611038684845,-0.04039747267961502,0.034994542598724365,-0.017823077738285065,0.015697091817855835,-0.02238437347114086,0.015353534370660782,-0.07221315801143646,-5.841175059951938e-33,-0.03085905686020851,-0.04391549155116081,-0.004330786410719156,0.052425045520067215,0.018316850066184998,0.011320650577545166,0.030839383602142334,-0.00377872446551919,-0.023116078227758408,-0.025032423436641693,-0.027874857187271118,0.00887389574199915,0.005258589051663876,-0.04242001473903656,0.026466351002454758,-0.002741805976256728,0.06683945655822754,0.021678853780031204,-0.010469172149896622,-0.001787753077223897,0.030039986595511436,0.0003931223473045975,-0.012359937652945518,-0.03144634887576103,-0.0010441679041832685,0.03775908052921295,0.02767738327383995,-0.0027904377784579992,-0.011093471199274063,-0.054198842495679855,0.027928298339247704,-0.01174594834446907,-0.008142736740410328,0.03674423322081566,-0.028156325221061707,0.0891113206744194,0.0277920700609684,-0.08912363648414612,0.028812667354941368,-0.0012758044758811593,0.02092319168150425,0.007670524530112743,-0.0006601105560548604,-0.006655917037278414,-0.0236488189548254,-0.01974932849407196,0.025860287249088287,0.03035491146147251,-0.009090112522244453,0.04745922610163689,0.044281017035245895,-0.002736130729317665,0.001469293376430869,0.04350760951638222,-0.03381537273526192,0.1029190644621849,0.01822115294635296,0.009951191954314709,-0.08335025608539581,0.01615179143846035,0.0002625466731842607,-0.01932660862803459,0.012397612445056438,0.03560308739542961,-0.0033019434195011854,0.0063748485408723354,-0.06256473809480667,-0.01071791909635067,0.02006611041724682,0.030535070225596428,0.008782698772847652,0.020526709035038948,0.03721016272902489,-0.07877099514007568,-0.025792701169848442,-0.06620986014604568,0.017206329852342606,0.005213608965277672,0.07090403139591217,0.004527244251221418,-0.015503098256886005,-0.013782608322799206,-0.019836917519569397,-0.02963407337665558,0.06454204767942429,0.025444721803069115,0.011750554665923119,-0.015892231836915016,0.023556126281619072,0.03766164928674698,-0.028365958482027054,0.022973371669650078,-0.018458809703588486,0.03132785111665726,0.03509887307882309,-0.009819361381232738,0.07857855409383774,0.019130902364850044,-0.006170479580760002,-0.09178817272186279,-0.020414534956216812,0.008106253109872341,-0.04468398913741112,0.015648851171135902,0.03979901596903801,-0.030608003959059715,0.0077399807050824165,-0.013988985680043697,-0.015222341753542423,-0.029953109100461006,0.030570192262530327,-0.0020750798285007477,-0.005323255434632301,-0.061865344643592834,0.004903928376734257,0.019368302077054977,-0.005930288694798946,0.04466584697365761,-0.01807360164821148,-0.057842038571834564,-0.014583493582904339,-0.019271180033683777,-0.004775411449372768,-0.022753598168492317,0.011872932314872742,-0.048243165016174316,-0.027904951944947243,0.027242664247751236,0.05406152084469795,0.018619727343320847,-0.021448908373713493,-0.014660852029919624,2.431966095173266e-7,0.01858111098408699,-0.01279666181653738,-0.0022359141148626804,0.07508783042430878,0.008432503789663315,-0.0246280487626791,0.00017596087127458304,-0.009270643815398216,0.026736656203866005,-0.0365319587290287,0.025475433096289635,-0.01860727183520794,0.010537567548453808,0.05291008949279785,-0.014580590650439262,-0.04824267327785492,-0.043429069221019745,-0.04205119609832764,-0.06306260079145432,0.06330399960279465,0.10816489160060883,-0.019078200682997704,0.04724709689617157,0.019587967544794083,0.05294835940003395,-0.03318830952048302,-0.024768460541963577,-0.019562656059861183,0.023760832846164703,-0.022797172889113426,-0.0279920045286417,0.05144401267170906,0.02040536142885685,0.043963439762592316,-0.03249460831284523,-0.014942958950996399,-0.014919782057404518,-0.01662004552781582,0.014784911647439003,0.05655236914753914,0.010966814123094082,0.009181762114167213,-0.015132434666156769,0.010733612813055515,0.004784774500876665,-0.0036324819084256887,0.019721336662769318,0.06585188955068588,0.03867188096046448,-0.04087585583329201,0.05508915334939957,-0.004521788563579321,0.003907905891537666,-0.023787537589669228,0.02892370894551277,0.01796978898346424,-0.03441305458545685,0.06582360714673996,0.024673065170645714,0.053132783621549606,-0.023539818823337555,-0.0674491822719574,-0.013277466408908367,0.009953641332685947,-0.010162709280848503,0.016896391287446022,-0.03791673108935356,2.0014377780945574e-34,-0.0050595588982105255,0.0033184064086526632,0.03430703282356262,-0.024605927988886833,0.006994843948632479,0.026932964101433754,0.0029966237489134073,0.007559799589216709,0.017183352261781693,-0.03481653705239296,-0.03592648729681969]'
SET
  @HasCustomProps_2c9dc62d = 1
SET
  @HasCustomEvents_2c9dc62d = 1
SET
  @RequiresData_2c9dc62d = 0
SET
  @DependencyCount_2c9dc62d = 0
SET
  @FunctionalRequirementsVectorEmbeddingModelID_2c9dc62d = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @ID_2c9dc62d = '509FF2B7-692D-490B-A282-D80FD370E5EB'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_2c9dc62d,
  @Name = @Name_2c9dc62d,
  @Version = @Version_2c9dc62d,
  @VersionSequence = @VersionSequence_2c9dc62d,
  @Title = @Title_2c9dc62d,
  @Description = @Description_2c9dc62d,
  @Type = @Type_2c9dc62d,
  @Status = @Status_2c9dc62d,
  @DeveloperName = @DeveloperName_2c9dc62d,
  @DeveloperEmail = @DeveloperEmail_2c9dc62d,
  @DeveloperOrganization = @DeveloperOrganization_2c9dc62d,
  @SourceRegistryID = @SourceRegistryID_2c9dc62d,
  @ReplicatedAt = @ReplicatedAt_2c9dc62d,
  @LastSyncedAt = @LastSyncedAt_2c9dc62d,
  @Specification = @Specification_2c9dc62d,
  @FunctionalRequirements = @FunctionalRequirements_2c9dc62d,
  @TechnicalDesign = @TechnicalDesign_2c9dc62d,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_2c9dc62d,
  @TechnicalDesignVector = @TechnicalDesignVector_2c9dc62d,
  @HasCustomProps = @HasCustomProps_2c9dc62d,
  @HasCustomEvents = @HasCustomEvents_2c9dc62d,
  @RequiresData = @RequiresData_2c9dc62d,
  @DependencyCount = @DependencyCount_2c9dc62d,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_2c9dc62d,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_2c9dc62d,
  @ID = @ID_2c9dc62d;


-- End of SQL Logging Session
-- Session ID: d105066c-55e3-4b18-b759-c433b98af4d4
-- Completed: 2025-08-15T19:49:30.528Z
-- Duration: 148598ms
-- Total Statements: 11