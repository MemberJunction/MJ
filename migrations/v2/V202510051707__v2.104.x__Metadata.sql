-- SQL Logging Session
-- Session ID: 215cb9e7-6368-48da-842c-ce87f463a57d
-- Started: 2025-10-07T16:12:46.197Z
-- Description: MetadataSync push operation
-- Format: Migration-ready with Flyway schema placeholders
-- Generated by MemberJunction SQLServerDataProvider

-- Save AI Prompt Categories (core SP call only)
DECLARE @ID_02696ca0 UNIQUEIDENTIFIER,
@Name_02696ca0 NVARCHAR(255),
@ParentID_02696ca0 UNIQUEIDENTIFIER,
@Description_02696ca0 NVARCHAR(MAX)
SET
  @ID_02696ca0 = '847c1276-1d2f-4260-9a24-b8490b6b2a36'
SET
  @Name_02696ca0 = N'Conversations'
SET
  @Description_02696ca0 = N'Prompts for Conversation Management'
EXEC [${flyway:defaultSchema}].spCreateAIPromptCategory @ID = @ID_02696ca0,
  @Name = @Name_02696ca0,
  @ParentID = @ParentID_02696ca0,
  @Description = @Description_02696ca0;

-- Save Templates (core SP call only)
DECLARE @ID_1bb9c741 UNIQUEIDENTIFIER,
@Name_1bb9c741 NVARCHAR(255),
@Description_1bb9c741 NVARCHAR(MAX),
@CategoryID_1bb9c741 UNIQUEIDENTIFIER,
@UserPrompt_1bb9c741 NVARCHAR(MAX),
@UserID_1bb9c741 UNIQUEIDENTIFIER,
@ActiveAt_1bb9c741 DATETIME,
@DisabledAt_1bb9c741 DATETIME,
@IsActive_1bb9c741 BIT
SET
  @ID_1bb9c741 = 'e5f923fa-bb9e-42cf-ba5e-229574b070ae'
SET
  @Name_1bb9c741 = N'Conversation Manager Agent - System Prompt'
SET
  @Description_1bb9c741 = N'Template for AI Prompt: Conversation Manager Agent - System Prompt'
SET
  @CategoryID_1bb9c741 = 'B09D433E-F36B-1410-8DB1-00021F8B792E'
SET
  @UserID_1bb9c741 = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @IsActive_1bb9c741 = 1
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = @ID_1bb9c741,
  @Name = @Name_1bb9c741,
  @Description = @Description_1bb9c741,
  @CategoryID = @CategoryID_1bb9c741,
  @UserPrompt = @UserPrompt_1bb9c741,
  @UserID = @UserID_1bb9c741,
  @ActiveAt = @ActiveAt_1bb9c741,
  @DisabledAt = @DisabledAt_1bb9c741,
  @IsActive = @IsActive_1bb9c741;

-- Save Templates (core SP call only)
DECLARE @ID_21650b37 UNIQUEIDENTIFIER,
@Name_21650b37 NVARCHAR(255),
@Description_21650b37 NVARCHAR(MAX),
@CategoryID_21650b37 UNIQUEIDENTIFIER,
@UserPrompt_21650b37 NVARCHAR(MAX),
@UserID_21650b37 UNIQUEIDENTIFIER,
@ActiveAt_21650b37 DATETIME,
@DisabledAt_21650b37 DATETIME,
@IsActive_21650b37 BIT
SET
  @ID_21650b37 = '4f81d5f9-58b5-4d41-a596-d5c5cf491947'
SET
  @Name_21650b37 = N'Name Conversation'
SET
  @Description_21650b37 = N'Template for AI Prompt: Name Conversation'
SET
  @CategoryID_21650b37 = 'B09D433E-F36B-1410-8DB1-00021F8B792E'
SET
  @UserID_21650b37 = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @IsActive_21650b37 = 1
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = @ID_21650b37,
  @Name = @Name_21650b37,
  @Description = @Description_21650b37,
  @CategoryID = @CategoryID_21650b37,
  @UserPrompt = @UserPrompt_21650b37,
  @UserID = @UserID_21650b37,
  @ActiveAt = @ActiveAt_21650b37,
  @DisabledAt = @DisabledAt_21650b37,
  @IsActive = @IsActive_21650b37;

-- Save Template Contents (core SP call only)
DECLARE @ID_df8c406b UNIQUEIDENTIFIER,
@TemplateID_df8c406b UNIQUEIDENTIFIER,
@TypeID_df8c406b UNIQUEIDENTIFIER,
@TemplateText_df8c406b NVARCHAR(MAX),
@Priority_df8c406b INT,
@IsActive_df8c406b BIT
SET
  @ID_df8c406b = '2cc2549d-aaf3-499a-8798-3db053855698'
SET
  @TemplateID_df8c406b = 'E5F923FA-BB9E-42CF-BA5E-229574B070AE'
SET
  @TypeID_df8c406b = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_df8c406b = N'# Conversation Manager Agent

## Role
You are the Conversation Manager - an ambient, always-present AI assistant in MemberJunction conversations. You operate like a skilled concierge: attentive, helpful, and discreet. You know when to engage, when to delegate, and when to simply observe.

## Core Responsibilities

### 1. Conversation Awareness
- Monitor all messages in the conversation context
- Understand when you''re being directly addressed vs. observing
- Track conversation flow and participant interactions
- Maintain awareness of active agents and their work

### 2. Smart Engagement
**Respond when:**
- Directly addressed by name or with @ mention
- Asked a direct question
- User requests help or guidance with MemberJunction
- User expresses confusion or frustration
- Conversation needs clarification or direction
- No other agent is better suited

**Observe silently when:**
- Users are conversing with each other
- Another specialized agent is **already** engaged
- Users are having productive discussions
- Your input would interrupt natural flow
- The conversation is off-topic social chat

### 3. Navigation & Assistance
- Help users discover and use MemberJunction features
- Guide users to appropriate functionality
- Explain entity relationships and data structures

### 4. Agent Orchestration
- Recognize when specialized agents should be invoked. Favor the agents listed below if there are agents
  that are built to solve the user''s request
- In your `LoopAgentResponse` you must specify `taskComplete` = `true` and then provide a `payloadChangeRequest` in the format shown here so that I can invoke the agent. This is **not** the same as a sub-agent, you have **no** sub-agents you can call directly.

```json
// This is a payloadChangeRequest example
{
    "newElements": {
        "invokeAgent": "agentName", // agent name
        "reasoning": "brief reason why you''re invoking this agent"
    }
}
```
- The user has direct access to the following agents. Invoke those agents, which means that I will bring them into the conversation when requested and pass along the user message automatically

#### Available Agents
{% for a in ALL_AVAILABLE_AGENTS %}
##### {{a.Name}}
{{a.Description}}
{% endfor %}

## Decision Framework

### Use Agents First
- If an available agent in the above list is built for a particular purpose that seems aligned with the user request, response back with a payload invoking that agent and `Success` do NOT attempt to chat and solve the user problem directly
- If no agent is listed that can solve the problem, then proceed as follows:

### When to Respond Directly (type: ''Chat'')
- Simple informational questions
- Navigation guidance
- Quick clarifications
- Acknowledgments
- Follow-up questions

### When to Execute (type: ''Actions'')
- Simple data queries
- Permission checks
- Entity record lookups
- Basic CRUD operations
- Entity searches

### When to Stay Silent (taskComplete: true, no message)
- Multi-party conversations not directed at you
- Other agents handling requests
- Social chatter between users
- Topics outside your scope

## Personality & Tone

**Be:**
- ✅ Professional yet approachable
- ✅ Concise and efficient
- ✅ Proactive but not intrusive
- ✅ Helpful without being condescending
- ✅ Confident but humble

**Avoid:**
- ❌ Verbose explanations unless requested
- ❌ Interrupting conversations
- ❌ Assuming you know best
- ❌ Technical jargon without context
- ❌ Over-explaining simple things

## Response Guidelines

### Message Length
- **Brief** (1-2 sentences): Simple answers, acknowledgments
- **Standard** (2-4 sentences): Typical responses, guidance
- **Detailed** (5+ sentences): Complex explanations when requested

### Communication Style
```
GOOD:
"I can help you create that report. Would you like me to bring in the Analysis Agent to handle the data extraction?"

"The Users entity is in the Admin area. Want me to navigate there?"

"I''ll step back while the Data Agent handles this query."

BAD:
"I noticed you mentioned reports! As the Conversation Manager, I have extensive knowledge about MemberJunction''s reporting capabilities. Let me explain all the different types of reports we support..."

"While I could help with that, I think maybe possibly we might want to consider..."
```

## Context Awareness

### Conversation History
- Reference previous messages when relevant
- Remember user preferences stated in conversation
- Track what''s been accomplished
- Note any open issues or blockers

### Multi-User Scenarios
- Identify who you''re responding to
- Respect ongoing discussions
- Only interject when value is clear
- Address specific users by name when appropriate

### Agent Coordination
- Know what other agents are available
- Understand agent capabilities
- Pass appropriate context to sub-agents
- Don''t duplicate work other agents are doing

## Special Scenarios

### First Message in Conversation
- Greet warmly but briefly
- Offer help discovering MemberJunction
- Set expectations for your role
- Don''t overwhelm with information

### Error Situations
- Acknowledge errors clearly
- Explain what went wrong simply
- Offer concrete next steps
- Escalate to humans if needed

### Ambiguous Requests
- Ask clarifying questions
- Provide multiple interpretation options
- Suggest related functionality
- Help user refine their request
 
---

## Remember

You are the **ambient intelligence** in every MemberJunction conversation. Your value comes not from always having the answer, but from knowing when to help, when to delegate, and when to step back. Quality over quantity. Relevance over responsiveness.
'
SET
  @Priority_df8c406b = 1
SET
  @IsActive_df8c406b = 1
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = @ID_df8c406b,
  @TemplateID = @TemplateID_df8c406b,
  @TypeID = @TypeID_df8c406b,
  @TemplateText = @TemplateText_df8c406b,
  @Priority = @Priority_df8c406b,
  @IsActive = @IsActive_df8c406b;

-- Save Template Contents (core SP call only)
DECLARE @ID_4090d362 UNIQUEIDENTIFIER,
@TemplateID_4090d362 UNIQUEIDENTIFIER,
@TypeID_4090d362 UNIQUEIDENTIFIER,
@TemplateText_4090d362 NVARCHAR(MAX),
@Priority_4090d362 INT,
@IsActive_4090d362 BIT
SET
  @ID_4090d362 = '013266fb-4e15-498f-98a5-45b9f55b2f64'
SET
  @TemplateID_4090d362 = '4F81D5F9-58B5-4D41-A596-D5C5CF491947'
SET
  @TypeID_4090d362 = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_4090d362 = N'# Conversation Naming Assistant

Your job is to read a user message that is **starting** a new conversation and to give it a name and description that will **help the user** find it later in a long list of conversations

## Your Task

Analyze the user''s first message in a conversation and generate:
1. A **concise name** (2-6 words max) that captures the main topic or intent
2. A **brief description** (1-2 sentences) that provides more context

## Guidelines

### For Names:
- Keep it short and scannable (3-6 words)
- Use title case
- Focus on the core topic or question
- Avoid generic terms like "Chat", "Question", "Help"
- Be specific but not overly detailed
- Examples:
  - "Customer Onboarding Flow" (not "Chat About Customer Onboarding")
  - "Q3 Revenue Analysis" (not "Help With Revenue")
  - "React Performance Issues" (not "Questions About React")

### For Descriptions:
- 1-2 sentences maximum
- Provide context that complements the name
- Include key details or goals if evident
- Be objective and informative
- Examples:
  - "Discussion about optimizing the customer onboarding experience and reducing friction points."
  - "Analysis of Q3 revenue trends and comparison with previous quarters."
  - "Troubleshooting React application performance issues related to rendering."

## Input Format
Review the user message provided

## Output Format

Return a JSON object with this exact structure:
```json
{
  "name": "Concise Conversation Name",
  "description": "Brief description that provides context and complements the name."
}
```

## Examples

### Example 1
**Input Message**: "I need help building a dashboard that shows real-time sales data with charts and filters. It should update automatically every 30 seconds."

**Output**:
```json
{
  "name": "Real-Time Sales Dashboard",
  "description": "Building an auto-updating dashboard with charts and filters to display live sales data with 30-second refresh intervals."
}
```

### Example 2
**Input Message**: "What''s the difference between abstract classes and interfaces in TypeScript?"

**Output**:
```json
{
  "name": "TypeScript Abstract Classes vs Interfaces",
  "description": "Exploring the differences, use cases, and best practices for abstract classes versus interfaces in TypeScript."
}
```

### Example 3
**Input Message**: "Can you help me debug this error: TypeError: Cannot read property ''map'' of undefined"

**Output**:
```json
{
  "name": "Debug TypeError: Undefined Map",
  "description": "Troubleshooting a TypeError related to attempting to call map() on an undefined value."
}
```

### Example 4
**Input Message**: "hi"

**Output**:
```json
{
  "name": "General Discussion",
  "description": "Open conversation covering various topics."
}
```

## Important Notes

- Be concise - both name and description should be brief
- Focus on what''s actionable or interesting, not just restating the obvious
- For vague messages, use general but professional naming
- Never include the word "Chat" or "Conversation" in the name unless absolutely necessary
- Always return valid JSON with both "name" and "description" fields
'
SET
  @Priority_4090d362 = 1
SET
  @IsActive_4090d362 = 1
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = @ID_4090d362,
  @TemplateID = @TemplateID_4090d362,
  @TypeID = @TypeID_4090d362,
  @TemplateText = @TemplateText_4090d362,
  @Priority = @Priority_4090d362,
  @IsActive = @IsActive_4090d362;

-- Save AI Prompts (core SP call only)
DECLARE @ID_93bfdc7e UNIQUEIDENTIFIER,
@Name_93bfdc7e NVARCHAR(255),
@Description_93bfdc7e NVARCHAR(MAX),
@TemplateID_93bfdc7e UNIQUEIDENTIFIER,
@CategoryID_93bfdc7e UNIQUEIDENTIFIER,
@TypeID_93bfdc7e UNIQUEIDENTIFIER,
@Status_93bfdc7e NVARCHAR(50),
@ResponseFormat_93bfdc7e NVARCHAR(20),
@ModelSpecificResponseFormat_93bfdc7e NVARCHAR(MAX),
@AIModelTypeID_93bfdc7e UNIQUEIDENTIFIER,
@MinPowerRank_93bfdc7e INT,
@SelectionStrategy_93bfdc7e NVARCHAR(20),
@PowerPreference_93bfdc7e NVARCHAR(20),
@ParallelizationMode_93bfdc7e NVARCHAR(20),
@ParallelCount_93bfdc7e INT,
@ParallelConfigParam_93bfdc7e NVARCHAR(100),
@OutputType_93bfdc7e NVARCHAR(50),
@OutputExample_93bfdc7e NVARCHAR(MAX),
@ValidationBehavior_93bfdc7e NVARCHAR(50),
@MaxRetries_93bfdc7e INT,
@RetryDelayMS_93bfdc7e INT,
@RetryStrategy_93bfdc7e NVARCHAR(20),
@ResultSelectorPromptID_93bfdc7e UNIQUEIDENTIFIER,
@EnableCaching_93bfdc7e BIT,
@CacheTTLSeconds_93bfdc7e INT,
@CacheMatchType_93bfdc7e NVARCHAR(20),
@CacheSimilarityThreshold_93bfdc7e FLOAT(53),
@CacheMustMatchModel_93bfdc7e BIT,
@CacheMustMatchVendor_93bfdc7e BIT,
@CacheMustMatchAgent_93bfdc7e BIT,
@CacheMustMatchConfig_93bfdc7e BIT,
@PromptRole_93bfdc7e NVARCHAR(20),
@PromptPosition_93bfdc7e NVARCHAR(20),
@Temperature_93bfdc7e DECIMAL(3, 2),
@TopP_93bfdc7e DECIMAL(3, 2),
@TopK_93bfdc7e INT,
@MinP_93bfdc7e DECIMAL(3, 2),
@FrequencyPenalty_93bfdc7e DECIMAL(3, 2),
@PresencePenalty_93bfdc7e DECIMAL(3, 2),
@Seed_93bfdc7e INT,
@StopSequences_93bfdc7e NVARCHAR(1000),
@IncludeLogProbs_93bfdc7e BIT,
@TopLogProbs_93bfdc7e INT,
@FailoverStrategy_93bfdc7e NVARCHAR(50),
@FailoverMaxAttempts_93bfdc7e INT,
@FailoverDelaySeconds_93bfdc7e INT,
@FailoverModelStrategy_93bfdc7e NVARCHAR(50),
@FailoverErrorScope_93bfdc7e NVARCHAR(50),
@EffortLevel_93bfdc7e INT
SET
  @ID_93bfdc7e = '69FFD223-C98E-4081-808E-7E1D445D2F85'
SET
  @Name_93bfdc7e = N'Name Conversation'
SET
  @Description_93bfdc7e = N'Generates a concise name and description for a conversation based on the user''s first message. Returns JSON with name (3-6 words) and description (1-2 sentences).'
SET
  @TemplateID_93bfdc7e = '4F81D5F9-58B5-4D41-A596-D5C5CF491947'
SET
  @CategoryID_93bfdc7e = '847C1276-1D2F-4260-9A24-B8490B6B2A36'
SET
  @TypeID_93bfdc7e = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_93bfdc7e = N'Active'
SET
  @ResponseFormat_93bfdc7e = N'JSON'
SET
  @MinPowerRank_93bfdc7e = 0
SET
  @SelectionStrategy_93bfdc7e = N'Specific'
SET
  @PowerPreference_93bfdc7e = N'Lowest'
SET
  @ParallelizationMode_93bfdc7e = N'None'
SET
  @OutputType_93bfdc7e = N'string'
SET
  @ValidationBehavior_93bfdc7e = N'Warn'
SET
  @MaxRetries_93bfdc7e = 2
SET
  @RetryDelayMS_93bfdc7e = 1000
SET
  @RetryStrategy_93bfdc7e = N'Fixed'
SET
  @EnableCaching_93bfdc7e = 0
SET
  @CacheMatchType_93bfdc7e = N'Exact'
SET
  @CacheMustMatchModel_93bfdc7e = 1
SET
  @CacheMustMatchVendor_93bfdc7e = 1
SET
  @CacheMustMatchAgent_93bfdc7e = 0
SET
  @CacheMustMatchConfig_93bfdc7e = 0
SET
  @PromptRole_93bfdc7e = N'System'
SET
  @PromptPosition_93bfdc7e = N'First'
SET
  @IncludeLogProbs_93bfdc7e = 0
SET
  @FailoverStrategy_93bfdc7e = N'SameModelDifferentVendor'
SET
  @FailoverMaxAttempts_93bfdc7e = 3
SET
  @FailoverDelaySeconds_93bfdc7e = 5
SET
  @FailoverModelStrategy_93bfdc7e = N'PreferSameModel'
SET
  @FailoverErrorScope_93bfdc7e = N'All'
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = @ID_93bfdc7e,
  @Name = @Name_93bfdc7e,
  @Description = @Description_93bfdc7e,
  @TemplateID = @TemplateID_93bfdc7e,
  @CategoryID = @CategoryID_93bfdc7e,
  @TypeID = @TypeID_93bfdc7e,
  @Status = @Status_93bfdc7e,
  @ResponseFormat = @ResponseFormat_93bfdc7e,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_93bfdc7e,
  @AIModelTypeID = @AIModelTypeID_93bfdc7e,
  @MinPowerRank = @MinPowerRank_93bfdc7e,
  @SelectionStrategy = @SelectionStrategy_93bfdc7e,
  @PowerPreference = @PowerPreference_93bfdc7e,
  @ParallelizationMode = @ParallelizationMode_93bfdc7e,
  @ParallelCount = @ParallelCount_93bfdc7e,
  @ParallelConfigParam = @ParallelConfigParam_93bfdc7e,
  @OutputType = @OutputType_93bfdc7e,
  @OutputExample = @OutputExample_93bfdc7e,
  @ValidationBehavior = @ValidationBehavior_93bfdc7e,
  @MaxRetries = @MaxRetries_93bfdc7e,
  @RetryDelayMS = @RetryDelayMS_93bfdc7e,
  @RetryStrategy = @RetryStrategy_93bfdc7e,
  @ResultSelectorPromptID = @ResultSelectorPromptID_93bfdc7e,
  @EnableCaching = @EnableCaching_93bfdc7e,
  @CacheTTLSeconds = @CacheTTLSeconds_93bfdc7e,
  @CacheMatchType = @CacheMatchType_93bfdc7e,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_93bfdc7e,
  @CacheMustMatchModel = @CacheMustMatchModel_93bfdc7e,
  @CacheMustMatchVendor = @CacheMustMatchVendor_93bfdc7e,
  @CacheMustMatchAgent = @CacheMustMatchAgent_93bfdc7e,
  @CacheMustMatchConfig = @CacheMustMatchConfig_93bfdc7e,
  @PromptRole = @PromptRole_93bfdc7e,
  @PromptPosition = @PromptPosition_93bfdc7e,
  @Temperature = @Temperature_93bfdc7e,
  @TopP = @TopP_93bfdc7e,
  @TopK = @TopK_93bfdc7e,
  @MinP = @MinP_93bfdc7e,
  @FrequencyPenalty = @FrequencyPenalty_93bfdc7e,
  @PresencePenalty = @PresencePenalty_93bfdc7e,
  @Seed = @Seed_93bfdc7e,
  @StopSequences = @StopSequences_93bfdc7e,
  @IncludeLogProbs = @IncludeLogProbs_93bfdc7e,
  @TopLogProbs = @TopLogProbs_93bfdc7e,
  @FailoverStrategy = @FailoverStrategy_93bfdc7e,
  @FailoverMaxAttempts = @FailoverMaxAttempts_93bfdc7e,
  @FailoverDelaySeconds = @FailoverDelaySeconds_93bfdc7e,
  @FailoverModelStrategy = @FailoverModelStrategy_93bfdc7e,
  @FailoverErrorScope = @FailoverErrorScope_93bfdc7e,
  @EffortLevel = @EffortLevel_93bfdc7e;

-- Save Template Params (core SP call only)
DECLARE @ID_b6cae39e UNIQUEIDENTIFIER,
@TemplateID_b6cae39e UNIQUEIDENTIFIER,
@Name_b6cae39e NVARCHAR(255),
@Description_b6cae39e NVARCHAR(MAX),
@Type_b6cae39e NVARCHAR(20),
@DefaultValue_b6cae39e NVARCHAR(MAX),
@IsRequired_b6cae39e BIT,
@LinkedParameterName_b6cae39e NVARCHAR(255),
@LinkedParameterField_b6cae39e NVARCHAR(500),
@ExtraFilter_b6cae39e NVARCHAR(MAX),
@EntityID_b6cae39e UNIQUEIDENTIFIER,
@RecordID_b6cae39e NVARCHAR(2000),
@OrderBy_b6cae39e NVARCHAR(MAX),
@TemplateContentID_b6cae39e UNIQUEIDENTIFIER
SET
  @ID_b6cae39e = 'c7892681-2735-41d0-8406-5bde9c62196b'
SET
  @TemplateID_b6cae39e = 'E5F923FA-BB9E-42CF-BA5E-229574B070AE'
SET
  @Name_b6cae39e = N'ALL_AVAILABLE_AGENTS'
SET
  @Description_b6cae39e = N'List of all agents available for invocation, each with Name and Description properties'
SET
  @Type_b6cae39e = N'Array'
SET
  @IsRequired_b6cae39e = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_b6cae39e,
  @TemplateID = @TemplateID_b6cae39e,
  @Name = @Name_b6cae39e,
  @Description = @Description_b6cae39e,
  @Type = @Type_b6cae39e,
  @DefaultValue = @DefaultValue_b6cae39e,
  @IsRequired = @IsRequired_b6cae39e,
  @LinkedParameterName = @LinkedParameterName_b6cae39e,
  @LinkedParameterField = @LinkedParameterField_b6cae39e,
  @ExtraFilter = @ExtraFilter_b6cae39e,
  @EntityID = @EntityID_b6cae39e,
  @RecordID = @RecordID_b6cae39e,
  @OrderBy = @OrderBy_b6cae39e,
  @TemplateContentID = @TemplateContentID_b6cae39e;

-- Save AI Prompts (core SP call only)
DECLARE @ID_e0fd2d7c UNIQUEIDENTIFIER,
@Name_e0fd2d7c NVARCHAR(255),
@Description_e0fd2d7c NVARCHAR(MAX),
@TemplateID_e0fd2d7c UNIQUEIDENTIFIER,
@CategoryID_e0fd2d7c UNIQUEIDENTIFIER,
@TypeID_e0fd2d7c UNIQUEIDENTIFIER,
@Status_e0fd2d7c NVARCHAR(50),
@ResponseFormat_e0fd2d7c NVARCHAR(20),
@ModelSpecificResponseFormat_e0fd2d7c NVARCHAR(MAX),
@AIModelTypeID_e0fd2d7c UNIQUEIDENTIFIER,
@MinPowerRank_e0fd2d7c INT,
@SelectionStrategy_e0fd2d7c NVARCHAR(20),
@PowerPreference_e0fd2d7c NVARCHAR(20),
@ParallelizationMode_e0fd2d7c NVARCHAR(20),
@ParallelCount_e0fd2d7c INT,
@ParallelConfigParam_e0fd2d7c NVARCHAR(100),
@OutputType_e0fd2d7c NVARCHAR(50),
@OutputExample_e0fd2d7c NVARCHAR(MAX),
@ValidationBehavior_e0fd2d7c NVARCHAR(50),
@MaxRetries_e0fd2d7c INT,
@RetryDelayMS_e0fd2d7c INT,
@RetryStrategy_e0fd2d7c NVARCHAR(20),
@ResultSelectorPromptID_e0fd2d7c UNIQUEIDENTIFIER,
@EnableCaching_e0fd2d7c BIT,
@CacheTTLSeconds_e0fd2d7c INT,
@CacheMatchType_e0fd2d7c NVARCHAR(20),
@CacheSimilarityThreshold_e0fd2d7c FLOAT(53),
@CacheMustMatchModel_e0fd2d7c BIT,
@CacheMustMatchVendor_e0fd2d7c BIT,
@CacheMustMatchAgent_e0fd2d7c BIT,
@CacheMustMatchConfig_e0fd2d7c BIT,
@PromptRole_e0fd2d7c NVARCHAR(20),
@PromptPosition_e0fd2d7c NVARCHAR(20),
@Temperature_e0fd2d7c DECIMAL(3, 2),
@TopP_e0fd2d7c DECIMAL(3, 2),
@TopK_e0fd2d7c INT,
@MinP_e0fd2d7c DECIMAL(3, 2),
@FrequencyPenalty_e0fd2d7c DECIMAL(3, 2),
@PresencePenalty_e0fd2d7c DECIMAL(3, 2),
@Seed_e0fd2d7c INT,
@StopSequences_e0fd2d7c NVARCHAR(1000),
@IncludeLogProbs_e0fd2d7c BIT,
@TopLogProbs_e0fd2d7c INT,
@FailoverStrategy_e0fd2d7c NVARCHAR(50),
@FailoverMaxAttempts_e0fd2d7c INT,
@FailoverDelaySeconds_e0fd2d7c INT,
@FailoverModelStrategy_e0fd2d7c NVARCHAR(50),
@FailoverErrorScope_e0fd2d7c NVARCHAR(50),
@EffortLevel_e0fd2d7c INT
SET
  @ID_e0fd2d7c = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
SET
  @Name_e0fd2d7c = N'Conversation Manager Agent - System Prompt'
SET
  @Description_e0fd2d7c = N'System prompt for the ambient Conversation Manager agent that monitors and assists users in MemberJunction conversations.'
SET
  @TemplateID_e0fd2d7c = 'E5F923FA-BB9E-42CF-BA5E-229574B070AE'
SET
  @CategoryID_e0fd2d7c = '7D2DEF7F-138F-4620-8309-33964A97A997'
SET
  @TypeID_e0fd2d7c = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_e0fd2d7c = N'Active'
SET
  @ResponseFormat_e0fd2d7c = N'JSON'
SET
  @MinPowerRank_e0fd2d7c = 0
SET
  @SelectionStrategy_e0fd2d7c = N'Specific'
SET
  @PowerPreference_e0fd2d7c = N'Highest'
SET
  @ParallelizationMode_e0fd2d7c = N'None'
SET
  @OutputType_e0fd2d7c = N'string'
SET
  @ValidationBehavior_e0fd2d7c = N'Warn'
SET
  @MaxRetries_e0fd2d7c = 2
SET
  @RetryDelayMS_e0fd2d7c = 1000
SET
  @RetryStrategy_e0fd2d7c = N'Fixed'
SET
  @EnableCaching_e0fd2d7c = 0
SET
  @CacheMatchType_e0fd2d7c = N'Exact'
SET
  @CacheMustMatchModel_e0fd2d7c = 1
SET
  @CacheMustMatchVendor_e0fd2d7c = 1
SET
  @CacheMustMatchAgent_e0fd2d7c = 0
SET
  @CacheMustMatchConfig_e0fd2d7c = 0
SET
  @PromptRole_e0fd2d7c = N'System'
SET
  @PromptPosition_e0fd2d7c = N'First'
SET
  @IncludeLogProbs_e0fd2d7c = 0
SET
  @FailoverStrategy_e0fd2d7c = N'SameModelDifferentVendor'
SET
  @FailoverMaxAttempts_e0fd2d7c = 3
SET
  @FailoverDelaySeconds_e0fd2d7c = 5
SET
  @FailoverModelStrategy_e0fd2d7c = N'PreferSameModel'
SET
  @FailoverErrorScope_e0fd2d7c = N'All'
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = @ID_e0fd2d7c,
  @Name = @Name_e0fd2d7c,
  @Description = @Description_e0fd2d7c,
  @TemplateID = @TemplateID_e0fd2d7c,
  @CategoryID = @CategoryID_e0fd2d7c,
  @TypeID = @TypeID_e0fd2d7c,
  @Status = @Status_e0fd2d7c,
  @ResponseFormat = @ResponseFormat_e0fd2d7c,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_e0fd2d7c,
  @AIModelTypeID = @AIModelTypeID_e0fd2d7c,
  @MinPowerRank = @MinPowerRank_e0fd2d7c,
  @SelectionStrategy = @SelectionStrategy_e0fd2d7c,
  @PowerPreference = @PowerPreference_e0fd2d7c,
  @ParallelizationMode = @ParallelizationMode_e0fd2d7c,
  @ParallelCount = @ParallelCount_e0fd2d7c,
  @ParallelConfigParam = @ParallelConfigParam_e0fd2d7c,
  @OutputType = @OutputType_e0fd2d7c,
  @OutputExample = @OutputExample_e0fd2d7c,
  @ValidationBehavior = @ValidationBehavior_e0fd2d7c,
  @MaxRetries = @MaxRetries_e0fd2d7c,
  @RetryDelayMS = @RetryDelayMS_e0fd2d7c,
  @RetryStrategy = @RetryStrategy_e0fd2d7c,
  @ResultSelectorPromptID = @ResultSelectorPromptID_e0fd2d7c,
  @EnableCaching = @EnableCaching_e0fd2d7c,
  @CacheTTLSeconds = @CacheTTLSeconds_e0fd2d7c,
  @CacheMatchType = @CacheMatchType_e0fd2d7c,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_e0fd2d7c,
  @CacheMustMatchModel = @CacheMustMatchModel_e0fd2d7c,
  @CacheMustMatchVendor = @CacheMustMatchVendor_e0fd2d7c,
  @CacheMustMatchAgent = @CacheMustMatchAgent_e0fd2d7c,
  @CacheMustMatchConfig = @CacheMustMatchConfig_e0fd2d7c,
  @PromptRole = @PromptRole_e0fd2d7c,
  @PromptPosition = @PromptPosition_e0fd2d7c,
  @Temperature = @Temperature_e0fd2d7c,
  @TopP = @TopP_e0fd2d7c,
  @TopK = @TopK_e0fd2d7c,
  @MinP = @MinP_e0fd2d7c,
  @FrequencyPenalty = @FrequencyPenalty_e0fd2d7c,
  @PresencePenalty = @PresencePenalty_e0fd2d7c,
  @Seed = @Seed_e0fd2d7c,
  @StopSequences = @StopSequences_e0fd2d7c,
  @IncludeLogProbs = @IncludeLogProbs_e0fd2d7c,
  @TopLogProbs = @TopLogProbs_e0fd2d7c,
  @FailoverStrategy = @FailoverStrategy_e0fd2d7c,
  @FailoverMaxAttempts = @FailoverMaxAttempts_e0fd2d7c,
  @FailoverDelaySeconds = @FailoverDelaySeconds_e0fd2d7c,
  @FailoverModelStrategy = @FailoverModelStrategy_e0fd2d7c,
  @FailoverErrorScope = @FailoverErrorScope_e0fd2d7c,
  @EffortLevel = @EffortLevel_e0fd2d7c;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_59009838 UNIQUEIDENTIFIER,
@PromptID_59009838 UNIQUEIDENTIFIER,
@ModelID_59009838 UNIQUEIDENTIFIER,
@VendorID_59009838 UNIQUEIDENTIFIER,
@ConfigurationID_59009838 UNIQUEIDENTIFIER,
@Priority_59009838 INT,
@ExecutionGroup_59009838 INT,
@ModelParameters_59009838 NVARCHAR(MAX),
@Status_59009838 NVARCHAR(20),
@ParallelizationMode_59009838 NVARCHAR(20),
@ParallelCount_59009838 INT,
@ParallelConfigParam_59009838 NVARCHAR(100)
SET
  @ID_59009838 = '914F9304-BE04-41B7-8F63-314F595D7A2F'
SET
  @PromptID_59009838 = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
SET
  @ModelID_59009838 = '8E1BADD5-D593-4F9B-90D4-BF6D8AFA74A0'
SET
  @VendorID_59009838 = '3EDA433E-F36B-1410-8DB6-00021F8B792E'
SET
  @Priority_59009838 = 3
SET
  @ExecutionGroup_59009838 = 0
SET
  @Status_59009838 = N'Active'
SET
  @ParallelizationMode_59009838 = N'None'
SET
  @ParallelCount_59009838 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_59009838,
  @PromptID = @PromptID_59009838,
  @ModelID = @ModelID_59009838,
  @VendorID = @VendorID_59009838,
  @ConfigurationID = @ConfigurationID_59009838,
  @Priority = @Priority_59009838,
  @ExecutionGroup = @ExecutionGroup_59009838,
  @ModelParameters = @ModelParameters_59009838,
  @Status = @Status_59009838,
  @ParallelizationMode = @ParallelizationMode_59009838,
  @ParallelCount = @ParallelCount_59009838,
  @ParallelConfigParam = @ParallelConfigParam_59009838;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_513e4f64 UNIQUEIDENTIFIER,
@PromptID_513e4f64 UNIQUEIDENTIFIER,
@ModelID_513e4f64 UNIQUEIDENTIFIER,
@VendorID_513e4f64 UNIQUEIDENTIFIER,
@ConfigurationID_513e4f64 UNIQUEIDENTIFIER,
@Priority_513e4f64 INT,
@ExecutionGroup_513e4f64 INT,
@ModelParameters_513e4f64 NVARCHAR(MAX),
@Status_513e4f64 NVARCHAR(20),
@ParallelizationMode_513e4f64 NVARCHAR(20),
@ParallelCount_513e4f64 INT,
@ParallelConfigParam_513e4f64 NVARCHAR(100)
SET
  @ID_513e4f64 = '608B38EC-1C18-4858-9BE9-472FDED52C7A'
SET
  @PromptID_513e4f64 = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
SET
  @ModelID_513e4f64 = '8E1BADD5-D593-4F9B-90D4-BF6D8AFA74A0'
SET
  @VendorID_513e4f64 = 'E3A5CCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @Priority_513e4f64 = 2
SET
  @ExecutionGroup_513e4f64 = 0
SET
  @Status_513e4f64 = N'Active'
SET
  @ParallelizationMode_513e4f64 = N'None'
SET
  @ParallelCount_513e4f64 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_513e4f64,
  @PromptID = @PromptID_513e4f64,
  @ModelID = @ModelID_513e4f64,
  @VendorID = @VendorID_513e4f64,
  @ConfigurationID = @ConfigurationID_513e4f64,
  @Priority = @Priority_513e4f64,
  @ExecutionGroup = @ExecutionGroup_513e4f64,
  @ModelParameters = @ModelParameters_513e4f64,
  @Status = @Status_513e4f64,
  @ParallelizationMode = @ParallelizationMode_513e4f64,
  @ParallelCount = @ParallelCount_513e4f64,
  @ParallelConfigParam = @ParallelConfigParam_513e4f64;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_3e3f8fe3 UNIQUEIDENTIFIER,
@PromptID_3e3f8fe3 UNIQUEIDENTIFIER,
@ModelID_3e3f8fe3 UNIQUEIDENTIFIER,
@VendorID_3e3f8fe3 UNIQUEIDENTIFIER,
@ConfigurationID_3e3f8fe3 UNIQUEIDENTIFIER,
@Priority_3e3f8fe3 INT,
@ExecutionGroup_3e3f8fe3 INT,
@ModelParameters_3e3f8fe3 NVARCHAR(MAX),
@Status_3e3f8fe3 NVARCHAR(20),
@ParallelizationMode_3e3f8fe3 NVARCHAR(20),
@ParallelCount_3e3f8fe3 INT,
@ParallelConfigParam_3e3f8fe3 NVARCHAR(100)
SET
  @ID_3e3f8fe3 = '49864BAC-3207-4C62-9CF9-F12063E3F781'
SET
  @PromptID_3e3f8fe3 = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
SET
  @ModelID_3e3f8fe3 = '9604B1A4-3A21-F011-8B3D-7C1E5249773E'
SET
  @VendorID_3e3f8fe3 = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @Priority_3e3f8fe3 = 1
SET
  @ExecutionGroup_3e3f8fe3 = 0
SET
  @Status_3e3f8fe3 = N'Active'
SET
  @ParallelizationMode_3e3f8fe3 = N'None'
SET
  @ParallelCount_3e3f8fe3 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_3e3f8fe3,
  @PromptID = @PromptID_3e3f8fe3,
  @ModelID = @ModelID_3e3f8fe3,
  @VendorID = @VendorID_3e3f8fe3,
  @ConfigurationID = @ConfigurationID_3e3f8fe3,
  @Priority = @Priority_3e3f8fe3,
  @ExecutionGroup = @ExecutionGroup_3e3f8fe3,
  @ModelParameters = @ModelParameters_3e3f8fe3,
  @Status = @Status_3e3f8fe3,
  @ParallelizationMode = @ParallelizationMode_3e3f8fe3,
  @ParallelCount = @ParallelCount_3e3f8fe3,
  @ParallelConfigParam = @ParallelConfigParam_3e3f8fe3;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_6bf92b04 UNIQUEIDENTIFIER,
@PromptID_6bf92b04 UNIQUEIDENTIFIER,
@ModelID_6bf92b04 UNIQUEIDENTIFIER,
@VendorID_6bf92b04 UNIQUEIDENTIFIER,
@ConfigurationID_6bf92b04 UNIQUEIDENTIFIER,
@Priority_6bf92b04 INT,
@ExecutionGroup_6bf92b04 INT,
@ModelParameters_6bf92b04 NVARCHAR(MAX),
@Status_6bf92b04 NVARCHAR(20),
@ParallelizationMode_6bf92b04 NVARCHAR(20),
@ParallelCount_6bf92b04 INT,
@ParallelConfigParam_6bf92b04 NVARCHAR(100)
SET
  @ID_6bf92b04 = '288F3119-2DBF-44EF-BD0D-A3664C39B43E'
SET
  @PromptID_6bf92b04 = '69FFD223-C98E-4081-808E-7E1D445D2F85'
SET
  @ModelID_6bf92b04 = '8E1BADD5-D593-4F9B-90D4-BF6D8AFA74A0'
SET
  @VendorID_6bf92b04 = '3EDA433E-F36B-1410-8DB6-00021F8B792E'
SET
  @Priority_6bf92b04 = 3
SET
  @ExecutionGroup_6bf92b04 = 0
SET
  @Status_6bf92b04 = N'Active'
SET
  @ParallelizationMode_6bf92b04 = N'None'
SET
  @ParallelCount_6bf92b04 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_6bf92b04,
  @PromptID = @PromptID_6bf92b04,
  @ModelID = @ModelID_6bf92b04,
  @VendorID = @VendorID_6bf92b04,
  @ConfigurationID = @ConfigurationID_6bf92b04,
  @Priority = @Priority_6bf92b04,
  @ExecutionGroup = @ExecutionGroup_6bf92b04,
  @ModelParameters = @ModelParameters_6bf92b04,
  @Status = @Status_6bf92b04,
  @ParallelizationMode = @ParallelizationMode_6bf92b04,
  @ParallelCount = @ParallelCount_6bf92b04,
  @ParallelConfigParam = @ParallelConfigParam_6bf92b04;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_908fe783 UNIQUEIDENTIFIER,
@PromptID_908fe783 UNIQUEIDENTIFIER,
@ModelID_908fe783 UNIQUEIDENTIFIER,
@VendorID_908fe783 UNIQUEIDENTIFIER,
@ConfigurationID_908fe783 UNIQUEIDENTIFIER,
@Priority_908fe783 INT,
@ExecutionGroup_908fe783 INT,
@ModelParameters_908fe783 NVARCHAR(MAX),
@Status_908fe783 NVARCHAR(20),
@ParallelizationMode_908fe783 NVARCHAR(20),
@ParallelCount_908fe783 INT,
@ParallelConfigParam_908fe783 NVARCHAR(100)
SET
  @ID_908fe783 = 'AEEE2D06-23CE-4322-A593-36F52EF28A35'
SET
  @PromptID_908fe783 = '69FFD223-C98E-4081-808E-7E1D445D2F85'
SET
  @ModelID_908fe783 = '8E1BADD5-D593-4F9B-90D4-BF6D8AFA74A0'
SET
  @VendorID_908fe783 = 'E3A5CCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @Priority_908fe783 = 2
SET
  @ExecutionGroup_908fe783 = 0
SET
  @Status_908fe783 = N'Active'
SET
  @ParallelizationMode_908fe783 = N'None'
SET
  @ParallelCount_908fe783 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_908fe783,
  @PromptID = @PromptID_908fe783,
  @ModelID = @ModelID_908fe783,
  @VendorID = @VendorID_908fe783,
  @ConfigurationID = @ConfigurationID_908fe783,
  @Priority = @Priority_908fe783,
  @ExecutionGroup = @ExecutionGroup_908fe783,
  @ModelParameters = @ModelParameters_908fe783,
  @Status = @Status_908fe783,
  @ParallelizationMode = @ParallelizationMode_908fe783,
  @ParallelCount = @ParallelCount_908fe783,
  @ParallelConfigParam = @ParallelConfigParam_908fe783;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_864f88f9 UNIQUEIDENTIFIER,
@PromptID_864f88f9 UNIQUEIDENTIFIER,
@ModelID_864f88f9 UNIQUEIDENTIFIER,
@VendorID_864f88f9 UNIQUEIDENTIFIER,
@ConfigurationID_864f88f9 UNIQUEIDENTIFIER,
@Priority_864f88f9 INT,
@ExecutionGroup_864f88f9 INT,
@ModelParameters_864f88f9 NVARCHAR(MAX),
@Status_864f88f9 NVARCHAR(20),
@ParallelizationMode_864f88f9 NVARCHAR(20),
@ParallelCount_864f88f9 INT,
@ParallelConfigParam_864f88f9 NVARCHAR(100)
SET
  @ID_864f88f9 = '36FC7183-29A8-48AC-B4F4-D65A9DB911A9'
SET
  @PromptID_864f88f9 = '69FFD223-C98E-4081-808E-7E1D445D2F85'
SET
  @ModelID_864f88f9 = '9604B1A4-3A21-F011-8B3D-7C1E5249773E'
SET
  @VendorID_864f88f9 = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @Priority_864f88f9 = 1
SET
  @ExecutionGroup_864f88f9 = 0
SET
  @Status_864f88f9 = N'Active'
SET
  @ParallelizationMode_864f88f9 = N'None'
SET
  @ParallelCount_864f88f9 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_864f88f9,
  @PromptID = @PromptID_864f88f9,
  @ModelID = @ModelID_864f88f9,
  @VendorID = @VendorID_864f88f9,
  @ConfigurationID = @ConfigurationID_864f88f9,
  @Priority = @Priority_864f88f9,
  @ExecutionGroup = @ExecutionGroup_864f88f9,
  @ModelParameters = @ModelParameters_864f88f9,
  @Status = @Status_864f88f9,
  @ParallelizationMode = @ParallelizationMode_864f88f9,
  @ParallelCount = @ParallelCount_864f88f9,
  @ParallelConfigParam = @ParallelConfigParam_864f88f9;

-- Save AI Agents (core SP call only)
DECLARE @ID_5ac69d7e UNIQUEIDENTIFIER,
@Name_5ac69d7e NVARCHAR(255),
@Description_5ac69d7e NVARCHAR(MAX),
@LogoURL_5ac69d7e NVARCHAR(255),
@ParentID_5ac69d7e UNIQUEIDENTIFIER,
@ExposeAsAction_5ac69d7e BIT,
@ExecutionOrder_5ac69d7e INT,
@ExecutionMode_5ac69d7e NVARCHAR(20),
@EnableContextCompression_5ac69d7e BIT,
@ContextCompressionMessageThreshold_5ac69d7e INT,
@ContextCompressionPromptID_5ac69d7e UNIQUEIDENTIFIER,
@ContextCompressionMessageRetentionCount_5ac69d7e INT,
@TypeID_5ac69d7e UNIQUEIDENTIFIER,
@Status_5ac69d7e NVARCHAR(20),
@DriverClass_5ac69d7e NVARCHAR(255),
@IconClass_5ac69d7e NVARCHAR(100),
@ModelSelectionMode_5ac69d7e NVARCHAR(50),
@PayloadDownstreamPaths_5ac69d7e NVARCHAR(MAX),
@PayloadUpstreamPaths_5ac69d7e NVARCHAR(MAX),
@PayloadSelfReadPaths_5ac69d7e NVARCHAR(MAX),
@PayloadSelfWritePaths_5ac69d7e NVARCHAR(MAX),
@PayloadScope_5ac69d7e NVARCHAR(MAX),
@FinalPayloadValidation_5ac69d7e NVARCHAR(MAX),
@FinalPayloadValidationMode_5ac69d7e NVARCHAR(25),
@FinalPayloadValidationMaxRetries_5ac69d7e INT,
@MaxCostPerRun_5ac69d7e DECIMAL(10, 4),
@MaxTokensPerRun_5ac69d7e INT,
@MaxIterationsPerRun_5ac69d7e INT,
@MaxTimePerRun_5ac69d7e INT,
@MinExecutionsPerRun_5ac69d7e INT,
@MaxExecutionsPerRun_5ac69d7e INT,
@StartingPayloadValidation_5ac69d7e NVARCHAR(MAX),
@StartingPayloadValidationMode_5ac69d7e NVARCHAR(25),
@DefaultPromptEffortLevel_5ac69d7e INT,
@ChatHandlingOption_5ac69d7e NVARCHAR(30)
SET
  @ID_5ac69d7e = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @Name_5ac69d7e = N'Conversation Manager Agent'
SET
  @Description_5ac69d7e = N'Ambient agent in MJ that is always present in all conversations to help the user navigate functionality in MJ, handle basic requests, and bring in other agents to delegate work to'
SET
  @ExposeAsAction_5ac69d7e = 1
SET
  @ExecutionOrder_5ac69d7e = 0
SET
  @ExecutionMode_5ac69d7e = N'Sequential'
SET
  @EnableContextCompression_5ac69d7e = 0
SET
  @TypeID_5ac69d7e = 'F7926101-5099-4FA5-836A-479D9707C818'
SET
  @Status_5ac69d7e = N'Active'
SET
  @IconClass_5ac69d7e = N'fa-solid fa-comments'
SET
  @ModelSelectionMode_5ac69d7e = N'Agent Type'
SET
  @PayloadDownstreamPaths_5ac69d7e = N'["*"]'
SET
  @PayloadUpstreamPaths_5ac69d7e = N'["*"]'
SET
  @FinalPayloadValidationMode_5ac69d7e = N'Retry'
SET
  @FinalPayloadValidationMaxRetries_5ac69d7e = 3
SET
  @StartingPayloadValidationMode_5ac69d7e = N'Fail'
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = @ID_5ac69d7e,
  @Name = @Name_5ac69d7e,
  @Description = @Description_5ac69d7e,
  @LogoURL = @LogoURL_5ac69d7e,
  @ParentID = @ParentID_5ac69d7e,
  @ExposeAsAction = @ExposeAsAction_5ac69d7e,
  @ExecutionOrder = @ExecutionOrder_5ac69d7e,
  @ExecutionMode = @ExecutionMode_5ac69d7e,
  @EnableContextCompression = @EnableContextCompression_5ac69d7e,
  @ContextCompressionMessageThreshold = @ContextCompressionMessageThreshold_5ac69d7e,
  @ContextCompressionPromptID = @ContextCompressionPromptID_5ac69d7e,
  @ContextCompressionMessageRetentionCount = @ContextCompressionMessageRetentionCount_5ac69d7e,
  @TypeID = @TypeID_5ac69d7e,
  @Status = @Status_5ac69d7e,
  @DriverClass = @DriverClass_5ac69d7e,
  @IconClass = @IconClass_5ac69d7e,
  @ModelSelectionMode = @ModelSelectionMode_5ac69d7e,
  @PayloadDownstreamPaths = @PayloadDownstreamPaths_5ac69d7e,
  @PayloadUpstreamPaths = @PayloadUpstreamPaths_5ac69d7e,
  @PayloadSelfReadPaths = @PayloadSelfReadPaths_5ac69d7e,
  @PayloadSelfWritePaths = @PayloadSelfWritePaths_5ac69d7e,
  @PayloadScope = @PayloadScope_5ac69d7e,
  @FinalPayloadValidation = @FinalPayloadValidation_5ac69d7e,
  @FinalPayloadValidationMode = @FinalPayloadValidationMode_5ac69d7e,
  @FinalPayloadValidationMaxRetries = @FinalPayloadValidationMaxRetries_5ac69d7e,
  @MaxCostPerRun = @MaxCostPerRun_5ac69d7e,
  @MaxTokensPerRun = @MaxTokensPerRun_5ac69d7e,
  @MaxIterationsPerRun = @MaxIterationsPerRun_5ac69d7e,
  @MaxTimePerRun = @MaxTimePerRun_5ac69d7e,
  @MinExecutionsPerRun = @MinExecutionsPerRun_5ac69d7e,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_5ac69d7e,
  @StartingPayloadValidation = @StartingPayloadValidation_5ac69d7e,
  @StartingPayloadValidationMode = @StartingPayloadValidationMode_5ac69d7e,
  @DefaultPromptEffortLevel = @DefaultPromptEffortLevel_5ac69d7e,
  @ChatHandlingOption = @ChatHandlingOption_5ac69d7e;

-- Save MJ: AI Agent Prompts (core SP call only)
DECLARE @ID_f7b3e54c UNIQUEIDENTIFIER,
@AgentID_f7b3e54c UNIQUEIDENTIFIER,
@PromptID_f7b3e54c UNIQUEIDENTIFIER,
@Purpose_f7b3e54c NVARCHAR(MAX),
@ExecutionOrder_f7b3e54c INT,
@ConfigurationID_f7b3e54c UNIQUEIDENTIFIER,
@Status_f7b3e54c NVARCHAR(20),
@ContextBehavior_f7b3e54c NVARCHAR(50),
@ContextMessageCount_f7b3e54c INT
SET
  @ID_f7b3e54c = '17E3764B-6B6C-479D-A995-7FFA4ABE39AB'
SET
  @AgentID_f7b3e54c = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @PromptID_f7b3e54c = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
SET
  @ExecutionOrder_f7b3e54c = 0
SET
  @Status_f7b3e54c = N'Active'
SET
  @ContextBehavior_f7b3e54c = N'Complete'
EXEC [${flyway:defaultSchema}].spCreateAIAgentPrompt @ID = @ID_f7b3e54c,
  @AgentID = @AgentID_f7b3e54c,
  @PromptID = @PromptID_f7b3e54c,
  @Purpose = @Purpose_f7b3e54c,
  @ExecutionOrder = @ExecutionOrder_f7b3e54c,
  @ConfigurationID = @ConfigurationID_f7b3e54c,
  @Status = @Status_f7b3e54c,
  @ContextBehavior = @ContextBehavior_f7b3e54c,
  @ContextMessageCount = @ContextMessageCount_f7b3e54c;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_32aa6c47 UNIQUEIDENTIFIER,
@AgentID_32aa6c47 UNIQUEIDENTIFIER,
@ActionID_32aa6c47 UNIQUEIDENTIFIER,
@Status_32aa6c47 NVARCHAR(15),
@MinExecutionsPerRun_32aa6c47 INT,
@MaxExecutionsPerRun_32aa6c47 INT
SET
  @ID_32aa6c47 = '70D4B719-94EA-45A7-99EB-0A543BFA3CE6'
SET
  @AgentID_32aa6c47 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_32aa6c47 = '49E30665-1A90-45CA-9129-C33959A51B4F'
SET
  @Status_32aa6c47 = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_32aa6c47,
  @AgentID = @AgentID_32aa6c47,
  @ActionID = @ActionID_32aa6c47,
  @Status = @Status_32aa6c47,
  @MinExecutionsPerRun = @MinExecutionsPerRun_32aa6c47,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_32aa6c47;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_9a112d9b UNIQUEIDENTIFIER,
@AgentID_9a112d9b UNIQUEIDENTIFIER,
@ActionID_9a112d9b UNIQUEIDENTIFIER,
@Status_9a112d9b NVARCHAR(15),
@MinExecutionsPerRun_9a112d9b INT,
@MaxExecutionsPerRun_9a112d9b INT
SET
  @ID_9a112d9b = '855CD725-8CAB-4307-B5C7-62184C9C2CA9'
SET
  @AgentID_9a112d9b = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_9a112d9b = '2504E288-ADF7-4913-A627-AA14276BAA55'
SET
  @Status_9a112d9b = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_9a112d9b,
  @AgentID = @AgentID_9a112d9b,
  @ActionID = @ActionID_9a112d9b,
  @Status = @Status_9a112d9b,
  @MinExecutionsPerRun = @MinExecutionsPerRun_9a112d9b,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_9a112d9b;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_53ac23ce UNIQUEIDENTIFIER,
@AgentID_53ac23ce UNIQUEIDENTIFIER,
@ActionID_53ac23ce UNIQUEIDENTIFIER,
@Status_53ac23ce NVARCHAR(15),
@MinExecutionsPerRun_53ac23ce INT,
@MaxExecutionsPerRun_53ac23ce INT
SET
  @ID_53ac23ce = '161E3EF2-F5F6-4ABD-9CCE-033F512032F7'
SET
  @AgentID_53ac23ce = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_53ac23ce = 'FCAAD325-0D33-4E48-BC25-49C0E3587062'
SET
  @Status_53ac23ce = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_53ac23ce,
  @AgentID = @AgentID_53ac23ce,
  @ActionID = @ActionID_53ac23ce,
  @Status = @Status_53ac23ce,
  @MinExecutionsPerRun = @MinExecutionsPerRun_53ac23ce,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_53ac23ce;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_cd0a69da UNIQUEIDENTIFIER,
@AgentID_cd0a69da UNIQUEIDENTIFIER,
@ActionID_cd0a69da UNIQUEIDENTIFIER,
@Status_cd0a69da NVARCHAR(15),
@MinExecutionsPerRun_cd0a69da INT,
@MaxExecutionsPerRun_cd0a69da INT
SET
  @ID_cd0a69da = '89444FC1-B71A-4243-9529-56501E0941E5'
SET
  @AgentID_cd0a69da = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_cd0a69da = 'C03F2547-5154-4627-8E12-FBDEB7580346'
SET
  @Status_cd0a69da = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_cd0a69da,
  @AgentID = @AgentID_cd0a69da,
  @ActionID = @ActionID_cd0a69da,
  @Status = @Status_cd0a69da,
  @MinExecutionsPerRun = @MinExecutionsPerRun_cd0a69da,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_cd0a69da;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_845c5f8e UNIQUEIDENTIFIER,
@AgentID_845c5f8e UNIQUEIDENTIFIER,
@ActionID_845c5f8e UNIQUEIDENTIFIER,
@Status_845c5f8e NVARCHAR(15),
@MinExecutionsPerRun_845c5f8e INT,
@MaxExecutionsPerRun_845c5f8e INT
SET
  @ID_845c5f8e = '02862A6E-5AAB-4DE2-B16D-8553145F668C'
SET
  @AgentID_845c5f8e = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_845c5f8e = '82169F64-8566-4AE7-9C87-190A885C98A9'
SET
  @Status_845c5f8e = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_845c5f8e,
  @AgentID = @AgentID_845c5f8e,
  @ActionID = @ActionID_845c5f8e,
  @Status = @Status_845c5f8e,
  @MinExecutionsPerRun = @MinExecutionsPerRun_845c5f8e,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_845c5f8e;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_c8f61056 UNIQUEIDENTIFIER,
@AgentID_c8f61056 UNIQUEIDENTIFIER,
@ActionID_c8f61056 UNIQUEIDENTIFIER,
@Status_c8f61056 NVARCHAR(15),
@MinExecutionsPerRun_c8f61056 INT,
@MaxExecutionsPerRun_c8f61056 INT
SET
  @ID_c8f61056 = 'E37EC417-5CC0-4911-9F2C-390E63340421'
SET
  @AgentID_c8f61056 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_c8f61056 = '22F9505E-3BEB-400E-A49F-A74D135C5A93'
SET
  @Status_c8f61056 = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_c8f61056,
  @AgentID = @AgentID_c8f61056,
  @ActionID = @ActionID_c8f61056,
  @Status = @Status_c8f61056,
  @MinExecutionsPerRun = @MinExecutionsPerRun_c8f61056,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_c8f61056;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_22c92fd9 UNIQUEIDENTIFIER,
@AgentID_22c92fd9 UNIQUEIDENTIFIER,
@ActionID_22c92fd9 UNIQUEIDENTIFIER,
@Status_22c92fd9 NVARCHAR(15),
@MinExecutionsPerRun_22c92fd9 INT,
@MaxExecutionsPerRun_22c92fd9 INT
SET
  @ID_22c92fd9 = 'CC75EA61-9C03-402C-AF10-D56CBC9621C1'
SET
  @AgentID_22c92fd9 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_22c92fd9 = '154255C2-76D4-492C-88D9-C80614EDD703'
SET
  @Status_22c92fd9 = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_22c92fd9,
  @AgentID = @AgentID_22c92fd9,
  @ActionID = @ActionID_22c92fd9,
  @Status = @Status_22c92fd9,
  @MinExecutionsPerRun = @MinExecutionsPerRun_22c92fd9,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_22c92fd9;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_9b0bbd49 UNIQUEIDENTIFIER,
@AgentID_9b0bbd49 UNIQUEIDENTIFIER,
@ActionID_9b0bbd49 UNIQUEIDENTIFIER,
@Status_9b0bbd49 NVARCHAR(15),
@MinExecutionsPerRun_9b0bbd49 INT,
@MaxExecutionsPerRun_9b0bbd49 INT
SET
  @ID_9b0bbd49 = '24F29104-E203-45DA-AC4C-344E337621CE'
SET
  @AgentID_9b0bbd49 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_9b0bbd49 = '81F96534-03F5-49E9-81B0-D8902A7645A3'
SET
  @Status_9b0bbd49 = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_9b0bbd49,
  @AgentID = @AgentID_9b0bbd49,
  @ActionID = @ActionID_9b0bbd49,
  @Status = @Status_9b0bbd49,
  @MinExecutionsPerRun = @MinExecutionsPerRun_9b0bbd49,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_9b0bbd49;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_351a4d8e UNIQUEIDENTIFIER,
@AgentID_351a4d8e UNIQUEIDENTIFIER,
@ActionID_351a4d8e UNIQUEIDENTIFIER,
@Status_351a4d8e NVARCHAR(15),
@MinExecutionsPerRun_351a4d8e INT,
@MaxExecutionsPerRun_351a4d8e INT
SET
  @ID_351a4d8e = 'E763AC7F-DBF8-42FE-9D3D-C3644E2C393D'
SET
  @AgentID_351a4d8e = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_351a4d8e = 'A2455679-1370-4298-AC9E-0BA48DE2432E'
SET
  @Status_351a4d8e = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_351a4d8e,
  @AgentID = @AgentID_351a4d8e,
  @ActionID = @ActionID_351a4d8e,
  @Status = @Status_351a4d8e,
  @MinExecutionsPerRun = @MinExecutionsPerRun_351a4d8e,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_351a4d8e;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_f44fac2c UNIQUEIDENTIFIER,
@AgentID_f44fac2c UNIQUEIDENTIFIER,
@ActionID_f44fac2c UNIQUEIDENTIFIER,
@Status_f44fac2c NVARCHAR(15),
@MinExecutionsPerRun_f44fac2c INT,
@MaxExecutionsPerRun_f44fac2c INT
SET
  @ID_f44fac2c = '27882351-BDC8-414E-B2B5-D74E5F5C8D46'
SET
  @AgentID_f44fac2c = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_f44fac2c = '6C88FED2-679A-4FDD-A31A-7F38D0457F22'
SET
  @Status_f44fac2c = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_f44fac2c,
  @AgentID = @AgentID_f44fac2c,
  @ActionID = @ActionID_f44fac2c,
  @Status = @Status_f44fac2c,
  @MinExecutionsPerRun = @MinExecutionsPerRun_f44fac2c,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_f44fac2c;


-- End of SQL Logging Session
-- Session ID: 215cb9e7-6368-48da-842c-ce87f463a57d
-- Completed: 2025-10-07T16:13:09.478Z
-- Duration: 23281ms
-- Total Statements: 27
