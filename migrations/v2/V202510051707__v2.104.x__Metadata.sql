-- SQL Logging Session
-- Session ID: c3c015fc-b6ca-4fb8-890b-ac2f091c2b46
-- Started: 2025-10-06T15:25:52.707Z
-- Description: MetadataSync push operation
-- Format: Migration-ready with Flyway schema placeholders
-- Generated by MemberJunction SQLServerDataProvider

-- Save AI Prompt Categories (core SP call only)
DECLARE @ID_bee0abda UNIQUEIDENTIFIER,
@Name_bee0abda NVARCHAR(255),
@ParentID_bee0abda UNIQUEIDENTIFIER,
@Description_bee0abda NVARCHAR(MAX)
SET
  @ID_bee0abda = 'c58263ec-edd4-4d95-a1d0-a37f905914ee'
SET
  @Name_bee0abda = N'Conversations'
SET
  @Description_bee0abda = N'Prompts for Conversation Management'
EXEC [${flyway:defaultSchema}].spCreateAIPromptCategory @ID = @ID_bee0abda,
  @Name = @Name_bee0abda,
  @ParentID = @ParentID_bee0abda,
  @Description = @Description_bee0abda;

-- Save Templates (core SP call only)
DECLARE @ID_d726b7ff UNIQUEIDENTIFIER,
@Name_d726b7ff NVARCHAR(255),
@Description_d726b7ff NVARCHAR(MAX),
@CategoryID_d726b7ff UNIQUEIDENTIFIER,
@UserPrompt_d726b7ff NVARCHAR(MAX),
@UserID_d726b7ff UNIQUEIDENTIFIER,
@ActiveAt_d726b7ff DATETIME,
@DisabledAt_d726b7ff DATETIME,
@IsActive_d726b7ff BIT
SET
  @ID_d726b7ff = '00d161b3-02ca-40fd-aa97-effe9ee943a2'
SET
  @Name_d726b7ff = N'Conversation Manager Agent - System Prompt'
SET
  @Description_d726b7ff = N'Template for AI Prompt: Conversation Manager Agent - System Prompt'
SET
  @CategoryID_d726b7ff = 'B09D433E-F36B-1410-8DB1-00021F8B792E'
SET
  @UserID_d726b7ff = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @IsActive_d726b7ff = 1
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = @ID_d726b7ff,
  @Name = @Name_d726b7ff,
  @Description = @Description_d726b7ff,
  @CategoryID = @CategoryID_d726b7ff,
  @UserPrompt = @UserPrompt_d726b7ff,
  @UserID = @UserID_d726b7ff,
  @ActiveAt = @ActiveAt_d726b7ff,
  @DisabledAt = @DisabledAt_d726b7ff,
  @IsActive = @IsActive_d726b7ff;

-- Save Templates (core SP call only)
DECLARE @ID_fa16eba2 UNIQUEIDENTIFIER,
@Name_fa16eba2 NVARCHAR(255),
@Description_fa16eba2 NVARCHAR(MAX),
@CategoryID_fa16eba2 UNIQUEIDENTIFIER,
@UserPrompt_fa16eba2 NVARCHAR(MAX),
@UserID_fa16eba2 UNIQUEIDENTIFIER,
@ActiveAt_fa16eba2 DATETIME,
@DisabledAt_fa16eba2 DATETIME,
@IsActive_fa16eba2 BIT
SET
  @ID_fa16eba2 = '617fa9a0-f0a7-4fc6-9047-3d04411e5a63'
SET
  @Name_fa16eba2 = N'Name Conversation'
SET
  @Description_fa16eba2 = N'Template for AI Prompt: Name Conversation'
SET
  @CategoryID_fa16eba2 = 'B09D433E-F36B-1410-8DB1-00021F8B792E'
SET
  @UserID_fa16eba2 = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @IsActive_fa16eba2 = 1
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = @ID_fa16eba2,
  @Name = @Name_fa16eba2,
  @Description = @Description_fa16eba2,
  @CategoryID = @CategoryID_fa16eba2,
  @UserPrompt = @UserPrompt_fa16eba2,
  @UserID = @UserID_fa16eba2,
  @ActiveAt = @ActiveAt_fa16eba2,
  @DisabledAt = @DisabledAt_fa16eba2,
  @IsActive = @IsActive_fa16eba2;

-- Save Template Contents (core SP call only)
DECLARE @ID_ceddb473 UNIQUEIDENTIFIER,
@TemplateID_ceddb473 UNIQUEIDENTIFIER,
@TypeID_ceddb473 UNIQUEIDENTIFIER,
@TemplateText_ceddb473 NVARCHAR(MAX),
@Priority_ceddb473 INT,
@IsActive_ceddb473 BIT
SET
  @ID_ceddb473 = '2f904adf-7057-472e-8c99-db4417300d8a'
SET
  @TemplateID_ceddb473 = '00D161B3-02CA-40FD-AA97-EFFE9EE943A2'
SET
  @TypeID_ceddb473 = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_ceddb473 = N'# Conversation Manager Agent

## Role
You are the Conversation Manager - an ambient, always-present AI assistant in MemberJunction conversations. You operate like a skilled concierge: attentive, helpful, and discreet. You know when to engage, when to delegate, and when to simply observe.

## Core Responsibilities

### 1. Conversation Awareness
- Monitor all messages in the conversation context
- Understand when you''re being directly addressed vs. observing
- Track conversation flow and participant interactions
- Maintain awareness of active agents and their work

### 2. Smart Engagement
**Respond when:**
- Directly addressed by name or with @ mention
- Asked a direct question
- User requests help or guidance with MemberJunction
- User expresses confusion or frustration
- Conversation needs clarification or direction
- No other agent is better suited

**Observe silently when:**
- Users are conversing with each other
- Another specialized agent is **already** engaged
- Users are having productive discussions
- Your input would interrupt natural flow
- The conversation is off-topic social chat

### 3. Navigation & Assistance
- Help users discover and use MemberJunction features
- Guide users to appropriate functionality
- Explain entity relationships and data structures

### 4. Agent Orchestration
- Recognize when specialized agents should be invoked. Favor the agents listed below if there are agents
  that are built to solve the user''s request
- In your `LoopAgentResponse` you must specify `taskComplete` = `true` and then provide a `payloadChangeRequest` in the format shown here so that I can invoke the agent. This is **not** the same as a sub-agent, you have **no** sub-agents you can call directly.

```json
// This is a payloadChangeRequest example
{
    "newElements": {
        "invokeAgent": "agentName", // agent name
        "reasoning": "brief reason why you''re invoking this agent"
    }
}
```
- The user has direct access to the following agents. Invoke those agents, which means that I will bring them into the conversation when requested and pass along the user message automatically

#### Available Agents
{% for a in ALL_AVAILABLE_AGENTS %}
##### {{a.Name}}
{{a.Description}}
{% endfor %}

## Decision Framework

### Use Agents First
- If an available agent in the above list is built for a particular purpose that seems aligned with the user request, response back with a payload invoking that agent and `Success` do NOT attempt to chat and solve the user problem directly
- If no agent is listed that can solve the problem, then proceed as follows:

### When to Respond Directly (type: ''Chat'')
- Simple informational questions
- Navigation guidance
- Quick clarifications
- Acknowledgments
- Follow-up questions

### When to Execute (type: ''Actions'')
- Simple data queries
- Permission checks
- Entity record lookups
- Basic CRUD operations
- Entity searches

### When to Stay Silent (taskComplete: true, no message)
- Multi-party conversations not directed at you
- Other agents handling requests
- Social chatter between users
- Topics outside your scope

## Personality & Tone

**Be:**
- ✅ Professional yet approachable
- ✅ Concise and efficient
- ✅ Proactive but not intrusive
- ✅ Helpful without being condescending
- ✅ Confident but humble

**Avoid:**
- ❌ Verbose explanations unless requested
- ❌ Interrupting conversations
- ❌ Assuming you know best
- ❌ Technical jargon without context
- ❌ Over-explaining simple things

## Response Guidelines

### Message Length
- **Brief** (1-2 sentences): Simple answers, acknowledgments
- **Standard** (2-4 sentences): Typical responses, guidance
- **Detailed** (5+ sentences): Complex explanations when requested

### Communication Style
```
GOOD:
"I can help you create that report. Would you like me to bring in the Analysis Agent to handle the data extraction?"

"The Users entity is in the Admin area. Want me to navigate there?"

"I''ll step back while the Data Agent handles this query."

BAD:
"I noticed you mentioned reports! As the Conversation Manager, I have extensive knowledge about MemberJunction''s reporting capabilities. Let me explain all the different types of reports we support..."

"While I could help with that, I think maybe possibly we might want to consider..."
```

## Context Awareness

### Conversation History
- Reference previous messages when relevant
- Remember user preferences stated in conversation
- Track what''s been accomplished
- Note any open issues or blockers

### Multi-User Scenarios
- Identify who you''re responding to
- Respect ongoing discussions
- Only interject when value is clear
- Address specific users by name when appropriate

### Agent Coordination
- Know what other agents are available
- Understand agent capabilities
- Pass appropriate context to sub-agents
- Don''t duplicate work other agents are doing

## Special Scenarios

### First Message in Conversation
- Greet warmly but briefly
- Offer help discovering MemberJunction
- Set expectations for your role
- Don''t overwhelm with information

### Error Situations
- Acknowledge errors clearly
- Explain what went wrong simply
- Offer concrete next steps
- Escalate to humans if needed

### Ambiguous Requests
- Ask clarifying questions
- Provide multiple interpretation options
- Suggest related functionality
- Help user refine their request
 
---

## Remember

You are the **ambient intelligence** in every MemberJunction conversation. Your value comes not from always having the answer, but from knowing when to help, when to delegate, and when to step back. Quality over quantity. Relevance over responsiveness.
'
SET
  @Priority_ceddb473 = 1
SET
  @IsActive_ceddb473 = 1
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = @ID_ceddb473,
  @TemplateID = @TemplateID_ceddb473,
  @TypeID = @TypeID_ceddb473,
  @TemplateText = @TemplateText_ceddb473,
  @Priority = @Priority_ceddb473,
  @IsActive = @IsActive_ceddb473;

-- Save Template Contents (core SP call only)
DECLARE @ID_0242f3e6 UNIQUEIDENTIFIER,
@TemplateID_0242f3e6 UNIQUEIDENTIFIER,
@TypeID_0242f3e6 UNIQUEIDENTIFIER,
@TemplateText_0242f3e6 NVARCHAR(MAX),
@Priority_0242f3e6 INT,
@IsActive_0242f3e6 BIT
SET
  @ID_0242f3e6 = '3689863e-8d35-4987-8cbf-cd28567f7a5c'
SET
  @TemplateID_0242f3e6 = '617FA9A0-F0A7-4FC6-9047-3D04411E5A63'
SET
  @TypeID_0242f3e6 = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_0242f3e6 = N'# Conversation Naming Assistant

Your job is to read a user message that is **starting** a new conversation and to give it a name and description that will **help the user** find it later in a long list of conversations

## Your Task

Analyze the user''s first message in a conversation and generate:
1. A **concise name** (2-6 words max) that captures the main topic or intent
2. A **brief description** (1-2 sentences) that provides more context

## Guidelines

### For Names:
- Keep it short and scannable (3-6 words)
- Use title case
- Focus on the core topic or question
- Avoid generic terms like "Chat", "Question", "Help"
- Be specific but not overly detailed
- Examples:
  - "Customer Onboarding Flow" (not "Chat About Customer Onboarding")
  - "Q3 Revenue Analysis" (not "Help With Revenue")
  - "React Performance Issues" (not "Questions About React")

### For Descriptions:
- 1-2 sentences maximum
- Provide context that complements the name
- Include key details or goals if evident
- Be objective and informative
- Examples:
  - "Discussion about optimizing the customer onboarding experience and reducing friction points."
  - "Analysis of Q3 revenue trends and comparison with previous quarters."
  - "Troubleshooting React application performance issues related to rendering."

## Input Format
Review the user message provided

## Output Format

Return a JSON object with this exact structure:
```json
{
  "name": "Concise Conversation Name",
  "description": "Brief description that provides context and complements the name."
}
```

## Examples

### Example 1
**Input Message**: "I need help building a dashboard that shows real-time sales data with charts and filters. It should update automatically every 30 seconds."

**Output**:
```json
{
  "name": "Real-Time Sales Dashboard",
  "description": "Building an auto-updating dashboard with charts and filters to display live sales data with 30-second refresh intervals."
}
```

### Example 2
**Input Message**: "What''s the difference between abstract classes and interfaces in TypeScript?"

**Output**:
```json
{
  "name": "TypeScript Abstract Classes vs Interfaces",
  "description": "Exploring the differences, use cases, and best practices for abstract classes versus interfaces in TypeScript."
}
```

### Example 3
**Input Message**: "Can you help me debug this error: TypeError: Cannot read property ''map'' of undefined"

**Output**:
```json
{
  "name": "Debug TypeError: Undefined Map",
  "description": "Troubleshooting a TypeError related to attempting to call map() on an undefined value."
}
```

### Example 4
**Input Message**: "hi"

**Output**:
```json
{
  "name": "General Discussion",
  "description": "Open conversation covering various topics."
}
```

## Important Notes

- Be concise - both name and description should be brief
- Focus on what''s actionable or interesting, not just restating the obvious
- For vague messages, use general but professional naming
- Never include the word "Chat" or "Conversation" in the name unless absolutely necessary
- Always return valid JSON with both "name" and "description" fields
'
SET
  @Priority_0242f3e6 = 1
SET
  @IsActive_0242f3e6 = 1
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = @ID_0242f3e6,
  @TemplateID = @TemplateID_0242f3e6,
  @TypeID = @TypeID_0242f3e6,
  @TemplateText = @TemplateText_0242f3e6,
  @Priority = @Priority_0242f3e6,
  @IsActive = @IsActive_0242f3e6;

-- Save AI Prompts (core SP call only)
DECLARE @ID_9dea4efc UNIQUEIDENTIFIER,
@Name_9dea4efc NVARCHAR(255),
@Description_9dea4efc NVARCHAR(MAX),
@TemplateID_9dea4efc UNIQUEIDENTIFIER,
@CategoryID_9dea4efc UNIQUEIDENTIFIER,
@TypeID_9dea4efc UNIQUEIDENTIFIER,
@Status_9dea4efc NVARCHAR(50),
@ResponseFormat_9dea4efc NVARCHAR(20),
@ModelSpecificResponseFormat_9dea4efc NVARCHAR(MAX),
@AIModelTypeID_9dea4efc UNIQUEIDENTIFIER,
@MinPowerRank_9dea4efc INT,
@SelectionStrategy_9dea4efc NVARCHAR(20),
@PowerPreference_9dea4efc NVARCHAR(20),
@ParallelizationMode_9dea4efc NVARCHAR(20),
@ParallelCount_9dea4efc INT,
@ParallelConfigParam_9dea4efc NVARCHAR(100),
@OutputType_9dea4efc NVARCHAR(50),
@OutputExample_9dea4efc NVARCHAR(MAX),
@ValidationBehavior_9dea4efc NVARCHAR(50),
@MaxRetries_9dea4efc INT,
@RetryDelayMS_9dea4efc INT,
@RetryStrategy_9dea4efc NVARCHAR(20),
@ResultSelectorPromptID_9dea4efc UNIQUEIDENTIFIER,
@EnableCaching_9dea4efc BIT,
@CacheTTLSeconds_9dea4efc INT,
@CacheMatchType_9dea4efc NVARCHAR(20),
@CacheSimilarityThreshold_9dea4efc FLOAT(53),
@CacheMustMatchModel_9dea4efc BIT,
@CacheMustMatchVendor_9dea4efc BIT,
@CacheMustMatchAgent_9dea4efc BIT,
@CacheMustMatchConfig_9dea4efc BIT,
@PromptRole_9dea4efc NVARCHAR(20),
@PromptPosition_9dea4efc NVARCHAR(20),
@Temperature_9dea4efc DECIMAL(3, 2),
@TopP_9dea4efc DECIMAL(3, 2),
@TopK_9dea4efc INT,
@MinP_9dea4efc DECIMAL(3, 2),
@FrequencyPenalty_9dea4efc DECIMAL(3, 2),
@PresencePenalty_9dea4efc DECIMAL(3, 2),
@Seed_9dea4efc INT,
@StopSequences_9dea4efc NVARCHAR(1000),
@IncludeLogProbs_9dea4efc BIT,
@TopLogProbs_9dea4efc INT,
@FailoverStrategy_9dea4efc NVARCHAR(50),
@FailoverMaxAttempts_9dea4efc INT,
@FailoverDelaySeconds_9dea4efc INT,
@FailoverModelStrategy_9dea4efc NVARCHAR(50),
@FailoverErrorScope_9dea4efc NVARCHAR(50),
@EffortLevel_9dea4efc INT
SET
  @ID_9dea4efc = '69FFD223-C98E-4081-808E-7E1D445D2F85'
SET
  @Name_9dea4efc = N'Name Conversation'
SET
  @Description_9dea4efc = N'Generates a concise name and description for a conversation based on the user''s first message. Returns JSON with name (3-6 words) and description (1-2 sentences).'
SET
  @TemplateID_9dea4efc = '617FA9A0-F0A7-4FC6-9047-3D04411E5A63'
SET
  @CategoryID_9dea4efc = 'C58263EC-EDD4-4D95-A1D0-A37F905914EE'
SET
  @TypeID_9dea4efc = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_9dea4efc = N'Active'
SET
  @ResponseFormat_9dea4efc = N'JSON'
SET
  @MinPowerRank_9dea4efc = 0
SET
  @SelectionStrategy_9dea4efc = N'Specific'
SET
  @PowerPreference_9dea4efc = N'Lowest'
SET
  @ParallelizationMode_9dea4efc = N'None'
SET
  @OutputType_9dea4efc = N'string'
SET
  @ValidationBehavior_9dea4efc = N'Warn'
SET
  @MaxRetries_9dea4efc = 2
SET
  @RetryDelayMS_9dea4efc = 1000
SET
  @RetryStrategy_9dea4efc = N'Fixed'
SET
  @EnableCaching_9dea4efc = 0
SET
  @CacheMatchType_9dea4efc = N'Exact'
SET
  @CacheMustMatchModel_9dea4efc = 1
SET
  @CacheMustMatchVendor_9dea4efc = 1
SET
  @CacheMustMatchAgent_9dea4efc = 0
SET
  @CacheMustMatchConfig_9dea4efc = 0
SET
  @PromptRole_9dea4efc = N'System'
SET
  @PromptPosition_9dea4efc = N'First'
SET
  @IncludeLogProbs_9dea4efc = 0
SET
  @FailoverStrategy_9dea4efc = N'SameModelDifferentVendor'
SET
  @FailoverMaxAttempts_9dea4efc = 3
SET
  @FailoverDelaySeconds_9dea4efc = 5
SET
  @FailoverModelStrategy_9dea4efc = N'PreferSameModel'
SET
  @FailoverErrorScope_9dea4efc = N'All'
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = @ID_9dea4efc,
  @Name = @Name_9dea4efc,
  @Description = @Description_9dea4efc,
  @TemplateID = @TemplateID_9dea4efc,
  @CategoryID = @CategoryID_9dea4efc,
  @TypeID = @TypeID_9dea4efc,
  @Status = @Status_9dea4efc,
  @ResponseFormat = @ResponseFormat_9dea4efc,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_9dea4efc,
  @AIModelTypeID = @AIModelTypeID_9dea4efc,
  @MinPowerRank = @MinPowerRank_9dea4efc,
  @SelectionStrategy = @SelectionStrategy_9dea4efc,
  @PowerPreference = @PowerPreference_9dea4efc,
  @ParallelizationMode = @ParallelizationMode_9dea4efc,
  @ParallelCount = @ParallelCount_9dea4efc,
  @ParallelConfigParam = @ParallelConfigParam_9dea4efc,
  @OutputType = @OutputType_9dea4efc,
  @OutputExample = @OutputExample_9dea4efc,
  @ValidationBehavior = @ValidationBehavior_9dea4efc,
  @MaxRetries = @MaxRetries_9dea4efc,
  @RetryDelayMS = @RetryDelayMS_9dea4efc,
  @RetryStrategy = @RetryStrategy_9dea4efc,
  @ResultSelectorPromptID = @ResultSelectorPromptID_9dea4efc,
  @EnableCaching = @EnableCaching_9dea4efc,
  @CacheTTLSeconds = @CacheTTLSeconds_9dea4efc,
  @CacheMatchType = @CacheMatchType_9dea4efc,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_9dea4efc,
  @CacheMustMatchModel = @CacheMustMatchModel_9dea4efc,
  @CacheMustMatchVendor = @CacheMustMatchVendor_9dea4efc,
  @CacheMustMatchAgent = @CacheMustMatchAgent_9dea4efc,
  @CacheMustMatchConfig = @CacheMustMatchConfig_9dea4efc,
  @PromptRole = @PromptRole_9dea4efc,
  @PromptPosition = @PromptPosition_9dea4efc,
  @Temperature = @Temperature_9dea4efc,
  @TopP = @TopP_9dea4efc,
  @TopK = @TopK_9dea4efc,
  @MinP = @MinP_9dea4efc,
  @FrequencyPenalty = @FrequencyPenalty_9dea4efc,
  @PresencePenalty = @PresencePenalty_9dea4efc,
  @Seed = @Seed_9dea4efc,
  @StopSequences = @StopSequences_9dea4efc,
  @IncludeLogProbs = @IncludeLogProbs_9dea4efc,
  @TopLogProbs = @TopLogProbs_9dea4efc,
  @FailoverStrategy = @FailoverStrategy_9dea4efc,
  @FailoverMaxAttempts = @FailoverMaxAttempts_9dea4efc,
  @FailoverDelaySeconds = @FailoverDelaySeconds_9dea4efc,
  @FailoverModelStrategy = @FailoverModelStrategy_9dea4efc,
  @FailoverErrorScope = @FailoverErrorScope_9dea4efc,
  @EffortLevel = @EffortLevel_9dea4efc;

-- Save Template Params (core SP call only)
DECLARE @ID_b16ed663 UNIQUEIDENTIFIER,
@TemplateID_b16ed663 UNIQUEIDENTIFIER,
@Name_b16ed663 NVARCHAR(255),
@Description_b16ed663 NVARCHAR(MAX),
@Type_b16ed663 NVARCHAR(20),
@DefaultValue_b16ed663 NVARCHAR(MAX),
@IsRequired_b16ed663 BIT,
@LinkedParameterName_b16ed663 NVARCHAR(255),
@LinkedParameterField_b16ed663 NVARCHAR(500),
@ExtraFilter_b16ed663 NVARCHAR(MAX),
@EntityID_b16ed663 UNIQUEIDENTIFIER,
@RecordID_b16ed663 NVARCHAR(2000),
@OrderBy_b16ed663 NVARCHAR(MAX),
@TemplateContentID_b16ed663 UNIQUEIDENTIFIER
SET
  @ID_b16ed663 = 'c362c093-b314-4b3c-bc53-b2435549e44e'
SET
  @TemplateID_b16ed663 = '00D161B3-02CA-40FD-AA97-EFFE9EE943A2'
SET
  @Name_b16ed663 = N'ALL_AVAILABLE_AGENTS'
SET
  @Description_b16ed663 = N'List of all AI agents available for invocation, each with Name and Description properties'
SET
  @Type_b16ed663 = N'Array'
SET
  @IsRequired_b16ed663 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_b16ed663,
  @TemplateID = @TemplateID_b16ed663,
  @Name = @Name_b16ed663,
  @Description = @Description_b16ed663,
  @Type = @Type_b16ed663,
  @DefaultValue = @DefaultValue_b16ed663,
  @IsRequired = @IsRequired_b16ed663,
  @LinkedParameterName = @LinkedParameterName_b16ed663,
  @LinkedParameterField = @LinkedParameterField_b16ed663,
  @ExtraFilter = @ExtraFilter_b16ed663,
  @EntityID = @EntityID_b16ed663,
  @RecordID = @RecordID_b16ed663,
  @OrderBy = @OrderBy_b16ed663,
  @TemplateContentID = @TemplateContentID_b16ed663;

-- Save AI Prompts (core SP call only)
DECLARE @ID_e77146c2 UNIQUEIDENTIFIER,
@Name_e77146c2 NVARCHAR(255),
@Description_e77146c2 NVARCHAR(MAX),
@TemplateID_e77146c2 UNIQUEIDENTIFIER,
@CategoryID_e77146c2 UNIQUEIDENTIFIER,
@TypeID_e77146c2 UNIQUEIDENTIFIER,
@Status_e77146c2 NVARCHAR(50),
@ResponseFormat_e77146c2 NVARCHAR(20),
@ModelSpecificResponseFormat_e77146c2 NVARCHAR(MAX),
@AIModelTypeID_e77146c2 UNIQUEIDENTIFIER,
@MinPowerRank_e77146c2 INT,
@SelectionStrategy_e77146c2 NVARCHAR(20),
@PowerPreference_e77146c2 NVARCHAR(20),
@ParallelizationMode_e77146c2 NVARCHAR(20),
@ParallelCount_e77146c2 INT,
@ParallelConfigParam_e77146c2 NVARCHAR(100),
@OutputType_e77146c2 NVARCHAR(50),
@OutputExample_e77146c2 NVARCHAR(MAX),
@ValidationBehavior_e77146c2 NVARCHAR(50),
@MaxRetries_e77146c2 INT,
@RetryDelayMS_e77146c2 INT,
@RetryStrategy_e77146c2 NVARCHAR(20),
@ResultSelectorPromptID_e77146c2 UNIQUEIDENTIFIER,
@EnableCaching_e77146c2 BIT,
@CacheTTLSeconds_e77146c2 INT,
@CacheMatchType_e77146c2 NVARCHAR(20),
@CacheSimilarityThreshold_e77146c2 FLOAT(53),
@CacheMustMatchModel_e77146c2 BIT,
@CacheMustMatchVendor_e77146c2 BIT,
@CacheMustMatchAgent_e77146c2 BIT,
@CacheMustMatchConfig_e77146c2 BIT,
@PromptRole_e77146c2 NVARCHAR(20),
@PromptPosition_e77146c2 NVARCHAR(20),
@Temperature_e77146c2 DECIMAL(3, 2),
@TopP_e77146c2 DECIMAL(3, 2),
@TopK_e77146c2 INT,
@MinP_e77146c2 DECIMAL(3, 2),
@FrequencyPenalty_e77146c2 DECIMAL(3, 2),
@PresencePenalty_e77146c2 DECIMAL(3, 2),
@Seed_e77146c2 INT,
@StopSequences_e77146c2 NVARCHAR(1000),
@IncludeLogProbs_e77146c2 BIT,
@TopLogProbs_e77146c2 INT,
@FailoverStrategy_e77146c2 NVARCHAR(50),
@FailoverMaxAttempts_e77146c2 INT,
@FailoverDelaySeconds_e77146c2 INT,
@FailoverModelStrategy_e77146c2 NVARCHAR(50),
@FailoverErrorScope_e77146c2 NVARCHAR(50),
@EffortLevel_e77146c2 INT
SET
  @ID_e77146c2 = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
SET
  @Name_e77146c2 = N'Conversation Manager Agent - System Prompt'
SET
  @Description_e77146c2 = N'System prompt for the ambient Conversation Manager agent that monitors and assists users in MemberJunction conversations.'
SET
  @TemplateID_e77146c2 = '00D161B3-02CA-40FD-AA97-EFFE9EE943A2'
SET
  @CategoryID_e77146c2 = '7D2DEF7F-138F-4620-8309-33964A97A997'
SET
  @TypeID_e77146c2 = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_e77146c2 = N'Active'
SET
  @ResponseFormat_e77146c2 = N'JSON'
SET
  @MinPowerRank_e77146c2 = 0
SET
  @SelectionStrategy_e77146c2 = N'Specific'
SET
  @PowerPreference_e77146c2 = N'Highest'
SET
  @ParallelizationMode_e77146c2 = N'None'
SET
  @OutputType_e77146c2 = N'string'
SET
  @ValidationBehavior_e77146c2 = N'Warn'
SET
  @MaxRetries_e77146c2 = 2
SET
  @RetryDelayMS_e77146c2 = 1000
SET
  @RetryStrategy_e77146c2 = N'Fixed'
SET
  @EnableCaching_e77146c2 = 0
SET
  @CacheMatchType_e77146c2 = N'Exact'
SET
  @CacheMustMatchModel_e77146c2 = 1
SET
  @CacheMustMatchVendor_e77146c2 = 1
SET
  @CacheMustMatchAgent_e77146c2 = 0
SET
  @CacheMustMatchConfig_e77146c2 = 0
SET
  @PromptRole_e77146c2 = N'System'
SET
  @PromptPosition_e77146c2 = N'First'
SET
  @IncludeLogProbs_e77146c2 = 0
SET
  @FailoverStrategy_e77146c2 = N'SameModelDifferentVendor'
SET
  @FailoverMaxAttempts_e77146c2 = 3
SET
  @FailoverDelaySeconds_e77146c2 = 5
SET
  @FailoverModelStrategy_e77146c2 = N'PreferSameModel'
SET
  @FailoverErrorScope_e77146c2 = N'All'
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = @ID_e77146c2,
  @Name = @Name_e77146c2,
  @Description = @Description_e77146c2,
  @TemplateID = @TemplateID_e77146c2,
  @CategoryID = @CategoryID_e77146c2,
  @TypeID = @TypeID_e77146c2,
  @Status = @Status_e77146c2,
  @ResponseFormat = @ResponseFormat_e77146c2,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_e77146c2,
  @AIModelTypeID = @AIModelTypeID_e77146c2,
  @MinPowerRank = @MinPowerRank_e77146c2,
  @SelectionStrategy = @SelectionStrategy_e77146c2,
  @PowerPreference = @PowerPreference_e77146c2,
  @ParallelizationMode = @ParallelizationMode_e77146c2,
  @ParallelCount = @ParallelCount_e77146c2,
  @ParallelConfigParam = @ParallelConfigParam_e77146c2,
  @OutputType = @OutputType_e77146c2,
  @OutputExample = @OutputExample_e77146c2,
  @ValidationBehavior = @ValidationBehavior_e77146c2,
  @MaxRetries = @MaxRetries_e77146c2,
  @RetryDelayMS = @RetryDelayMS_e77146c2,
  @RetryStrategy = @RetryStrategy_e77146c2,
  @ResultSelectorPromptID = @ResultSelectorPromptID_e77146c2,
  @EnableCaching = @EnableCaching_e77146c2,
  @CacheTTLSeconds = @CacheTTLSeconds_e77146c2,
  @CacheMatchType = @CacheMatchType_e77146c2,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_e77146c2,
  @CacheMustMatchModel = @CacheMustMatchModel_e77146c2,
  @CacheMustMatchVendor = @CacheMustMatchVendor_e77146c2,
  @CacheMustMatchAgent = @CacheMustMatchAgent_e77146c2,
  @CacheMustMatchConfig = @CacheMustMatchConfig_e77146c2,
  @PromptRole = @PromptRole_e77146c2,
  @PromptPosition = @PromptPosition_e77146c2,
  @Temperature = @Temperature_e77146c2,
  @TopP = @TopP_e77146c2,
  @TopK = @TopK_e77146c2,
  @MinP = @MinP_e77146c2,
  @FrequencyPenalty = @FrequencyPenalty_e77146c2,
  @PresencePenalty = @PresencePenalty_e77146c2,
  @Seed = @Seed_e77146c2,
  @StopSequences = @StopSequences_e77146c2,
  @IncludeLogProbs = @IncludeLogProbs_e77146c2,
  @TopLogProbs = @TopLogProbs_e77146c2,
  @FailoverStrategy = @FailoverStrategy_e77146c2,
  @FailoverMaxAttempts = @FailoverMaxAttempts_e77146c2,
  @FailoverDelaySeconds = @FailoverDelaySeconds_e77146c2,
  @FailoverModelStrategy = @FailoverModelStrategy_e77146c2,
  @FailoverErrorScope = @FailoverErrorScope_e77146c2,
  @EffortLevel = @EffortLevel_e77146c2;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_2e375ab8 UNIQUEIDENTIFIER,
@PromptID_2e375ab8 UNIQUEIDENTIFIER,
@ModelID_2e375ab8 UNIQUEIDENTIFIER,
@VendorID_2e375ab8 UNIQUEIDENTIFIER,
@ConfigurationID_2e375ab8 UNIQUEIDENTIFIER,
@Priority_2e375ab8 INT,
@ExecutionGroup_2e375ab8 INT,
@ModelParameters_2e375ab8 NVARCHAR(MAX),
@Status_2e375ab8 NVARCHAR(20),
@ParallelizationMode_2e375ab8 NVARCHAR(20),
@ParallelCount_2e375ab8 INT,
@ParallelConfigParam_2e375ab8 NVARCHAR(100)
SET
  @ID_2e375ab8 = '914F9304-BE04-41B7-8F63-314F595D7A2F'
SET
  @PromptID_2e375ab8 = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
SET
  @ModelID_2e375ab8 = '8E1BADD5-D593-4F9B-90D4-BF6D8AFA74A0'
SET
  @VendorID_2e375ab8 = '3EDA433E-F36B-1410-8DB6-00021F8B792E'
SET
  @Priority_2e375ab8 = 3
SET
  @ExecutionGroup_2e375ab8 = 0
SET
  @Status_2e375ab8 = N'Active'
SET
  @ParallelizationMode_2e375ab8 = N'None'
SET
  @ParallelCount_2e375ab8 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_2e375ab8,
  @PromptID = @PromptID_2e375ab8,
  @ModelID = @ModelID_2e375ab8,
  @VendorID = @VendorID_2e375ab8,
  @ConfigurationID = @ConfigurationID_2e375ab8,
  @Priority = @Priority_2e375ab8,
  @ExecutionGroup = @ExecutionGroup_2e375ab8,
  @ModelParameters = @ModelParameters_2e375ab8,
  @Status = @Status_2e375ab8,
  @ParallelizationMode = @ParallelizationMode_2e375ab8,
  @ParallelCount = @ParallelCount_2e375ab8,
  @ParallelConfigParam = @ParallelConfigParam_2e375ab8;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_6d748ee7 UNIQUEIDENTIFIER,
@PromptID_6d748ee7 UNIQUEIDENTIFIER,
@ModelID_6d748ee7 UNIQUEIDENTIFIER,
@VendorID_6d748ee7 UNIQUEIDENTIFIER,
@ConfigurationID_6d748ee7 UNIQUEIDENTIFIER,
@Priority_6d748ee7 INT,
@ExecutionGroup_6d748ee7 INT,
@ModelParameters_6d748ee7 NVARCHAR(MAX),
@Status_6d748ee7 NVARCHAR(20),
@ParallelizationMode_6d748ee7 NVARCHAR(20),
@ParallelCount_6d748ee7 INT,
@ParallelConfigParam_6d748ee7 NVARCHAR(100)
SET
  @ID_6d748ee7 = '608B38EC-1C18-4858-9BE9-472FDED52C7A'
SET
  @PromptID_6d748ee7 = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
SET
  @ModelID_6d748ee7 = '8E1BADD5-D593-4F9B-90D4-BF6D8AFA74A0'
SET
  @VendorID_6d748ee7 = 'E3A5CCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @Priority_6d748ee7 = 2
SET
  @ExecutionGroup_6d748ee7 = 0
SET
  @Status_6d748ee7 = N'Active'
SET
  @ParallelizationMode_6d748ee7 = N'None'
SET
  @ParallelCount_6d748ee7 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_6d748ee7,
  @PromptID = @PromptID_6d748ee7,
  @ModelID = @ModelID_6d748ee7,
  @VendorID = @VendorID_6d748ee7,
  @ConfigurationID = @ConfigurationID_6d748ee7,
  @Priority = @Priority_6d748ee7,
  @ExecutionGroup = @ExecutionGroup_6d748ee7,
  @ModelParameters = @ModelParameters_6d748ee7,
  @Status = @Status_6d748ee7,
  @ParallelizationMode = @ParallelizationMode_6d748ee7,
  @ParallelCount = @ParallelCount_6d748ee7,
  @ParallelConfigParam = @ParallelConfigParam_6d748ee7;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_6dcdf32e UNIQUEIDENTIFIER,
@PromptID_6dcdf32e UNIQUEIDENTIFIER,
@ModelID_6dcdf32e UNIQUEIDENTIFIER,
@VendorID_6dcdf32e UNIQUEIDENTIFIER,
@ConfigurationID_6dcdf32e UNIQUEIDENTIFIER,
@Priority_6dcdf32e INT,
@ExecutionGroup_6dcdf32e INT,
@ModelParameters_6dcdf32e NVARCHAR(MAX),
@Status_6dcdf32e NVARCHAR(20),
@ParallelizationMode_6dcdf32e NVARCHAR(20),
@ParallelCount_6dcdf32e INT,
@ParallelConfigParam_6dcdf32e NVARCHAR(100)
SET
  @ID_6dcdf32e = '49864BAC-3207-4C62-9CF9-F12063E3F781'
SET
  @PromptID_6dcdf32e = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
SET
  @ModelID_6dcdf32e = '9604B1A4-3A21-F011-8B3D-7C1E5249773E'
SET
  @VendorID_6dcdf32e = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @Priority_6dcdf32e = 1
SET
  @ExecutionGroup_6dcdf32e = 0
SET
  @Status_6dcdf32e = N'Active'
SET
  @ParallelizationMode_6dcdf32e = N'None'
SET
  @ParallelCount_6dcdf32e = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_6dcdf32e,
  @PromptID = @PromptID_6dcdf32e,
  @ModelID = @ModelID_6dcdf32e,
  @VendorID = @VendorID_6dcdf32e,
  @ConfigurationID = @ConfigurationID_6dcdf32e,
  @Priority = @Priority_6dcdf32e,
  @ExecutionGroup = @ExecutionGroup_6dcdf32e,
  @ModelParameters = @ModelParameters_6dcdf32e,
  @Status = @Status_6dcdf32e,
  @ParallelizationMode = @ParallelizationMode_6dcdf32e,
  @ParallelCount = @ParallelCount_6dcdf32e,
  @ParallelConfigParam = @ParallelConfigParam_6dcdf32e;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_cabd5e05 UNIQUEIDENTIFIER,
@PromptID_cabd5e05 UNIQUEIDENTIFIER,
@ModelID_cabd5e05 UNIQUEIDENTIFIER,
@VendorID_cabd5e05 UNIQUEIDENTIFIER,
@ConfigurationID_cabd5e05 UNIQUEIDENTIFIER,
@Priority_cabd5e05 INT,
@ExecutionGroup_cabd5e05 INT,
@ModelParameters_cabd5e05 NVARCHAR(MAX),
@Status_cabd5e05 NVARCHAR(20),
@ParallelizationMode_cabd5e05 NVARCHAR(20),
@ParallelCount_cabd5e05 INT,
@ParallelConfigParam_cabd5e05 NVARCHAR(100)
SET
  @ID_cabd5e05 = '288F3119-2DBF-44EF-BD0D-A3664C39B43E'
SET
  @PromptID_cabd5e05 = '69FFD223-C98E-4081-808E-7E1D445D2F85'
SET
  @ModelID_cabd5e05 = '8E1BADD5-D593-4F9B-90D4-BF6D8AFA74A0'
SET
  @VendorID_cabd5e05 = '3EDA433E-F36B-1410-8DB6-00021F8B792E'
SET
  @Priority_cabd5e05 = 3
SET
  @ExecutionGroup_cabd5e05 = 0
SET
  @Status_cabd5e05 = N'Active'
SET
  @ParallelizationMode_cabd5e05 = N'None'
SET
  @ParallelCount_cabd5e05 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_cabd5e05,
  @PromptID = @PromptID_cabd5e05,
  @ModelID = @ModelID_cabd5e05,
  @VendorID = @VendorID_cabd5e05,
  @ConfigurationID = @ConfigurationID_cabd5e05,
  @Priority = @Priority_cabd5e05,
  @ExecutionGroup = @ExecutionGroup_cabd5e05,
  @ModelParameters = @ModelParameters_cabd5e05,
  @Status = @Status_cabd5e05,
  @ParallelizationMode = @ParallelizationMode_cabd5e05,
  @ParallelCount = @ParallelCount_cabd5e05,
  @ParallelConfigParam = @ParallelConfigParam_cabd5e05;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_4169fbf8 UNIQUEIDENTIFIER,
@PromptID_4169fbf8 UNIQUEIDENTIFIER,
@ModelID_4169fbf8 UNIQUEIDENTIFIER,
@VendorID_4169fbf8 UNIQUEIDENTIFIER,
@ConfigurationID_4169fbf8 UNIQUEIDENTIFIER,
@Priority_4169fbf8 INT,
@ExecutionGroup_4169fbf8 INT,
@ModelParameters_4169fbf8 NVARCHAR(MAX),
@Status_4169fbf8 NVARCHAR(20),
@ParallelizationMode_4169fbf8 NVARCHAR(20),
@ParallelCount_4169fbf8 INT,
@ParallelConfigParam_4169fbf8 NVARCHAR(100)
SET
  @ID_4169fbf8 = 'AEEE2D06-23CE-4322-A593-36F52EF28A35'
SET
  @PromptID_4169fbf8 = '69FFD223-C98E-4081-808E-7E1D445D2F85'
SET
  @ModelID_4169fbf8 = '8E1BADD5-D593-4F9B-90D4-BF6D8AFA74A0'
SET
  @VendorID_4169fbf8 = 'E3A5CCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @Priority_4169fbf8 = 2
SET
  @ExecutionGroup_4169fbf8 = 0
SET
  @Status_4169fbf8 = N'Active'
SET
  @ParallelizationMode_4169fbf8 = N'None'
SET
  @ParallelCount_4169fbf8 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_4169fbf8,
  @PromptID = @PromptID_4169fbf8,
  @ModelID = @ModelID_4169fbf8,
  @VendorID = @VendorID_4169fbf8,
  @ConfigurationID = @ConfigurationID_4169fbf8,
  @Priority = @Priority_4169fbf8,
  @ExecutionGroup = @ExecutionGroup_4169fbf8,
  @ModelParameters = @ModelParameters_4169fbf8,
  @Status = @Status_4169fbf8,
  @ParallelizationMode = @ParallelizationMode_4169fbf8,
  @ParallelCount = @ParallelCount_4169fbf8,
  @ParallelConfigParam = @ParallelConfigParam_4169fbf8;

-- Save MJ: AI Prompt Models (core SP call only)
DECLARE @ID_0717ae96 UNIQUEIDENTIFIER,
@PromptID_0717ae96 UNIQUEIDENTIFIER,
@ModelID_0717ae96 UNIQUEIDENTIFIER,
@VendorID_0717ae96 UNIQUEIDENTIFIER,
@ConfigurationID_0717ae96 UNIQUEIDENTIFIER,
@Priority_0717ae96 INT,
@ExecutionGroup_0717ae96 INT,
@ModelParameters_0717ae96 NVARCHAR(MAX),
@Status_0717ae96 NVARCHAR(20),
@ParallelizationMode_0717ae96 NVARCHAR(20),
@ParallelCount_0717ae96 INT,
@ParallelConfigParam_0717ae96 NVARCHAR(100)
SET
  @ID_0717ae96 = '36FC7183-29A8-48AC-B4F4-D65A9DB911A9'
SET
  @PromptID_0717ae96 = '69FFD223-C98E-4081-808E-7E1D445D2F85'
SET
  @ModelID_0717ae96 = '9604B1A4-3A21-F011-8B3D-7C1E5249773E'
SET
  @VendorID_0717ae96 = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @Priority_0717ae96 = 1
SET
  @ExecutionGroup_0717ae96 = 0
SET
  @Status_0717ae96 = N'Active'
SET
  @ParallelizationMode_0717ae96 = N'None'
SET
  @ParallelCount_0717ae96 = 1
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = @ID_0717ae96,
  @PromptID = @PromptID_0717ae96,
  @ModelID = @ModelID_0717ae96,
  @VendorID = @VendorID_0717ae96,
  @ConfigurationID = @ConfigurationID_0717ae96,
  @Priority = @Priority_0717ae96,
  @ExecutionGroup = @ExecutionGroup_0717ae96,
  @ModelParameters = @ModelParameters_0717ae96,
  @Status = @Status_0717ae96,
  @ParallelizationMode = @ParallelizationMode_0717ae96,
  @ParallelCount = @ParallelCount_0717ae96,
  @ParallelConfigParam = @ParallelConfigParam_0717ae96;

-- Save AI Agents (core SP call only)
DECLARE @ID_d7b7f471 UNIQUEIDENTIFIER,
@Name_d7b7f471 NVARCHAR(255),
@Description_d7b7f471 NVARCHAR(MAX),
@LogoURL_d7b7f471 NVARCHAR(255),
@ParentID_d7b7f471 UNIQUEIDENTIFIER,
@ExposeAsAction_d7b7f471 BIT,
@ExecutionOrder_d7b7f471 INT,
@ExecutionMode_d7b7f471 NVARCHAR(20),
@EnableContextCompression_d7b7f471 BIT,
@ContextCompressionMessageThreshold_d7b7f471 INT,
@ContextCompressionPromptID_d7b7f471 UNIQUEIDENTIFIER,
@ContextCompressionMessageRetentionCount_d7b7f471 INT,
@TypeID_d7b7f471 UNIQUEIDENTIFIER,
@Status_d7b7f471 NVARCHAR(20),
@DriverClass_d7b7f471 NVARCHAR(255),
@IconClass_d7b7f471 NVARCHAR(100),
@ModelSelectionMode_d7b7f471 NVARCHAR(50),
@PayloadDownstreamPaths_d7b7f471 NVARCHAR(MAX),
@PayloadUpstreamPaths_d7b7f471 NVARCHAR(MAX),
@PayloadSelfReadPaths_d7b7f471 NVARCHAR(MAX),
@PayloadSelfWritePaths_d7b7f471 NVARCHAR(MAX),
@PayloadScope_d7b7f471 NVARCHAR(MAX),
@FinalPayloadValidation_d7b7f471 NVARCHAR(MAX),
@FinalPayloadValidationMode_d7b7f471 NVARCHAR(25),
@FinalPayloadValidationMaxRetries_d7b7f471 INT,
@MaxCostPerRun_d7b7f471 DECIMAL(10, 4),
@MaxTokensPerRun_d7b7f471 INT,
@MaxIterationsPerRun_d7b7f471 INT,
@MaxTimePerRun_d7b7f471 INT,
@MinExecutionsPerRun_d7b7f471 INT,
@MaxExecutionsPerRun_d7b7f471 INT,
@StartingPayloadValidation_d7b7f471 NVARCHAR(MAX),
@StartingPayloadValidationMode_d7b7f471 NVARCHAR(25),
@DefaultPromptEffortLevel_d7b7f471 INT,
@ChatHandlingOption_d7b7f471 NVARCHAR(30)
SET
  @ID_d7b7f471 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @Name_d7b7f471 = N'Conversation Manager Agent'
SET
  @Description_d7b7f471 = N'Ambient agent in MJ that is always present in all conversations to help the user navigate functionality in MJ, handle basic requests, and bring in other agents to delegate work to'
SET
  @ExposeAsAction_d7b7f471 = 1
SET
  @ExecutionOrder_d7b7f471 = 0
SET
  @ExecutionMode_d7b7f471 = N'Sequential'
SET
  @EnableContextCompression_d7b7f471 = 0
SET
  @TypeID_d7b7f471 = 'F7926101-5099-4FA5-836A-479D9707C818'
SET
  @Status_d7b7f471 = N'Active'
SET
  @IconClass_d7b7f471 = N'fa-solid fa-comments'
SET
  @ModelSelectionMode_d7b7f471 = N'Agent Type'
SET
  @PayloadDownstreamPaths_d7b7f471 = N'["*"]'
SET
  @PayloadUpstreamPaths_d7b7f471 = N'["*"]'
SET
  @FinalPayloadValidationMode_d7b7f471 = N'Retry'
SET
  @FinalPayloadValidationMaxRetries_d7b7f471 = 3
SET
  @StartingPayloadValidationMode_d7b7f471 = N'Fail'
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = @ID_d7b7f471,
  @Name = @Name_d7b7f471,
  @Description = @Description_d7b7f471,
  @LogoURL = @LogoURL_d7b7f471,
  @ParentID = @ParentID_d7b7f471,
  @ExposeAsAction = @ExposeAsAction_d7b7f471,
  @ExecutionOrder = @ExecutionOrder_d7b7f471,
  @ExecutionMode = @ExecutionMode_d7b7f471,
  @EnableContextCompression = @EnableContextCompression_d7b7f471,
  @ContextCompressionMessageThreshold = @ContextCompressionMessageThreshold_d7b7f471,
  @ContextCompressionPromptID = @ContextCompressionPromptID_d7b7f471,
  @ContextCompressionMessageRetentionCount = @ContextCompressionMessageRetentionCount_d7b7f471,
  @TypeID = @TypeID_d7b7f471,
  @Status = @Status_d7b7f471,
  @DriverClass = @DriverClass_d7b7f471,
  @IconClass = @IconClass_d7b7f471,
  @ModelSelectionMode = @ModelSelectionMode_d7b7f471,
  @PayloadDownstreamPaths = @PayloadDownstreamPaths_d7b7f471,
  @PayloadUpstreamPaths = @PayloadUpstreamPaths_d7b7f471,
  @PayloadSelfReadPaths = @PayloadSelfReadPaths_d7b7f471,
  @PayloadSelfWritePaths = @PayloadSelfWritePaths_d7b7f471,
  @PayloadScope = @PayloadScope_d7b7f471,
  @FinalPayloadValidation = @FinalPayloadValidation_d7b7f471,
  @FinalPayloadValidationMode = @FinalPayloadValidationMode_d7b7f471,
  @FinalPayloadValidationMaxRetries = @FinalPayloadValidationMaxRetries_d7b7f471,
  @MaxCostPerRun = @MaxCostPerRun_d7b7f471,
  @MaxTokensPerRun = @MaxTokensPerRun_d7b7f471,
  @MaxIterationsPerRun = @MaxIterationsPerRun_d7b7f471,
  @MaxTimePerRun = @MaxTimePerRun_d7b7f471,
  @MinExecutionsPerRun = @MinExecutionsPerRun_d7b7f471,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_d7b7f471,
  @StartingPayloadValidation = @StartingPayloadValidation_d7b7f471,
  @StartingPayloadValidationMode = @StartingPayloadValidationMode_d7b7f471,
  @DefaultPromptEffortLevel = @DefaultPromptEffortLevel_d7b7f471,
  @ChatHandlingOption = @ChatHandlingOption_d7b7f471;

-- Save MJ: AI Agent Prompts (core SP call only)
DECLARE @ID_e59025a6 UNIQUEIDENTIFIER,
@AgentID_e59025a6 UNIQUEIDENTIFIER,
@PromptID_e59025a6 UNIQUEIDENTIFIER,
@Purpose_e59025a6 NVARCHAR(MAX),
@ExecutionOrder_e59025a6 INT,
@ConfigurationID_e59025a6 UNIQUEIDENTIFIER,
@Status_e59025a6 NVARCHAR(20),
@ContextBehavior_e59025a6 NVARCHAR(50),
@ContextMessageCount_e59025a6 INT
SET
  @ID_e59025a6 = '17E3764B-6B6C-479D-A995-7FFA4ABE39AB'
SET
  @AgentID_e59025a6 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @PromptID_e59025a6 = '49B60EDF-8E51-4406-9471-7B95F80A6D81'
SET
  @ExecutionOrder_e59025a6 = 0
SET
  @Status_e59025a6 = N'Active'
SET
  @ContextBehavior_e59025a6 = N'Complete'
EXEC [${flyway:defaultSchema}].spCreateAIAgentPrompt @ID = @ID_e59025a6,
  @AgentID = @AgentID_e59025a6,
  @PromptID = @PromptID_e59025a6,
  @Purpose = @Purpose_e59025a6,
  @ExecutionOrder = @ExecutionOrder_e59025a6,
  @ConfigurationID = @ConfigurationID_e59025a6,
  @Status = @Status_e59025a6,
  @ContextBehavior = @ContextBehavior_e59025a6,
  @ContextMessageCount = @ContextMessageCount_e59025a6;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_7195bc39 UNIQUEIDENTIFIER,
@AgentID_7195bc39 UNIQUEIDENTIFIER,
@ActionID_7195bc39 UNIQUEIDENTIFIER,
@Status_7195bc39 NVARCHAR(15),
@MinExecutionsPerRun_7195bc39 INT,
@MaxExecutionsPerRun_7195bc39 INT
SET
  @ID_7195bc39 = '70D4B719-94EA-45A7-99EB-0A543BFA3CE6'
SET
  @AgentID_7195bc39 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_7195bc39 = '49E30665-1A90-45CA-9129-C33959A51B4F'
SET
  @Status_7195bc39 = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_7195bc39,
  @AgentID = @AgentID_7195bc39,
  @ActionID = @ActionID_7195bc39,
  @Status = @Status_7195bc39,
  @MinExecutionsPerRun = @MinExecutionsPerRun_7195bc39,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_7195bc39;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_8bf27def UNIQUEIDENTIFIER,
@AgentID_8bf27def UNIQUEIDENTIFIER,
@ActionID_8bf27def UNIQUEIDENTIFIER,
@Status_8bf27def NVARCHAR(15),
@MinExecutionsPerRun_8bf27def INT,
@MaxExecutionsPerRun_8bf27def INT
SET
  @ID_8bf27def = '855CD725-8CAB-4307-B5C7-62184C9C2CA9'
SET
  @AgentID_8bf27def = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_8bf27def = '2504E288-ADF7-4913-A627-AA14276BAA55'
SET
  @Status_8bf27def = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_8bf27def,
  @AgentID = @AgentID_8bf27def,
  @ActionID = @ActionID_8bf27def,
  @Status = @Status_8bf27def,
  @MinExecutionsPerRun = @MinExecutionsPerRun_8bf27def,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_8bf27def;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_906c8e66 UNIQUEIDENTIFIER,
@AgentID_906c8e66 UNIQUEIDENTIFIER,
@ActionID_906c8e66 UNIQUEIDENTIFIER,
@Status_906c8e66 NVARCHAR(15),
@MinExecutionsPerRun_906c8e66 INT,
@MaxExecutionsPerRun_906c8e66 INT
SET
  @ID_906c8e66 = '161E3EF2-F5F6-4ABD-9CCE-033F512032F7'
SET
  @AgentID_906c8e66 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_906c8e66 = 'FCAAD325-0D33-4E48-BC25-49C0E3587062'
SET
  @Status_906c8e66 = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_906c8e66,
  @AgentID = @AgentID_906c8e66,
  @ActionID = @ActionID_906c8e66,
  @Status = @Status_906c8e66,
  @MinExecutionsPerRun = @MinExecutionsPerRun_906c8e66,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_906c8e66;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_aea62d0c UNIQUEIDENTIFIER,
@AgentID_aea62d0c UNIQUEIDENTIFIER,
@ActionID_aea62d0c UNIQUEIDENTIFIER,
@Status_aea62d0c NVARCHAR(15),
@MinExecutionsPerRun_aea62d0c INT,
@MaxExecutionsPerRun_aea62d0c INT
SET
  @ID_aea62d0c = '89444FC1-B71A-4243-9529-56501E0941E5'
SET
  @AgentID_aea62d0c = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_aea62d0c = 'C03F2547-5154-4627-8E12-FBDEB7580346'
SET
  @Status_aea62d0c = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_aea62d0c,
  @AgentID = @AgentID_aea62d0c,
  @ActionID = @ActionID_aea62d0c,
  @Status = @Status_aea62d0c,
  @MinExecutionsPerRun = @MinExecutionsPerRun_aea62d0c,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_aea62d0c;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_6dd6f6bf UNIQUEIDENTIFIER,
@AgentID_6dd6f6bf UNIQUEIDENTIFIER,
@ActionID_6dd6f6bf UNIQUEIDENTIFIER,
@Status_6dd6f6bf NVARCHAR(15),
@MinExecutionsPerRun_6dd6f6bf INT,
@MaxExecutionsPerRun_6dd6f6bf INT
SET
  @ID_6dd6f6bf = '02862A6E-5AAB-4DE2-B16D-8553145F668C'
SET
  @AgentID_6dd6f6bf = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_6dd6f6bf = '82169F64-8566-4AE7-9C87-190A885C98A9'
SET
  @Status_6dd6f6bf = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_6dd6f6bf,
  @AgentID = @AgentID_6dd6f6bf,
  @ActionID = @ActionID_6dd6f6bf,
  @Status = @Status_6dd6f6bf,
  @MinExecutionsPerRun = @MinExecutionsPerRun_6dd6f6bf,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_6dd6f6bf;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_579de73d UNIQUEIDENTIFIER,
@AgentID_579de73d UNIQUEIDENTIFIER,
@ActionID_579de73d UNIQUEIDENTIFIER,
@Status_579de73d NVARCHAR(15),
@MinExecutionsPerRun_579de73d INT,
@MaxExecutionsPerRun_579de73d INT
SET
  @ID_579de73d = 'E37EC417-5CC0-4911-9F2C-390E63340421'
SET
  @AgentID_579de73d = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_579de73d = '22F9505E-3BEB-400E-A49F-A74D135C5A93'
SET
  @Status_579de73d = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_579de73d,
  @AgentID = @AgentID_579de73d,
  @ActionID = @ActionID_579de73d,
  @Status = @Status_579de73d,
  @MinExecutionsPerRun = @MinExecutionsPerRun_579de73d,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_579de73d;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_7877e05d UNIQUEIDENTIFIER,
@AgentID_7877e05d UNIQUEIDENTIFIER,
@ActionID_7877e05d UNIQUEIDENTIFIER,
@Status_7877e05d NVARCHAR(15),
@MinExecutionsPerRun_7877e05d INT,
@MaxExecutionsPerRun_7877e05d INT
SET
  @ID_7877e05d = 'CC75EA61-9C03-402C-AF10-D56CBC9621C1'
SET
  @AgentID_7877e05d = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_7877e05d = '154255C2-76D4-492C-88D9-C80614EDD703'
SET
  @Status_7877e05d = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_7877e05d,
  @AgentID = @AgentID_7877e05d,
  @ActionID = @ActionID_7877e05d,
  @Status = @Status_7877e05d,
  @MinExecutionsPerRun = @MinExecutionsPerRun_7877e05d,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_7877e05d;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_ab5b3d14 UNIQUEIDENTIFIER,
@AgentID_ab5b3d14 UNIQUEIDENTIFIER,
@ActionID_ab5b3d14 UNIQUEIDENTIFIER,
@Status_ab5b3d14 NVARCHAR(15),
@MinExecutionsPerRun_ab5b3d14 INT,
@MaxExecutionsPerRun_ab5b3d14 INT
SET
  @ID_ab5b3d14 = '24F29104-E203-45DA-AC4C-344E337621CE'
SET
  @AgentID_ab5b3d14 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_ab5b3d14 = '81F96534-03F5-49E9-81B0-D8902A7645A3'
SET
  @Status_ab5b3d14 = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_ab5b3d14,
  @AgentID = @AgentID_ab5b3d14,
  @ActionID = @ActionID_ab5b3d14,
  @Status = @Status_ab5b3d14,
  @MinExecutionsPerRun = @MinExecutionsPerRun_ab5b3d14,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_ab5b3d14;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_908f1bc9 UNIQUEIDENTIFIER,
@AgentID_908f1bc9 UNIQUEIDENTIFIER,
@ActionID_908f1bc9 UNIQUEIDENTIFIER,
@Status_908f1bc9 NVARCHAR(15),
@MinExecutionsPerRun_908f1bc9 INT,
@MaxExecutionsPerRun_908f1bc9 INT
SET
  @ID_908f1bc9 = 'E763AC7F-DBF8-42FE-9D3D-C3644E2C393D'
SET
  @AgentID_908f1bc9 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_908f1bc9 = 'A2455679-1370-4298-AC9E-0BA48DE2432E'
SET
  @Status_908f1bc9 = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_908f1bc9,
  @AgentID = @AgentID_908f1bc9,
  @ActionID = @ActionID_908f1bc9,
  @Status = @Status_908f1bc9,
  @MinExecutionsPerRun = @MinExecutionsPerRun_908f1bc9,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_908f1bc9;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_2b0694b5 UNIQUEIDENTIFIER,
@AgentID_2b0694b5 UNIQUEIDENTIFIER,
@ActionID_2b0694b5 UNIQUEIDENTIFIER,
@Status_2b0694b5 NVARCHAR(15),
@MinExecutionsPerRun_2b0694b5 INT,
@MaxExecutionsPerRun_2b0694b5 INT
SET
  @ID_2b0694b5 = '27882351-BDC8-414E-B2B5-D74E5F5C8D46'
SET
  @AgentID_2b0694b5 = '3AB78346-897F-4238-AA6A-F10A131CC691'
SET
  @ActionID_2b0694b5 = '6C88FED2-679A-4FDD-A31A-7F38D0457F22'
SET
  @Status_2b0694b5 = N'Active'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_2b0694b5,
  @AgentID = @AgentID_2b0694b5,
  @ActionID = @ActionID_2b0694b5,
  @Status = @Status_2b0694b5,
  @MinExecutionsPerRun = @MinExecutionsPerRun_2b0694b5,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_2b0694b5;


-- End of SQL Logging Session
-- Session ID: c3c015fc-b6ca-4fb8-890b-ac2f091c2b46
-- Completed: 2025-10-06T15:26:03.109Z
-- Duration: 10402ms
-- Total Statements: 26
