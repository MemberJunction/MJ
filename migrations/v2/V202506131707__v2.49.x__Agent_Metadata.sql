 -- SQL Logging Session
-- Session ID: 939ee8da-53fc-42da-8a86-9e21044eaca4
-- Started: 2025-06-14T03:41:13.764Z
-- Description: MetadataSync Push Operation
-- Generated by MemberJunction SQLServerDataProvider


/************************************************************************************/
/***** MANUAL PATCH - INSERT PREVIOUSLY CREATED TEMPLATE CATEGORY THAT WOULD HAVE BEEN 
       LOGGED BY SQL LOGGER IF IT EXISTED THEN - THIS ISSUE WILL NOT RECUR *****/
EXEC [${flyway:defaultSchema}].spCreateTemplateCategory
    @ID = 'b09d433e-f36b-1410-8db1-00021f8b792e',
    @Name = 'AI Prompts',
    @Description = 'Root category for AI Prompts (Auto-Created by AI Prompts Entity)',
    @ParentID = NULL,
    @UserID = 'ecafccec-6a37-ef11-86d4-000d3a4e707e';


EXEC __mj.spCreateAIPromptCategory
      @ID = 'a19d433e-f36b-1410-8db1-00021f8b792e',
      @Name = 'Agent Type System Prompts',
      @ParentID = NULL,
      @Description = 'System Prompts for Agent Types';    

EXEC __mj.spCreateAIPromptCategory
      @ID = '5897C65A-269C-4457-A632-87CB12750DBF',
      @Name = 'Demo',
      @ParentID = NULL,
      @Description = 'Demo Prompts';

/** END MANUAL PATCH **/
/************************************************************************************/




-- Save Action Categories (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionCategory @ID = '15e03732-607e-4125-86f4-8c846ee88749',
@Name = 'System',
@Description = 'MJ System Actions',
@ParentID = NULL,
@Status = 'Pending';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spUpdateAction @CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Autotag and Vectorize Content',
@Description = 'Autotag Content and create vectors of the content items that are created.',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__AutotagAndVectorizeContent',
@ID = 'D8781B41-9C76-EF11-9C36-000D3A9EBD44';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '1d4a644b-7356-403f-b726-77a1d4da8edb',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Vectorize Entity',
@Description = 'Action that vectorizes entities by creating and storing vector embeddings for entity documents.',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__VectorizeEntity';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '14d98181-76ee-4732-abdd-f675f095236a',
@ActionID = '1D4A644B-7356-403F-B726-77A1D4DA8EDB',
@Name = 'EntityNames',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 1,
@Description = 'Names of entities to vectorize. Can be a single entity name, comma-separated list, or array of entity names',
@IsRequired = 0;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'a9bfc76a-fbe1-4992-b66a-ffece62b9a83',
@ActionID = '1D4A644B-7356-403F-B726-77A1D4DA8EDB',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'All entities were successfully vectorized';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '0f48681d-d656-45fc-b81d-f4fcc53e2f65',
@ActionID = '1D4A644B-7356-403F-B726-77A1D4DA8EDB',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'One or more entities failed to vectorize';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'e9ed9885-8a46-4ea2-8ead-69087b9f1e20',
@CategoryID = '15E03732-607E-4125-86F4-8C846EE88749',
@Name = 'Run External Change Detection',
@Description = 'Executes the External Change Detection process to identify changes in data that bypassed MemberJunction.',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__RunExternalChangeDetection';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '06449bc6-23a7-40e5-b4f5-87d744975a32',
@ActionID = 'E9ED9885-8A46-4EA2-8EAD-69087B9F1E20',
@Name = 'EntityList',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'A comma separated list of entity names to detect changes for. If not provided, all eligible entities will be processed',
@IsRequired = 0;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '98443794-73c3-4d51-9e91-0daaf987b472',
@ActionID = 'E9ED9885-8A46-4EA2-8EAD-69087B9F1E20',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Changes detected and replayed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'a950d6af-4906-4163-bf62-d07c69da6b9a',
@ActionID = 'E9ED9885-8A46-4EA2-8EAD-69087B9F1E20',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to detect changes or failed to replay changes';

GO

-- Save Action Categories (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionCategory @ID = '65e048aa-5220-4e4d-920a-a3d9349902a7',
@Name = 'Communication',
@Description = 'Communication Actions',
@ParentID = NULL,
@Status = 'Pending';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'dc4c7e64-2d93-43e4-9f02-f5d7e702784a',
@CategoryID = '65E048AA-5220-4E4D-920A-A3D9349902A7',
@Name = 'Send Single Message',
@Description = 'Sends a single message via the MJ Communication Framework',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__SendSingleMessage';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2d23517c-3057-4db0-8be7-7a546e8a2956',
@ActionID = 'DC4C7E64-2D93-43E4-9F02-F5D7E702784A',
@Name = 'Subject',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The subject of the message',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '81b9da22-3e63-4e50-8bc2-3f6218872b45',
@ActionID = 'DC4C7E64-2D93-43E4-9F02-F5D7E702784A',
@Name = 'Body',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The body of the message',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'b540cf4f-2f70-49ad-9c6b-bace7b8f49e6',
@ActionID = 'DC4C7E64-2D93-43E4-9F02-F5D7E702784A',
@Name = 'To',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The recipient of the message',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'bd056f50-deb8-44f1-ae73-6b39f418ef10',
@ActionID = 'DC4C7E64-2D93-43E4-9F02-F5D7E702784A',
@Name = 'From',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The sender of the message',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '5560e691-ede3-4090-960f-fc3d2a97f58e',
@ActionID = 'DC4C7E64-2D93-43E4-9F02-F5D7E702784A',
@Name = 'Provider',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The name of the Communication Provider to use to send the message',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'e338fa62-5310-4e4e-869a-ea1ea5af3c8e',
@ActionID = 'DC4C7E64-2D93-43E4-9F02-F5D7E702784A',
@Name = 'MessageType',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The name of the Message Type (within the provider) to use to send the message',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '3a81cec9-2319-4e60-b747-1d21052e89af',
@ActionID = 'DC4C7E64-2D93-43E4-9F02-F5D7E702784A',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Message sent successfully via the communication provider';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'c1342e48-9d87-4854-af29-5c70fdfb046b',
@ActionID = 'DC4C7E64-2D93-43E4-9F02-F5D7E702784A',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to send message - check provider configuration and message parameters';

GO

-- Save Action Categories (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionCategory @ID = 'b51957c7-990f-4ca7-bbff-93ed507ce466',
@Name = 'Demo',
@Description = 'Demo Actions',
@ParentID = NULL,
@Status = 'Pending';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '6c88fed2-679a-4fdd-a31a-7f38d0457f22',
@CategoryID = 'B51957C7-990F-4CA7-BBFF-93ED507CE466',
@Name = 'Get Weather',
@Description = 'Retrieves current weather information for a specified location using free public weather APIs',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__GetWeather';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '8f49fd17-4832-4e55-b880-01336a37d894',
@ActionID = '6C88FED2-679A-4FDD-A31A-7F38D0457F22',
@Name = 'Location',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'City name or location to get weather for (e.g., ''New York'', ''London''). Either this or Latitude/Longitude must be provided',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '97291346-9da1-46b9-9970-accaf7731800',
@ActionID = '6C88FED2-679A-4FDD-A31A-7F38D0457F22',
@Name = 'Latitude',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Latitude coordinate for weather lookup. Must be used with Longitude parameter',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '499ad8de-7afb-4295-b6ad-584c0eaf4535',
@ActionID = '6C88FED2-679A-4FDD-A31A-7F38D0457F22',
@Name = 'Longitude',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Longitude coordinate for weather lookup. Must be used with Latitude parameter',
@IsRequired = 0;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '2c5b774c-9fc8-4cb7-ba60-bf75caafbabe',
@ActionID = '6C88FED2-679A-4FDD-A31A-7F38D0457F22',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Weather data retrieved successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '3252cd3f-6586-4f32-ac7b-314fe14fb61b',
@ActionID = '6C88FED2-679A-4FDD-A31A-7F38D0457F22',
@ResultCode = 'LOCATION_NOT_FOUND',
@IsSuccess = 0,
@Description = 'The specified location could not be found';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'ea1d6a43-8b87-40d7-ad67-c1e54e06e431',
@ActionID = '6C88FED2-679A-4FDD-A31A-7F38D0457F22',
@ResultCode = 'MISSING_PARAMETERS',
@IsSuccess = 0,
@Description = 'Either Location or both Latitude and Longitude parameters are required';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '6535fc83-b445-42ff-a665-8f2bb54473da',
@ActionID = '6C88FED2-679A-4FDD-A31A-7F38D0457F22',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to retrieve weather data due to API error';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '296e03ae-6edc-4c5e-9506-bc98accda2e1',
@CategoryID = 'B51957C7-990F-4CA7-BBFF-93ED507CE466',
@Name = 'Get Stock Price',
@Description = 'Retrieves current stock price and related information for a specified ticker symbol',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__GetStockPrice';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '54386d66-2889-4e17-8f3b-3917e3be8489',
@ActionID = '296E03AE-6EDC-4C5E-9506-BC98ACCDA2E1',
@Name = 'Ticker',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Stock ticker symbol (e.g., AAPL, MSFT, GOOGL)',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'c6898274-d90b-4f72-9833-ccb73ccfbf25',
@ActionID = '296E03AE-6EDC-4C5E-9506-BC98ACCDA2E1',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Stock data retrieved successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'ab646a05-b293-45fc-8100-d6afb06c2037',
@ActionID = '296E03AE-6EDC-4C5E-9506-BC98ACCDA2E1',
@ResultCode = 'INVALID_TICKER',
@IsSuccess = 0,
@Description = 'The specified ticker symbol is invalid or not found';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '438be10e-c383-4a01-b4a6-8a2d21f49ace',
@ActionID = '296E03AE-6EDC-4C5E-9506-BC98ACCDA2E1',
@ResultCode = 'MISSING_PARAMETERS',
@IsSuccess = 0,
@Description = 'Ticker parameter is required';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'dfe1bc2a-92e0-477e-8687-105d8251b911',
@ActionID = '296E03AE-6EDC-4C5E-9506-BC98ACCDA2E1',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to retrieve stock data due to API error';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '22f9505e-3beb-400e-a49f-a74d135c5a93',
@CategoryID = 'B51957C7-990F-4CA7-BBFF-93ED507CE466',
@Name = 'Calculate Expression',
@Description = 'Evaluates mathematical expressions supporting basic arithmetic, parentheses, and common math functions',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__CalculateExpression';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'e1e038d7-46f5-4fbb-98b5-120a0de67fdd',
@ActionID = '22F9505E-3BEB-400E-A49F-A74D135C5A93',
@Name = 'Expression',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Mathematical expression to evaluate (e.g., ''(2*3)+4/15'', ''sqrt(16)+pow(2,3)'')',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'acdd9e1a-d086-492c-80e7-94ee3b8a3d61',
@ActionID = '22F9505E-3BEB-400E-A49F-A74D135C5A93',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Expression calculated successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '6e9cf039-1d13-4049-8031-c8e80867e1a4',
@ActionID = '22F9505E-3BEB-400E-A49F-A74D135C5A93',
@ResultCode = 'INVALID_EXPRESSION',
@IsSuccess = 0,
@Description = 'The expression is invalid or contains unsafe code';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'b28822dc-d6af-404e-be7f-b3cb408d435a',
@ActionID = '22F9505E-3BEB-400E-A49F-A74D135C5A93',
@ResultCode = 'MISSING_PARAMETERS',
@IsSuccess = 0,
@Description = 'Expression parameter is required';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'd402ffd6-c7d1-48ad-a3ac-cf8bee0a3127',
@CategoryID = 'B51957C7-990F-4CA7-BBFF-93ED507CE466',
@Name = 'Color Converter',
@Description = 'Converts colors between different formats (HEX, RGB, HSL, HSV) and provides color analysis',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__ColorConverter';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '89cdbafc-e486-4042-9e9c-b34ef75e62a1',
@ActionID = 'D402FFD6-C7D1-48AD-A3AC-CF8BEE0A3127',
@Name = 'Color',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Color in HEX (#RGB or #RRGGBB), RGB (rgb(r,g,b)), HSL (hsl(h,s%,l%)), or color name format',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '986ca3dc-7aa9-475d-b433-f5eccaeac996',
@ActionID = 'D402FFD6-C7D1-48AD-A3AC-CF8BEE0A3127',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Color converted successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'fdb6efc6-5951-4064-878c-6a6252f122f6',
@ActionID = 'D402FFD6-C7D1-48AD-A3AC-CF8BEE0A3127',
@ResultCode = 'INVALID_FORMAT',
@IsSuccess = 0,
@Description = 'The color format is not recognized or invalid';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'd12f3d74-8256-483d-a745-e7c7120f3880',
@ActionID = 'D402FFD6-C7D1-48AD-A3AC-CF8BEE0A3127',
@ResultCode = 'INVALID_VALUES',
@IsSuccess = 0,
@Description = 'Color values are out of valid range';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '60e2d82f-5d56-4dcd-af76-e3e6ace34ab7',
@ActionID = 'D402FFD6-C7D1-48AD-A3AC-CF8BEE0A3127',
@ResultCode = 'MISSING_PARAMETERS',
@IsSuccess = 0,
@Description = 'Color parameter is required';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '5d859b18-5d53-4bc4-b4c3-071947671f31',
@ActionID = 'D402FFD6-C7D1-48AD-A3AC-CF8BEE0A3127',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to convert color';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '154255c2-76d4-492c-88d9-c80614edd703',
@CategoryID = 'B51957C7-990F-4CA7-BBFF-93ED507CE466',
@Name = 'Text Analyzer',
@Description = 'Analyzes text content providing statistics, readability scores, and word frequency analysis',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__TextAnalyzer';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'bcbc6d66-9c57-45fd-9909-8edfa88478fa',
@ActionID = '154255C2-76D4-492C-88D9-C80614EDD703',
@Name = 'Text',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The text content to analyze',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c83b1a2c-3f19-419a-ad09-42ddd77a2e5c',
@ActionID = '154255C2-76D4-492C-88D9-C80614EDD703',
@Name = 'IncludeWordFrequency',
@DefaultValue = 'false',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Boolean flag to include word frequency analysis in results',
@IsRequired = 0;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '53e918d0-e57a-4a74-90a1-f497f6b5e7d9',
@ActionID = '154255C2-76D4-492C-88D9-C80614EDD703',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Text analyzed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'cea55b31-7309-439e-87be-a498bc6c9fcd',
@ActionID = '154255C2-76D4-492C-88D9-C80614EDD703',
@ResultCode = 'MISSING_PARAMETERS',
@IsSuccess = 0,
@Description = 'Text parameter is required';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '331ba4d8-e4bd-481b-8990-30db5b130553',
@ActionID = '154255C2-76D4-492C-88D9-C80614EDD703',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to analyze text';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'f1d24791-38aa-4389-8103-3d04aadc6bed',
@CategoryID = 'B51957C7-990F-4CA7-BBFF-93ED507CE466',
@Name = 'Unit Converter',
@Description = 'Converts values between different units of measurement including length, weight, temperature, volume, area, speed, and time',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__UnitConverter';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '24dd4fab-f10d-4bc0-aef4-0a9f11cccb2f',
@ActionID = 'F1D24791-38AA-4389-8103-3D04AADC6BED',
@Name = 'Value',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The numeric value to convert',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '22dbb284-3125-4b4b-b655-a6eba01d2b5f',
@ActionID = 'F1D24791-38AA-4389-8103-3D04AADC6BED',
@Name = 'FromUnit',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The unit to convert from (e.g., ''miles'', ''kg'', ''celsius'')',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '0c7ee9fe-0401-482b-b19b-65a3569753bc',
@ActionID = 'F1D24791-38AA-4389-8103-3D04AADC6BED',
@Name = 'ToUnit',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The unit to convert to (e.g., ''kilometers'', ''pounds'', ''fahrenheit'')',
@IsRequired = 1;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'cc3f0408-cc99-4ef4-9a06-1e18728d76e1',
@ActionID = 'F1D24791-38AA-4389-8103-3D04AADC6BED',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Unit conversion completed successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'd03185ec-f249-4471-ba35-5e2f0654ed45',
@ActionID = 'F1D24791-38AA-4389-8103-3D04AADC6BED',
@ResultCode = 'MISSING_PARAMETERS',
@IsSuccess = 0,
@Description = 'Value, FromUnit, and ToUnit parameters are required';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'c9612c31-12a9-49ad-b7cd-6e39234dd87d',
@ActionID = 'F1D24791-38AA-4389-8103-3D04AADC6BED',
@ResultCode = 'INVALID_VALUE',
@IsSuccess = 0,
@Description = 'Value must be a valid number';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'c97c04c3-f2be-4daa-b55f-380fd7a6a3b1',
@ActionID = 'F1D24791-38AA-4389-8103-3D04AADC6BED',
@ResultCode = 'UNKNOWN_UNIT',
@IsSuccess = 0,
@Description = 'One or more units are not recognized';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '0e837288-a99c-40f2-9080-6f28a7f5cd68',
@ActionID = 'F1D24791-38AA-4389-8103-3D04AADC6BED',
@ResultCode = 'INCOMPATIBLE_UNITS',
@IsSuccess = 0,
@Description = 'Cannot convert between different unit categories';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '240ccc40-6553-47cd-aa1b-9d36061f835a',
@ActionID = 'F1D24791-38AA-4389-8103-3D04AADC6BED',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to convert units';

GO

-- Save Action Categories (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionCategory @ID = 'e959a850-7842-456d-ab51-f232df12e709',
@Name = 'Utilities',
@Description = 'Utility Actions',
@ParentID = NULL,
@Status = 'Pending';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '25a3da96-66c7-43ce-b39b-de0d4dd5ffba',
@CategoryID = 'E959A850-7842-456D-AB51-F232DF12E709',
@Name = 'Business Days Calculator',
@Description = 'Calculates business days between dates, accounting for weekends and holidays. Can add/subtract business days from a date',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__BusinessDaysCalculator';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '733bd929-fe86-4a3e-a66a-c3b136fefd1a',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@Name = 'Operation',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Operation to perform: ''DaysBetween'', ''AddDays'', or ''SubtractDays''',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '7c0c6b47-4f8d-461f-ae69-ad0a2ed3b3f2',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@Name = 'StartDate',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Starting date (YYYY-MM-DD format)',
@IsRequired = 1;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '9c0102c1-5054-4478-a8c7-fc271d2e3934',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@Name = 'EndDate',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Ending date (for DaysBetween operation, YYYY-MM-DD format)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'b70271cd-06c7-4021-b639-444ed6f955a3',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@Name = 'Days',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Number of business days to add/subtract (for AddDays/SubtractDays operations)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '039f3cca-e1da-4496-b4cc-a14bfd53ac11',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@Name = 'ExcludeHolidays',
@DefaultValue = 'true',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Boolean to exclude holidays (default: true)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '1cb6e806-1c54-428b-a32e-23596fac7884',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@Name = 'Country',
@DefaultValue = 'US',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Country code for holiday calendar (default: ''US'')',
@IsRequired = 0;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'd902431d-3863-4486-a603-912764f7af3e',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Business days calculated successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '9af72508-aa48-41d0-81ef-e4392a35a66a',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@ResultCode = 'MISSING_PARAMETERS',
@IsSuccess = 0,
@Description = 'Required parameters are missing';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'ba8995bd-68b9-44d7-926d-f1e26e632a54',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@ResultCode = 'INVALID_DATE',
@IsSuccess = 0,
@Description = 'Invalid date format provided';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '1c9c0bc1-edb4-4b15-8d7c-b70b7b52e8ba',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@ResultCode = 'INVALID_VALUE',
@IsSuccess = 0,
@Description = 'Invalid value provided for Days parameter';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '80ecc6d2-e180-4f01-8505-7a5847c14616',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@ResultCode = 'INVALID_OPERATION',
@IsSuccess = 0,
@Description = 'Invalid operation specified';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '6f24716b-e07a-49d7-ba26-35e5d5bd5fdf',
@ActionID = '25A3DA96-66C7-43CE-B39B-DE0D4DD5FFBA',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to calculate business days';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = 'f138fa8a-79a2-4989-8b99-2544b6091d79',
@CategoryID = 'E959A850-7842-456D-AB51-F232DF12E709',
@Name = 'IP Geolocation',
@Description = 'Retrieves geolocation information for an IP address including location, timezone, ISP, and privacy indicators',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__IPGeolocation';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'b00cd0af-f3ae-4757-9588-774529e5326e',
@ActionID = 'F138FA8A-79A2-4989-8B99-2544B6091D79',
@Name = 'IPAddress',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'The IP address to lookup (optional - uses caller''s IP if not provided)',
@IsRequired = 0;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '31036675-95a5-4990-a9e1-79603028a17c',
@ActionID = 'F138FA8A-79A2-4989-8B99-2544B6091D79',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Geolocation data retrieved successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '1f62df83-8f99-4034-b010-5de00888d54b',
@ActionID = 'F138FA8A-79A2-4989-8B99-2544B6091D79',
@ResultCode = 'INVALID_IP',
@IsSuccess = 0,
@Description = 'Invalid IP address format';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'a54f0e36-55e8-48e5-b1e2-ac3ffbd1e800',
@ActionID = 'F138FA8A-79A2-4989-8B99-2544B6091D79',
@ResultCode = 'LOOKUP_FAILED',
@IsSuccess = 0,
@Description = 'Failed to retrieve geolocation data';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '7a000961-60b4-4764-b0e0-139d9b04eb6a',
@ActionID = 'F138FA8A-79A2-4989-8B99-2544B6091D79',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to get IP geolocation';

GO

-- Save Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAction @ID = '08e0742a-5db9-4a5f-ba47-ed39374ee213',
@CategoryID = 'E959A850-7842-456D-AB51-F232DF12E709',
@Name = 'Census Data Lookup',
@Description = 'Retrieves US Census demographic and economic data for a given ZIP code or city/state location',
@Type = 'Custom',
@UserPrompt = NULL,
@UserComments = NULL,
@Code = NULL,
@CodeComments = NULL,
@CodeApprovalStatus = 'Pending',
@CodeApprovalComments = NULL,
@CodeApprovedByUserID = NULL,
@CodeApprovedAt = NULL,
@CodeLocked = 0,
@ForceCodeGeneration = 0,
@RetentionPeriod = NULL,
@Status = 'Active',
@DriverClass = '__CensusDataLookup';

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '86513815-94cf-4bdf-bd43-a54602b52fe1',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@Name = 'ZipCode',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'ZIP code to lookup (either this or City/State required)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2af35a1d-d4b7-4c8f-a05f-dd56a8ff62c8',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@Name = 'City',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'City name (must be used with State)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = '2cfdaa13-15cf-4907-9fd8-db4505558b33',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@Name = 'State',
@DefaultValue = NULL,
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'State name or abbreviation (must be used with City)',
@IsRequired = 0;

GO

-- Save Action Params (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionParam @ID = 'c86463ab-c8a3-491e-9fd2-d9dfe78cbc36',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@Name = 'DataSet',
@DefaultValue = 'summary',
@Type = 'Input',
@ValueType = 'Scalar',
@IsArray = 0,
@Description = 'Type of data to retrieve (default: ''summary'')',
@IsRequired = 0;

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '982816d7-24b7-40c0-b448-1a8265890a0d',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@ResultCode = 'SUCCESS',
@IsSuccess = 1,
@Description = 'Census data retrieved successfully';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '9e86f66b-bb37-496a-94ca-f2294da8dbbf',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@ResultCode = 'MISSING_PARAMETERS',
@IsSuccess = 0,
@Description = 'Either ZipCode or both City and State parameters are required';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '9fa11d22-2278-4627-8b94-fd5ca71995ba',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@ResultCode = 'INVALID_ZIP',
@IsSuccess = 0,
@Description = 'Invalid ZIP code format. Must be 5 digits';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = '4a5c3b8f-68d4-4fb0-a07e-932d622f7f22',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@ResultCode = 'INVALID_STATE',
@IsSuccess = 0,
@Description = 'Invalid state name or abbreviation';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'd71316f4-3f25-4273-86ec-fd7d0934fb3c',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@ResultCode = 'NOT_FOUND',
@IsSuccess = 0,
@Description = 'Location not found or no data available';

GO

-- Save Action Result Codes (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateActionResultCode @ID = 'af2d1ba2-c6e8-43ac-8ed0-582e78f21145',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@ResultCode = 'FAILED',
@IsSuccess = 0,
@Description = 'Failed to retrieve census data';

GO

-- Save Templates (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = '8e5f83e5-837b-4c53-9171-08272bf605a4',
@Name = 'Loop Agent Type: System Prompt',
@Description = 'Template for AI Prompt: Loop Agent Type: System Prompt',
@CategoryID = 'B09D433E-F36B-1410-8DB1-00021F8B792E',
@UserPrompt = NULL,
@UserID = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E',
@ActiveAt = NULL,
@DisabledAt = NULL,
@IsActive = 1;

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = '1c4b8853-04b8-4bf1-92d6-b102436837d7',
@TemplateID = '8E5F83E5-837B-4C53-9171-08272BF605A4',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = '# Loop Agent Type System Prompt

You are an AI agent operating in a loop-based execution pattern. Your role is to analyze the current state, determine if the task is complete, and decide on the next action to take. You will continue looping until the task is successfully completed. This first section of your system prompt tells you about the Agent Type. Following this section you will learn about the specific agent we are running.

## Your Capabilities

{% if subAgentCount > 0 %}
### Sub-Agents Available: {{ subAgentCount }}
Sub-agents represent your team members! Sub-agents have specialized expertise can perform a wide variety of tasks and you may only execute one sub-agent at at time. When you have a sub-agent available that''s the right fit for work you need to do, use the sub-agent. The sub-agents available to you are:
 
{{ subAgentDetails | safe }}

{% endif %}

{% if actionCount > 0 %}
### Actions Available: {{ actionCount }}
An action is a tool you can use to perform a specific task. You are allowed to request multiple actions be performed in parallel if their results are independent. If you need to run multiple actions sequentially and reason between them, ask for one action at a time in each iteration of the conversation.

Available Actions:

{{ actionDetails | safe }}
{% endif %}

## Your Current Context

**Agent Name**: {{ agentName }}
**Agent Description**: {{ agentDescription }}

## Task Execution

The user''s request and any additional context will be provided below. Analyze the request and determine:

1. Whether the task has been completed successfully
2. If not complete, what the next step should be
3. Which sub-agent to invoke OR which action to perform (if needed)
4. Your reasoning for the decision
5. Any relevant data or results to pass along

# Agent: {{ agentName }}
The following instructions are the specialized system prompt for this particular agent.
## Precedence
Whenever information in the specialized system prompt for this agent is in conflict with information above in the Agent Type prompt, use the information in the agent-specific prompt to control your behavior. 
## Agent Specific Prompt
{{ agentSpecificPrompt }}


## Response Format

You MUST respond with valid JSON in the following structure:

{{ _OUTPUT_EXAMPLE | safe }}

### Field Explanations:

- **taskComplete**: Set to `true` only when the entire task is successfully completed
- **reasoning**: Your thought process and analysis (always required)
- **nextStep.type**: 
  - `"action"` - Execute a specific action
  - `"sub-agent"` - Delegate to a sub-agent
  - `"continue"` - Continue processing without specific action
  - `"none"` - No action needed (usually when task is complete)
- **nextStep.target**: The name or ID of the action/sub-agent (required for action/sub-agent types)
- **nextStep.parameters**: Parameters to pass to the action or sub-agent
- **result**: Accumulated results from the task execution
- **progress**: Current progress estimation
- **error**: Error tracking for graceful failure handling

## Important Guidelines

1. **Always return valid JSON** - No additional text outside the JSON structure
2. **Be decisive** - Choose clear next steps based on available capabilities
3. **Track progress** - Provide meaningful progress updates
4. **Handle errors gracefully** - If an error occurs, set error.occurred to true and provide details
5. **Use sub-agents wisely** - Delegate to sub-agents when their specialization matches the need
6. **Complete the loop** - Only set taskComplete to true when you''re certain the task is done
7. **Preserve context** - Include relevant information in the result field for future iterations',
@Priority = 1,
@IsActive = 1;

GO

-- Save AI Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = 'ff7d441f-36e1-458a-b548-0fc2208923be',
@Name = 'Loop Agent Type: System Prompt',
@Description = 'Basic control structure for the Loop Agent Type.',
@TemplateID = '8E5F83E5-837B-4C53-9171-08272BF605A4',
@CategoryID = 'A19D433E-F36B-1410-8DB1-00021F8B792E',
@TypeID = 'A6DA423E-F36B-1410-8DAC-00021F8B792E',
@Status = 'Active',
@ResponseFormat = 'JSON',
@ModelSpecificResponseFormat = NULL,
@AIModelTypeID = NULL,
@MinPowerRank = 0,
@SelectionStrategy = 'Specific',
@PowerPreference = 'Highest',
@ParallelizationMode = 'None',
@ParallelCount = NULL,
@ParallelConfigParam = NULL,
@OutputType = 'object',
@OutputExample = '{
  "action": "continue",
  "subAgent": "",
  "subAgentInstructions": "",
  "actionInstructions": "",
  "continueInstructions": "The user is asking for help with product recommendations. I should gather more information about their preferences and budget before making specific suggestions.",
  "reasoning": "The conversation is still in the information gathering phase. The user has expressed interest in products but hasn''t provided enough details for me to make accurate recommendations yet.",
  "confidence": 0.95
}',
@ValidationBehavior = 'Strict',
@MaxRetries = 2,
@RetryDelayMS = 1000,
@RetryStrategy = 'Fixed',
@ResultSelectorPromptID = NULL,
@EnableCaching = 0,
@CacheTTLSeconds = NULL,
@CacheMatchType = 'Exact',
@CacheSimilarityThreshold = NULL,
@CacheMustMatchModel = 1,
@CacheMustMatchVendor = 1,
@CacheMustMatchAgent = 0,
@CacheMustMatchConfig = 0,
@PromptRole = 'System',
@PromptPosition = 'First';

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = '0f7988b5-668a-4b53-a071-dfd0cef7b762',
@PromptID = 'FF7D441F-36E1-458A-B548-0FC2208923BE',
@ModelID = '287E317F-BF26-F011-A770-AC1A3D21423D',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 1,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save Templates (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplate @ID = '992e1a65-92b4-43d9-a365-4b2a9e2f2992',
@Name = 'Demo Loop Agent - Main Prompt',
@Description = 'Template for AI Prompt: Demo Loop Agent - Main Prompt',
@CategoryID = 'B09D433E-F36B-1410-8DB1-00021F8B792E',
@UserPrompt = NULL,
@UserID = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E',
@ActiveAt = NULL,
@DisabledAt = NULL,
@IsActive = 1;

GO

-- Save Template Contents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateTemplateContent @ID = '298ce267-dd08-40f9-8fb9-446ecb41d521',
@TemplateID = '992E1A65-92B4-43D9-A365-4B2A9E2F2992',
@TypeID = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E',
@TemplateText = 'You are a demonstration agent so do us proud. Do what the user asks to the extent of your abilities!!',
@Priority = 1,
@IsActive = 1;

GO

-- Save AI Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPrompt @ID = 'b4053e4f-165c-4aed-8e14-3a0a25a28efe',
@Name = 'Demo Loop Agent - Main Prompt',
@Description = 'Demo for the main prompt for the agent.',
@TemplateID = '992E1A65-92B4-43D9-A365-4B2A9E2F2992',
@CategoryID = '5897C65A-269C-4457-A632-87CB12750DBF',
@TypeID = 'A6DA423E-F36B-1410-8DAC-00021F8B792E',
@Status = 'Active',
@ResponseFormat = 'JSON',
@ModelSpecificResponseFormat = NULL,
@AIModelTypeID = NULL,
@MinPowerRank = 0,
@SelectionStrategy = 'Specific',
@PowerPreference = 'Highest',
@ParallelizationMode = 'None',
@ParallelCount = NULL,
@ParallelConfigParam = NULL,
@OutputType = 'object',
@OutputExample = '{
    "currentWeather": {
        "temperature": 22,
        "condition": "sunny"
    }
}',
@ValidationBehavior = 'Strict',
@MaxRetries = 2,
@RetryDelayMS = 1000,
@RetryStrategy = 'Fixed',
@ResultSelectorPromptID = NULL,
@EnableCaching = 0,
@CacheTTLSeconds = NULL,
@CacheMatchType = 'Exact',
@CacheSimilarityThreshold = NULL,
@CacheMustMatchModel = 1,
@CacheMustMatchVendor = 1,
@CacheMustMatchAgent = 0,
@CacheMustMatchConfig = 0,
@PromptRole = 'System',
@PromptPosition = 'First';

GO

-- Save MJ: AI Prompt Models (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIPromptModel @ID = '15157529-4e12-4fe1-a313-979d236ef8fd',
@PromptID = 'B4053E4F-165C-4AED-8E14-3A0A25A28EFE',
@ModelID = '287E317F-BF26-F011-A770-AC1A3D21423D',
@VendorID = 'D8A5CCEC-6A37-EF11-86D4-000D3A4E707E',
@ConfigurationID = NULL,
@Priority = 1,
@ExecutionGroup = 0,
@ModelParameters = NULL,
@Status = 'Active',
@ParallelizationMode = 'None',
@ParallelCount = 1,
@ParallelConfigParam = NULL;

GO

-- Save MJ: AI Agent Types (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentType @ID = 'f7926101-5099-4fa5-836a-479d9707c818',
@Name = 'Loop',
@Description = 'Basic Agentic Loop Agent Type',
@SystemPromptID = 'FF7D441F-36E1-458A-B548-0FC2208923BE',
@IsActive = 1,
@AgentPromptPlaceholder = 'agentSpecificPrompt',
@DriverClass = 'LoopAgentType';

GO

-- Save AI Agents (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = '55399c30-c59b-47d2-a856-640da89c46e4',
@Name = 'Demo Loop Agent',
@Description = 'Simple Agent Demo!',
@LogoURL = NULL,
@ParentID = NULL,
@ExposeAsAction = 1,
@ExecutionOrder = 0,
@ExecutionMode = 'Sequential',
@EnableContextCompression = 0,
@ContextCompressionMessageThreshold = NULL,
@ContextCompressionPromptID = NULL,
@ContextCompressionMessageRetentionCount = NULL,
@TypeID = 'F7926101-5099-4FA5-836A-479D9707C818',
@Status = 'Active',
@DriverClass = NULL;

GO

-- Save MJ: AI Agent Prompts (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentPrompt @ID = '78be7d90-027f-40c6-8401-65c218d0201e',
@AgentID = '55399C30-C59B-47D2-A856-640DA89C46E4',
@PromptID = 'B4053E4F-165C-4AED-8E14-3A0A25A28EFE',
@Purpose = NULL,
@ExecutionOrder = 0,
@ConfigurationID = NULL,
@Status = 'Active',
@ContextBehavior = 'Complete',
@ContextMessageCount = NULL;

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '3d7076bf-c963-4ca7-ad33-93f11d5febea',
@AgentID = '55399C30-C59B-47D2-A856-640DA89C46E4',
@ActionID = '6C88FED2-679A-4FDD-A31A-7F38D0457F22',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = 'cd7cd080-f2c6-4aaf-85c2-90a0ee9b9b13',
@AgentID = '55399C30-C59B-47D2-A856-640DA89C46E4',
@ActionID = '08E0742A-5DB9-4A5F-BA47-ED39374EE213',
@Status = 'Active';

GO

-- Save AI Agent Actions (core SP call only)
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = '416527f6-6231-40b7-a8d4-548da55b6d77',
@AgentID = '55399C30-C59B-47D2-A856-640DA89C46E4',
@ActionID = '296E03AE-6EDC-4C5E-9506-BC98ACCDA2E1',
@Status = 'Active';

GO


-- End of SQL Logging Session
-- Session ID: 939ee8da-53fc-42da-8a86-9e21044eaca4
-- Completed: 2025-06-14T03:41:15.168Z
-- Duration: 1404ms
-- Total Statements: 108
