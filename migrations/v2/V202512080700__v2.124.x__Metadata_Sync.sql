-- SQL Logging Session
-- Session ID: 7da05406-1df1-4259-9405-6ea1d186b3e2
-- Started: 2025-12-08T13:24:45.796Z
-- Description: MetadataSync push operation
-- Format: Migration-ready with Flyway schema placeholders
-- Generated by MemberJunction SQLServerDataProvider

-- Save Template Contents (core SP call only)
DECLARE @TemplateID_f36fdb3b UNIQUEIDENTIFIER,
@TypeID_f36fdb3b UNIQUEIDENTIFIER,
@TemplateText_f36fdb3b NVARCHAR(MAX),
@Priority_f36fdb3b INT,
@IsActive_f36fdb3b BIT,
@ID_f36fdb3b UNIQUEIDENTIFIER
SET
  @TemplateID_f36fdb3b = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @TypeID_f36fdb3b = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_f36fdb3b = N'# Loop Agent System Prompt

You operate in a continuous loop pattern, working iteratively to complete the user''s goal.

# Response Format
Return ONLY JSON adhering to the interface `LoopAgentResponse`
```ts
import { AgentPayloadChangeRequest, ForEachOperation, WhileOperation, AgentResponseForm, ActionableCommand, AutomaticCommand } from "@memberjunction/ai-core-plus";

// Re-export universal types for backward compatibility
export type { ForEachOperation, WhileOperation };

/**
 * Response structure for Loop Agent Type
 */
export interface LoopAgentResponse<P = any> {
    /**
     * Task completion status. true = terminate loop, false = continue
     */
    taskComplete?: boolean;
    
    /**
     * Plain text message (<100 words). Required for ''Chat'' type, omit for others
     */
    message?: string;

    /**
     * Optional response form to collect structured user input.
     * When present, UI will render appropriate input controls.
     * @since 2.116.0
     */
    responseForm?: AgentResponseForm;

    /**
     * Optional actionable commands shown as clickable buttons/links.
     * Typically used after completing work to provide navigation to created/modified resources.
     * @since 2.116.0
     */
    actionableCommands?: ActionableCommand[];

    /**
     * Optional automatic commands executed immediately when received.
     * Used for refreshing data, showing notifications, and updating UI state.
     * @since 2.116.0
     */
    automaticCommands?: AutomaticCommand[];

    /**
     * Payload changes. Omit if no changes needed
     */
    payloadChangeRequest?: AgentPayloadChangeRequest<P>;
    
    /**
     * Internal reasoning for debugging
     */
    reasoning?: string;
    
    /**
     * Confidence level (0.0-1.0)
     */
    confidence?: number;

    /**
     * Next action. Required when taskComplete=false
     */
    nextStep?: {
        /**
         * Operation type: ''Actions'' | ''Sub-Agent'' | ''Chat'' | ''ForEach'' | ''While''
         */
        type: ''Actions'' | ''Sub-Agent'' | ''Chat'' | ''ForEach'' | ''While'';

        /**
         * Actions to execute (when type=''Actions'')
         */
        actions?: Array<{
            name: string;
            params: Record<string, unknown>;
        }>;

        /**
         * Sub-agent details (when type=''Sub-Agent'')
         */
        subAgent?: {
            name: string;

            /**
             * Instructions for the sub-agent, NOT the payload, that is handled elsewhere
             */
            message: string;

            /**
             * Extra parameters - NOT the payload, only use these if the sub-agent
             * specifically **defines** parameters in its metadata, otherwise these will be
             * ignored and waste tokens!
             */
            templateParameters?: Record<string, any>;

            /**
             * true=end parent, false=continue
             */
            terminateAfter: boolean;
        };

        /**
         * ForEach operation details (when type=''ForEach'')
         */
        forEach?: ForEachOperation;

        /**
         * While operation details (when type=''While'')
         */
        while?: WhileOperation;
    };
}

//\n/**
 * Defines a structured way to request changes to the payload. If you are making a COMPLEX change to an object
 * you can either use `updateElements` as described below to make **surgical** changes to the payload, OR, a simple
 * approach is to use `replaceElements` to remove the entire object and replace it with a new object.
 * 
 * If you are providing the ENTIRE object again, use the **replaceElements** instead of **updateElements** approach like this:
 * {
 *   replaceElements: {
 *     user: { // user object will REPLACE the entire existing object
 *       id: "new-id",
 *       name: "new-name"
 *       moreComplexData: {
 *         keyA: "valA",
 *         keyB: "valB"
 *       }
 *     }
 *   }
 * }
 * 
 * Alternatively, to make surgical changes review the documentation below for @see updateElements where you can make
 * small incremental additions/updates/removals to the payload which is more token efficient and cleaner.
 */
export type AgentPayloadChangeRequest<P = any> = {
    /**
     * A partial of P that includes all new elements added that were **not** previously present in
     * the payload prior to the prompt execution. This allows the AI to specify the new elements
     * to be added clearly here. The structure is identical to the payload type P with just the
     * portions filled out that need to be added.
     * 
     * To add a new item:
     * 
     * {    
     *   "newItem": "newValue"
     * }
     * To add multiple new items:
     * 
     * {
     *   newItem1: "newValue1",
     *   newItem2: "newValue2"
     * }
     */
    newElements?: Partial<P>;

    /**
     * A partial of P that includes all elements that should be updated in the payload.
     * The structure is identical to the payload type P with just the portions filled out
     * that need to be updated. **DO NOT INCLUDE ELEMENTS THAT ARE NOT CHANGING**.
     * 
     * Example - update single item:
     *  {
     *     "itemToUpdate": "newValue"
     *  }
     * 
     *  To update multiple items:
     *  {
     *      itemToUpdate1: "newValue1",
     *      itemToUpdate2: "newValue2"
     *  }
     * 
     *  Arrays: Include placeholder objects `{}` for items that are being kept in the array.
     *  For example, if the payload was:
     *  {
     *      items: [
     *          {}, // placeholder object is ignored
     *          { someKey: ''this is a new value for someKey'' },
     *          {} // placeholder object is ignored - since it is trailing, can be ommitted, this is for illustration
     *      ]
     *  }
     * 
     * DELETION WITHIN UPDATES:
     * You can use "__DELETE__" within updateElements to remove properties or array elements at any depth:
     * 
     * Deleting object properties:
     * {
     *   updateElements: {
     *     user: {
     *       name: "New Name",      // update this property
     *       tempData: "__DELETE__"   // remove this property
     *     }
     *   }
     * }
     * 
     * Deleting array elements:
     * {
     *   updateElements: {
     *     items: [
     *       {},          // keep item 0
     *       "__DELETE__",  // remove item 1
     *       { value: 5 }, // update item 2
     *       "__DELETE__"   // remove item 3
     *     ]
     *   }
     * }
     * 
     * Complex nested example - updating and deleting within deep structures:
     * {
     *   updateElements: {
     *     dataRequirements: {
     *       dynamicData: {
     *         requiredEntities: [
     *           {
     *             displayFields: ["Name", "UpdatedAt"], // update array
     *             fieldMetadata: [
     *               {},          // keep field 0
     *               {},          // keep field 1
     *               {},          // keep field 2
     *               "__DELETE__"   // remove field 3 (e.g., LastUpdated)
     *             ],
     *             oldProperty: "__DELETE__"  // remove this property
     *           }
     *         ]
     *       }
     *     }
     *   }
     * }
     * 
     * IMPORTANT: When using "__DELETE__" in arrays, deletions are processed after updates at each depth level,
     * ensuring correct index management. Multiple deletions in the same array are handled properly.
     * 
     * Alternative for complete replacement: If you need to completely replace a complex structure,
     * you can use replaceElements pattern INSTEAD of updateElements:
     * {
     *   replaceElements: { complexObject: { keyA: "valA", keyB: "valB" } } // This replaces the entire complexObject
     * }
     */
    updateElements?: Partial<P>;

    /**
     * This partial of P includes all elements that should be replaced in the payload.
     * The structure is identical to the payload type P with just the portions filled out
     * that need to be replaced. This is useful when you want to replace an entire object
     * or array with a new version. See @see updateElements for surgical updates instead of doing
     * complete replacements.
     */
    replaceElements?: Partial<P>;

    /**
     * This partial of P includes all elements that should be removed from the payload. When an
     * item needs to be removed, include the item here with a value of "__DELETE__".
     * 
     * For 1 removal:
     * {
     *   itemToRemove: ''__DELETE__''
     * }
     * 
     * This indicates that the itemToRemove should be removed from the payload.
     * 
     * For multiple removals:
     * {
     *   itemToRemove1: ''__DELETE__'',
     *   itemToRemove2: ''__DELETE__''
     * }
     * 
     * Arrays: Include placeholder objects `{}` for items that are being kept in the array.
     * For updating object elements in arrays, only include the properties to change:
     * 
     * Original array:
     * {
     *   items: [
     *     { id: 1, name: "Item 1", value: 100 },
     *     { id: 2, name: "Item 2", value: 200 },
     *     { id: 3, name: "Item 3", value: 300 }
     *   ]
     * }
     * 
     * To update only the value of the second item:
     * {
     *   items: [
     *     {}, // placeholder - keeps item 1 unchanged
     *     { value: 250 }, // updates ONLY the value property of item 2
     *     {} // placeholder - keeps item 3 unchanged (can be omitted if trailing)
     *   ]
     * }
     * 
     * Result after merge:
     * {
     *   items: [
     *     { id: 1, name: "Item 1", value: 100 },
     *     { id: 2, name: "Item 2", value: 250 }, // only value changed
     *     { id: 3, name: "Item 3", value: 300 }
     *   ]
     * }
     * 
     * NOTE: For token efficiency, do **NOT** emit array elements that are being **kept** 
     * instead emit empty objects `{}` for items being kept.  
     * 
     * NESTED OBJECTS:
     * {
     *   nestedObject: {
     *     itemToRemove: ''__DELETE__''
     *   }
     * }
     * 
     * In this case if there was a payload like this:
     * {
     *   nestedObject: {
     *    itemToRemove: ''value'',
     *    itemToKeep: ''value''
     *   },
     *   anotherItemToRemove: ''__DELETE__'',
     *   anotherItemToKeep: 12345  
     * }
     *
     * The result of the operation would be :
     * {
     *   nestedObject: {
     *     itemToKeep: ''value''
     *   },
     *   anotherItemToKeep: 12345
     * }
     */
    removeElements?: Partial<P>;

    /**
     * Description of the reasoning behind the changes requested.
     */
    reasoning?: string;
}
//\n/**
 * @fileoverview Type definitions for agent response forms.
 *
 * This module contains type definitions for collecting structured user input
 * through forms in agent-UI interactions. Agents can request information from
 * users using various question types (text, numbers, dates, choices) and the
 * UI will render appropriate input controls.
 *
 * @module @memberjunction/ai-core-plus
 * @author MemberJunction.com
 * @since 2.116.0
 */

/**
 * Form definition for collecting structured user input.
 *
 * Agents can return this in their response to request information from users.
 * The UI will render the form appropriately based on complexity:
 * - Single question with buttongroup/radio and no title → Simple button UI
 * - Everything else → Full form with title, validation, and submit button
 *
 * @example Simple choice (renders as buttons)
 * ```json
 * {
 *   "questions": [
 *     {
 *       "id": "choice",
 *       "label": "Which customer?",
 *       "type": {
 *         "type": "buttongroup",
 *         "options": [
 *           { "value": "cust-123", "label": "Acme Corp" },
 *           { "value": "cust-456", "label": "Acme Industries" }
 *         ]
 *       }
 *     }
 *   ]
 * }
 * ```
 *
 * @example Full form
 * ```json
 * {
 *   "title": "New Customer",
 *   "submitLabel": "Create Customer",
 *   "questions": [
 *     {
 *       "id": "name",
 *       "label": "Company Name",
 *       "type": { "type": "text", "placeholder": "Acme Corp" },
 *       "required": true
 *     },
 *     {
 *       "id": "revenue",
 *       "label": "Annual Revenue",
 *       "type": { "type": "currency", "prefix": "$" },
 *       "helpText": "Estimated annual revenue in USD"
 *     }
 *   ]
 * }
 * ```
 */
export interface AgentResponseForm {
    /** Optional title shown at top of form */
    title?: string;

    /** Optional description/instructions for the form */
    description?: string;

    /** Optional custom label for submit button (default: "Submit") */
    submitLabel?: string;

    /** Array of questions to ask the user */
    questions: FormQuestion[];
}

/**
 * A single question in a response form.
 *
 * Each question has an ID (used as the key in the response object),
 * a label, a type (determines which input control to render), and
 * optional validation/help text.
 */
export interface FormQuestion {
    /**
     * Unique identifier for this question within the form.
     * Used as the key in the response object returned to the agent.
     */
    id: string;

    /**
     * Label text displayed to the user.
     * Should be clear and concise (e.g., "Company Name", "Industry").
     */
    label: string;

    /**
     * Question type configuration.
     * Determines which input control is rendered and validation rules.
     */
    type: FormQuestionType;

    /**
     * Whether this question must be answered.
     * Default: false
     */
    required?: boolean;

    /**
     * Default value to pre-populate the input.
     * Type should match the question type.
     */
    defaultValue?: any;

    /**
     * Optional help text shown below the input.
     * Use for clarification or examples (e.g., "Estimated annual revenue in USD").
     */
    helpText?: string;

    /**
     * Optional width hint for the input field.
     * Controls the visual width of the input control:
     * - ''narrow'': ~150-200px (numbers, dates, times, short codes)
     * - ''medium'': ~250-350px (names, cities, phone numbers)
     * - ''wide'': ~400-500px (email, URLs, button groups, radio, checkbox)
     * - ''full'': 100% width (textarea, search fields)
     * - ''auto'': Auto-size based on content (dropdowns)
     *
     * Default behavior (if not specified):
     * - textarea: ''full''
     * - number/currency/date/time: ''narrow''
     * - buttongroup/radio/checkbox: ''wide'' (with wrapping)
     * - dropdown: ''auto''
     * - email: ''wide''
     * - text: ''medium''
     */
    widthHint?: ''narrow'' | ''medium'' | ''wide'' | ''full'' | ''auto'';
}

/**
 * Union type of all supported question types.
 * Each type has specific configuration options.
 */
export type FormQuestionType =
    | TextQuestionType
    | NumberQuestionType
    | DateQuestionType
    | ChoiceQuestionType
    | SliderQuestionType
    | DateRangeQuestionType
    | TimeQuestionType;

/**
 * Text input question types.
 * Supports single-line text, multi-line textarea, and email validation.
 */
export interface TextQuestionType {
    /**
     * Type of text input:
     * - ''text'': Single-line text input
     * - ''textarea'': Multi-line text input
     * - ''email'': Email validation applied
     */
    type: ''text'' | ''textarea'' | ''email'';

    /** Optional placeholder text shown in empty input */
    placeholder?: string;

    /** Maximum number of characters allowed */
    maxLength?: number;
}

/**
 * Numeric input question types.
 * Supports plain numbers and formatted currency.
 */
export interface NumberQuestionType {
    /**
     * Type of numeric input:
     * - ''number'': Plain numeric input
     * - ''currency'': Formatted as currency with optional prefix/suffix
     */
    type: ''number'' | ''currency'';

    /** Minimum allowed value */
    min?: number;

    /** Maximum allowed value */
    max?: number;

    /** Optional prefix for display (e.g., "$" for currency) */
    prefix?: string;

    /** Optional suffix for display (e.g., "USD", "kg") */
    suffix?: string;
}

/**
 * Date/time input question types.
 * Supports date-only and date-time pickers.
 */
export interface DateQuestionType {
    /**
     * Type of date input:
     * - ''date'': Date-only picker
     * - ''datetime'': Date and time picker
     */
    type: ''date'' | ''datetime'';
}

/**
 * Choice selection question types.
 * Supports various UI presentations of a list of options.
 */
export interface ChoiceQuestionType {
    /**
     * Type of choice UI:
     * - ''buttongroup'': Horizontal button group (for 2-4 options)
     * - ''radio'': Vertical radio button list (for 2-6 options)
     * - ''dropdown'': Dropdown list (for 5+ options)
     * - ''checkbox'': Multiple checkboxes (for multiple selections)
     */
    type: ''buttongroup'' | ''radio'' | ''dropdown'' | ''checkbox'';

    /** Array of available options */
    options: FormOption[];

    /**
     * Whether multiple selections are allowed.
     * Only applies to ''checkbox'' type.
     * Default: false
     */
    multiple?: boolean;
}

/**
 * A single option in a choice question.
 */
export interface FormOption {
    /**
     * Value returned when this option is selected.
     * Can be string, number, or boolean.
     */
    value: string | number | boolean;

    /**
     * Label text displayed to the user.
     */
    label: string;

    /**
     * Optional icon to display with the option.
     * Should be a Font Awesome class (e.g., "fa-user", "fa-building").
     */
    icon?: string;
}

/**
 * Slider input for numeric ranges.
 * Provides visual control for selecting values within a range.
 * Useful for ratings, percentages, volumes, or any bounded numeric input.
 */
export interface SliderQuestionType {
    /**
     * Type identifier for slider input.
     */
    type: ''slider'';

    /**
     * Minimum value on the slider scale.
     */
    min: number;

    /**
     * Maximum value on the slider scale.
     */
    max: number;

    /**
     * Step increment for the slider.
     * Default: 1
     */
    step?: number;

    /**
     * Optional unit suffix displayed with the value (e.g., ''%'', ''kg'', ''miles'').
     */
    suffix?: string;
}

/**
 * Date range input for selecting start and end dates.
 * Returns an object with ''start'' and ''end'' date properties.
 * Useful for project durations, availability periods, reporting ranges.
 */
export interface DateRangeQuestionType {
    /**
     * Type identifier for date range input.
     */
    type: ''daterange'';
}

/**
 * Time-only input (no date component).
 * For scheduling, business hours, appointment times, etc.
 * Returns time in ''HH:mm'' format.
 */
export interface TimeQuestionType {
    /**
     * Type identifier for time input.
     */
    type: ''time'';
}

```

# Execution Pattern
Each iteration:
1. Assess progress toward goal
2. Identify remaining work
3. Choose next step:
   - Continue reasoning
   {% if subAgentCount > 0 %}- Invoke sub-agent{% endif %}
   {% if actionCount > 0 %}- Execute action(s){% endif %}
   - Expand compacted message (if you need full details from a prior result)
4. Loop until done or blocked

Stop only when: goal complete OR unrecoverable failure.

{% if parentAgentName == '''' and subAgentCount > 0 %}
# Role: Top-Level Agent
You have {{subAgentCount}} sub-agents. Delegate appropriately.
{% elseif parentAgentName != '''' %}
# Role: Sub-Agent
Parent: {{ parentAgentName }}. Your results return to parent, not user.
{% endif -%}

{%- if subAgentCount > 0 or actionCount > 0 %}
# Capabilities
{%- if subAgentCount > 0 %}
## Sub-Agents ({{subAgentCount}} available)
Execute one at a time. Their completion ≠ your task completion.
{{ subAgentDetails | safe }}
{%- endif -%}

{%- if actionCount > 0 -%}
## Actions ({{actionCount}} available)
Execute multiple in parallel if independent. Retry failed actions up to 3x with adjusted parameters.
{{ actionDetails | safe }}
{%- endif -%}
{%- endif %}

# Agent Definition
Your name is {{ agentName }}

{{ agentDescription | safe }}

## Specialization
{{ agentSpecificPrompt | safe }}

## Key Rules
- `taskComplete`: true only when **ENTIRE** user request fulfilled
- `payloadChangeRequest`: Include only changes (new/update/remove)
- `terminateAfter`: Usually false - review sub-agent results before completing
- **⚠️ ForEach/While results are TEMPORARY (ONE turn only)**: You MUST extract and store needed data in payload immediately after loop completion, or it''s lost forever
{% if subAgentCount == 0 %}- No sub-agents available{% endif %}
{% if actionCount == 0 %}- No actions available{% endif %}

## Message Expansion

Some action results may be **compacted** to save tokens. Compacted messages show:
- `[Compacted: ...]` or `[AI Summary of N chars...]` annotations
- Key information preserved but details omitted

**When to expand:**
- You need specific details from a prior result
- User asks about information that was in a compacted message
- You need to reference exact data points

**How to expand:**
```json
{
  "taskComplete": false,
  "nextStep": {
    "type": "Retry",
    "messageIndex": 5,
    "reason": "Need full search results to answer user''s question about item #47"
  }
}
```

**After expansion:** The message is restored to full content and you can access all details.

## Iterative Operations

**When processing multiple items or retrying operations, use ForEach/While instead of manual iteration.**

### ForEach: Process Collections Efficiently

When you have an array in the payload and need to perform the same operation on each item:

```json
{
  "taskComplete": false,
  "message": "Processing all 15 customer records",
  "reasoning": "Found customers array, using ForEach for efficient batch processing",
  "nextStep": {
    "type": "ForEach",
    "forEach": {
      "collectionPath": "customers",
      "itemVariable": "customer",
      "action": {
        "name": "Send Welcome Email",
        "params": {
          "to": "customer.email",
          "name": "customer.firstName",
          "data": "customer"
        }
      },
      "maxIterations": 500
    }
  }
}
```

**Benefits:** token efficient - you make ONE decision, action executes N times.

**⚠️ CRITICAL - Loop Results Are Temporary:**
Loop results appear in a temporary message for ONE turn only, then are removed to save tokens. You **MUST** extract and store any data you need in the payload via `payloadChangeRequest` in your immediate next response.

- The below is just an example - what you add to payload is dependent on your payload structure, below is simply one example!

**Example - Extracting Loop Results:**
```json
{
  "taskComplete": false,
  "message": "Processed 50 search results, storing summaries",
  "reasoning": "Loop completed successfully. Extracting key data to payload for later use.",
  "payloadChangeRequest": {
    "newElements": {
      "searchSummaries": [], // Your job is to extract from loop results and put stuff here
      "processedCount": 50, // example of summary field
      "successfulCount": 48, // another example field
      "failedUrls": ["url1", "url2"] // stuff specific to your needs
    }
  },
  "nextStep": {
    "type": "Retry"
  }
}
```

**After the next turn, loop results are GONE** - if you don''t store what you need now, you lose it forever.

#### Parallel Execution for Independent Operations

When iterations are **independent** (don''t depend on each other), use parallel execution for 5-10x speedup:

```json
{
  "taskComplete": false,
  "message": "Fetching content from 50 search results in parallel",
  "reasoning": "Using parallel execution for faster web scraping - iterations are independent",
  "nextStep": {
    "type": "ForEach",
    "forEach": {
      "collectionPath": "searchResults",
      "itemVariable": "result",
      "executionMode": "parallel",
      "maxConcurrency": 15,
      "continueOnError": true,
      "action": {
        "name": "Get Web Page Content",
        "params": {
          "url": "result.url",
          "timeout": 10000
        }
      }
    }
  }
}
```

**Execution modes:**
- `"sequential"` (default): Process one at a time, good for state accumulation
- `"parallel"`: Process multiple concurrently, good for independent I/O operations

**Use parallel when:**
- ✅ Fetching data from multiple URLs
- ✅ Processing independent files/documents
- ✅ Making multiple API calls
- ✅ Running independent actions per item

**Use sequential when:**
- ⚠️ Iterations update shared state incrementally
- ⚠️ Each iteration depends on previous results
- ⚠️ Order of execution matters

**Recommended maxConcurrency:**
- I/O-bound (API calls, web scraping): 10-20
- CPU-bound (data processing): 2-8
- Sub-agent spawning: 2-5
- Database operations: 5-10

### While: Polling and Conditional Loops

When you need to poll for status, retry operations, or loop while a condition is true:

**Example: Polling for Job Completion**
```json
{
  "taskComplete": false,
  "message": "Waiting for data export job to complete",
  "reasoning": "Export job submitted, polling status every 3 seconds until ready",
  "nextStep": {
    "type": "While",
    "while": {
      "condition": "payload.exportStatus === ''processing''",
      "itemVariable": "checkAttempt",
      "delayBetweenIterationsMs": 3000,
      "action": {
        "name": "Check Export Status",
        "params": {
          "jobId": "payload.exportJobId",
          "attemptNumber": "checkAttempt.attemptNumber"
        }
      },
      "maxIterations": 20
    }
  }
}
```

**Common patterns:**
- Polling: `"condition": "payload.status === ''pending''"` + `delayBetweenIterationsMs`
- Retry with limit: `"condition": "!payload.success && payload.attempts < 5"`
- Pagination: `"condition": "payload.hasMorePages === true"`

**⚠️ CRITICAL - Loop Results Are Temporary:**
Loop results appear in a temporary message for ONE turn only, then are removed to save tokens. You **MUST** extract and store any data you need in the payload via `payloadChangeRequest` in your immediate next response. After the next turn, loop results are GONE - if you don''t store what you need now, you lose it forever.

### Variable References in Params

- `"item.field"` - Current item''s property (ForEach)
- `"attempt.attemptNumber"` - Current attempt number (While)
- `"payload.field"` - Value from payload
- `"index"` - Loop counter (0-based)
- Static values need no prefix: `"Welcome!"`

### When to Use ForEach vs Manual Processing

❌ **Don''t do this (inefficient):**
```json
// Iteration 1
{ "nextStep": { "type": "Actions", "actions": [{ "name": "Process Item", "params": { "id": 1 } }] }}
// Iteration 2
{ "nextStep": { "type": "Actions", "actions": [{ "name": "Process Item", "params": { "id": 2 } }] }}
// ... repeat 10 times = 10 LLM calls
```

✅ **Do this (efficient):**
```json
// Single LLM call
{
  "nextStep": {
    "type": "ForEach",
    "forEach": {
      "collectionPath": "items",
      "action": { "name": "Process Item", "params": { "id": "item.id" } }
    }
  }
}
// All 10 items processed, results in payload.forEachResults
```

**Next step types:**
- `"Actions"`: Execute one or more actions
- `"Sub-Agent"`: Invoke a sub-agent
- `"Chat"`: Send message to user
- `"Retry"`: Continue processing (set `messageIndex` to expand a compacted message first)
- `"ForEach"`: Iterate over a collection, executing action/sub-agent per item
- `"While"`: Loop while condition is true, executing action/sub-agent per iteration

## Current State
**Payload:** Represents your work state. Request changes via `payloadChangeRequest`
```json
{{ _CURRENT_PAYLOAD | dump | safe }}
```

## User Input Collection with Response Forms

When you need information from the user, use `responseForm` to collect structured input:

### Simple Choice (Renders as Buttons)

For quick selections, use a single question with button options:

```json
{
  "taskComplete": false,
  "message": "I found 3 customers matching that name.",
  "responseForm": {
    "questions": [
      {
        "id": "selection",
        "label": "Which customer did you mean?",
        "type": {
          "type": "buttongroup",
          "options": [
            { "value": "cust-123", "label": "Acme Corp (New York)" },
            { "value": "cust-456", "label": "Acme Industries (Texas)" },
            { "value": "none", "label": "Neither - search again" }
          ]
        }
      }
    ]
  }
}
```

### Collecting Multiple Pieces of Information

When you need several data points, create a full form:

```json
{
  "taskComplete": false,
  "message": "I''ll help you create a new customer. Please provide the details:",
  "responseForm": {
    "title": "New Customer",
    "submitLabel": "Create Customer",
    "questions": [
      {
        "id": "name",
        "label": "Company Name",
        "type": { "type": "text", "placeholder": "Acme Corp" },
        "required": true
      },
      {
        "id": "industry",
        "label": "Industry",
        "type": {
          "type": "dropdown",
          "options": [
            { "value": "tech", "label": "Technology" },
            { "value": "finance", "label": "Finance" },
            { "value": "retail", "label": "Retail" },
            { "value": "other", "label": "Other" }
          ]
        },
        "required": true
      },
      {
        "id": "revenue",
        "label": "Annual Revenue (optional)",
        "type": { "type": "currency", "prefix": "$" },
        "required": false,
        "helpText": "Estimated annual revenue in USD"
      },
      {
        "id": "startDate",
        "label": "Expected Start Date",
        "type": { "type": "date" },
        "required": false
      }
    ]
  }
}
```

### Question Types Available

- **Text:** `{ "type": "text", "placeholder": "..." }`, `{ "type": "textarea" }`, `{ "type": "email" }`
- **Numbers:** `{ "type": "number", "min": 0, "max": 100 }`, `{ "type": "currency", "prefix": "$" }`
- **Dates:** `{ "type": "date" }`, `{ "type": "datetime" }`
- **Choices:** `{ "type": "buttongroup", "options": [...] }`, `{ "type": "radio", "options": [...] }`, `{ "type": "dropdown", "options": [...] }`, `{ "type": "checkbox", "options": [...], "multiple": true }`

## Providing Actions After Completion

When you complete work, provide easy navigation to what you created:

### Opening Resources

```json
{
  "taskComplete": true,
  "message": "Customer record created successfully!",
  "actionableCommands": [
    {
      "type": "open:resource",
      "label": "Open Customer Record",
      "icon": "fa-user",
      "resourceType": "Record",
      "resourceId": "abc-123",
      "mode": "view"
    }
  ],
  "automaticCommands": [
    {
      "type": "notification",
      "message": "Customer ''Acme Corp'' created successfully",
      "severity": "success"
    }
  ]
}
```

### Opening Dashboards

```json
{
  "taskComplete": true,
  "message": "Created ''Sales Metrics Dashboard'' with 6 widgets showing revenue, pipeline, and conversions.",
  "actionableCommands": [
    {
      "type": "open:resource",
      "label": "View Dashboard",
      "icon": "fa-chart-line",
      "resourceType": "Dashboard",
      "resourceId": "dash-456"
    }
  ]
}
```

### Opening External URLs

```json
{
  "taskComplete": true,
  "message": "Here''s the company information I found.",
  "actionableCommands": [
    {
      "type": "open:url",
      "label": "Visit Company Website",
      "icon": "fa-external-link",
      "url": "https://example.com",
      "newTab": true
    }
  ]
}
```

## Refreshing UI After Changes

When you modify system configuration or entity data, tell the UI to refresh:

### Refresh Specific Entities

```json
{
  "automaticCommands": [
    {
      "type": "refresh:data",
      "scope": "entity",
      "entityNames": ["Customers", "Contacts"]
    }
  ]
}
```

### Refresh AI Cache (After Modifying Agents/Prompts)

```json
{
  "automaticCommands": [
    {
      "type": "refresh:data",
      "scope": "cache",
      "cacheName": "AI"
    }
  ]
}
```

### Cache Names Available

- `"Core"` - Core metadata (entities, fields, etc.)
- `"AI"` - AI metadata (agents, prompts, models, etc.)
- `"Actions"` - Action metadata (actions, params, etc.)

## Complete Example: Agent Manager Creating New Agent

```json
{
  "taskComplete": true,
  "message": "Successfully created ''Customer Service Agent'' with 3 sub-agents and 12 actions.",
  "reasoning": "Agent architecture designed, database records created, configuration validated",
  "actionableCommands": [
    {
      "type": "open:resource",
      "label": "View New Agent",
      "icon": "fa-robot",
      "resourceType": "Record",
      "resourceId": "agent-789",
      "mode": "view"
    }
  ],
  "automaticCommands": [
    {
      "type": "refresh:data",
      "scope": "cache",
      "cacheName": "AI"
    },
    {
      "type": "notification",
      "message": "Agent ''Customer Service Agent'' created",
      "severity": "success"
    }
  ]
}
```

# **CRITICAL**
- Your **entire** response must be only JSON with no leading or trailing characters!
- Must adhere to [LoopAgentResponse](#response-format)
- Use `responseForm` when you need user input (replaces old suggestedResponses pattern)
- Use `actionableCommands` to provide navigation buttons after completing work
- Use `automaticCommands` to refresh data or show notifications'
SET
  @Priority_f36fdb3b = 1
SET
  @IsActive_f36fdb3b = 1
SET
  @ID_f36fdb3b = '1C4B8853-04B8-4BF1-92D6-B102436837D7'
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = @TemplateID_f36fdb3b,
  @TypeID = @TypeID_f36fdb3b,
  @TemplateText = @TemplateText_f36fdb3b,
  @Priority = @Priority_f36fdb3b,
  @IsActive = @IsActive_f36fdb3b,
  @ID = @ID_f36fdb3b;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_3b46ceec UNIQUEIDENTIFIER,
@Name_3b46ceec NVARCHAR(255),
@Description_3b46ceec NVARCHAR(MAX),
@Type_3b46ceec NVARCHAR(20),
@DefaultValue_3b46ceec NVARCHAR(MAX),
@IsRequired_3b46ceec BIT,
@LinkedParameterName_3b46ceec NVARCHAR(255),
@LinkedParameterField_3b46ceec NVARCHAR(500),
@ExtraFilter_3b46ceec NVARCHAR(MAX),
@EntityID_3b46ceec UNIQUEIDENTIFIER,
@RecordID_3b46ceec NVARCHAR(2000),
@OrderBy_3b46ceec NVARCHAR(MAX),
@TemplateContentID_3b46ceec UNIQUEIDENTIFIER,
@ID_3b46ceec UNIQUEIDENTIFIER
SET
  @TemplateID_3b46ceec = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_3b46ceec = N'actionCount'
SET
  @Description_3b46ceec = N'Number of available actions'
SET
  @Type_3b46ceec = N'Scalar'
SET
  @IsRequired_3b46ceec = 0
SET
  @ID_3b46ceec = '45998072-D862-4550-BA01-3F28E5C48CDE'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_3b46ceec,
  @Name = @Name_3b46ceec,
  @Description = @Description_3b46ceec,
  @Type = @Type_3b46ceec,
  @DefaultValue = @DefaultValue_3b46ceec,
  @IsRequired = @IsRequired_3b46ceec,
  @LinkedParameterName = @LinkedParameterName_3b46ceec,
  @LinkedParameterField = @LinkedParameterField_3b46ceec,
  @ExtraFilter = @ExtraFilter_3b46ceec,
  @EntityID = @EntityID_3b46ceec,
  @RecordID = @RecordID_3b46ceec,
  @OrderBy = @OrderBy_3b46ceec,
  @TemplateContentID = @TemplateContentID_3b46ceec,
  @ID = @ID_3b46ceec;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_0ad66cea UNIQUEIDENTIFIER,
@Name_0ad66cea NVARCHAR(255),
@Description_0ad66cea NVARCHAR(MAX),
@Type_0ad66cea NVARCHAR(20),
@DefaultValue_0ad66cea NVARCHAR(MAX),
@IsRequired_0ad66cea BIT,
@LinkedParameterName_0ad66cea NVARCHAR(255),
@LinkedParameterField_0ad66cea NVARCHAR(500),
@ExtraFilter_0ad66cea NVARCHAR(MAX),
@EntityID_0ad66cea UNIQUEIDENTIFIER,
@RecordID_0ad66cea NVARCHAR(2000),
@OrderBy_0ad66cea NVARCHAR(MAX),
@TemplateContentID_0ad66cea UNIQUEIDENTIFIER,
@ID_0ad66cea UNIQUEIDENTIFIER
SET
  @TemplateID_0ad66cea = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_0ad66cea = N'subAgentDetails'
SET
  @Description_0ad66cea = N'Details about available sub-agents'
SET
  @Type_0ad66cea = N'Scalar'
SET
  @IsRequired_0ad66cea = 0
SET
  @ID_0ad66cea = '78EE7440-A988-45A3-B7DC-40C2C521743D'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_0ad66cea,
  @Name = @Name_0ad66cea,
  @Description = @Description_0ad66cea,
  @Type = @Type_0ad66cea,
  @DefaultValue = @DefaultValue_0ad66cea,
  @IsRequired = @IsRequired_0ad66cea,
  @LinkedParameterName = @LinkedParameterName_0ad66cea,
  @LinkedParameterField = @LinkedParameterField_0ad66cea,
  @ExtraFilter = @ExtraFilter_0ad66cea,
  @EntityID = @EntityID_0ad66cea,
  @RecordID = @RecordID_0ad66cea,
  @OrderBy = @OrderBy_0ad66cea,
  @TemplateContentID = @TemplateContentID_0ad66cea,
  @ID = @ID_0ad66cea;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_98e56624 UNIQUEIDENTIFIER,
@Name_98e56624 NVARCHAR(255),
@Description_98e56624 NVARCHAR(MAX),
@Type_98e56624 NVARCHAR(20),
@DefaultValue_98e56624 NVARCHAR(MAX),
@IsRequired_98e56624 BIT,
@LinkedParameterName_98e56624 NVARCHAR(255),
@LinkedParameterField_98e56624 NVARCHAR(500),
@ExtraFilter_98e56624 NVARCHAR(MAX),
@EntityID_98e56624 UNIQUEIDENTIFIER,
@RecordID_98e56624 NVARCHAR(2000),
@OrderBy_98e56624 NVARCHAR(MAX),
@TemplateContentID_98e56624 UNIQUEIDENTIFIER,
@ID_98e56624 UNIQUEIDENTIFIER
SET
  @TemplateID_98e56624 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_98e56624 = N'agentDescription'
SET
  @Description_98e56624 = N'Description of the agent''s purpose'
SET
  @Type_98e56624 = N'Scalar'
SET
  @IsRequired_98e56624 = 0
SET
  @ID_98e56624 = '9B5491C6-68A5-4BB9-B945-4F152EC4F159'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_98e56624,
  @Name = @Name_98e56624,
  @Description = @Description_98e56624,
  @Type = @Type_98e56624,
  @DefaultValue = @DefaultValue_98e56624,
  @IsRequired = @IsRequired_98e56624,
  @LinkedParameterName = @LinkedParameterName_98e56624,
  @LinkedParameterField = @LinkedParameterField_98e56624,
  @ExtraFilter = @ExtraFilter_98e56624,
  @EntityID = @EntityID_98e56624,
  @RecordID = @RecordID_98e56624,
  @OrderBy = @OrderBy_98e56624,
  @TemplateContentID = @TemplateContentID_98e56624,
  @ID = @ID_98e56624;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_7bbf9ffe UNIQUEIDENTIFIER,
@Name_7bbf9ffe NVARCHAR(255),
@Description_7bbf9ffe NVARCHAR(MAX),
@Type_7bbf9ffe NVARCHAR(20),
@DefaultValue_7bbf9ffe NVARCHAR(MAX),
@IsRequired_7bbf9ffe BIT,
@LinkedParameterName_7bbf9ffe NVARCHAR(255),
@LinkedParameterField_7bbf9ffe NVARCHAR(500),
@ExtraFilter_7bbf9ffe NVARCHAR(MAX),
@EntityID_7bbf9ffe UNIQUEIDENTIFIER,
@RecordID_7bbf9ffe NVARCHAR(2000),
@OrderBy_7bbf9ffe NVARCHAR(MAX),
@TemplateContentID_7bbf9ffe UNIQUEIDENTIFIER,
@ID_7bbf9ffe UNIQUEIDENTIFIER
SET
  @TemplateID_7bbf9ffe = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_7bbf9ffe = N'actionDetails'
SET
  @Description_7bbf9ffe = N'Details about available actions'
SET
  @Type_7bbf9ffe = N'Scalar'
SET
  @IsRequired_7bbf9ffe = 0
SET
  @ID_7bbf9ffe = 'F5494D19-064C-4428-B1BE-6B6E35A9ACFC'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_7bbf9ffe,
  @Name = @Name_7bbf9ffe,
  @Description = @Description_7bbf9ffe,
  @Type = @Type_7bbf9ffe,
  @DefaultValue = @DefaultValue_7bbf9ffe,
  @IsRequired = @IsRequired_7bbf9ffe,
  @LinkedParameterName = @LinkedParameterName_7bbf9ffe,
  @LinkedParameterField = @LinkedParameterField_7bbf9ffe,
  @ExtraFilter = @ExtraFilter_7bbf9ffe,
  @EntityID = @EntityID_7bbf9ffe,
  @RecordID = @RecordID_7bbf9ffe,
  @OrderBy = @OrderBy_7bbf9ffe,
  @TemplateContentID = @TemplateContentID_7bbf9ffe,
  @ID = @ID_7bbf9ffe;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_250d6164 UNIQUEIDENTIFIER,
@Name_250d6164 NVARCHAR(255),
@Description_250d6164 NVARCHAR(MAX),
@Type_250d6164 NVARCHAR(20),
@DefaultValue_250d6164 NVARCHAR(MAX),
@IsRequired_250d6164 BIT,
@LinkedParameterName_250d6164 NVARCHAR(255),
@LinkedParameterField_250d6164 NVARCHAR(500),
@ExtraFilter_250d6164 NVARCHAR(MAX),
@EntityID_250d6164 UNIQUEIDENTIFIER,
@RecordID_250d6164 NVARCHAR(2000),
@OrderBy_250d6164 NVARCHAR(MAX),
@TemplateContentID_250d6164 UNIQUEIDENTIFIER,
@ID_250d6164 UNIQUEIDENTIFIER
SET
  @TemplateID_250d6164 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_250d6164 = N'subAgentDetails'
SET
  @Description_250d6164 = N'Details about available sub-agents'
SET
  @Type_250d6164 = N'Scalar'
SET
  @IsRequired_250d6164 = 0
SET
  @ID_250d6164 = 'D850831D-0655-41D0-9820-70198FC7B2CD'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_250d6164,
  @Name = @Name_250d6164,
  @Description = @Description_250d6164,
  @Type = @Type_250d6164,
  @DefaultValue = @DefaultValue_250d6164,
  @IsRequired = @IsRequired_250d6164,
  @LinkedParameterName = @LinkedParameterName_250d6164,
  @LinkedParameterField = @LinkedParameterField_250d6164,
  @ExtraFilter = @ExtraFilter_250d6164,
  @EntityID = @EntityID_250d6164,
  @RecordID = @RecordID_250d6164,
  @OrderBy = @OrderBy_250d6164,
  @TemplateContentID = @TemplateContentID_250d6164,
  @ID = @ID_250d6164;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_628ce2d8 UNIQUEIDENTIFIER,
@Name_628ce2d8 NVARCHAR(255),
@Description_628ce2d8 NVARCHAR(MAX),
@Type_628ce2d8 NVARCHAR(20),
@DefaultValue_628ce2d8 NVARCHAR(MAX),
@IsRequired_628ce2d8 BIT,
@LinkedParameterName_628ce2d8 NVARCHAR(255),
@LinkedParameterField_628ce2d8 NVARCHAR(500),
@ExtraFilter_628ce2d8 NVARCHAR(MAX),
@EntityID_628ce2d8 UNIQUEIDENTIFIER,
@RecordID_628ce2d8 NVARCHAR(2000),
@OrderBy_628ce2d8 NVARCHAR(MAX),
@TemplateContentID_628ce2d8 UNIQUEIDENTIFIER,
@ID_628ce2d8 UNIQUEIDENTIFIER
SET
  @TemplateID_628ce2d8 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_628ce2d8 = N'agentSpecificPrompt'
SET
  @Description_628ce2d8 = N'Agent-specific instructions or specialization'
SET
  @Type_628ce2d8 = N'Scalar'
SET
  @IsRequired_628ce2d8 = 0
SET
  @ID_628ce2d8 = '7F96CEC4-1E52-4A4F-951F-8CA30668D6C1'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_628ce2d8,
  @Name = @Name_628ce2d8,
  @Description = @Description_628ce2d8,
  @Type = @Type_628ce2d8,
  @DefaultValue = @DefaultValue_628ce2d8,
  @IsRequired = @IsRequired_628ce2d8,
  @LinkedParameterName = @LinkedParameterName_628ce2d8,
  @LinkedParameterField = @LinkedParameterField_628ce2d8,
  @ExtraFilter = @ExtraFilter_628ce2d8,
  @EntityID = @EntityID_628ce2d8,
  @RecordID = @RecordID_628ce2d8,
  @OrderBy = @OrderBy_628ce2d8,
  @TemplateContentID = @TemplateContentID_628ce2d8,
  @ID = @ID_628ce2d8;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_940b276d UNIQUEIDENTIFIER,
@Name_940b276d NVARCHAR(255),
@Description_940b276d NVARCHAR(MAX),
@Type_940b276d NVARCHAR(20),
@DefaultValue_940b276d NVARCHAR(MAX),
@IsRequired_940b276d BIT,
@LinkedParameterName_940b276d NVARCHAR(255),
@LinkedParameterField_940b276d NVARCHAR(500),
@ExtraFilter_940b276d NVARCHAR(MAX),
@EntityID_940b276d UNIQUEIDENTIFIER,
@RecordID_940b276d NVARCHAR(2000),
@OrderBy_940b276d NVARCHAR(MAX),
@TemplateContentID_940b276d UNIQUEIDENTIFIER,
@ID_940b276d UNIQUEIDENTIFIER
SET
  @TemplateID_940b276d = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_940b276d = N'agentSpecificPrompt'
SET
  @Description_940b276d = N'Agent-specific instructions or specialization'
SET
  @Type_940b276d = N'Scalar'
SET
  @IsRequired_940b276d = 0
SET
  @ID_940b276d = '2CA590FB-7E6A-41B1-AD1D-C55A30D6B27F'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_940b276d,
  @Name = @Name_940b276d,
  @Description = @Description_940b276d,
  @Type = @Type_940b276d,
  @DefaultValue = @DefaultValue_940b276d,
  @IsRequired = @IsRequired_940b276d,
  @LinkedParameterName = @LinkedParameterName_940b276d,
  @LinkedParameterField = @LinkedParameterField_940b276d,
  @ExtraFilter = @ExtraFilter_940b276d,
  @EntityID = @EntityID_940b276d,
  @RecordID = @RecordID_940b276d,
  @OrderBy = @OrderBy_940b276d,
  @TemplateContentID = @TemplateContentID_940b276d,
  @ID = @ID_940b276d;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_122c9477 UNIQUEIDENTIFIER,
@Name_122c9477 NVARCHAR(255),
@Description_122c9477 NVARCHAR(MAX),
@Type_122c9477 NVARCHAR(20),
@DefaultValue_122c9477 NVARCHAR(MAX),
@IsRequired_122c9477 BIT,
@LinkedParameterName_122c9477 NVARCHAR(255),
@LinkedParameterField_122c9477 NVARCHAR(500),
@ExtraFilter_122c9477 NVARCHAR(MAX),
@EntityID_122c9477 UNIQUEIDENTIFIER,
@RecordID_122c9477 NVARCHAR(2000),
@OrderBy_122c9477 NVARCHAR(MAX),
@TemplateContentID_122c9477 UNIQUEIDENTIFIER,
@ID_122c9477 UNIQUEIDENTIFIER
SET
  @TemplateID_122c9477 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_122c9477 = N'actionDetails'
SET
  @Description_122c9477 = N'Details about available actions'
SET
  @Type_122c9477 = N'Scalar'
SET
  @IsRequired_122c9477 = 0
SET
  @ID_122c9477 = '85001831-9A63-4711-B3E2-D40323FED1C9'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_122c9477,
  @Name = @Name_122c9477,
  @Description = @Description_122c9477,
  @Type = @Type_122c9477,
  @DefaultValue = @DefaultValue_122c9477,
  @IsRequired = @IsRequired_122c9477,
  @LinkedParameterName = @LinkedParameterName_122c9477,
  @LinkedParameterField = @LinkedParameterField_122c9477,
  @ExtraFilter = @ExtraFilter_122c9477,
  @EntityID = @EntityID_122c9477,
  @RecordID = @RecordID_122c9477,
  @OrderBy = @OrderBy_122c9477,
  @TemplateContentID = @TemplateContentID_122c9477,
  @ID = @ID_122c9477;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_013be72d UNIQUEIDENTIFIER,
@Name_013be72d NVARCHAR(255),
@Description_013be72d NVARCHAR(MAX),
@Type_013be72d NVARCHAR(20),
@DefaultValue_013be72d NVARCHAR(MAX),
@IsRequired_013be72d BIT,
@LinkedParameterName_013be72d NVARCHAR(255),
@LinkedParameterField_013be72d NVARCHAR(500),
@ExtraFilter_013be72d NVARCHAR(MAX),
@EntityID_013be72d UNIQUEIDENTIFIER,
@RecordID_013be72d NVARCHAR(2000),
@OrderBy_013be72d NVARCHAR(MAX),
@TemplateContentID_013be72d UNIQUEIDENTIFIER,
@ID_013be72d UNIQUEIDENTIFIER
SET
  @TemplateID_013be72d = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_013be72d = N'agentDescription'
SET
  @Description_013be72d = N'Description of the agent''s purpose'
SET
  @Type_013be72d = N'Scalar'
SET
  @IsRequired_013be72d = 0
SET
  @ID_013be72d = '7F0027DA-F662-4C4D-AC66-EDC84A9DBF0C'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_013be72d,
  @Name = @Name_013be72d,
  @Description = @Description_013be72d,
  @Type = @Type_013be72d,
  @DefaultValue = @DefaultValue_013be72d,
  @IsRequired = @IsRequired_013be72d,
  @LinkedParameterName = @LinkedParameterName_013be72d,
  @LinkedParameterField = @LinkedParameterField_013be72d,
  @ExtraFilter = @ExtraFilter_013be72d,
  @EntityID = @EntityID_013be72d,
  @RecordID = @RecordID_013be72d,
  @OrderBy = @OrderBy_013be72d,
  @TemplateContentID = @TemplateContentID_013be72d,
  @ID = @ID_013be72d;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_fa9b34e3 UNIQUEIDENTIFIER,
@Name_fa9b34e3 NVARCHAR(255),
@Description_fa9b34e3 NVARCHAR(MAX),
@Type_fa9b34e3 NVARCHAR(20),
@DefaultValue_fa9b34e3 NVARCHAR(MAX),
@IsRequired_fa9b34e3 BIT,
@LinkedParameterName_fa9b34e3 NVARCHAR(255),
@LinkedParameterField_fa9b34e3 NVARCHAR(500),
@ExtraFilter_fa9b34e3 NVARCHAR(MAX),
@EntityID_fa9b34e3 UNIQUEIDENTIFIER,
@RecordID_fa9b34e3 NVARCHAR(2000),
@OrderBy_fa9b34e3 NVARCHAR(MAX),
@TemplateContentID_fa9b34e3 UNIQUEIDENTIFIER,
@ID_fa9b34e3 UNIQUEIDENTIFIER
SET
  @TemplateID_fa9b34e3 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_fa9b34e3 = N'actionCount'
SET
  @Description_fa9b34e3 = N'Number of available actions'
SET
  @Type_fa9b34e3 = N'Scalar'
SET
  @IsRequired_fa9b34e3 = 0
SET
  @ID_fa9b34e3 = 'ADEF6864-F5D6-497C-B5B2-FA7F9C6C62A1'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_fa9b34e3,
  @Name = @Name_fa9b34e3,
  @Description = @Description_fa9b34e3,
  @Type = @Type_fa9b34e3,
  @DefaultValue = @DefaultValue_fa9b34e3,
  @IsRequired = @IsRequired_fa9b34e3,
  @LinkedParameterName = @LinkedParameterName_fa9b34e3,
  @LinkedParameterField = @LinkedParameterField_fa9b34e3,
  @ExtraFilter = @ExtraFilter_fa9b34e3,
  @EntityID = @EntityID_fa9b34e3,
  @RecordID = @RecordID_fa9b34e3,
  @OrderBy = @OrderBy_fa9b34e3,
  @TemplateContentID = @TemplateContentID_fa9b34e3,
  @ID = @ID_fa9b34e3;

-- Save AI Prompts (core SP call only)
DECLARE @Name_ddf78ee0 NVARCHAR(255),
@Description_ddf78ee0 NVARCHAR(MAX),
@TemplateID_ddf78ee0 UNIQUEIDENTIFIER,
@CategoryID_ddf78ee0 UNIQUEIDENTIFIER,
@TypeID_ddf78ee0 UNIQUEIDENTIFIER,
@Status_ddf78ee0 NVARCHAR(50),
@ResponseFormat_ddf78ee0 NVARCHAR(20),
@ModelSpecificResponseFormat_ddf78ee0 NVARCHAR(MAX),
@AIModelTypeID_ddf78ee0 UNIQUEIDENTIFIER,
@MinPowerRank_ddf78ee0 INT,
@SelectionStrategy_ddf78ee0 NVARCHAR(20),
@PowerPreference_ddf78ee0 NVARCHAR(20),
@ParallelizationMode_ddf78ee0 NVARCHAR(20),
@ParallelCount_ddf78ee0 INT,
@ParallelConfigParam_ddf78ee0 NVARCHAR(100),
@OutputType_ddf78ee0 NVARCHAR(50),
@OutputExample_ddf78ee0 NVARCHAR(MAX),
@ValidationBehavior_ddf78ee0 NVARCHAR(50),
@MaxRetries_ddf78ee0 INT,
@RetryDelayMS_ddf78ee0 INT,
@RetryStrategy_ddf78ee0 NVARCHAR(20),
@ResultSelectorPromptID_ddf78ee0 UNIQUEIDENTIFIER,
@EnableCaching_ddf78ee0 BIT,
@CacheTTLSeconds_ddf78ee0 INT,
@CacheMatchType_ddf78ee0 NVARCHAR(20),
@CacheSimilarityThreshold_ddf78ee0 FLOAT(53),
@CacheMustMatchModel_ddf78ee0 BIT,
@CacheMustMatchVendor_ddf78ee0 BIT,
@CacheMustMatchAgent_ddf78ee0 BIT,
@CacheMustMatchConfig_ddf78ee0 BIT,
@PromptRole_ddf78ee0 NVARCHAR(20),
@PromptPosition_ddf78ee0 NVARCHAR(20),
@Temperature_ddf78ee0 DECIMAL(3, 2),
@TopP_ddf78ee0 DECIMAL(3, 2),
@TopK_ddf78ee0 INT,
@MinP_ddf78ee0 DECIMAL(3, 2),
@FrequencyPenalty_ddf78ee0 DECIMAL(3, 2),
@PresencePenalty_ddf78ee0 DECIMAL(3, 2),
@Seed_ddf78ee0 INT,
@StopSequences_ddf78ee0 NVARCHAR(1000),
@IncludeLogProbs_ddf78ee0 BIT,
@TopLogProbs_ddf78ee0 INT,
@FailoverStrategy_ddf78ee0 NVARCHAR(50),
@FailoverMaxAttempts_ddf78ee0 INT,
@FailoverDelaySeconds_ddf78ee0 INT,
@FailoverModelStrategy_ddf78ee0 NVARCHAR(50),
@FailoverErrorScope_ddf78ee0 NVARCHAR(50),
@EffortLevel_ddf78ee0 INT,
@ID_ddf78ee0 UNIQUEIDENTIFIER
SET
  @Name_ddf78ee0 = N'Loop Agent Type: System Prompt'
SET
  @Description_ddf78ee0 = N'Basic control structure for the Loop Agent Type'
SET
  @TemplateID_ddf78ee0 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @CategoryID_ddf78ee0 = '838572BE-9464-4935-BC34-4806FD80A69C'
SET
  @TypeID_ddf78ee0 = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_ddf78ee0 = N'Active'
SET
  @ResponseFormat_ddf78ee0 = N'Any'
SET
  @MinPowerRank_ddf78ee0 = 0
SET
  @SelectionStrategy_ddf78ee0 = N'Specific'
SET
  @PowerPreference_ddf78ee0 = N'Highest'
SET
  @ParallelizationMode_ddf78ee0 = N'None'
SET
  @OutputType_ddf78ee0 = N'object'
SET
  @OutputExample_ddf78ee0 = N'{"taskComplete?":"[BOOLEAN: true if task is fully complete, false if more steps needed, defaults to false]","message?":"[STRING: A brief, human-readable message about current status or final result. Limit to 100 words.]","payloadChangeRequest*":{"[NOTE]":"Follow the format of AgentPayloadChangeRequest. OMIT payloadChangeRequest entirely if no changes are needed."},"reasoning?":"[STRING: Your internal explanation of why you made this decision - helps with debugging]","confidence?":"[OPTIONAL NUMBER: 0.0 to 1.0 indicating confidence in this decision]","nextStep?":{"type?":"REQUIRED: Should be one of the options in the type definition. If not provided, if subAgent key provided it will default to ''subAgent'' and if actions key is provided it will default to ''actions''. If type is not provided and neither actions or subAgent keys are specified, it will be an error condition!","actions?":[{"name":"[STRING: The exact name from available actions list]","params*":{"[PARAM_NAME]":"[PARAM_VALUE: Must match action''s expected parameters]","[ANOTHER_PARAM]":"[Value matching the action''s parameter type]"}}],"subAgent?":{"name":"[STRING: The exact name from available sub-agents list]","message":"[STRING: Complete context and instructions for the sub-agent - they don''t see conversation history]","templateParameters*":{"[TEMPLATE_PARAM_NAME]":"[VALUE: If sub-agent has template parameters, provide values here]"},"terminateAfter?":"[BOOLEAN: true to end parent agent after sub-agent completes, false to continue]"}}}'
SET
  @ValidationBehavior_ddf78ee0 = N'Warn'
SET
  @MaxRetries_ddf78ee0 = 2
SET
  @RetryDelayMS_ddf78ee0 = 1000
SET
  @RetryStrategy_ddf78ee0 = N'Fixed'
SET
  @EnableCaching_ddf78ee0 = 0
SET
  @CacheMatchType_ddf78ee0 = N'Exact'
SET
  @CacheMustMatchModel_ddf78ee0 = 1
SET
  @CacheMustMatchVendor_ddf78ee0 = 1
SET
  @CacheMustMatchAgent_ddf78ee0 = 0
SET
  @CacheMustMatchConfig_ddf78ee0 = 0
SET
  @PromptRole_ddf78ee0 = N'System'
SET
  @PromptPosition_ddf78ee0 = N'First'
SET
  @IncludeLogProbs_ddf78ee0 = 0
SET
  @FailoverStrategy_ddf78ee0 = N'SameModelDifferentVendor'
SET
  @FailoverModelStrategy_ddf78ee0 = N'PreferSameModel'
SET
  @FailoverErrorScope_ddf78ee0 = N'All'
SET
  @ID_ddf78ee0 = 'FF7D441F-36E1-458A-B548-0FC2208923BE'
EXEC [${flyway:defaultSchema}].spUpdateAIPrompt @Name = @Name_ddf78ee0,
  @Description = @Description_ddf78ee0,
  @TemplateID = @TemplateID_ddf78ee0,
  @CategoryID = @CategoryID_ddf78ee0,
  @TypeID = @TypeID_ddf78ee0,
  @Status = @Status_ddf78ee0,
  @ResponseFormat = @ResponseFormat_ddf78ee0,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_ddf78ee0,
  @AIModelTypeID = @AIModelTypeID_ddf78ee0,
  @MinPowerRank = @MinPowerRank_ddf78ee0,
  @SelectionStrategy = @SelectionStrategy_ddf78ee0,
  @PowerPreference = @PowerPreference_ddf78ee0,
  @ParallelizationMode = @ParallelizationMode_ddf78ee0,
  @ParallelCount = @ParallelCount_ddf78ee0,
  @ParallelConfigParam = @ParallelConfigParam_ddf78ee0,
  @OutputType = @OutputType_ddf78ee0,
  @OutputExample = @OutputExample_ddf78ee0,
  @ValidationBehavior = @ValidationBehavior_ddf78ee0,
  @MaxRetries = @MaxRetries_ddf78ee0,
  @RetryDelayMS = @RetryDelayMS_ddf78ee0,
  @RetryStrategy = @RetryStrategy_ddf78ee0,
  @ResultSelectorPromptID = @ResultSelectorPromptID_ddf78ee0,
  @EnableCaching = @EnableCaching_ddf78ee0,
  @CacheTTLSeconds = @CacheTTLSeconds_ddf78ee0,
  @CacheMatchType = @CacheMatchType_ddf78ee0,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_ddf78ee0,
  @CacheMustMatchModel = @CacheMustMatchModel_ddf78ee0,
  @CacheMustMatchVendor = @CacheMustMatchVendor_ddf78ee0,
  @CacheMustMatchAgent = @CacheMustMatchAgent_ddf78ee0,
  @CacheMustMatchConfig = @CacheMustMatchConfig_ddf78ee0,
  @PromptRole = @PromptRole_ddf78ee0,
  @PromptPosition = @PromptPosition_ddf78ee0,
  @Temperature = @Temperature_ddf78ee0,
  @TopP = @TopP_ddf78ee0,
  @TopK = @TopK_ddf78ee0,
  @MinP = @MinP_ddf78ee0,
  @FrequencyPenalty = @FrequencyPenalty_ddf78ee0,
  @PresencePenalty = @PresencePenalty_ddf78ee0,
  @Seed = @Seed_ddf78ee0,
  @StopSequences = @StopSequences_ddf78ee0,
  @IncludeLogProbs = @IncludeLogProbs_ddf78ee0,
  @TopLogProbs = @TopLogProbs_ddf78ee0,
  @FailoverStrategy = @FailoverStrategy_ddf78ee0,
  @FailoverMaxAttempts = @FailoverMaxAttempts_ddf78ee0,
  @FailoverDelaySeconds = @FailoverDelaySeconds_ddf78ee0,
  @FailoverModelStrategy = @FailoverModelStrategy_ddf78ee0,
  @FailoverErrorScope = @FailoverErrorScope_ddf78ee0,
  @EffortLevel = @EffortLevel_ddf78ee0,
  @ID = @ID_ddf78ee0;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_5ab8fd5e NVARCHAR(MAX),
@Name_5ab8fd5e NVARCHAR(500),
@Version_5ab8fd5e NVARCHAR(50),
@VersionSequence_5ab8fd5e INT,
@Title_5ab8fd5e NVARCHAR(1000),
@Description_5ab8fd5e NVARCHAR(MAX),
@Type_5ab8fd5e NVARCHAR(255),
@Status_5ab8fd5e NVARCHAR(50),
@DeveloperName_5ab8fd5e NVARCHAR(255),
@DeveloperEmail_5ab8fd5e NVARCHAR(255),
@DeveloperOrganization_5ab8fd5e NVARCHAR(255),
@SourceRegistryID_5ab8fd5e UNIQUEIDENTIFIER,
@ReplicatedAt_5ab8fd5e DATETIMEOFFSET,
@LastSyncedAt_5ab8fd5e DATETIMEOFFSET,
@Specification_5ab8fd5e NVARCHAR(MAX),
@FunctionalRequirements_5ab8fd5e NVARCHAR(MAX),
@TechnicalDesign_5ab8fd5e NVARCHAR(MAX),
@FunctionalRequirementsVector_5ab8fd5e NVARCHAR(MAX),
@TechnicalDesignVector_5ab8fd5e NVARCHAR(MAX),
@HasCustomProps_5ab8fd5e BIT,
@HasCustomEvents_5ab8fd5e BIT,
@RequiresData_5ab8fd5e BIT,
@DependencyCount_5ab8fd5e INT,
@TechnicalDesignVectorEmbeddingModelID_5ab8fd5e NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_5ab8fd5e NVARCHAR(MAX),
@HasRequiredCustomProps_5ab8fd5e BIT,
@ID_5ab8fd5e UNIQUEIDENTIFIER
SET
  @Namespace_5ab8fd5e = N'Generic/UI/Table'
SET
  @Name_5ab8fd5e = N'DataGrid'
SET
  @Version_5ab8fd5e = N'1.0.0'
SET
  @VersionSequence_5ab8fd5e = 1
SET
  @Title_5ab8fd5e = N'Data Grid'
SET
  @Description_5ab8fd5e = N'Flexible, feature-rich data grid component wrapping Ant Design Table 5.12.0 for displaying tabular data with sorting, filtering, paging, and row selection. Data-agnostic (works with single entities, joins, or aggregated results). Optional native record opening: provide entityName + entityPrimaryKeys to open records on row click. Perfect for drill-down targets (final level showing detail records), master-detail patterns, search results, or standalone tables. Supports custom column rendering with two modes: simple (string array) or advanced (ColumnDef objects with {field, header, render, width, sortable}). Metadata-aware formatting: dates (locale with time), booleans (Yes/No), value lists (colored tags with 50+ status colors + 50 fallback colors), money ($USD), decimals (2 places), integers (commas). Long text handling modes: truncate (ellipsis), expand (click ''show more/less''), tooltip (hover), wrap (word-break), none. USE for lists/tables of records. DO NOT USE for single record (use SingleRecordView) or charts (use SimpleChart/SimpleDrilldownChart).'
SET
  @Type_5ab8fd5e = N'Table'
SET
  @Status_5ab8fd5e = N'Published'
SET
  @Specification_5ab8fd5e = N'{"name":"DataGrid","title":"Data Grid","description":"Flexible, feature-rich data grid component wrapping Ant Design Table 5.12.0 for displaying tabular data with sorting, filtering, paging, and row selection. Data-agnostic (works with single entities, joins, or aggregated results). Optional native record opening: provide entityName + entityPrimaryKeys to open records on row click. Perfect for drill-down targets (final level showing detail records), master-detail patterns, search results, or standalone tables. Supports custom column rendering with two modes: simple (string array) or advanced (ColumnDef objects with {field, header, render, width, sortable}). Metadata-aware formatting: dates (locale with time), booleans (Yes/No), value lists (colored tags with 50+ status colors + 50 fallback colors), money ($USD), decimals (2 places), integers (commas). Long text handling modes: truncate (ellipsis), expand (click ''show more/less''), tooltip (hover), wrap (word-break), none. USE for lists/tables of records. DO NOT USE for single record (use SingleRecordView) or charts (use SimpleChart/SimpleDrilldownChart).","type":"table","location":"embedded","functionalRequirements":"WHEN TO USE: Displaying lists or tables of records; Drill-down destination (bottom level of hierarchy showing detail records); Master-detail detail panel; Search results or filtered record lists; Data exploration with sorting/filtering/paging; Bulk operations requiring multi-select; Report tables; Any tabular data display including aggregated/joined data. WHEN NOT TO USE: Single record display (use SingleRecordView instead); Chart/graph visualizations (use SimpleChart or SimpleDrilldownChart); Need built-in chart-to-table drill-down (use SimpleDrilldownChart). CORE FEATURES: Universal table component for any data structure - works with single entities, joined tables, or aggregated results; Configurable columns with two modes: (1) Simple mode - string array of field names [''Name'', ''SKU'', ''Price''] uses smart defaults, (2) Advanced mode - ColumnDef objects [{field: ''Price'', header: ''Unit Price'', render: (value, record, fieldInfo) => `$$' + '{value}`, width: ''120px'', sortable: true}] for full control; Auto-detects columns from data if columns prop omitted; Smart type detection from entity metadata for alignment (numbers right-aligned) and formatting when entityName provided; Column-level and global text filtering with configurable debounce (default 300ms); Search highlighting with match count display (''Found N matching records''); Pagination with configurable page sizes and range display; Row selection modes: none (default), checkbox (multi-select), radio (single-select), row (click anywhere to select); Row click events with full record data for drill-down or navigation; Native OpenEntityRecord integration: When entityName and entityPrimaryKeys provided, clicking row opens entity record form (use for 1:1 record-to-row scenarios only, not aggregated data); Metadata-aware field formatting: dates (formatDate to locale with hour/minute), booleans (Yes/No text), value lists (colored Tag components), money fields (Intl.NumberFormat $USD), decimals/floats (2 decimal places with commas), integers (commas); Value list coloring system: statusColorMap with 50+ predefined colors for active/pending/complete/failed/error states, 50 fallback colors for other values, consistent color assignment per value; Long text field handling with 5 modes: truncate (substring+''...''), expand (click to toggle ''show more/less'' with expandedCells state tracking), tooltip (Ant Tooltip on hover), wrap (word-break normal), none (default); Auto-fit columns to container width OR fixed widths with horizontal scroll (autoFitColumns prop); Column widths intelligently set based on SQL type and field length: GUIDs (280px), long text varchar(max) or >200 chars (400px), dates (160px), bit (80px), int (100px), money (130px); Loading state (spinner) when data===null; Empty state with contextual message ''No {entityName||''records''} found''; Filter match highlighting using Typography.Text mark prop; Debounced filter input prevents thrashing on large datasets; CSS overrides disable Ant Design animations to prevent render loop detection; Responsive design adapts to any container. COLUMN SYSTEM: Accepts Array<string | ColumnDef>; ColumnDef structure: {field: string (required), header: string (optional, uses DisplayName from metadata or field name), render: function(value, record, fieldInfo) => ReactNode (optional custom renderer), width: string|number (optional like ''200px'' or 200), sortable: boolean (optional, overrides global sorting prop)}; Backward compatible - existing code using string arrays continues to work; If columns omitted, auto-discovers from first data record filtering out ''key'' field. ROW SELECTION: selectionMode=''none''|''checkbox''|''radio''|''row''; Manages selectedRowKeys state; Fires selectionChanged event with full selected record objects. ROW CLICK BEHAVIOR: onRowClick handler takes priority over OpenEntityRecord (custom handler overrides default); If onRowClick NOT provided and entityName+entityPrimaryKeys ARE provided: row clicks trigger OpenEntityRecord callback as default behavior; Extracts primary key values from record using entityPrimaryKeys field names; Passes entityName and key-value pairs to callbacks.OpenEntityRecord; Only fires if all primary key fields have values; Logs warning if keys missing. EVENTS: rowClick(record: object) - fired on row click (overrides default OpenEntityRecord behavior); selectionChanged(selectedRows: Array<object>) - fired when selection changes; pageChanged(pageNumber: number 0-based, visibleRows: Array<object>) - fired on page change; sortChanged(sortState: {column: string, direction: ''asc''|''desc''}) - fired when sort changes; filterChanged(filterValue: string, matchingData: Array<object>) - fired when filter text changes with all matching records. FILTERING: Searches specified filterFields array or all display fields if not provided; Debounces input by filterDebounceTime (default 300ms); Highlights matching text across all visible cells; Shows ''Found N matching records'' count below search box.","technicalDesign":"Wraps Ant Design Table component with MJ-aware enhancements. React hooks: useState for filterText (raw input), debouncedFilter (processed search term), selectedRowKeys (selection state), currentPage (pagination), sortConfig (sort state), entityInfo (entity metadata), expandedCells (object tracking which long text cells are expanded with keys like $' + '{recordKey}_$' + '{fieldName}). Loads entity metadata from utilities.md.Entities on mount if entityName provided for field type detection (Type, Length, DisplayName, ValueListType, EntityFieldValues); If no entityName, sets entityInfo to null and uses basic type detection. Library unwrapping: Uses unwrapLibraryComponents(antd, ''Table'', ''Input'', ''Space'', ''Typography'', ''Tag'', ''Tooltip'') to handle various Ant Design package formats (ESM/CJS/UMD). Column normalization (useMemo): Accepts columns as strings OR ColumnDef objects; If not provided, auto-discovers from Object.keys(data[0]) excluding ''key'' field; Normalizes all to standard format {field, header, render, width, sortable}; Handles invalid configs gracefully with console.warn. Column building (useMemo): Maps normalized columns to Ant Design column configs; Determines alignment based on SQL type (int/decimal/float/numeric/money/bit → right-aligned, others left); Sets column widths based on SQL type and field length (only when autoFitColumns=false): uniqueidentifier→280px, long text (text type OR varchar(max) with length=-1 OR varchar with length>200)→400px, varchar/char based on length (≤50→100-200px, ≤100→250px, ≤200→300px, else→350px), date/time→160px, bit→80px, int→100px, decimal/numeric→120px, money→130px; When autoFitColumns=true, no widths set so table auto-sizes; Uses colDef.width if provided to override calculated width; Sets ellipsis=false (handle manually for click expansion); Creates sorter function if sortable (string localeCompare, number subtraction, null handling); render function priority: (1) Custom colDef.render if provided, (2) Metadata-driven default formatting. Field rendering logic: If custom render, call it with (value, record, fieldInfo); If value is null, return ''-''; Create unique cellKey $' + '{record.key/ID/id}_$' + '{fieldName} for expandedCells tracking; Format based on field type: date/time (formatDate with locale, hour/minute), bit (Yes/No), value lists (Tag component with getValueColor), money (Intl.NumberFormat USD currency), decimal/float (toLocaleString 2 decimals), int (toLocaleString); Long text handling: Check if field is long text (SQL types: text, varchar/char with length=-1 for (max), varchar/char with length>200); If length > longTextThreshold AND not value list: truncate mode (substring+''...''), expand mode (click toggles expandedCells[cellKey], shows ''show more/less'' links), tooltip mode (Ant Tooltip wrapper), wrap mode (whiteSpace:normal, wordBreak:break-word), none (default); Apply filter highlighting: If filtering enabled and debouncedFilter exists, find match index in string, split and wrap match in Typography.Text mark component. Value list coloring: statusColorMap object with 50+ colors (active→#389e0d green, pending→#d48806 orange, failed→#a8071a red, processing→#096dd9 blue, etc.); fallbackColors array with 50 distinct colors (purple #722ed1, magenta #c41d7f, teal #08979c, indigo #1d39c4, vermillion #fa541c, brown #614700, etc.); getValueColor function: Build colorAssignments Map, iterate possibleValues from entity metadata, assign statusColorMap color if exists else next fallbackColor, ensures consistent colors for all values; For unknown values, check statusColorMap first then use hash-based fallback index. Filter debouncing (useEffect): setTimeout with filterDebounceTime (300ms), updates debouncedFilter; Cleanup clears timer. Filtered data (useMemo): If !filtering or !debouncedFilter, return original data; Determine searchFields (filterFields prop or all displayFields); Filter rows where any searchField value includes searchTerm (case-insensitive); Handle null/undefined rows gracefully. Filter change effect (useEffect): Fires onFilterChanged event with {filterValue: debouncedFilter, matchingData: filteredData}. Row selection config: If selectionMode !== ''none'', create rowSelection object with type (''radio'' or ''checkbox''), selectedRowKeys state, onChange handler (updates state, fires onSelectionChanged); For ''row'' mode, adds onSelect handler. Pagination config: If paging=true, create pagination object with current (currentPage), pageSize, total (filteredData.length), showSizeChanger=false, showTotal formatter, onChange handler (updates currentPage, fires onPageChanged with 0-based page number and visible rows slice). Sort change handler: handleTableChange extracts sorter from Ant Table onChange, updates sortConfig state, fires onSortChanged with {sortState: {column: sorter.field, direction: sorter.order === ''ascend'' ? ''asc'' : ''desc''}}. Row click handler: handleRowClick function with priority logic: (1) If onRowClick provided, call it with record and return early (custom handler overrides default), (2) Else if entityName AND entityPrimaryKeys AND callbacks.OpenEntityRecord exist: maps entityPrimaryKeys array to key-value pairs [{FieldName, Value}] by extracting values from record, checks all key values exist (!=null), if yes calls callbacks.OpenEntityRecord(entityName, keyValues), else logs warning with entity/keys/record; Wrapped in try/catch logging errors. Data with keys (useMemo): Maps filteredData to add unique key prop (uses existing key/ID/id or falls back to index); Required for Ant Design Table row selection. CSS style injection: Disables all Ant Design animations (animation: none, transition: none, animation-duration: 0s, transition-duration: 0s) on .data-grid-component and descendants to prevent render loop detection. Render output: Wrapper div with .data-grid-component class; If filtering=true: Search input (Ant Input.Search) with value/onChange/allowClear/onClear, placeholder shows filterFields or ''all fields'', full width style, fix for search button alignment; Text showing ''Found N matching records'' if debouncedFilter exists; Ant Table component with columns (tableColumns), dataSource (dataWithKeys), rowSelection (if enabled), pagination (if enabled), onChange (handleTableChange for sort), scroll (x: ''max-content'' only if autoFitColumns=false for horizontal scrolling), loading (true only when data===null), locale with emptyText (uses entityName if provided else ''records''), size=''middle'', onRow returns object with onClick handler (calls handleRowClick) and cursor style (pointer if onRowClick OR (entityName AND entityPrimaryKeys AND OpenEntityRecord exist) else default).","dataRequirements":{"mode":"views","description":"Component is data-agnostic and works with any entity data passed via props"},"properties":[{"name":"data","type":"Array<object>","description":"Array of records to display. Can be from any source: single entity, joined tables, aggregated results, or any array of objects.","required":true},{"name":"entityName","type":"string","description":"Optional entity name for metadata lookup (enables smart formatting for dates, money, value lists) and OpenEntityRecord integration. If omitted, component uses basic type detection and does not support record opening.","required":false},{"name":"entityPrimaryKeys","type":"Array<string>","description":"Array of field names that constitute the primary key(s) for opening entity records. Required for OpenEntityRecord integration. When provided with entityName, clicking a row will open the entity record using these fields. Use for 1:1 record-to-row scenarios (not aggregated data). Example: [''ID''] for single key, [''OrderID'', ''LineNumber''] for composite key.","required":false,"exampleValue":"[\"ID\"]"},{"name":"columns","type":"Array<string | object>","description":"Array of column definitions. Can be simple strings (field names) for default behavior, or column definition objects with properties: field (required), header, render, width, sortable. If not provided, all fields will be displayed. See technical design section for complete ColumnDef structure.","required":false,"exampleValue":"[\"Name\", { field: \"Price\", header: \"Unit Price\", render: (v) => `$$' + '{v}`, width: \"120px\", sortable: true }]"},{"name":"sorting","type":"boolean","description":"Enable/disable column sorting","required":false,"defaultValue":true},{"name":"paging","type":"boolean","description":"Enable/disable pagination","required":false,"defaultValue":true},{"name":"pageSize","type":"number","description":"Number of rows per page when paging is enabled","required":false,"defaultValue":10},{"name":"showPageSizeChanger","type":"boolean","description":"Show the page size selector when paging is enabled","required":false,"defaultValue":true},{"name":"filtering","type":"boolean","description":"Enable/disable text filtering","required":false,"defaultValue":true},{"name":"highlightFilterMatches","type":"boolean","description":"Highlight matching text when filtering","required":false,"defaultValue":true},{"name":"filterFields","type":"Array<string>","description":"Fields to search when filtering. If not specified, searches all fields","required":false},{"name":"filterDebounceTime","type":"number","description":"Debounce time in ms for filter input","required":false,"defaultValue":300},{"name":"selectionMode","type":"''none'' | ''checkbox'' | ''radio'' | ''row''","description":"Row selection mode: ''none'', ''checkbox'', ''radio'', or ''row''","required":false,"defaultValue":"none","possibleValues":["none","checkbox","radio","row"]},{"name":"longTextDisplay","type":"''truncate'' | ''expand'' | ''tooltip'' | ''wrap'' | ''none''","description":"How to display long text that exceeds the threshold: ''truncate'' shows ellipsis, ''expand'' allows click to expand/collapse, ''tooltip'' shows full text on hover, ''wrap'' shows all text with wrapping, ''none'' uses default behavior","required":false,"defaultValue":"expand","possibleValues":["truncate","expand","tooltip","wrap","none"]},{"name":"longTextThreshold","type":"number","description":"Number of characters before long text display behavior is triggered","required":false,"defaultValue":100},{"name":"autoFitColumns","type":"boolean","description":"When true, columns auto-fit to container width. When false, columns use fixed widths with horizontal scrolling","required":false,"defaultValue":true}],"events":[{"name":"rowClick","description":"Fired when a row is clicked. Uses cancelable event pattern - set event.cancel = true to prevent default OpenEntityRecord behavior.","parameters":[{"name":"event","type":"{ record: object, cancel: boolean }","description":"Event object containing the clicked row record and cancel flag. Set cancel = true to prevent default behavior (OpenEntityRecord when entityName and entityPrimaryKeys are provided)."}]},{"name":"selectionChanged","description":"Fired when row selection changes","parameters":[{"name":"selectedRows","type":"Array<object>","description":"Array of selected entity objects"}]},{"name":"pageChanged","description":"Fired when page changes","parameters":[{"name":"pageNumber","type":"number","description":"Current page number (0-based)"},{"name":"visibleRows","type":"Array<object>","description":"Array of entity objects visible on current page"}]},{"name":"sortChanged","description":"Fired when sort configuration changes","parameters":[{"name":"sortState","type":"{column: string, direction: ''asc'' | ''desc''}","description":"Object with ''column'' and ''direction'' properties"}]},{"name":"filterChanged","description":"Fired when filter changes","parameters":[{"name":"filterValue","type":"string","description":"Current filter text"},{"name":"matchingData","type":"Array<object>","description":"Array of all matching entity objects"}]}],"libraries":[{"name":"antd","version":"5.12.0","globalVariable":"antd"}],"dependencies":[],"code":"function DataGrid({\n  data,\n  entityName,\n  entityPrimaryKeys,\n  columns, // Array of column definitions: [{field: ''Name'', header: ''Product Name'', render: fn, width: ''200px'', sortable: true}]\n  sorting = true,\n  paging = true,\n  pageSize = 20,\n  showPageSizeChanger = true,\n  filtering = true,  // Changed default to true\n  highlightFilterMatches = true,\n  filterFields,\n  filterDebounceTime = 300,\n  selectionMode = ''none'',\n  longTextDisplay = ''expand'', // Options: ''truncate'', ''expand'', ''tooltip'', ''wrap'', ''none''\n  longTextThreshold = 100, // Characters before truncation\n  autoFitColumns = true, // Auto-fit columns to container width vs fixed widths with scroll\n  onSelectionChanged,\n  onPageChanged,\n  onSortChanged,\n  onFilterChanged,\n  onRowClick,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // Always use the MJ unwrapLibraryComponents function to get components from global libraries like antd, this ensures\n  // that various library build/package formats are handled correctly and transparently for your code!\n  const { Table, Input, Space, Typography, Tag, Tooltip } = unwrapLibraryComponents(antd, ''Table'', ''Input'', ''Space'', ''Typography'', ''Tag'', ''Tooltip'');\n  const { Search } = Input;\n  const { Text } = Typography;\n  const [filterText, setFilterText] = React.useState('''');\n  const [debouncedFilter, setDebouncedFilter] = React.useState('''');\n  const [selectedRowKeys, setSelectedRowKeys] = React.useState([]);\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const [currentPageSize, setCurrentPageSize] = React.useState(pageSize);\n  const [sortConfig, setSortConfig] = React.useState(null);\n  const [entityInfo, setEntityInfo] = React.useState(null);\n  const [expandedCells, setExpandedCells] = React.useState({}); // Track which cells are expanded\n\n\n  // Update current page size when pageSize prop changes\n  React.useEffect(() => {\n    setCurrentPageSize(pageSize);\n  }, [pageSize]);\n\n  // Load entity metadata if we have an entity name\n  React.useEffect(() => {\n    if (entityName && utilities?.md?.Entities) {\n      const entity = utilities.md.Entities.find(e => e.Name === entityName);\n      setEntityInfo(entity || null);\n    } else {\n      setEntityInfo(null);\n    }\n  }, [entityName, utilities]);\n  \n  // Helper function to format dates\n  const formatDate = (value) => {\n    if (!value) return ''-'';\n    try {\n      const date = new Date(value);\n      if (isNaN(date.getTime())) return value; // Invalid date, return as-is\n      // Format as YYYY-MM-DD HH:MM\n      return date.toLocaleString(''en-US'', {\n        year: ''numeric'',\n        month: ''2-digit'',\n        day: ''2-digit'',\n        hour: ''2-digit'',\n        minute: ''2-digit''\n      });\n    } catch {\n      return value;\n    }\n  };\n  \n  // Color mapping for common status values (darker for better contrast with white text)\n  const statusColorMap = {\n    // Green colors for positive states\n    active: ''#389e0d'',      // darker green\n    approved: ''#52c41a'',    // green\n    complete: ''#237804'',    // dark green\n    completed: ''#135200'',   // very dark green\n    success: ''#3f6600'',     // olive green\n    successful: ''#5b8c00'',  // light olive\n    enabled: ''#7cb305'',     // lime\n    published: ''#a0d911'',   // light lime\n    \n    // Red colors for negative states\n    inactive: ''#cf1322'',    // darker red\n    rejected: ''#f5222d'',    // red\n    failed: ''#a8071a'',      // dark red\n    error: ''#820014'',       // very dark red\n    disabled: ''#ff4d4f'',    // light red\n    cancelled: ''#ff7875'',   // salmon\n    canceled: ''#ff9c9c'',    // light salmon\n    terminated: ''#873800'',  // burnt orange\n    expired: ''#ad4e00'',     // dark orange\n    deprecated: ''#d4380d'',  // rust orange\n    \n    // Yellow/Orange for pending states\n    pending: ''#d48806'',     // darker orange\n    paused: ''#fa8c16'',      // orange\n    temporary: ''#faad14'',   // gold\n    draft: ''#d4b106'',       // dark gold\n    review: ''#ad8b00'',      // darker gold\n    waiting: ''#ffc53d'',     // light gold\n    \n    // Blue for informational states\n    processing: ''#096dd9'',  // darker blue\n    running: ''#1890ff'',     // blue\n    inprogress: ''#0050b3'',  // dark blue\n    ''in progress'': ''#003a8c'', // very dark blue\n    ''in-progress'': ''#40a9ff'' // light blue\n  };\n  \n  // 50 distinct colors for value lists (excluding colors used in statusColorMap)\n  // These are carefully selected to be visually distinct from each other\n  const fallbackColors = [\n    ''#722ed1'', // purple\n    ''#9254de'', // light purple\n    ''#531dab'', // dark purple\n    ''#391085'', // very dark purple\n    ''#b37feb'', // lavender\n    \n    ''#c41d7f'', // magenta\n    ''#eb2f96'', // pink\n    ''#f759ab'', // light pink\n    ''#9e1068'', // dark magenta\n    ''#780650'', // very dark magenta\n    \n    ''#08979c'', // teal\n    ''#13c2c2'', // cyan\n    ''#006d75'', // dark teal\n    ''#36cfc9'', // light cyan\n    ''#5cdbd3'', // pale cyan\n    \n    ''#1d39c4'', // indigo\n    ''#2f54eb'', // royal blue\n    ''#597ef7'', // periwinkle\n    ''#10239e'', // dark indigo\n    ''#061178'', // navy\n    \n    ''#fa541c'', // vermillion\n    ''#ff7a45'', // coral\n    ''#ff9c6e'', // peach\n    ''#d4380d'', // rust (if not used above)\n    ''#ad2102'', // brick red\n    \n    ''#8c8c8c'', // gray\n    ''#595959'', // dark gray\n    ''#bfbfbf'', // light gray\n    ''#434343'', // charcoal\n    ''#262626'', // near black\n    \n    ''#614700'', // brown\n    ''#874d00'', // tan\n    ''#a8730f'', // amber\n    ''#c79816'', // mustard\n    ''#d4a017'', // goldenrod\n    \n    ''#00474f'', // dark cyan\n    ''#006064'', // petrol\n    ''#004851'', // dark petrol\n    ''#1a535c'', // ocean\n    ''#2c5f2d'', // forest green\n    \n    ''#4a7c59'', // sage\n    ''#6b8e23'', // olive drab\n    ''#556b2f'', // dark olive\n    ''#8fbc8f'', // dark sea green\n    ''#3cb371'', // medium sea green\n    \n    ''#cd5c5c'', // indian red\n    ''#bc8f8f'', // rosy brown\n    ''#daa520'', // goldenrod\n    ''#b8860b'', // dark goldenrod\n    ''#ff6347''  // tomato\n  ];\n  \n  // Get color for a value in a value list - ensures unique colors for all values\n  const getValueColor = (value, possibleValues) => {\n    if (!value) return null;\n    \n    const normalized = value.toString().toLowerCase().trim();\n    \n    // Build a complete color assignment map for this column\n    const colorAssignments = new Map();\n    let nextColorIndex = 0;\n    \n    // First, assign colors to all possible values in order\n    if (possibleValues && Array.isArray(possibleValues)) {\n      possibleValues.forEach(pv => {\n        const pvValue = (pv.Value || pv.Code || '''').toLowerCase().trim();\n        if (pvValue && !colorAssignments.has(pvValue)) {\n          // Check if this value has a predefined color in statusColorMap\n          if (statusColorMap[pvValue]) {\n            colorAssignments.set(pvValue, statusColorMap[pvValue]);\n          } else {\n            // Assign next available fallback color\n            colorAssignments.set(pvValue, fallbackColors[nextColorIndex % fallbackColors.length]);\n            nextColorIndex++;\n          }\n        }\n      });\n    }\n    \n    // Return the assigned color for this value\n    if (colorAssignments.has(normalized)) {\n      return colorAssignments.get(normalized);\n    }\n    \n    // If value wasn''t in possibleValues, check statusColorMap first\n    if (statusColorMap[normalized]) {\n      return statusColorMap[normalized];\n    }\n    \n    // Otherwise assign a fallback color based on hash\n    // This ensures consistency even for unexpected values\n    let hash = 0;\n    for (let i = 0; i < normalized.length; i++) {\n      hash = normalized.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    return fallbackColors[Math.abs(hash) % fallbackColors.length];\n  };\n  \n  // Debounce filter input\n  React.useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedFilter(filterText);\n    }, filterDebounceTime);\n    return () => clearTimeout(timer);\n  }, [filterText, filterDebounceTime]);\n  \n  // Normalize column definitions - support both simple strings and full column definitions\n  const normalizedColumns = React.useMemo(() => {\n    if (!columns || columns.length === 0) {\n      // Auto-discover columns from data if none provided\n      if (data && Array.isArray(data) && data.length > 0) {\n        const allKeys = new Set();\n        data.forEach(row => {\n          if (row && typeof row === ''object'') {\n            Object.keys(row).forEach(key => {\n              if (key !== ''key'') {\n                allKeys.add(key);\n              }\n            });\n          }\n        });\n        return Array.from(allKeys).map(key => ({ field: key }));\n      }\n      return [];\n    }\n\n    // Normalize columns to standard format\n    return columns.map(col => {\n      if (typeof col === ''string'') {\n        // Simple string field name - use defaults\n        return { field: col };\n      } else if (typeof col === ''object'' && col.field) {\n        // Already a column definition object\n        return col;\n      } else {\n        console.warn(''Invalid column configuration:'', col);\n        return null;\n      }\n    }).filter(Boolean);\n  }, [columns, data]);\n\n  // Extract just the field names for filtering and other operations\n  const displayFields = React.useMemo(() => {\n    return normalizedColumns.map(col => col.field);\n  }, [normalizedColumns]);\n  \n  // Build table columns from column definitions with metadata-aware formatting\n  const tableColumns = React.useMemo(() => {\n    return normalizedColumns.map(colDef => {\n      const fieldName = colDef.field;\n\n      // Get field metadata if available\n      const fieldInfo = entityInfo?.Fields?.find(f => f.Name === fieldName);\n      const fieldType = fieldInfo?.Type?.toLowerCase() || '''';\n      const hasValueList = fieldInfo?.ValueListType === ''List'' || fieldInfo?.ValueListType === ''ListOrUserEntry'';\n      const possibleValues = fieldInfo?.EntityFieldValues;\n      \n      \n      // Determine alignment based on field type\n      let align = ''left'';\n      if (fieldType.includes(''int'') || fieldType.includes(''decimal'') || \n          fieldType.includes(''float'') || fieldType.includes(''numeric'') || \n          fieldType.includes(''money'') || fieldType === ''bit'') {\n        align = ''right'';\n      }\n      \n      // Set column width based on field metadata (type and length)\n      // In autoFit mode, we don''t set widths (let table auto-size)\n      // In fixed mode, set proper widths for all columns with horizontal scroll\n      let columnWidth = autoFitColumns ? undefined : 150; // Default width or auto\n      const fieldLength = fieldInfo?.Length;\n      \n      // Determine if this is a long text field based on SQL type\n      // Note: SQL Server returns length = -1 for max fields (varchar(max), nvarchar(max))\n      const isLongTextField = fieldType.includes(''text'') || // text, ntext types\n                              (fieldType.includes(''varchar'') && fieldLength === -1) || // varchar(max) or nvarchar(max)\n                              (fieldType.includes(''char'') && fieldLength === -1) || // char(max) or nchar(max)\n                              (fieldType.includes(''varchar'') && fieldLength && fieldLength > 200) ||\n                              (fieldType.includes(''char'') && fieldLength && fieldLength > 200);\n      \n      \n      // Set appropriate widths based on data type (only when not auto-fitting)\n      if (!autoFitColumns) {\n        if (fieldType.includes(''uniqueidentifier'')) {\n          columnWidth = 280; // GUIDs need space\n        } else if (isLongTextField) {\n          columnWidth = 400; // Generous width for long text fields\n        } else if (fieldType.includes(''varchar'') || fieldType.includes(''char'')) {\n          // Scale width based on field length\n          if (fieldLength && fieldLength <= 50) {\n            columnWidth = Math.min(200, Math.max(100, fieldLength * 3));\n          } else if (fieldLength && fieldLength <= 100) {\n            columnWidth = 250;\n          } else if (fieldLength && fieldLength <= 200) {\n            columnWidth = 300;\n          } else {\n            columnWidth = 350; // Default for varchar without length\n          }\n        } else if (fieldType.includes(''date'') || fieldType.includes(''time'')) {\n          columnWidth = 160;\n        } else if (fieldType === ''bit'') {\n          columnWidth = 80;\n        } else if (fieldType.includes(''int'')) {\n          columnWidth = 100;\n        } else if (fieldType.includes(''decimal'') || fieldType.includes(''numeric'')) {\n          columnWidth = 120;\n        } else if (fieldType.includes(''money'')) {\n          columnWidth = 130;\n        }\n      }\n      \n      // If no metadata available, use default width\n      // We don''t make assumptions based on field names\n      \n      \n      // Enable ellipsis for long text fields\n      const useEllipsis = isLongTextField;\n      \n      // Handle special __mj fields display names\n      // Priority: colDef.header > fieldInfo.DisplayName > default handling\n      let displayName = colDef.header || fieldInfo?.DisplayName || fieldName;\n      if (!colDef.header) {\n        if (fieldName === ''__mj_CreatedAt'') {\n          displayName = ''Created At'';\n        } else if (fieldName === ''__mj_UpdatedAt'') {\n          displayName = ''Updated At'';\n        } else if (fieldName === ''__mj_DeletedAt'') {\n          displayName = ''Deleted At'';\n        }\n      }\n\n      const columnDef = {\n        title: displayName,\n        dataIndex: fieldName,\n        key: fieldName,\n        align: align,\n        width: colDef.width || columnWidth, // Use column-specific width if provided\n        ellipsis: false, // We''ll handle ellipsis manually for click expansion\n        sorter: (colDef.sortable !== undefined ? colDef.sortable : sorting) ? (a, b) => {\n          const valA = a[fieldName];\n          const valB = b[fieldName];\n          if (valA == null) return 1;\n          if (valB == null) return -1;\n          if (typeof valA === ''string'') {\n            return valA.localeCompare(valB);\n          }\n          return valA - valB;\n        } : false,\n        render: (value, record) => {\n          // Check for custom render function first\n          if (colDef.render && typeof colDef.render === ''function'') {\n            return colDef.render(value, record, fieldInfo);\n          }\n\n          // Default handling for null values\n          if (value == null) return ''-'';\n\n          // Create a unique key for this cell\n          const cellKey = `$' + '{record.key || record.ID || record.id}_$' + '{fieldName}`;\n          const isExpanded = expandedCells[cellKey];\n\n          // Format based on field type (default behavior)\n          let displayValue = value;\n          let formattedContent = null;\n          \n          // Handle date/time fields\n          if (fieldType.includes(''date'') || fieldType.includes(''time'')) {\n            displayValue = formatDate(value);\n            formattedContent = displayValue;\n          }\n          // Handle boolean fields\n          else if (fieldType === ''bit'') {\n            displayValue = value ? ''Yes'' : ''No'';\n            formattedContent = displayValue;\n          }\n          // Handle fields with value lists - render as tags\n          else if (hasValueList && possibleValues) {\n            const color = getValueColor(value, possibleValues);\n            formattedContent = (\n              <Tag \n                color={color}\n                style={{ \n                  borderRadius: ''12px'',\n                  fontSize: ''12px'',\n                  padding: ''2px 8px''\n                }}\n              >\n                {value}\n              </Tag>\n            );\n          }\n          // Handle numeric fields with formatting\n          else if (fieldType.includes(''money'')) {\n            displayValue = typeof value === ''number''\n              ? new Intl.NumberFormat(''en-US'', { style: ''currency'', currency: ''USD'' }).format(value)\n              : value;\n            formattedContent = displayValue;\n          }\n          else if (fieldType.includes(''decimal'') || fieldType.includes(''float'')) {\n            displayValue = typeof value === ''number'' \n              ? value.toLocaleString(''en-US'', { maximumFractionDigits: 2 })\n              : value;\n            formattedContent = displayValue;\n          }\n          else if (fieldType.includes(''int'')) {\n            displayValue = typeof value === ''number'' \n              ? value.toLocaleString(''en-US'')\n              : value;\n            formattedContent = displayValue;\n          }\n          else {\n            formattedContent = displayValue;\n          }\n          \n          // Handle long text fields based on longTextDisplay mode\n          if (useEllipsis && typeof displayValue === ''string'' && displayValue.length > longTextThreshold && !hasValueList) {\n            const shouldTruncate = displayValue.length > longTextThreshold;\n            \n            // Mode: truncate - simple ellipsis\n            if (longTextDisplay === ''truncate'') {\n              const truncated = displayValue.substring(0, longTextThreshold) + ''...'';\n              return (\n                <div style={{ whiteSpace: ''nowrap'', overflow: ''hidden'', textOverflow: ''ellipsis'' }}>\n                  {truncated}\n                </div>\n              );\n            }\n            \n            // Mode: tooltip - show full text on hover\n            if (longTextDisplay === ''tooltip'') {\n              const truncated = displayValue.substring(0, longTextThreshold) + ''...'';\n              return (\n                <Tooltip title={displayValue} placement=\"topLeft\">\n                  <div style={{ whiteSpace: ''nowrap'', overflow: ''hidden'', textOverflow: ''ellipsis'' }}>\n                    {truncated}\n                  </div>\n                </Tooltip>\n              );\n            }\n            \n            // Mode: wrap - show all text with wrapping\n            if (longTextDisplay === ''wrap'') {\n              return (\n                <div style={{ whiteSpace: ''normal'', wordBreak: ''break-word'' }}>\n                  {displayValue}\n                </div>\n              );\n            }\n            \n            // Mode: expand (default) - click to expand/collapse\n            if (longTextDisplay === ''expand'') {\n              const shouldTruncate = !isExpanded && displayValue.length > longTextThreshold;\n              const displayText = shouldTruncate \n                ? displayValue.substring(0, longTextThreshold) \n                : displayValue;\n              \n              // Apply highlight for filter matches\n              let finalContent = displayText;\n              if (filtering && highlightFilterMatches && debouncedFilter) {\n                const str = String(displayText);\n                const searchTerm = debouncedFilter.toLowerCase();\n                const index = str.toLowerCase().indexOf(searchTerm);\n                if (index >= 0) {\n                  finalContent = (\n                    <span>\n                      {str.substring(0, index)}\n                      <Text mark>{str.substring(index, index + searchTerm.length)}</Text>\n                      {str.substring(index + searchTerm.length)}\n                    </span>\n                  );\n                }\n              }\n              \n              return (\n                <div \n                  style={{ \n                    cursor: shouldTruncate ? ''pointer'' : ''default'',\n                    whiteSpace: isExpanded ? ''normal'' : ''nowrap'',\n                    wordBreak: isExpanded ? ''break-word'' : ''normal''\n                  }}\n                  onClick={() => {\n                    if (displayValue.length > longTextThreshold) {\n                      setExpandedCells(prev => ({\n                        ...prev,\n                        [cellKey]: !prev[cellKey]\n                      }));\n                    }\n                  }}\n                >\n                  {finalContent}\n                  {shouldTruncate && (\n                    <Text type=\"secondary\" style={{ marginLeft: 2 }}>\n                      ... <Text type=\"link\">[show more]</Text>\n                    </Text>\n                  )}\n                  {isExpanded && displayValue.length > longTextThreshold && (\n                    <Text type=\"link\" style={{ marginLeft: 4 }}>\n                      [show less]\n                    </Text>\n                  )}\n                </div>\n              );\n            }\n            \n            // Mode: none - no special handling\n            // Falls through to regular display\n          }\n          \n          // Apply highlight for filter matches (for non-expandable content)\n          if (filtering && highlightFilterMatches && debouncedFilter && !hasValueList) {\n            const str = String(displayValue);\n            const index = str.toLowerCase().indexOf(debouncedFilter.toLowerCase());\n            if (index >= 0) {\n              return (\n                <span>\n                  {str.substring(0, index)}\n                  <Text mark>{str.substring(index, index + debouncedFilter.length)}</Text>\n                  {str.substring(index + debouncedFilter.length)}\n                </span>\n              );\n            }\n          }\n          \n          return formattedContent;\n        }\n      };\n\n      // Only add sortOrder if explicitly provided (for controlled sorting)\n      // If undefined, Ant Design uses uncontrolled sorting with the sorter function\n      if (colDef.sortOrder !== undefined) {\n        columnDef.sortOrder = colDef.sortOrder;\n      }\n\n      return columnDef;\n    });\n  }, [normalizedColumns, entityInfo, sorting, filtering, highlightFilterMatches, debouncedFilter, expandedCells]);\n  \n  // Filter data based on search term\n  // Handles null/undefined data gracefully and returns appropriate defaults\n  const filteredData = React.useMemo(() => {\n    // If data is null/undefined, return empty array\n    if (!data || !Array.isArray(data)) {\n      return [];\n    }\n    \n    // If filtering is disabled or no filter text, return original data\n    if (!filtering || !debouncedFilter) {\n      return data;\n    }\n    \n    // Determine which fields to search - use specified fields or all display fields\n    const searchFields = filterFields || displayFields;\n    const searchTerm = debouncedFilter.toLowerCase();\n    \n    // Filter rows that match the search term in any of the specified fields\n    return data.filter(row => {\n      // Skip null/undefined rows\n      if (!row || typeof row !== ''object'') return false;\n      \n      return searchFields.some(field => {\n        const value = row[field];\n        if (value == null) return false;\n        return String(value).toLowerCase().includes(searchTerm);\n      });\n    });\n  }, [data, displayFields, filtering, filterFields, debouncedFilter]);\n  \n  // Handle filter change\n  React.useEffect(() => {\n    if (onFilterChanged && filtering) {\n      onFilterChanged({ filterValue: debouncedFilter, matchingData: filteredData });\n    }\n  }, [debouncedFilter, filteredData, onFilterChanged, filtering]);\n  \n  // Selection configuration\n  const rowSelection = selectionMode !== ''none'' ? {\n    type: selectionMode === ''radio'' ? ''radio'' : ''checkbox'',\n    selectedRowKeys,\n    onChange: (keys, rows) => {\n      setSelectedRowKeys(keys);\n      if (onSelectionChanged) {\n        onSelectionChanged({ selectedRows: rows });\n      }\n    },\n    ...(selectionMode === ''row'' ? {\n      onSelect: (record) => {\n        const key = record.key || record.ID || record.id;\n        const isSelected = selectedRowKeys.includes(key);\n        const newKeys = isSelected \n          ? selectedRowKeys.filter(k => k !== key)\n          : [...selectedRowKeys, key];\n        setSelectedRowKeys(newKeys);\n        if (onSelectionChanged) {\n          const rows = filteredData.filter(r => \n            newKeys.includes(r.key || r.ID || r.id)\n          );\n          onSelectionChanged({ selectedRows: rows });\n        }\n      }\n    } : {})\n  } : undefined;\n  \n  // Pagination configuration\n  const pagination = paging ? {\n    current: currentPage,\n    pageSize: currentPageSize,\n    total: filteredData.length,\n    showSizeChanger: showPageSizeChanger,\n    pageSizeOptions: [''5'', ''10'', ''20'', ''50'', ''100''],\n    showTotal: (total, range) => `$' + '{range?.[0] ?? 0}-$' + '{range?.[1] ?? 0} of $' + '{total}`,\n    onChange: (page, newPageSize) => {\n      setCurrentPage(page);\n      if (newPageSize !== currentPageSize) {\n        setCurrentPageSize(newPageSize);\n      }\n      if (onPageChanged) {\n        const startIdx = (page - 1) * (newPageSize || currentPageSize);\n        const endIdx = Math.min(startIdx + (newPageSize || currentPageSize), filteredData.length);\n        onPageChanged({\n          pageNumber: page - 1,\n          pageSize: newPageSize || currentPageSize,\n          visibleRows: filteredData.slice(startIdx, endIdx)\n        });\n      }\n    },\n    onShowSizeChange: (current, size) => {\n      setCurrentPageSize(size);\n      setCurrentPage(1); // Reset to first page when changing page size\n      if (onPageChanged) {\n        const endIdx = Math.min(size, filteredData.length);\n        onPageChanged({\n          pageNumber: 0,\n          pageSize: size,\n          visibleRows: filteredData.slice(0, endIdx)\n        });\n      }\n    }\n  } : false;\n  \n  // Handle table sort change\n  const handleTableChange = (pag, filters, sorter) => {\n    if (sorter && onSortChanged) {\n      setSortConfig(sorter);\n\n      // Three-state sorting: ascend -> descend -> undefined (clear)\n      if (sorter.order) {\n        // Valid sort order (ascend or descend)\n        onSortChanged({\n          sortState: {\n            column: sorter.field,\n            direction: sorter.order === ''ascend'' ? ''asc'' : ''desc''\n          }\n        });\n      } else if (sorter.field) {\n        // sorter.order is undefined - user clicked third time to clear sort\n        onSortChanged({\n          sortState: {\n            column: sorter.field,\n            direction: null // Signal to clear sort\n          }\n        });\n      }\n    }\n  };\n\n  // Handle row click with cancelable event pattern\n  const handleRowClick = (record) => {\n    // Create event object with cancel property (cancelable event pattern)\n    const rowClickEvent = {\n      record: record,\n      cancel: false\n    };\n\n    // Always call onRowClick first if provided (allows custom handling + optional cancellation)\n    if (onRowClick) {\n      onRowClick(rowClickEvent);\n    }\n\n    // If the event was cancelled, don''t execute default behavior\n    if (rowClickEvent.cancel) {\n      return;\n    }\n\n    // Default behavior: If entityName and entityPrimaryKeys are provided, open the record\n    if (entityName && entityPrimaryKeys && Array.isArray(entityPrimaryKeys) && entityPrimaryKeys.length > 0 && callbacks?.OpenEntityRecord) {\n      try {\n        // Build the key-value pairs for OpenEntityRecord\n        const keyValues = entityPrimaryKeys.map(fieldName => ({\n          FieldName: fieldName,\n          Value: record[fieldName]\n        }));\n\n        // Check that all primary key values exist\n        const hasAllKeys = keyValues.every(kv => kv.Value != null);\n        if (hasAllKeys) {\n          callbacks.OpenEntityRecord(entityName, keyValues);\n        } else {\n          console.warn(''[DataGrid] Cannot open record: missing primary key values'', {\n            entityName,\n            entityPrimaryKeys,\n            record\n          });\n        }\n      } catch (err) {\n        console.error(''[DataGrid] Error opening record:'', err);\n      }\n    }\n  };\n  \n  // Add keys to data for row selection\n  // React tables need a unique key for each row to track selection state\n  const dataWithKeys = React.useMemo(() => {\n    // Handle empty/null data gracefully\n    if (!filteredData || !Array.isArray(filteredData)) {\n      return [];\n    }\n    \n    return filteredData.map((row, index) => ({\n      ...row,\n      // Use existing key, ID fields, or fall back to index\n      key: row?.key || row?.ID || row?.id || index\n    }));\n  }, [filteredData]);\n  \n  return (\n    <div className=\"data-grid-component\" style={{ width: ''100%'' }}>\n      <style>{`\n        .data-grid-component .ant-table-wrapper,\n        .data-grid-component .ant-table,\n        .data-grid-component .ant-table-tbody,\n        .data-grid-component .ant-table-row,\n        .data-grid-component .ant-table-cell,\n        .data-grid-component .ant-table-tbody > tr {\n          animation: none !important;\n          transition: none !important;\n        }\n        .data-grid-component .ant-table-tbody > tr.ant-table-row {\n          animation: none !important;\n        }\n        .data-grid-component * {\n          animation-duration: 0s !important;\n          transition-duration: 0s !important;\n        }\n      `}</style>\n      {filtering && (\n        <Space direction=\"vertical\" style={{ width: ''100%'', marginBottom: 16 }}>\n          <div style={{ position: ''relative'' }}>\n            <Search\n              placeholder={`Search in $' + '{filterFields ? filterFields.join('', '') : ''all fields''}`}\n              value={filterText}\n              onChange={e => setFilterText(e.target.value)}\n              allowClear\n              onClear={() => setFilterText('''')}\n              style={{ width: ''100%'' }}  // Full width to match grid\n            />\n            <style>{`\n              .data-grid-component .ant-btn.ant-input-search-button {\n                margin-top: -1px;\n              }\n            `}</style>\n          </div>\n          {debouncedFilter && (\n            <Text type=\"secondary\">\n              Found {filteredData.length} matching records\n            </Text>\n          )}\n        </Space>\n      )}\n      \n      <Table\n        columns={tableColumns}\n        dataSource={dataWithKeys}\n        rowSelection={rowSelection}\n        pagination={pagination}\n        onChange={handleTableChange}\n        scroll={autoFitColumns ? undefined : { x: ''max-content'' }}  // Enable horizontal scrolling only when not auto-fitting\n        loading={data === null}  // Only show loading when data is explicitly null (not yet loaded)\n        locale={{\n          emptyText: `No $' + '{entityName || ''records''} found`\n        }}\n        size=\"middle\"\n        onRow={(record) => ({\n          onClick: () => handleRowClick(record),\n          style: {\n            cursor: (onRowClick || (entityName && entityPrimaryKeys && callbacks?.OpenEntityRecord)) ? ''pointer'' : ''default''\n          }\n        })}\n      />\n    </div>\n  );\n} ","exampleUsage":"// Simple column configuration (backward compatible)\n<DataGrid\n  entityName=\"Products\"\n  data={products}\n  columns={[''Name'', ''SKU'', ''Price'', ''Category'', ''InStock'']}\n  onRowClick={handleRowClick}\n/>\n\n// Advanced column configuration with custom rendering\n<DataGrid\n  entityName=\"Products\"\n  data={products}\n  columns={[\n    { field: ''Name'', header: ''Product Name'', width: ''200px'' },\n    { \n      field: ''Price'',\n      header: ''Unit Price'',\n      render: (value) => (\n        <span style={{ fontWeight: ''bold'', color: ''#059669'' }}>\n          {value >= 1000 ? `$$' + '{(value/1000).toFixed(1)}K` : `$$' + '{value}`}\n        </span>\n      ),\n      width: ''120px'',\n      sortable: true\n    },\n    {\n      field: ''InStock'',\n      header: ''Availability'',\n      render: (value) => (\n        <span style={{ \n          padding: ''2px 8px'',\n          borderRadius: ''12px'',\n          backgroundColor: value ? ''#D1FAE5'' : ''#FEE2E2'',\n          color: value ? ''#065F46'' : ''#991B1B''\n        }}>\n          {value ? ''In Stock'' : ''Out of Stock''}\n        </span>\n      ),\n      width: ''130px'',\n      sortable: false\n    },\n    ''Category''  // Simple string still works\n  ]}\n  sorting={true}\n  paging={true}\n  pageSize={20}\n  filtering={true}\n  filterFields={[''Name'', ''SKU'', ''Category'']}\n  selectionMode=\"none\"\n  onRowClick={handleRowClick}\n  onSelectionChanged={handleSelection}\n  onPageChanged={handlePageChange}\n  onSortChanged={handleSortChange}\n  onFilterChanged={handleFilterChange}\n/>"}'
SET
  @FunctionalRequirements_5ab8fd5e = N'WHEN TO USE: Displaying lists or tables of records; Drill-down destination (bottom level of hierarchy showing detail records); Master-detail detail panel; Search results or filtered record lists; Data exploration with sorting/filtering/paging; Bulk operations requiring multi-select; Report tables; Any tabular data display including aggregated/joined data. WHEN NOT TO USE: Single record display (use SingleRecordView instead); Chart/graph visualizations (use SimpleChart or SimpleDrilldownChart); Need built-in chart-to-table drill-down (use SimpleDrilldownChart). CORE FEATURES: Universal table component for any data structure - works with single entities, joined tables, or aggregated results; Configurable columns with two modes: (1) Simple mode - string array of field names [''Name'', ''SKU'', ''Price''] uses smart defaults, (2) Advanced mode - ColumnDef objects [{field: ''Price'', header: ''Unit Price'', render: (value, record, fieldInfo) => `$$' + '{value}`, width: ''120px'', sortable: true}] for full control; Auto-detects columns from data if columns prop omitted; Smart type detection from entity metadata for alignment (numbers right-aligned) and formatting when entityName provided; Column-level and global text filtering with configurable debounce (default 300ms); Search highlighting with match count display (''Found N matching records''); Pagination with configurable page sizes and range display; Row selection modes: none (default), checkbox (multi-select), radio (single-select), row (click anywhere to select); Row click events with full record data for drill-down or navigation; Native OpenEntityRecord integration: When entityName and entityPrimaryKeys provided, clicking row opens entity record form (use for 1:1 record-to-row scenarios only, not aggregated data); Metadata-aware field formatting: dates (formatDate to locale with hour/minute), booleans (Yes/No text), value lists (colored Tag components), money fields (Intl.NumberFormat $USD), decimals/floats (2 decimal places with commas), integers (commas); Value list coloring system: statusColorMap with 50+ predefined colors for active/pending/complete/failed/error states, 50 fallback colors for other values, consistent color assignment per value; Long text field handling with 5 modes: truncate (substring+''...''), expand (click to toggle ''show more/less'' with expandedCells state tracking), tooltip (Ant Tooltip on hover), wrap (word-break normal), none (default); Auto-fit columns to container width OR fixed widths with horizontal scroll (autoFitColumns prop); Column widths intelligently set based on SQL type and field length: GUIDs (280px), long text varchar(max) or >200 chars (400px), dates (160px), bit (80px), int (100px), money (130px); Loading state (spinner) when data===null; Empty state with contextual message ''No {entityName||''records''} found''; Filter match highlighting using Typography.Text mark prop; Debounced filter input prevents thrashing on large datasets; CSS overrides disable Ant Design animations to prevent render loop detection; Responsive design adapts to any container. COLUMN SYSTEM: Accepts Array<string | ColumnDef>; ColumnDef structure: {field: string (required), header: string (optional, uses DisplayName from metadata or field name), render: function(value, record, fieldInfo) => ReactNode (optional custom renderer), width: string|number (optional like ''200px'' or 200), sortable: boolean (optional, overrides global sorting prop)}; Backward compatible - existing code using string arrays continues to work; If columns omitted, auto-discovers from first data record filtering out ''key'' field. ROW SELECTION: selectionMode=''none''|''checkbox''|''radio''|''row''; Manages selectedRowKeys state; Fires selectionChanged event with full selected record objects. ROW CLICK BEHAVIOR: onRowClick handler takes priority over OpenEntityRecord (custom handler overrides default); If onRowClick NOT provided and entityName+entityPrimaryKeys ARE provided: row clicks trigger OpenEntityRecord callback as default behavior; Extracts primary key values from record using entityPrimaryKeys field names; Passes entityName and key-value pairs to callbacks.OpenEntityRecord; Only fires if all primary key fields have values; Logs warning if keys missing. EVENTS: rowClick(record: object) - fired on row click (overrides default OpenEntityRecord behavior); selectionChanged(selectedRows: Array<object>) - fired when selection changes; pageChanged(pageNumber: number 0-based, visibleRows: Array<object>) - fired on page change; sortChanged(sortState: {column: string, direction: ''asc''|''desc''}) - fired when sort changes; filterChanged(filterValue: string, matchingData: Array<object>) - fired when filter text changes with all matching records. FILTERING: Searches specified filterFields array or all display fields if not provided; Debounces input by filterDebounceTime (default 300ms); Highlights matching text across all visible cells; Shows ''Found N matching records'' count below search box.'
SET
  @TechnicalDesign_5ab8fd5e = N'Wraps Ant Design Table component with MJ-aware enhancements. React hooks: useState for filterText (raw input), debouncedFilter (processed search term), selectedRowKeys (selection state), currentPage (pagination), sortConfig (sort state), entityInfo (entity metadata), expandedCells (object tracking which long text cells are expanded with keys like $' + '{recordKey}_$' + '{fieldName}). Loads entity metadata from utilities.md.Entities on mount if entityName provided for field type detection (Type, Length, DisplayName, ValueListType, EntityFieldValues); If no entityName, sets entityInfo to null and uses basic type detection. Library unwrapping: Uses unwrapLibraryComponents(antd, ''Table'', ''Input'', ''Space'', ''Typography'', ''Tag'', ''Tooltip'') to handle various Ant Design package formats (ESM/CJS/UMD). Column normalization (useMemo): Accepts columns as strings OR ColumnDef objects; If not provided, auto-discovers from Object.keys(data[0]) excluding ''key'' field; Normalizes all to standard format {field, header, render, width, sortable}; Handles invalid configs gracefully with console.warn. Column building (useMemo): Maps normalized columns to Ant Design column configs; Determines alignment based on SQL type (int/decimal/float/numeric/money/bit → right-aligned, others left); Sets column widths based on SQL type and field length (only when autoFitColumns=false): uniqueidentifier→280px, long text (text type OR varchar(max) with length=-1 OR varchar with length>200)→400px, varchar/char based on length (≤50→100-200px, ≤100→250px, ≤200→300px, else→350px), date/time→160px, bit→80px, int→100px, decimal/numeric→120px, money→130px; When autoFitColumns=true, no widths set so table auto-sizes; Uses colDef.width if provided to override calculated width; Sets ellipsis=false (handle manually for click expansion); Creates sorter function if sortable (string localeCompare, number subtraction, null handling); render function priority: (1) Custom colDef.render if provided, (2) Metadata-driven default formatting. Field rendering logic: If custom render, call it with (value, record, fieldInfo); If value is null, return ''-''; Create unique cellKey $' + '{record.key/ID/id}_$' + '{fieldName} for expandedCells tracking; Format based on field type: date/time (formatDate with locale, hour/minute), bit (Yes/No), value lists (Tag component with getValueColor), money (Intl.NumberFormat USD currency), decimal/float (toLocaleString 2 decimals), int (toLocaleString); Long text handling: Check if field is long text (SQL types: text, varchar/char with length=-1 for (max), varchar/char with length>200); If length > longTextThreshold AND not value list: truncate mode (substring+''...''), expand mode (click toggles expandedCells[cellKey], shows ''show more/less'' links), tooltip mode (Ant Tooltip wrapper), wrap mode (whiteSpace:normal, wordBreak:break-word), none (default); Apply filter highlighting: If filtering enabled and debouncedFilter exists, find match index in string, split and wrap match in Typography.Text mark component. Value list coloring: statusColorMap object with 50+ colors (active→#389e0d green, pending→#d48806 orange, failed→#a8071a red, processing→#096dd9 blue, etc.); fallbackColors array with 50 distinct colors (purple #722ed1, magenta #c41d7f, teal #08979c, indigo #1d39c4, vermillion #fa541c, brown #614700, etc.); getValueColor function: Build colorAssignments Map, iterate possibleValues from entity metadata, assign statusColorMap color if exists else next fallbackColor, ensures consistent colors for all values; For unknown values, check statusColorMap first then use hash-based fallback index. Filter debouncing (useEffect): setTimeout with filterDebounceTime (300ms), updates debouncedFilter; Cleanup clears timer. Filtered data (useMemo): If !filtering or !debouncedFilter, return original data; Determine searchFields (filterFields prop or all displayFields); Filter rows where any searchField value includes searchTerm (case-insensitive); Handle null/undefined rows gracefully. Filter change effect (useEffect): Fires onFilterChanged event with {filterValue: debouncedFilter, matchingData: filteredData}. Row selection config: If selectionMode !== ''none'', create rowSelection object with type (''radio'' or ''checkbox''), selectedRowKeys state, onChange handler (updates state, fires onSelectionChanged); For ''row'' mode, adds onSelect handler. Pagination config: If paging=true, create pagination object with current (currentPage), pageSize, total (filteredData.length), showSizeChanger=false, showTotal formatter, onChange handler (updates currentPage, fires onPageChanged with 0-based page number and visible rows slice). Sort change handler: handleTableChange extracts sorter from Ant Table onChange, updates sortConfig state, fires onSortChanged with {sortState: {column: sorter.field, direction: sorter.order === ''ascend'' ? ''asc'' : ''desc''}}. Row click handler: handleRowClick function with priority logic: (1) If onRowClick provided, call it with record and return early (custom handler overrides default), (2) Else if entityName AND entityPrimaryKeys AND callbacks.OpenEntityRecord exist: maps entityPrimaryKeys array to key-value pairs [{FieldName, Value}] by extracting values from record, checks all key values exist (!=null), if yes calls callbacks.OpenEntityRecord(entityName, keyValues), else logs warning with entity/keys/record; Wrapped in try/catch logging errors. Data with keys (useMemo): Maps filteredData to add unique key prop (uses existing key/ID/id or falls back to index); Required for Ant Design Table row selection. CSS style injection: Disables all Ant Design animations (animation: none, transition: none, animation-duration: 0s, transition-duration: 0s) on .data-grid-component and descendants to prevent render loop detection. Render output: Wrapper div with .data-grid-component class; If filtering=true: Search input (Ant Input.Search) with value/onChange/allowClear/onClear, placeholder shows filterFields or ''all fields'', full width style, fix for search button alignment; Text showing ''Found N matching records'' if debouncedFilter exists; Ant Table component with columns (tableColumns), dataSource (dataWithKeys), rowSelection (if enabled), pagination (if enabled), onChange (handleTableChange for sort), scroll (x: ''max-content'' only if autoFitColumns=false for horizontal scrolling), loading (true only when data===null), locale with emptyText (uses entityName if provided else ''records''), size=''middle'', onRow returns object with onClick handler (calls handleRowClick) and cursor style (pointer if onRowClick OR (entityName AND entityPrimaryKeys AND OpenEntityRecord exist) else default).'
SET
  @FunctionalRequirementsVector_5ab8fd5e = N'[-0.024239445105195045,0.05668306723237038,-0.012541864067316055,-0.08287568390369415,-0.0011740252375602722,0.019749760627746582,0.024065250530838966,0.04324532672762871,-0.08781616389751434,0.0028361768927425146,-0.04126900061964989,0.04978594556450844,0.0008872683974914253,0.12953920662403107,-0.006411924492567778,-0.009673677384853363,-0.016066253185272217,0.02407527156174183,-0.020641904324293137,-0.0005989582277834415,0.04054248332977295,-0.04388837143778801,-0.015514417551457882,-0.025410909205675125,-0.03707490488886833,-0.006360822357237339,-0.06919936090707779,0.016309911385178566,-0.018248846754431725,-0.07281110435724258,0.017288191244006157,0.058911148458719254,-0.021785015240311623,-0.012978938408195972,0.000002673700009836466,-0.03160887956619263,-0.0778912901878357,-0.001193260308355093,-0.03248140588402748,0.020504562184214592,0.009141985327005386,-0.05555209890007973,0.0590314082801342,-0.012406803667545319,-0.011135568842291832,-0.07861337065696716,-0.00817627739161253,0.09879589080810547,0.012971357442438602,-0.05290492996573448,0.03231321647763252,-0.04224814474582672,0.013268808834254742,-0.005996150895953178,-0.003286265768110752,0.03907417505979538,-0.007647272665053606,0.04793725907802582,0.061641626060009,0.011794120073318481,-0.02156437747180462,-0.019308803603053093,0.011810352094471455,-0.06298576295375824,0.032997459173202515,0.02789624035358429,0.012306571938097477,0.0016097823390737176,0.03159762918949127,0.04102109372615814,0.09182513505220413,-0.03882405906915665,0.014976348727941513,-0.023359648883342743,-0.028846101835370064,-0.09575503319501877,-0.008018147200345993,0.0036992148961871862,0.01183792483061552,0.02178116701543331,-0.014096195809543133,0.008046207018196583,-0.026104526594281197,-0.011333818547427654,-0.015159022994339466,0.009363668970763683,-0.0034723873250186443,-0.051293808966875076,-0.018163688480854034,-0.028232118114829063,0.05026869475841522,0.0038405798841267824,-0.013273212127387524,0.00990865658968687,-0.06827245652675629,-0.005293042398989201,0.024324554949998856,-0.12026511132717133,0.0404231958091259,-0.00347442040219903,0.0363459549844265,0.05828922986984253,0.03184114024043083,0.02363574504852295,0.06968243420124054,-0.021188583225011826,-0.010222164914011955,0.007348411250859499,0.0019805843476206064,0.001624928554520011,0.011826902627944946,0.006462740246206522,-0.021305924281477928,0.04838138073682785,-0.012574365362524986,0.023194175213575363,-0.014588193036615849,-0.057505905628204346,-0.022686557844281197,0.03021308034658432,0.06252990663051605,0.02680784836411476,0.020124195143580437,0.005487916525453329,0.02690795622766018,-0.018766669556498528,-0.03299015015363693,-0.05228376388549805,0.02122756652534008,-0.027210619300603867,-0.03837078437209129,-0.02181716449558735,0.027836507186293602,-0.011937195435166359,0.014542394317686558,0.029854722321033478,0.017231060191988945,0.03172500431537628,-0.029611654579639435,-0.0027103011962026358,-0.012169189751148224,0.026310643181204796,-0.031597014516592026,0.051048532128334045,0.01663164794445038,-0.008444336242973804,-0.0440809465944767,0.027415458112955093,0.022006569430232048,0.00841011106967926,0.0013050846755504608,-0.03233031556010246,0.00746986223384738,0.01435692235827446,0.005778821650892496,-0.010631517507135868,0.03147686645388603,0.01742399111390114,-0.014148835092782974,0.0006016293191350996,-0.001965777948498726,-0.004667710047215223,0.035077087581157684,-0.0031737566459923983,-0.0033624747302383184,-0.008950185030698776,-0.0682423785328865,0.024656418710947037,0.014515451155602932,-0.01430563721805811,0.002865190850570798,-0.06912913173437119,-0.0007574438932351768,-0.0036898134276270866,0.04355273023247719,-0.06711997836828232,0.08059080690145493,-0.0423179566860199,-0.007736181374639273,0.004938527010381222,0.06655601412057877,-0.09862332046031952,0.035414837300777435,0.009233532473444939,0.08327706158161163,-0.040559858083724976,-0.005360542330890894,-0.0026141353882849216,-0.003280944423750043,0.0019591350574046373,-0.009740662761032581,0.010064822621643543,-0.04220820218324661,0.04276119917631149,-0.021334687247872353,-0.0012441009748727083,0.003548549022525549,-0.016258059069514275,0.036067619919776917,0.014627844095230103,-0.04387228190898895,-0.005604641977697611,0.016724638640880585,0.013726596720516682,-0.007526188623160124,-0.0029686777852475643,-0.03532271087169647,-0.023095328360795975,-0.02651298977434635,0.0070750657469034195,-0.007444965187460184,-0.028313471004366875,-0.009962822310626507,0.012049408629536629,-0.0023917420767247677,0.04446462541818619,0.06383560597896576,0.0013219657121226192,-0.027336817234754562,-0.004322817083448172,-0.03244252875447273,-0.059637803584337234,0.013594678603112698,0.014659235253930092,0.11958698183298111,0.015589791350066662,0.03942917659878731,0.004095437005162239,0.01897614262998104,0.02200167253613472,-0.005039739888161421,-0.018517879769206047,0.006914075464010239,0.03556070476770401,0.03317618742585182,0.014753523282706738,0.015416783280670643,0.11799553036689758,-0.03470133990049362,0.0630890429019928,-0.002207818441092968,-0.06072170287370682,-0.02497495338320732,-0.02499321848154068,-0.028531692922115326,-0.019553303718566895,-0.07230988889932632,0.0005184819456189871,-0.0029108033049851656,-0.0408744215965271,0.03908136859536171,0.006167236249893904,0.05015812814235687,-0.01295531541109085,-0.01258176565170288,-0.008778604678809643,-0.051141709089279175,0.04692520573735237,-0.06041645258665085,0.05741991475224495,0.004112695809453726,-0.015590868890285492,-0.013083131052553654,-0.04978557676076889,0.024286435917019844,-0.0414678119122982,0.08494522422552109,-0.04119609668850899,-0.009510822594165802,-0.008293380960822105,0.018655242398381233,0.05123002827167511,0.010878312401473522,-0.012727780267596245,-0.022026244550943375,0.023883871734142303,0.007012747693806887,0.03678492084145546,0.0005471844924613833,-0.0024963899049907923,-0.017231708392500877,0.0062597705982625484,-0.023595409467816353,0.026478178799152374,-0.00408378429710865,0.0060522654093801975,-0.018645375967025757,-0.018351314589381218,0.030774759128689766,-0.036021046340465546,0.03034779243171215,0.010268068872392178,0.04657003656029701,-0.01639413833618164,-0.03065594658255577,0.006012496072798967,0.01178231555968523,0.057734712958335876,-0.046388156712055206,0.013728272169828415,-0.011076894588768482,-0.0004145501006860286,-0.014271845109760761,-0.0006985956570133567,0.019239328801631927,0.09293414652347565,0.03074607253074646,0.03009592555463314,0.036879103630781174,0.0964612364768982,-0.017444869503378868,0.013800189830362797,0.024466175585985184,-0.05292147397994995,0.029727578163146973,-0.0069552259519696236,0.006014809012413025,0.06251553446054459,-0.011259757913649082,0.07997656613588333,0.01839670166373253,0.008981841616332531,-0.011789343319833279,0.011134333908557892,-0.022901857271790504,0.02256632037460804,-0.04151979088783264,-0.043356139212846756,-0.008285239338874817,0.014021611772477627,0.0010823901975527406,-0.04171941429376602,0.007300631143152714,0.02818150632083416,0.04554609954357147,0.02768866717815399,-0.00018698610074352473,0.06371860206127167,-0.009621852077543736,-0.024131378158926964,-0.020730551332235336,-0.012014786712825298,-0.0029061860404908657,0.007620162796229124,-0.009778836742043495,-0.008032088167965412,0.03437579423189163,0.0279152262955904,-0.07360751926898956,0.055250756442546844,0.026636064052581787,0.046425960958004,0.012064202688634396,-0.01125209778547287,0.04827003926038742,0.036916740238666534,-0.05450225993990898,0.013719583861529827,-0.04928809031844139,-0.005778810009360313,0.024177681654691696,0.0041784681379795074,-0.02071359008550644,0.011563672684133053,0.0006910061347298324,0.01839800365269184,0.03844256326556206,0.01826203428208828,-0.004101500380784273,-0.01981538161635399,-0.06719551235437393,-0.026663899421691895,-0.0026766047812998295,0.023260900750756264,-0.010472427122294903,-0.038082610815763474,-0.0018821476260200143,-0.008499115705490112,0.03945252671837807,-0.011471094563603401,0.03181622177362442,-0.04347915202379227,0.08257488161325455,-0.0300703514367342,0.043109867721796036,0.0028297314420342445,-0.045378029346466064,0.006238094065338373,-0.05965271219611168,-0.022542079910635948,-0.03552171215415001,-0.05012955144047737,-0.02822480909526348,-0.014762911945581436,-0.008756784722208977,-0.029012000188231468,-0.0020944068673998117,0.03660212829709053,0.010345467366278172,0.03693697601556778,-0.02277158573269844,0.008712013252079487,-0.02080327458679676,0.023055685684084892,0.027527188882231712,-0.008176733739674091,0.10020487755537033,0.04519611597061157,0.016825655475258827,-0.02107577957212925,-0.030718594789505005,-0.005766343791037798,-0.040147434920072556,-0.045071326196193695,-0.0013237901730462909,0.009918290190398693,0.001717020059004426,-0.015491998754441738,0.01924714259803295,0.08856736868619919,0.029306979849934578,-0.014496020041406155,0.04173717275261879,-0.013199598528444767,0.012836402282118797,-0.04058131203055382,-0.041320640593767166,-0.04712430015206337,-0.013088450767099857,0.014086946845054626,-0.03228359296917915,-0.028370456770062447,0.005316953174769878,0.01267447229474783,-0.04946869611740112,0.04793435335159302,0.09012134373188019,-0.053886961191892624,0.005530675407499075,0.019727494567632675,-0.04169358313083649,0.0311238132417202,0.05126947537064552,0.0038370962720364332,-0.01640942506492138,-0.05776924267411232,-0.00510819349437952,0.04484321177005768,-0.0655093789100647,-0.038279518485069275,-0.010340740904211998,0.0019539447966963053,-0.009843157604336739,0.024838963523507118,-0.017233818769454956,-0.013110858388245106,-0.05018395557999611,0.004286580719053745,-0.0006350945914164186,0.0339081734418869,-0.020133942365646362,0.012147532775998116,-0.0465690977871418,0.00963758584111929,-0.005251416005194187,-0.11369878798723221,0.0009729301673360169,-0.0621100477874279,-0.038161780685186386,-0.06372389942407608,0.035504598170518875,-0.02630005031824112,-0.01129639707505703,-0.023538891226053238,0.0404462032020092,0.03180641308426857,0.014540417119860649,-0.00006876916449982673,0.018488774076104164,0.01750321313738823,0.02716033160686493,0.03237330541014671,0.04020245373249054,-0.0734323039650917,0.028013531118631363,0.056146834045648575,-0.04638928174972534,-0.03372606262564659,-0.0034978066105395555,0.0025950728449970484,-0.009394419379532337,0.00256089074537158,-0.01183356810361147,0.08955752104520798,0.060337528586387634,0.09419398754835129,-0.05692863464355469,0.030560504645109177,-0.03657477721571922,-0.053821828216314316,-0.02164366841316223,0.004571280442178249,-0.03518883138895035,0.028335299342870712,0.003882036777213216,0.026020247489213943,0.018776794895529747,0.04023819789290428,-0.0022033476270735264,-0.013428781181573868,0.0386381670832634,-0.020905867218971252,0.014259212650358677,0.026545237749814987,0.023678617551922798,0.01277629192918539,-0.05680291727185249,-0.016398584470152855,-0.0025206783320754766,0.003686294425278902,-0.009771514683961868,0.035124797374010086,0.010880650021135807,0.014277845621109009,0.028561927378177643,0.016270413994789124,-0.008726351894438267,-0.029957130551338196,0.01077968068420887,0.030094346031546593,0.011414263397455215,-0.037623561918735504,0.021058252081274986,-0.0048302034847438335,-0.0037558290641754866,0.1040235236287117,0.06508678942918777,-0.007029501721262932,-0.010097621940076351,-0.008535862900316715,-0.0942511036992073,0.05253175273537636,0.01312907226383686,-0.038584597408771515,-0.024751635268330574,-0.019806601107120514,-0.006750097498297691,-0.009901782497763634,0.03209519758820534,0.05769304931163788,0.011077271774411201,-0.04509744793176651,-0.05753258243203163,-0.04950927570462227,-0.022737843915820122,-7.380164957485109e-33,-0.023002000525593758,-0.020040826871991158,-0.03183095529675484,-0.01402283739298582,0.029831068590283394,-0.05292646586894989,0.018708907067775726,-0.027191326022148132,-0.024679003283381462,0.0009109696839004755,-0.03142119199037552,-0.022300144657492638,0.006019167136400938,0.027605276554822922,0.04285646229982376,-0.016986532136797905,0.010418479330837727,-0.015435250476002693,0.0034940121695399284,0.012898771092295647,-0.08551259338855743,0.04839160665869713,0.010246849618852139,-0.0429365411400795,-0.006444843020290136,0.002420866396278143,-0.019771717488765717,0.014989032410085201,-0.028665142133831978,0.021112877875566483,0.0035839544143527746,-0.06329942494630814,-0.03156642988324165,-0.0816371738910675,-0.010186287574470043,-0.05833941325545311,-0.11530984193086624,-0.005286756437271833,-0.014930525794625282,0.020127693191170692,0.05478622391819954,0.022161945700645447,0.013100879266858101,0.009422598406672478,-0.007129570469260216,-0.015404144302010536,-0.005904790014028549,-0.00006076428689993918,-0.03429742529988289,-0.0635095164179802,0.023229120299220085,0.010235445573925972,0.019218409433960915,0.06390709429979324,0.011926619336009026,0.04285884276032448,0.0385664626955986,0.008102226071059704,-0.09565643966197968,-0.0043637617491185665,0.015607359819114208,-0.06148327887058258,0.026181327179074287,0.01706509105861187,0.07076770067214966,-0.01751294732093811,0.01878448575735092,0.049637775868177414,-0.048816077411174774,0.00825229287147522,-0.033456385135650635,-0.004393312148749828,-0.005133642349392176,-0.027518117800354958,0.016672266647219658,0.02799197845160961,-0.01784263178706169,-0.009692149236798286,-0.05249696224927902,0.0033371320459991693,-0.011897147633135319,0.0414116270840168,-0.01740102656185627,0.005241404287517071,0.002966050524264574,0.008039339445531368,-0.002175193978473544,-0.02850358374416828,0.014801531098783016,0.012380332686007023,-0.019213363528251648,-0.014326916076242924,-0.06432265788316727,0.053086306899785995,-0.06945973634719849,0.0144973648712039,0.025161804631352425,0.009303970262408257,0.016673242673277855,-0.017742151394486427,0.018585918471217155,0.02729450725018978,-0.019644219428300858,-0.03675757721066475,-0.008228047750890255,0.007232823874801397,0.0046048336662352085,0.00160847173538059,-0.07802122086286545,0.030456017702817917,0.035455770790576935,-0.004068479873239994,-0.020843707025051117,-0.04566150903701782,-0.02670653536915779,-0.030333107337355614,-0.018842972815036774,-0.011386011727154255,0.060348816215991974,-0.022046931087970734,0.038263238966464996,0.0018518415745347738,0.00799964927136898,-0.008302426896989346,0.09070581942796707,0.004607907496392727,-0.03185506910085678,-0.058228086680173874,0.014289543963968754,0.028571724891662598,0.01585358940064907,0.0471842885017395,3.460312143488409e-7,0.023762540891766548,0.003885747632011771,-0.025187144055962563,0.015467495657503605,0.010294747538864613,0.039717499166727066,0.01571860909461975,-0.018704485148191452,-0.05895513296127319,-0.1015729233622551,0.033906061202287674,0.004993815440684557,0.041574880480766296,0.04110155254602432,0.003995236475020647,-0.04722234234213829,0.023424290120601654,-0.06733215600252151,-0.026193654164671898,-0.012836843729019165,0.021197926253080368,0.022404644638299942,0.006623039022088051,0.0051570674404501915,0.024219727143645287,0.02358347550034523,0.001955114072188735,-0.025941286236047745,0.04579056799411774,-0.032261818647384644,0.06239980459213257,-0.03563227504491806,-0.045681182295084,0.014957396313548088,0.009441463276743889,-0.000947866530623287,0.006355599500238895,0.006870214361697435,0.006437945645302534,0.07449578493833542,0.014611495658755302,-0.0868598222732544,-0.010922341607511044,-0.07101187855005264,0.03506491705775261,-0.02206382155418396,-0.03125535696744919,0.04538983106613159,-0.0016433551209047437,0.05218537151813507,0.030911974608898163,-0.0016193496994674206,0.009788031689822674,-0.08085011690855026,0.011120995506644249,0.02029423601925373,-0.0018867184408009052,0.03345505893230438,-0.003965251613408327,0.07380840182304382,0.01280741486698389,-0.020061561837792397,0.007092144340276718,0.0684155598282814,0.029925523325800896,-0.024008670821785927,-0.051384150981903076,4.277393435546948e-34,0.02829180844128132,-0.03395848348736763,0.035931605845689774,0.050935711711645126,0.03217241168022156,-0.02814849466085434,0.01904839463531971,-0.040163252502679825,0.027041593566536903,-0.08265163004398346,0.01010879036039114]'
SET
  @TechnicalDesignVector_5ab8fd5e = N'[-0.00249014375731349,0.037837687879800797,-0.003400480141863227,-0.0589643232524395,0.01198249589651823,-0.023772042244672775,-0.01291201263666153,0.08202426135540009,-0.021798616275191307,-0.04126317426562309,-0.020032064989209175,0.0688691958785057,0.014542840421199799,0.10324158519506454,0.02589176595211029,0.01478744950145483,-0.02165946550667286,0.0900292694568634,-0.05420750007033348,0.031739234924316406,0.0266388189047575,-0.04671976715326309,0.03348585590720177,-0.012961909174919128,0.004037118051201105,0.03380472585558891,-0.05794497951865196,-0.02338692545890808,0.0074496762827038765,-0.024492649361491203,-0.009511574171483517,0.03955219313502312,-0.02889201231300831,0.007815806195139885,0.0000029205864393588854,-0.015311907045543194,-0.06149425730109215,-0.015342149883508682,0.009868104942142963,-0.013419918715953827,0.0582205168902874,-0.011560263112187386,-0.007170559838414192,-0.001416917541064322,-0.0064547983929514885,-0.12468776851892471,-0.004299991764128208,0.05154304951429367,-0.00747295469045639,-0.010214818641543388,0.012771694920957088,-0.0474681593477726,-0.023249821737408638,0.02047693356871605,0.05671601742506027,0.01575334183871746,0.012293524108827114,-0.0325385183095932,0.07950043678283691,-0.00972763355821371,0.004573048558086157,0.01877133920788765,-0.01602739840745926,-0.052452895790338516,0.07365503162145615,0.004510454833507538,0.0033363094553351402,0.047113679349422455,0.040153685957193375,-0.007418062072247267,0.06752233952283859,-0.042655233293771744,0.012536569498479366,-0.00004561353489407338,-0.002882624277845025,-0.005284534301608801,0.0000033997089303738903,-0.005772229749709368,0.003383162198588252,0.00008434941992163658,-0.007801224943250418,-0.008620806969702244,-0.04157835990190506,-0.03037167713046074,-0.0416431650519371,0.07988736033439636,-0.015620589256286621,-0.05040910094976425,-0.04008473455905914,-0.06196239963173866,0.04995926097035408,-0.02249136008322239,-0.0037286006845533848,-0.0019782185554504395,0.008457678370177746,-0.016410665586590767,0.04659103974699974,-0.12620405852794647,0.049659449607133865,-0.10592017322778702,0.026753457263112068,0.05967079848051071,0.007343759294599295,-0.026880810037255287,0.03624223917722702,-0.009807663038372993,0.00012887224147561938,0.017754437401890755,0.020035214722156525,-0.03980417549610138,-0.021954018622636795,0.002384129213169217,0.029266448691487312,0.016224512830376625,-0.0609213188290596,0.02276001125574112,-0.026062550023198128,0.010143418796360493,-0.025672385469079018,0.0035780444741249084,0.05850488319993019,-0.027120381593704224,0.024730931967496872,-0.006496098358184099,0.0015733240870758891,-0.04107251018285751,-0.006177674047648907,-0.06661812216043472,0.01783430203795433,-0.0298149511218071,0.0008608336211182177,-0.009995696134865284,0.023684749379754066,-0.03822551667690277,0.022632544860243797,0.08731935918331146,-0.007070703897625208,-0.0015199941117316484,-0.04892675578594208,0.02321232296526432,-0.03598901256918907,0.049377258867025375,-0.01530657708644867,0.0734214335680008,0.008706919848918915,-0.0326908715069294,-0.016295023262500763,-0.011092365719377995,-0.03292940929532051,0.04141584411263466,0.010681749321520329,0.007738790474832058,0.02968084253370762,0.019812628626823425,-0.007670616265386343,0.011839251965284348,0.008141545578837395,0.013400436379015446,0.006792761385440826,0.023388231173157692,-0.0016030038241297007,0.011753221042454243,-0.0066115716472268105,-0.006898592691868544,-0.007286748383194208,-0.0018355920910835266,-0.04409212991595268,0.03076889179646969,-0.019037853926420212,0.025798367336392403,-0.0029390016570687294,-0.06876593083143234,0.025050655007362366,0.06888237595558167,0.021560298278927803,-0.033314790576696396,0.034456562250852585,0.0474751815199852,-0.005455881357192993,0.029966827481985092,0.026046328246593475,-0.05856286734342575,0.012203709222376347,0.008605950511991978,0.059992291033267975,-0.02613830752670765,0.024886272847652435,0.050715770572423935,0.007043046876788139,0.002271384932100773,0.019415955990552902,0.0003057183639612049,-0.06169948726892471,-0.008531020022928715,-0.01810501329600811,-0.004854189697653055,-0.029476597905158997,-0.06651589274406433,-0.004306175280362368,-0.031215233728289604,-0.007286300882697105,-0.035681549459695816,0.011456836946308613,0.06503687798976898,0.017584536224603653,-0.037725768983364105,-0.034056879580020905,0.007935794070363045,0.007374625187367201,-0.03024531900882721,-0.0096598444506526,-0.002467511221766472,-0.01854645647108555,0.017641156911849976,0.0011740410700440407,0.075169637799263,0.03749113529920578,-0.014663657173514366,-0.035669416189193726,0.012499146163463593,0.022914715111255646,-0.03378145769238472,0.045074064284563065,0.029364630579948425,0.1626080572605133,0.010147231630980968,0.04017702862620354,0.0018437685212120414,0.06552204489707947,-0.0006045941263437271,0.02106834203004837,-0.010044216178357601,0.02184504084289074,0.01219542883336544,0.02295195683836937,0.018364127725362778,0.03456050530076027,0.054102249443531036,-0.02716211974620819,0.013577333651483059,0.013146522454917431,-0.0007458098116330802,-0.0294641200453043,-0.0227329321205616,-0.029131200164556503,0.0002573983510956168,-0.00245417351834476,0.019365960732102394,0.028088878840208054,-0.04281064495444298,0.002755858236923814,-0.022383764386177063,0.036715488880872726,-0.014359754510223866,-0.041453514248132706,-0.040155380964279175,-0.0819263681769371,0.008079620078206062,-0.0012284730328246951,0.07939869910478592,0.03514973074197769,0.029813382774591446,0.000163767283083871,0.009150181896984577,0.033057715743780136,-0.04655563831329346,0.023829864338040352,-0.017675958573818207,0.021076658740639687,0.049813345074653625,0.013305922970175743,0.02753349207341671,0.050822965800762177,-0.02399989776313305,0.00965068954974413,-0.022754572331905365,-0.07020671665668488,-0.009828753769397736,-0.012545518577098846,-0.015346606262028217,-0.014624209143221378,0.01790100522339344,-0.012608092278242111,-0.007785466965287924,-0.017340362071990967,0.004676164593547583,-0.01779596321284771,-0.07534800469875336,0.02674728073179722,-0.014226572588086128,0.0472600981593132,0.03812794387340546,0.039013661444187164,-0.017208600416779518,-0.03480188548564911,-0.03617972508072853,-0.02399088814854622,0.0387832373380661,0.003542575752362609,-0.028692735359072685,0.008011442609131336,0.024922454729676247,-0.00017515188665129244,-0.009723667986690998,0.019074643030762672,0.08449903130531311,0.06952003389596939,0.005259154364466667,0.04016934707760811,0.014888991601765156,-0.0706920325756073,0.023388367146253586,-0.02169678546488285,-0.04774073511362076,0.059591419994831085,0.0142364501953125,0.021319184452295303,0.04745164513587952,-0.00964889395982027,0.024440107867121696,0.004508528392761946,0.0066229733638465405,0.023203935474157333,-0.019728660583496094,-0.04063790291547775,-0.0018271779408678412,0.04729536175727844,-0.021597569808363914,0.007341362070292234,0.003236625576391816,0.004851608537137508,-0.060431841760873795,0.019526755437254906,0.003890540450811386,0.03324201703071594,-0.000028159320208942518,0.009510104544460773,0.052859116345644,0.03627018257975578,-0.0046911113895475864,-0.007569117471575737,0.018235407769680023,-0.014515263959765434,0.0003613513836171478,0.007835513912141323,-0.033500008285045624,0.06945391744375229,-0.01620548404753208,-0.04540940746665001,0.022908072918653488,0.02607842907309532,0.04100097715854645,0.02760140225291252,-0.03404958173632622,0.007429074961692095,-0.0027400178369134665,-0.02445787750184536,0.013036148622632027,-0.05130288377404213,0.04208043962717056,0.032330457121133804,0.02638150565326214,0.025431176647543907,-0.09092467278242111,-0.012051059864461422,0.03570990264415741,0.014179443940520287,0.007515589706599712,-0.026024239137768745,-0.010965224355459213,-0.06758053600788116,-0.05254921317100525,0.012672747485339642,0.02333250641822815,0.002303024521097541,-0.029375962913036346,0.014356046915054321,0.019580187276005745,0.05765074864029884,-0.013762205839157104,0.0712229311466217,-0.040658313781023026,0.0245000422000885,0.02429731748998165,0.01601814478635788,-0.03234180063009262,0.018771154806017876,-0.024437783285975456,-0.06282345205545425,-0.03874439001083374,-0.021707819774746895,-0.03878175839781761,-0.019139885902404785,-0.04138018190860748,0.01529383473098278,-0.012073667719960213,0.003926668781787157,0.06659416109323502,0.022804442793130875,0.01713254302740097,-0.013334189541637897,0.026686685159802437,-0.03914952650666237,0.009821557439863682,0.025821706280112267,0.005193380638957024,0.05673426762223244,0.03710728511214256,0.06022515892982483,-0.002089220564812422,0.034163255244493484,0.0206342414021492,-0.05438593775033951,-0.0576636865735054,-0.014253433793783188,-0.053607743233442307,0.0010734167881309986,-0.04778146743774414,-0.014288652688264847,0.051194507628679276,0.037273041903972626,-0.0010777314892038703,0.06286616623401642,-0.06328430771827698,0.06634508818387985,-0.04291652515530586,-0.06340216845273972,-0.07148399949073792,-0.025385264307260513,0.018467212095856667,0.0009747169096954167,-0.006676750257611275,0.03300910070538521,-0.0003799723635893315,0.0001851341367000714,0.0037534995935857296,0.029192481189966202,-0.07525626569986343,0.0013288245536386967,-0.027913974598050117,-0.015852635726332664,0.008826103061437607,0.01916021667420864,0.01371897291392088,0.03557482361793518,-0.09416670352220535,0.0047837612219154835,0.013920127414166927,-0.04697280749678612,-0.029638003557920456,-0.00697370944544673,0.023639081045985222,-0.030919086188077927,0.007602300029247999,-0.020329637452960014,0.0017784113297238946,-0.042076580226421356,0.10459250211715698,-0.024610022082924843,0.01665457896888256,-0.00298312958329916,0.02368040196597576,-0.026151102036237717,0.006486214697360992,-0.010493816807866096,-0.14246976375579834,0.0005745372036471963,-0.049472689628601074,-0.07266189157962799,-0.024884309619665146,-0.04195313900709152,-0.00701519101858139,-0.024152761325240135,0.01912255771458149,0.014499984681606293,-0.044942647218704224,-0.004099852871149778,0.024706298485398293,-0.032377175986766815,0.005188534501940012,0.0328177772462368,-0.0024431156925857067,-0.009680084884166718,-0.04209182411432266,0.027112051844596863,0.038847025483846664,-0.07169713824987411,-0.04157262295484543,0.001968406606465578,0.021531138569116592,-0.07186701148748398,0.024778740480542183,0.0034539999905973673,0.07803963124752045,-0.02649439312517643,0.025655211880803108,0.054645638912916183,0.06430979818105698,-0.1121598482131958,-0.010901875793933868,-0.016134731471538544,-0.0058777653612196445,-0.015991559252142906,-0.05031736567616463,0.05291895195841789,0.006759921088814735,-0.050531402230262756,0.018758587539196014,0.01852562092244625,-0.04368452727794647,-0.03827090561389923,0.005591393448412418,-0.01080084778368473,0.07353384792804718,0.008588824421167374,0.06470075994729996,-0.0378105603158474,-0.04655420407652855,0.03506157547235489,0.004266670439392328,-0.010122571140527725,0.012364530935883522,0.004190470091998577,0.04362403228878975,0.0525040365755558,-0.030768033117055893,0.004574195947498083,-0.017643222585320473,-0.021858252584934235,0.021477222442626953,0.07476430386304855,-0.04422394558787346,-0.039941947907209396,-0.0344182588160038,-0.011934974230825901,0.05536729097366333,0.013339988887310028,-0.002681947546079755,-0.0018021349096670747,-0.05484125763177872,-0.0862467810511589,0.011323679238557816,-0.02389150857925415,-0.004071237985044718,-0.029808087274432182,-0.03682960197329521,0.023763254284858704,-0.017030490562319756,0.0635925754904747,0.022372694686055183,0.008548359386622906,-0.01662244088947773,0.021767091006040573,-0.006465930491685867,0.06034451350569725,-7.36532213725407e-33,-0.015391180291771889,0.03800498694181442,-0.01686602085828781,-0.04251943156123161,0.004828484728932381,-0.049665600061416626,-0.032758574932813644,-0.03986183553934097,-0.005338367540389299,-0.02781488746404648,-0.003061943221837282,-0.02032412216067314,0.0029394023586064577,-0.01938442327082157,0.026883043348789215,-0.02271515503525734,-0.01788383163511753,0.00599269475787878,0.011540358886122704,0.00925772450864315,-0.0022449635434895754,0.01186129916459322,-0.04236150532960892,0.047757118940353394,-0.010367520153522491,0.0030914079397916794,-0.02164764143526554,0.01184248086065054,-0.035240042954683304,0.005438951775431633,-0.017302153632044792,-0.03371675685048103,-0.03308114409446716,-0.05072719231247902,0.032240454107522964,-0.011728925630450249,-0.09084998071193695,0.013599644415080547,0.0018439964624121785,0.04037447273731232,0.0818670317530632,-0.019465358927845955,-0.00045818465878255665,0.022814495489001274,-0.03273428604006767,0.007013458292931318,0.00305007491260767,-0.04707137495279312,-0.017123006284236908,-0.0472208634018898,0.03506862372159958,0.026183580979704857,0.00722151156514883,0.04157659038901329,0.03845396637916565,0.003975026309490204,0.051873546093702316,0.016528740525245667,-0.019306037575006485,-0.02942366898059845,0.02669188752770424,-0.015890169888734818,0.02656255103647709,0.04909228906035423,0.08214433491230011,-0.019124772399663925,0.0528583899140358,0.04523163661360741,-0.0451098196208477,-0.0004509971186053008,-0.003740516724064946,-0.03573361784219742,-0.0021446547470986843,0.009027420543134212,0.05942124128341675,0.023134762421250343,-0.03355693444609642,0.0683751031756401,-0.04586067795753479,0.007344546262174845,-0.030092617496848106,0.03215242549777031,-0.018502913415431976,-0.010178446769714355,0.020258981734514236,0.04065853729844093,0.00939213391393423,0.011988147161900997,-0.00422655139118433,-0.00715271569788456,0.028948215767741203,-0.01587565429508686,-0.06079566478729248,0.029798243194818497,-0.031138213351368904,-0.018560241907835007,-0.02769819274544716,-0.02500566467642784,-0.013832662254571915,-0.03145648166537285,0.04761955514550209,-0.0033212716225534678,-0.02181200124323368,-0.02430090121924877,-0.017798949033021927,-0.009959764778614044,0.03331219404935837,0.006785351783037186,-0.07594896852970123,-0.0003177819889970124,0.01638297364115715,-0.01839526928961277,-0.011597885750234127,-0.036976106464862823,-0.01818009652197361,-0.012803980149328709,-0.004284391179680824,-0.022881506010890007,0.047587305307388306,0.0071092103607952595,0.0629211887717247,0.019123012199997902,0.024567555636167526,0.021907582879066467,0.04062735289335251,0.0468556173145771,-0.015201321803033352,-0.024169357493519783,0.054543204605579376,-0.043048955500125885,0.019769415259361267,0.016318628564476967,3.5541839338293357e-7,0.048510272055864334,0.005752864759415388,0.007494661025702953,-0.0941789448261261,-0.014692701399326324,0.03572620451450348,-0.036336060613393784,-0.05191943794488907,-0.07462587207555771,-0.054336290806531906,0.03694285452365875,-0.01669251173734665,0.07663758099079132,-0.018875770270824432,0.011124584823846817,-0.025532172992825508,-0.012250686064362526,-0.04965557903051376,-0.029965052381157875,0.021037789061665535,-0.02080196514725685,0.02078765630722046,-0.001165020396001637,-0.031225668266415596,0.012297636829316616,0.02898215688765049,-0.01036207564175129,-0.04147355258464813,0.05991339311003685,-0.0038149834144860506,0.01702565886080265,-0.0639108195900917,-0.061700012534856796,-0.015005345456302166,0.001582012278959155,-0.019351288676261902,0.005635183770209551,0.026682261377573013,0.024330949410796165,0.07481160014867783,0.06927801668643951,-0.07723812758922577,-0.02007438987493515,-0.018676158040761948,0.02949201688170433,0.00015713584434706718,-0.026986222714185715,0.013043748214840889,-0.033912718296051025,0.04114142805337906,-0.026938214898109436,0.0024386534933000803,-0.0227425005286932,-0.034303195774555206,0.003668380668386817,-0.033025290817022324,-0.004678132478147745,0.01582525484263897,-0.0008602997404523194,0.05767607316374779,-0.03283135965466499,-0.011888527311384678,-0.005107036791741848,0.040162503719329834,0.050493936985731125,0.02164936438202858,-0.0429513081908226,4.332967686046956e-34,0.02258230559527874,-0.013791192322969437,0.02065359055995941,0.031569018959999084,0.014080192893743515,-0.04273639991879463,0.051949914544820786,-0.023978998884558678,0.03685081750154495,-0.05830955132842064,-0.037588831037282944]'
SET
  @HasCustomProps_5ab8fd5e = 1
SET
  @HasCustomEvents_5ab8fd5e = 1
SET
  @RequiresData_5ab8fd5e = 1
SET
  @DependencyCount_5ab8fd5e = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_5ab8fd5e = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_5ab8fd5e = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_5ab8fd5e = 1
SET
  @ID_5ab8fd5e = 'DB1253D8-5B43-4FB1-880D-908EE2E5B37F'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_5ab8fd5e,
  @Name = @Name_5ab8fd5e,
  @Version = @Version_5ab8fd5e,
  @VersionSequence = @VersionSequence_5ab8fd5e,
  @Title = @Title_5ab8fd5e,
  @Description = @Description_5ab8fd5e,
  @Type = @Type_5ab8fd5e,
  @Status = @Status_5ab8fd5e,
  @DeveloperName = @DeveloperName_5ab8fd5e,
  @DeveloperEmail = @DeveloperEmail_5ab8fd5e,
  @DeveloperOrganization = @DeveloperOrganization_5ab8fd5e,
  @SourceRegistryID = @SourceRegistryID_5ab8fd5e,
  @ReplicatedAt = @ReplicatedAt_5ab8fd5e,
  @LastSyncedAt = @LastSyncedAt_5ab8fd5e,
  @Specification = @Specification_5ab8fd5e,
  @FunctionalRequirements = @FunctionalRequirements_5ab8fd5e,
  @TechnicalDesign = @TechnicalDesign_5ab8fd5e,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_5ab8fd5e,
  @TechnicalDesignVector = @TechnicalDesignVector_5ab8fd5e,
  @HasCustomProps = @HasCustomProps_5ab8fd5e,
  @HasCustomEvents = @HasCustomEvents_5ab8fd5e,
  @RequiresData = @RequiresData_5ab8fd5e,
  @DependencyCount = @DependencyCount_5ab8fd5e,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_5ab8fd5e,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_5ab8fd5e,
  @HasRequiredCustomProps = @HasRequiredCustomProps_5ab8fd5e,
  @ID = @ID_5ab8fd5e;

-- Save MJ: Components (core SP call only)
DECLARE @ID_673d7502 UNIQUEIDENTIFIER,
@Namespace_673d7502 NVARCHAR(MAX),
@Name_673d7502 NVARCHAR(500),
@Version_673d7502 NVARCHAR(50),
@VersionSequence_673d7502 INT,
@Title_673d7502 NVARCHAR(1000),
@Description_673d7502 NVARCHAR(MAX),
@Type_673d7502 NVARCHAR(255),
@Status_673d7502 NVARCHAR(50),
@DeveloperName_673d7502 NVARCHAR(255),
@DeveloperEmail_673d7502 NVARCHAR(255),
@DeveloperOrganization_673d7502 NVARCHAR(255),
@SourceRegistryID_673d7502 UNIQUEIDENTIFIER,
@ReplicatedAt_673d7502 DATETIMEOFFSET,
@LastSyncedAt_673d7502 DATETIMEOFFSET,
@Specification_673d7502 NVARCHAR(MAX),
@FunctionalRequirements_673d7502 NVARCHAR(MAX),
@TechnicalDesign_673d7502 NVARCHAR(MAX),
@FunctionalRequirementsVector_673d7502 NVARCHAR(MAX),
@TechnicalDesignVector_673d7502 NVARCHAR(MAX),
@HasCustomProps_673d7502 BIT,
@HasCustomEvents_673d7502 BIT,
@RequiresData_673d7502 BIT,
@DependencyCount_673d7502 INT,
@TechnicalDesignVectorEmbeddingModelID_673d7502 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_673d7502 NVARCHAR(MAX),
@HasRequiredCustomProps_673d7502 BIT
SET
  @ID_673d7502 = 'BE1FED28-72D1-4F2E-8FAB-77747639732B'
SET
  @Namespace_673d7502 = N'Generic/UI/Table'
SET
  @Name_673d7502 = N'EntityDataGrid'
SET
  @Version_673d7502 = N'1.0.0'
SET
  @VersionSequence_673d7502 = 1
SET
  @Title_673d7502 = N'Entity Data Grid'
SET
  @Description_673d7502 = N'Entity-aware data grid that automatically loads records via RunView with adaptive caching. Perfect for drill-down targets showing detail records from aggregated charts/queries. Implements smart caching: loads all data if totalRecords <= maxCachedRows (instant client-side sort/filter), otherwise uses paginated server-side loading. Unlike DataGrid which accepts arbitrary data via props, EntityDataGrid manages its own data loading from MemberJunction entities. Use when you need ''click to see actual records'' functionality without manual RunView calls.'
SET
  @Type_673d7502 = N'Table'
SET
  @Status_673d7502 = N'Published'
SET
  @Specification_673d7502 = N'{"name":"EntityDataGrid","title":"Entity Data Grid","description":"Entity-aware data grid that automatically loads records via RunView with adaptive caching. Perfect for drill-down targets showing detail records from aggregated charts/queries. Implements smart caching: loads all data if totalRecords <= maxCachedRows (instant client-side sort/filter), otherwise uses paginated server-side loading. Unlike DataGrid which accepts arbitrary data via props, EntityDataGrid manages its own data loading from MemberJunction entities. Use when you need ''click to see actual records'' functionality without manual RunView calls.","type":"table","location":"embedded","functionalRequirements":"WHEN TO USE: Drill-down destination from aggregated charts showing detail entity records; Browse large entity datasets with automatic pagination; Load and display filtered entity records (e.g., ''show all invoices for this member''); Master-detail patterns where detail panel shows entity records. WHEN NOT TO USE: Display custom/aggregated/joined data that isn''t direct entity records (use DataGrid); Single record display (use SingleRecordView); Pre-loaded data passed via props (use DataGrid). ADAPTIVE CACHING MODES: FULL CACHE MODE (totalRecords <= maxCachedRows): Loads all entity records upfront into memory; Client-side sorting and filtering (instant, no server calls); Pagination slices cached array (no RunView on page change); Perfect for drilldown scenarios (filtered datasets usually small); User sees ''All X records loaded'' indicator. PARTIAL CACHE MODE (totalRecords > maxCachedRows): Loads first maxCachedRows records initially; Shows warning banner: ''Showing first 1,000 of 15,000 records''; Server-side sorting (new RunView with OrderBy parameter); Server-side filtering warns user to use extraFilter prop; Pagination triggers new RunView with Skip/MaxRows; Caches visited pages to avoid re-fetching. CACHE STRATEGY: Initial load fetches maxCachedRows rows (default 1000); If RowCount <= maxCachedRows: Enter full cache mode, cache all data; If RowCount > maxCachedRows: Enter partial cache mode, cache pages as visited; Page cache: Map<pageNumber, pageData> for partial mode; Clear all caches when entityName, extraFilter, or orderBy change; Smart cache eviction in partial mode (keep last 10 pages, LRU). CORE FEATURES: Automatic entity record loading via utilities.rv.RunView; Adaptive caching with full/partial modes; Built-in pagination with configurable page size (default 20 rows per page); Smart sort/filter (client-side in full mode, server-side in partial mode); Warning banners when viewing partial results; Page cache for instant back/forward navigation; Accepts entityName (required), extraFilter (optional SQL WHERE clause), fields (optional field names); Supports all DataGrid features: sorting, filtering, selection, row click, OpenEntityRecord; Metadata-aware formatting inherited from DataGrid; Empty state with contextual message; Refresh capability to reload and clear cache. SORTING BEHAVIOR: Full cache mode: Client-side instant sorting of all cached records; Partial cache mode: Server-side sorting (new RunView with OrderBy, clears cache); DataGrid enableSorting prop controls column sort UI; orderBy prop sets initial/default sort order. FILTERING BEHAVIOR: extraFilter prop: Always server-side (RunView ExtraFilter parameter), affects all modes; DataGrid text filter (enableFiltering=true): Full cache mode filters cached records instantly; Partial cache mode shows warning: ''Text filtering searches loaded records only. Use extraFilter for database-level filtering''; filterDebounceTime prevents excessive re-renders. PAGINATION STRATEGY: Full cache mode: Pure client-side array slicing, no server calls; Partial cache mode: RunView with Skip/MaxRows on page change, caches result; Page size changes reset to page 1; Pagination shows ''Page X of Y'' or ''Page X'' if total unknown. DATA LOADING: Uses utilities.rv.RunView with ResultType=''entity_object''; Builds ExtraFilter from extraFilter prop; OrderBy defaults to primary key if not specified; Initial load: MaxRows=maxCachedRows to determine cache mode; Handles RunView errors gracefully with retry option. INTEGRATION WITH DATAGRID: EntityDataGrid wraps DataGrid and passes loaded data; All DataGrid props supported (enableSorting, enableFiltering, selection, etc.); DataGrid handles UI rendering, EntityDataGrid handles data loading and caching; entityName and entityPrimaryKeys passed for OpenEntityRecord; fields prop maps to DataGrid columns; Events bubble up from DataGrid. ERROR HANDLING: Network errors show ''Unable to load data. [Retry]'' message; Invalid filters show error with filter details; Permission errors show ''You do not have access to this entity''; Empty results show ''No {entityName} found'' or ''No {entityName} match your filters''; RunView.Success=false shows ErrorMessage with retry. USER EXPERIENCE INDICATORS: Loading spinner on initial load; Subtle loading overlay on pagination in partial mode; Cache mode indicator: ''All X records loaded'' or ''Showing first X of Y records''; Warning banner in partial mode with suggestion to refine extraFilter; Text filter warning in partial mode; Refresh button clears cache and reloads.","technicalDesign":"React functional component with adaptive caching logic. STATE MANAGEMENT: data (Array<object> | null): Current page records for display; allDataCache (Array<object> | null): All records in full cache mode; pageCache (Map<number, Array<object>>): Cached pages in partial cache mode; cacheMode (''full'' | ''partial'' | ''loading''): Current cache strategy; loading (boolean): Data fetch in progress; error (string | null): Error message if load failed; currentPage (number, 1-based): Current pagination page; currentPageSize (number): Records per page; totalRecords (number | null): Total record count from RowCount; entityInfo (object): Entity metadata from utilities.md; currentOrderBy (string): Active sort order (tracks server vs client sort); refreshTrigger (number): Increment to force reload. INITIAL LOAD LOGIC: useEffect triggers on entityName, extraFilter, refreshTrigger; Calls RunView with MaxRows=maxCachedRows, Skip=0; On success: Check result.RowCount vs maxCachedRows; If RowCount <= maxCachedRows OR RowCount is null: setCacheMode(''full''), setAllDataCache(result.Results), setData(result.Results.slice(0, pageSize)); If RowCount > maxCachedRows: setCacheMode(''partial''), setPageCache(Map with page 1), setData(first page slice); Store totalRecords from RowCount; On failure: Set error, clear caches. FULL CACHE MODE BEHAVIOR: All data stored in allDataCache; Pagination: Slice allDataCache without server calls; Sorting: Client-side array.sort(), update data slice; Text filtering: Client-side array.filter(), update data slice; No loading states on pagination/sort/filter (instant). PARTIAL CACHE MODE BEHAVIOR: pageCache stores Map<pageNum, data[]>; Pagination: Check if pageCache.has(pageNum), if yes use cache, if no fetch via RunView; Sorting: Clear caches, set orderBy, trigger new initial load; Text filtering: Show warning banner, filter visible data only (doesn''t refetch); Loading overlay shows during page fetches; Smart eviction: Keep last 10 pages in cache (LRU strategy). CACHE INVALIDATION: Clear allDataCache and pageCache when: entityName changes, extraFilter changes, orderBy changes (in partial mode), refreshTrigger increments; Reset to page 1 and cacheMode=''loading''. SORT HANDLING: If cacheMode=''full'': sortClientSide() - sorts allDataCache, updates data slice; If cacheMode=''partial'': sortServerSide() - clears caches, sets orderBy state, triggers useEffect reload; DataGrid onSortChanged event triggers sort handler. FILTER HANDLING: extraFilter prop change: Always clears cache and reloads from server; DataGrid text filter (onFilterChanged event): If cacheMode=''full'': filters allDataCache, shows filtered results; If cacheMode=''partial'': filters current page data, shows warning banner. PAGE NAVIGATION: handlePageChange(newPage): Validates bounds; If cacheMode=''full'': slices allDataCache at new offset, instant; If cacheMode=''partial'': checks pageCache.has(newPage), if hit uses cache (instant), if miss fetches via RunView (loading state); Updates currentPage state. ENTITY METADATA: useEffect on entityName loads entity from utilities.md.Entities; Extracts primary key fields for default orderBy; Auto-detects fields if not provided (first 15 non-system fields); Stores in entityInfo state. PAGINATION CALCULATION: totalPages = totalRecords && pageSize ? Math.ceil(totalRecords / pageSize) : null; hasPrevious = currentPage > 1; hasNext: In full mode checks allDataCache.length, in partial mode checks currentPage < totalPages; startRecord, endRecord calculated for display. RENDER LOGIC: If error: Error UI with retry button; If loading && data===null: Full loading spinner; If success: Warning banner (if partial mode), DataGrid component with current data, Custom pagination controls below grid, Cache mode indicator, Loading overlay (if fetching page in partial mode). PROPS TO DATAGRID: data prop (current page records), entityName, entityPrimaryKeys (auto-detected), columns=fields prop (auto-detected if omitted), sorting=false (we handle sorting), paging=false (we handle pagination), filtering=enableFiltering, selectionMode, autoFitColumns, onRowClick, onSelectionChanged, onFilterChanged (triggers our filter logic), Pass through utilities, styles, components, callbacks. EVENT FIRING: onPageChanged: Fires after page change completes; onDataLoaded: Fires after successful data load; onLoadError: Fires on errors; onCacheModeChanged: Fires when switching between full/partial (optional). PERFORMANCE OPTIMIZATIONS: useMemo for tableColumns, paginationInfo, autoDetectedFields; useCallback for handlers to prevent re-renders; Debounce text filter input (300ms default); AbortController to cancel in-flight requests; LRU cache eviction in partial mode.","dataRequirements":{"mode":"views","description":"Component performs RunView internally with adaptive caching. Initial load fetches maxCachedRows to determine cache mode. Does NOT accept data via props."},"properties":[{"name":"entityName","type":"string","description":"REQUIRED. Name of the MemberJunction entity to load records from. Must match entity name in metadata (e.g., ''Invoices'', ''Members'', ''CRM: Contacts'').","required":true,"exampleValue":"Invoices"},{"name":"extraFilter","type":"string","description":"Optional SQL WHERE clause to filter records (without ''WHERE'' keyword). Always applied server-side via RunView ExtraFilter parameter. Supports full SQL syntax: comparison operators, AND/OR logic, IN clauses, date functions, etc. Clearing cache and reloading data when changed. Examples: \"Status=''Active''\", \"InvoiceDate >= ''2024-01-01'' AND Total > 1000\", \"MemberID IN (SELECT ID FROM Members WHERE MembershipType=''Gold'')\"","required":false,"exampleValue":"Status=''Active'' AND InvoiceDate >= ''2024-01-01''"},{"name":"fields","type":"Array<string | object>","description":"Optional array of field definitions (same as DataGrid columns prop). Can be simple strings (field names) or ColumnDef objects with {field, header, render, width, sortable}. If omitted, auto-detects from entity metadata (first 15 non-system fields). Renamed from ''columns'' to align with MemberJunction terminology (EntityField). ColumnDef structure: {field: string (required), header: string (optional custom header), render: function(value, record, fieldInfo) (optional custom renderer), width: string|number (e.g. ''200px'' or 200), sortable: boolean (optional per-column override)}. See exampleUsage for advanced styling examples.","required":false,"exampleValue":"[\"Name\", {field: \"Price\", header: \"Unit Price\", width: \"120px\", render: (v) => `$$' + '{v.toFixed(2)}`}, \"Status\"]"},{"name":"orderBy","type":"string","description":"Optional SQL ORDER BY clause (without ''ORDER BY'' keyword). Defaults to primary key field(s) if not specified. In full cache mode: only sets initial sort (client-side sorting available). In partial cache mode: changing this triggers new RunView and clears cache. Examples: \"InvoiceDate DESC\", \"LastName ASC, FirstName ASC\", \"Total DESC\"","required":false,"exampleValue":"InvoiceDate DESC"},{"name":"pageSize","type":"number","description":"Number of records to display per page. Must be one of: 10, 20, 50, 100, 200. In full cache mode: slices cached array. In partial cache mode: MaxRows parameter for RunView.","required":false,"defaultValue":20,"exampleValue":"50"},{"name":"initialPage","type":"number","description":"Initial page number to load (1-based). Useful for deep linking or restoring user state.","required":false,"defaultValue":1},{"name":"maxCachedRows","type":"number","description":"Maximum number of rows to cache. Determines cache mode: if totalRecords <= maxCachedRows, enters full cache mode (loads all data upfront for instant sort/filter). If totalRecords > maxCachedRows, enters partial cache mode (server-side sort/filter, paginated loading). Higher values improve UX for larger datasets but use more memory. Typical drilldown scenarios have < 1000 rows.","required":false,"defaultValue":1000,"exampleValue":"2000"},{"name":"enablePageCache","type":"boolean","description":"Enable page caching in partial cache mode. When true, visited pages are cached for instant back/forward navigation. Cache cleared when entityName, extraFilter, or orderBy change. Keeps last 10 pages in memory (LRU eviction).","required":false,"defaultValue":true},{"name":"showPageSizeChanger","type":"boolean","description":"Show page size selector dropdown in pagination controls","required":false,"defaultValue":true},{"name":"enableSorting","type":"boolean","description":"Enable column sorting in DataGrid UI. In full cache mode: client-side instant sorting. In partial cache mode: triggers new RunView with OrderBy and clears cache. Different from ''orderBy'' prop which sets the initial/default sort order.","required":false,"defaultValue":true},{"name":"enableFiltering","type":"boolean","description":"Enable DataGrid''s text search filter UI. In full cache mode: instantly filters cached records. In partial cache mode: filters visible page data only and shows warning to use ''extraFilter'' prop for database-level filtering. Different from ''extraFilter'' prop which is always server-side SQL filtering.","required":false,"defaultValue":true},{"name":"selectionMode","type":"''none'' | ''checkbox'' | ''radio'' | ''row''","description":"Row selection mode (passed to DataGrid)","required":false,"defaultValue":"none"},{"name":"autoFitColumns","type":"boolean","description":"When true, columns auto-fit to container width. When false, uses fixed widths with horizontal scrolling (passed to DataGrid)","required":false,"defaultValue":true},{"name":"showRefreshButton","type":"boolean","description":"Show refresh button to manually reload and clear all caches","required":false,"defaultValue":false},{"name":"showCacheModeIndicator","type":"boolean","description":"Show indicator badge displaying current cache mode (''All X records loaded'' or ''Showing first X of Y records''). Useful for developers debugging performance or power users who want to understand data loading behavior. Most end users don''t need to see this.","required":false,"defaultValue":false},{"name":"warnOnPartialResults","type":"boolean","description":"Show warning banner in partial cache mode suggesting user refine extraFilter for better results. Useful when users might be confused about not seeing all data, but adaptive caching is designed to work transparently without requiring user awareness.","required":false,"defaultValue":false}],"events":[{"name":"pageChanged","description":"Fired when page or page size changes, after data is loaded","parameters":[{"name":"pageInfo","type":"{ pageNumber: number, pageSize: number, totalRecords: number | null, totalPages: number | null, visibleRows: Array<object>, cacheMode: ''full'' | ''partial'', cacheHit: boolean }","description":"Complete pagination state including cache information"}]},{"name":"dataLoaded","description":"Fired when data successfully loads from RunView","parameters":[{"name":"loadResult","type":"{ data: Array<object>, totalRecords: number | null, pageNumber: number, pageSize: number, cacheMode: ''full'' | ''partial'' }","description":"Loaded data and cache mode metadata"}]},{"name":"loadError","description":"Fired when RunView fails or network error occurs","parameters":[{"name":"errorInfo","type":"{ error: string, extraFilter?: string, entityName: string }","description":"Error details for logging or user notification"}]},{"name":"cacheModeChanged","description":"Fired when cache mode switches between full and partial","parameters":[{"name":"cacheModeInfo","type":"{ cacheMode: ''full'' | ''partial'', totalRecords: number, maxCachedRows: number }","description":"Cache mode transition information"}]},{"name":"rowClick","description":"Bubbled from DataGrid - fired when row clicked","parameters":[{"name":"event","type":"{ record: object, cancel: boolean }","description":"Row click event with cancelable pattern"}]},{"name":"selectionChanged","description":"Bubbled from DataGrid - fired when selection changes","parameters":[{"name":"selectionInfo","type":"{ selectedRows: Array<object> }","description":"Array of selected records"}]}],"dependencies":[{"name":"DataGrid","namespace":"Generic/UI/Table","location":"registry","description":"Wrapped data grid component for rendering"}],"code":"function EntityDataGrid({\n  entityName,\n  extraFilter,\n  fields,\n  orderBy,\n  pageSize = 20,\n  initialPage = 1,\n  maxCachedRows = 1000,\n  enablePageCache = true,\n  showPageSizeChanger = true,\n  enableSorting = true,\n  enableFiltering = true,\n  selectionMode = ''none'',\n  autoFitColumns = true,\n  showRefreshButton = false,\n  showCacheModeIndicator = false,\n  warnOnPartialResults = false,\n  onPageChanged,\n  onDataLoaded,\n  onLoadError,\n  onCacheModeChanged,\n  onRowClick,\n  onSelectionChanged,\n  onSortChanged,\n  onFilterChanged,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // Get DataGrid component from registry\n  const { DataGrid } = components;\n\n  // State management for adaptive caching\n  const [data, setData] = React.useState(null); // Current page data for display\n  const [allDataCache, setAllDataCache] = React.useState(null); // Full cache mode: all records\n  const [originalDataOrder, setOriginalDataOrder] = React.useState(null); // Full cache mode: preserve original order\n  const [pageCache, setPageCache] = React.useState(new Map()); // Partial cache mode: Map<pageNum, data>\n  const [cacheMode, setCacheMode] = React.useState(''loading''); // ''full'' | ''partial'' | ''loading''\n  const [loading, setLoading] = React.useState(false);\n  const [sortLoading, setSortLoading] = React.useState(false); // Separate loading state for sorts\n  const [error, setError] = React.useState(null);\n  const [currentPage, setCurrentPage] = React.useState(initialPage);\n  const [currentPageSize, setCurrentPageSize] = React.useState(pageSize);\n  const [totalRecords, setTotalRecords] = React.useState(null);\n  const [entityInfo, setEntityInfo] = React.useState(null);\n  const [currentOrderBy, setCurrentOrderBy] = React.useState(orderBy || '''');\n  const [defaultOrderBy, setDefaultOrderBy] = React.useState(orderBy || ''''); // Track initial/default order\n  const [currentSortColumn, setCurrentSortColumn] = React.useState(null); // Track active sort column\n  const [currentSortDirection, setCurrentSortDirection] = React.useState(null); // Track sort direction (''asc'' | ''desc'')\n  const [currentFilter, setCurrentFilter] = React.useState(''''); // DataGrid text filter\n  const [refreshTrigger, setRefreshTrigger] = React.useState(0);\n  const [showFilterWarning, setShowFilterWarning] = React.useState(false);\n\n  // Load entity metadata\n  React.useEffect(() => {\n    if (!entityName || !utilities?.md?.Entities) {\n      setEntityInfo(null);\n      return;\n    }\n\n    const entity = utilities.md.Entities.find(e => e.Name === entityName);\n    if (entity) {\n      setEntityInfo(entity);\n    } else {\n      console.warn(`[EntityDataGrid] Entity ''$' + '{entityName}'' not found in metadata`);\n      setEntityInfo(null);\n    }\n  }, [entityName, utilities]);\n\n  // Auto-detect fields from entity metadata if not provided\n  const autoDetectedFields = React.useMemo(() => {\n    // If user provided fields, validate them\n    if (fields) {\n      if (!entityInfo?.Fields) {\n        // Can''t validate without metadata - return as-is\n        return fields;\n      }\n\n      const validFields = [];\n      const invalidFields = [];\n\n      fields.forEach(fieldDef => {\n        const fieldName = typeof fieldDef === ''string'' ? fieldDef : fieldDef.field;\n        const exists = entityInfo.Fields.some(f => f.Name === fieldName);\n\n        if (exists) {\n          validFields.push(fieldDef);\n        } else {\n          invalidFields.push(fieldName);\n        }\n      });\n\n      // Log warning for invalid fields\n      if (invalidFields.length > 0) {\n        const availableFields = entityInfo.Fields\n          .filter(f => !f.Name.startsWith(''__mj'') || [''__mj_CreatedAt'', ''__mj_UpdatedAt''].includes(f.Name))\n          .map(f => f.Name)\n          .join('', '');\n\n        console.warn(\n          `[EntityDataGrid] The following fields were not found in entity ''$' + '{entityName}'': $' + '{invalidFields.join('', '')}.\\n` +\n          `Available fields: $' + '{availableFields}`\n        );\n      }\n\n      return validFields.length > 0 ? validFields : null;\n    }\n\n    // Auto-detect fields if not provided\n    if (!entityInfo?.Fields) return null;\n\n    const detectedFields = entityInfo.Fields\n      .filter(f => {\n        if (f.Name.startsWith(''__mj'') && ![''__mj_CreatedAt'', ''__mj_UpdatedAt''].includes(f.Name)) {\n          return false;\n        }\n        if (f.Type && [''image'', ''varbinary'', ''binary''].some(t => f.Type.toLowerCase().includes(t))) {\n          return false;\n        }\n        return true;\n      })\n      .slice(0, 15)\n      .map(f => f.Name);\n\n    return detectedFields.length > 0 ? detectedFields : null;\n  }, [entityInfo, fields, entityName]);\n\n  // Extract just the field names from autoDetectedFields for filtering/searching\n  // This handles both string arrays and ColumnDef object arrays\n  const fieldNames = React.useMemo(() => {\n    if (!autoDetectedFields) return [];\n    return autoDetectedFields.map(fieldDef =>\n      typeof fieldDef === ''string'' ? fieldDef : fieldDef.field\n    );\n  }, [autoDetectedFields]);\n\n  // Auto-detect primary keys from entity metadata (always use metadata, no override)\n  const autoDetectedPrimaryKeys = React.useMemo(() => {\n    if (!entityInfo?.Fields) return [''ID'']; // Fallback to ''ID''\n\n    const pkFields = entityInfo.Fields.filter(f => f.IsPrimaryKey).map(f => f.Name);\n    return pkFields.length > 0 ? pkFields : [''ID''];\n  }, [entityInfo]);\n\n  // Transform fields into column definitions with sortable property and sortOrder state\n  // This allows us to control sorting behavior while showing sort UI\n  const columnDefinitions = React.useMemo(() => {\n    // ALWAYS use autoDetectedFields (which has been validated)\n    if (!autoDetectedFields) return null;\n\n    // Handle mixed arrays of strings and ColumnDef objects\n    return autoDetectedFields.map(fieldDef => {\n      // Check if this specific element is a ColumnDef object or string\n      if (typeof fieldDef === ''object'' && fieldDef.field) {\n        // It''s a ColumnDef object - enhance it with sortable and sortOrder\n        const columnSortable = fieldDef.sortable !== undefined ? fieldDef.sortable : enableSorting;\n\n        return {\n          ...fieldDef,\n          sortable: columnSortable,\n          sortOrder: (columnSortable && fieldDef.field === currentSortColumn)\n            ? (currentSortDirection === ''asc'' ? ''ascend'' : ''descend'')\n            : undefined\n        };\n      } else {\n        // It''s a string field name - convert to column object\n        const fieldName = fieldDef; // It''s a string\n        return {\n          field: fieldName,\n          sortable: enableSorting,\n          sortOrder: (enableSorting && fieldName === currentSortColumn)\n            ? (currentSortDirection === ''asc'' ? ''ascend'' : ''descend'')\n            : undefined\n        };\n      }\n    });\n  }, [autoDetectedFields, enableSorting, currentSortColumn, currentSortDirection]);\n\n  // Determine default orderBy if not provided\n  const effectiveOrderBy = React.useMemo(() => {\n    if (currentOrderBy) return currentOrderBy;\n    if (autoDetectedPrimaryKeys && autoDetectedPrimaryKeys.length > 0) {\n      return autoDetectedPrimaryKeys.join('', '');\n    }\n    if (entityInfo?.Fields && entityInfo.Fields.length > 0) {\n      return entityInfo.Fields[0].Name;\n    }\n    return ''ID'';\n  }, [currentOrderBy, autoDetectedPrimaryKeys, entityInfo]);\n\n  // Build searchable dataset from all cached data (full + partial modes)\n  const searchableData = React.useMemo(() => {\n    if (cacheMode === ''full'' && allDataCache) {\n      // Full cache: search all loaded records\n      return allDataCache;\n    } else if (cacheMode === ''partial'' && pageCache.size > 0) {\n      // Partial cache: search all cached pages (user has visited)\n      const cachedPages = Array.from(pageCache.values()).flat();\n\n      // Remove duplicates by primary key\n      const uniqueRecords = new Map();\n      cachedPages.forEach(record => {\n        const key = autoDetectedPrimaryKeys.map(pk => record[pk]).join(''|'');\n        uniqueRecords.set(key, record);\n      });\n\n      return Array.from(uniqueRecords.values());\n    }\n    return [];\n  }, [cacheMode, allDataCache, pageCache, autoDetectedPrimaryKeys]);\n\n  // Clear caches when key parameters change\n  React.useEffect(() => {\n    setAllDataCache(null);\n    setPageCache(new Map());\n    setCacheMode(''loading'');\n    setCurrentPage(1);\n    setShowFilterWarning(false);\n  }, [entityName, extraFilter, refreshTrigger]);\n\n  // Initial data load - determines cache mode\n  React.useEffect(() => {\n    if (!entityName || !utilities?.rv) {\n      setError(''Missing required utilities or entityName'');\n      setData([]);\n      setCacheMode(''partial'');\n      return;\n    }\n\n    const loadInitialData = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        // Set default order if not already set (for three-state sort)\n        if (!defaultOrderBy) {\n          setDefaultOrderBy(effectiveOrderBy);\n        }\n\n        // Load maxCachedRows to determine cache mode\n        const runViewParams = {\n          EntityName: entityName,\n          ExtraFilter: extraFilter || '''',\n          OrderBy: effectiveOrderBy,\n          ResultType: ''simple'', // Use ''simple'' for plain objects, not entity instances\n          MaxRows: maxCachedRows,\n          Skip: 0\n        };\n\n        const result = await utilities.rv.RunView(runViewParams);\n\n        if (result && result.Success) {\n          const loadedData = result.Results || [];\n          // Use TotalRowCount which is the total matching records (not limited by MaxRows)\n          // RowCount is just the number of rows returned in this specific result\n          const totalCount = result.TotalRowCount != null ? result.TotalRowCount : (result.RowCount != null ? result.RowCount : loadedData.length);\n\n          setTotalRecords(totalCount);\n\n          // Determine cache mode based on total records vs maxCachedRows\n          if (totalCount <= maxCachedRows) {\n            // FULL CACHE MODE: We have all the data\n            setCacheMode(''full'');\n            setAllDataCache(loadedData);\n            setOriginalDataOrder(loadedData); // Preserve original order for clear sort\n            setData(loadedData.slice(0, currentPageSize));\n            setPageCache(new Map());\n\n            if (onCacheModeChanged) {\n              onCacheModeChanged({\n                cacheMode: ''full'',\n                totalRecords: totalCount,\n                maxCachedRows: maxCachedRows\n              });\n            }\n          } else {\n            // PARTIAL CACHE MODE: More data exists on server\n            setCacheMode(''partial'');\n            setAllDataCache(null);\n\n            // Cache all loaded pages (not just the first page)\n            // We loaded maxCachedRows records, so cache them all for searching\n            if (enablePageCache) {\n              const newPageCache = new Map();\n              const totalPages = Math.ceil(loadedData.length / currentPageSize);\n\n              for (let pageNum = 1; pageNum <= totalPages; pageNum++) {\n                const startIdx = (pageNum - 1) * currentPageSize;\n                const endIdx = Math.min(startIdx + currentPageSize, loadedData.length);\n                const pageData = loadedData.slice(startIdx, endIdx);\n                newPageCache.set(pageNum, pageData);\n              }\n\n              setPageCache(newPageCache);\n            }\n\n            // Display first page\n            const firstPageData = loadedData.slice(0, currentPageSize);\n            setData(firstPageData);\n\n            if (onCacheModeChanged) {\n              onCacheModeChanged({\n                cacheMode: ''partial'',\n                totalRecords: totalCount,\n                maxCachedRows: maxCachedRows\n              });\n            }\n          }\n\n          if (onDataLoaded) {\n            onDataLoaded({\n              data: loadedData,\n              totalRecords: totalCount,\n              pageNumber: 1,\n              pageSize: currentPageSize,\n              cacheMode: totalCount <= maxCachedRows ? ''full'' : ''partial''\n            });\n          }\n        } else {\n          const errorMsg = result?.ErrorMessage || ''Failed to load data'';\n          setError(errorMsg);\n          setData([]);\n          setCacheMode(''partial'');\n\n          if (onLoadError) {\n            onLoadError({\n              error: errorMsg,\n              extraFilter: extraFilter,\n              entityName: entityName\n            });\n          }\n        }\n      } catch (err) {\n        const errorMsg = err.message || ''Network error occurred'';\n        setError(errorMsg);\n        setData([]);\n        setCacheMode(''partial'');\n\n        if (onLoadError) {\n          onLoadError({\n            error: errorMsg,\n            extraFilter: extraFilter,\n            entityName: entityName\n          });\n        }\n      } finally {\n        setLoading(false);\n        setSortLoading(false); // Clear sort loading state\n      }\n    };\n\n    loadInitialData();\n  }, [entityName, extraFilter, effectiveOrderBy, refreshTrigger, maxCachedRows, utilities]);\n\n  // Handle pagination in different cache modes\n  React.useEffect(() => {\n    // Skip if initial load hasn''t completed\n    if (cacheMode === ''loading'') return;\n\n    const loadPageData = async () => {\n      if (cacheMode === ''full'') {\n        // FULL CACHE MODE: Slice from allDataCache\n        if (!allDataCache || allDataCache.length === 0) return; // Guard: wait for cache to be populated\n\n        const startIdx = (currentPage - 1) * currentPageSize;\n        const endIdx = startIdx + currentPageSize;\n        const pageData = allDataCache.slice(startIdx, endIdx);\n        setData(pageData);\n\n        if (onPageChanged) {\n          onPageChanged({\n            pageNumber: currentPage,\n            pageSize: currentPageSize,\n            totalRecords: totalRecords,\n            totalPages: Math.ceil((totalRecords || 0) / currentPageSize),\n            visibleRows: pageData,\n            cacheMode: ''full'',\n            cacheHit: true\n          });\n        }\n      } else {\n        // PARTIAL CACHE MODE: Check cache or fetch from server\n        const cacheHit = enablePageCache && pageCache.has(currentPage);\n\n        if (cacheHit) {\n          // Use cached page\n          const cachedPage = pageCache.get(currentPage);\n          setData(cachedPage);\n\n          if (onPageChanged) {\n            onPageChanged({\n              pageNumber: currentPage,\n              pageSize: currentPageSize,\n              totalRecords: totalRecords,\n              totalPages: totalRecords ? Math.ceil(totalRecords / currentPageSize) : null,\n              visibleRows: cachedPage,\n              cacheMode: ''partial'',\n              cacheHit: true\n            });\n          }\n        } else {\n          // Fetch page from server\n          setLoading(true);\n\n          try {\n            const skipRecords = (currentPage - 1) * currentPageSize;\n            const result = await utilities.rv.RunView({\n              EntityName: entityName,\n              ExtraFilter: extraFilter || '''',\n              OrderBy: effectiveOrderBy,\n              ResultType: ''simple'', // Use ''simple'' for plain objects, not entity instances\n              MaxRows: currentPageSize,\n              Skip: skipRecords\n            });\n\n            if (result && result.Success) {\n              const pageData = result.Results || [];\n              setData(pageData);\n\n              // Cache this page (with LRU eviction if needed)\n              if (enablePageCache) {\n                const newCache = new Map(pageCache);\n                newCache.set(currentPage, pageData);\n\n                // LRU eviction: Keep only last 10 pages\n                if (newCache.size > 10) {\n                  const firstKey = newCache.keys().next().value;\n                  newCache.delete(firstKey);\n                }\n\n                setPageCache(newCache);\n              }\n\n              if (onPageChanged) {\n                onPageChanged({\n                  pageNumber: currentPage,\n                  pageSize: currentPageSize,\n                  totalRecords: totalRecords,\n                  totalPages: totalRecords ? Math.ceil(totalRecords / currentPageSize) : null,\n                  visibleRows: pageData,\n                  cacheMode: ''partial'',\n                  cacheHit: false\n                });\n              }\n            }\n          } catch (err) {\n            console.error(''[EntityDataGrid] Error loading page:'', err);\n          } finally {\n            setLoading(false);\n          }\n        }\n      }\n    };\n\n    loadPageData();\n  }, [currentPage, cacheMode]); // Intentionally minimal deps - page changes only\n\n  // Handle page change\n  const handlePageChange = (newPage) => {\n    if (newPage < 1) return;\n    const maxPage = totalRecords ? Math.ceil(totalRecords / currentPageSize) : Infinity;\n    if (newPage > maxPage) return;\n\n    setCurrentPage(newPage);\n  };\n\n  // Handle page size change\n  const handlePageSizeChange = (newSize) => {\n    setCurrentPageSize(newSize);\n    setCurrentPage(1);\n\n    // In full cache mode, just re-slice the data\n    if (cacheMode === ''full'' && allDataCache) {\n      setData(allDataCache.slice(0, newSize));\n    }\n    // In partial cache mode, clear page cache and reload\n    else if (cacheMode === ''partial'') {\n      setPageCache(new Map());\n      setRefreshTrigger(prev => prev + 1);\n    }\n  };\n\n  // Handle sorting (three-state: asc -> desc -> clear)\n  const handleSort = (sortInfo) => {\n    if (!sortInfo || !sortInfo.sortState) return;\n\n    const { column, direction } = sortInfo.sortState;\n\n    // Three-state sorting logic\n    if (direction === null) {\n      // Third click: Clear sort and return to default order\n      setCurrentSortColumn(null);\n      setCurrentSortDirection(null);\n      setCurrentOrderBy(defaultOrderBy);\n\n      if (cacheMode === ''full'' && originalDataOrder) {\n        // Full cache: Restore original order without server reload\n        setAllDataCache(originalDataOrder);\n        setData(originalDataOrder.slice(0, currentPageSize));\n        setCurrentPage(1);\n      } else {\n        // Partial mode: reload with default order from server\n        setPageCache(new Map());\n        setCurrentPage(1);\n        setRefreshTrigger(prev => prev + 1);\n      }\n    } else {\n      // First or second click: Apply sort\n      const newOrderBy = `$' + '{column} $' + '{direction === ''asc'' ? ''ASC'' : ''DESC''}`;\n\n      // Update sort state for UI tracking\n      setCurrentSortColumn(column);\n      setCurrentSortDirection(direction);\n\n      if (cacheMode === ''full'' && allDataCache) {\n        // CLIENT-SIDE SORT: Sort allDataCache and update display\n        const sorted = [...allDataCache].sort((a, b) => {\n          const valA = a[column];\n          const valB = b[column];\n\n          if (valA == null) return 1;\n          if (valB == null) return -1;\n\n          if (typeof valA === ''string'') {\n            const cmp = valA.localeCompare(valB);\n            return direction === ''asc'' ? cmp : -cmp;\n          }\n\n          return direction === ''asc'' ? valA - valB : valB - valA;\n        });\n\n        setAllDataCache(sorted);\n        const startIdx = (currentPage - 1) * currentPageSize;\n        setData(sorted.slice(startIdx, startIdx + currentPageSize));\n      } else {\n        // PARTIAL CACHE MODE: Server-side sort\n        // Show loading overlay while keeping data visible for better UX\n        setSortLoading(true);\n        setCurrentOrderBy(newOrderBy);\n        setPageCache(new Map());\n        setCurrentPage(1);\n        setRefreshTrigger(prev => prev + 1);\n      }\n    }\n\n    if (onSortChanged) {\n      onSortChanged(sortInfo);\n    }\n  };\n\n  // Handle DataGrid text filter\n  const handleFilter = (filterInfo) => {\n    const filterValue = filterInfo?.filterValue || '''';\n    setCurrentFilter(filterValue);\n\n    if (filterValue && searchableData.length > 0) {\n      // FILTER ACROSS ALL CACHED DATA (both full and partial modes)\n      const filtered = searchableData.filter(row => {\n        return fieldNames.some(fieldName => {\n          const value = row[fieldName];\n          return value != null && String(value).toLowerCase().includes(filterValue.toLowerCase());\n        });\n      });\n\n      setData(filtered.slice(0, currentPageSize));\n      setCurrentPage(1); // Reset to first page of filtered results\n\n      // Show warning in partial cache mode if not all records are cached\n      if (cacheMode === ''partial'' && totalRecords > searchableData.length) {\n        setShowFilterWarning(true);\n      } else {\n        setShowFilterWarning(false);\n      }\n    } else {\n      // No filter: restore original view for current page\n      if (cacheMode === ''full'' && allDataCache) {\n        const startIdx = (currentPage - 1) * currentPageSize;\n        const endIdx = startIdx + currentPageSize;\n        setData(allDataCache.slice(startIdx, endIdx));\n      } else if (cacheMode === ''partial'' && pageCache.has(currentPage)) {\n        setData(pageCache.get(currentPage));\n      }\n      setShowFilterWarning(false);\n    }\n\n    if (onFilterChanged) {\n      onFilterChanged(filterInfo);\n    }\n  };\n\n  // Handle refresh\n  const handleRefresh = () => {\n    setAllDataCache(null);\n    setPageCache(new Map());\n    setCurrentPage(1);\n    setShowFilterWarning(false);\n    setRefreshTrigger(prev => prev + 1);\n  };\n\n  // Calculate pagination info\n  const paginationInfo = React.useMemo(() => {\n    const totalPages = totalRecords != null && currentPageSize > 0\n      ? Math.ceil(totalRecords / currentPageSize)\n      : null;\n\n    const hasPrevious = currentPage > 1;\n    const hasNext = cacheMode === ''full''\n      ? (allDataCache && ((currentPage * currentPageSize) < allDataCache.length))\n      : (totalPages != null ? currentPage < totalPages : (data && data.length === currentPageSize));\n\n    const startRecord = totalRecords != null && totalRecords > 0\n      ? ((currentPage - 1) * currentPageSize) + 1\n      : 0;\n\n    const endRecord = cacheMode === ''full''\n      ? Math.min(currentPage * currentPageSize, allDataCache?.length || 0)\n      : (totalRecords != null\n          ? Math.min(currentPage * currentPageSize, totalRecords)\n          : (data ? ((currentPage - 1) * currentPageSize + data.length) : 0));\n\n    return {\n      totalPages,\n      hasPrevious,\n      hasNext,\n      startRecord,\n      endRecord\n    };\n  }, [currentPage, currentPageSize, totalRecords, data, cacheMode, allDataCache]);\n\n  // Render error state\n  if (error) {\n    return (\n      <div style={{\n        padding: ''24px'',\n        border: ''1px solid #ff4d4f'',\n        borderRadius: ''4px'',\n        backgroundColor: ''#fff2f0'',\n        textAlign: ''center''\n      }}>\n        <div style={{\n          fontSize: ''48px'',\n          color: ''#ff4d4f'',\n          marginBottom: ''16px''\n        }}>\n          ⚠️\n        </div>\n        <div style={{\n          fontSize: ''16px'',\n          fontWeight: 600,\n          color: ''#cf1322'',\n          marginBottom: ''8px''\n        }}>\n          Unable to Load Data\n        </div>\n        <div style={{\n          fontSize: ''14px'',\n          color: ''#595959'',\n          marginBottom: ''4px''\n        }}>\n          {error}\n        </div>\n        {extraFilter && (\n          <div style={{\n            fontSize: ''12px'',\n            color: ''#8c8c8c'',\n            marginTop: ''8px'',\n            fontFamily: ''monospace'',\n            backgroundColor: ''#fafafa'',\n            padding: ''8px'',\n            borderRadius: ''4px'',\n            display: ''inline-block''\n          }}>\n            Filter: {extraFilter}\n          </div>\n        )}\n        <div style={{ marginTop: ''16px'' }}>\n          <button\n            onClick={handleRefresh}\n            style={{\n              padding: ''8px 16px'',\n              backgroundColor: ''#1890ff'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''14px'',\n              fontWeight: 500\n            }}\n          >\n            🔄 Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Render initial loading state\n  if (cacheMode === ''loading'' || (loading && data === null)) {\n    return (\n      <div style={{\n        padding: ''60px 24px'',\n        textAlign: ''center'',\n        color: ''#595959''\n      }}>\n        <div style={{\n          fontSize: ''48px'',\n          marginBottom: ''16px'',\n          animation: ''spin 1s linear infinite''\n        }}>\n          ⏳\n        </div>\n        <div style={{ fontSize: ''16px'' }}>\n          Loading {entityName || ''records''}...\n        </div>\n        <style>{`\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  // Check for DataGrid component\n  if (!DataGrid) {\n    return (\n      <div style={{\n        padding: ''24px'',\n        border: ''1px solid #ff4d4f'',\n        borderRadius: ''4px'',\n        backgroundColor: ''#fff2f0'',\n        color: ''#cf1322'',\n        textAlign: ''center''\n      }}>\n        Error: DataGrid component not found. Please ensure DataGrid is properly registered.\n      </div>\n    );\n  }\n\n  // Render success state with DataGrid\n  return (\n    <div style={{ width: ''100%'', position: ''relative'' }}>\n      {/* Cache Mode Indicator */}\n      {showCacheModeIndicator && (\n        <div style={{\n          marginBottom: ''12px'',\n          padding: ''8px 12px'',\n          backgroundColor: cacheMode === ''full'' ? ''#f6ffed'' : ''#fff7e6'',\n          border: `1px solid $' + '{cacheMode === ''full'' ? ''#b7eb8f'' : ''#ffd591''}`,\n          borderRadius: ''4px'',\n          fontSize: ''13px'',\n          color: cacheMode === ''full'' ? ''#389e0d'' : ''#d48806'',\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center''\n        }}>\n          <span>\n            {cacheMode === ''full''\n              ? `✓ All $' + '{totalRecords?.toLocaleString() || 0} records loaded (instant sort/filter)`\n              : `Showing first $' + '{maxCachedRows.toLocaleString()} of $' + '{totalRecords?.toLocaleString() || ''?''} records`}\n          </span>\n          {showRefreshButton && (\n            <button\n              onClick={handleRefresh}\n              disabled={loading}\n              style={{\n                padding: ''4px 8px'',\n                backgroundColor: ''transparent'',\n                border: ''1px solid currentColor'',\n                borderRadius: ''3px'',\n                cursor: loading ? ''not-allowed'' : ''pointer'',\n                fontSize: ''12px'',\n                color: ''inherit''\n              }}\n            >\n              🔄 Refresh\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* Partial Results Warning */}\n      {cacheMode === ''partial'' && warnOnPartialResults && (\n        <div style={{\n          marginBottom: ''12px'',\n          padding: ''12px 16px'',\n          backgroundColor: ''#fffbe6'',\n          border: ''1px solid #ffe58f'',\n          borderRadius: ''4px'',\n          fontSize: ''14px''\n        }}>\n          <div style={{ fontWeight: 600, color: ''#d46b08'', marginBottom: ''4px'' }}>\n            ⚠️ Viewing Partial Results\n          </div>\n          <div style={{ color: ''#8c6c00'' }}>\n            Loading {totalRecords?.toLocaleString()} records in paginated mode. Sorting and text search operate on current page only. For full-dataset operations, use ''extraFilter'' to reduce total records or increase ''maxCachedRows''.\n          </div>\n        </div>\n      )}\n\n      {/* Text Filter Warning in Partial Mode */}\n      {showFilterWarning && cacheMode === ''partial'' && (\n        <div style={{\n          marginBottom: ''12px'',\n          padding: ''12px 16px'',\n          backgroundColor: ''#e6f7ff'',\n          border: ''1px solid #91d5ff'',\n          borderRadius: ''4px'',\n          fontSize: ''14px'',\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center''\n        }}>\n          <div>\n            <div style={{ fontWeight: 600, color: ''#0050b3'', marginBottom: ''4px'' }}>\n              🔍 Searching {searchableData.length.toLocaleString()} of {totalRecords?.toLocaleString()} records\n            </div>\n            <div style={{ color: ''#096dd9'' }}>\n              Text search filters cached data only. Some matches may not be visible.\n              Component designers can increase ''maxCachedRows'' or use ''extraFilter'' for complete database-level search.\n            </div>\n          </div>\n          <button\n            onClick={() => setShowFilterWarning(false)}\n            style={{\n              padding: ''4px 8px'',\n              backgroundColor: ''transparent'',\n              border: ''none'',\n              cursor: ''pointer'',\n              fontSize: ''16px'',\n              color: ''#096dd9''\n            }}\n          >\n            ✕\n          </button>\n        </div>\n      )}\n\n      {/* DataGrid with loaded data - wrapped in relative container for loading overlay */}\n      <div style={{ position: ''relative'' }}>\n        <DataGrid\n          data={data}\n          entityName={entityName}\n          entityPrimaryKeys={autoDetectedPrimaryKeys}\n          columns={columnDefinitions}\n          sorting={false} // Disable DataGrid''s internal sorting - we handle it via onSortChanged\n          paging={false} // We handle pagination ourselves\n          filtering={enableFiltering}\n          selectionMode={selectionMode}\n          autoFitColumns={autoFitColumns}\n          onRowClick={onRowClick}\n          onSelectionChanged={onSelectionChanged}\n          onSortChanged={enableSorting ? handleSort : undefined}\n          onFilterChanged={handleFilter}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n          savedUserSettings={savedUserSettings}\n          onSaveUserSettings={onSaveUserSettings}\n        />\n\n        {/* Subtle loading overlay during sorts - keeps data visible */}\n        {sortLoading && (\n          <div style={{\n            position: ''absolute'',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: ''rgba(255, 255, 255, 0.7)'',\n            display: ''flex'',\n            justifyContent: ''center'',\n            alignItems: ''center'',\n            zIndex: 10\n          }}>\n            <div style={{\n              padding: ''16px 24px'',\n              backgroundColor: ''#fff'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              boxShadow: ''0 2px 8px rgba(0,0,0,0.15)'',\n              display: ''flex'',\n              alignItems: ''center'',\n              gap: ''12px''\n            }}>\n              <div style={{\n                width: ''20px'',\n                height: ''20px'',\n                border: ''3px solid #f0f0f0'',\n                borderTop: ''3px solid #1890ff'',\n                borderRadius: ''50%'',\n                animation: ''spin 1s linear infinite''\n              }} />\n              <span style={{ fontSize: ''14px'', color: ''#595959'' }}>Sorting...</span>\n            </div>\n          </div>\n        )}\n\n        {/* Add keyframe animation for spinner */}\n        <style>{`\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `}</style>\n      </div>\n\n      {/* Custom pagination controls */}\n      <div style={{\n        marginTop: ''16px'',\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center'',\n        padding: ''12px 0'',\n        borderTop: ''1px solid #f0f0f0''\n      }}>\n        {/* Pagination info */}\n        <div style={{ fontSize: ''14px'', color: ''#595959'' }}>\n          {totalRecords != null ? (\n            <span>\n              {paginationInfo.startRecord}-{paginationInfo.endRecord} of {totalRecords.toLocaleString()} {entityName || ''records''}\n            </span>\n          ) : (\n            <span>\n              Showing {data?.length || 0} {entityName || ''records''}\n            </span>\n          )}\n        </div>\n\n        {/* Pagination controls */}\n        <div style={{ display: ''flex'', alignItems: ''center'', gap: ''12px'' }}>\n          {/* Page size selector */}\n          {showPageSizeChanger && (\n            <div style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'' }}>\n              <span style={{ fontSize: ''14px'', color: ''#595959'' }}>Show:</span>\n              <select\n                value={currentPageSize}\n                onChange={(e) => handlePageSizeChange(Number(e.target.value))}\n                style={{\n                  padding: ''4px 8px'',\n                  border: ''1px solid #d9d9d9'',\n                  borderRadius: ''4px'',\n                  fontSize: ''14px'',\n                  cursor: ''pointer''\n                }}\n              >\n                <option value={10}>10</option>\n                <option value={20}>20</option>\n                <option value={50}>50</option>\n                <option value={100}>100</option>\n                <option value={200}>200</option>\n              </select>\n            </div>\n          )}\n\n          {/* Previous button */}\n          <button\n            onClick={() => handlePageChange(currentPage - 1)}\n            disabled={!paginationInfo.hasPrevious || loading}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: paginationInfo.hasPrevious && !loading ? ''#fff'' : ''#f5f5f5'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              cursor: paginationInfo.hasPrevious && !loading ? ''pointer'' : ''not-allowed'',\n              fontSize: ''14px'',\n              color: paginationInfo.hasPrevious && !loading ? ''#262626'' : ''#bfbfbf''\n            }}\n          >\n            ← Previous\n          </button>\n\n          {/* Page indicator */}\n          <span style={{ fontSize: ''14px'', color: ''#262626'', fontWeight: 500 }}>\n            Page {currentPage}\n            {paginationInfo.totalPages != null && (\n              <span style={{ color: ''#8c8c8c'' }}> of {paginationInfo.totalPages}</span>\n            )}\n          </span>\n\n          {/* Next button */}\n          <button\n            onClick={() => handlePageChange(currentPage + 1)}\n            disabled={!paginationInfo.hasNext || loading}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: paginationInfo.hasNext && !loading ? ''#fff'' : ''#f5f5f5'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              cursor: paginationInfo.hasNext && !loading ? ''pointer'' : ''not-allowed'',\n              fontSize: ''14px'',\n              color: paginationInfo.hasNext && !loading ? ''#262626'' : ''#bfbfbf''\n            }}\n          >\n            Next →\n          </button>\n        </div>\n      </div>\n\n      {/* Loading overlay for page changes in partial mode */}\n      {loading && data !== null && cacheMode === ''partial'' && (\n        <div style={{\n          position: ''absolute'',\n          top: showCacheModeIndicator ? ''60px'' : ''0'',\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: ''rgba(255, 255, 255, 0.85)'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 10,\n          borderRadius: ''4px''\n        }}>\n          <div style={{\n            padding: ''16px 32px'',\n            backgroundColor: ''#fff'',\n            border: ''1px solid #d9d9d9'',\n            borderRadius: ''4px'',\n            boxShadow: ''0 2px 8px rgba(0,0,0,0.1)'',\n            fontSize: ''14px'',\n            color: ''#595959''\n          }}>\n            ⏳ Loading page {currentPage}...\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage - auto-detects fields, enters full cache mode for small datasets\n<EntityDataGrid\n  entityName=\"Invoices\"\n  extraFilter=\"Status=''Unpaid''\"\n  pageSize={50}\n/>\n// If < 1000 unpaid invoices: Full cache mode, instant sort/filter\n// If > 1000 unpaid invoices: Partial cache mode, shows warning banner\n\n// ADVANCED COLUMN STYLING EXAMPLES:\n\n// Example 1: Custom Renderers with Formatting\n<EntityDataGrid\n  entityName=\"Products\"\n  fields={[\n    ''Name'',\n    ''SKU'',\n    {\n      field: ''Price'',\n      header: ''Unit Price'',\n      width: ''120px'',\n      render: (value, record) => {\n        const formatted = `$$' + '{value.toFixed(2)}`;\n        return record.OnSale ? \n          <span style={{color: ''#cf1322'', fontWeight: ''bold''}}>{formatted} SALE!</span> :\n          formatted;\n      }\n    },\n    {\n      field: ''Stock'',\n      header: ''In Stock'',\n      width: ''100px'',\n      render: (value) => {\n        const color = value > 10 ? ''#389e0d'' : value > 0 ? ''#d48806'' : ''#cf1322'';\n        return <span style={{color, fontWeight: 600}}>{value}</span>;\n      }\n    },\n    ''Status''\n  ]}\n/>\n\n// Example 2: Calculated Columns\n<EntityDataGrid\n  entityName=\"Orders\"\n  fields={[\n    ''OrderNumber'',\n    ''SubTotal'',\n    ''Tax'',\n    {\n      field: ''SubTotal'', // Use existing field for data\n      header: ''Total (with Tax)'',\n      width: ''140px'',\n      render: (value, record) => {\n        const total = value + (record.Tax || 0);\n        return `$$' + '{total.toFixed(2)}`;\n      }\n    },\n    ''Status''\n  ]}\n/>\n\n// Example 3: Conditional Styling & Icons\n<EntityDataGrid\n  entityName=\"Tasks\"\n  fields={[\n    {\n      field: ''Priority'',\n      width: ''100px'',\n      render: (value) => {\n        const styles = {\n          High: { color: ''#cf1322'', icon: ''🔴'' },\n          Medium: { color: ''#d48806'', icon: ''🟡'' },\n          Low: { color: ''#389e0d'', icon: ''🟢'' }\n        };\n        const style = styles[value] || {};\n        return <span style={{color: style.color}}>{style.icon} {value}</span>;\n      }\n    },\n    ''Title'',\n    ''AssignedTo'',\n    {\n      field: ''DueDate'',\n      header: ''Due'',\n      width: ''120px'',\n      render: (value) => {\n        const date = new Date(value);\n        const isOverdue = date < new Date();\n        return <span style={{color: isOverdue ? ''#cf1322'' : ''#262626''}}>\n          {date.toLocaleDateString()}\n        </span>;\n      }\n    }\n  ]}\n/>\n\n// Example 4: Links and Actions\n<EntityDataGrid\n  entityName=\"Customers\"\n  fields={[\n    ''Name'',\n    {\n      field: ''Email'',\n      width: ''200px'',\n      render: (value) => <a href={`mailto:$' + '{value}`}>{value}</a>\n    },\n    {\n      field: ''Phone'',\n      width: ''150px'',\n      render: (value) => <a href={`tel:$' + '{value}`}>{value}</a>\n    },\n    ''City'',\n    ''Status''\n  ]}\n/>\n\n// Example 5: Mix Simple and Advanced\n<EntityDataGrid\n  entityName=\"Invoices\"\n  fields={[\n    ''InvoiceNumber'',  // Simple string\n    ''CustomerName'',   // Simple string\n    { field: ''Total'', header: ''Amount'', width: ''120px'' },  // Custom header & width\n    ''Status'',  // Simple string (gets colored tag from value list)\n    {\n      field: ''DueDate'',\n      width: ''140px'',\n      sortable: false,  // Disable sorting for this column only\n      render: (value, record) => {\n        const daysUntil = Math.ceil((new Date(value) - new Date()) / (1000 * 60 * 60 * 24));\n        if (daysUntil < 0) return <span style={{color: ''#cf1322''}}>OVERDUE</span>;\n        if (daysUntil < 7) return <span style={{color: ''#d48806''}}>Due soon ({daysUntil}d)</span>;\n        return new Date(value).toLocaleDateString();\n      }\n    }\n  ]}\n/>\n\n// Drill-down from chart - typically small filtered datasets (full cache mode)\nconst handleMemberClick = (segment) => {\n  setSelectedMemberId(segment.records[0]?.MemberID);\n};\n\n<EntityDataGrid\n  entityName=\"Invoices\"\n  extraFilter={`MemberID=''$' + '{selectedMemberId}''`}\n  fields={[''InvoiceNumber'', ''InvoiceDate'', ''Total'', ''Status'', ''DueDate'']}\n  orderBy=\"InvoiceDate DESC\"\n  pageSize={20}\n  entityPrimaryKeys={[''ID'']}\n  onRowClick={handleInvoiceClick}\n  onCacheModeChanged={(info) => console.log(''Cache mode:'', info.cacheMode)}\n/>\n// Single member''s invoices usually < 1000 → Full cache, instant UX\n\n// Large dataset with higher cache limit\n<EntityDataGrid\n  entityName=\"CRM: Contacts\"\n  extraFilter=\"Status=''Active'' AND LastContactDate >= DATEADD(day, -30, GETDATE())\"\n  fields={[\n    ''FirstName'',\n    ''LastName'',\n    { field: ''Email'', header: ''Email Address'', width: ''250px'' },\n    ''LastContactDate'',\n    ''Status''\n  ]}\n  orderBy=\"LastContactDate DESC\"\n  pageSize={100}\n  maxCachedRows={2000}\n  enablePageCache={true}\n  showCacheModeIndicator={true}\n  warnOnPartialResults={true}\n  enableSorting={true}\n  enableFiltering={true}\n  showRefreshButton={true}\n  onPageChanged={(info) => {\n    console.log(`Page $' + '{info.pageNumber}, Cache hit: $' + '{info.cacheHit}`);\n  }}\n/>\n// If 1500 contacts: Enters full cache mode (< 2000), instant sort/filter\n// If 5000 contacts: Enters partial cache mode, server-side sort, page caching\n\n// Drilldown pattern with SimpleChart + EntityDataGrid\nconst [selectedCategory, setSelectedCategory] = React.useState(null);\n\n<div>\n  <SimpleChart\n    data={aggregatedData}  // Pre-aggregated from RunQuery\n    groupBy=\"Category\"\n    valueField=\"TotalRevenue\"\n    chartType=\"bar\"\n    title=\"Revenue by Category\"\n    onDataPointClick={(segment) => setSelectedCategory(segment.label)}\n  />\n  \n  {selectedCategory && (\n    <div style={{ marginTop: 20 }}>\n      <h3>Products in {selectedCategory}</h3>\n      <EntityDataGrid\n        entityName=\"Products\"\n        extraFilter={`Category=''$' + '{selectedCategory}''`}\n        fields={[''ProductName'', ''UnitPrice'', ''StockQuantity'', ''Status'']}\n        orderBy=\"ProductName ASC\"\n        pageSize={50}\n        maxCachedRows={500}\n      />\n      {/* Category drill-down usually has < 500 products → Full cache mode */}\n    </div>\n  )}\n</div>\n\n// CACHE MODE BEHAVIOR EXAMPLES:\n\n// Scenario 1: Small filtered dataset (100 invoices for one account)\n// - Initial load: Fetches all 100 rows\n// - Cache mode: ''full''\n// - User sorts by Total: Instant client-side sort\n// - User pages: Instant array slicing\n// - User filters text: Instant client-side filter\n// - Result: Perfect instant UX\n\n// Scenario 2: Large dataset (50,000 total contacts)\n// - Initial load: Fetches first 1000 rows\n// - Cache mode: ''partial''\n// - Shows banner: ''Showing first 1,000 of 50,000 records. Refine your filter for better results.''\n// - User sorts by LastName: Triggers new RunView with OrderBy, clears cache\n// - User pages to page 2: Fetches page 2 (rows 21-40), caches it\n// - User pages back to page 1: Instant (cache hit)\n// - User text filters: Filters visible 20 rows, shows warning about using extraFilter\n// - Result: Transparent UX with guidance"}'
SET
  @FunctionalRequirements_673d7502 = N'WHEN TO USE: Drill-down destination from aggregated charts showing detail entity records; Browse large entity datasets with automatic pagination; Load and display filtered entity records (e.g., ''show all invoices for this member''); Master-detail patterns where detail panel shows entity records. WHEN NOT TO USE: Display custom/aggregated/joined data that isn''t direct entity records (use DataGrid); Single record display (use SingleRecordView); Pre-loaded data passed via props (use DataGrid). ADAPTIVE CACHING MODES: FULL CACHE MODE (totalRecords <= maxCachedRows): Loads all entity records upfront into memory; Client-side sorting and filtering (instant, no server calls); Pagination slices cached array (no RunView on page change); Perfect for drilldown scenarios (filtered datasets usually small); User sees ''All X records loaded'' indicator. PARTIAL CACHE MODE (totalRecords > maxCachedRows): Loads first maxCachedRows records initially; Shows warning banner: ''Showing first 1,000 of 15,000 records''; Server-side sorting (new RunView with OrderBy parameter); Server-side filtering warns user to use extraFilter prop; Pagination triggers new RunView with Skip/MaxRows; Caches visited pages to avoid re-fetching. CACHE STRATEGY: Initial load fetches maxCachedRows rows (default 1000); If RowCount <= maxCachedRows: Enter full cache mode, cache all data; If RowCount > maxCachedRows: Enter partial cache mode, cache pages as visited; Page cache: Map<pageNumber, pageData> for partial mode; Clear all caches when entityName, extraFilter, or orderBy change; Smart cache eviction in partial mode (keep last 10 pages, LRU). CORE FEATURES: Automatic entity record loading via utilities.rv.RunView; Adaptive caching with full/partial modes; Built-in pagination with configurable page size (default 20 rows per page); Smart sort/filter (client-side in full mode, server-side in partial mode); Warning banners when viewing partial results; Page cache for instant back/forward navigation; Accepts entityName (required), extraFilter (optional SQL WHERE clause), fields (optional field names); Supports all DataGrid features: sorting, filtering, selection, row click, OpenEntityRecord; Metadata-aware formatting inherited from DataGrid; Empty state with contextual message; Refresh capability to reload and clear cache. SORTING BEHAVIOR: Full cache mode: Client-side instant sorting of all cached records; Partial cache mode: Server-side sorting (new RunView with OrderBy, clears cache); DataGrid enableSorting prop controls column sort UI; orderBy prop sets initial/default sort order. FILTERING BEHAVIOR: extraFilter prop: Always server-side (RunView ExtraFilter parameter), affects all modes; DataGrid text filter (enableFiltering=true): Full cache mode filters cached records instantly; Partial cache mode shows warning: ''Text filtering searches loaded records only. Use extraFilter for database-level filtering''; filterDebounceTime prevents excessive re-renders. PAGINATION STRATEGY: Full cache mode: Pure client-side array slicing, no server calls; Partial cache mode: RunView with Skip/MaxRows on page change, caches result; Page size changes reset to page 1; Pagination shows ''Page X of Y'' or ''Page X'' if total unknown. DATA LOADING: Uses utilities.rv.RunView with ResultType=''entity_object''; Builds ExtraFilter from extraFilter prop; OrderBy defaults to primary key if not specified; Initial load: MaxRows=maxCachedRows to determine cache mode; Handles RunView errors gracefully with retry option. INTEGRATION WITH DATAGRID: EntityDataGrid wraps DataGrid and passes loaded data; All DataGrid props supported (enableSorting, enableFiltering, selection, etc.); DataGrid handles UI rendering, EntityDataGrid handles data loading and caching; entityName and entityPrimaryKeys passed for OpenEntityRecord; fields prop maps to DataGrid columns; Events bubble up from DataGrid. ERROR HANDLING: Network errors show ''Unable to load data. [Retry]'' message; Invalid filters show error with filter details; Permission errors show ''You do not have access to this entity''; Empty results show ''No {entityName} found'' or ''No {entityName} match your filters''; RunView.Success=false shows ErrorMessage with retry. USER EXPERIENCE INDICATORS: Loading spinner on initial load; Subtle loading overlay on pagination in partial mode; Cache mode indicator: ''All X records loaded'' or ''Showing first X of Y records''; Warning banner in partial mode with suggestion to refine extraFilter; Text filter warning in partial mode; Refresh button clears cache and reloads.'
SET
  @TechnicalDesign_673d7502 = N'React functional component with adaptive caching logic. STATE MANAGEMENT: data (Array<object> | null): Current page records for display; allDataCache (Array<object> | null): All records in full cache mode; pageCache (Map<number, Array<object>>): Cached pages in partial cache mode; cacheMode (''full'' | ''partial'' | ''loading''): Current cache strategy; loading (boolean): Data fetch in progress; error (string | null): Error message if load failed; currentPage (number, 1-based): Current pagination page; currentPageSize (number): Records per page; totalRecords (number | null): Total record count from RowCount; entityInfo (object): Entity metadata from utilities.md; currentOrderBy (string): Active sort order (tracks server vs client sort); refreshTrigger (number): Increment to force reload. INITIAL LOAD LOGIC: useEffect triggers on entityName, extraFilter, refreshTrigger; Calls RunView with MaxRows=maxCachedRows, Skip=0; On success: Check result.RowCount vs maxCachedRows; If RowCount <= maxCachedRows OR RowCount is null: setCacheMode(''full''), setAllDataCache(result.Results), setData(result.Results.slice(0, pageSize)); If RowCount > maxCachedRows: setCacheMode(''partial''), setPageCache(Map with page 1), setData(first page slice); Store totalRecords from RowCount; On failure: Set error, clear caches. FULL CACHE MODE BEHAVIOR: All data stored in allDataCache; Pagination: Slice allDataCache without server calls; Sorting: Client-side array.sort(), update data slice; Text filtering: Client-side array.filter(), update data slice; No loading states on pagination/sort/filter (instant). PARTIAL CACHE MODE BEHAVIOR: pageCache stores Map<pageNum, data[]>; Pagination: Check if pageCache.has(pageNum), if yes use cache, if no fetch via RunView; Sorting: Clear caches, set orderBy, trigger new initial load; Text filtering: Show warning banner, filter visible data only (doesn''t refetch); Loading overlay shows during page fetches; Smart eviction: Keep last 10 pages in cache (LRU strategy). CACHE INVALIDATION: Clear allDataCache and pageCache when: entityName changes, extraFilter changes, orderBy changes (in partial mode), refreshTrigger increments; Reset to page 1 and cacheMode=''loading''. SORT HANDLING: If cacheMode=''full'': sortClientSide() - sorts allDataCache, updates data slice; If cacheMode=''partial'': sortServerSide() - clears caches, sets orderBy state, triggers useEffect reload; DataGrid onSortChanged event triggers sort handler. FILTER HANDLING: extraFilter prop change: Always clears cache and reloads from server; DataGrid text filter (onFilterChanged event): If cacheMode=''full'': filters allDataCache, shows filtered results; If cacheMode=''partial'': filters current page data, shows warning banner. PAGE NAVIGATION: handlePageChange(newPage): Validates bounds; If cacheMode=''full'': slices allDataCache at new offset, instant; If cacheMode=''partial'': checks pageCache.has(newPage), if hit uses cache (instant), if miss fetches via RunView (loading state); Updates currentPage state. ENTITY METADATA: useEffect on entityName loads entity from utilities.md.Entities; Extracts primary key fields for default orderBy; Auto-detects fields if not provided (first 15 non-system fields); Stores in entityInfo state. PAGINATION CALCULATION: totalPages = totalRecords && pageSize ? Math.ceil(totalRecords / pageSize) : null; hasPrevious = currentPage > 1; hasNext: In full mode checks allDataCache.length, in partial mode checks currentPage < totalPages; startRecord, endRecord calculated for display. RENDER LOGIC: If error: Error UI with retry button; If loading && data===null: Full loading spinner; If success: Warning banner (if partial mode), DataGrid component with current data, Custom pagination controls below grid, Cache mode indicator, Loading overlay (if fetching page in partial mode). PROPS TO DATAGRID: data prop (current page records), entityName, entityPrimaryKeys (auto-detected), columns=fields prop (auto-detected if omitted), sorting=false (we handle sorting), paging=false (we handle pagination), filtering=enableFiltering, selectionMode, autoFitColumns, onRowClick, onSelectionChanged, onFilterChanged (triggers our filter logic), Pass through utilities, styles, components, callbacks. EVENT FIRING: onPageChanged: Fires after page change completes; onDataLoaded: Fires after successful data load; onLoadError: Fires on errors; onCacheModeChanged: Fires when switching between full/partial (optional). PERFORMANCE OPTIMIZATIONS: useMemo for tableColumns, paginationInfo, autoDetectedFields; useCallback for handlers to prevent re-renders; Debounce text filter input (300ms default); AbortController to cancel in-flight requests; LRU cache eviction in partial mode.'
SET
  @FunctionalRequirementsVector_673d7502 = N'[-0.00330849620513618,0.05010607838630676,0.007041038945317268,-0.045371562242507935,0.004913849290460348,0.034893739968538284,-0.014544602483510971,0.04598433896899223,0.006093170493841171,0.004784761928021908,-0.017208371311426163,0.004094856325536966,-0.014242000877857208,0.022309796884655952,0.02885749563574791,0.02380705624818802,-0.015438123606145382,0.0389876663684845,0.00867946445941925,-0.030561069026589394,0.03437976539134979,-0.05048764869570732,0.02575243078172207,-0.04531438648700714,-0.02138560637831688,0.005816285964101553,-0.06468687206506729,0.07453566044569016,0.03700893744826317,-0.08833187073469162,0.018384607508778572,0.030947402119636536,-0.013358009979128838,-0.017172716557979584,0.00000256954717769986,0.0017557061510160565,-0.06756462901830673,0.01132961269468069,-0.0770641341805458,0.05028030648827553,0.02006031759083271,-0.02914181537926197,0.013082104735076427,-0.016978899016976357,0.00900065153837204,-0.06563736498355865,-0.02001054584980011,0.029661517590284348,0.014946693554520607,-0.002689254703000188,0.010264626704156399,-0.051919955760240555,-0.047160807996988297,-0.0009846687316894531,-0.00548917893320322,0.005228450056165457,0.03844526782631874,0.019071847200393677,0.04153144359588623,-0.03427749127149582,-0.040370356291532516,-0.004105329979211092,0.02480774186551571,-0.008906278759241104,0.019710490480065346,0.022878777235746384,0.0377851240336895,0.01142028160393238,0.03097532130777836,-0.004263328853994608,0.08319669216871262,-0.051063355058431625,0.00719293812289834,-0.055311642587184906,-0.05415274202823639,-0.02551061473786831,-0.0011346986284479499,-0.03075823374092579,-0.012633001431822777,0.02358773723244667,-0.055702757090330124,-0.007501551881432533,-0.00031574186868965626,-0.011818001046776772,-0.043431952595710754,-0.04417268931865692,0.0038274743128567934,-0.048807062208652496,-0.015141220763325691,0.003915801644325256,0.12452023476362228,-0.016308166086673737,0.020669225603342056,0.012892428785562515,-0.016128037124872208,0.02115485817193985,0.04289517179131508,-0.030480150133371353,0.07580916583538055,0.005178641993552446,0.044788166880607605,0.005840260535478592,0.05726177617907524,0.0044982582330703735,0.06023459509015083,-0.023056020960211754,-0.010960613377392292,-0.023508498445153236,-0.009188568219542503,-0.012472336180508137,-0.007665320765227079,0.013809085823595524,-0.0008916296646930277,0.04850931838154793,0.029410522431135178,0.0169772207736969,-0.043673861771821976,-0.029334917664527893,0.018080584704875946,0.03290232643485069,0.09274742007255554,0.01373838447034359,0.03072609193623066,0.024939827620983124,0.06801013648509979,-0.012605084106326103,-0.05716121196746826,-0.054650306701660156,-0.012032782658934593,-0.04942793399095535,-0.043650154024362564,-0.061120953410863876,0.022330332547426224,0.016532180830836296,0.005539280362427235,0.03395034372806549,0.041849441826343536,-0.014587141573429108,-0.09282244741916656,-0.002903259126469493,0.012492479756474495,0.005724048707634211,-0.020797116681933403,0.03676296025514603,0.019247569143772125,-0.012752939015626907,-0.023114822804927826,0.06984034925699234,0.005292918067425489,0.03773035109043121,-0.01696177013218403,-0.07658331096172333,0.04768513888120651,0.0313275046646595,-0.014843299984931946,0.019870394840836525,0.03094877302646637,0.03954334184527397,0.010644184425473213,-0.00584328593686223,-0.010964893735945225,0.013076099567115307,0.011086571030318737,0.01685429736971855,0.026587463915348053,0.05758162587881088,-0.02147481217980385,0.03065950609743595,-0.008688954636454582,-0.05666140094399452,-0.03436299040913582,-0.03568124398589134,-0.025363022461533546,-0.0056936610490083694,0.00436663581058383,-0.0823250338435173,0.06785976141691208,-0.02698425017297268,-0.04385485127568245,0.023258764296770096,0.05885357782244682,-0.019540876150131226,0.018420862033963203,-0.03095911629498005,0.12265770882368088,-0.0466129370033741,0.061345651745796204,0.021435735747218132,-0.011629359796643257,0.0295436829328537,-0.00974679458886385,0.004892286378890276,0.007403925992548466,0.07208258658647537,-0.026177993044257164,0.04254136234521866,-0.0004964728723280132,-0.06215246766805649,0.03534138575196266,-0.0025126400869339705,-0.04514797031879425,0.024251503869891167,-0.0773504301905632,0.03598770871758461,0.02906533144414425,0.019493533298373222,-0.0722745954990387,0.04238015413284302,-0.017864538356661797,-0.03709138184785843,0.012761310674250126,0.0005804059910587966,-0.017861520871520042,-0.0021153634879738092,-0.008575869724154472,0.05499476194381714,0.022172192111611366,0.0188378244638443,0.006400034297257662,0.005719827953726053,-0.028064623475074768,0.009904413484036922,-0.022622723132371902,0.021945815533399582,0.04519648104906082,0.02464902587234974,0.04949633404612541,-0.014387859031558037,0.014420154504477978,-0.020341867581009865,-0.02553638070821762,-0.0435376800596714,0.05139296129345894,0.04826994985342026,0.029439466074109077,0.002185231540352106,0.0038234018720686436,0.08288799226284027,-0.03627602383494377,0.024252071976661682,0.03971943259239197,-0.05581754073500633,-0.013266833499073982,-0.010470795445144176,-0.06934461742639542,-0.019882576540112495,-0.03509330004453659,0.011951460503041744,0.00386265036650002,-0.006645738147199154,0.02302309311926365,-0.00005640124072670005,0.0572022870182991,0.021141523495316505,0.00957927480340004,0.035302359610795975,-0.014374293386936188,0.03300951048731804,-0.016074281185865402,0.054635584354400635,0.042652878910303116,-0.019323771819472313,-0.019523821771144867,-0.003590470412746072,0.016488125547766685,-0.0528680793941021,0.04229513555765152,-0.07705850899219513,-0.006880888715386391,0.015393310226500034,0.021662846207618713,0.043756913393735886,-0.0006521377363242209,-0.021596236154437065,-0.031441085040569305,0.016205016523599625,0.006494639907032251,0.033693596720695496,0.009917416609823704,-0.06899810582399368,-0.020837411284446716,-0.017998600378632545,0.012362871319055557,0.014070034958422184,-0.011591375805437565,-0.006848322693258524,0.005021424498409033,-0.06833861768245697,0.02488107606768608,-0.036742959171533585,-0.0009329033200629056,-0.014993512071669102,0.02959238924086094,-0.022256651893258095,-0.02689015120267868,0.0053582750260829926,-0.056859709322452545,0.02867669053375721,-0.01973838545382023,-0.005195679143071175,-0.04604331776499748,-0.03325128182768822,-0.021798087283968925,-0.004842431750148535,0.01130769308656454,0.033032990992069244,0.0019374917028471828,0.01445483136922121,0.037123847752809525,0.03576110303401947,0.02809038758277893,0.021287579089403152,0.030087795108556747,-0.023143190890550613,-0.003500009188428521,-0.008589970879256725,0.07218329608440399,0.01676926389336586,-0.030789699405431747,0.0221738051623106,0.021351903676986694,0.0215827114880085,0.0199718177318573,0.013121893629431725,-0.028676100075244904,0.013374246656894684,-0.02245035581290722,-0.04678149148821831,-0.08273036032915115,0.05975739285349846,0.01916734129190445,-0.0944635197520256,0.008331699296832085,0.020835554227232933,0.05156240984797478,-0.01870694011449814,-0.03247174248099327,-0.015240239910781384,0.014151276089251041,-0.026869170367717743,0.0034137526527047157,-0.006947651039808989,-0.05286366119980812,-0.008160069584846497,0.032332055270671844,-0.03492097929120064,0.03519254922866821,-0.009609566070139408,-0.04945884272456169,-0.013649952597916126,0.013188951648771763,0.028988732025027275,-0.029483921825885773,-0.005039234645664692,0.03975769504904747,-0.006160862743854523,-0.0627472773194313,0.026636937633156776,-0.030123833566904068,-0.005529902875423431,0.02571219392120838,0.08638656884431839,0.05129242315888405,-0.030082836747169495,0.051133014261722565,0.037566594779491425,0.04639110714197159,-0.02395818941295147,0.01020467933267355,-0.02176014706492424,-0.04512811452150345,-0.045828934758901596,0.004191306419670582,-0.0011175149120390415,0.0060260482132434845,-0.06415735185146332,0.0064107878133654594,-0.0019984825048595667,0.051406748592853546,-0.007487051654607058,0.058610063046216965,-0.05214855819940567,0.07942263782024384,0.008321708999574184,0.05349328741431236,-0.008625803515315056,-0.030028270557522774,-0.01205684058368206,-0.05996697023510933,0.02385147474706173,0.005853633861988783,0.02441360242664814,0.13110484182834625,-0.015541997738182545,0.001136738690547645,0.019036078825592995,-0.04986482858657837,0.02121412754058838,0.004591854754835367,0.0010345539776608348,-0.007315800525248051,0.06943046301603317,0.0026694147381931543,0.027392277494072914,-0.006039134226739407,-0.07104164361953735,0.05008093640208244,0.005144670605659485,0.04503827914595604,0.017946023494005203,-0.0024419459514319897,-0.03652503341436386,-0.04014727473258972,-0.04735633358359337,0.015641847625374794,-0.03298259899020195,0.017475629225373268,-0.0038566996809095144,-0.006179874762892723,0.0739898681640625,0.004306439775973558,0.005494961515069008,-0.01310663390904665,-0.02949177846312523,0.02621256187558174,0.008709331974387169,-0.022259222343564034,-0.04947994649410248,-0.028799761086702347,0.03172242268919945,0.005975205916911364,-0.029180383309721947,-0.027752002701163292,0.04792190343141556,-0.0195712149143219,-0.012663377448916435,0.09276796877384186,-0.05240945145487785,0.004749419167637825,0.005434639751911163,-0.04166194424033165,0.005539423320442438,0.04443994536995888,0.042055122554302216,-0.022774413228034973,-0.006127331405878067,-0.04314746707677841,0.0338757261633873,-0.07910039275884628,-0.0566629096865654,-0.021055055782198906,-0.03174971416592598,-0.03714899718761444,0.03207983449101448,-0.008845374919474125,-0.03743474930524826,-0.038915131241083145,-0.022226618602871895,-0.05460416153073311,0.04536448419094086,-0.013675897382199764,0.01084508653730154,-0.005918167997151613,0.005831433460116386,-0.016080079600214958,-0.04868059605360031,-0.017451027408242226,-0.10715118050575256,-0.024142159149050713,-0.029275041073560715,-0.030942285433411598,-0.010787377133965492,-0.030979035422205925,-0.0317809171974659,0.048524465411901474,0.011703220196068287,0.00550149567425251,0.018440216779708862,-0.002262909896671772,0.010215729475021362,0.046270597726106644,-0.009335446171462536,0.02051183581352234,-0.1286485642194748,0.05673037841916084,0.07304012775421143,-0.04661714658141136,-0.018690014258027077,-0.006491721607744694,0.0024972669780254364,-0.03331710398197174,0.0321216844022274,-0.003379239933565259,0.05512220412492752,0.0415424108505249,0.023139074444770813,-0.05363570898771286,0.005629526451230049,-0.057977642863988876,-0.11576532572507858,-0.04330131411552429,0.013703839853405952,-0.030802328139543533,0.009449061937630177,0.02565142512321472,0.02168921008706093,0.0012027302291244268,0.023088816553354263,0.006585926283150911,0.010435616597533226,0.019363058730959892,-0.02471466176211834,-0.0354931503534317,-0.0006183793884702027,0.015878813341259956,0.008737757802009583,-0.05092966556549072,-0.002482572104781866,0.02294871397316456,-0.008959130384027958,0.011976977810263634,0.009280226193368435,-0.027219869196414948,-0.015020078048110008,0.00846033077687025,-0.01909535378217697,0.012602198868989944,0.005776970647275448,0.03218112885951996,0.01636195369064808,0.04772572964429855,-0.0363144613802433,0.009044217877089977,-0.0023275220301002264,-0.034433916211128235,0.024940406903624535,0.0198636744171381,-0.018824415281414986,0.02630472555756569,-0.04187531769275665,-0.0712846964597702,0.01929529383778572,-0.041982706636190414,-0.014488820917904377,-0.046935465186834335,-0.055365562438964844,0.012106074951589108,-0.04257163777947426,0.020242828875780106,0.04208531603217125,-0.0031089759431779385,-0.00895702000707388,-0.014193492010235786,-0.017642498016357422,-0.006542638409882784,-7.410519160359217e-33,-0.01198500208556652,-0.009138082154095173,0.0015513799153268337,-0.03130052611231804,0.0017998466501012444,-0.0598282553255558,0.021703368052840233,-0.04628484323620796,-0.007019002456218004,-0.020908018574118614,-0.04693640395998955,-0.006366864312440157,0.02066013403236866,-0.007912978529930115,-0.014624560251832008,-0.04152052104473114,0.01690472662448883,-0.004529374651610851,-0.016228148713707924,0.015515805222094059,-0.0470590740442276,0.04496242478489876,-0.01769544929265976,-0.0390608012676239,-0.03312139958143234,-0.02063812129199505,0.012139927595853806,-0.0016128320712596178,-0.07536742091178894,-0.004172999877482653,0.005971313454210758,-0.08342400938272476,-0.012958655133843422,-0.06428980827331543,-0.025898629799485207,-0.047292906790971756,-0.08653966337442398,-0.0037675194907933474,-0.0034794514067471027,0.04702732339501381,0.06496855616569519,0.017527813091874123,0.01520879752933979,-0.005022117868065834,-0.03205268085002899,0.01825619861483574,-0.0040969219990074635,0.0034897243604063988,-0.02620125189423561,-0.026965783908963203,0.05594664067029953,0.006869045551866293,0.024360470473766327,0.0605936273932457,0.00807345099747181,0.06336599588394165,0.022725999355316162,0.1057470366358757,-0.10144311934709549,-0.009459399618208408,0.005831474903970957,-0.0227458905428648,0.032154232263565063,0.00556711433455348,0.07403527945280075,0.010876835323870182,0.07269203662872314,0.023291513323783875,-0.039557136595249176,-0.009273425675928593,-0.03183828294277191,-0.01995137147605419,-0.030670026317238808,-0.08147002756595612,0.07635830342769623,0.0226108618080616,0.00371953914873302,-0.017558084800839424,-0.1073254719376564,0.046418696641922,0.016355840489268303,0.009871595539152622,-0.020072074607014656,-0.0054669566452503204,0.02902069501578808,0.05524817481637001,0.009158482775092125,-0.009278114885091782,0.014220953918993473,0.01930522732436657,-0.03882069140672684,0.023323096334934235,-0.04048972576856613,0.019209688529372215,-0.06197306141257286,0.0698283314704895,0.02187817357480526,-0.005274099297821522,0.006899541709572077,0.02938472479581833,0.013895011506974697,0.043089669197797775,-0.025060318410396576,-0.0425763875246048,-0.012323244474828243,-0.025261102244257927,0.020491164177656174,-0.010134081356227398,-0.03945428505539894,0.026091035455465317,0.014048629440367222,0.009972414001822472,0.0029208529740571976,0.0025484352372586727,0.042261600494384766,0.024594031274318695,-0.01476866751909256,-0.0031117512844502926,0.06993930786848068,-0.04129834100604057,0.024378817528486252,-0.005046370904892683,0.03424213454127312,0.011189174838364124,0.05847837030887604,0.0268856231123209,0.0065756081603467464,-0.04614789038896561,0.020290469750761986,-0.012380500324070454,0.0029400240164250135,0.0741535946726799,3.291019652351679e-7,0.02525775320827961,0.033311255276203156,0.013160014525055885,0.06289920955896378,-0.013325837440788746,0.004365960136055946,-0.021768655627965927,-0.02792951837182045,-0.025458035990595818,-0.052309710532426834,0.016818257048726082,0.030527597293257713,0.027168039232492447,0.04283294826745987,-0.02931562438607216,-0.03991466760635376,-0.008910657837986946,-0.06972760707139969,-0.016789106652140617,-0.017011255025863647,-0.013789836317300797,0.022734543308615685,-0.009826354682445526,-0.006752273999154568,0.021672215312719345,0.02211492508649826,0.013042734004557133,0.012780864723026752,0.021083559840917587,-0.015966663137078285,0.0802900567650795,-0.025677019730210304,-0.016301998868584633,0.0024383484851568937,0.0103203309699893,0.012727483175694942,-0.020662935450673103,-0.006191096268594265,0.03841991350054741,0.03577975928783417,0.030992787331342697,-0.06250382959842682,-0.01582232676446438,-0.014409679919481277,0.03747139871120453,-0.010283710435032845,-0.006161265540868044,0.09881091862916946,0.0005509982001967728,-0.008354556746780872,-0.004820540547370911,0.002000123495236039,-0.000005833203886140836,-0.01468677818775177,0.027223307639360428,-0.010727829299867153,0.010584810748696327,0.044156476855278015,-0.012594297528266907,0.02257700450718403,-0.021799711510539055,0.013291757553815842,0.011204387061297894,0.08692166954278946,-0.011962398886680603,-0.010150350630283356,-0.05755233019590378,3.937445520241431e-34,0.028648804873228073,-0.05023384094238281,0.01987076923251152,0.028833970427513123,0.002310418291017413,-0.014535816386342049,0.0269999448210001,-0.024449694901704788,0.004262159578502178,-0.08481378853321075,-0.018537001684308052]'
SET
  @TechnicalDesignVector_673d7502 = N'[0.00222641765139997,0.03645714744925499,-0.012680339626967907,-0.04994475096464157,-0.02959555760025978,0.009153204038739204,-0.013278576545417309,0.052106164395809174,0.01077283639460802,-0.00764656625688076,-0.022087829187512398,-0.013584023341536522,0.03379395976662636,0.0348273329436779,0.03230215609073639,0.006519676186144352,0.010909250006079674,0.1019880622625351,-0.013518279418349266,-0.04022645577788353,0.04723159968852997,-0.026985950767993927,0.028356581926345825,-0.041999924927949905,0.036642082035541534,0.01000877097249031,-0.0020973901264369488,0.022221697494387627,0.06488552689552307,-0.03085409849882126,0.015224327333271503,-0.0012933328980579972,-0.015448955819010735,-0.00926766637712717,0.0000024778400984359905,-0.004461111035197973,-0.04591154679656029,-0.012321002781391144,-0.002690111054107547,-0.04662143066525459,0.03338220342993736,-0.03102203458547592,-0.013180993497371674,0.016420429572463036,0.02283034846186638,-0.03595639765262604,-0.015842003747820854,0.018741009756922722,-0.0006646059919148684,0.028671178966760635,-0.0006245003314688802,-0.0826914831995964,-0.036368366330862045,0.04474889114499092,0.04398815706372261,-0.014596935361623764,0.019368991255760193,-0.05430898815393448,0.02687380090355873,-0.09095820784568787,-0.01645778678357601,0.018695715814828873,0.03107195533812046,-0.022443091496825218,0.003105695592239499,0.0017587220063433051,0.039273329079151154,0.015372341498732567,0.02688942849636078,-0.005943313241004944,0.05231878533959389,-0.0331960953772068,0.02743038535118103,-0.04740617051720619,-0.08288118243217468,0.0058232322335243225,0.0045452602207660675,-0.026626665145158768,-0.0352674163877964,0.015600989572703838,-0.013402163982391357,0.03931276500225067,0.014540258795022964,-0.024871941655874252,-0.009829143062233925,-0.015453178435564041,0.007491270080208778,-0.008586106821894646,-0.02597852610051632,-0.009820854291319847,0.09657444804906845,-0.008286549709737301,0.04875631257891655,0.031323693692684174,0.0024099412839859724,0.04560210928320885,0.023461217060685158,-0.08085650950670242,0.0907503068447113,-0.09368790686130524,0.03714374825358391,0.01918073743581772,0.004191023763269186,-0.01958666928112507,0.029881365597248077,0.0008810902945697308,-0.023795664310455322,-0.06360816955566406,-0.012459894642233849,-0.018026182428002357,-0.008278795517981052,-0.01109623908996582,0.029434118419885635,0.03200644254684448,0.06013989448547363,0.002376115880906582,-0.05890035629272461,-0.02744225226342678,0.0034256132785230875,-0.0008456562645733356,0.0392010472714901,-0.0037341294810175896,0.020073650404810905,-0.009200251661241055,0.051938947290182114,0.06143597885966301,-0.01758919097483158,-0.08556102216243744,-0.0517507903277874,-0.037059638649225235,0.020517343655228615,-0.04974893853068352,0.02651411108672619,0.041811104863882065,-0.01601330004632473,0.008932092227041721,0.02315477840602398,-0.020056944340467453,-0.08172966539859772,0.017314555123448372,0.03052612394094467,0.003738005179911852,0.0008108893525786698,0.027422847226262093,0.012490516528487206,-0.017670001834630966,-0.00315436371602118,0.0433514229953289,-0.02255663461983204,0.05249709263443947,0.0005974943051114678,-0.0472208634018898,0.049148350954055786,-0.010656006634235382,0.001863559358753264,0.0255313441157341,0.050430405884981155,0.012029428035020828,0.076185442507267,-0.03153305873274803,0.013843991793692112,0.03128819912672043,0.00038146256702020764,-0.0005175471887923777,0.008218188770115376,0.04302794858813286,-0.007826444692909718,-0.004618135746568441,0.013182545080780983,-0.04207850992679596,-0.03332523629069328,-0.013932987116277218,-0.012739983387291431,0.027473745867609978,-0.011096358299255371,-0.10571493953466415,0.0060912552289664745,0.012778820469975471,-0.05255337059497833,0.008682523854076862,0.07124768197536469,0.0386686697602272,0.014361579902470112,-0.005639714188873768,0.08849949389696121,-0.04381762444972992,0.08670008182525635,0.02690521813929081,-0.0033938277047127485,0.01899932138621807,-0.009071609936654568,-0.02195502631366253,0.02584068477153778,0.024686012417078018,-0.011396938003599644,0.026415158063173294,-0.07244373112916946,-0.0710030049085617,0.009788813069462776,0.0004526735865511,0.02222127467393875,0.02903595194220543,-0.02564455382525921,0.10557959228754044,0.04551936686038971,0.0015459965215995908,-0.08054544776678085,0.0728379413485527,-0.02166622504591942,-0.06291573494672775,0.003952621016651392,0.024946261197328568,-0.019585158675909042,-0.014270740561187267,0.01815899647772312,0.022781383246183395,0.0074101341888308525,0.006747551262378693,0.0038138909731060266,0.01131155714392662,0.011740184389054775,0.03206304833292961,0.03125576302409172,-0.007494944613426924,0.037199463695287704,0.047366078943014145,0.0390448197722435,-0.009457194246351719,0.028508014976978302,-0.01690853200852871,0.012299656867980957,-0.014144557528197765,-0.00940303411334753,0.0258979182690382,0.042002592235803604,-0.02233545482158661,-0.04829518496990204,0.05877099186182022,-0.013197255320847034,0.058373257517814636,0.012836416251957417,0.012473148293793201,-0.01560219470411539,-0.023999948054552078,-0.06700634956359863,-0.035284265875816345,-0.04053333401679993,0.042652420699596405,-0.005926091689616442,-0.025629153475165367,0.03451817110180855,0.018391327932476997,0.00009878801938612014,0.0031897288281470537,-0.021857058629393578,-0.07511252164840698,0.0136709650978446,-0.003955146763473749,0.025637580081820488,0.03537292778491974,0.0008562638540752232,0.002119270386174321,-0.005152727011591196,0.013987116515636444,0.016843406483530998,-0.04528198018670082,0.03519770875573158,-0.04837110638618469,-0.002133975038304925,0.022314006462693214,-0.004855354316532612,0.04353302717208862,0.04280218109488487,0.00414188951253891,-0.02660101093351841,-0.029986495152115822,0.03162451833486557,0.06484928727149963,0.010513920336961746,-0.03749766945838928,-0.04177965596318245,-0.03405062109231949,0.006006657145917416,0.009928636252880096,-0.007388767320662737,-0.014060364104807377,0.04127015173435211,-0.07227075845003128,0.014325575903058052,0.02076868712902069,-0.05227368697524071,0.03151412680745125,0.015468140132725239,-0.023994745686650276,-0.029597138985991478,-0.00781912449747324,-0.029245266690850258,-0.005764062516391277,0.018660681322216988,-0.05626080185174942,0.0016491488786414266,-0.009706280194222927,-0.0007174012716859579,-0.008434824645519257,-0.024023089557886124,0.026136890053749084,-0.01668676547706127,-0.020437709987163544,0.047934919595718384,-0.02964601293206215,0.02291254699230194,0.02576524205505848,0.014690001495182514,-0.061314284801483154,-0.015176298096776009,0.023049714043736458,0.08213651180267334,-0.02815615013241768,-0.04535641521215439,-0.041149768978357315,0.010592133738100529,-0.006264579016715288,0.0006963942432776093,0.001188241527415812,-0.020907610654830933,-0.015631206333637238,0.030645858496427536,-0.016830241307616234,-0.015144417993724346,0.017970675602555275,0.021790407598018646,-0.11114282160997391,0.02076379954814911,0.02946358546614647,-0.011587122455239296,-0.029392074793577194,-0.042969413101673126,-0.0014399501960724592,0.010451947338879108,0.014166881330311298,-0.009406519122421741,-0.004014137201011181,-0.05904340371489525,0.014279474504292011,0.0611746720969677,-0.040593985468149185,0.01999766379594803,-0.005869755055755377,-0.03880966827273369,-0.048889078199863434,0.032599497586488724,0.0676703155040741,-0.0019974345341324806,-0.015475043095648289,0.016029447317123413,0.010786115191876888,-0.013935506343841553,0.008440688252449036,0.009630555287003517,0.023504693061113358,0.05045372620224953,0.09222111850976944,0.07665670663118362,-0.062170639634132385,0.0062250555492937565,0.03814641013741493,0.046342939138412476,-0.03236567601561546,-0.03162693977355957,-0.008735855109989643,-0.05038747936487198,-0.04819529876112938,0.0022562616504728794,0.007214743178337812,0.013395973481237888,-0.10634277015924454,-0.0031921546906232834,-0.0002260549081256613,-0.0036580124869942665,-0.010045060887932777,0.07828357815742493,-0.04865384101867676,0.06160567328333855,0.037579432129859924,0.05138203129172325,-0.05328940227627754,0.0021605463698506355,-0.04662885516881943,-0.056918639689683914,0.02103133127093315,-0.021528681740164757,-0.013982823118567467,0.05176301300525665,-0.036892835050821304,0.002281517256051302,0.0799403190612793,-0.015290219336748123,0.044620413333177567,0.04698122292757034,0.0005475816433317959,0.004933698568493128,0.07770642638206482,0.006543667055666447,-0.006012710742652416,0.003390743164345622,-0.05067835748195648,-0.004288078751415014,-0.0040687499567866325,0.056255072355270386,0.04852064326405525,0.02302621677517891,-0.0003134902799502015,-0.05376214161515236,-0.047592923045158386,-0.04658064246177673,-0.02768234722316265,0.02147333137691021,-0.04358823224902153,-0.0009618981857784092,0.07518748193979263,-0.01995040848851204,0.019368723034858704,-0.004455239046365023,-0.03980742394924164,0.03594236075878143,0.0124927693977952,-0.02450530230998993,-0.05420193076133728,-0.06612370908260345,-0.004255873151123524,0.00533486669883132,0.012979920953512192,0.030595988035202026,0.04197708144783974,-0.042387332767248154,-0.041181303560733795,0.029817495495080948,-0.03598092496395111,0.01945335417985916,-0.02588595822453499,0.04001269116997719,-0.034576475620269775,0.013636033050715923,0.026924116536974907,-0.017579320818185806,-0.007465224247425795,-0.024224279448390007,0.037623532116413116,-0.08858334273099899,-0.008961144834756851,-0.00011791633005486801,-0.03276706486940384,-0.04582265019416809,0.013475678861141205,-0.0045432946644723415,-0.03096318431198597,0.016042398288846016,0.00653972988948226,-0.022649692371487617,0.08093351870775223,0.02060845121741295,0.007886596955358982,-0.0454089492559433,-0.005776597652584314,-0.024511568248271942,-0.030404942110180855,0.0021063671447336674,-0.07959866523742676,-0.016562968492507935,-0.0017380930949002504,-0.0184100903570652,-0.009977774694561958,-0.016131332144141197,-0.02239108458161354,0.003923739306628704,-0.02630714699625969,0.006861479487270117,0.06305821239948273,-0.021555311977863312,-0.004539928864687681,0.02374712936580181,-0.024052729830145836,-0.029742637649178505,-0.028776977211236954,0.06085655838251114,0.04717165604233742,-0.011882200837135315,-0.017889374867081642,-0.008248429745435715,0.021530229598283768,-0.04624569043517113,0.031000865623354912,-0.007025284226983786,-0.02010093815624714,0.04731447994709015,-0.00891619361937046,0.030932407826185226,-0.007612021639943123,-0.050436533987522125,-0.06831158697605133,-0.020361674949526787,0.0021899822168052197,-0.03260457143187523,0.0049968562088906765,0.033386923372745514,-0.007380676921457052,-0.04174269735813141,-0.007347648032009602,0.00652743736281991,-0.04626763239502907,-0.05342001095414162,-0.011447473429143429,-0.07517213374376297,0.02207828499376774,0.021124420687556267,0.031877048313617706,-0.04271119832992554,0.005110941827297211,0.05767175182700157,-0.008359198458492756,0.03762177750468254,0.006297633983194828,-0.02175872027873993,-0.011816398240625858,0.029041659086942673,-0.07251021265983582,0.01746477000415325,0.03409505635499954,0.04644521325826645,0.01317316573113203,0.04634679853916168,-0.043026700615882874,-0.04407298564910889,-0.031195906922221184,-0.014276058413088322,0.002079073106870055,-0.04806910827755928,-0.00179757468868047,0.01233737263828516,-0.08371637016534805,-0.05839422345161438,-0.004446251783519983,-0.012358096428215504,-0.0014407745329663157,0.0024372870102524757,-0.048652876168489456,0.027550963684916496,-0.05403842404484749,0.019848013296723366,0.058800287544727325,-0.014681894332170486,0.05282043293118477,-0.013675898313522339,0.014198784716427326,0.0446602962911129,-6.53098563439918e-33,0.03050970286130905,-0.0062593622133135796,0.02535012550652027,-0.04227051883935928,-0.04808258265256882,-0.03273531422019005,-0.027919664978981018,-0.07090823352336884,0.041162196546792984,-0.05506591498851776,-0.03757692500948906,-0.012113306671380997,0.02070113830268383,-0.008225864730775356,-0.06328390538692474,-0.05563555285334587,0.006711005233228207,0.011671556159853935,-0.040888842195272446,0.04445640370249748,-0.0007386650540865958,0.01265888474881649,-0.01659388840198517,0.013540015555918217,-0.02606828883290291,-0.04700304940342903,0.019713610410690308,-0.014316308312118053,-0.0933142825961113,-0.004967198241502047,0.0010351527016609907,-0.016949662938714027,-0.007171460427343845,-0.0921403169631958,-0.00714615173637867,0.02167709730565548,-0.06217816844582558,-0.001360564841888845,0.03752833604812622,0.0475790910422802,0.08307892829179764,0.024232937023043633,-0.0023771212436258793,0.027625519782304764,-0.029828978702425957,0.03990691155195236,-0.0047518592327833176,-0.010367563925683498,0.008227488026022911,-0.006450928747653961,0.04716255143284798,0.04422415420413017,0.0061538200825452805,0.07133789360523224,-0.02620057947933674,0.09546922892332077,0.024434514343738556,0.09011904150247574,-0.09335847198963165,-0.011905576102435589,-0.027450554072856903,0.02216375060379505,0.017151806503534317,0.031479157507419586,0.06422559171915054,0.001172213931567967,0.07848305255174637,0.045223940163850784,-0.060410305857658386,-0.012733684852719307,-0.030057884752750397,-0.0599757619202137,0.0037041555624455214,-0.0005323445657268167,0.051360197365283966,-0.006500419229269028,-0.031032364815473557,-0.008589030243456364,-0.04933181777596474,0.031631022691726685,0.027080591768026352,0.018789518624544144,0.02877996861934662,-0.010417516343295574,0.012746138498187065,0.07296790927648544,0.026215311139822006,0.03137017786502838,-0.029390955343842506,0.0074452608823776245,-0.018924428150057793,0.018084801733493805,-0.03525166213512421,0.015090472996234894,-0.035598274320364,0.041936520487070084,0.015891363844275475,0.029530590400099754,0.006085900589823723,0.009363841265439987,0.02836265228688717,-0.03176698461174965,-0.06306873261928558,-0.02291029505431652,-0.02094266004860401,-0.030153987929224968,-0.009914422407746315,0.005399753805249929,-0.02056543156504631,0.022797632962465286,0.007621618919074535,0.02494833432137966,-0.02181929536163807,0.002956883516162634,0.03775051608681679,0.07768867909908295,0.012026820331811905,0.0066158464178442955,0.05337980389595032,0.0015827806200832129,0.033215951174497604,-0.054910678416490555,0.016009345650672913,0.05364533141255379,-0.014191255904734135,0.007040000986307859,-0.008069033734500408,0.026949692517518997,-0.036020971834659576,-0.08779513090848923,0.00978664681315422,0.05043384060263634,3.073757000038313e-7,-0.0072402916848659515,0.01875733584165573,0.01887412555515766,0.004034486133605242,-0.0051886471919715405,-0.009394600987434387,-0.01067925151437521,-0.062428124248981476,-0.040797241032123566,-0.0022829445078969,0.024567468091845512,0.03032863140106201,0.027596771717071533,0.028146857395768166,-0.03412560373544693,-0.00757535919547081,-0.06764732301235199,-0.022508909925818443,-0.005745480768382549,-0.006357098463922739,-0.0555904395878315,-0.01776757463812828,0.05223536118865013,-0.03355007618665695,0.030637754127383232,0.06111903116106987,-0.013306180946528912,0.022574670612812042,-0.0019114615861326456,-0.043392833322286606,0.03601007163524628,-0.034653712064027786,0.004977161064743996,-0.06846942752599716,0.032721083611249924,-0.0036968826316297054,-0.036478836089372635,0.006746236234903336,0.07689893245697021,-0.0022911708801984787,0.05948019400238991,-0.027314988896250725,-0.02191723883152008,-0.0400102399289608,0.03812459483742714,0.058188747614622116,-0.031309787184000015,0.057203616946935654,-0.0102723753079772,-0.0039472621865570545,-0.013124479912221432,0.01253775879740715,-0.03643590584397316,0.02547437511384487,0.012642890214920044,-0.05926656350493431,0.006457230541855097,0.04311218485236168,-0.019804473966360092,-0.03531598672270775,-0.03494394198060036,0.013250534422695637,-0.002781759714707732,0.05965454503893852,-0.009654114954173565,0.021967561915516853,-0.022819461300969124,2.836866664176246e-34,0.02960819937288761,-0.029401110485196114,0.008862105198204517,-0.011677843518555164,-0.0006255191983655095,-0.02310110256075859,-0.011023919098079205,0.012251822277903557,0.023258181288838387,-0.033448901027441025,-0.05089316517114639]'
SET
  @HasCustomProps_673d7502 = 1
SET
  @HasCustomEvents_673d7502 = 1
SET
  @RequiresData_673d7502 = 1
SET
  @DependencyCount_673d7502 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_673d7502 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_673d7502 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_673d7502 = 1
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_673d7502,
  @Namespace = @Namespace_673d7502,
  @Name = @Name_673d7502,
  @Version = @Version_673d7502,
  @VersionSequence = @VersionSequence_673d7502,
  @Title = @Title_673d7502,
  @Description = @Description_673d7502,
  @Type = @Type_673d7502,
  @Status = @Status_673d7502,
  @DeveloperName = @DeveloperName_673d7502,
  @DeveloperEmail = @DeveloperEmail_673d7502,
  @DeveloperOrganization = @DeveloperOrganization_673d7502,
  @SourceRegistryID = @SourceRegistryID_673d7502,
  @ReplicatedAt = @ReplicatedAt_673d7502,
  @LastSyncedAt = @LastSyncedAt_673d7502,
  @Specification = @Specification_673d7502,
  @FunctionalRequirements = @FunctionalRequirements_673d7502,
  @TechnicalDesign = @TechnicalDesign_673d7502,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_673d7502,
  @TechnicalDesignVector = @TechnicalDesignVector_673d7502,
  @HasCustomProps = @HasCustomProps_673d7502,
  @HasCustomEvents = @HasCustomEvents_673d7502,
  @RequiresData = @RequiresData_673d7502,
  @DependencyCount = @DependencyCount_673d7502,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_673d7502,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_673d7502,
  @HasRequiredCustomProps = @HasRequiredCustomProps_673d7502;

-- Save MJ: Components (core SP call only)
DECLARE @ID_1d2e9281 UNIQUEIDENTIFIER,
@Namespace_1d2e9281 NVARCHAR(MAX),
@Name_1d2e9281 NVARCHAR(500),
@Version_1d2e9281 NVARCHAR(50),
@VersionSequence_1d2e9281 INT,
@Title_1d2e9281 NVARCHAR(1000),
@Description_1d2e9281 NVARCHAR(MAX),
@Type_1d2e9281 NVARCHAR(255),
@Status_1d2e9281 NVARCHAR(50),
@DeveloperName_1d2e9281 NVARCHAR(255),
@DeveloperEmail_1d2e9281 NVARCHAR(255),
@DeveloperOrganization_1d2e9281 NVARCHAR(255),
@SourceRegistryID_1d2e9281 UNIQUEIDENTIFIER,
@ReplicatedAt_1d2e9281 DATETIMEOFFSET,
@LastSyncedAt_1d2e9281 DATETIMEOFFSET,
@Specification_1d2e9281 NVARCHAR(MAX),
@FunctionalRequirements_1d2e9281 NVARCHAR(MAX),
@TechnicalDesign_1d2e9281 NVARCHAR(MAX),
@FunctionalRequirementsVector_1d2e9281 NVARCHAR(MAX),
@TechnicalDesignVector_1d2e9281 NVARCHAR(MAX),
@HasCustomProps_1d2e9281 BIT,
@HasCustomEvents_1d2e9281 BIT,
@RequiresData_1d2e9281 BIT,
@DependencyCount_1d2e9281 INT,
@TechnicalDesignVectorEmbeddingModelID_1d2e9281 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_1d2e9281 NVARCHAR(MAX),
@HasRequiredCustomProps_1d2e9281 BIT
SET
  @ID_1d2e9281 = 'B6D7F6BD-3B64-4F17-9ADD-EBCD00039265'
SET
  @Namespace_1d2e9281 = N'CRM/Finance'
SET
  @Name_1d2e9281 = N'MonthlyInvoiceRevenue'
SET
  @Version_1d2e9281 = N'1.0.0'
SET
  @VersionSequence_1d2e9281 = 1
SET
  @Title_1d2e9281 = N'Monthly Invoice Revenue'
SET
  @Description_1d2e9281 = N'Displays monthly invoice revenue trends with flexible filtering by year, month, status, and date ranges. Features dynamic grouping by status when comparing multiple invoice states.'
SET
  @Type_1d2e9281 = N'Chart'
SET
  @Status_1d2e9281 = N'Published'
SET
  @Specification_1d2e9281 = N'{"title":"Monthly Invoice Revenue Chart","type":"chart","name":"MonthlyInvoiceRevenue","userExplanation":"A bar chart showing monthly invoice revenue trends with flexible filtering. Supports filtering by year, month, status, and date ranges. When multiple status values are provided (e.g., ''Paid,Sent''), the chart groups by status for comparison.","functionalRequirements":"## Business Objectives\n- Visualize monthly revenue trends from invoices\n- Understand revenue patterns and seasonality across different invoice statuses\n- Compare monthly performance over time\n- Analyze outstanding balances and payment trends\n\n## Functional Requirements\n- **Chart Display**: Render a bar chart showing monthly revenue totals\n- **Flexible Filtering**: Support year, month, status list, and custom date range filters\n- **Dynamic Grouping**: When multiple statuses provided (e.g., ''Paid,Sent''), group by status for comparison\n- **Data Metrics**: Show total revenue, invoice count, outstanding balance, and average invoice\n- **Tooltips**: Display detailed metrics when hovering over bars\n- **Responsive Design**: Chart resizes for different screen sizes\n- **Loading States**: Show loading indicator while data is being fetched\n- **Empty State**: Display helpful message if no data is available\n- **Error Handling**: Show user-friendly error messages if query fails","description":"Displays monthly invoice revenue trends with flexible filtering by year, month, status, and date ranges. Features dynamic grouping by status when comparing multiple invoice states.","dataRequirements":{"mode":"queries","queries":[{"name":"Monthly Invoice Revenue","categoryPath":"Demo","description":"Aggregates invoices by YEAR/MONTH and calculates comprehensive revenue metrics: TotalAmount (revenue), SubTotal, TaxAmount, AmountPaid, BalanceDue, invoice count, and average. Dynamic GROUP BY: adds Status column when multiple statuses provided (e.g., ''Paid,Sent''). Uses STRING_SPLIT for comma-delimited status lists. Defaults to Status=''Paid'' if no StatusList parameter. Supports Year, Month, StartDate, EndDate filters. **Result Order: Year DESC, Month DESC, Status** - Most recent periods first, with status comparison when multiple statuses selected.","entityNames":["Invoices"],"fields":[{"name":"Year","sequence":1,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Calendar year from InvoiceDate"},{"name":"Month","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Calendar month (1-12) from InvoiceDate"},{"name":"MonthName","sequence":3,"defaultInView":true,"type":"nvarchar(30)","allowsNull":false,"isPrimaryKey":false,"description":"Full month name (e.g., ''January'', ''February'') from InvoiceDate"},{"name":"Status","sequence":4,"defaultInView":false,"type":"nvarchar(50)","allowsNull":true,"isPrimaryKey":false,"description":"Invoice status - only included when StatusList parameter contains multiple comma-separated values (e.g., ''Paid,Sent''). Enables comparison across statuses."},{"name":"TotalRevenue","sequence":5,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"SUM of TotalAmount (SubTotal + TaxAmount) for all invoices in the time period"},{"name":"TotalSubTotal","sequence":6,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"SUM of SubTotal (amount before tax) for all invoices"},{"name":"TotalTax","sequence":7,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"SUM of TaxAmount for all invoices"},{"name":"TotalPaid","sequence":8,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"SUM of AmountPaid for all invoices"},{"name":"TotalOutstanding","sequence":9,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"SUM of BalanceDue for all invoices (unpaid balance)"},{"name":"InvoiceCount","sequence":10,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"COUNT of invoices in the time period"},{"name":"AvgInvoice","sequence":11,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"AVG of TotalAmount across all invoices"}],"parameters":[{"name":"StatusList","isRequired":false,"type":"string","sampleValue":"Paid,Sent","description":"Comma-separated list of invoice statuses to include (e.g., ''Paid'', ''Sent'', ''Paid,Sent''). When multiple values provided, adds Status column to results for comparison. Defaults to ''Paid'' when not supplied. Valid values: Draft, Sent, Paid, Overdue, Canceled."},{"name":"Year","isRequired":false,"type":"number","sampleValue":"2024","description":"Filter invoices to a specific year (e.g., 2024). Uses YEAR(InvoiceDate) for filtering."},{"name":"Month","isRequired":false,"type":"number","sampleValue":"6","description":"Filter invoices to a specific month (1-12). Uses MONTH(InvoiceDate) for filtering. Can be used alone to show that month across all years, or with Year parameter for a specific month."},{"name":"StartDate","isRequired":false,"type":"date","sampleValue":"2024-01-01","description":"Minimum invoice date for filtering (inclusive). Format: YYYY-MM-DD."},{"name":"EndDate","isRequired":false,"type":"date","sampleValue":"2024-12-31","description":"Maximum invoice date for filtering (inclusive). Format: YYYY-MM-DD."}],"usageContext":"Primary data source for chart - provides time-series revenue metrics with flexible filtering and optional status-based grouping. Query results are pre-aggregated and ready for visualization in SimpleChart component.","permissionLevelNeeded":["read"]}]},"properties":[{"name":"year","type":"number","required":false,"description":"Optional year filter (e.g., 2024). If provided, shows only months from that year.","default":null},{"name":"month","type":"number","required":false,"description":"Optional month filter (1-12). If provided with year, returns single month. If provided without year, returns that month across all years.","default":null},{"name":"statusList","type":"string","required":false,"description":"Comma-delimited list of invoice statuses (e.g., ''Paid'', ''Sent'', ''Paid,Sent''). If multiple values, groups by status. If null, defaults to ''Paid'' only. Valid values: Draft, Sent, Paid, Overdue, Canceled.","default":null},{"name":"startDate","type":"string","required":false,"description":"Optional start date filter (ISO format: ''2024-01-01''). Returns invoices with InvoiceDate >= startDate.","default":null},{"name":"endDate","type":"string","required":false,"description":"Optional end date filter (ISO format: ''2024-12-31''). Returns invoices with InvoiceDate <= endDate.","default":null},{"name":"chartType","type":"string","required":false,"description":"Type of chart to display: ''bar'' (default), ''line'', or ''area''","default":"bar","possibleValues":["bar","line","area"]},{"name":"title","type":"string","required":false,"description":"Custom chart title. If not provided, uses default title.","default":"Monthly Invoice Revenue"}],"events":[],"dependencies":[{"name":"SimpleChart","location":"registry","namespace":"Generic/UI/Chart","version":"^1.0.0"}],"location":"embedded","technicalDesign":"## Technical Architecture\n\n### Component Structure\n- **Root Component (MonthlyInvoiceRevenue)**: Manages data loading and layout\n- **SimpleChart**: Reusable chart component for visualization\n- **StatCard**: Summary statistic cards (4 total)\n\n### State Management\n- data: Array of query results with transformed DateLabel\n- loading: Boolean for async query state\n- error: String for error messages\n\n### Data Flow\n1. Component receives parameters as props (year, month, statusList, startDate, endDate)\n2. useEffect triggers on mount or parameter changes\n3. Calls utilities.rq.RunQuery with ''Monthly Invoice Revenue'' query name\n4. Transforms results to add DateLabel: \"{MonthName} {Year} ({Status})\"\n5. Passes transformed data to SimpleChart component\n6. Calculates summary statistics from data\n\n### Query Integration\n- Query Name: ''Monthly Invoice Revenue''\n- Parameters: Year (int), Month (int), StatusList (string), StartDate (datetime), EndDate (datetime)\n- Dynamic Results: Status column only appears when StatusList contains comma\n- Returns: Year, Month, MonthName, Status (optional), TotalRevenue, TotalSubTotal, TotalTax, TotalPaid, TotalOutstanding, InvoiceCount, AvgInvoice\n\n### Layout\n```\n+------------------------------------------+\n|         Monthly Invoice Revenue          |\n|                                          |\n|  [Bar Chart showing revenue by month]    |\n|                                          |\n+------------------------------------------+\n|  [AvgInvoice]  [Count]  [Paid]  [Outstanding] |\n+------------------------------------------+\n```\n\n### Props\n- utilities: MJ utilities object (required for RunQuery)\n- styles: Styling utilities\n- components: Component registry (requires SimpleChart)\n- year: Optional year filter\n- month: Optional month filter (1-12)\n- statusList: Optional status filter (e.g., ''Paid'' or ''Paid,Sent'')\n- startDate: Optional start date filter\n- endDate: Optional end date filter\n- chartType: Chart visualization type (default: ''bar'')\n- title: Chart title (default: ''Monthly Invoice Revenue'')","code":"function MonthlyInvoiceRevenue({\n  utilities,\n  styles,\n  components,\n  year = null,\n  month = null,\n  statusList = null,\n  startDate = null,\n  endDate = null,\n  chartType = ''bar'',\n  title = ''Monthly Invoice Revenue''\n}) {\n  // State management\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Get SimpleChart component from registry\n  const { SimpleChart } = components;\n\n  // Load data on mount or when parameters change\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        // Execute the query with all supported parameters\n        const result = await utilities.rq.RunQuery({\n          QueryName: ''Monthly Invoice Revenue'',\n          CategoryPath: ''Demo'',\n          Parameters: {\n            Year: year,\n            Month: month,\n            StatusList: statusList,\n            StartDate: startDate,\n            EndDate: endDate\n          }\n        });\n\n        if (result && result.Success && result.Results) {\n          // Transform data to add combined date label for x-axis\n          const transformedData = result.Results.map(row => ({\n            ...row,\n            DateLabel: `$' + '{row.MonthName} $' + '{row.Year}$' + '{row.Status ? ` ($' + '{row.Status})` : ''''}`\n          }));\n\n          setData(transformedData);\n        } else {\n          setError(result?.ErrorMessage || ''Failed to load data'');\n        }\n      } catch (err) {\n        console.error(''Error loading monthly invoice revenue:'', err);\n        setError(err.message || ''An unexpected error occurred'');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [year, month, statusList, startDate, endDate, utilities]);\n\n  // Loading state\n  if (loading) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n        <div>Loading monthly revenue data...</div>\n      </div>\n    );\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>{error}</div>\n      </div>\n    );\n  }\n\n  // Empty state\n  if (!data || data.length === 0) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n        <div style={{ fontSize: ''16px'' }}>No Data Available</div>\n        <div style={{ marginTop: ''8px'' }}>\n          No invoices found matching the specified criteria\n        </div>\n      </div>\n    );\n  }\n\n  // Render chart\n  return (\n    <div style={{ padding: ''16px'' }}>\n      <SimpleChart\n        entityName=\"Invoices\"\n        data={data}\n        chartType={chartType}\n        groupBy=\"DateLabel\"\n        valueField=\"TotalRevenue\"\n        aggregateMethod=\"sum\"\n        title={title}\n        showLegend={false}\n        utilities={utilities}\n        styles={styles}\n        components={components}\n      />\n\n      {/* Summary Statistics */}\n      <div style={{\n        marginTop: ''24px'',\n        display: ''grid'',\n        gridTemplateColumns: ''repeat(4, 1fr)'',\n        gap: ''16px''\n      }}>\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Revenue\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n            $' + '{data.reduce((sum, row) => sum + (row.TotalRevenue || 0), 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Invoices\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n            {data.reduce((sum, row) => sum + (row.InvoiceCount || 0), 0).toLocaleString()}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Outstanding\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n            $' + '{data.reduce((sum, row) => sum + (row.TotalOutstanding || 0), 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Average Invoice\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#722ed1'' }}>\n            $' + '{(data.reduce((sum, row) => sum + (row.AvgInvoice || 0), 0) / data.length).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","exampleUsage":"// Display monthly revenue for all years (defaults to Paid status)\n<MonthlyInvoiceRevenue />\n\n// Display monthly revenue for 2024 only\n<MonthlyInvoiceRevenue year={2024} />\n\n// Compare Paid vs Sent invoices (adds Status column)\n<MonthlyInvoiceRevenue year={2024} statusList=\"Paid,Sent\" />\n\n// Display all invoice statuses for December 2024\n<MonthlyInvoiceRevenue year={2024} month={12} statusList=\"Draft,Sent,Paid,Overdue\" />\n\n// Custom date range\n<MonthlyInvoiceRevenue startDate=\"2024-01-01\" endDate=\"2024-06-30\" />\n\n// With custom title and chart type\n<MonthlyInvoiceRevenue title=\"Revenue Trends\" chartType=\"line\" year={2024} />"}'
SET
  @FunctionalRequirements_1d2e9281 = N'## Business Objectives
- Visualize monthly revenue trends from invoices
- Understand revenue patterns and seasonality across different invoice statuses
- Compare monthly performance over time
- Analyze outstanding balances and payment trends

## Functional Requirements
- **Chart Display**: Render a bar chart showing monthly revenue totals
- **Flexible Filtering**: Support year, month, status list, and custom date range filters
- **Dynamic Grouping**: When multiple statuses provided (e.g., ''Paid,Sent''), group by status for comparison
- **Data Metrics**: Show total revenue, invoice count, outstanding balance, and average invoice
- **Tooltips**: Display detailed metrics when hovering over bars
- **Responsive Design**: Chart resizes for different screen sizes
- **Loading States**: Show loading indicator while data is being fetched
- **Empty State**: Display helpful message if no data is available
- **Error Handling**: Show user-friendly error messages if query fails'
SET
  @TechnicalDesign_1d2e9281 = N'## Technical Architecture

### Component Structure
- **Root Component (MonthlyInvoiceRevenue)**: Manages data loading and layout
- **SimpleChart**: Reusable chart component for visualization
- **StatCard**: Summary statistic cards (4 total)

### State Management
- data: Array of query results with transformed DateLabel
- loading: Boolean for async query state
- error: String for error messages

### Data Flow
1. Component receives parameters as props (year, month, statusList, startDate, endDate)
2. useEffect triggers on mount or parameter changes
3. Calls utilities.rq.RunQuery with ''Monthly Invoice Revenue'' query name
4. Transforms results to add DateLabel: "{MonthName} {Year} ({Status})"
5. Passes transformed data to SimpleChart component
6. Calculates summary statistics from data

### Query Integration
- Query Name: ''Monthly Invoice Revenue''
- Parameters: Year (int), Month (int), StatusList (string), StartDate (datetime), EndDate (datetime)
- Dynamic Results: Status column only appears when StatusList contains comma
- Returns: Year, Month, MonthName, Status (optional), TotalRevenue, TotalSubTotal, TotalTax, TotalPaid, TotalOutstanding, InvoiceCount, AvgInvoice

### Layout
```
+------------------------------------------+
|         Monthly Invoice Revenue          |
|                                          |
|  [Bar Chart showing revenue by month]    |
|                                          |
+------------------------------------------+
|  [AvgInvoice]  [Count]  [Paid]  [Outstanding] |
+------------------------------------------+
```

### Props
- utilities: MJ utilities object (required for RunQuery)
- styles: Styling utilities
- components: Component registry (requires SimpleChart)
- year: Optional year filter
- month: Optional month filter (1-12)
- statusList: Optional status filter (e.g., ''Paid'' or ''Paid,Sent'')
- startDate: Optional start date filter
- endDate: Optional end date filter
- chartType: Chart visualization type (default: ''bar'')
- title: Chart title (default: ''Monthly Invoice Revenue'')'
SET
  @FunctionalRequirementsVector_1d2e9281 = N'[0.014569583348929882,0.05184818059206009,-0.03575415909290314,-0.01591116189956665,-0.015876170247793198,0.010307577438652515,0.005057098809629679,0.051292017102241516,-0.031735699623823166,0.03297128155827522,-0.03485012426972389,0.0345054492354393,0.061743490397930145,0.1109049990773201,-0.029909750446677208,-0.05653582513332367,-0.035209398716688156,0.0440153069794178,0.026044217869639397,0.021240193396806717,0.028686007484793663,0.005259588826447725,-0.013284326530992985,-0.023506630212068558,0.007549523375928402,-0.01347041130065918,-0.02308660000562668,0.027695223689079285,-0.02827082760632038,-0.06882933527231216,0.025243939831852913,0.005291576962918043,-0.04230564087629318,0.006918923929333687,0.000002384536628596834,-0.02228621393442154,-0.055464617908000946,-0.01054576225578785,-0.001117020146921277,0.09303253889083862,0.04303383454680443,-0.08770418912172318,0.03612101078033447,0.008416238240897655,0.013662410899996758,0.03490438312292099,-0.016615821048617363,0.05378146097064018,0.036909595131874084,-0.04361577332019806,-0.022478163242340088,-0.02848484367132187,-0.0865618884563446,-0.03205389901995659,-0.02077602967619896,-0.05289284512400627,-0.0015940327430143952,0.008551192469894886,0.06442175060510635,-0.07845126837491989,-0.019017400220036507,0.015446729026734829,-0.014620802365243435,-0.019222380593419075,0.03798650577664375,0.039491888135671616,0.09550541639328003,-0.04675993695855141,-0.02747342549264431,-0.02983126789331436,0.04238494113087654,0.0029290218371897936,0.021876128390431404,0.0013839822495356202,-0.03711986914277077,0.003649916732683778,-0.0715801790356636,0.0006975469877943397,0.019318753853440285,0.0008912720368243754,-0.05546141415834427,0.0395478755235672,-0.035933323204517365,0.03316239267587662,0.007092444226145744,-0.05300556495785713,-0.015778841450810432,-0.021977290511131287,-0.027805296704173088,-0.005825204774737358,0.027559082955121994,-0.01066319365054369,0.011801356449723244,0.014645031653344631,-0.008371131494641304,-0.0030276437755674124,0.04265880957245827,-0.025751808658242226,0.052917301654815674,-0.011493492871522903,0.05022868141531944,0.014936443418264389,-0.02929474040865898,0.036490507423877716,0.04108445346355438,-0.007709374185651541,-0.05614558607339859,-0.06721944361925125,0.0002827141433954239,0.0364672988653183,0.029787860810756683,-0.0008140458376146853,-0.013471282087266445,0.016799340024590492,0.0026869606226682663,0.00941352266818285,-0.011065222322940826,-0.010455339215695858,-0.02760186791419983,0.017882060259580612,0.08971328288316727,0.03268005698919296,0.008298574015498161,0.03873198479413986,0.005788997281342745,0.02666012942790985,-0.048753801733255386,-0.004971757531166077,0.015182440169155598,-0.02750871330499649,0.010536673478782177,-0.021570956334471703,0.038042277097702026,0.0008203299948945642,0.025799566879868507,0.015360032208263874,0.02605278603732586,0.055989108979701996,-0.05701965466141701,-0.028546994552016258,0.018459973856806755,-0.035899970680475235,-0.07645351439714432,0.02232668735086918,0.016553884372115135,0.005557593889534473,-0.021229911595582962,0.10364452749490738,-0.010857585817575455,0.004269779659807682,0.01927025429904461,-0.006943366955965757,-0.023659972473978996,0.012473581358790398,0.03057914413511753,-0.00941350869834423,0.07080530375242233,0.009372024796903133,0.023006319999694824,-0.036653533577919006,0.01564488746225834,-0.007077914662659168,-0.026242217049002647,-0.02202671393752098,-0.027823874726891518,0.007915226742625237,-0.06381672620773315,0.025692593306303024,-0.099662184715271,-0.05118577927350998,-0.05275530740618706,-0.01722918078303337,-0.008917124010622501,0.050510842353105545,0.029794886708259583,-0.05688925459980965,0.05002417787909508,-0.07459551841020584,-0.019250955432653427,-0.003489789320155978,0.043886225670576096,-0.12946785986423492,0.026374690234661102,0.0375930555164814,0.05043259635567665,-0.007811189629137516,-0.10567422956228256,-0.003543287981301546,-0.010444283485412598,-0.03327280282974243,-0.024019978940486908,0.00037965510273352265,-0.07166711986064911,0.04729907959699631,0.017168039456009865,0.043246109038591385,-0.003283623605966568,-0.06209811568260193,0.009384293109178543,0.0009394536609761417,0.031138325110077858,-0.029393788427114487,0.0528423935174942,0.06585724651813507,0.03798482567071915,0.012075242586433887,0.004823514260351658,-0.0224373247474432,-0.039954811334609985,0.011354870162904263,0.024393422529101372,0.005517461337149143,-0.02254830300807953,-0.006581517867743969,-0.015069660730659962,0.05411744862794876,0.04582921415567398,0.0007755514234304428,-0.01463661715388298,-0.001310589606873691,-0.009895610623061657,-0.028136465698480606,0.028676314279437065,-0.013610921800136566,0.12303456664085388,-0.009912281297147274,0.02737969346344471,0.035605937242507935,0.06421764940023422,-0.00012889629579149187,-0.0028662558179348707,0.02068568766117096,0.027248213067650795,0.020902255550026894,0.03787582740187645,0.07472623884677887,0.07373058795928955,0.07512689381837845,-0.03702858090400696,0.013284975662827492,0.047620173543691635,-0.029535196721553802,-0.012796086259186268,-0.019956132397055626,0.0313689187169075,-0.05620982125401497,0.004077659919857979,0.004554787650704384,-0.019459737464785576,-0.006053154356777668,0.02087882161140442,0.00400936184450984,0.01570732891559601,0.020992696285247803,-0.0060176546685397625,-0.021314585581421852,-0.04016941785812378,-0.024608027189970016,0.02067004144191742,0.051540035754442215,0.05049951747059822,-0.012710301205515862,0.0076273656450212,-0.04393429681658745,0.021551288664340973,-0.03981615602970123,0.06278102099895477,-0.02758883871138096,-0.016310231760144234,0.0386904701590538,-0.04663737490773201,0.055442605167627335,0.03061581775546074,-0.005012672394514084,-0.04748338833451271,0.040758103132247925,-0.03787534311413765,0.020490335300564766,-0.04459305852651596,0.011827117763459682,0.010134981945157051,-0.02782558836042881,0.015120156109333038,0.025651175528764725,-0.010330995544791222,-0.03819877281785011,0.0582335963845253,-0.05941660329699516,0.040492862462997437,-0.030924703925848007,-0.018159812316298485,-0.027927972376346588,0.014569206163287163,-0.00020563627185765654,-0.028127804398536682,0.011171811260282993,0.023101259022951126,0.012716108001768589,-0.01212321687489748,0.01336473599076271,-0.028926659375429153,-0.03841044753789902,-0.006437500473111868,-0.021092599257826805,-0.02221873216331005,0.04426306486129761,0.08056409657001495,0.004000582732260227,0.023205216974020004,0.026432836428284645,0.04496915638446808,0.006284220609813929,0.0014890014426782727,-0.04432280361652374,0.026953481137752533,0.0266835056245327,-0.014594834297895432,0.08204056322574615,-0.024067625403404236,0.08367034047842026,0.015803953632712364,-0.021359974518418312,-0.0345274992287159,0.02566431649029255,-0.05269356071949005,0.03146940842270851,-0.07295803725719452,-0.044309988617897034,-0.03167596086859703,-0.021322213113307953,0.004232238512486219,-0.026814866811037064,-0.012265018187463284,0.03661767765879631,0.0019331142539158463,0.05460448935627937,-0.020444726571440697,-0.011429345235228539,0.012439635582268238,-0.03435778245329857,0.016586774960160255,0.052103400230407715,-0.028492724522948265,0.031995389610528946,-0.0018894521053880453,-0.006721450947225094,-0.012080324813723564,0.049063216894865036,-0.03299954533576965,0.01950756646692753,0.025133714079856873,0.045487914234399796,-0.006695187650620937,-0.0274323932826519,0.02261319011449814,-0.035121284425258636,-0.06586626917123795,-0.02407076768577099,-0.06962424516677856,-0.06337907910346985,0.008620157837867737,-0.02244611643254757,0.004902950953692198,0.010401634499430656,0.026305843144655228,0.046860694885253906,0.02130286768078804,0.0009830307681113482,0.019029049202799797,0.0059416452422738075,-0.07871110737323761,-0.006465405225753784,-0.009087699465453625,-0.0045478190295398235,0.008160354569554329,-0.011211749166250229,0.015098372474312782,0.04417911171913147,-0.01711723394691944,0.01530761830508709,0.020933261141180992,-0.022484809160232544,0.0853554904460907,0.0009325192077085376,0.07888763397932053,0.00017840151849668473,-0.035770438611507416,-0.056093402206897736,-0.01672007143497467,0.04269334301352501,-0.01957010291516781,0.03042844496667385,0.014084260910749435,-0.08103322982788086,0.011352316476404667,-0.03660726547241211,-0.03731030598282814,0.041026923805475235,0.022965069860219955,-0.028809867799282074,0.02658851258456707,-0.039238300174474716,-0.03479878976941109,-0.03322586417198181,0.025808090344071388,-0.09784548729658127,0.029860595241189003,0.053521767258644104,-0.04293816164135933,0.002591946395114064,-0.043357402086257935,-0.006267578806728125,-0.03370416536927223,-0.04067257046699524,0.025424223393201828,0.02431628294289112,-0.02440938912332058,-0.005712416488677263,0.027647437527775764,0.0021671198774129152,0.032399602234363556,0.002763711614534259,-0.016424937173724174,-0.0370929054915905,0.034984290599823,-0.017528722062706947,-0.0024930648505687714,-0.026902897283434868,-0.006793804466724396,0.017635811120271683,-0.023750558495521545,-0.012500586919486523,0.013687558472156525,0.01127314567565918,-0.0850844457745552,0.02399529702961445,0.0053220512345433235,-0.002517148619517684,-0.04341818392276764,-0.018584685400128365,-0.010893800295889378,-0.011814956553280354,0.024200765416026115,0.002624783432111144,0.008447007276117802,-0.015570494346320629,-0.013466114178299904,-0.009310787543654442,-0.10167127102613449,0.012231000699102879,0.005567094776779413,-0.06833858788013458,-0.02512626349925995,-0.027578599750995636,-0.027018582448363304,-0.030067065730690956,-0.0527649000287056,-0.04611339047551155,0.03041156753897667,-0.0008175110560841858,0.010181083343923092,0.03378085047006607,-0.07069481164216995,-0.010263359174132347,0.09244560450315475,-0.011872890405356884,0.08088243752717972,-0.024896254763007164,-0.06875311583280563,-0.050025574862957,0.06655719131231308,-0.011790324933826923,-0.024534042924642563,-0.026685865595936775,0.018669862300157547,-0.021350275725126266,0.0015228294068947434,0.03860687091946602,-0.003315451554954052,-0.00250017992220819,0.03582882508635521,-0.0052742911502718925,0.029963292181491852,-0.060919422656297684,0.01251952350139618,-0.014430584385991096,-0.03226688876748085,-0.02024240233004093,-0.012495490722358227,-0.03243942931294441,0.04636256396770477,0.030775343999266624,0.008035704493522644,0.08072840422391891,0.016984770074486732,-0.03949762508273125,0.02292131446301937,0.028164755553007126,-0.060763757675886154,-0.02097826637327671,-0.04212590679526329,-0.0029133083298802376,0.012130729854106903,-0.029539939016103745,-0.026750072836875916,0.007681732065975666,0.04215231537818909,-0.004238586872816086,-0.03567762300372124,0.032741036266088486,-0.012327548116445541,-0.028656143695116043,-0.005527603439986706,-0.02545803412795067,0.044512905180454254,0.026842644438147545,-0.03642994165420532,-0.06801829487085342,0.02787703648209572,-0.0649310052394867,0.013002985157072544,0.004263087175786495,0.05960394814610481,-0.002740098163485527,0.05716239660978317,-0.02416655793786049,0.01850046217441559,-0.024493247270584106,-0.04666801542043686,0.05396483093500137,-0.022559141740202904,-0.038000985980033875,-0.049888353794813156,0.017553793266415596,-0.0613694004714489,0.0393952839076519,-0.009325802326202393,-0.01866857334971428,-0.015094520524144173,0.008981479331851006,-0.03748353570699692,-0.0005664301570504904,0.0066727749072015285,-0.032961975783109665,-0.008135576732456684,-0.014993757009506226,0.01978517509996891,-0.011442594230175018,-0.012759076431393623,0.05711584910750389,-0.0008297323365695775,-0.030289214104413986,-0.028070008382201195,-0.004082226660102606,-0.038685739040374756,-7.297543132985657e-33,-0.00906921736896038,-0.012879278510808945,-0.034472715109586716,0.00862604659050703,0.020815439522266388,0.008780460804700851,0.012908091768622398,-0.05865419656038284,0.00870910007506609,-0.035472892224788666,-0.026221496984362602,-0.0060392143204808235,0.03027205541729927,-0.020334066823124886,0.048219047486782074,0.009145347401499748,0.0322837233543396,-0.0055192275904119015,-0.014553464949131012,-0.026455329731106758,-0.025218812748789787,0.032013874500989914,0.019892005249857903,-0.04223666340112686,0.03237369656562805,0.0126990657299757,-0.05813484638929367,0.02305428870022297,0.01888681761920452,0.007819988764822483,0.03065067157149315,-0.029628604650497437,-0.03220289945602417,0.007421426475048065,-0.01481866929680109,0.003606024431064725,-0.03815207630395889,-0.01604430563747883,0.021837975829839706,0.04306810349225998,0.02404835633933544,0.02855324186384678,0.053156010806560516,-0.004360819235444069,-0.004228462465107441,-0.024813702329993248,0.01615080051124096,-0.017831331118941307,0.05778605118393898,-0.009986373595893383,0.013344665057957172,0.017087945714592934,-0.024222053587436676,0.054154857993125916,0.023469166830182076,0.0690593346953392,-0.023435596376657486,0.0551055446267128,-0.038630519062280655,-0.032830022275447845,-0.019023295491933823,-0.032848745584487915,-0.017553528770804405,0.021599112078547478,0.030446449294686317,-0.04298968240618706,-0.012209700420498848,0.008702114224433899,0.018468808382749557,-0.023935591802001,0.013427678495645523,0.05432871729135513,0.03048166260123253,-0.02889600582420826,0.0576164573431015,-0.014028453268110752,-0.022786317393183708,0.028360286727547646,0.05317598581314087,0.034258272498846054,-0.01473972387611866,-0.0025190466549247503,-0.004281796049326658,0.018313761800527573,0.0781673789024353,-0.06862423568964005,-0.013860923238098621,-0.024292662739753723,0.020283961668610573,0.03537183627486229,0.022556642070412636,0.03906947746872902,-0.07064469158649445,0.023207910358905792,-0.09434818476438522,-0.014948533847928047,0.06393121182918549,0.0024110586382448673,0.024348651990294456,-0.06551297754049301,0.014363450929522514,0.01151734683662653,-0.04730524867773056,0.04227004572749138,-0.015056414529681206,-0.020525766536593437,0.06135096028447151,-0.018715761601924896,-0.047437962144613266,0.01679261587560177,0.035309068858623505,0.020824437960982323,0.005417229607701302,0.0638904795050621,0.0024643857032060623,-0.01507066935300827,-0.013636928051710129,-0.033385053277015686,0.022834187373518944,-0.03831268846988678,0.022288598120212555,0.01454838551580906,-0.053245943039655685,0.016839588060975075,0.016387347131967545,-0.03138779103755951,-0.01392360869795084,-0.019337108358740807,0.025052422657608986,0.0026432315353304148,-0.005730018950998783,-0.0027757834177464247,3.2860145893209847e-7,0.06153232976794243,0.003805785905569792,-0.01577732339501381,0.06669531017541885,-0.008997483178973198,-0.021476102992892265,-0.07005070149898529,-0.028138961642980576,-0.02496297098696232,0.0009628855041228235,0.04099179804325104,-0.007460367865860462,0.050442565232515335,0.06493816524744034,-0.0037507147062569857,-0.0954059436917305,-0.018717998638749123,-0.047719426453113556,-0.021319212391972542,0.02284129150211811,0.027077745646238327,0.01752343587577343,0.10057640075683594,-0.026591269299387932,0.03281176835298538,-0.005834617651998997,-0.02715010941028595,-0.05716171860694885,0.04139158874750137,-0.017009634524583817,0.001234999974258244,0.03401980921626091,0.0017574044177308679,-0.000842698966152966,-0.02129734493792057,-0.0021119643934071064,-0.015038286335766315,0.0031207010615617037,0.014016644097864628,0.0772472470998764,0.04219289869070053,-0.02631409838795662,-0.003868606872856617,-0.05973543971776962,0.008760174736380577,0.01537864189594984,-0.0055165099911391735,0.023709304630756378,-0.023638268932700157,0.03445630893111229,0.050259966403245926,-0.009022248908877373,-0.07102475315332413,-0.027833713218569756,0.028587406501173973,-0.03192615881562233,-0.01916717179119587,0.07980500161647797,0.04255472496151924,0.06720396131277084,-0.01893988437950611,0.01286145206540823,0.0013299157144501805,0.0604768842458725,0.0017077920492738485,0.01425174530595541,-0.003337209578603506,3.359582140104291e-34,0.023528482764959335,0.0026521249674260616,0.05972372367978096,0.022719483822584152,0.0023766004014760256,-0.03081580065190792,-0.018284032121300697,0.00876343622803688,-0.018861277028918266,0.0013033340219408274,-0.019781971350312233]'
SET
  @TechnicalDesignVector_1d2e9281 = N'[0.007263797335326672,0.07696464657783508,-0.03185470029711723,-0.058600254356861115,0.01168329082429409,0.013651646673679352,-0.0069459970109164715,0.03873550146818161,-0.030017118901014328,0.029743405058979988,-0.03531162068247795,0.0679687112569809,0.08049227297306061,0.05517672002315521,-0.046746812760829926,-0.018143126741051674,0.008480248041450977,0.07826370745897293,-0.002115632640197873,-0.01667298935353756,0.018635855987668037,-0.002440748270601034,0.011328008025884628,-0.023766838014125824,0.01476873829960823,-0.03441133722662926,-0.04977500066161156,0.027277477085590363,0.019418681040406227,-0.06875228136777878,-0.0150609090924263,0.019128816202282906,-0.029380448162555695,0.02048424445092678,0.00000205203491532302,-0.03944489732384682,-0.013462979346513748,0.00664801150560379,-0.00008585907926317304,0.04142375662922859,0.04061895236372948,-0.07695351541042328,0.04612339287996292,0.014078745618462563,0.025280360132455826,-0.03012859635055065,-0.031841397285461426,-0.03608072176575661,0.04568493738770485,-0.022970447316765785,-0.012923060916364193,-0.029961423948407173,-0.07422395795583725,0.0011019348166882992,-0.008223836310207844,-0.0750095397233963,-0.004993447568267584,0.017575332894921303,0.07743097841739655,-0.07428641617298126,-0.0625452771782875,0.01133035495877266,0.004542480688542128,-0.025859806686639786,0.022661685943603516,0.02538060024380684,0.05490117147564888,0.03084574081003666,-0.007748391479253769,-0.014107665047049522,0.031234586611390114,-0.016321515664458275,0.010384304448962212,0.02452431246638298,-0.03532053530216217,-0.009164262562990189,-0.05121239647269249,-0.013146873563528061,0.0002974876551888883,0.011812685057520866,0.010721263475716114,0.09331304579973221,-0.04965117946267128,0.017018286511301994,-0.0014249468222260475,-0.02544369548559189,-0.029007822275161743,-0.008195851929485798,0.004192513879388571,-0.028499525040388107,0.03854471445083618,-0.015848664566874504,-0.01357599813491106,0.043331578373909,-0.04447200894355774,0.018648112192749977,0.03369056433439255,-0.12153027951717377,0.04555656760931015,-0.03660309314727783,0.0017516762018203735,0.03639885038137436,-0.010129031725227833,0.012250907719135284,0.06377272307872772,0.06662295013666153,-0.01641855016350746,-0.03189313784241676,-0.023741750046610832,-0.019730836153030396,0.006806677207350731,-0.013792675919830799,0.005773266311734915,0.01927115023136139,0.018001286312937737,0.02362630143761635,-0.0595153272151947,-0.02088725008070469,-0.029970256611704826,0.0030463014263659716,0.06781454384326935,0.0024647503159940243,-0.01890992745757103,0.051968738436698914,0.051271237432956696,0.026846107095479965,0.0465625636279583,-0.03875817731022835,-0.0007100946386344731,-0.014711652882397175,-0.01803114078938961,0.0024486160837113857,0.04809971898794174,0.001387093449011445,-0.011032416485249996,0.04508694261312485,0.0024952825624495745,0.031333405524492264,-0.030032720416784286,-0.037427231669425964,-0.00023885602422524244,-0.011492904275655746,-0.019651759415864944,0.03285995498299599,0.009908955544233322,-0.0010112290037795901,0.04649928957223892,0.04558485001325607,-0.00032087258296087384,0.03546014800667763,0.049604129046201706,0.03465528041124344,0.030220260843634605,0.025425953790545464,-0.020553143694996834,0.000024206743546528742,0.09678234905004501,0.03522538021206856,0.055104684084653854,-0.026315102353692055,0.007022199220955372,0.052731115370988846,0.028614666312932968,-0.009330762550234795,-0.02193032205104828,0.05427119880914688,-0.08606863021850586,0.0012813002103939652,-0.06765727698802948,-0.026372304186224937,-0.023006215691566467,-0.053311534225940704,-0.0064873406663537025,0.09359034150838852,0.02928215265274048,-0.061796676367521286,0.014279074035584927,-0.07269349694252014,-0.056175027042627335,-0.018117140978574753,-0.017864514142274857,-0.08587575703859329,0.036376435309648514,0.014782100915908813,0.06450147926807404,-0.011504558846354485,-0.02617989294230938,-0.019084254279732704,0.0007663053693249822,-0.037026021629571915,-0.00856429897248745,0.022529413923621178,-0.09861928969621658,0.03262590989470482,-0.0020288454834371805,0.027950093150138855,-0.027803225442767143,-0.06636269390583038,-0.012021677568554878,0.029520513489842415,0.04831824079155922,-0.01764826849102974,0.06054505705833435,0.0013825634960085154,-0.0014854439068585634,0.0026621378492563963,-0.014323458075523376,0.00568474130704999,-0.012161647900938988,-0.05311639979481697,-0.008414924144744873,-0.012445573695003986,-0.035383887588977814,0.013896167278289795,0.02015290968120098,0.07244809716939926,0.02375861071050167,0.0066189756616950035,-0.013433648273348808,-0.027519136667251587,-0.003514012321829796,-0.03117271140217781,0.022709978744387627,-0.017255233600735664,0.09633991122245789,0.019446538761258125,0.044619377702474594,-0.00047768079093657434,0.08282731473445892,-0.02964203804731369,0.004636372905224562,0.010931042954325676,-0.0002524100709706545,0.02216002531349659,0.00005731076453230344,0.0923377275466919,0.009315893985331059,-0.06838766485452652,-0.03276338800787926,-0.0011722049675881863,0.04023602232336998,-0.032523300498723984,-0.02743993140757084,-0.037124812602996826,-0.003614176530390978,-0.05475892126560211,-0.06194108724594116,0.030495483428239822,-0.032781146466732025,-0.004704679828137159,0.011257010512053967,-0.014197159558534622,0.01097962073981762,-0.017506586387753487,-0.03851696476340294,-0.021172884851694107,-0.020528750494122505,-0.01978057250380516,-0.03230587765574455,0.049344319850206375,0.03417820483446121,0.06228095293045044,-0.017137285321950912,-0.06429368257522583,0.02580268681049347,-0.03220713138580322,0.009321852587163448,-0.010019592940807343,-0.0006375402444973588,0.04301706328988075,-0.03408275544643402,0.05097365751862526,0.036976899951696396,-0.00880472082644701,-0.002915441757068038,0.007075105328112841,-0.07201828807592392,0.05408460274338722,-0.015911409631371498,-0.0028562298975884914,-0.0011223338078707457,-0.007552729453891516,0.055102139711380005,0.009412020444869995,-0.025957662612199783,-0.0005378499627113342,0.04427143186330795,-0.04453187808394432,0.023808343335986137,-0.03964238241314888,0.0280165933072567,-0.03858184069395065,0.01537717878818512,-0.03457915782928467,-0.05053367838263512,0.02757846936583519,0.020528361201286316,0.017267515882849693,0.00780184380710125,-0.03394395485520363,-0.011683022603392601,-0.03240196406841278,-0.00452986266463995,-0.022880012169480324,-0.03091546706855297,0.0303756445646286,0.06685308367013931,-0.0039489129558205605,0.011420673690736294,0.013920173048973083,0.025730041787028313,-0.003086817916482687,-0.0099173067137599,-0.032695237547159195,0.030010169371962547,0.015966953709721565,0.012930784374475479,-0.005347881931811571,-0.006673914380371571,0.04884575679898262,0.025632523000240326,-0.01784368045628071,-0.011782954446971416,0.027803286910057068,-0.05810809135437012,0.019341742619872093,-0.009315961971879005,-0.059567034244537354,-0.003150969510897994,0.009965247474610806,0.02089633420109749,-0.05013594403862953,-0.018943095579743385,0.01468439120799303,0.014410411939024925,-0.0039453874342143536,-0.010129611939191818,0.03223874047398567,0.005560968536883593,-0.018022453412413597,0.011985987424850464,0.05288812145590782,-0.0368405357003212,0.04635562002658844,0.0019104130333289504,-0.01172370370477438,-0.015719382092356682,0.053397104144096375,-0.014873075298964977,0.0024487716145813465,0.0033722263760864735,0.044827014207839966,-0.007820865139365196,-0.040653835982084274,-0.021431939676404,-0.00872747227549553,-0.004092262126505375,0.01665010303258896,-0.014269726350903511,-0.017920484766364098,0.06675881892442703,0.005597744602710009,0.05487421154975891,0.028283661231398582,0.01597444899380207,0.023504294455051422,0.013664825819432735,0.004202342592179775,0.0127806905657053,-0.024652408435940742,-0.07482882589101791,0.0054387799464166164,-0.014336765743792057,-0.01129499077796936,-0.011457481421530247,0.03365969657897949,0.028365422040224075,0.03994936868548393,0.013170968741178513,0.026623589918017387,0.01798729971051216,-0.026842579245567322,0.09384647756814957,0.02749389223754406,0.10208284854888916,-0.06029432266950607,0.02366136759519577,-0.054076146334409714,-0.05818812921643257,0.038056351244449615,0.0007584650302305818,-0.02844233252108097,-0.016593702137470245,-0.03257110342383385,-0.003593327011913061,-0.021208031103014946,0.007622842211276293,0.05351762846112251,0.08037101477384567,-0.02500920556485653,0.003884539008140564,0.013074567541480064,0.011983683332800865,0.01153153833001852,0.06649293750524521,-0.07620140165090561,0.013456818647682667,0.04480307549238205,0.001357703236863017,0.033736541867256165,0.013909577392041683,-0.05334298312664032,-0.04887637868523598,-0.04368153214454651,0.009802354499697685,0.018117157742381096,-0.047208890318870544,-0.0369577594101429,0.029654132202267647,0.021186785772442818,-0.020075706765055656,-0.007163099478930235,-0.01044446974992752,-0.008827478624880314,0.05651436746120453,-0.020742885768413544,0.008885660208761692,-0.028406154364347458,-0.05448896065354347,-0.008129189722239971,0.03726024180650711,-0.0034035718999803066,0.07745850086212158,0.0333351269364357,-0.049693722277879715,-0.023594288155436516,0.013404255732893944,-0.00650491937994957,-0.031212007626891136,-0.02454606257379055,-0.006169894244521856,-0.025698043406009674,0.08087849617004395,0.01022536214441061,0.008746343664824963,0.004461592063307762,-0.022533677518367767,0.07083967328071594,-0.057142630219459534,-0.016283119097352028,0.013206740841269493,-0.009205065667629242,-0.023137742653489113,-0.035652484744787216,-0.032704778015613556,-0.036543138325214386,-0.06271261721849442,-0.0031976508907973766,-0.008062036707997322,0.0007151876925490797,-0.017865663394331932,0.036123037338256836,0.005738887935876846,-0.0439002588391304,0.07842963188886642,-0.009576375596225262,0.07259650528430939,0.019820669665932655,-0.03847312927246094,-0.027779875323176384,0.0705457404255867,0.00873766653239727,-0.011184515431523323,-0.006429341621696949,0.010267915204167366,-0.035634540021419525,0.024531397968530655,-0.01042262651026249,-0.023243749514222145,-0.017481043934822083,0.0645301342010498,0.007497352082282305,-0.0059843165799975395,-0.02992928773164749,0.026291774585843086,-0.031232373788952827,-0.035425104200839996,-0.03380155563354492,-0.007662573363631964,-0.03877529501914978,0.02556341513991356,0.0390913151204586,-0.0177578367292881,0.047297049313783646,0.0030412571504712105,0.004446052480489016,0.022488415241241455,0.013721562922000885,-0.046952102333307266,-0.02544042095541954,-0.0356992706656456,-0.0023667747154831886,0.0162215419113636,-0.015088940039277077,0.024480609223246574,-0.005847436375916004,0.03203090280294418,0.022701015695929527,-0.01789284497499466,0.00607642624527216,-0.015132904052734375,-0.04405151307582855,-0.057410772889852524,0.028977593407034874,0.03960026055574417,0.023892970755696297,-0.06690406054258347,-0.06053469702601433,0.029947586357593536,-0.01431969553232193,0.006599117536097765,0.011597422882914543,0.054073117673397064,-0.00941279623657465,0.05863066762685776,0.013929472304880619,-0.006280569825321436,-0.012801197357475758,-0.03853248059749603,0.038204897195100784,0.02017863467335701,0.003079681657254696,-0.027056992053985596,0.026995671913027763,-0.01583372987806797,0.005098311230540276,-0.01953979954123497,-0.04963415488600731,0.02545314095914364,-0.02110408805310726,-0.08461400866508484,0.001596332062035799,0.04255416616797447,-0.032728902995586395,0.03166435286402702,-0.05695359781384468,0.04432055354118347,-0.059819214046001434,0.0026760571636259556,0.046550627797842026,0.01165713183581829,-0.015921281650662422,0.044985976070165634,-0.038862474262714386,0.02024034783244133,-6.042627975718e-33,-0.01859663613140583,0.000004758637714985525,-0.03645151108503342,0.00327235646545887,-0.009651069529354572,-0.017466800287365913,0.019506677985191345,-0.06988522410392761,0.032996293157339096,-0.07019789516925812,-0.006576512474566698,-0.021458234637975693,0.011323579587042332,-0.020896704867482185,0.03499303013086319,-0.04723059758543968,-0.003128508571535349,0.013326296582818031,-0.03349483758211136,-0.028871534392237663,-0.015835724771022797,0.017194414511322975,0.0088966591283679,-0.03047197125852108,0.00836307741701603,0.04396720603108406,-0.0434810109436512,0.03580600023269653,-0.033790651708841324,-0.027443578466773033,0.011940017342567444,-0.009259737096726894,-0.03487522527575493,-0.06905686110258102,-0.009717123582959175,-0.002612793119624257,-0.04451592266559601,-0.03380933403968811,0.018336975947022438,0.01623416692018509,0.04562517628073692,0.00806852150708437,0.057872459292411804,-0.013807815499603748,0.017257433384656906,-0.0610162578523159,-0.021249422803521156,-0.008669430390000343,0.04463914409279823,-0.09686624258756638,0.004288300406187773,0.02065807394683361,-0.0276811383664608,0.016892025247216225,-0.05697324499487877,0.052554890513420105,0.03232581913471222,0.12175783514976501,-0.057120487093925476,-0.005412136670202017,-0.04831787198781967,-0.05248314142227173,0.03625069186091423,0.050997987389564514,0.07739026844501495,-0.07754556834697723,0.029669426381587982,0.05241277441382408,-0.03224445879459381,-0.00942380540072918,0.01327241025865078,-0.040670085698366165,0.0157170407474041,0.003580927150323987,0.07246748358011246,-0.03198237344622612,-0.07418299466371536,0.004035996738821268,-0.04748593643307686,0.04296611621975899,-0.028043856844305992,0.007918639108538628,0.015994438901543617,-0.0022669772151857615,0.013036845251917839,-0.03945527598261833,0.026650652289390564,0.03273027390241623,-0.014037493616342545,0.01226071547716856,0.07171279191970825,0.02201555296778679,-0.07159115374088287,0.023965483531355858,-0.10698620229959488,-0.02621898241341114,0.05760885030031204,-0.001704268273897469,-0.020583318546414375,-0.01875237748026848,0.04636514559388161,0.017762120813131332,-0.011671931482851505,0.05374898016452789,-0.01551656424999237,0.011282041668891907,0.06408711522817612,0.0462031289935112,-0.05644652619957924,-0.02457306906580925,0.016706133261322975,0.008258664980530739,-0.03030852973461151,0.05511986464262009,0.009153978899121284,0.022758426144719124,0.00328427879139781,-0.09045940637588501,0.05075699836015701,0.008608276024460793,0.001180737861432135,0.008228990249335766,-0.033586665987968445,0.040814682841300964,-0.00511710112914443,-0.006825162097811699,0.005075943190604448,-0.04102416709065437,-0.007277198135852814,-0.006704895291477442,0.02250312827527523,-0.014639665372669697,2.917036852068122e-7,0.018497446551918983,-0.0404009111225605,-0.048185139894485474,0.030205916613340378,-0.0348234660923481,-0.025477707386016846,-0.07645998150110245,-0.028428537771105766,-0.002920084400102496,-0.048152435570955276,0.030470216646790504,0.009646882303059101,0.04611708223819733,0.014245186932384968,-0.00935831107199192,-0.042129531502723694,-0.020474623888731003,-0.03253564238548279,-0.008177822455763817,-0.006230401806533337,0.004367393907159567,0.0020982827991247177,0.10441800951957703,-0.032586175948381424,0.003869629930704832,0.052498821169137955,-0.022394850850105286,-0.04565105959773064,-0.018641753122210503,-0.02391301468014717,0.01256478950381279,0.01312529668211937,-0.0008796472102403641,0.007374044042080641,0.009201171807944775,0.02367115393280983,-0.010050643235445023,-0.02412237413227558,0.020766329020261765,0.05085882544517517,0.04527859762310982,-0.0030321930535137653,-0.01746785268187523,-0.014248918741941452,0.006408450659364462,-0.01888612098991871,-0.01152346096932888,0.028649156913161278,-0.016157083213329315,0.053309038281440735,0.014630816876888275,0.03397165983915329,-0.031168540939688683,0.010956537909805775,0.031056998297572136,-0.010931451804935932,0.012837658636271954,0.03970775753259659,0.004677753895521164,0.04967101663351059,-0.03296973183751106,-0.038497451692819595,0.051389604806900024,0.08430363982915878,-0.002734412904828787,0.02005981095135212,-0.03399312123656273,3.746305087845438e-34,0.04182666912674904,-0.018092036247253418,0.041626036167144775,0.00839937198907137,0.00035945657873526216,-0.030988726764917374,-0.031798992305994034,0.034486688673496246,0.05846733972430229,-0.025529298931360245,-0.029783014208078384]'
SET
  @HasCustomProps_1d2e9281 = 1
SET
  @HasCustomEvents_1d2e9281 = 0
SET
  @RequiresData_1d2e9281 = 1
SET
  @DependencyCount_1d2e9281 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_1d2e9281 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_1d2e9281 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_1d2e9281 = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_1d2e9281,
  @Namespace = @Namespace_1d2e9281,
  @Name = @Name_1d2e9281,
  @Version = @Version_1d2e9281,
  @VersionSequence = @VersionSequence_1d2e9281,
  @Title = @Title_1d2e9281,
  @Description = @Description_1d2e9281,
  @Type = @Type_1d2e9281,
  @Status = @Status_1d2e9281,
  @DeveloperName = @DeveloperName_1d2e9281,
  @DeveloperEmail = @DeveloperEmail_1d2e9281,
  @DeveloperOrganization = @DeveloperOrganization_1d2e9281,
  @SourceRegistryID = @SourceRegistryID_1d2e9281,
  @ReplicatedAt = @ReplicatedAt_1d2e9281,
  @LastSyncedAt = @LastSyncedAt_1d2e9281,
  @Specification = @Specification_1d2e9281,
  @FunctionalRequirements = @FunctionalRequirements_1d2e9281,
  @TechnicalDesign = @TechnicalDesign_1d2e9281,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_1d2e9281,
  @TechnicalDesignVector = @TechnicalDesignVector_1d2e9281,
  @HasCustomProps = @HasCustomProps_1d2e9281,
  @HasCustomEvents = @HasCustomEvents_1d2e9281,
  @RequiresData = @RequiresData_1d2e9281,
  @DependencyCount = @DependencyCount_1d2e9281,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_1d2e9281,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_1d2e9281,
  @HasRequiredCustomProps = @HasRequiredCustomProps_1d2e9281;

-- Save MJ: Components (core SP call only)
DECLARE @ID_2b6b582a UNIQUEIDENTIFIER,
@Namespace_2b6b582a NVARCHAR(MAX),
@Name_2b6b582a NVARCHAR(500),
@Version_2b6b582a NVARCHAR(50),
@VersionSequence_2b6b582a INT,
@Title_2b6b582a NVARCHAR(1000),
@Description_2b6b582a NVARCHAR(MAX),
@Type_2b6b582a NVARCHAR(255),
@Status_2b6b582a NVARCHAR(50),
@DeveloperName_2b6b582a NVARCHAR(255),
@DeveloperEmail_2b6b582a NVARCHAR(255),
@DeveloperOrganization_2b6b582a NVARCHAR(255),
@SourceRegistryID_2b6b582a UNIQUEIDENTIFIER,
@ReplicatedAt_2b6b582a DATETIMEOFFSET,
@LastSyncedAt_2b6b582a DATETIMEOFFSET,
@Specification_2b6b582a NVARCHAR(MAX),
@FunctionalRequirements_2b6b582a NVARCHAR(MAX),
@TechnicalDesign_2b6b582a NVARCHAR(MAX),
@FunctionalRequirementsVector_2b6b582a NVARCHAR(MAX),
@TechnicalDesignVector_2b6b582a NVARCHAR(MAX),
@HasCustomProps_2b6b582a BIT,
@HasCustomEvents_2b6b582a BIT,
@RequiresData_2b6b582a BIT,
@DependencyCount_2b6b582a INT,
@TechnicalDesignVectorEmbeddingModelID_2b6b582a NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_2b6b582a NVARCHAR(MAX),
@HasRequiredCustomProps_2b6b582a BIT
SET
  @ID_2b6b582a = '0A1F4AB3-9558-41AA-A6F0-E71BDD56B663'
SET
  @Namespace_2b6b582a = N'CRM/Sales'
SET
  @Name_2b6b582a = N'TopProductsRanking'
SET
  @Version_2b6b582a = N'1.0.0'
SET
  @VersionSequence_2b6b582a = 1
SET
  @Title_2b6b582a = N'Top Products Ranking'
SET
  @Description_2b6b582a = N'Displays top-performing products ranked by revenue, units sold, or profit margin with flexible filtering and drill-down capabilities.'
SET
  @Type_2b6b582a = N'Table'
SET
  @Status_2b6b582a = N'Published'
SET
  @Specification_2b6b582a = N'{"name":"TopProductsRanking","title":"Top Products Ranking","type":"table","userExplanation":"Displays top-performing products in a table with click-to-drill-down functionality. When you click a product row, it loads all invoice line items for that product, demonstrating manual drill-down control using RunView and DataGrid (not EntityDataGrid).","functionalRequirements":"## Business Objectives\n- Identify top-performing products by revenue, units sold, or profit margin\n- Support flexible filtering by product category and time period\n- Enable drill-down to see individual invoice line items for any product\n- Demonstrate manual RunView drill-down pattern with standard DataGrid\n\n## Functional Requirements\n- **Product Ranking Display**: Show top N products (configurable, default 10) in a table format\n- **Ranking Metrics**: Display product name, category, total revenue, units sold, and number of invoices\n- **Click-to-Drill-Down**: When user clicks a product row, load all invoice line items for that product using RunView\n- **Detail View**: Display invoice line items in standard DataGrid (not EntityDataGrid) with invoice date, quantity, unit price, total, and account name\n- **Back Navigation**: Provide clear way to return to product ranking view\n- **Flexible Filtering**: Support filtering by product category and date range\n- **Custom Data Transformation**: Demonstrate calculating additional metrics (like margin) on drill-down data\n- **Loading States**: Show loading indicators during data fetch\n- **Empty States**: Handle cases where no products or no line items exist","description":"Displays top-performing products ranked by revenue, units sold, or profit margin with flexible filtering and drill-down capabilities.","dataRequirements":{"mode":"hybrid","description":"Uses RunQuery for aggregated product rankings and RunView for drill-down to invoice line item details when user clicks a product","queries":[{"name":"Product Ranking","categoryPath":"Demo","description":"Unified product ranking query that ranks products by revenue with optional category filtering. Replaces both top-products-ranking.sql and category-top-products.sql. When Category parameter omitted, ranks across all categories. When Category provided, ranks within that category. Returns TOP N products (default 10) with revenue, quantity, invoice count, and average price metrics. General-purpose query for product performance analysis. **Result Order: TotalRevenue DESC** - Highest revenue products first for performance ranking.","entityNames":["Invoice Line Items","Products","Invoices"],"fields":[{"name":"ProductName","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":false,"isPrimaryKey":false,"description":"Name of the product"},{"name":"Category","sequence":2,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Product category"},{"name":"TotalRevenue","sequence":3,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total revenue from all invoice line items for this product"},{"name":"TotalQuantity","sequence":4,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Total units sold across all invoices"},{"name":"InvoiceCount","sequence":5,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of distinct invoices containing this product"},{"name":"AvgPrice","sequence":6,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average unit price across all sales"}],"parameters":[{"name":"TopN","isRequired":false,"type":"number","sampleValue":"10","description":"Number of top products to return (default: 10)"},{"name":"Category","isRequired":false,"type":"string","sampleValue":"Software","description":"Optional filter by product category"},{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"}]}],"entities":[{"name":"Products","description":"Product records shown in the main ranking query results. The query aggregates sales data by ProductID.","displayFields":["Name","Category"],"filterFields":["Category","ID"],"sortFields":["Name"],"usageContext":"Main entity displayed in DataGrid ranking table, grouped and aggregated in the Top Products Ranking query"},{"name":"Invoice Line Items","description":"Detail records shown when drilling down into a specific product. Loaded via RunView (not EntityDataGrid) to demonstrate manual data transformation.","displayFields":["InvoiceDate","InvoiceName","Quantity","UnitPrice","Total","AccountName"],"filterFields":["ProductID","InvoiceDate"],"sortFields":["InvoiceDate","Total"],"usageContext":"Loaded via RunView when user clicks on a product row. Filter: ProductID=''{selectedProductID}'', OrderBy: ''InvoiceDate DESC'', MaxRows: 100"},{"name":"Invoices","description":"Invoice records referenced in the query to provide invoice-level details (date, account name) for line items.","displayFields":["InvoiceNumber","InvoiceDate","AccountName"],"filterFields":["ID"],"sortFields":["InvoiceDate"],"usageContext":"Joined in query to provide InvoiceDate and AccountName view fields for Invoice Line Items"}]},"properties":[{"name":"topN","type":"number","required":false,"defaultValue":10,"description":"Number of top products to display"},{"name":"category","type":"string","required":false,"defaultValue":null,"description":"Optional filter by product category"},{"name":"startDate","type":"string","required":false,"defaultValue":null,"description":"Optional start date filter in YYYY-MM-DD format"},{"name":"endDate","type":"string","required":false,"defaultValue":null,"description":"Optional end date filter in YYYY-MM-DD format"}],"events":[{"name":"onProductClick","description":"Fired internally when user clicks a product row in the DataGrid. Triggers drill-down to show invoice line items for the selected product.","payload":{"ProductID":"string - UUID of the clicked product","ProductName":"string - Name of the product","Category":"string - Product category","TotalRevenue":"number - Total revenue for this product","TotalQuantity":"number - Total units sold","InvoiceCount":"number - Number of invoices containing this product","AvgPrice":"number - Average price per unit"},"example":"{ ProductID: ''abc-123'', ProductName: ''Premium Widget'', Category: ''Hardware'', TotalRevenue: 125000.00, TotalQuantity: 500, InvoiceCount: 45, AvgPrice: 250.00 }"}],"dependencies":[{"name":"DataGrid","location":"registry","namespace":"Generic/UI/Table","version":"^1.0.0"}],"location":"embedded","technicalDesign":"## Component Architecture\n\n### Data Flow\n1. **Initial Load**: RunQuery executes ''Top Products Ranking'' with optional filters (topN, category, startDate, endDate)\n2. **Table Rendering**: DataGrid displays aggregated product ranking data with click handlers\n3. **User Interaction**: User clicks product row in DataGrid\n4. **Manual Drill-Down**: Component executes RunView to load Invoice Line Items filtered by ProductID\n5. **Detail View**: Standard DataGrid (not EntityDataGrid) displays line items with manual state management\n6. **Back Navigation**: User clicks back button to return to ranking view\n\n### State Management\n- `data`: Array of query results (product rankings)\n- `loading`: Boolean for initial data load\n- `error`: String for query error messages\n- `selectedProduct`: Object containing clicked product details (null = ranking view, object = detail view)\n- `detailData`: Array of invoice line items for selected product\n- `detailLoading`: Boolean for detail data loading state\n- `detailError`: String for detail loading error messages\n\n### Manual Drill-Down Pattern\nUnlike EntityDataGrid pattern (chart + grid), this component uses:\n- **View Switching**: Hides ranking table when product is selected\n- **Manual RunView**: Explicit call to `utilities.rv.RunView` with ProductID filter\n- **Standard DataGrid**: Uses basic DataGrid (not EntityDataGrid) for detail view\n- **Custom Layout**: Detail view includes product metrics cards + line items table\n\n### DataGrid Configuration\n**Main Ranking Table**:\n- Displays query results directly (no entity-based loading)\n- Includes sorting, filtering, pagination controls\n- onRowClick handler triggers drill-down\n- OrderBy: ''TotalRevenue DESC'' (highest revenue first)\n\n**Detail Line Items Table**:\n- Basic DataGrid with static data prop\n- No server-side features (already filtered by RunView)\n- Displays: InvoiceDate, InvoiceName, Quantity, UnitPrice, Total, AccountName\n\n### Educational Value\nDemonstrates:\n1. **Manual Drill-Down Control**: Component manages drill-down logic explicitly\n2. **View Switching**: Toggles between ranking and detail views\n3. **RunView Direct Usage**: Shows how to call RunView with filters\n4. **Basic DataGrid**: Uses simpler DataGrid for pre-loaded data\n5. **Custom Detail Layout**: Product metrics + detail grid pattern\n6. **State-Based Rendering**: Conditional rendering based on selection state","code":"function TopProductsRanking({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  topN = 10,\n  category = null,\n  startDate = null,\n  endDate = null\n}) {\n  // State management\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [detailData, setDetailData] = useState(null);\n  const [detailLoading, setDetailLoading] = useState(false);\n  const [detailError, setDetailError] = useState(null);\n\n  // Get DataGrid component from registry\n  const { DataGrid } = components;\n\n  // Load data on mount or when parameters change\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      setError(null);\n      setSelectedProduct(null);\n      setDetailData(null);\n\n      try {\n        // Execute the query with all supported parameters\n        const result = await utilities.rq.RunQuery({\n          QueryName: ''Product Ranking'',\n          CategoryPath: ''Demo'',\n          Parameters: {\n            TopN: topN,\n            Category: category,\n            StartDate: startDate,\n            EndDate: endDate\n          }\n        });\n\n        if (result && result.Success && result.Results) {\n          setData(result.Results);\n        } else {\n          setError(result?.ErrorMessage || ''Failed to load data'');\n        }\n      } catch (err) {\n        console.error(''Error loading top products ranking:'', err);\n        setError(err.message || ''An unexpected error occurred'');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [topN, category, startDate, endDate, utilities]);\n\n  // Handle product click for drill-down\n  const handleProductClick = async (product) => {\n    if (!product || !product.ProductID) {\n      console.warn(''Invalid product data for drill-down:'', product);\n      return;\n    }\n\n    setSelectedProduct(product);\n    setDetailLoading(true);\n    setDetailError(null);\n\n    try {\n      // Load invoice line items for this product using RunView\n      const detailResult = await utilities.rv.RunView({\n        EntityName: ''Invoice Line Items'',\n        ExtraFilter: `ProductID=''$' + '{product.ProductID}''`,\n        OrderBy: ''InvoiceDate DESC'',\n        MaxRows: 100\n      });\n\n      if (detailResult && detailResult.Success) {\n        setDetailData(detailResult.Results || []);\n      } else {\n        setDetailError(detailResult?.ErrorMessage || ''Failed to load product details'');\n      }\n    } catch (err) {\n      console.error(''Error loading product details:'', err);\n      setDetailError(err.message || ''An unexpected error occurred'');\n    } finally {\n      setDetailLoading(false);\n    }\n  };\n\n  // Handle back to ranking view\n  const handleBackToRanking = () => {\n    setSelectedProduct(null);\n    setDetailData(null);\n    setDetailError(null);\n  };\n\n  // Loading state\n  if (loading) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n        <div>Loading product rankings...</div>\n      </div>\n    );\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>{error}</div>\n      </div>\n    );\n  }\n\n  // Empty state\n  if (!data || data.length === 0) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n        <div style={{ fontSize: ''16px'' }}>No Data Available</div>\n        <div style={{ marginTop: ''8px'' }}>\n          No products found matching the specified criteria\n        </div>\n      </div>\n    );\n  }\n\n  // Show detail view when product is selected\n  if (selectedProduct) {\n    return (\n      <div style={{ padding: ''16px'' }}>\n        {/* Header with back button */}\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          marginBottom: ''16px'',\n          paddingBottom: ''12px'',\n          borderBottom: ''1px solid #e8e8e8''\n        }}>\n          <button\n            onClick={handleBackToRanking}\n            style={{\n              padding: ''8px 16px'',\n              marginRight: ''16px'',\n              backgroundColor: ''#1890ff'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''14px''\n            }}\n          >\n            ← Back to Rankings\n          </button>\n          <div>\n            <div style={{ fontSize: ''18px'', fontWeight: ''bold'' }}>\n              {selectedProduct.ProductName}\n            </div>\n            <div style={{ fontSize: ''14px'', color: ''#8c8c8c'' }}>\n              Category: {selectedProduct.Category || ''N/A''}\n            </div>\n          </div>\n        </div>\n\n        {/* Product summary metrics */}\n        <div style={{\n          display: ''grid'',\n          gridTemplateColumns: ''repeat(4, 1fr)'',\n          gap: ''16px'',\n          marginBottom: ''24px''\n        }}>\n          <div style={{\n            padding: ''16px'',\n            backgroundColor: ''#f5f5f5'',\n            borderRadius: ''4px'',\n            textAlign: ''center''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n              Total Revenue\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n              $' + '{(selectedProduct.TotalRevenue || 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n            </div>\n          </div>\n\n          <div style={{\n            padding: ''16px'',\n            backgroundColor: ''#f5f5f5'',\n            borderRadius: ''4px'',\n            textAlign: ''center''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n              Total Quantity\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n              {(selectedProduct.TotalQuantity || 0).toLocaleString()}\n            </div>\n          </div>\n\n          <div style={{\n            padding: ''16px'',\n            backgroundColor: ''#f5f5f5'',\n            borderRadius: ''4px'',\n            textAlign: ''center''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n              Invoice Count\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n              {selectedProduct.InvoiceCount || 0}\n            </div>\n          </div>\n\n          <div style={{\n            padding: ''16px'',\n            backgroundColor: ''#f5f5f5'',\n            borderRadius: ''4px'',\n            textAlign: ''center''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n              Average Price\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#722ed1'' }}>\n              $' + '{(selectedProduct.AvgPrice || 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n            </div>\n          </div>\n        </div>\n\n        {/* Detail loading state */}\n        {detailLoading && (\n          <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n            <div>Loading invoice line items...</div>\n          </div>\n        )}\n\n        {/* Detail error state */}\n        {detailError && (\n          <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n            <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Details</div>\n            <div style={{ marginTop: ''8px'' }}>{detailError}</div>\n          </div>\n        )}\n\n        {/* Detail data grid */}\n        {!detailLoading && !detailError && detailData && (\n          <div>\n            <div style={{\n              fontSize: ''16px'',\n              fontWeight: ''bold'',\n              marginBottom: ''12px''\n            }}>\n              Invoice Line Items ({detailData.length} records)\n            </div>\n            <DataGrid\n              data={detailData}\n              columns={[\n                { field: ''InvoiceDate'', header: ''Invoice Date'', sortable: true },\n                { field: ''InvoiceName'', header: ''Invoice Name'', sortable: true },\n                {\n                  field: ''Quantity'',\n                  header: ''Quantity'',\n                  sortable: true,\n                  render: (value) => {\n                    return value != null ? Number(value).toLocaleString() : ''0'';\n                  }\n                },\n                {\n                  field: ''UnitPrice'',\n                  header: ''Unit Price'',\n                  sortable: true,\n                  render: (value) => {\n                    return value != null ? `$$' + '{Number(value).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : ''$0.00'';\n                  }\n                },\n                {\n                  field: ''Total'',\n                  header: ''Total'',\n                  sortable: true,\n                  render: (value) => {\n                    return value != null ? `$$' + '{Number(value).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : ''$0.00'';\n                  }\n                },\n                { field: ''AccountName'', header: ''Account Name'', sortable: true }\n              ]}\n              sorting={true}\n              paging={true}\n              pageSize={20}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // Main ranking view\n  return (\n    <div style={{ padding: ''16px'', width: ''100%'', minWidth: ''800px'', boxSizing: ''border-box'' }}>\n      <div style={{\n        fontSize: ''18px'',\n        fontWeight: ''bold'',\n        marginBottom: ''16px''\n      }}>\n        Top {topN} Products by Revenue\n        {category && ` - $' + '{category}`}\n      </div>\n\n      <DataGrid\n        data={data}\n        columns={[\n          { field: ''ProductName'', header: ''Product Name'', sortable: true },\n          { field: ''Category'', header: ''Category'', sortable: true },\n          {\n            field: ''TotalRevenue'',\n            header: ''Total Revenue'',\n            sortable: true,\n            render: (value) => {\n              return value != null ? `$$' + '{Number(value).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : ''$0.00'';\n            }\n          },\n          {\n            field: ''TotalQuantity'',\n            header: ''Total Quantity'',\n            sortable: true,\n            render: (value) => {\n              return value != null ? Number(value).toLocaleString() : ''0'';\n            }\n          },\n          {\n            field: ''InvoiceCount'',\n            header: ''Invoice Count'',\n            sortable: true,\n            render: (value) => {\n              return value != null ? Number(value).toLocaleString() : ''0'';\n            }\n          },\n          {\n            field: ''AvgPrice'',\n            header: ''Avg Price'',\n            sortable: true,\n            render: (value) => {\n              return value != null ? `$$' + '{Number(value).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : ''$0.00'';\n            }\n          }\n        ]}\n        onRowClick={handleProductClick}\n        sorting={true}\n        paging={true}\n        pageSize={20}\n        showPageSizeChanger={true}\n        filtering={true}\n        utilities={utilities}\n        styles={styles}\n        components={components}\n      />\n\n      {/* Summary Statistics */}\n      <div style={{\n        marginTop: ''24px'',\n        display: ''grid'',\n        gridTemplateColumns: ''repeat(4, 1fr)'',\n        gap: ''16px''\n      }}>\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Revenue\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n            $' + '{data.reduce((sum, row) => sum + (row.TotalRevenue || 0), 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Units Sold\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n            {data.reduce((sum, row) => sum + (row.TotalQuantity || 0), 0).toLocaleString()}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Invoices\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n            {data.reduce((sum, row) => sum + (row.InvoiceCount || 0), 0).toLocaleString()}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Average Price\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#722ed1'' }}>\n            $' + '{(data.reduce((sum, row) => sum + (row.AvgPrice || 0), 0) / data.length).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage (show top 10 products)\n<TopProductsRanking\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// Show top 20 products\n<TopProductsRanking\n  topN={20}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// Filter by product category\n<TopProductsRanking\n  topN={10}\n  category=\"Software\"\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// Filter by date range and category\n<TopProductsRanking\n  topN={15}\n  category=\"Hardware\"\n  startDate=\"2024-01-01\"\n  endDate=\"2024-12-31\"\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>"}'
SET
  @FunctionalRequirements_2b6b582a = N'## Business Objectives
- Identify top-performing products by revenue, units sold, or profit margin
- Support flexible filtering by product category and time period
- Enable drill-down to see individual invoice line items for any product
- Demonstrate manual RunView drill-down pattern with standard DataGrid

## Functional Requirements
- **Product Ranking Display**: Show top N products (configurable, default 10) in a table format
- **Ranking Metrics**: Display product name, category, total revenue, units sold, and number of invoices
- **Click-to-Drill-Down**: When user clicks a product row, load all invoice line items for that product using RunView
- **Detail View**: Display invoice line items in standard DataGrid (not EntityDataGrid) with invoice date, quantity, unit price, total, and account name
- **Back Navigation**: Provide clear way to return to product ranking view
- **Flexible Filtering**: Support filtering by product category and date range
- **Custom Data Transformation**: Demonstrate calculating additional metrics (like margin) on drill-down data
- **Loading States**: Show loading indicators during data fetch
- **Empty States**: Handle cases where no products or no line items exist'
SET
  @TechnicalDesign_2b6b582a = N'## Component Architecture

### Data Flow
1. **Initial Load**: RunQuery executes ''Top Products Ranking'' with optional filters (topN, category, startDate, endDate)
2. **Table Rendering**: DataGrid displays aggregated product ranking data with click handlers
3. **User Interaction**: User clicks product row in DataGrid
4. **Manual Drill-Down**: Component executes RunView to load Invoice Line Items filtered by ProductID
5. **Detail View**: Standard DataGrid (not EntityDataGrid) displays line items with manual state management
6. **Back Navigation**: User clicks back button to return to ranking view

### State Management
- `data`: Array of query results (product rankings)
- `loading`: Boolean for initial data load
- `error`: String for query error messages
- `selectedProduct`: Object containing clicked product details (null = ranking view, object = detail view)
- `detailData`: Array of invoice line items for selected product
- `detailLoading`: Boolean for detail data loading state
- `detailError`: String for detail loading error messages

### Manual Drill-Down Pattern
Unlike EntityDataGrid pattern (chart + grid), this component uses:
- **View Switching**: Hides ranking table when product is selected
- **Manual RunView**: Explicit call to `utilities.rv.RunView` with ProductID filter
- **Standard DataGrid**: Uses basic DataGrid (not EntityDataGrid) for detail view
- **Custom Layout**: Detail view includes product metrics cards + line items table

### DataGrid Configuration
**Main Ranking Table**:
- Displays query results directly (no entity-based loading)
- Includes sorting, filtering, pagination controls
- onRowClick handler triggers drill-down
- OrderBy: ''TotalRevenue DESC'' (highest revenue first)

**Detail Line Items Table**:
- Basic DataGrid with static data prop
- No server-side features (already filtered by RunView)
- Displays: InvoiceDate, InvoiceName, Quantity, UnitPrice, Total, AccountName

### Educational Value
Demonstrates:
1. **Manual Drill-Down Control**: Component manages drill-down logic explicitly
2. **View Switching**: Toggles between ranking and detail views
3. **RunView Direct Usage**: Shows how to call RunView with filters
4. **Basic DataGrid**: Uses simpler DataGrid for pre-loaded data
5. **Custom Detail Layout**: Product metrics + detail grid pattern
6. **State-Based Rendering**: Conditional rendering based on selection state'
SET
  @FunctionalRequirementsVector_2b6b582a = N'[-0.013045676052570343,0.08202310651540756,-0.010560955852270126,0.0019753354135900736,-0.008208959363400936,0.00395001657307148,0.029759544879198074,0.03686314821243286,-0.01668427884578705,-0.01313850749284029,-0.05351687967777252,0.0375145822763443,-0.0075011602602899075,0.08589334040880203,0.019523760303854942,-0.023466119542717934,-0.013822503387928009,0.0468113049864769,-0.02213198132812977,0.012840157374739647,0.018990520387887955,-0.022363731637597084,-0.0030142152681946754,-0.04509210214018822,-0.0040590581484138966,-0.009966710582375526,-0.04284925386309624,0.043121930211782455,0.0063881599344313145,-0.08150973170995712,0.031247425824403763,-0.014617610722780228,-0.028349244967103004,0.023015888407826424,0.000002496575234545162,-0.03149877488613129,-0.06650224328041077,0.012733874842524529,-0.008838746696710587,0.07049405574798584,0.018351996317505836,-0.03305874392390251,0.024619629606604576,0.020001748576760292,-0.014586013741791248,-0.009671716950833797,-0.07188647240400314,0.061640456318855286,-0.0019309220369905233,-0.0011421149829402566,-0.020358912646770477,-0.011528348550200462,-0.03255155310034752,-0.04991910234093666,-0.03580401465296745,-0.030296362936496735,0.022388538345694542,0.037443019449710846,0.08833670616149902,-0.07626330107450485,-0.0028748358599841595,0.026554957032203674,-0.03270517662167549,-0.014885682612657547,0.04824156314134598,0.03988172113895416,0.05876743048429489,-0.007693879771977663,-0.027003496885299683,0.018510108813643456,-0.011523311957716942,-0.01828012987971306,0.01160787045955658,-0.053735293447971344,-0.018598489463329315,-0.024174809455871582,-0.02556305192410946,-0.027244027704000473,-0.02038406766951084,0.03250932693481445,-0.03905271738767624,0.05845846235752106,-0.032130107283592224,0.029626963660120964,0.018285006284713745,-0.0033287550322711468,-0.02856961265206337,-0.02330518141388893,0.004369114991277456,-0.01902085728943348,-0.01759243756532669,-0.013790660537779331,0.022830450907349586,0.01762545108795166,-0.052728887647390366,0.006236290093511343,0.040392521768808365,-0.03743210807442665,0.05032314732670784,-0.0611720085144043,0.0621621273458004,0.01862727850675583,0.038576021790504456,0.008926047012209892,0.009284809231758118,0.028784507885575294,-0.05382980778813362,-0.04652046412229538,-0.05228578299283981,0.000030243829314713366,0.037799056619405746,-0.0072898585349321365,-0.02134338580071926,0.025705911219120026,-0.01958201825618744,-0.012285307981073856,0.009390242397785187,-0.02626914158463478,-0.020388297736644745,0.01320319902151823,0.050011634826660156,0.029611950740218163,0.014084169641137123,0.015373267233371735,0.03812975436449051,-0.00029227876802906394,-0.027278577908873558,-0.026890330016613007,-0.0018070703372359276,-0.03881850466132164,0.003650766797363758,-0.012206482701003551,0.0191851407289505,0.013762635178864002,0.046696316450834274,-0.044349316507577896,-0.0007152402540668845,0.047727469354867935,-0.07737208902835846,-0.011370650492608547,-0.014367915689945221,0.006157519295811653,-0.03132467716932297,0.006842448841780424,0.004922610241919756,-0.01700993813574314,-0.0028814885299652815,0.07715807855129242,0.004322201944887638,0.014342054724693298,0.008851364254951477,-0.028070056810975075,0.006372625008225441,0.018507780507206917,0.030236506834626198,0.0012922217138111591,0.053511954843997955,-0.03479817882180214,-0.011604898609220982,0.00588790699839592,0.016320141032338142,0.01776055060327053,0.008033394813537598,-0.0037159884814172983,-0.004541099537163973,0.008402910083532333,-0.08468686044216156,0.06031883880496025,-0.06764035671949387,-0.021419212222099304,-0.036509882658720016,-0.03239525482058525,-0.0008430710877291858,0.06657532602548599,0.005796114448457956,-0.01807921566069126,0.034806933254003525,-0.0368490070104599,-0.04860376566648483,0.023932231590151787,0.02189669758081436,-0.09834729880094528,0.06915135681629181,0.010807977989315987,0.13164706528186798,-0.0360737182199955,-0.03795227035880089,-0.009403098374605179,0.00012762125697918236,-0.02126600407063961,0.000917211058549583,0.021020252257585526,-0.04093785583972931,0.06781366467475891,-0.003571432316675782,0.05209524556994438,-0.013690193183720112,-0.07365479320287704,-0.0009128080564551055,-0.0066254278644919395,-0.03521052747964859,-0.009336999617516994,-0.0034512837883085012,0.053573910146951675,0.04035896062850952,-0.01873459853231907,-0.009160103276371956,0.02820977196097374,0.013812130317091942,0.00048218690790235996,0.013215581886470318,-0.03613937646150589,-0.04710208624601364,-0.003992067184299231,-0.008997702039778233,0.024747386574745178,0.04469260945916176,0.03157038241624832,-0.02978479117155075,-0.021673493087291718,-0.01290302537381649,0.0047324104234576225,0.008952784352004528,-0.00014716421719640493,0.11742493510246277,0.02880748175084591,0.0752638429403305,0.013843142427504063,0.03925131633877754,0.012970267795026302,0.005523099098354578,0.004678050521761179,0.04010142385959625,0.023523954674601555,-0.015238821506500244,-0.009700086899101734,0.03175721317529678,0.08994366973638535,-0.022356636822223663,0.03141462057828903,0.04435839131474495,-0.04465799778699875,0.00890534557402134,-0.02156318537890911,-0.04727428779006004,-0.016113094985485077,-0.03253435343503952,0.017982468008995056,-0.010694112628698349,-0.026772642508149147,0.008435417897999287,-0.033144161105155945,0.053280748426914215,0.015343207865953445,0.03159794956445694,-0.001369086909107864,-0.03821684792637825,-0.008844331838190556,-0.013762177899479866,0.0675218477845192,0.03504066914319992,-0.06403624266386032,-0.007965600118041039,-0.06861583888530731,-0.025267332792282104,0.013197200372815132,0.07540000230073929,-0.04272225871682167,0.034012772142887115,0.05380762368440628,-0.027134254574775696,0.03407379612326622,0.008185788057744503,-0.0032246802002191544,-0.042511235922575,0.012211709283292294,0.002619411563500762,0.05070574954152107,-0.05216148495674133,-0.004787623882293701,0.025344209745526314,-0.01922973245382309,0.015953050926327705,0.018001621589064598,-0.030747972428798676,-0.036856990307569504,0.030521927401423454,-0.054177410900592804,-0.01135945413261652,-0.038819316774606705,-0.005708928685635328,0.026497986167669296,-0.005956715438514948,0.02420882321894169,-0.024662557989358902,0.023494092747569084,0.022112049162387848,0.030233589932322502,-0.04128487408161163,-0.024102041497826576,0.008700800128281116,-0.017975637689232826,-0.05512726679444313,-0.0003735482750926167,0.00040339567931368947,0.08395442366600037,0.07579554617404938,0.01814357005059719,0.023161208257079124,0.03367568925023079,0.04208769649267197,-0.0028294562362134457,0.04017769545316696,-0.0327644981443882,0.01515931449830532,0.025218963623046875,0.019625838845968246,-0.0014813629677519202,-0.03903193026781082,0.0807282030582428,0.013742937706410885,-0.020659083500504494,-0.0062095061875879765,0.010352895595133305,-0.04339255020022392,-0.01738656498491764,-0.023737626150250435,-0.017164891585707664,-0.03569755330681801,0.026987722143530846,-0.0020795490127056837,-0.07827794551849365,0.027528176084160805,0.049033887684345245,0.06216363236308098,0.0032290355302393436,-0.03165998309850693,0.060688018798828125,0.00039582260069437325,-0.032029889523983,-0.007894237525761127,-0.011229909025132656,-0.04861360788345337,0.03320508077740669,0.03220686689019203,-0.017371101304888725,0.03188670426607132,0.014907462522387505,0.00434092478826642,-0.004144673701375723,0.02952839992940426,0.09169548749923706,-0.023650934919714928,-0.03928007185459137,0.01685553602874279,0.02230430580675602,-0.023274479433894157,-0.08101341128349304,-0.07719394564628601,0.015352916903793812,0.04068079963326454,0.0261595007032156,0.0020878706127405167,-0.016845975071191788,0.03332219272851944,0.025546666234731674,0.03251299262046814,0.01278696209192276,0.05511339753866196,0.0028075475711375475,-0.07196692377328873,0.00042293028673157096,0.005901206284761429,-0.0002437047369312495,0.0258150827139616,-0.011932062916457653,0.0156692024320364,0.04916387423872948,-0.0029928258154541254,0.02073965035378933,0.06251753121614456,-0.00604839576408267,0.09872499108314514,0.008654051460325718,0.10434851795434952,0.004818269517272711,-0.012798153795301914,-0.04369337111711502,-0.05260806530714035,0.016900718212127686,-0.011735465377569199,0.09522175788879395,0.035658735781908035,-0.08110683411359787,-0.013616074807941914,-0.017513969913125038,-0.035133328288793564,0.06971772760152817,0.005392592400312424,-0.017105795443058014,0.009610826149582863,0.03329811617732048,0.002037611324340105,-0.004763670731335878,0.04390369728207588,-0.08047664910554886,0.08951310813426971,0.04990803450345993,-0.012203706428408623,0.005359515082091093,-0.007464689202606678,-0.01887928694486618,-0.04311035946011543,-0.05403606593608856,0.03948787972331047,0.01580929197371006,0.009620191529393196,-0.007575855124741793,0.048312049359083176,0.04157910495996475,0.03192583844065666,0.00016948483244050294,0.03665847331285477,-0.006940323393791914,0.010620216839015484,-0.004146791994571686,-0.05818477272987366,-0.051628708839416504,-0.013642876408994198,-0.005715548060834408,-0.01284918375313282,0.02029818668961525,0.011322636157274246,0.042691171169281006,-0.03048754669725895,0.004738217685371637,0.050392426550388336,-0.02684485726058483,-0.0616784505546093,-0.03466232493519783,-0.03043842315673828,-0.0019054710865020752,0.04081174358725548,0.004847121890634298,-0.044472455978393555,-0.03768976032733917,-0.011058403179049492,-0.025279272347688675,-0.10674258321523666,0.02689925767481327,0.0035421918146312237,-0.04223080351948738,0.04071393981575966,0.051787666976451874,-0.0385705791413784,-0.048751119524240494,-0.05001804605126381,0.004305239766836166,-0.025348516181111336,0.007613695692270994,0.020355653017759323,0.019205309450626373,0.0011461017420515418,0.014479327946901321,0.04739293456077576,-0.05432642996311188,0.03604979068040848,-0.006458279211074114,-0.04711442068219185,-0.0375138483941555,0.07139080762863159,-0.005898439325392246,-0.003841595957055688,-0.05613184720277786,0.019716408103704453,0.02287626825273037,0.002408643951639533,0.029180634766817093,-0.024687103927135468,0.04453981667757034,0.019397256895899773,0.023796644061803818,0.054241716861724854,-0.021961066871881485,0.007869460619986057,0.03457805886864662,-0.046318892389535904,-0.030244460329413414,-0.042729273438453674,0.03372826799750328,0.018171418458223343,0.00861958134919405,-0.022866686806082726,0.046306904405355453,0.027439983561635017,0.011851660907268524,-0.031096909195184708,0.0044372063130140305,-0.07853579521179199,-0.02430868335068226,-0.028166422620415688,-0.006365129258483648,-0.03275898098945618,-0.0009152987622655928,0.022033272311091423,0.02324269339442253,0.021517891436815262,0.02428557723760605,0.0014355608727782965,-0.020137157291173935,-0.04178856313228607,-0.03026643395423889,0.004241475369781256,-0.018131641671061516,-0.017132317647337914,-0.0032790738623589277,-0.08267197757959366,-0.030070455744862556,0.026742082089185715,-0.056132763624191284,-0.015505323186516762,0.024140624329447746,-0.012942700646817684,-0.027305038645863533,0.0017672679387032986,-0.029959281906485558,0.01913042925298214,-0.010674645192921162,-0.02605404518544674,0.0372384637594223,0.021647291257977486,-0.034948237240314484,-0.00604634452611208,-0.001814190880395472,-0.045143455266952515,0.02801978960633278,0.0014540693955495954,-0.03615855798125267,-0.005859698634594679,-0.006644146982580423,-0.031038345769047737,0.03464173525571823,-0.0029365820810198784,-0.015099894255399704,-0.00019847780640702695,-0.04428941011428833,-0.027954280376434326,-0.004076814744621515,-0.004458459094166756,0.042833730578422546,-0.0022681737318634987,-0.058778177946805954,-0.0024478468112647533,-0.04095124453306198,-0.06848045438528061,-7.187572697730354e-33,0.015661392360925674,-0.010461652651429176,-0.0726998895406723,0.01272900216281414,0.04578407481312752,-0.013760736212134361,0.03942864015698433,-0.05023249238729477,-0.003955296706408262,-0.019746756181120872,-0.0326041616499424,0.006181608885526657,0.035236697643995285,-0.014844157733023167,0.019833557307720184,0.004866742063313723,0.01729477383196354,-0.014769265428185463,0.022644516080617905,0.028925780206918716,-0.0613875538110733,0.04002373665571213,0.008533141575753689,-0.03217034041881561,0.028240103274583817,-0.02213590405881405,-0.012695522047579288,0.027867887169122696,-0.047624822705984116,-0.011821928434073925,0.008707663044333458,-0.04198303446173668,-0.009389683604240417,-0.017897848039865494,-0.010866724886000156,-0.003279107855632901,-0.10405168682336807,0.03769819438457489,-0.003645674791187048,0.04328935965895653,0.059298623353242874,0.04919572174549103,0.05553082004189491,0.003744690213352442,-0.008906891569495201,0.009207328781485558,0.014503848738968372,-0.004466490354388952,0.016854044049978256,-0.0652855858206749,0.019154617562890053,-0.014052452519536018,0.001476282486692071,0.018842633813619614,0.028461802750825882,0.06697976589202881,0.011629637330770493,0.040694501250982285,-0.07953442633152008,-0.039413999766111374,0.009765755385160446,-0.0017180991126224399,0.0017797702457755804,0.023752011358737946,0.04886383190751076,-0.02942257560789585,0.046108752489089966,0.0013906450476497412,0.011170968413352966,-0.03298574313521385,-0.0361170768737793,0.0034873492550104856,0.024129262194037437,-0.04489351436495781,0.0806659683585167,0.04027286544442177,-0.02384333871304989,0.01053539291024208,0.006727540399879217,-0.03280475363135338,-0.03355040028691292,0.0227592084556818,-0.033938899636268616,0.009228801354765892,0.08599672466516495,-0.061728786677122116,-0.02017310820519924,-0.022726070135831833,0.01385307963937521,0.01722537912428379,-0.025091834366321564,0.01592034287750721,-0.06887919455766678,0.01834576576948166,-0.13245783746242523,-0.034851476550102234,0.0622137077152729,0.011636232025921345,0.0058739325031638145,-0.036170464009046555,0.02108190767467022,0.05065050721168518,-0.047371458262205124,0.036518290638923645,-0.01781523786485195,-0.03715619817376137,0.023005617782473564,-0.011196892708539963,-0.04175412282347679,0.034363970160484314,0.02153448760509491,0.012848851270973682,0.002473152242600918,0.07654810696840286,0.00824046041816473,0.006975201889872551,-0.005039145704358816,0.05868745222687721,0.012510654516518116,-0.07286442071199417,0.03521078824996948,-0.0033406629227101803,-0.05586353689432144,-0.03289378434419632,0.02452554553747177,0.001940775546245277,-0.004721188452094793,0.000024183753339457326,0.04112670570611954,-0.01888507604598999,-0.008420731872320175,0.03672122210264206,3.2942108418865246e-7,0.03964347019791603,-0.007405661977827549,-0.03158298134803772,0.049826815724372864,-0.003488796064630151,-0.013819161802530289,-0.05083388090133667,-0.015514371916651726,-0.005551319103688002,-0.05222570523619652,0.0701938048005104,-0.05337868258357048,0.03569350764155388,0.04196164757013321,-0.03739921376109123,-0.09276505559682846,-0.030683770775794983,-0.03265533968806267,-0.027248501777648926,-0.023906584829092026,-0.008909406140446663,0.02043418399989605,0.037062279880046844,0.003811909817159176,0.05251438170671463,0.01619429513812065,-0.03315766900777817,-0.021077005192637444,0.07461410015821457,-0.007272608112543821,0.042939458042383194,-0.03957388922572136,-0.027163011953234673,0.003916264045983553,-0.006780263036489487,0.03557092696428299,-0.009263552725315094,0.027451932430267334,0.012026806361973286,0.03568777069449425,0.024713635444641113,-0.059721074998378754,-0.006571303121745586,-0.07653013616800308,0.007857736200094223,-0.051266662776470184,0.009043901227414608,0.058640625327825546,-0.0628393217921257,0.04055728018283844,0.0016467826208099723,0.002367964945733547,-0.003611092222854495,-0.022002004086971283,-0.0025814766995608807,-0.018420452252030373,0.024543961510062218,0.07992386817932129,-0.0022525405511260033,0.02665197290480137,-0.028213731944561005,0.0218524020165205,-0.01139827724546194,0.07294648140668869,-0.02334591932594776,0.000432381231803447,-0.013969377614557743,3.7320524484304583e-34,0.02961358241736889,0.0038813850842416286,0.04382462427020073,0.024085940793156624,-0.019798999652266502,-0.008467484265565872,-0.029069453477859497,-0.006456746719777584,-0.016132058575749397,-0.0250563845038414,-0.06591968238353729]'
SET
  @TechnicalDesignVector_2b6b582a = N'[0.001887436374090612,0.05842223018407822,-0.007950779050588608,-0.038106516003608704,0.016043493524193764,0.007477384060621262,0.017026850953698158,0.025430960580706596,-0.05464429035782814,-0.0038182251155376434,-0.04087982326745987,0.05918779969215393,0.025533946231007576,0.08325538039207458,0.02576056681573391,-0.007093443535268307,-0.017412729561328888,0.04889878258109093,-0.028615036979317665,-0.02232625149190426,0.0218837670981884,-0.036881525069475174,-0.0021336420904845,-0.03564240410923958,0.024962062016129494,-0.020908799022436142,-0.0496770404279232,0.03491572290658951,0.060210421681404114,-0.10125607252120972,0.009402425028383732,0.02434961125254631,-0.00959775410592556,-0.008335131220519543,0.0000022227720819500973,-0.04202297329902649,-0.03848067671060562,0.015387432649731636,-0.029356220737099648,0.03744763508439064,0.011927730403840542,-0.003245498053729534,0.03795286640524864,-0.005757410079240799,-0.020484935492277145,-0.06750687211751938,-0.07549066841602325,0.08012203127145767,0.012552528642117977,-0.012777769938111305,0.008730655536055565,-0.032047566026449203,0.00237694731913507,-0.03679952397942543,-0.012148127891123295,-0.024519700556993484,0.009965549223124981,0.05155648663640022,0.07403053343296051,-0.03504200652241707,-0.044931285083293915,0.004595765843987465,-0.0005752304568886757,-0.044024430215358734,0.05056527629494667,0.029380211606621742,0.08786994963884354,0.034087859094142914,0.00434598745778203,0.01512834057211876,0.05556587502360344,-0.027377331629395485,0.017517244443297386,-0.04394909366965294,-0.009024959988892078,-0.04460380971431732,-0.010125767439603806,-0.01409519836306572,-0.02609955705702305,0.035214342176914215,-0.009608209133148193,0.024577179923653603,-0.033444322645664215,0.03129476308822632,0.0108322249725461,0.02459983341395855,-0.014433463104069233,-0.028909362852573395,-0.004913963843137026,-0.03218550607562065,0.04915285483002663,-0.016995638608932495,0.017891768366098404,0.021455708891153336,-0.057883359491825104,0.007712430786341429,0.05105353891849518,-0.06320833414793015,0.038050081580877304,-0.030081475153565407,0.030850151553750038,0.046416159719228745,0.07799916714429855,-0.006978440098464489,0.04822108894586563,0.05921008810400963,-0.015761354938149452,0.0006974968127906322,-0.05453767254948616,0.011423138901591301,0.023432545363903046,0.014899876900017262,0.008990136906504631,0.042334482073783875,-0.016504032537341118,0.017148826271295547,-0.01645059511065483,-0.04035808891057968,-0.030006149783730507,0.034330014139413834,0.05907619744539261,-0.00004044890374643728,0.002078577410429716,0.02981269545853138,0.06175481900572777,-0.025712674483656883,-0.007297354284673929,-0.06890799105167389,-0.01445186510682106,0.0031359121203422546,-0.016304844990372658,-0.02407645806670189,0.02247900329530239,0.029060594737529755,-0.00015958027506712824,-0.03273116424679756,-0.010097918100655079,0.035853311419487,-0.03613800182938576,-0.0015813488280400634,0.00990937277674675,-0.0016003965865820646,-0.025966858491301537,0.031195566058158875,0.0030396266374737024,-0.011754943057894707,0.01444907858967781,0.06408409774303436,0.008983253501355648,0.03974137082695961,0.013310889713466167,-0.021747948601841927,0.051830846816301346,0.01399215217679739,-0.009461869485676289,0.018335968255996704,0.0759163647890091,-0.03344174474477768,0.01245209015905857,-0.017604723572731018,-0.008207350037992,0.02524533122777939,0.02238730527460575,0.009566566906869411,0.010308009572327137,0.03883793577551842,-0.10876093059778214,0.024977564811706543,-0.03265741840004921,-0.021896572783589363,-0.007800976280122995,-0.020651645958423615,-0.04133451357483864,0.07691788673400879,0.022097181528806686,-0.044282007962465286,0.0336616076529026,-0.03268371522426605,-0.08582993596792221,0.016337551176548004,0.001038526650518179,-0.04293406382203102,0.04736560583114624,-0.020440800115466118,0.11772496998310089,-0.05105198174715042,0.0138412369415164,-0.0018921872833743691,0.012347386218607426,-0.010814649984240532,0.017268192023038864,0.03523273393511772,0.0030579210724681616,0.03785743564367294,-0.033777400851249695,0.024455877020955086,-0.0337260402739048,-0.06814949214458466,0.01975286565721035,0.00790515635162592,-0.022590208798646927,-0.00760748703032732,0.012776373885571957,0.03322068974375725,0.03804909810423851,0.004090949427336454,-0.05210426449775696,0.01886395364999771,-0.007324465550482273,-0.03246908634901047,-0.03905004635453224,-0.0402725487947464,-0.04610101133584976,-0.0018607095116749406,-0.027283089235424995,0.03353589400649071,0.017127083614468575,0.030304577201604843,-0.03467211872339249,-0.016828147694468498,-0.025096215307712555,0.015922365710139275,-0.0078539177775383,0.018208488821983337,0.11190947145223618,0.04346907138824463,0.06602939963340759,-0.039149362593889236,0.0500207282602787,-0.027806520462036133,-0.015091446228325367,-0.027117779478430748,0.021726828068494797,0.05744204297661781,0.029286779463291168,-0.02045239880681038,-0.0007414944702759385,0.025646520778536797,-0.011379723437130451,0.017060527577996254,0.042754244059324265,-0.031690217554569244,-0.020551104098558426,-0.021753106266260147,-0.057990677654743195,-0.010637096129357815,-0.09750501066446304,0.009238976053893566,-0.02580472081899643,-0.018753811717033386,0.021913783624768257,-0.016268501058220863,0.045727673918008804,-0.020305806770920753,0.011225486174225807,-0.011942809447646141,0.013569377362728119,0.008884932845830917,-0.04960319399833679,0.07200732082128525,0.03186680004000664,-0.03363233059644699,-0.00834429357200861,-0.05548287183046341,0.002794371685013175,0.0015502739697694778,0.08303084969520569,-0.027501937001943588,0.0285558570176363,0.029777882620692253,-0.011803869158029556,0.030319539830088615,-0.03668004274368286,-0.009147937409579754,-0.031759265810251236,0.0020575125236064196,0.020953023806214333,0.0812949538230896,-0.04763374105095863,-0.03417500481009483,0.012079167179763317,0.0009926329366862774,0.02412390522658825,0.03560303896665573,-0.0201744195073843,-0.01402412261813879,0.027670476585626602,-0.06257471442222595,-0.02411954291164875,-0.06690996885299683,-0.009708380326628685,0.01884060725569725,0.00881027989089489,-0.015284188091754913,-0.029154088348150253,0.03038915805518627,0.020079847425222397,0.03996547684073448,-0.0401812419295311,-0.01138778030872345,0.011380274780094624,-0.010991116985678673,-0.05174941197037697,0.019424714148044586,-0.0025172445457428694,0.08576144278049469,0.024100596085190773,0.0476226881146431,0.0030042161233723164,0.04532988741993904,0.017302414402365685,0.018676502630114555,0.0393502414226532,-0.023855270817875862,0.016547879204154015,0.008813350461423397,0.05065908282995224,-0.034962013363838196,-0.03923666849732399,0.07432198524475098,0.000042071667849086225,-0.02655169367790222,0.00006606974784517661,0.01367103774100542,-0.05279763787984848,-0.037315573543310165,-0.01105005107820034,0.001662443857640028,-0.02643679641187191,0.03493189811706543,0.012721666134893894,-0.0867391973733902,0.009446232579648495,0.02169627882540226,0.0428474061191082,-0.01348570641130209,-0.019378945231437683,0.052104368805885315,-0.024036312475800514,-0.024583349004387856,0.0008818671340122819,-0.024591077119112015,-0.0516999177634716,0.05581779405474663,0.035941362380981445,-0.01798924431204796,0.05317196249961853,-0.003630675608292222,0.00023541779955849051,-0.009907783009111881,0.020634133368730545,0.07401736825704575,-0.019623583182692528,-0.017643800005316734,0.012365315109491348,0.023295173421502113,-0.01987834833562374,-0.018249252811074257,-0.042762789875268936,0.010741961188614368,0.030916035175323486,0.05165298655629158,0.04085860773921013,-0.015505975112318993,0.035458002239465714,0.024283595383167267,0.03622083738446236,-0.0012816917151212692,0.015791207551956177,-0.016710082069039345,-0.0843934491276741,-0.0004948334535583854,-0.011317460797727108,0.011528189294040203,-0.005093340761959553,-0.0471331886947155,0.02473398484289646,0.036329906433820724,0.0033939811401069164,-0.004519524984061718,0.056720487773418427,0.015348670072853565,0.11653370410203934,0.010693898424506187,0.09398338198661804,-0.009872417896986008,0.01390465535223484,-0.038397416472435,-0.048105426132678986,0.036367181688547134,0.0008549786289222538,0.04846593737602234,0.01231902465224266,-0.03575999289751053,-0.017118511721491814,0.02111116237938404,-0.02353578247129917,0.04945692420005798,0.044565483927726746,0.011240985244512558,-0.024597741663455963,0.08348891884088516,0.01427464559674263,0.02616918832063675,0.04856577515602112,-0.09122400730848312,0.08535756915807724,0.03246525675058365,0.007185225374996662,0.027182383462786674,0.01900365762412548,-0.01571808196604252,-0.05713057145476341,-0.06458469480276108,0.0015988819068297744,0.0021957638673484325,0.009121068753302097,-0.04870001599192619,0.030603541061282158,0.06056072935461998,0.00814440380781889,-0.009601502679288387,0.01999320276081562,-0.0008432701579295099,0.03433683514595032,-0.015478436835110188,-0.02891187183558941,-0.05795135721564293,-0.02415616251528263,-0.009283564053475857,-0.013411370106041431,0.018568290397524834,0.036289799958467484,0.036945752799510956,-0.0069139027036726475,0.007708999793976545,0.06414786726236343,-0.0033214823342859745,-0.06112923473119736,-0.036517247557640076,-0.02713705226778984,0.016013510525226593,0.07729489356279373,0.018352804705500603,-0.032864440232515335,-0.05586983636021614,-0.022865718230605125,0.01951005309820175,-0.07646466791629791,-0.00863545760512352,0.00019455498841125518,-0.03353814780712128,0.0009503604960627854,0.043521370738744736,-0.05775422602891922,-0.06434377282857895,-0.059735268354415894,0.04253866523504257,-0.03654395043849945,0.01632014475762844,0.006431260146200657,0.022312801331281662,0.001981997163966298,-0.012146051973104477,0.020070508122444153,-0.0490516796708107,0.011288000270724297,0.020087212324142456,-0.017890293151140213,-0.02834371104836464,0.03256647661328316,-0.010787704028189182,-0.006673416588455439,-0.03208930417895317,0.030801234766840935,0.011657564900815487,0.013071526773273945,-0.014525639824569225,-0.06287167966365814,0.012662920169532299,0.05562819167971611,0.050328247249126434,0.01987808384001255,-0.07240726798772812,0.01418503187596798,0.036478713154792786,-0.025216663256287575,-0.030438045039772987,-0.03405269607901573,0.012585806660354137,0.012549273669719696,0.013640361838042736,-0.038120001554489136,0.036271825432777405,0.05405164137482643,0.018100660294294357,-0.04811087250709534,0.00753453653305769,-0.0378057025372982,-0.06626365333795547,-0.024845745414495468,-0.00946977362036705,-0.020225876942276955,-0.027586203068494797,0.028417758643627167,0.0029421814251691103,0.009465535171329975,0.06128814071416855,0.010933664627373219,-0.02471091039478779,-0.031453583389520645,-0.01986020989716053,-0.025464974343776703,0.009090227074921131,-0.010469040833413601,-0.009105309844017029,-0.0855763852596283,0.00993271078914404,0.025835974141955376,-0.0203420240432024,0.01781489886343479,0.007958559319376945,-0.02239026129245758,-0.035337209701538086,0.004196777939796448,-0.00622808001935482,0.008345398120582104,0.016478609293699265,0.012204050086438656,0.04076261445879936,0.045452553778886795,-0.017378447577357292,0.009081455878913403,0.002270546741783619,-0.02607462741434574,0.024237068369984627,0.0054340367205441,-0.015268265269696712,0.0009405952296219766,0.005101832561194897,-0.04298967495560646,0.039178792387247086,-0.023033814504742622,-0.016388805583119392,0.00021703944366890937,-0.08397642523050308,0.0008711022674106061,-0.0352160818874836,0.006945410743355751,0.04869873449206352,0.003973893355578184,-0.07016169279813766,0.0013730594655498862,-0.04045068845152855,-0.04209211468696594,-6.716961330326744e-33,0.00008746875391807407,-0.013667093589901924,-0.04256172850728035,0.009187274612486362,0.005092713050544262,-0.06733733415603638,0.02864863909780979,-0.044521529227495193,-0.006382295861840248,-0.00255818129517138,-0.02077147364616394,-0.005584550090134144,0.017516158521175385,-0.013190376572310925,0.011476927436888218,-0.02266247756779194,0.016477392986416817,-0.012513939291238785,0.0038695356342941523,0.05153606832027435,-0.046732205897569656,0.04617521911859512,0.017708122730255127,-0.016077954322099686,-0.007878338918089867,-0.020980393514037132,-0.013722702860832214,0.027799084782600403,-0.10695956647396088,0.0007646784652024508,-0.010531667619943619,-0.07713663578033447,-0.007222927641123533,-0.06654933840036392,-0.012128951027989388,-0.025792455300688744,-0.09187512844800949,-0.009988056495785713,0.005229889880865812,0.04777398705482483,0.060402028262615204,0.03266740217804909,0.044141001999378204,0.012364125810563564,-0.014126766473054886,0.0020005684345960617,-0.019842224195599556,0.00803183764219284,-0.01956823654472828,-0.0977732315659523,0.01044866070151329,0.00947742722928524,0.010996682569384575,-0.00951825175434351,0.012297498062252998,0.029797105118632317,0.0319969467818737,0.06098845973610878,-0.07298741489648819,-0.00994147825986147,0.015162630006670952,-0.04062505438923836,0.02789188176393509,0.0337037555873394,0.059188440442085266,-0.019956272095441818,0.06956873834133148,-0.003663466079160571,-0.026051107794046402,-0.02342228963971138,-0.03414662182331085,-0.022370371967554092,0.008019110187888145,-0.06588681787252426,0.08762296289205551,0.04369395598769188,-0.022791700437664986,0.0012841203715652227,-0.03235127404332161,0.01885051280260086,-0.026293909177184105,0.026865998283028603,-0.030421176925301552,0.001377556356601417,0.021985193714499474,-0.05395817384123802,0.016165072098374367,-0.014898648485541344,0.0045677428133785725,0.0008809632854536176,-0.029991867020726204,0.027124419808387756,-0.07258505374193192,0.04476534575223923,-0.11573691666126251,-0.018749920651316643,0.06178842484951019,0.013991736806929111,-0.003594499547034502,-0.0026641609147191048,-0.011585943400859833,0.035731468349695206,-0.03558806702494621,-0.005852032452821732,-0.015357485972344875,-0.0026759461034089327,0.006602429319173098,0.01853610761463642,-0.04617762938141823,0.036895185708999634,0.028279177844524384,-0.010353991761803627,-0.0238131545484066,0.0924341008067131,0.009816843084990978,0.0017434953479096293,-0.007633713074028492,-0.013691582717001438,0.051535941660404205,-0.017818955704569817,0.015992091968655586,0.02645188756287098,-0.03472309932112694,-0.0065850852988660336,0.06175893917679787,0.017952002584934235,-0.02048507146537304,-0.019380252808332443,-0.0060730488039553165,0.009681540541350842,0.012096971273422241,0.06853993982076645,3.087791355937952e-7,-0.01140945591032505,-0.0009577329037711024,-0.04506761580705643,0.012743201106786728,0.006313959136605263,-0.009484212845563889,-0.06320109218358994,-0.03783007711172104,-0.004574373364448547,-0.08453165739774704,0.05682661011815071,-0.019284704700112343,0.030123615637421608,0.03010135516524315,-0.03402681648731232,-0.06778028607368469,-0.0021729895379394293,-0.030562005937099457,-0.023768939077854156,-0.030992306768894196,-0.00047896095202304423,0.02061561308801174,0.024927113205194473,0.01861121878027916,0.03273420408368111,0.012822371907532215,-0.020034736022353172,0.0075538791716098785,0.062053266912698746,-0.018376126885414124,0.08126360177993774,-0.02978537790477276,-0.03108510561287403,0.030247541144490242,0.017660127952694893,0.036208052188158035,-0.031836096197366714,-0.007526311557739973,0.021183965727686882,0.050316937267780304,0.03566708043217659,-0.03586559370160103,-0.010690958239138126,-0.06718259304761887,0.012448810040950775,-0.055154476314783096,-0.009149381890892982,0.0992022454738617,-0.04679353907704353,0.04526495188474655,-0.021991586312651634,0.026115018874406815,0.001694143982604146,-0.02282850630581379,-0.0006675212061963975,-0.008164528757333755,0.010104423388838768,0.036283787339925766,0.014897889457643032,0.01165864709764719,-0.014102046377956867,-0.02311335876584053,0.011185185983777046,0.04416799545288086,-0.009268982335925102,-0.011791237629950047,-0.046478670090436935,4.10757674618136e-34,0.05748271942138672,-0.04880314692854881,0.032263755798339844,0.007728544995188713,0.010884060524404049,-0.020831719040870667,-0.018429730087518692,-0.008488207124173641,0.025006452575325966,-0.06495458632707596,-0.052760299295186996]'
SET
  @HasCustomProps_2b6b582a = 1
SET
  @HasCustomEvents_2b6b582a = 1
SET
  @RequiresData_2b6b582a = 1
SET
  @DependencyCount_2b6b582a = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_2b6b582a = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_2b6b582a = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_2b6b582a = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_2b6b582a,
  @Namespace = @Namespace_2b6b582a,
  @Name = @Name_2b6b582a,
  @Version = @Version_2b6b582a,
  @VersionSequence = @VersionSequence_2b6b582a,
  @Title = @Title_2b6b582a,
  @Description = @Description_2b6b582a,
  @Type = @Type_2b6b582a,
  @Status = @Status_2b6b582a,
  @DeveloperName = @DeveloperName_2b6b582a,
  @DeveloperEmail = @DeveloperEmail_2b6b582a,
  @DeveloperOrganization = @DeveloperOrganization_2b6b582a,
  @SourceRegistryID = @SourceRegistryID_2b6b582a,
  @ReplicatedAt = @ReplicatedAt_2b6b582a,
  @LastSyncedAt = @LastSyncedAt_2b6b582a,
  @Specification = @Specification_2b6b582a,
  @FunctionalRequirements = @FunctionalRequirements_2b6b582a,
  @TechnicalDesign = @TechnicalDesign_2b6b582a,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_2b6b582a,
  @TechnicalDesignVector = @TechnicalDesignVector_2b6b582a,
  @HasCustomProps = @HasCustomProps_2b6b582a,
  @HasCustomEvents = @HasCustomEvents_2b6b582a,
  @RequiresData = @RequiresData_2b6b582a,
  @DependencyCount = @DependencyCount_2b6b582a,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_2b6b582a,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_2b6b582a,
  @HasRequiredCustomProps = @HasRequiredCustomProps_2b6b582a;

-- Save MJ: Components (core SP call only)
DECLARE @ID_ac5456f6 UNIQUEIDENTIFIER,
@Namespace_ac5456f6 NVARCHAR(MAX),
@Name_ac5456f6 NVARCHAR(500),
@Version_ac5456f6 NVARCHAR(50),
@VersionSequence_ac5456f6 INT,
@Title_ac5456f6 NVARCHAR(1000),
@Description_ac5456f6 NVARCHAR(MAX),
@Type_ac5456f6 NVARCHAR(255),
@Status_ac5456f6 NVARCHAR(50),
@DeveloperName_ac5456f6 NVARCHAR(255),
@DeveloperEmail_ac5456f6 NVARCHAR(255),
@DeveloperOrganization_ac5456f6 NVARCHAR(255),
@SourceRegistryID_ac5456f6 UNIQUEIDENTIFIER,
@ReplicatedAt_ac5456f6 DATETIMEOFFSET,
@LastSyncedAt_ac5456f6 DATETIMEOFFSET,
@Specification_ac5456f6 NVARCHAR(MAX),
@FunctionalRequirements_ac5456f6 NVARCHAR(MAX),
@TechnicalDesign_ac5456f6 NVARCHAR(MAX),
@FunctionalRequirementsVector_ac5456f6 NVARCHAR(MAX),
@TechnicalDesignVector_ac5456f6 NVARCHAR(MAX),
@HasCustomProps_ac5456f6 BIT,
@HasCustomEvents_ac5456f6 BIT,
@RequiresData_ac5456f6 BIT,
@DependencyCount_ac5456f6 INT,
@TechnicalDesignVectorEmbeddingModelID_ac5456f6 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_ac5456f6 NVARCHAR(MAX),
@HasRequiredCustomProps_ac5456f6 BIT
SET
  @ID_ac5456f6 = 'AA9D4155-4706-49BF-894F-ECB00D5C32D1'
SET
  @Namespace_ac5456f6 = N'AI/Analytics'
SET
  @Name_ac5456f6 = N'AIModelAnalyticsDashboard'
SET
  @Version_ac5456f6 = N'1.0.0'
SET
  @VersionSequence_ac5456f6 = 1
SET
  @Title_ac5456f6 = N'AI Model Analytics Dashboard'
SET
  @Description_ac5456f6 = N'Comprehensive AI model usage analytics showing model performance, cost analysis, and usage trends with drill-down to prompt run details.'
SET
  @Type_ac5456f6 = N'Dashboard'
SET
  @Status_ac5456f6 = N'Published'
SET
  @Specification_ac5456f6 = N'{"name":"AIModelAnalyticsDashboard","title":"AI Model Analytics Dashboard","type":"dashboard","userExplanation":"Comprehensive dashboard showing AI model usage statistics, costs, and trends. Displays multiple charts including model distribution pie chart, cost analysis by vendor, and usage trends over time. Demonstrates coordinating multiple independent queries with Promise.all() for efficient parallel loading.","functionalRequirements":"## Business Objectives\n- Monitor AI model usage across the organization\n- Track costs by vendor and model type\n- Identify usage trends and patterns over time\n- Provide KPIs for total runs, total cost, and average cost per run\n- Support date range filtering for trend analysis\n\n## Functional Requirements\n- **Multi-Panel Dashboard**: Display 3-4 visualizations in cohesive layout (KPI cards, pie chart, bar chart, line chart)\n- **Model Usage Distribution**: Pie chart showing distribution of prompt runs by model\n- **Cost Analysis**: Bar chart showing total costs by AI vendor\n- **Usage Trends**: Line chart showing daily usage counts over selected time period\n- **KPI Cards**: Display total runs, total cost, average cost per run, and most-used model\n- **Parallel Query Loading**: Load all 3 queries concurrently using Promise.all() for performance\n- **Date Range Filter**: Support filtering trends by date range (default: last 30 days)\n- **Vendor Filter**: Optional filter to show stats for specific AI vendor\n- **Auto-Refresh**: Optional auto-refresh capability with configurable interval\n- **Loading States**: Show loading indicators for each panel during data fetch\n- **Empty States**: Handle cases with no data gracefully\n- **No Drill-Down**: Pure visualization dashboard without interactive drill-down","description":"Comprehensive AI model usage analytics showing model performance, cost analysis, and usage trends with drill-down to prompt run details.","dataRequirements":{"mode":"queries","queries":[{"name":"AI Model Analytics - Models","categoryPath":"Demo","description":"Model usage counts: GROUP BY ModelName with COUNT(*) from AI Prompt Runs. Returns model distribution for pie chart. **Result Order: RunCount DESC** - Most frequently used models first for usage ranking.","entityNames":["MJ: AI Prompt Runs","AI Models"],"fields":[{"name":"ModelName","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Name of the AI model"},{"name":"RunCount","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Total number of prompt runs for this model"},{"name":"SuccessCount","sequence":3,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Number of successful runs"},{"name":"FailureCount","sequence":4,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Number of failed runs"},{"name":"SuccessRate","sequence":5,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Percentage of successful runs (0-100)"}],"parameters":[{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"},{"name":"VendorName","isRequired":false,"type":"string","sampleValue":"OpenAI","description":"Optional filter by AI vendor name"}]},{"name":"AI Model Analytics - Costs","categoryPath":"Demo","description":"Aggregates AI prompt run costs by vendor and optionally by model. Groups by VendorName with optional ModelName dimension when ModelName parameter provided. Calculates token usage totals (prompt, completion, combined) and estimated cost. Supports date range filtering (StartDate/EndDate) and vendor/model filtering. General-purpose query for cost analysis at vendor or vendor+model granularity. **Result Order: TotalTokens DESC** - Highest token usage first for cost prioritization.","entityNames":["MJ: AI Prompt Runs","AI Models","MJ: AI Vendors"],"fields":[{"name":"VendorName","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Name of the AI vendor"},{"name":"ModelName","sequence":2,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Name of the AI model (only included when ModelName parameter is provided)"},{"name":"RunCount","sequence":3,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Total number of prompt runs for this vendor/model"},{"name":"TotalInputTokens","sequence":4,"defaultInView":true,"type":"bigint","allowsNull":true,"isPrimaryKey":false,"description":"Sum of all input tokens used"},{"name":"TotalOutputTokens","sequence":5,"defaultInView":true,"type":"bigint","allowsNull":true,"isPrimaryKey":false,"description":"Sum of all output tokens used"},{"name":"TotalTokens","sequence":6,"defaultInView":true,"type":"bigint","allowsNull":true,"isPrimaryKey":false,"description":"Sum of input and output tokens"},{"name":"EstimatedCostUSD","sequence":7,"defaultInView":true,"type":"decimal(18,6)","allowsNull":true,"isPrimaryKey":false,"description":"Estimated cost in USD (simplified calculation: TotalTokens / 1M)"}],"parameters":[{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"},{"name":"VendorName","isRequired":false,"type":"string","sampleValue":"OpenAI","description":"Optional filter by AI vendor name"},{"name":"ModelName","isRequired":false,"type":"string","sampleValue":"gpt-4","description":"Optional filter by AI model name. When provided, adds ModelName to GROUP BY for vendor+model cost breakdown."}]},{"name":"AI Model Analytics - Trends","categoryPath":"Demo","description":"Time-based trends: Daily usage counts for configurable time period (default last 30 days). Returns date and count for line chart. **Result Order: Date ASC** - Chronological order for time-series trend visualization.","entityNames":["MJ: AI Prompt Runs"],"fields":[{"name":"Date","sequence":1,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date of prompt runs"},{"name":"RunCount","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Total number of runs on this date"},{"name":"SuccessCount","sequence":3,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Number of successful runs"},{"name":"FailureCount","sequence":4,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Number of failed runs"},{"name":"TotalInputTokens","sequence":5,"defaultInView":true,"type":"bigint","allowsNull":true,"isPrimaryKey":false,"description":"Sum of input tokens for the day"},{"name":"TotalOutputTokens","sequence":6,"defaultInView":true,"type":"bigint","allowsNull":true,"isPrimaryKey":false,"description":"Sum of output tokens for the day"},{"name":"AvgDurationSeconds","sequence":7,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Average duration of runs in seconds"}],"parameters":[{"name":"DaysBack","isRequired":false,"type":"number","sampleValue":"30","description":"Number of days to look back from today (default: 30)"},{"name":"VendorName","isRequired":false,"type":"string","sampleValue":"OpenAI","description":"Optional filter by AI vendor name"},{"name":"ModelName","isRequired":false,"type":"string","sampleValue":"gpt-4","description":"Optional filter by AI model name"}]}],"entities":[{"name":"MJ: AI Prompt Runs","description":"Core entity containing AI prompt execution records. All three queries aggregate and analyze data from this entity.","displayFields":["Model","Vendor","Success","RunAt","CompletedAt","TokensPrompt","TokensCompletion","TokensUsed"],"filterFields":["ModelID","RunAt","CompletedAt","Success"],"sortFields":["RunAt","CompletedAt"],"usageContext":"Main data source for all dashboard queries. Models query groups by ModelName, Costs query groups by VendorName and calculates token costs, Trends query groups by date for time-series analysis."},{"name":"AI Models","description":"Referenced entity providing model metadata (name, vendor, pricing). Joined in queries to get model names and vendor information.","displayFields":["Name","VendorName","MaxInputTokens","MaxOutputTokens"],"filterFields":["ID","VendorID"],"sortFields":["Name"],"usageContext":"Joined with AI Prompt Runs to provide ModelName view field used in grouping and display."},{"name":"MJ: AI Vendors","description":"Referenced entity providing vendor information for cost analysis and filtering.","displayFields":["Name","Description"],"filterFields":["ID","Name"],"sortFields":["Name"],"usageContext":"Joined with AI Models to provide VendorName view field for cost grouping and vendor filter parameter."}]},"properties":[{"name":"startDate","type":"string","required":false,"defaultValue":null,"description":"Optional start date filter in YYYY-MM-DD format"},{"name":"endDate","type":"string","required":false,"defaultValue":null,"description":"Optional end date filter in YYYY-MM-DD format"},{"name":"vendorName","type":"string","required":false,"defaultValue":null,"description":"Optional filter by AI vendor name"},{"name":"modelName","type":"string","required":false,"defaultValue":null,"description":"Optional filter by AI model name. When provided to Costs query, enables vendor+model cost breakdown."},{"name":"daysBack","type":"number","required":false,"defaultValue":30,"description":"Number of days to look back for trend analysis"}],"events":[{"name":"None","description":"This is a pure visualization dashboard component with no user interaction events. It displays data only and does not emit events or respond to clicks."}],"dependencies":[{"name":"SimpleChart","location":"registry","namespace":"Generic/UI/Chart","version":"^1.0.0"}],"location":"embedded","technicalDesign":"## Component Architecture\n\n### Data Flow\n1. **Parallel Query Loading**: Uses Promise.all() to execute all 3 queries concurrently for optimal performance\n2. **Models Query**: Aggregates prompt runs by ModelName with success/failure counts and rates\n3. **Costs Query**: Aggregates token usage and estimated costs by VendorName\n4. **Trends Query**: Groups prompt runs by date for time-series visualization\n5. **KPI Calculation**: Component computes summary metrics client-side from query results\n6. **Visualization**: Multiple SimpleChart instances render data in different chart types\n\n### State Management\n- `modelsData`: Array of model usage statistics (from Models query)\n- `costsData`: Array of vendor cost data (from Costs query)\n- `trendsData`: Array of daily usage counts (from Trends query)\n- `loading`: Boolean for initial load state (all queries loading)\n- `errors`: Object with per-query error states (models, costs, trends, general)\n\n### Multi-Query Pattern\n**Parallel Loading Strategy**:\n- All 3 queries execute simultaneously using Promise.all()\n- Independent error handling per query (one failure doesn''t block others)\n- Component displays available data even if some queries fail\n- No dependencies between queries (truly parallel execution)\n\n### KPI Calculation\n**Client-Side Aggregation**:\n- `totalRuns`: Sum of RunCount from modelsData\n- `totalCost`: Sum of EstimatedCostUSD from costsData\n- `avgCostPerRun`: totalCost / totalRuns\n- `mostUsedModel`: Model with highest RunCount from modelsData\n\n### Error Handling Strategy\n- **Per-Chart Errors**: Each chart section can fail independently\n- **Graceful Degradation**: Shows available charts even if others fail\n- **Empty States**: Handles no-data gracefully for each chart\n- **General Error**: Catches Promise.all() failures that affect all queries\n\n### Chart Configuration\n**Model Usage Distribution** (Doughnut Chart):\n- Data: modelsData grouped by ModelName\n- Value: RunCount (sum aggregation)\n- Shows relative distribution of model usage\n\n**Cost by Vendor** (Bar Chart):\n- Data: costsData grouped by VendorName\n- Value: EstimatedCostUSD (sum aggregation)\n- Horizontal bars for vendor cost comparison\n\n**Usage Trends** (Line Chart):\n- Data: trendsData grouped by Date\n- Value: RunCount (sum aggregation)\n- Time-series showing usage over time\n- Note: sortBy=undefined to preserve query''s natural date ordering\n\n### Date Filter Handling\n- `startDate`/`endDate`: Applied to Models and Costs queries\n- `daysBack`: Applied to Trends query (different parameter for time-series)\n- `vendorName`: Applied to all 3 queries for consistent filtering\n- Filters controlled externally via props (no internal UI)\n\n### Educational Value\nDemonstrates:\n1. **Multi-Query Coordination**: Parallel loading with Promise.all()\n2. **Independent Error Handling**: Per-query error states\n3. **Client-Side KPIs**: Aggregating across query results\n4. **Dashboard Layout**: Multi-panel visualization with KPI cards\n5. **Pure Visualization**: No drill-down, just display\n6. **Graceful Degradation**: Show what works even if some fails","code":"function AIModelAnalyticsDashboard({\n  utilities,\n  styles,\n  components,\n  startDate = null,\n  endDate = null,\n  vendorName = null,\n  modelName = null,\n  daysBack = 30\n}) {\n  // State management\n  const [modelsData, setModelsData] = useState(null);\n  const [costsData, setCostsData] = useState(null);\n  const [trendsData, setTrendsData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [errors, setErrors] = useState({});\n\n  // Get SimpleChart component from registry\n  const { SimpleChart } = components;\n\n  // Load all data on mount or when parameters change\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      setErrors({});\n\n      try {\n        // Execute all 3 queries in parallel using Promise.all for efficiency\n        const [modelsResult, costsResult, trendsResult] = await Promise.all([\n          utilities.rq.RunQuery({\n            QueryName: ''AI Model Analytics - Models'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              StartDate: startDate,\n              EndDate: endDate,\n              VendorName: vendorName\n            }\n          }),\n          utilities.rq.RunQuery({\n            QueryName: ''AI Model Analytics - Costs'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              StartDate: startDate,\n              EndDate: endDate,\n              VendorName: vendorName,\n              ModelName: modelName\n            }\n          }),\n          utilities.rq.RunQuery({\n            QueryName: ''AI Model Analytics - Trends'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              DaysBack: daysBack,\n              VendorName: vendorName,\n              ModelName: null\n            }\n          })\n        ]);\n\n        // Handle models query result\n        if (modelsResult && modelsResult.Success && modelsResult.Results) {\n          setModelsData(modelsResult.Results);\n        } else {\n          setErrors(prev => ({\n            ...prev,\n            models: modelsResult?.ErrorMessage || ''Failed to load model usage data''\n          }));\n        }\n\n        // Handle costs query result\n        if (costsResult && costsResult.Success && costsResult.Results) {\n          setCostsData(costsResult.Results);\n        } else {\n          setErrors(prev => ({\n            ...prev,\n            costs: costsResult?.ErrorMessage || ''Failed to load cost data''\n          }));\n        }\n\n        // Handle trends query result\n        if (trendsResult && trendsResult.Success && trendsResult.Results) {\n          setTrendsData(trendsResult.Results);\n        } else {\n          setErrors(prev => ({\n            ...prev,\n            trends: trendsResult?.ErrorMessage || ''Failed to load trend data''\n          }));\n        }\n      } catch (err) {\n        console.error(''Error loading AI model analytics:'', err);\n        setErrors({ general: err.message || ''An unexpected error occurred'' });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [startDate, endDate, vendorName, modelName, daysBack, utilities]);\n\n  // Calculate KPI metrics\n  const calculateKPIs = () => {\n    const kpis = {\n      totalRuns: 0,\n      totalCost: 0,\n      avgCostPerRun: 0,\n      mostUsedModel: ''N/A''\n    };\n\n    // Calculate total runs from models data\n    if (modelsData && modelsData.length > 0) {\n      kpis.totalRuns = modelsData.reduce((sum, row) => sum + (row.RunCount || 0), 0);\n\n      // Find most used model\n      const topModel = modelsData.reduce((max, row) =>\n        (row.RunCount || 0) > (max.RunCount || 0) ? row : max\n      , modelsData[0]);\n      kpis.mostUsedModel = topModel.ModelName || ''N/A'';\n    }\n\n    // Calculate total cost from costs data\n    if (costsData && costsData.length > 0) {\n      kpis.totalCost = costsData.reduce((sum, row) => sum + (row.EstimatedCostUSD || 0), 0);\n    }\n\n    // Calculate average cost per run\n    if (kpis.totalRuns > 0 && kpis.totalCost > 0) {\n      kpis.avgCostPerRun = kpis.totalCost / kpis.totalRuns;\n    }\n\n    return kpis;\n  };\n\n  // Loading state\n  if (loading) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n        <div>Loading AI model analytics...</div>\n      </div>\n    );\n  }\n\n  // General error state\n  if (errors.general) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>{errors.general}</div>\n      </div>\n    );\n  }\n\n  // Empty state - no data at all\n  if (!modelsData && !costsData && !trendsData) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n        <div style={{ fontSize: ''16px'' }}>No Data Available</div>\n        <div style={{ marginTop: ''8px'' }}>\n          No AI model usage data found for the specified criteria\n        </div>\n      </div>\n    );\n  }\n\n  const kpis = calculateKPIs();\n\n  return (\n    <div style={{ padding: ''16px'', width: ''100%'', minWidth: ''800px'', boxSizing: ''border-box'' }}>\n      {/* Dashboard Title */}\n      <div style={{\n        fontSize: ''20px'',\n        fontWeight: ''bold'',\n        marginBottom: ''24px''\n      }}>\n        AI Model Analytics Dashboard\n        {vendorName && ` - $' + '{vendorName}`}\n      </div>\n\n      {/* KPI Cards */}\n      <div style={{\n        display: ''grid'',\n        gridTemplateColumns: ''repeat(4, 1fr)'',\n        gap: ''16px'',\n        marginBottom: ''32px''\n      }}>\n        <div style={{\n          padding: ''20px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''8px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''14px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Runs\n          </div>\n          <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n            {kpis.totalRuns?.toLocaleString() ?? ''0''}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''20px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''8px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''14px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Cost\n          </div>\n          <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n            $' + '{kpis.totalCost?.toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) ?? ''0.00''}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''20px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''8px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''14px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Avg Cost Per Run\n          </div>\n          <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n            $' + '{kpis.avgCostPerRun?.toLocaleString(''en-US'', { minimumFractionDigits: 4, maximumFractionDigits: 4 }) ?? ''0.0000''}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''20px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''8px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''14px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Most Used Model\n          </div>\n          <div style={{\n            fontSize: ''20px'',\n            fontWeight: ''bold'',\n            color: ''#722ed1'',\n            overflow: ''hidden'',\n            textOverflow: ''ellipsis'',\n            whiteSpace: ''nowrap'',\n            paddingTop: ''6px''\n          }}>\n            {kpis.mostUsedModel}\n          </div>\n        </div>\n      </div>\n\n      {/* Charts Grid */}\n      <div style={{\n        display: ''grid'',\n        gridTemplateColumns: ''repeat(2, 1fr)'',\n        gap: ''24px'',\n        marginBottom: ''24px''\n      }}>\n        {/* Model Usage Distribution Chart */}\n        <div style={{\n          backgroundColor: ''#ffffff'',\n          padding: ''20px'',\n          borderRadius: ''8px'',\n          border: ''1px solid #e8e8e8''\n        }}>\n          {errors.models ? (\n            <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n              <div style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>Error Loading Model Data</div>\n              <div style={{ marginTop: ''8px'', fontSize: ''12px'' }}>{errors.models}</div>\n            </div>\n          ) : modelsData && modelsData.length > 0 ? (\n            <SimpleChart\n              entityName=\"MJ: AI Prompt Runs\"\n              data={modelsData}\n              chartType=\"doughnut\"\n              groupBy=\"ModelName\"\n              valueField=\"RunCount\"\n              aggregateMethod=\"sum\"\n              title=\"Model Usage Distribution\"\n              showLegend={true}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n            />\n          ) : (\n            <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n              <div style={{ fontSize: ''14px'' }}>No model usage data available</div>\n            </div>\n          )}\n        </div>\n\n        {/* Cost by Vendor Chart */}\n        <div style={{\n          backgroundColor: ''#ffffff'',\n          padding: ''20px'',\n          borderRadius: ''8px'',\n          border: ''1px solid #e8e8e8''\n        }}>\n          {errors.costs ? (\n            <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n              <div style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>Error Loading Cost Data</div>\n              <div style={{ marginTop: ''8px'', fontSize: ''12px'' }}>{errors.costs}</div>\n            </div>\n          ) : costsData && costsData.length > 0 ? (\n            <SimpleChart\n              entityName=\"MJ: AI Prompt Runs\"\n              data={costsData}\n              chartType=\"bar\"\n              groupBy=\"VendorName\"\n              valueField=\"EstimatedCostUSD\"\n              aggregateMethod=\"sum\"\n              title=\"Cost by Vendor\"\n              showLegend={false}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n            />\n          ) : (\n            <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n              <div style={{ fontSize: ''14px'' }}>No cost data available</div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Usage Trends Chart - Full Width */}\n      <div style={{\n        backgroundColor: ''#ffffff'',\n        padding: ''20px'',\n        borderRadius: ''8px'',\n        border: ''1px solid #e8e8e8''\n      }}>\n        {errors.trends ? (\n          <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n            <div style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>Error Loading Trend Data</div>\n            <div style={{ marginTop: ''8px'', fontSize: ''12px'' }}>{errors.trends}</div>\n          </div>\n        ) : trendsData && trendsData.length > 0 ? (\n          <SimpleChart\n            entityName=\"MJ: AI Prompt Runs\"\n            data={trendsData}\n            chartType=\"line\"\n            groupBy=\"Date\"\n            valueField=\"RunCount\"\n            aggregateMethod=\"sum\"\n            sortBy={undefined}\n            title={`Usage Trends (Last $' + '{daysBack} Days)`}\n            showLegend={false}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n          />\n        ) : (\n          <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n            <div style={{ fontSize: ''14px'' }}>No trend data available</div>\n          </div>\n        )}\n      </div>\n\n      {/* Additional Statistics */}\n      {modelsData && modelsData.length > 0 && (\n        <div style={{\n          marginTop: ''24px'',\n          padding: ''16px'',\n          backgroundColor: ''#f9f9f9'',\n          borderRadius: ''8px'',\n          border: ''1px solid #e8e8e8''\n        }}>\n          <div style={{\n            fontSize: ''14px'',\n            fontWeight: ''bold'',\n            marginBottom: ''12px'',\n            color: ''#595959''\n          }}>\n            Model Performance Summary\n          </div>\n          <div style={{\n            display: ''grid'',\n            gridTemplateColumns: ''repeat(3, 1fr)'',\n            gap: ''16px''\n          }}>\n            <div>\n              <span style={{ fontSize: ''12px'', color: ''#8c8c8c'' }}>Total Models Used: </span>\n              <span style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>{modelsData.length}</span>\n            </div>\n            <div>\n              <span style={{ fontSize: ''12px'', color: ''#8c8c8c'' }}>Avg Success Rate: </span>\n              <span style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>\n                {(modelsData.reduce((sum, row) => sum + (row.SuccessRate || 0), 0) / modelsData.length).toFixed(1)}%\n              </span>\n            </div>\n            <div>\n              <span style={{ fontSize: ''12px'', color: ''#8c8c8c'' }}>Total Failures: </span>\n              <span style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>\n                {modelsData.reduce((sum, row) => sum + (row.FailureCount || 0), 0).toLocaleString()}\n              </span>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage (last 30 days, all vendors)\n<AIModelAnalyticsDashboard\n  utilities={utilities}\n  styles={styles}\n  components={components}\n/>\n\n// Last 60 days\n<AIModelAnalyticsDashboard\n  daysBack={60}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n/>\n\n// Filter by specific vendor\n<AIModelAnalyticsDashboard\n  vendorName=\"OpenAI\"\n  daysBack={30}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n/>\n\n// Custom date range for models and costs\n<AIModelAnalyticsDashboard\n  startDate=\"2024-01-01\"\n  endDate=\"2024-12-31\"\n  daysBack={365}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n/>\n\n// Specific vendor and date range\n<AIModelAnalyticsDashboard\n  vendorName=\"Anthropic\"\n  startDate=\"2024-06-01\"\n  endDate=\"2024-06-30\"\n  daysBack={30}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n/>"}'
SET
  @FunctionalRequirements_ac5456f6 = N'## Business Objectives
- Monitor AI model usage across the organization
- Track costs by vendor and model type
- Identify usage trends and patterns over time
- Provide KPIs for total runs, total cost, and average cost per run
- Support date range filtering for trend analysis

## Functional Requirements
- **Multi-Panel Dashboard**: Display 3-4 visualizations in cohesive layout (KPI cards, pie chart, bar chart, line chart)
- **Model Usage Distribution**: Pie chart showing distribution of prompt runs by model
- **Cost Analysis**: Bar chart showing total costs by AI vendor
- **Usage Trends**: Line chart showing daily usage counts over selected time period
- **KPI Cards**: Display total runs, total cost, average cost per run, and most-used model
- **Parallel Query Loading**: Load all 3 queries concurrently using Promise.all() for performance
- **Date Range Filter**: Support filtering trends by date range (default: last 30 days)
- **Vendor Filter**: Optional filter to show stats for specific AI vendor
- **Auto-Refresh**: Optional auto-refresh capability with configurable interval
- **Loading States**: Show loading indicators for each panel during data fetch
- **Empty States**: Handle cases with no data gracefully
- **No Drill-Down**: Pure visualization dashboard without interactive drill-down'
SET
  @TechnicalDesign_ac5456f6 = N'## Component Architecture

### Data Flow
1. **Parallel Query Loading**: Uses Promise.all() to execute all 3 queries concurrently for optimal performance
2. **Models Query**: Aggregates prompt runs by ModelName with success/failure counts and rates
3. **Costs Query**: Aggregates token usage and estimated costs by VendorName
4. **Trends Query**: Groups prompt runs by date for time-series visualization
5. **KPI Calculation**: Component computes summary metrics client-side from query results
6. **Visualization**: Multiple SimpleChart instances render data in different chart types

### State Management
- `modelsData`: Array of model usage statistics (from Models query)
- `costsData`: Array of vendor cost data (from Costs query)
- `trendsData`: Array of daily usage counts (from Trends query)
- `loading`: Boolean for initial load state (all queries loading)
- `errors`: Object with per-query error states (models, costs, trends, general)

### Multi-Query Pattern
**Parallel Loading Strategy**:
- All 3 queries execute simultaneously using Promise.all()
- Independent error handling per query (one failure doesn''t block others)
- Component displays available data even if some queries fail
- No dependencies between queries (truly parallel execution)

### KPI Calculation
**Client-Side Aggregation**:
- `totalRuns`: Sum of RunCount from modelsData
- `totalCost`: Sum of EstimatedCostUSD from costsData
- `avgCostPerRun`: totalCost / totalRuns
- `mostUsedModel`: Model with highest RunCount from modelsData

### Error Handling Strategy
- **Per-Chart Errors**: Each chart section can fail independently
- **Graceful Degradation**: Shows available charts even if others fail
- **Empty States**: Handles no-data gracefully for each chart
- **General Error**: Catches Promise.all() failures that affect all queries

### Chart Configuration
**Model Usage Distribution** (Doughnut Chart):
- Data: modelsData grouped by ModelName
- Value: RunCount (sum aggregation)
- Shows relative distribution of model usage

**Cost by Vendor** (Bar Chart):
- Data: costsData grouped by VendorName
- Value: EstimatedCostUSD (sum aggregation)
- Horizontal bars for vendor cost comparison

**Usage Trends** (Line Chart):
- Data: trendsData grouped by Date
- Value: RunCount (sum aggregation)
- Time-series showing usage over time
- Note: sortBy=undefined to preserve query''s natural date ordering

### Date Filter Handling
- `startDate`/`endDate`: Applied to Models and Costs queries
- `daysBack`: Applied to Trends query (different parameter for time-series)
- `vendorName`: Applied to all 3 queries for consistent filtering
- Filters controlled externally via props (no internal UI)

### Educational Value
Demonstrates:
1. **Multi-Query Coordination**: Parallel loading with Promise.all()
2. **Independent Error Handling**: Per-query error states
3. **Client-Side KPIs**: Aggregating across query results
4. **Dashboard Layout**: Multi-panel visualization with KPI cards
5. **Pure Visualization**: No drill-down, just display
6. **Graceful Degradation**: Show what works even if some fails'
SET
  @FunctionalRequirementsVector_ac5456f6 = N'[-0.024449417367577553,0.07565377652645111,-0.044666141271591187,-0.04271216318011284,0.025143349543213844,-0.010564988479018211,0.04820525273680687,-0.004087668377906084,-0.0003719688393175602,0.02070692367851734,-0.012720635160803795,0.061303574591875076,0.005697674583643675,0.1412256807088852,-0.00016040680930018425,-0.04802646487951279,0.0036247626412659883,0.005609346553683281,0.037001341581344604,0.029658246785402298,0.008844428695738316,0.00619868328794837,0.013126960024237633,0.012269502505660057,-0.03773431107401848,-0.0469508171081543,-0.03358426317572594,-0.017856216058135033,-0.0009276708005927503,-0.07919592410326004,0.02073487639427185,-0.012651581317186356,-0.03465084359049797,0.07259176671504974,0.0000027072749162471155,-0.040570877492427826,-0.052470505237579346,0.01312513742595911,-0.04168460890650749,0.04790130630135536,0.08031357824802399,-0.00646258145570755,0.048647455871105194,0.012404694221913815,0.019271844998002052,0.025515645742416382,-0.010622546076774597,-0.013556995429098606,0.02532423473894596,-0.05418376624584198,0.0021368132438510656,0.02481505274772644,-0.07725133746862411,-0.02718249149620533,-0.0680699497461319,-0.05920034274458885,0.00014675661805085838,0.023792719468474388,0.06785156577825546,-0.05913785845041275,-0.0004989766166545451,0.03344810754060745,0.023129859939217567,-0.017401527613401413,0.06424698978662491,0.027814464643597603,0.05166345834732056,-0.0481082983314991,-0.026147257536649704,-0.025179488584399223,0.06547525525093079,-0.013762407936155796,0.0043863821774721146,-0.017464380711317062,-0.04766406491398811,-0.0156246367841959,-0.04535065218806267,-0.027650868520140648,0.02719506435096264,-0.017971035093069077,-0.022739112377166748,0.020834363996982574,-0.04737911745905876,-0.0008972999639809132,-0.03994869068264961,-0.04718613624572754,-0.013525283895432949,-0.02162906713783741,0.01634875498712063,0.0022094505839049816,0.018077712506055832,-0.03363266587257385,0.007838433608412743,-0.014054293744266033,-0.0635993704199791,-0.015727277845144272,0.046094343066215515,-0.0636514201760292,0.04738571122288704,-0.03367603197693825,0.04905785992741585,0.010175257921218872,0.017643960192799568,0.046022187918424606,0.08861081302165985,0.040895070880651474,-0.014948164112865925,-0.05238396301865578,0.0034489885438233614,0.03556853532791138,0.005326311103999615,-0.014442885294556618,-0.012301793321967125,0.04569503292441368,-0.008067512884736061,-0.03130338713526726,-0.03605770319700241,0.040535930544137955,-0.0373397171497345,0.03322635218501091,0.052885428071022034,0.001068759011104703,0.04083308205008507,0.07052206993103027,0.017973767593503,0.045031704008579254,-0.05405638739466667,0.012142697349190712,-0.02104738913476467,-0.06371520459651947,-0.03099524974822998,-0.008648655377328396,0.002887515351176262,-0.01225410494953394,0.000998350908048451,0.010446010157465935,0.045026808977127075,0.00982620194554329,-0.0694524347782135,-0.06689703464508057,0.03103453479707241,-0.04374532774090767,-0.08373920619487762,0.041689712554216385,0.017458513379096985,-0.027371466159820557,0.006359439343214035,0.056314315646886826,-0.01898789033293724,-0.003617734182626009,0.011470445431768894,-0.02823086827993393,-0.027009179815649986,0.027655912563204765,-0.008845324628055096,-0.020171675831079483,0.01143160741776228,0.04556571692228317,0.0018635635497048497,0.009623593650758266,0.029617659747600555,0.016279978677630424,-0.020425837486982346,-0.000998283619992435,0.015508203767240047,0.02447773516178131,-0.053233444690704346,-0.007764879148453474,-0.06340757757425308,-0.026285480707883835,-0.03242022916674614,-0.050602175295352936,0.018591709434986115,0.03597010672092438,0.013201273046433926,0.0016857570735737681,0.03513473644852638,-0.06085827574133873,0.0006859835120849311,0.03733929246664047,0.038165438920259476,-0.09552934765815735,0.005146628245711327,0.015938814729452133,0.023910701274871826,-0.011641737073659897,-0.016512349247932434,0.05230230465531349,-0.006628166884183884,-0.033222999423742294,-0.0013143906835466623,-0.015175167471170425,-0.11219435930252075,0.0058940560556948185,0.06257893890142441,0.010300802066922188,0.010187411680817604,-0.07897257804870605,0.008933142758905888,-0.032520078122615814,-0.02766961045563221,-0.03774688020348549,0.04799923300743103,0.04833509773015976,0.04000850394368172,-0.035409703850746155,-0.05920308455824852,0.017284411936998367,-0.03585517778992653,-0.01616782508790493,0.06933246552944183,0.009392385371029377,-0.01882263273000717,0.029233790934085846,-0.026879532262682915,0.01547920797020197,0.03342168778181076,0.008136196993291378,-0.030161498114466667,0.04438663274049759,-0.054359935224056244,0.006236824207007885,-0.01599772460758686,0.014462667517364025,0.05706320330500603,0.05254179239273071,0.010562299750745296,0.028838707134127617,0.056749191135168076,0.036232635378837585,-0.01418980211019516,0.009046589024364948,0.04313036426901817,0.03984055668115616,0.02252648025751114,0.04394829645752907,0.04808483272790909,0.06333211809396744,-0.009769066236913204,0.061404936015605927,0.06410602480173111,-0.04602660611271858,-0.01761001907289028,-0.046653248369693756,0.015185659751296043,-0.03328128531575203,-0.013886700384318829,0.04224399849772453,0.02111315168440342,-0.022563451901078224,0.028505021706223488,0.00767981493845582,0.013746078126132488,0.0072028799913823605,-0.025935065001249313,-0.014441728591918945,0.001674280152656138,-0.02360261045396328,-0.030072394758462906,0.059151843190193176,0.002181336283683777,0.0032830943819135427,-0.022921867668628693,-0.02526683732867241,-0.005417178850620985,-0.02615044265985489,0.08861565589904785,-0.06190314516425133,0.0001540129305794835,0.03685836121439934,-0.025918636471033096,0.0275836531072855,0.049199771136045456,-0.016561264172196388,-0.034415729343891144,0.06868909299373627,-0.01100802980363369,0.027329634875059128,-0.03623650223016739,-0.035575419664382935,0.034611400216817856,-0.022625425830483437,0.008058850653469563,0.04007365182042122,-0.025767160579562187,0.028284305706620216,0.08727549761533737,-0.05755288898944855,0.04895410314202309,-0.017216024920344353,0.016565369442105293,-0.016694286838173866,0.0005795900360681117,0.003022653516381979,-0.011887469328939915,-0.019908186048269272,-0.014888670295476913,0.04567139968276024,-0.0445556715130806,0.03139490634202957,0.002092543989419937,-0.026536090299487114,-0.05466528981924057,0.021261142566800117,0.014583474956452847,0.055696483701467514,0.0786764919757843,0.03768637403845787,0.041854653507471085,0.03966974839568138,0.013389017432928085,0.008492589928209782,0.010603755712509155,0.017972959205508232,0.025327585637569427,-0.013296361081302166,-0.011271101422607899,0.0035545954015105963,0.0059094806201756,0.054380279034376144,0.05588744208216667,-0.022268010303378105,-0.011717592366039753,-0.0005176296690478921,-0.03653232380747795,-0.006599596701562405,-0.07652229815721512,-0.008764667436480522,-0.030247723683714867,-0.018664224073290825,0.015519607812166214,-0.04894856736063957,0.024341309443116188,0.028155112639069557,0.0017702048644423485,-0.044889166951179504,-0.035072211176157,-0.005967664532363415,-0.03136461600661278,-0.030741406604647636,0.010067707858979702,0.03496415540575981,-0.023752640932798386,0.03353957459330559,-0.038184184581041336,-0.04655122384428978,-0.021846408024430275,-0.01307876780629158,-0.04443896561861038,0.027957936748862267,0.03990624472498894,0.021976402029395103,0.003278049873188138,-0.01736588217318058,0.04503094404935837,-0.05342646688222885,-0.02775680087506771,-0.019312476739287376,-0.044022366404533386,-0.013655431568622589,0.08081506937742233,0.01664005219936371,0.04317455738782883,0.015808681026101112,-0.046242985874414444,0.020386990159749985,0.010724305175244808,0.015123479068279266,0.022966135293245316,-0.023226646706461906,-0.04019537568092346,-0.002194069791585207,0.030863121151924133,-0.0016807272331789136,-0.00046536463196389377,-0.04697404056787491,0.01255560852587223,0.046999912708997726,0.04376204311847687,0.02300194650888443,0.022598283365368843,-0.038894813507795334,0.05858287215232849,0.03672778606414795,0.10793393105268478,-0.03543250635266304,-0.012532314285635948,-0.04777069762349129,-0.06886497139930725,0.03208710253238678,-0.005148099269717932,-0.002847840776666999,0.034218087792396545,-0.10909893363714218,0.013559464365243912,-0.06144779175519943,-0.03943580761551857,0.0208339374512434,0.032445672899484634,0.0030480267014354467,0.018650362268090248,-0.030551474541425705,-0.04453720152378082,-0.04392597824335098,0.02681104838848114,-0.04086599871516228,-0.019730377942323685,0.05089821666479111,-0.01830531284213066,0.0018142590997740626,-0.020717276260256767,0.06253271549940109,-0.028993217274546623,-0.06657654792070389,0.04572822526097298,-0.007420843932777643,-0.021821530535817146,-0.010796739719808102,0.023117754608392715,0.04422834515571594,0.04748861491680145,0.04532446712255478,0.041336022317409515,-0.04610250145196915,0.06656954437494278,-0.04065331816673279,0.0040504164062440395,0.0033764266408979893,0.002668528351932764,0.03716026991605759,-0.01264286320656538,-0.0010439950274303555,-0.0018335088388994336,0.01020296011120081,-0.07695119827985764,0.004572403151541948,0.008749332278966904,-0.04451745003461838,-0.0517398826777935,0.009625167585909367,-0.002179437316954136,0.009862303733825684,0.051181692630052567,0.01838172785937786,-0.010515023954212666,0.022597692906856537,0.01780627854168415,0.0043547144159674644,-0.07011423259973526,-0.005565308965742588,0.04255120828747749,-0.03248927369713783,-0.023264870047569275,0.0010572975734248757,0.01618870161473751,-0.029219357296824455,0.013365334831178188,-0.005093127489089966,-0.013982214033603668,0.021751374006271362,0.03405671939253807,0.030043182894587517,-0.05482550337910652,-0.005605167709290981,0.07831894606351852,-0.009920193813741207,0.04087502881884575,-0.05097607150673866,-0.03799707069993019,-0.041478052735328674,0.05526723712682724,-0.009271487593650818,-0.023484084755182266,-0.030430961400270462,-0.005781449843198061,-0.04988628625869751,0.01569925993680954,-0.007495248690247536,0.012304925359785557,-0.019006885588169098,0.08054302632808685,-0.008783351629972458,0.03821257874369621,-0.04934663698077202,-0.0012124276254326105,-0.0038482940290123224,-0.029013246297836304,-0.02992274984717369,-0.03758044168353081,0.009691532701253891,-0.008906267583370209,-0.002238042652606964,0.0098652932792902,0.004402812570333481,0.04744330421090126,-0.05811915919184685,-0.048924338072538376,-0.0027841771952807903,-0.04103408008813858,-0.015148702077567577,-0.0028003009501844645,0.005779605824500322,0.01862190291285515,-0.07138126343488693,0.0069696432910859585,0.01121927797794342,0.0021683434024453163,-0.04106156527996063,-0.02409309707581997,0.002512942301109433,-0.006746035534888506,-0.018644703552126884,-0.02861045114696026,-0.06075512617826462,0.054127421230077744,0.026726730167865753,-0.03585356846451759,-0.02103736251592636,0.020650174468755722,-0.04072027653455734,0.014776894822716713,0.002732648514211178,-0.0022220786195248365,0.016620494425296783,0.07987670600414276,-0.04642817750573158,0.009364977478981018,-0.02675849199295044,-0.018561463803052902,0.04688740894198418,0.00021492633095476776,0.01771056465804577,-0.03361187130212784,-0.05128836631774902,-0.06281782686710358,0.008868701756000519,0.02315959334373474,0.029523814097046852,-0.005063918419182301,-0.0061774421483278275,-0.08235995471477509,0.0007013750146143138,-0.022839557379484177,-0.04362771287560463,-0.046440329402685165,-0.02693489007651806,0.01293920073658228,0.012776676565408707,0.015566482208669186,0.04640374332666397,0.02035796456038952,-0.02646402083337307,-0.07755767554044724,-0.020330706611275673,0.019161827862262726,-7.800294719992656e-33,-0.01823793351650238,0.003188120434060693,-0.0386647954583168,-0.0489572212100029,-0.04735741764307022,-0.020666927099227905,0.018348095938563347,-0.04065017029643059,-0.03601245582103729,-0.040428295731544495,-0.026707956567406654,0.008371172472834587,0.023273710161447525,-0.034761421382427216,0.04906998574733734,0.06504246592521667,0.03481534868478775,0.005161184351891279,-0.030434278771281242,0.02384059876203537,0.026259390637278557,0.043818142265081406,-0.038633160293102264,-0.060388900339603424,-0.009544942528009415,0.037008870393037796,0.00690296059474349,-0.004789995029568672,-0.042596712708473206,0.029624301940202713,0.026256775483489037,0.020392078906297684,-0.034271057695150375,0.018615014851093292,-0.0315387137234211,0.0027646971866488457,0.021828701719641685,-0.045962024480104446,0.02289235033094883,-0.000022371283193933778,0.05960233509540558,-0.015701808035373688,0.04879569262266159,0.008794930763542652,-0.01770079880952835,-0.003199170343577862,0.02034037373960018,-0.008082229644060135,0.0014969666954129934,0.04413118585944176,0.054178230464458466,-0.007952102459967136,-0.04353758320212364,0.08223006874322891,0.009744396433234215,0.0774625614285469,0.018480835482478142,0.07734311372041702,-0.04113951697945595,0.01706348918378353,-0.009796411730349064,-0.016357891261577606,0.004443893674761057,0.030497370287775993,0.06284897029399872,-0.01048833504319191,-0.01943947561085224,-0.028131669387221336,-0.022107617929577827,-0.011434958316385746,0.007687367498874664,0.0432843454182148,0.014295235276222229,-0.09688417613506317,0.0012541767209768295,-0.04790007323026657,-0.026568077504634857,0.004242141731083393,0.004611166659742594,0.0624491311609745,0.004493332467973232,-0.02921408787369728,-0.034667085856199265,0.002429795451462269,0.07634051889181137,-0.03680220618844032,-0.03840752691030502,0.015912864357233047,0.03673246130347252,0.04066450893878937,-0.022662105038762093,0.031471483409404755,-0.05408625304698944,-0.02078012004494667,-0.004711462650448084,0.03862617537379265,0.055614423006772995,-0.00983965490013361,0.0264251958578825,-0.024890504777431488,0.034610092639923096,0.020125415176153183,-0.03754037246108055,0.06554830819368362,0.013684476725757122,-0.03017629124224186,0.04599940776824951,-0.005435581784695387,-0.03289514034986496,0.0025065515656024218,-0.0005009296583011746,0.00195657298900187,-0.0007784624467603862,-0.03423907980322838,0.016116250306367874,0.0027957467827945948,0.001916001085191965,-0.0006999188335612416,0.0312190018594265,0.019906656816601753,0.007633894681930542,-0.02920287661254406,-0.06086123734712601,-0.02952571213245392,0.002970375120639801,-0.0321664996445179,-0.03948817029595375,-0.015752775594592094,0.05973740667104721,-0.005056130699813366,-0.03056054562330246,-0.013644044287502766,3.4785276170623547e-7,0.0030982543248683214,-0.0008709630346857011,-0.018642358481884003,0.030930588021874428,-0.005880439653992653,-0.003657212946563959,-0.06436696648597717,-0.0642182007431984,-0.04519897699356079,0.04847000166773796,0.04644147306680679,-0.0007569137960672379,0.029304131865501404,0.017510859295725822,0.022082189098000526,-0.0571344718337059,-0.029727177694439888,-0.0006939347949810326,-0.10056162625551224,0.016965748742222786,0.050363894551992416,0.007407566532492638,0.08338461071252823,-0.018523218110203743,0.048396289348602295,-0.03833562135696411,-0.06741980463266373,-0.005818303674459457,0.01523522473871708,-0.024170439690351486,0.026087457314133644,0.054169077426195145,0.005962101276963949,-0.010699400678277016,-0.010521488264203072,0.023372545838356018,-0.04420118406414986,0.019542593508958817,0.02457018755376339,0.04529820755124092,0.0738372951745987,-0.04213283956050873,-0.005303751211613417,-0.04601681977510452,0.0328054279088974,0.01347158569842577,-0.001990873133763671,0.009617440402507782,0.002753078704699874,-0.009770662523806095,0.027428029105067253,-0.007294113747775555,-0.017737962305545807,-0.008437362499535084,0.004066862631589174,-0.03253716602921486,-0.006301791872829199,0.06780453771352768,0.034354642033576965,0.031868744641542435,-0.013939887285232544,-0.0288196112960577,-0.02347668632864952,0.0688987672328949,0.005066654644906521,0.02438097819685936,-0.00641208328306675,3.865441899478758e-34,0.02051375061273575,-0.020779823884367943,0.034660372883081436,0.01337386667728424,0.029484862461686134,-0.008794985711574554,-0.028226936236023903,-0.010730508714914322,0.010412262752652168,-0.06736752390861511,-0.024533318355679512]'
SET
  @TechnicalDesignVector_ac5456f6 = N'[-0.024621035903692245,0.09047392010688782,-0.035987984389066696,-0.03923238813877106,0.014631081372499466,0.003004911821335554,0.02112877182662487,-0.005897146183997393,-0.03422529995441437,0.020491864532232285,-0.03988160565495491,0.03108385019004345,0.03333241119980812,0.08618472516536713,-0.016348088160157204,-0.03777378425002098,0.009391840547323227,0.04459557309746742,0.04688597843050957,-0.01879776269197464,0.019230986014008522,-0.00023879138461779803,0.023346664384007454,-0.03433067724108696,-0.00657271221280098,-0.056467704474925995,-0.02366028167307377,0.016440538689494133,0.034296054393053055,-0.08983151614665985,0.03075917810201645,0.026386253535747528,-0.03828127309679985,0.05516046658158302,0.000002235605961686815,-0.019889652729034424,-0.028041787445545197,0.010101222433149815,-0.024010246619582176,0.016410376876592636,0.07741821557283401,-0.026125144213438034,0.07317053526639938,0.01681857369840145,0.03210954740643501,-0.015668191015720367,-0.041985590010881424,-0.03321302682161331,0.02006319910287857,-0.04979531094431877,0.007532123941928148,0.004659194499254227,-0.08054565638303757,-0.016393247991800308,-0.05376632511615753,-0.0728105753660202,-0.005287359934300184,0.016777053475379944,0.07235264033079147,-0.06041586771607399,-0.03576890006661415,0.039760515093803406,0.015668069943785667,-0.025529595091938972,0.0345192588865757,0.005430219694972038,0.08458852767944336,-0.030265215784311295,-0.042758677154779434,-0.011333275586366653,0.041923053562641144,-0.004144275560975075,0.014008832164108753,0.006254896521568298,-0.0771755501627922,0.01564878597855568,-0.07710590958595276,-0.009034154936671257,0.01664009876549244,-0.012073198333382607,0.006961592007428408,0.04241200163960457,-0.01689106784760952,0.004171630833297968,-0.026724547147750854,-0.06748824566602707,-0.0018930600490421057,0.009627503342926502,0.00951696652919054,-0.005086726043373346,-0.014170092530548573,-0.04064442962408066,0.02619602344930172,-0.01656670868396759,-0.0766214057803154,-0.0022606095299124718,0.05194980651140213,-0.09547082334756851,0.06473701447248459,-0.03245443478226662,0.04404781013727188,0.02157781459391117,0.028210466727614403,0.025518393144011497,0.10465385019779205,0.03404322266578674,-0.015393629670143127,-0.058885496109724045,-0.0007899435586296022,0.01921253092586994,0.01826099492609501,-0.006149183493107557,0.030480634421110153,0.00473770359531045,-0.01896008849143982,0.0006309798336587846,-0.0479503758251667,0.03295254334807396,-0.016917187720537186,0.026750361546874046,0.07569687813520432,0.003362611634656787,0.01629646122455597,0.08538763225078583,0.045184049755334854,0.06384368240833282,0.015385270118713379,-0.03172358125448227,-0.006119255442172289,-0.017972560599446297,-0.031960561871528625,-0.02172660455107689,0.05281810089945793,0.027687838301062584,0.0012796667870134115,0.04720849171280861,0.029497968032956123,0.030426103621721268,-0.015197521075606346,-0.07747143507003784,0.029579097405076027,-0.027292029932141304,-0.03406280279159546,0.02730545960366726,0.018682226538658142,0.0020302673801779747,0.05020691454410553,0.07346515357494354,-0.03003278374671936,0.021143410354852676,-0.007541242521256208,-0.006987379863858223,0.01483956165611744,0.020219018682837486,-0.01666322536766529,0.011397456750273705,0.019557518884539604,0.06377007812261581,0.036279112100601196,-0.00007584772538393736,-0.005240327212959528,0.043934665620326996,-0.019805002957582474,0.0016395554412156343,0.0063072494231164455,0.07236970961093903,-0.059675492346286774,-0.018409335985779762,-0.04918154701590538,-0.013885114341974258,-0.020297827199101448,-0.02966499701142311,-0.01877572201192379,0.03585943207144737,0.043528441339731216,-0.017959898337721825,0.0456097312271595,-0.0736292377114296,-0.053724028170108795,-0.000996003276668489,0.0147098982706666,-0.0674450695514679,-0.014480756595730782,-0.00801405031234026,0.034486304968595505,-0.006521977949887514,0.0036381513345986605,0.04367168992757797,-0.0013851524563506246,-0.013703742064535618,-0.008278798311948776,0.010586744174361229,-0.08216463774442673,0.021061686798930168,0.025978654623031616,0.008195573464035988,-0.022926032543182373,-0.0951431542634964,0.03027155064046383,0.003373026382178068,-0.00220631156116724,0.005467657465487719,0.05188329890370369,-0.019295550882816315,0.013098281808197498,0.002539911773055792,-0.07252976298332214,0.04675445705652237,-0.05725778266787529,-0.02347114123404026,0.024583669379353523,0.005338902585208416,-0.018748143687844276,0.012088898569345474,-0.022361699491739273,0.06048690155148506,0.029950715601444244,-0.029459362849593163,-0.026887260377407074,0.005111790262162685,-0.042871296405792236,-0.04054946452379227,0.022611983120441437,-0.03892270103096962,0.04589717090129852,0.08754106611013412,0.011661822907626629,-0.018791884183883667,0.07244028896093369,-0.006391247268766165,0.004401758778840303,-0.0056639136746525764,0.022492701187729836,0.04407726973295212,-0.008095178753137589,0.08062363415956497,-0.014474255032837391,-0.021321021020412445,0.007809443864971399,0.04099803417921066,0.031062476336956024,-0.039148855954408646,-0.03981715813279152,-0.0444062165915966,0.01277354545891285,-0.03660067915916443,-0.043161530047655106,0.040178071707487106,-0.02593233995139599,-0.01816464029252529,0.003152398159727454,0.029835516586899757,0.02278240956366062,-0.031669922173023224,-0.028968069702386856,-0.0535924956202507,0.034603290259838104,-0.03368976339697838,-0.012393268756568432,0.07320287078619003,0.0005637761787511408,0.04375165328383446,-0.0014814288588240743,-0.04106241837143898,0.0077182515524327755,-0.046546850353479385,0.06689488142728806,-0.0464378297328949,0.01245126873254776,0.027902696281671524,-0.016771726310253143,0.04374600946903229,0.04794642701745033,0.0021283102687448263,-0.01739867962896824,0.036306966096162796,0.003347341902554035,0.03741513192653656,0.0006070161471143365,-0.043076660484075546,-0.010189277119934559,-0.06023713946342468,0.02924627810716629,0.021508097648620605,-0.015964770689606667,0.019879501312971115,0.06230151280760765,0.005460937507450581,0.07295683026313782,-0.030935999006032944,0.005774026270955801,-0.03564366325736046,0.017942721024155617,-0.04047435149550438,-0.040039677172899246,0.018599234521389008,0.04513150826096535,0.005613747518509626,-0.010006689466536045,0.019740991294384003,-0.017339948564767838,-0.03036099299788475,0.01857873611152172,-0.004985674750059843,-0.025646120309829712,0.0223050806671381,0.04715815559029579,-0.01779649779200554,0.010603372938930988,0.06634952127933502,0.022713355720043182,-0.004087885841727257,-0.0029583785217255354,-0.02405787818133831,0.011483862064778805,0.012425627559423447,0.009566720575094223,0.013792668469250202,0.03655993565917015,0.030141374096274376,0.04899989813566208,-0.03313564136624336,-0.014225694350898266,-0.004518280271440744,-0.028025735169649124,-0.007421659771353006,-0.06761021912097931,-0.029640261083841324,-0.030727550387382507,0.00043761622509919107,0.02179602161049843,-0.09149983525276184,0.00819699652493,0.012195448391139507,-0.022844098508358,-0.007253705989569426,-0.03500712662935257,-0.018575767055153847,0.015794487670063972,-0.03431384265422821,0.02965991571545601,0.011974935419857502,-0.02286304533481598,0.046200092881917953,-0.024225467815995216,-0.044165752828121185,0.00005404774492490105,-0.018260369077324867,-0.04501871019601822,-0.012368275783956051,-0.0030088070780038834,0.005527600646018982,-0.008494358509778976,-0.014570719562470913,0.013721885159611702,-0.009860674850642681,-0.017863109707832336,0.0072928620502352715,-0.03269782289862633,-0.061561472713947296,0.08054815232753754,0.0541243776679039,0.07476960122585297,0.04187733680009842,-0.015783440321683884,0.00669240765273571,-0.0025328046176582575,-0.007910666987299919,-0.017041373997926712,-0.02757558785378933,-0.05700413137674332,0.011191575787961483,0.02678428776562214,0.004077696241438389,-0.02497865818440914,0.008406777866184711,0.018736785277724266,0.05308094248175621,0.03435380011796951,0.011973022483289242,0.008026686497032642,-0.04184590280056,0.06778089702129364,0.02020547166466713,0.09240018576383591,-0.05346999689936638,0.029411442577838898,-0.04550555348396301,-0.031802576035261154,0.03806000202894211,0.008779342286288738,-0.015925657004117966,0.04241222143173218,-0.09594022482633591,0.0054809837602078915,-0.02699132263660431,0.008779257535934448,0.005899196956306696,0.0632975846529007,0.004894379060715437,0.01425081118941307,0.03031482733786106,-0.0049990396946668625,-0.0199001245200634,0.022975733503699303,-0.08068359643220901,-0.066611148416996,0.029373599216341972,-0.013789795339107513,0.020363163203001022,-0.01210413221269846,0.03250498324632645,-0.062264349311590195,-0.06789743900299072,-0.017650339752435684,0.028768694028258324,-0.02317434921860695,-0.03103753738105297,-0.010235605761408806,0.028018563985824585,-0.004164245445281267,0.00011397255002520978,-0.011495192535221577,-0.005108940415084362,0.033419474959373474,-0.05290783941745758,0.050946567207574844,-0.0100276293233037,-0.01247123908251524,0.02480320632457733,0.005082766525447369,-0.004183425568044186,0.03627118095755577,-0.014648201875388622,-0.08230157196521759,0.022657332941889763,0.03831956535577774,0.010045789182186127,-0.015357009135186672,0.006756760645657778,0.0337318517267704,-0.054422516375780106,0.06675242632627487,0.022618357092142105,0.037591252475976944,0.05337843298912048,-0.01456093043088913,0.030736232176423073,-0.05170699208974838,-0.01880885846912861,-0.0156695656478405,-0.06653888523578644,-0.005636285059154034,-0.009078901261091232,-0.009054804220795631,-0.0408085361123085,-0.02011832781136036,-0.06379061937332153,-0.008448702283203602,0.03332586959004402,0.019023261964321136,0.025772791355848312,-0.05284940451383591,-0.028288377448916435,0.03574993461370468,0.02945033460855484,0.07239070534706116,-0.029989980161190033,-0.013252932578325272,-0.019848180934786797,0.043872274458408356,-0.0074017648585140705,-0.023431895300745964,-0.015566922724246979,0.012411721982061863,-0.022228509187698364,0.006217324640601873,-0.008838505484163761,-0.015229006297886372,-0.04840043932199478,0.07160375267267227,0.007008948363363743,0.020719429478049278,-0.03980249539017677,0.02150079235434532,-0.03696097061038017,-0.017429500818252563,-0.041797686368227005,-0.027668049558997154,-0.028069384396076202,0.00130228151101619,0.003241207217797637,-0.017973609268665314,-0.013668591156601906,0.08866655081510544,-0.04329385608434677,-0.06584171205759048,0.004450259264558554,-0.0069562592543661594,-0.05031377077102661,0.0025436049327254295,-0.02197510004043579,0.01929728128015995,-0.06271801888942719,0.005721269641071558,0.015240827575325966,0.0026490031741559505,-0.04368065297603607,-0.01733318902552128,-0.021850690245628357,-0.005379249807447195,-0.03853403776884079,-0.07044125348329544,-0.06356075406074524,0.06299202144145966,0.001840541255660355,-0.027471326291561127,-0.012920859269797802,0.051529716700315475,-0.01948234811425209,0.015658874064683914,-0.013382974080741405,0.007117263972759247,0.01077290903776884,0.10049660503864288,0.007032851688563824,-0.005353165324777365,-0.010446405969560146,0.011692098341882229,0.01858990080654621,0.02927361987531185,0.007939744740724564,-0.003001597709953785,-0.04053014516830444,-0.030064810067415237,0.029511289671063423,0.010237293317914009,-0.02089015021920204,0.03109017387032509,-0.01379432249814272,-0.059362027794122696,-0.019497772678732872,0.04559072107076645,-0.017937874421477318,0.013610520400106907,-0.028321394696831703,0.01979920268058777,-0.03340354189276695,-0.0029902325477451086,0.05529509857296944,0.02797715924680233,0.009539146907627583,-0.019285425543785095,-0.04283570870757103,0.0745169073343277,-7.273561578860943e-33,0.004507670644670725,-0.04595119506120682,-0.03915049880743027,-0.09105227142572403,-0.03681056201457977,-0.017990916967391968,0.018680743873119354,-0.09005708247423172,0.008145610801875591,-0.03645220771431923,-0.013465587981045246,0.0014346811221912503,0.008147207088768482,0.0032043231185525656,0.020234189927577972,0.0009428853518329561,0.034380052238702774,0.024258503690361977,-0.030162978917360306,0.024135010316967964,0.02045007422566414,0.03052603267133236,-0.030180171132087708,-0.04046715050935745,-0.0038040310610085726,0.027443522587418556,-0.00999672245234251,0.02061287686228752,-0.06218727305531502,0.011176892556250095,0.016564583405852318,0.01590682938694954,-0.04387900233268738,-0.00041898194467648864,-0.05180753767490387,-0.02215764671564102,0.002670763526111841,-0.023152794688940048,0.03630419448018074,0.003687219927087426,0.025640049949288368,0.04234440252184868,0.044869765639305115,-0.004818325396627188,0.020746855065226555,-0.05295423045754433,-0.020393820479512215,0.024200165644288063,-0.008544554002583027,0.014741727150976658,0.08186054974794388,0.014082617126405239,-0.02971644140779972,0.06188046187162399,-0.02270076796412468,0.05737310275435448,0.03123762644827366,0.10962265729904175,-0.03426335006952286,0.016830138862133026,-0.0718161016702652,-0.04520364850759506,0.001639351132325828,0.04237884283065796,0.04670630395412445,-0.027610769495368004,-0.03363250941038132,-0.024024225771427155,0.0035133901983499527,-0.001828584587201476,-0.009001519531011581,-0.015570654533803463,0.0060326592065393925,-0.05798174813389778,-0.000554585421923548,-0.058396853506565094,-0.07032905519008636,-0.01875014416873455,-0.024412915110588074,-0.01785283349454403,-0.019965583458542824,0.007692459970712662,0.01151382178068161,0.002523300936445594,0.0341472364962101,-0.03022899106144905,0.0003235421027056873,0.05035257712006569,-0.01917446404695511,0.02111220732331276,0.008537692949175835,0.02491946332156658,-0.056623272597789764,0.005178856197744608,-0.03901560232043266,0.007053658831864595,0.07284995913505554,0.006521215196698904,0.01306198537349701,-0.017535913735628128,0.06937291473150253,0.031185992062091827,-0.042776793241500854,0.03986314311623573,-0.032699815928936005,0.012188163585960865,0.047617990523576736,0.012838881462812424,-0.032155826687812805,-0.0065107145346701145,0.017600316554307938,-0.004088172689080238,-0.02921023592352867,-0.023307349532842636,0.042657312005758286,0.027969157323241234,0.0011669088853523135,-0.052052415907382965,0.07332263886928558,0.05212930962443352,-0.024048276245594025,0.015032322145998478,-0.060620758682489395,0.008937021717429161,0.015162823721766472,-0.025495225563645363,-0.01043677981942892,-0.014983972534537315,0.022874116897583008,-0.023246558383107185,-0.000518456450663507,-0.02231723815202713,3.058409561162989e-7,0.01172634493559599,-0.00935794785618782,-0.05198511853814125,0.04598197713494301,-0.017151670530438423,0.009968606755137444,-0.0579351931810379,-0.037711821496486664,-0.009593069553375244,0.02509627491235733,0.03189260885119438,0.02042204700410366,-0.00033307564444839954,0.04412434250116348,0.012124554254114628,-0.040350355207920074,-0.0550120547413826,-0.003923347219824791,-0.039854519069194794,0.02002870850265026,-0.018621204420924187,0.013079998083412647,0.09257209300994873,-0.01325561385601759,-0.006040723528712988,0.0006097067962400615,-0.022221054881811142,-0.031939391046762466,-0.03457462787628174,-0.034948647022247314,-0.01803131215274334,0.038258664309978485,0.019160756841301918,-0.011090762913227081,0.0024616080336272717,0.036661576479673386,-0.02446172945201397,-0.03776197135448456,0.04313883185386658,0.068740613758564,0.06224140524864197,-0.0027166279032826424,0.011593202129006386,-0.0074188620783388615,-0.006291959900408983,0.01960972137749195,-0.015467497520148754,0.021890789270401,0.03221149742603302,0.023683423176407814,0.07103215157985687,0.017837997525930405,-0.042815860360860825,0.021985698491334915,0.014670518226921558,0.0016977924387902021,0.019024929031729698,0.0457790344953537,0.04870390146970749,0.07050344347953796,-0.014441060833632946,-0.03199934586882591,0.01155383326113224,0.09199045598506927,0.015582908876240253,0.027562208473682404,-0.04063940420746803,3.927920801757405e-34,0.055182598531246185,-0.0477195642888546,0.04177789390087128,-0.01466191653162241,0.02953818440437317,-0.03305506706237793,-0.02134442888200283,-0.003428748343139887,0.04350433871150017,-0.05970202758908272,-0.030945830047130585]'
SET
  @HasCustomProps_ac5456f6 = 1
SET
  @HasCustomEvents_ac5456f6 = 1
SET
  @RequiresData_ac5456f6 = 1
SET
  @DependencyCount_ac5456f6 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_ac5456f6 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_ac5456f6 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_ac5456f6 = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_ac5456f6,
  @Namespace = @Namespace_ac5456f6,
  @Name = @Name_ac5456f6,
  @Version = @Version_ac5456f6,
  @VersionSequence = @VersionSequence_ac5456f6,
  @Title = @Title_ac5456f6,
  @Description = @Description_ac5456f6,
  @Type = @Type_ac5456f6,
  @Status = @Status_ac5456f6,
  @DeveloperName = @DeveloperName_ac5456f6,
  @DeveloperEmail = @DeveloperEmail_ac5456f6,
  @DeveloperOrganization = @DeveloperOrganization_ac5456f6,
  @SourceRegistryID = @SourceRegistryID_ac5456f6,
  @ReplicatedAt = @ReplicatedAt_ac5456f6,
  @LastSyncedAt = @LastSyncedAt_ac5456f6,
  @Specification = @Specification_ac5456f6,
  @FunctionalRequirements = @FunctionalRequirements_ac5456f6,
  @TechnicalDesign = @TechnicalDesign_ac5456f6,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_ac5456f6,
  @TechnicalDesignVector = @TechnicalDesignVector_ac5456f6,
  @HasCustomProps = @HasCustomProps_ac5456f6,
  @HasCustomEvents = @HasCustomEvents_ac5456f6,
  @RequiresData = @RequiresData_ac5456f6,
  @DependencyCount = @DependencyCount_ac5456f6,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_ac5456f6,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_ac5456f6,
  @HasRequiredCustomProps = @HasRequiredCustomProps_ac5456f6;

-- Save MJ: Components (core SP call only)
DECLARE @ID_9f169eea UNIQUEIDENTIFIER,
@Namespace_9f169eea NVARCHAR(MAX),
@Name_9f169eea NVARCHAR(500),
@Version_9f169eea NVARCHAR(50),
@VersionSequence_9f169eea INT,
@Title_9f169eea NVARCHAR(1000),
@Description_9f169eea NVARCHAR(MAX),
@Type_9f169eea NVARCHAR(255),
@Status_9f169eea NVARCHAR(50),
@DeveloperName_9f169eea NVARCHAR(255),
@DeveloperEmail_9f169eea NVARCHAR(255),
@DeveloperOrganization_9f169eea NVARCHAR(255),
@SourceRegistryID_9f169eea UNIQUEIDENTIFIER,
@ReplicatedAt_9f169eea DATETIMEOFFSET,
@LastSyncedAt_9f169eea DATETIMEOFFSET,
@Specification_9f169eea NVARCHAR(MAX),
@FunctionalRequirements_9f169eea NVARCHAR(MAX),
@TechnicalDesign_9f169eea NVARCHAR(MAX),
@FunctionalRequirementsVector_9f169eea NVARCHAR(MAX),
@TechnicalDesignVector_9f169eea NVARCHAR(MAX),
@HasCustomProps_9f169eea BIT,
@HasCustomEvents_9f169eea BIT,
@RequiresData_9f169eea BIT,
@DependencyCount_9f169eea INT,
@TechnicalDesignVectorEmbeddingModelID_9f169eea NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_9f169eea NVARCHAR(MAX),
@HasRequiredCustomProps_9f169eea BIT
SET
  @ID_9f169eea = 'AC5E6307-706C-4D04-A151-2A5983F99A23'
SET
  @Namespace_9f169eea = N'CRM/Analytics'
SET
  @Name_9f169eea = N'AccountRevenueByType'
SET
  @Version_9f169eea = N'1.0.0'
SET
  @VersionSequence_9f169eea = 1
SET
  @Title_9f169eea = N'Account Revenue by Type'
SET
  @Description_9f169eea = N'Analyzes revenue distribution across different account types with comparison metrics and trend analysis.'
SET
  @Type_9f169eea = N'Chart'
SET
  @Status_9f169eea = N'Published'
SET
  @Specification_9f169eea = N'{"name":"AccountRevenueByType","title":"Account Revenue by Type","type":"chart","userExplanation":"Shows revenue breakdown by account type (Enterprise, SMB, Individual, etc.) with click-to-drill-down functionality. Click any chart segment to view detailed invoice records for that account type using EntityDataGrid. Demonstrates the fundamental hybrid pattern: RunQuery for aggregated chart data + EntityDataGrid for automatic drill-down.","functionalRequirements":"## Business Objectives\n- Visualize revenue distribution across different account types\n- Identify which account types generate the most revenue\n- Enable quick drill-down to see invoice details for any account type\n- Demonstrate the core hybrid pattern for educational purposes\n\n## Functional Requirements\n- **Revenue Chart**: Display pie or bar chart showing total revenue by account type\n- **Account Count**: Show number of accounts in each type (in tooltip or segment label)\n- **Click-to-Drill-Down**: When user clicks chart segment, display EntityDataGrid with invoices for that account type\n- **Automatic Filtering**: EntityDataGrid automatically filters to selected account type using SQL filter\n- **Invoice Details**: Show invoice number, date, account name, total, and status in grid\n- **Grid Features**: EntityDataGrid provides automatic pagination, sorting, filtering, and OpenEntityRecord\n- **Clear Selection**: Provide button/action to clear selection and return to chart-only view\n- **Highlight Selection**: Visual feedback showing which segment is currently selected\n- **Chart Type Options**: Support switching between pie, doughnut, and bar chart types\n- **Loading States**: Show loading indicator while data loads\n- **Empty States**: Handle cases with no revenue data","description":"Analyzes revenue distribution across different account types with comparison metrics and trend analysis.","dataRequirements":{"mode":"hybrid","queries":[{"name":"Account Revenue by Type","categoryPath":"Demo","description":"Aggregates total revenue by AccountType. Joins Account → AccountType → Invoice where Status=''Paid''. Returns AccountType, AccountCount, TotalRevenue for chart. **Result Order: TotalRevenue DESC** - Highest revenue account types first for ranking comparison.","entityNames":["Accounts","Account Types","Invoices"],"fields":[{"name":"AccountType","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Type of account (e.g., Enterprise, SMB, Individual)"},{"name":"AccountCount","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of distinct accounts of this type"},{"name":"TotalRevenue","sequence":3,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total revenue from paid invoices for this account type"},{"name":"AvgInvoice","sequence":4,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average invoice amount for this account type"},{"name":"InvoiceCount","sequence":5,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of paid invoices for this account type"},{"name":"TotalOutstanding","sequence":6,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total outstanding balance due for this account type"}],"parameters":[{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by specific account type"},{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"}]}],"entities":[{"name":"Accounts","description":"Account records used in SQL filter for drill-down. The AccountType column is used to filter invoices by account type.","displayFields":["Name","AccountType","Status"],"filterFields":["ID","AccountType","Status"],"sortFields":["Name","CreatedAt"],"usageContext":"Referenced in EntityDataGrid extraFilter SQL subquery: SELECT ID FROM CRM.vwAccounts WHERE AccountType=''{selectedType}''"},{"name":"Invoices","description":"Invoice records shown in EntityDataGrid when drilling down from account type chart segment.","displayFields":["InvoiceNumber","InvoiceDate","AccountName","TotalAmount","Status","AmountPaid","BalanceDue"],"filterFields":["AccountID","InvoiceDate","Status"],"sortFields":["InvoiceDate","TotalAmount"],"usageContext":"Loaded by EntityDataGrid using SQL filter: AccountID IN (SELECT ID FROM CRM.vwAccounts WHERE AccountType = ''{selectedType}'') AND InvoiceDate >= ''{startDate}'' AND InvoiceDate <= ''{endDate}''"}]},"properties":[{"name":"accountType","type":"string","required":false,"description":"Optional filter by specific account type (e.g., ''Enterprise'', ''SMB'', ''Individual''). If provided, shows only that account type.","default":null},{"name":"startDate","type":"string","required":false,"description":"Optional start date filter (ISO format: ''2024-01-01''). Returns invoices with InvoiceDate >= startDate.","default":null},{"name":"endDate","type":"string","required":false,"description":"Optional end date filter (ISO format: ''2024-12-31''). Returns invoices with InvoiceDate <= endDate.","default":null},{"name":"chartType","type":"string","required":false,"description":"Type of chart to display: ''bar'' (default), ''pie'', or ''doughnut''","default":"bar","possibleValues":["bar","pie","doughnut"]},{"name":"title","type":"string","required":false,"description":"Custom chart title. If not provided, uses default title.","default":"Account Revenue by Type"}],"events":[{"name":"onSegmentClick","description":"Fired when user clicks a chart segment (account type bar/slice)","payload":{"accountType":"string - The account type that was clicked (e.g., ''Customer'', ''Prospect'')","accountCount":"number - Number of accounts of this type","totalRevenue":"number - Total revenue for this account type","avgInvoice":"number - Average invoice amount for this account type","invoiceCount":"number - Number of invoices for this account type"},"example":"{ accountType: ''Customer'', accountCount: 17, totalRevenue: 720558.36, avgInvoice: 30023.26, invoiceCount: 24 }"},{"name":"onRecordClick","description":"Fired when user clicks a row in the EntityDataGrid drill-down","payload":{"invoiceId":"string - The ID of the clicked invoice record","invoiceNumber":"string - Invoice number (e.g., ''INV-001'')","accountName":"string - Name of the account","totalAmount":"number - Total invoice amount","status":"string - Invoice status (e.g., ''Paid'', ''Pending'')"},"example":"{ invoiceId: ''abc-123'', invoiceNumber: ''INV-001'', accountName: ''Acme Corp'', totalAmount: 5000.00, status: ''Paid'' }"}],"dependencies":[{"name":"SimpleChart","location":"registry","namespace":"Generic/UI/Chart","version":"^1.0.0"},{"name":"EntityDataGrid","location":"registry","namespace":"Generic/UI/Table","version":"^1.0.0"}],"location":"embedded","technicalDesign":"## Component Architecture\n\n### Data Flow\n1. **Initial Load**: RunQuery executes ''Account Revenue by Type'' with optional filters (accountType, startDate, endDate)\n2. **Chart Rendering**: SimpleChart displays aggregated revenue data grouped by AccountType\n3. **User Interaction**: User clicks chart segment (bar/pie slice)\n4. **Drill-Down**: Component sets selectedType state and triggers EntityDataGrid\n5. **Grid Filtering**: EntityDataGrid loads Invoices filtered by SQL subquery on Accounts.AccountType\n6. **Date Consistency**: Date filters applied to both query and EntityDataGrid extraFilter\n\n### State Management\n- `data`: Array of query results (AccountType, TotalRevenue, AccountCount, etc.)\n- `loading`: Boolean for async operation status\n- `error`: String for error messages\n- `selectedType`: String for currently selected account type (null = chart view, value = grid view)\n- `internalStartDate`: String for user-controlled start date (only when prop is null)\n- `internalEndDate`: String for user-controlled end date (only when prop is null)\n\n### Conditional UI Controls\n**Date Filter Panel**: Only rendered when both `startDate` and `endDate` props are null. Allows user to set date range filters with:\n- Start Date input (HTML date picker)\n- End Date input (HTML date picker)\n- Clear Dates button (shown when either date is set)\n\n### Filter Coordination\n**effectiveStartDate/endDate**: Computed values that prioritize props over internal state\n- Used in RunQuery Parameters\n- Used in EntityDataGrid extraFilter for consistency\n\n### EntityDataGrid Integration\n**extraFilter Construction**:\n1. Account type filter: `AccountID IN (SELECT ID FROM CRM.vwAccounts WHERE AccountType=''{selectedType}'')`\n   - Uses correct column name: `AccountType` (not `Type`)\n   - References BaseView: `CRM.vwAccounts` (not table)\n2. Date filters (when provided):\n   - Start: `InvoiceDate >= ''{effectiveStartDate}''`\n   - End: `InvoiceDate <= ''{effectiveEndDate}''`\n3. Filters combined with AND operator\n\n### Event System\n**onSegmentClick**: Fires when chart segment clicked, provides:\n- accountType, accountCount, totalRevenue, avgInvoice, invoiceCount\n\n**onRecordClick**: Fires when EntityDataGrid row clicked, provides:\n- invoiceId, invoiceNumber, accountName, totalAmount, status\n\n### Educational Value\nDemonstrates:\n1. **Hybrid Pattern**: RunQuery for aggregation + EntityDataGrid for drill-down\n2. **SQL Filter Construction**: Subquery pattern for related entity filtering\n3. **Filter Consistency**: Same date filters applied to chart and grid\n4. **Conditional UI**: Show/hide controls based on prop nullability\n5. **Event Exposure**: External consumers can listen to user interactions\n6. **Schema Awareness**: Correct column names validated against entity schema","code":"function AccountRevenueByType({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  accountType = null,\n  startDate = null,\n  endDate = null,\n  chartType = ''bar'',\n  title = ''Account Revenue by Type'',\n  onSegmentClick = null,\n  onRecordClick = null\n}) {\n  // State management\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedSegment, setSelectedSegment] = useState(null);\n\n  // Internal filter state (only used when external props are null)\n  const [pendingStartDate, setPendingStartDate] = useState(null);\n  const [pendingEndDate, setPendingEndDate] = useState(null);\n  const [appliedStartDate, setAppliedStartDate] = useState(null);\n  const [appliedEndDate, setAppliedEndDate] = useState(null);\n\n  // Determine effective filter values\n  const effectiveStartDate = startDate || appliedStartDate;\n  const effectiveEndDate = endDate || appliedEndDate;\n  const showDateFilters = startDate === null && endDate === null;\n\n  // Get components from registry\n  const { SimpleChart, EntityDataGrid } = components;\n\n  // Load data on mount or when parameters change\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        // Execute the query with all supported parameters (using effective dates)\n        const result = await utilities.rq.RunQuery({\n          QueryName: ''Account Revenue by Type'',\n          CategoryPath: ''Demo'',\n          Parameters: {\n            AccountType: accountType,\n            StartDate: effectiveStartDate,\n            EndDate: effectiveEndDate\n          }\n        });\n\n        if (result && result.Success && result.Results) {\n          setData(result.Results);\n        } else {\n          setError(result?.ErrorMessage || ''Failed to load data'');\n        }\n      } catch (err) {\n        console.error(''Error loading account revenue by type:'', err);\n        setError(err.message || ''An unexpected error occurred'');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [accountType, effectiveStartDate, effectiveEndDate, utilities]);\n\n  // Apply date filters\n  const handleApplyFilters = () => {\n    setAppliedStartDate(pendingStartDate);\n    setAppliedEndDate(pendingEndDate);\n  };\n\n  // Clear date filters\n  const handleClearDates = () => {\n    setPendingStartDate(null);\n    setPendingEndDate(null);\n    setAppliedStartDate(null);\n    setAppliedEndDate(null);\n  };\n\n  // Handle chart segment click - SimpleChart passes clickData with label, value, records array\n  const handleChartClick = (clickData) => {\n    console.log(''Chart clicked:'', clickData);\n\n    // Set selected segment (using the full clickData structure from SimpleChart)\n    setSelectedSegment(clickData);\n\n    // Fire external event if provided\n    if (onSegmentClick) {\n      onSegmentClick({\n        accountType: clickData.label,\n        value: clickData.value,\n        recordCount: clickData.records?.length || 0\n      });\n    }\n  };\n\n  // Handle EntityDataGrid row click\n  const handleRecordClick = (event) => {\n    if (onRecordClick) {\n      onRecordClick({\n        invoiceId: event.record?.ID,\n        invoiceNumber: event.record?.InvoiceNumber,\n        accountName: event.record?.AccountName,\n        totalAmount: event.record?.TotalAmount,\n        status: event.record?.Status\n      });\n    }\n  };\n\n  // Clear selection\n  const handleClearSelection = () => {\n    setSelectedSegment(null);\n  };\n\n  // Build EntityDataGrid extraFilter with correct column name and date filters\n  const buildEntityFilter = () => {\n    const filters = [];\n\n    // Filter by selected account type (using correct column name: AccountType)\n    if (selectedSegment) {\n      filters.push(`AccountID IN (SELECT ID FROM CRM.vwAccounts WHERE AccountType=''$' + '{selectedSegment.label}'')`);\n    }\n\n    // Add date filters for consistency with chart\n    if (effectiveStartDate) {\n      filters.push(`InvoiceDate >= ''$' + '{effectiveStartDate}''`);\n    }\n    if (effectiveEndDate) {\n      filters.push(`InvoiceDate <= ''$' + '{effectiveEndDate}''`);\n    }\n\n    return filters.length > 0 ? filters.join('' AND '') : undefined;\n  };\n\n  // Render component - keep filters visible at all times\n  return (\n    <div style={{ padding: ''16px'', width: ''100%'', minWidth: ''800px'', boxSizing: ''border-box'' }}>\n      {/* Date filter controls (only shown when dates not provided externally) - ALWAYS VISIBLE */}\n      {showDateFilters && (\n        <div style={{\n          marginBottom: ''16px'',\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          display: ''flex'',\n          gap: ''16px'',\n          alignItems: ''center'',\n          flexWrap: ''wrap'',\n          width: ''100%'',\n          boxSizing: ''border-box''\n        }}>\n          <div style={{ fontWeight: ''bold'' }}>Date Filters:</div>\n          <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n            <label style={{ fontSize: ''14px'' }}>Start Date:</label>\n            <input\n              type=\"date\"\n              value={pendingStartDate || ''''}\n              onChange={(e) => setPendingStartDate(e.target.value || null)}\n              style={{\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n          <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n            <label style={{ fontSize: ''14px'' }}>End Date:</label>\n            <input\n              type=\"date\"\n              value={pendingEndDate || ''''}\n              onChange={(e) => setPendingEndDate(e.target.value || null)}\n              style={{\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n          <button\n            onClick={handleApplyFilters}\n            disabled={!pendingStartDate || !pendingEndDate}\n            style={{\n              padding: ''6px 16px'',\n              backgroundColor: (!pendingStartDate || !pendingEndDate) ? ''#d9d9d9'' : ''#1890ff'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''4px'',\n              cursor: (!pendingStartDate || !pendingEndDate) ? ''not-allowed'' : ''pointer'',\n              fontSize: ''14px'',\n              fontWeight: ''bold''\n            }}\n          >\n            Apply Filters\n          </button>\n          {(appliedStartDate || appliedEndDate) && (\n            <button\n              onClick={handleClearDates}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: ''#ff4d4f'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              Clear Dates\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* Loading state */}\n      {loading && (\n        <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n          <div>Loading account revenue data...</div>\n        </div>\n      )}\n\n      {/* Error state */}\n      {!loading && error && (\n        <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n          <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n          <div style={{ marginTop: ''8px'' }}>{error}</div>\n        </div>\n      )}\n\n      {/* Empty state */}\n      {!loading && !error && (!data || data.length === 0) && (\n        <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n          <div style={{ fontSize: ''16px'' }}>No Data Available</div>\n          <div style={{ marginTop: ''8px'' }}>\n            No revenue data found matching the specified criteria\n          </div>\n        </div>\n      )}\n\n      {/* Revenue chart - always show when data is loaded */}\n      {!loading && !error && data && data.length > 0 && (\n        <div>\n          <SimpleChart\n            entityName=\"Accounts\"\n            data={data}\n            chartType={chartType}\n            groupBy=\"AccountType\"\n            valueField=\"TotalRevenue\"\n            aggregateMethod=\"sum\"\n            title={title}\n            showLegend={true}\n            onDataPointClick={handleChartClick}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n          />\n\n          {/* Summary Statistics */}\n          <div style={{\n            marginTop: ''24px'',\n            display: ''grid'',\n            gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'',\n            gap: ''16px''\n          }}>\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Total Revenue\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n                $' + '{data.reduce((sum, row) => sum + (row.TotalRevenue || 0), 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n              </div>\n            </div>\n\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Total Accounts\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n                {data.reduce((sum, row) => sum + (row.AccountCount || 0), 0).toLocaleString()}\n              </div>\n            </div>\n\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Total Invoices\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n                {data.reduce((sum, row) => sum + (row.InvoiceCount || 0), 0).toLocaleString()}\n              </div>\n            </div>\n\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Average Invoice\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#722ed1'' }}>\n                $' + '{(data.reduce((sum, row) => sum + (row.AvgInvoice || 0), 0) / data.length).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Drill-down section when segment is selected - renders BELOW chart */}\n      {selectedSegment && (\n        <div style={{ marginTop: ''32px'' }}>\n          {/* Header with clear selection button */}\n          <div style={{\n            marginBottom: ''16px'',\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            padding: ''12px 16px'',\n            backgroundColor: ''#e6f7ff'',\n            borderRadius: ''4px'',\n            border: ''1px solid #91d5ff''\n          }}>\n            <div style={{ fontSize: ''16px'', fontWeight: ''bold'', color: ''#0050b3'' }}>\n              Invoices for {selectedSegment.label} Accounts\n            </div>\n            <button\n              onClick={handleClearSelection}\n              style={{\n                padding: ''6px 16px'',\n                backgroundColor: ''#1890ff'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px'',\n                fontWeight: ''500''\n              }}\n            >\n              Clear Selection\n            </button>\n          </div>\n\n          {/* EntityDataGrid */}\n          <EntityDataGrid\n            entityName=\"Invoices\"\n            extraFilter={buildEntityFilter()}\n            fields={[''InvoiceNumber'', ''InvoiceDate'', ''AccountName'', ''TotalAmount'', ''Status'', ''AmountPaid'', ''BalanceDue'']}\n            orderBy=\"InvoiceDate DESC\"\n            pageSize={20}\n            maxCachedRows={100}\n            enablePageCache={true}\n            showPageSizeChanger={true}\n            enableSorting={true}\n            enableFiltering={true}\n            showRefreshButton={true}\n            onRowClick={handleRecordClick}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage (no filters)\n<AccountRevenueByType\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// With date filters controlled externally\n<AccountRevenueByType\n  startDate=\"2024-01-01\"\n  endDate=\"2024-12-31\"\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// With event handlers and custom chart type\n<AccountRevenueByType\n  chartType=\"doughnut\"\n  onSegmentClick={(event) => {\n    console.log(`Clicked $' + '{event.accountType}: $$' + '{event.totalRevenue}`);\n  }}\n  onRecordClick={(event) => {\n    console.log(`Invoice $' + '{event.invoiceNumber} clicked`);\n    // Navigate to invoice detail page\n    router.push(`/invoices/$' + '{event.invoiceId}`);\n  }}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// Let user control date filters (no props provided)\n<AccountRevenueByType\n  title=\"Revenue Analysis by Account Type\"\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>"}'
SET
  @FunctionalRequirements_9f169eea = N'## Business Objectives
- Visualize revenue distribution across different account types
- Identify which account types generate the most revenue
- Enable quick drill-down to see invoice details for any account type
- Demonstrate the core hybrid pattern for educational purposes

## Functional Requirements
- **Revenue Chart**: Display pie or bar chart showing total revenue by account type
- **Account Count**: Show number of accounts in each type (in tooltip or segment label)
- **Click-to-Drill-Down**: When user clicks chart segment, display EntityDataGrid with invoices for that account type
- **Automatic Filtering**: EntityDataGrid automatically filters to selected account type using SQL filter
- **Invoice Details**: Show invoice number, date, account name, total, and status in grid
- **Grid Features**: EntityDataGrid provides automatic pagination, sorting, filtering, and OpenEntityRecord
- **Clear Selection**: Provide button/action to clear selection and return to chart-only view
- **Highlight Selection**: Visual feedback showing which segment is currently selected
- **Chart Type Options**: Support switching between pie, doughnut, and bar chart types
- **Loading States**: Show loading indicator while data loads
- **Empty States**: Handle cases with no revenue data'
SET
  @TechnicalDesign_9f169eea = N'## Component Architecture

### Data Flow
1. **Initial Load**: RunQuery executes ''Account Revenue by Type'' with optional filters (accountType, startDate, endDate)
2. **Chart Rendering**: SimpleChart displays aggregated revenue data grouped by AccountType
3. **User Interaction**: User clicks chart segment (bar/pie slice)
4. **Drill-Down**: Component sets selectedType state and triggers EntityDataGrid
5. **Grid Filtering**: EntityDataGrid loads Invoices filtered by SQL subquery on Accounts.AccountType
6. **Date Consistency**: Date filters applied to both query and EntityDataGrid extraFilter

### State Management
- `data`: Array of query results (AccountType, TotalRevenue, AccountCount, etc.)
- `loading`: Boolean for async operation status
- `error`: String for error messages
- `selectedType`: String for currently selected account type (null = chart view, value = grid view)
- `internalStartDate`: String for user-controlled start date (only when prop is null)
- `internalEndDate`: String for user-controlled end date (only when prop is null)

### Conditional UI Controls
**Date Filter Panel**: Only rendered when both `startDate` and `endDate` props are null. Allows user to set date range filters with:
- Start Date input (HTML date picker)
- End Date input (HTML date picker)
- Clear Dates button (shown when either date is set)

### Filter Coordination
**effectiveStartDate/endDate**: Computed values that prioritize props over internal state
- Used in RunQuery Parameters
- Used in EntityDataGrid extraFilter for consistency

### EntityDataGrid Integration
**extraFilter Construction**:
1. Account type filter: `AccountID IN (SELECT ID FROM CRM.vwAccounts WHERE AccountType=''{selectedType}'')`
   - Uses correct column name: `AccountType` (not `Type`)
   - References BaseView: `CRM.vwAccounts` (not table)
2. Date filters (when provided):
   - Start: `InvoiceDate >= ''{effectiveStartDate}''`
   - End: `InvoiceDate <= ''{effectiveEndDate}''`
3. Filters combined with AND operator

### Event System
**onSegmentClick**: Fires when chart segment clicked, provides:
- accountType, accountCount, totalRevenue, avgInvoice, invoiceCount

**onRecordClick**: Fires when EntityDataGrid row clicked, provides:
- invoiceId, invoiceNumber, accountName, totalAmount, status

### Educational Value
Demonstrates:
1. **Hybrid Pattern**: RunQuery for aggregation + EntityDataGrid for drill-down
2. **SQL Filter Construction**: Subquery pattern for related entity filtering
3. **Filter Consistency**: Same date filters applied to chart and grid
4. **Conditional UI**: Show/hide controls based on prop nullability
5. **Event Exposure**: External consumers can listen to user interactions
6. **Schema Awareness**: Correct column names validated against entity schema'
SET
  @FunctionalRequirementsVector_9f169eea = N'[-0.0337182879447937,0.03212211653590202,-0.04179555922746658,-0.01476600207388401,0.01077620591968298,-0.0037785908207297325,0.013743212446570396,0.049643099308013916,-0.02341398596763611,0.008643797598779202,-0.038765162229537964,-0.00041777119622565806,0.023047171533107758,0.13106617331504822,0.026736030355095863,-0.0556107833981514,-0.037924621254205704,0.02246052958071232,0.03544125705957413,0.004458589479327202,0.03998709097504616,0.006818645168095827,-0.009203393943607807,-0.01011000294238329,-0.03544783964753151,-0.026792196556925774,-0.052144818007946014,0.061135221272706985,0.031652577221393585,-0.08410048484802246,0.02609832212328911,0.008139379322528839,-0.016644584015011787,-0.002160480711609125,0.000002410655497442349,-0.022580228745937347,-0.07070185244083405,0.01961008831858635,-0.044791098684072495,0.0817965567111969,0.015562240034341812,-0.030492765828967094,0.05150516331195831,-0.021085219457745552,0.013303764164447784,0.018285110592842102,-0.03502475097775459,0.04473330080509186,0.03159453719854355,-0.06426035612821579,-0.0051130191422998905,-0.07166706770658493,-0.051863592118024826,-0.011103927157819271,-0.0743928998708725,0.022128665819764137,0.01744324341416359,0.03794774040579796,0.0493706613779068,-0.07083143293857574,-0.03003225475549698,-0.011766544543206692,0.01617397367954254,-0.02540140226483345,0.06520425528287888,0.061404962092638016,0.07949738204479218,-0.00443276297301054,0.003711945377290249,-0.0021885621827095747,0.06338852643966675,-0.005015731789171696,0.01673147641122341,-0.03159195929765701,-0.010062724351882935,0.003923560492694378,-0.03017369844019413,-0.00872997660189867,-0.011218688450753689,0.017669914290308952,-0.019594913348555565,0.035947348922491074,-0.030943183228373528,0.00794620905071497,-0.011421987786889076,-0.08255898952484131,0.0018271954031661153,-0.03304094076156616,-0.035476889461278915,-0.0407605841755867,-0.03561614453792572,-0.022183414548635483,-0.01831427775323391,0.02408796362578869,-0.0040982505306601524,-0.003573549212887883,0.006021527573466301,-0.061176739633083344,0.0428244024515152,0.019080163910984993,0.04520561918616295,0.03489697352051735,0.024777736514806747,0.02543141320347786,0.05642041191458702,0.01569466106593609,-0.043490733951330185,-0.01574392057955265,-0.0005954094231128693,0.02568926103413105,-0.013151516206562519,0.00010383154585724697,-0.04031343758106232,0.034431617707014084,0.027742557227611542,0.022054478526115417,-0.05419250205159187,-0.0281662754714489,-0.02683134935796261,0.013421406038105488,0.08036869764328003,0.04974069073796272,0.036674026399850845,0.03623710200190544,0.01860628090798855,0.013912379741668701,-0.04564538598060608,-0.03334067761898041,-0.015035510994493961,-0.006124514155089855,0.005668833386152983,-0.00028784360620193183,0.008118427358567715,-0.015732036903500557,0.011653081513941288,0.00773098599165678,0.02725633606314659,0.03283965587615967,-0.051927730441093445,-0.021373027935624123,0.004269070457667112,0.00677042081952095,-0.013435847125947475,-0.013756433501839638,0.01004219800233841,-0.016764113679528236,-0.011269726790487766,0.10130266845226288,0.013047800399363041,0.005978432018309832,0.013847592286765575,-0.03522432595491409,-0.0037803705781698227,0.016018729656934738,0.03258649632334709,-0.02002163976430893,0.029950473457574844,0.009328225627541542,0.06954728811979294,-0.06349381804466248,0.01703052967786789,-0.017126141116023064,0.031449347734451294,0.002793521387502551,0.0030519417487084866,0.03400258347392082,-0.10759449005126953,0.021314501762390137,-0.1173168420791626,-0.05944168567657471,-0.020230494439601898,-0.017238160595297813,-0.03324998542666435,-0.004921250976622105,0.029674705117940903,-0.015879685059189796,0.05661386251449585,-0.052250783890485764,-0.03461575135588646,-0.0030070256907492876,0.03209606558084488,-0.0789438784122467,0.06132936105132103,0.043637022376060486,0.08061433583498001,-0.052158474922180176,-0.04296276345849037,-0.008463862352073193,-0.027354449033737183,-0.007639546878635883,-0.009783172979950905,0.030643070116639137,-0.06291110068559647,0.054412536323070526,-0.003463315311819315,0.03800760582089424,0.01166414562612772,-0.01539608184248209,0.0000767709716456011,0.025708887726068497,-0.01696779951453209,-0.06136767566204071,0.04963753744959831,0.01956135407090187,0.011745351366698742,0.004098782315850258,-0.028724301606416702,-0.019672971218824387,-0.04968614503741264,0.009361308068037033,-0.0373806469142437,-0.01994088478386402,-0.024211375042796135,-0.005390705540776253,0.010653899051249027,0.0534362867474556,0.026979658752679825,0.012694315053522587,-0.019167378544807434,-0.02296525612473488,-0.03298166021704674,-0.05900207534432411,0.036464039236307144,-0.009991586208343506,0.12087563425302505,0.028491247445344925,0.051570825278759,0.0022635776549577713,0.038119394332170486,0.0033605166245251894,-0.0351945124566555,-0.011190623976290226,0.03641689196228981,0.03526321053504944,-0.01373942568898201,0.002641570521518588,0.04693528637290001,0.11445599794387817,-0.056820690631866455,0.003254680661484599,0.023168571293354034,-0.09955769777297974,-0.0056596300564706326,-0.0014800260541960597,-0.016152698546648026,-0.04243879020214081,0.009584330022335052,-0.005405575968325138,-0.011713978834450245,0.0025728510227054358,0.017668727785348892,-0.0025410382077097893,0.049055613577365875,0.005270844325423241,-0.008895167149603367,-0.011413941159844398,0.005328526720404625,0.005525684915482998,-0.01089376863092184,0.06573190540075302,0.023544391617178917,-0.04116085544228554,0.0016432536067441106,-0.04723473638296127,0.007790966425091028,-0.011857153847813606,0.05197743698954582,-0.08288062363862991,-0.0031771217472851276,0.03674618899822235,-0.003598432755097747,0.017954735085368156,-0.009286385029554367,-0.004489275626838207,-0.013430440798401833,0.009401057846844196,-0.0266738198697567,0.04379080981016159,-0.009682394564151764,-0.018091216683387756,-0.013545027002692223,-0.034713439643383026,0.054327044636011124,0.02600177377462387,-0.015334386378526688,-0.0075428783893585205,0.04361962527036667,-0.07140608876943588,0.008304839953780174,-0.034122418612241745,0.000884898123331368,-0.011401140131056309,0.00890261773020029,0.008326461538672447,-0.04062684625387192,0.04146133363246918,0.04975033923983574,0.04189230129122734,-0.04205009341239929,0.0007077368209138513,-0.05299036204814911,-0.0229449812322855,-0.012464880011975765,0.02009647898375988,0.020841529592871666,0.07725196331739426,0.03451443463563919,0.0008782222867012024,0.0029818664770573378,0.04181482642889023,0.02293343096971512,-0.018746694549918175,0.016213255003094673,-0.031725671142339706,0.020047223195433617,0.036493927240371704,-0.006837268825620413,0.010554976761341095,-0.02168630249798298,0.04501275345683098,0.000385588122298941,-0.0014614451210945845,0.003674771636724472,0.011866547167301178,-0.051774099469184875,0.026464613154530525,-0.0514070987701416,-0.044125545769929886,-0.020188016816973686,0.016143690794706345,-0.006089413538575172,-0.005817525088787079,0.007549376226961613,0.0033610647078603506,0.06666754186153412,0.019267311319708824,-0.012793009169399738,0.07540078461170197,0.030719101428985596,-0.050066377967596054,0.011145519092679024,-0.0012123524211347103,-0.05426735058426857,0.05184350535273552,0.004925868473947048,0.016119331121444702,0.034476812928915024,0.009908155538141727,-0.004358978476375341,0.010902246460318565,0.03540034219622612,0.0325385183095932,-0.022539807483553886,-0.02629651315510273,0.035329848527908325,0.02494051493704319,-0.032883863896131516,0.017158987000584602,-0.06263552606105804,-0.05670309439301491,0.003989310935139656,0.013037912547588348,-0.022654475644230843,0.021632757037878036,0.034754250198602676,0.025095243006944656,0.03161986544728279,0.0013345620827749372,0.008202614262700081,0.014294284395873547,-0.04457837715744972,-0.0038930056616663933,0.005817706231027842,0.01935192197561264,0.0012116949073970318,-0.023141512647271156,0.01201141532510519,0.04889963939785957,0.007546151522547007,0.020558958873152733,0.027841266244649887,-0.07024553418159485,0.0848037451505661,-0.02059364505112171,0.05796990916132927,-0.018758000805974007,-0.015288498252630234,-0.008912217803299427,-0.00008618836727691814,0.0296722911298275,-0.003625385696068406,0.023236142471432686,0.04220511391758919,-0.05024128034710884,0.003913030959665775,-0.016439180821180344,-0.06531046330928802,0.009145495481789112,0.02104736492037773,-0.00692188972607255,0.004557295702397823,0.011696694418787956,0.012660847045481205,-0.021460847929120064,0.016311757266521454,-0.09051291644573212,0.10485029220581055,0.06270076334476471,-0.024591870605945587,-0.022353798151016235,-0.05086470767855644,-0.0055376156233251095,-0.09266550093889236,-0.03128550574183464,0.02177022397518158,0.008441266603767872,0.010368980467319489,-0.008806702680885792,0.02933846041560173,0.06365181505680084,0.041024670004844666,0.0029557235538959503,0.02922135218977928,0.017395559698343277,0.04543962702155113,-0.050933267921209335,-0.0402410626411438,-0.04928365349769592,-0.004937473218888044,0.0022095339372754097,-0.0034909211099147797,0.008492621593177319,-0.008299625478684902,-0.007600544486194849,-0.0787278264760971,0.06301320344209671,0.05688101425766945,0.010533022694289684,-0.05444933846592903,0.0013219109969213605,-0.013807051815092564,-0.019942661747336388,0.04113168269395828,0.011735999956727028,-0.017694542184472084,0.031285759061574936,-0.02660345286130905,0.026337817311286926,-0.10786895453929901,-0.03670791536569595,0.02464034967124462,-0.05707821622490883,-0.02536153607070446,-0.008895459584891796,-0.01299556065350771,-0.04894310235977173,-0.012796643190085888,-0.00035733586992137134,-0.017209265381097794,-0.004417066462337971,0.0014735466102138162,0.015174319967627525,-0.032317403703927994,0.005193536635488272,0.055801872164011,0.010819557122886181,0.036016058176755905,0.01415263395756483,-0.05254053324460983,-0.05133316293358803,0.07891223579645157,-0.015560812316834927,-0.014015750028192997,-0.04262922331690788,0.024068931117653847,0.022796235978603363,-0.017183518037199974,-0.023416779935359955,-0.0028972539585083723,-0.017921965569257736,0.014545655809342861,-0.03350454568862915,0.035664044320583344,-0.08693719655275345,0.02233141101896763,0.024495815858244896,-0.033287253230810165,-0.03661926090717316,-0.03248598799109459,-0.04843255132436752,0.04218138009309769,-0.020730284973978996,-0.010035776533186436,0.07694540917873383,0.05641980096697807,0.04144115000963211,-0.02020406909286976,0.04001117870211601,-0.028651081025600433,-0.004351425915956497,-0.036405377089977264,-0.010918397456407547,-0.010242719203233719,-0.0034647409338504076,0.0166843943297863,0.05542349815368652,0.04211844503879547,0.0763506069779396,-0.00880157109349966,0.03180813789367676,0.01986469328403473,-0.03704266622662544,0.023527123034000397,-0.018494965508580208,0.03846128284931183,-0.002026401227340102,-0.024847008287906647,-0.021700207144021988,-0.0018152013653889298,-0.0553203709423542,-0.02095002308487892,-0.004075305070728064,0.02626970037817955,-0.004110880196094513,0.0018146699294447899,0.0035614720545709133,0.02255011349916458,-0.009009536355733871,-0.04467027261853218,0.03295173868536949,-0.00944280531257391,-0.015284903347492218,-0.04228384420275688,-0.011741499416530132,-0.03926275670528412,0.05437379702925682,0.0790824145078659,-0.005979227367788553,0.013877574354410172,0.04003843292593956,-0.09564641118049622,0.01878718100488186,0.03069411590695381,-0.046789124608039856,0.005962241906672716,-0.034171126782894135,0.028065333142876625,-0.028011750429868698,0.002370062517002225,0.01845899596810341,-0.01173916831612587,-0.042646147310733795,-0.032022908329963684,-0.04736090824007988,-0.06403475254774094,-7.120280054249594e-33,-0.021538229659199715,-0.026085151359438896,-0.04200408607721329,-0.046725623309612274,0.05173097178339958,-0.009405320510268211,0.06726185232400894,-0.04360929876565933,-0.0030885031446814537,-0.018741928040981293,-0.011363876983523369,-0.02629358321428299,0.0165126733481884,-0.003454690333455801,0.009621252305805683,0.008456116542220116,0.03823879361152649,-0.01791461929678917,0.009813274256885052,0.019592363387346268,-0.06892909109592438,0.03431086987257004,0.023297332227230072,-0.03275671228766441,0.0229817945510149,0.01855621486902237,-0.009883690625429153,-0.0032801181077957153,-0.047476865351200104,0.012654706835746765,0.011030232533812523,-0.05208719149231911,-0.032144658267498016,-0.000796679116319865,0.00950581207871437,-0.025144284591078758,-0.041295669972896576,-0.003787405090406537,0.005838850513100624,0.013165497221052647,0.03453086316585541,0.03391333669424057,0.038910526782274246,-0.0001526355918031186,-0.0008056262158788741,-0.00809966865926981,0.004805911798030138,0.023296227678656578,0.01754407025873661,-0.03742862492799759,-0.0026332028210163116,0.029406225308775902,0.00988136325031519,0.0117328567430377,-0.005486954469233751,0.05113169923424721,0.026458336040377617,0.01890077069401741,-0.0934809148311615,-0.01323954202234745,0.02837647683918476,-0.07280735671520233,-0.0013269925257191062,0.033160582184791565,0.039945147931575775,-0.02208036370575428,0.032016340643167496,0.007965801283717155,-0.023031530901789665,-0.04566482827067375,0.006217626389116049,-0.007614946458488703,0.03780541941523552,-0.07306388765573502,0.024002622812986374,0.003909303341060877,-0.034371454268693924,0.014150096103549004,0.017248881980776787,-0.02023177221417427,-0.018838005140423775,0.014746535569429398,-0.056738998740911484,-0.0012182064820080996,0.06634467095136642,-0.0578264445066452,0.008472071960568428,-0.01227316539734602,0.027345677837729454,0.01055462658405304,0.018164411187171936,0.0530705600976944,-0.0293419249355793,0.03745775297284126,-0.1331302374601364,-0.022213006392121315,0.08198573440313339,0.024609584361314774,0.009015663526952267,-0.019468506798148155,0.004710432607680559,0.009985661134123802,-0.023820143193006516,-0.001402606605552137,-0.010008069686591625,0.0069285971112549305,0.06769400835037231,-0.025227921083569527,-0.05190831795334816,0.047872837632894516,0.02623758837580681,-0.003974425606429577,-0.010588927194476128,0.0648038238286972,-0.0005751228891313076,0.006025148555636406,0.004165116231888533,-0.049523767083883286,0.023636698722839355,-0.04992398992180824,-0.007747322786599398,0.005923320539295673,-0.07171185314655304,0.027445029467344284,0.07871344685554504,-0.004231035243719816,-0.024373522028326988,-0.06867687404155731,-0.03248463571071625,-0.024865034967660904,-0.006881693843752146,0.024904556572437286,3.321989083815424e-7,0.035720933228731155,0.006786585319787264,-0.05037640780210495,0.004617106635123491,0.025738859549164772,0.016893602907657623,-0.03315240517258644,-0.01570029929280281,0.00024242495419457555,-0.05577938258647919,-0.013333217240869999,0.004437051713466644,0.01786106266081333,0.0616697296500206,-0.04123282432556152,-0.07002503424882889,0.021679075434803963,-0.040992818772792816,-0.015539056621491909,0.013922330923378468,0.034505024552345276,0.023511826992034912,0.05954471975564957,0.006932408548891544,0.03918973729014397,-0.00648359302431345,-0.02084878459572792,0.013572772033512592,0.05378257483243942,0.006731092929840088,-0.010041853412985802,0.02734888158738613,-0.012241613119840622,0.03315586596727371,-0.009073981083929539,0.010219871997833252,-0.012139474973082542,-0.011382529512047768,-0.01646706648170948,0.07462108880281448,0.02009519189596176,0.002721936209127307,-0.015037630684673786,-0.059622958302497864,0.005548377986997366,-0.06559891998767853,0.0063956789672374725,0.08080544322729111,-0.02151823416352272,0.040230583399534225,0.025130853056907654,-0.007442837115377188,-0.058180708438158035,-0.034030865877866745,0.030588647350668907,-0.0339541882276535,-0.003631419502198696,0.08722230792045593,0.03237489238381386,0.037972014397382736,-0.028694897890090942,0.018164467066526413,-0.0009008776396512985,0.06591487675905228,0.0056398906745016575,-0.015507244504988194,-0.02672582119703293,4.458496707390353e-34,0.030869899317622185,-0.012622734531760216,0.05670452117919922,0.050637386739254,0.015222045592963696,-0.019440671429038048,-0.028401046991348267,-0.015754560008645058,0.016876742243766785,0.002317345468327403,-0.0424766018986702]'
SET
  @TechnicalDesignVector_9f169eea = N'[-0.02973988465964794,0.08046022057533264,-0.01892908476293087,-0.04824824631214142,0.006135646253824234,0.004705282859504223,0.01845567300915718,0.02492547780275345,-0.020357172936201096,0.027506938204169273,-0.0012743297265842557,0.022604918107390404,0.04854859039187431,0.09624413400888443,-0.020480787381529808,-0.03313266113400459,-0.015009051188826561,0.03388126567006111,-0.004741293843835592,-0.017535442486405373,0.04197601601481438,-0.02676892839372158,0.01778808794915676,-0.022605719044804573,0.012063786387443542,-0.04730558395385742,-0.05211201682686806,0.06875631213188171,-0.00004126804924453609,-0.07691001892089844,0.006772961467504501,0.011382675729691982,-0.01738402247428894,0.027300691232085228,0.000002190048235206632,-0.021051574498414993,-0.05616377666592598,-0.013095809146761894,-0.06181919202208519,0.05150063708424568,0.018125899136066437,-0.04362599179148674,0.04871274158358574,-0.00887730810791254,-0.01704944111406803,-0.0179459061473608,-0.08515767008066177,-0.012667383067309856,0.03424379974603653,-0.018609238788485527,0.00026477096253074706,-0.022911326959729195,-0.06607885658740997,0.0037994852755218744,-0.04619550332427025,-0.00756860850378871,0.013789050281047821,-0.01380311418324709,0.08220481872558594,-0.05152082070708275,-0.032148294150829315,-0.022478459402918816,0.018416570499539375,-0.04827526956796646,0.047726038843393326,0.0053179459646344185,0.04006313160061836,0.0084230313077569,0.023995667695999146,-0.030855048447847366,0.09870171546936035,-0.04571643844246864,0.0051413290202617645,-0.023423803970217705,-0.030183151364326477,-0.026022300124168396,-0.01089345384389162,-0.018426714465022087,-0.02069801650941372,0.024808242917060852,0.02179098315536976,0.049111008644104004,-0.04331131651997566,0.03865732252597809,-0.04466728866100311,-0.0046071019023656845,-0.01978938654065132,-0.026832127943634987,-0.0045521995052695274,-0.04595128074288368,0.014023139141499996,-0.034541890025138855,0.00003395354360691272,0.03684765845537186,-0.0247803945094347,-0.02201971970498562,-0.009919386357069016,-0.046078067272901535,0.013031290844082832,-0.004143443889915943,0.01238192617893219,0.05407610163092613,0.04366147145628929,-0.0014581449795514345,0.08990330249071121,0.0775383785367012,-0.012910555116832256,-0.009169413708150387,-0.008340591564774513,-0.006191859021782875,0.01443998608738184,0.024548014625906944,-0.0028449133969843388,0.03659544885158539,-0.0021286720875650644,0.041920363903045654,-0.05999087542295456,-0.025018222630023956,-0.00969982985407114,-0.010858057998120785,0.1249699592590332,0.01616276428103447,0.015297302044928074,0.0368918776512146,0.0174898449331522,-0.01169662456959486,-0.015959015116095543,-0.02228482812643051,-0.03469780087471008,-0.029471078887581825,-0.044728029519319534,-0.025803327560424805,0.029416223987936974,-0.01667579635977745,0.017047708854079247,-0.00291037536226213,-0.002629142254590988,0.025762882083654404,-0.05437749624252319,-0.030178779736161232,0.020497459918260574,-0.010664201341569424,-0.041499458253383636,0.03430432453751564,-0.006507067941129208,-0.0046859742142260075,0.008466443978250027,0.07050119340419769,-0.003219116711989045,0.036103956401348114,0.012635309249162674,-0.026282835751771927,0.02805105783045292,0.03878847509622574,0.0037792103830724955,0.009666244499385357,0.023824747651815414,0.004877013619989157,0.0672052651643753,-0.06715907901525497,-0.003997969441115856,0.03245376795530319,0.020164743065834045,-0.00006268253491725773,-0.0046610524877905846,0.031585242599248886,-0.11869937181472778,-0.0006556726293638349,-0.08395029604434967,-0.04510413482785225,-0.010773680172860622,-0.024551045149564743,-0.02701099030673504,0.032738033682107925,0.03808540850877762,-0.09819217771291733,0.06363923847675323,-0.07651976495981216,-0.04480085149407387,-0.01757173426449299,0.03331077843904495,-0.07090078294277191,0.030117861926555634,-0.012276710011065006,0.09977968037128448,-0.03897007927298546,-0.02844279445707798,0.038592517375946045,-0.009209044277668,0.010229075327515602,0.006110366899520159,0.03501593694090843,-0.021275119855999947,0.029105667024850845,-0.019624358043074608,0.03628223016858101,-0.012403658591210842,-0.052927061915397644,0.014451288618147373,0.05461966618895531,-0.020098553970456123,-0.039147283881902695,0.053903110325336456,0.002573908306658268,-0.002452249638736248,0.00036755879409611225,-0.05187517777085304,-0.008763966150581837,0.0021933233365416527,-0.02087269350886345,-0.031717609614133835,-0.030044445767998695,-0.03705953434109688,-0.006498232483863831,-0.00684557668864727,0.08602651208639145,0.012708854861557484,-0.009112181141972542,0.010895759798586369,-0.006368481088429689,-0.05824119970202446,0.011848824098706245,-0.019956134259700775,-0.005254074465483427,0.10095661878585815,0.0213046632707119,0.027494274079799652,-0.003956816624850035,0.06152651831507683,-0.03208136558532715,-0.015638025477528572,-0.018642500042915344,0.006276403088122606,0.031083935871720314,0.026318946853280067,0.05109504237771034,0.002587566152215004,0.03099973127245903,-0.016147039830684662,0.04600125923752785,0.04004335030913353,-0.06015600264072418,-0.010317650623619556,-0.021401332691311836,-0.012526129372417927,-0.013718483038246632,-0.07109729945659637,0.004712383728474379,-0.0021505700424313545,0.0019706599414348602,0.023392057046294212,-0.007829355075955391,0.04133227467536926,-0.029248271137475967,-0.037517987191677094,0.011760905385017395,-0.0030439195688813925,0.0021193025168031454,-0.0019517559558153152,0.08033403009176254,0.055293262004852295,0.0053823478519916534,-0.014136075973510742,-0.05098249390721321,0.025861594825983047,-0.029811587184667587,0.0214709285646677,-0.053354792296886444,-0.0024211870040744543,0.024998856708407402,-0.013550333678722382,0.01983540505170822,0.00483223469927907,0.002709936583414674,0.014014869928359985,0.038662608712911606,-0.031808193773031235,0.07030782103538513,0.003352428786456585,-0.02690800093114376,-0.005588729865849018,0.012120089493691921,0.04653862863779068,0.035410862416028976,-0.017698178067803383,0.01814892329275608,0.027718540281057358,-0.08111845701932907,0.03580914065241814,-0.1017068400979042,0.011785084381699562,-0.01985890604555607,0.021201804280281067,-0.020168054848909378,-0.034883417189121246,0.027487361803650856,0.01711283251643181,0.07164070010185242,-0.0315503366291523,-0.0029136131051927805,-0.04613298177719116,0.007399451453238726,-0.015090194530785084,0.007653682492673397,0.01902911812067032,0.09122736006975174,0.027958419173955917,0.05501899868249893,-0.03397554159164429,0.07003066688776016,0.015668058767914772,0.018852127715945244,0.0135046923533082,0.03735624626278877,0.00013345554179977626,-0.0008940820698626339,0.06643065810203552,-0.0065504503436386585,-0.04324357956647873,0.05442921817302704,-0.021654821932315826,-0.03184414282441139,-0.0012119583552703261,0.038176726549863815,-0.06866137683391571,0.02712586522102356,-0.050903819501399994,-0.04561363905668259,-0.06304556131362915,0.02760862372815609,0.007969800382852554,-0.04143407195806503,-0.0020212808158248663,-0.008024349808692932,0.03486611694097519,0.02112528309226036,-0.013741670176386833,0.0718780979514122,-0.0000422884950239677,-0.032099686563014984,0.024370556697249413,0.009082681499421597,-0.05989043787121773,0.025223590433597565,-0.01442331075668335,0.027852948755025864,0.016883166506886482,0.007810266688466072,-0.037363357841968536,0.0010300655849277973,0.0030498416163027287,0.04928368702530861,-0.04682714864611626,-0.012929067946970463,-0.001453507342375815,-0.004840267356485128,-0.02108549326658249,0.046227626502513885,-0.04467620700597763,-0.025248294696211815,0.0679883360862732,0.0029622302390635014,0.05184127390384674,0.008343120105564594,-0.0023944098502397537,0.028931602835655212,0.049324098974466324,0.0076208775863051414,-0.00011311737034702674,-0.027371905744075775,-0.045632973313331604,-0.0017963183345273137,-0.014805061742663383,-0.006353465374559164,-0.0187536533921957,-0.009596784599125385,-0.005272787995636463,0.026369066908955574,0.026222754269838333,0.027196310460567474,0.01885862834751606,-0.013599813915789127,0.06590968370437622,0.011680440045893192,0.07091547548770905,-0.049103520810604095,0.025026731193065643,-0.028916949406266212,-0.0026864793617278337,0.008286834694445133,0.029122328385710716,0.0034770879428833723,0.044452402740716934,-0.020406831055879593,-0.026452867314219475,-0.013957122340798378,-0.04729321226477623,0.03426844999194145,0.05149032175540924,-0.01350824162364006,-0.0029742801561951637,0.0403602197766304,-0.0002953941293526441,0.031199362128973007,0.03464043512940407,-0.09664137661457062,0.07404180616140366,0.04759092628955841,0.018352672457695007,0.007487898226827383,0.009116834960877895,-0.06817062944173813,-0.06461485475301743,-0.04603690281510353,0.005925298202782869,0.016213199123740196,-0.003955909516662359,-0.025142962113022804,0.05094718188047409,0.05184073746204376,0.013717657886445522,-0.020546531304717064,0.042909346520900726,-0.015222497284412384,0.060275763273239136,-0.006381915416568518,-0.02565097250044346,-0.0411568321287632,-0.027540769428014755,-0.002199480077251792,0.0015344672137871385,0.019511930644512177,0.03679260239005089,-0.013827738352119923,-0.07069946080446243,0.013043826445937157,0.050673700869083405,-0.00451818248257041,-0.01707996241748333,-0.0035036401823163033,-0.03504237160086632,-0.02211686223745346,0.06638594716787338,0.000327038491377607,-0.005568313878029585,0.012665215879678726,-0.0157668124884367,0.05897874757647514,-0.06463933736085892,-0.02710452303290367,0.027731789276003838,-0.0283416248857975,-0.029111173003911972,-0.030148884281516075,-0.024311406537890434,-0.04499410465359688,0.0373801551759243,0.02346734330058098,-0.03194371610879898,0.041249942034482956,-0.03653756529092789,0.024860728532075882,0.024641286581754684,-0.00008167482155840844,0.05420077592134476,-0.006549195386469364,-0.01146195363253355,0.037432096898555756,-0.0328853614628315,-0.013255431316792965,0.05328581482172012,-0.023805294185876846,-0.009416245855391026,-0.015647046267986298,0.012401863001286983,0.0038941854145377874,-0.0053665232844650745,-0.0624316930770874,-0.03703958913683891,-0.006121625192463398,0.03969546779990196,0.00543187465518713,0.02027236670255661,-0.09186384081840515,0.005778836086392403,0.012935451231896877,-0.03194804862141609,-0.03413601219654083,-0.028410939499735832,-0.01708480902016163,0.011129630729556084,0.022839074954390526,-0.04157719016075134,0.05596764758229256,0.027077320963144302,0.04844094067811966,0.005230259615927935,0.022122476249933243,-0.044504910707473755,0.01377774402499199,-0.06076466292142868,0.0020174302626401186,0.021844567731022835,0.021558359265327454,0.019745733588933945,-0.011940312571823597,0.0097416453063488,0.07671728730201721,-0.025105420500040054,0.048879992216825485,-0.008043591864407063,-0.07491698861122131,-0.05184942111372948,0.054753951728343964,0.041967276483774185,0.00020611105719581246,-0.04811389371752739,-0.043923519551754,0.042647186666727066,0.002109240274876356,-0.020597241818904877,0.011359449476003647,0.03443664312362671,0.018638046458363533,0.04296233505010605,0.015301758423447609,0.01415193174034357,-0.023473476991057396,-0.012901664711534977,0.046834852546453476,0.010584380477666855,0.008949195966124535,-0.01956101506948471,-0.010564403608441353,-0.016212349757552147,0.01812775246798992,0.02267407812178135,-0.042240917682647705,0.015260303393006325,0.0019993798341602087,-0.1018412634730339,0.04599909856915474,0.0895901471376419,-0.041497550904750824,0.019384751096367836,-0.07241760194301605,0.028856953606009483,-0.05736787989735603,0.013326321728527546,0.043945927172899246,-0.0002271650155307725,-0.042317308485507965,0.0030853217467665672,-0.03921779245138168,-0.015199155546724796,-7.116110722724021e-33,-0.0025403681211173534,0.020837683230638504,-0.020076772198081017,-0.055020544677972794,-0.00455359136685729,-0.012660876847803593,0.04012708738446236,-0.06663631647825241,-0.01564783602952957,-0.029196344316005707,-0.015553489327430725,-0.006265934091061354,0.009730057790875435,-0.030914591625332832,0.0062376889400184155,-0.01250092126429081,0.005004081875085831,-0.03288746997714043,-0.018563395366072655,0.017614584416151047,-0.01695457100868225,0.03871121630072594,-0.02276785857975483,0.007315292954444885,-0.03362679108977318,0.019001983106136322,0.0027266559191048145,0.02632763609290123,-0.09486184269189835,0.02602270059287548,0.00871969573199749,-0.08775345981121063,-0.024139193817973137,-0.05781181901693344,-0.00020360264170449227,-0.07412795722484589,-0.0515371635556221,-0.024288926273584366,0.0013198928209021688,0.006305367220193148,0.05287057161331177,0.0010367876384407282,0.04401780664920807,0.004544681869447231,-0.017844107002019882,-0.05137358233332634,-0.019138779491186142,0.007477026432752609,0.007164321839809418,-0.05806999281048775,-0.002158624352887273,0.027757683768868446,0.016800012439489365,0.006284158211201429,-0.015960698947310448,0.0346967875957489,0.04305766895413399,0.11609993875026703,-0.09102027863264084,-0.0036117995623499155,-0.034948721528053284,-0.06958118081092834,-0.01583395153284073,0.03827742114663124,0.05190204828977585,-0.05174212157726288,-0.005427961703389883,0.0039136651903390884,-0.053218599408864975,-0.023629609495401382,-0.004807393066585064,-0.015413517132401466,-0.012943916022777557,-0.043381184339523315,0.04881511256098747,-0.025557273998856544,-0.053650856018066406,-0.01866331696510315,-0.043143779039382935,0.036841340363025665,-0.030096324160695076,0.006165541708469391,-0.010963426902890205,0.002957771997898817,0.03252725675702095,-0.058248475193977356,0.0014911555917933583,0.039796117693185806,0.0024810396134853363,0.026517292484641075,0.028029389679431915,0.03082646243274212,-0.04443785548210144,0.05487847328186035,-0.07492372393608093,-0.0011198139982298017,0.03123544156551361,-0.003816398326307535,0.02005789242684841,0.025466352701187134,0.02746664732694626,0.02377162128686905,-0.013171816244721413,-0.008848571218550205,0.009079563431441784,0.01572173647582531,0.069266676902771,0.016134925186634064,-0.025331830605864525,0.01101610716432333,0.011003388091921806,0.0010063990484923124,-0.03828328847885132,0.08843827247619629,0.015323598869144917,0.03266734257340431,-0.00290392036549747,-0.06072656065225601,0.022102633491158485,0.0027253159787505865,0.01130768284201622,-0.014847378246486187,-0.01921837218105793,0.07461804896593094,0.03954713046550751,0.003934632521122694,-0.010842864401638508,-0.04297091066837311,-0.049823321402072906,-0.005932901985943317,0.005181519780308008,0.032703544944524765,3.183340027135273e-7,-0.008919588290154934,-0.01774112693965435,-0.051656898111104965,0.05775942653417587,-0.000056921639043139294,-0.011496084742248058,-0.05240507423877716,-0.03955782204866409,-0.026644058525562286,-0.03479139134287834,-0.0012327004224061966,0.023503851145505905,0.035327065736055374,0.00006599359039682895,0.017584528774023056,-0.05046024173498154,0.025139350444078445,-0.05066947266459465,-0.0032792401034384966,-0.01120756845921278,0.013301422819495201,0.027373241260647774,0.05865543335676193,-0.007183431647717953,0.021890582516789436,0.0222593005746603,0.00015250880096573383,0.03047412820160389,-0.0034366582985967398,-0.012526902370154858,0.05697501450777054,-0.02558128722012043,-0.03130641579627991,0.03876229003071785,0.017204951494932175,0.04553341493010521,0.016241898760199547,-0.004070307593792677,-0.008237402886152267,0.05607650801539421,0.03310294449329376,0.009244240820407867,-0.031922418624162674,0.0006057578721083701,0.024797936901450157,-0.054566118866205215,-0.010392953641712666,0.06363526731729507,-0.005206217989325523,0.055991094559431076,0.01899152807891369,0.02168857678771019,-0.016236796975135803,-0.03332044184207916,0.041825905442237854,-0.0174708291888237,0.0009557745070196688,0.038259293884038925,0.024887749925255775,0.030835440382361412,-0.016196325421333313,-0.02446572668850422,0.020036816596984863,0.08500192314386368,0.02137024700641632,-0.028834732249379158,-0.03045673854649067,4.459453633260319e-34,0.028501756489276886,-0.026249215006828308,0.03898234665393829,0.022394105792045593,0.011428113095462322,-0.03664364293217659,0.002577496925368905,-0.002954470692202449,0.04693836718797684,-0.05122920498251915,-0.014170878566801548]'
SET
  @HasCustomProps_9f169eea = 1
SET
  @HasCustomEvents_9f169eea = 1
SET
  @RequiresData_9f169eea = 1
SET
  @DependencyCount_9f169eea = 2
SET
  @TechnicalDesignVectorEmbeddingModelID_9f169eea = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_9f169eea = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_9f169eea = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_9f169eea,
  @Namespace = @Namespace_9f169eea,
  @Name = @Name_9f169eea,
  @Version = @Version_9f169eea,
  @VersionSequence = @VersionSequence_9f169eea,
  @Title = @Title_9f169eea,
  @Description = @Description_9f169eea,
  @Type = @Type_9f169eea,
  @Status = @Status_9f169eea,
  @DeveloperName = @DeveloperName_9f169eea,
  @DeveloperEmail = @DeveloperEmail_9f169eea,
  @DeveloperOrganization = @DeveloperOrganization_9f169eea,
  @SourceRegistryID = @SourceRegistryID_9f169eea,
  @ReplicatedAt = @ReplicatedAt_9f169eea,
  @LastSyncedAt = @LastSyncedAt_9f169eea,
  @Specification = @Specification_9f169eea,
  @FunctionalRequirements = @FunctionalRequirements_9f169eea,
  @TechnicalDesign = @TechnicalDesign_9f169eea,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_9f169eea,
  @TechnicalDesignVector = @TechnicalDesignVector_9f169eea,
  @HasCustomProps = @HasCustomProps_9f169eea,
  @HasCustomEvents = @HasCustomEvents_9f169eea,
  @RequiresData = @RequiresData_9f169eea,
  @DependencyCount = @DependencyCount_9f169eea,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_9f169eea,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_9f169eea,
  @HasRequiredCustomProps = @HasRequiredCustomProps_9f169eea;

-- Save MJ: Components (core SP call only)
DECLARE @ID_20576e69 UNIQUEIDENTIFIER,
@Namespace_20576e69 NVARCHAR(MAX),
@Name_20576e69 NVARCHAR(500),
@Version_20576e69 NVARCHAR(50),
@VersionSequence_20576e69 INT,
@Title_20576e69 NVARCHAR(1000),
@Description_20576e69 NVARCHAR(MAX),
@Type_20576e69 NVARCHAR(255),
@Status_20576e69 NVARCHAR(50),
@DeveloperName_20576e69 NVARCHAR(255),
@DeveloperEmail_20576e69 NVARCHAR(255),
@DeveloperOrganization_20576e69 NVARCHAR(255),
@SourceRegistryID_20576e69 UNIQUEIDENTIFIER,
@ReplicatedAt_20576e69 DATETIMEOFFSET,
@LastSyncedAt_20576e69 DATETIMEOFFSET,
@Specification_20576e69 NVARCHAR(MAX),
@FunctionalRequirements_20576e69 NVARCHAR(MAX),
@TechnicalDesign_20576e69 NVARCHAR(MAX),
@FunctionalRequirementsVector_20576e69 NVARCHAR(MAX),
@TechnicalDesignVector_20576e69 NVARCHAR(MAX),
@HasCustomProps_20576e69 BIT,
@HasCustomEvents_20576e69 BIT,
@RequiresData_20576e69 BIT,
@DependencyCount_20576e69 INT,
@TechnicalDesignVectorEmbeddingModelID_20576e69 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_20576e69 NVARCHAR(MAX),
@HasRequiredCustomProps_20576e69 BIT
SET
  @ID_20576e69 = '87539D5A-8C4A-4A67-9F2F-14C50D26C639'
SET
  @Namespace_20576e69 = N'CRM/Sales'
SET
  @Name_20576e69 = N'ProductCategoryAnalysis'
SET
  @Version_20576e69 = N'1.0.0'
SET
  @VersionSequence_20576e69 = 1
SET
  @Title_20576e69 = N'Product Category Analysis'
SET
  @Description_20576e69 = N'Multi-level product category analysis showing category totals and top products within each category with drill-down navigation.'
SET
  @Type_20576e69 = N'Dashboard'
SET
  @Status_20576e69 = N'Published'
SET
  @Specification_20576e69 = N'{"name":"ProductCategoryAnalysis","title":"Product Category Analysis","type":"dashboard","userExplanation":"Comprehensive product category performance dashboard with dual drill-down paths. Shows category revenue totals, then when a category is selected, displays both top products in that category and all invoice line items. Demonstrates progressive disclosure: Category → Products → Line Items.","functionalRequirements":"## Business Objectives\n- Analyze revenue performance across product categories\n- Identify top-performing products within each category\n- Enable drill-down to see individual line item sales\n- Demonstrate multi-level drill-down with conditional query execution\n\n## Functional Requirements\n- **Category Overview**: Bar chart showing total revenue by product category\n- **Category Metrics**: Display product count, average revenue, and total revenue per category\n- **Primary Drill-Down**: When user clicks category, show two panels side-by-side\n- **Top Products Panel**: Run conditional query showing top 5 products in selected category (by revenue)\n- **Line Items Panel**: EntityDataGrid showing all invoice line items for products in selected category\n- **Secondary Drill-Down**: When user clicks a product in top products list, filter line items grid to that specific product\n- **Conditional Query**: Top products query only executes when category is selected (performance optimization)\n- **Back Navigation**: Clear selection button returns to category overview\n- **Breadcrumb Trail**: Show current selection path (Category → Product)\n- **State Management**: Track both category selection and optional product selection\n- **Loading States**: Show loading for conditional queries\n- **Empty States**: Handle categories with no products or line items","description":"Multi-level product category analysis showing category totals and top products within each category with drill-down navigation.","dataRequirements":{"mode":"hybrid","queries":[{"name":"Category Totals","categoryPath":"Demo","description":"Category-level aggregates: SUM(Revenue), COUNT(DISTINCT ProductID), AVG(Revenue) grouped by CategoryName. Returns ~10-15 category summary rows for bar chart. **Result Order: TotalRevenue DESC** - Highest revenue categories first for ranking comparison.","entityNames":["Products","Invoice Line Items","Invoices"],"fields":[{"name":"Category","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Product category name"},{"name":"ProductCount","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of distinct products in this category"},{"name":"TotalRevenue","sequence":3,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total revenue from all products in this category"},{"name":"AvgRevenue","sequence":4,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average revenue per line item in this category"},{"name":"TotalQuantity","sequence":5,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Total units sold in this category"},{"name":"InvoiceCount","sequence":6,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of distinct invoices containing products from this category"}],"parameters":[{"name":"Category","isRequired":false,"type":"string","sampleValue":"Software","description":"Optional filter by specific category"},{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"}]},{"name":"Category Top Products","categoryPath":"Demo","description":"Conditional query (executes when category selected): TOP 5 products by revenue in selected category. Returns ProductName, Revenue for top products list. **Result Order: TotalRevenue DESC** - Highest revenue products first within selected category.","entityNames":["Products","Invoice Line Items","Invoices"],"fields":[{"name":"ProductName","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":false,"isPrimaryKey":false,"description":"Name of the product"},{"name":"Category","sequence":2,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Product category"},{"name":"TotalRevenue","sequence":3,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total revenue from this product"},{"name":"TotalQuantity","sequence":4,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Total units sold"},{"name":"InvoiceCount","sequence":5,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of invoices containing this product"},{"name":"AvgPrice","sequence":6,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average unit price across all sales"}],"parameters":[{"name":"TopN","isRequired":false,"type":"number","sampleValue":"5","description":"Number of top products to return (default: 5)"},{"name":"Category","isRequired":false,"type":"string","sampleValue":"Software","description":"Optional filter by product category"},{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"}]}],"entities":[{"name":"Products","description":"Product records used in SQL filter for drill-down. The Category and Name columns are used to filter invoice line items.","displayFields":["Name","Category","Description"],"filterFields":["ID","Category","Name"],"sortFields":["Name","Category"],"usageContext":"Referenced in EntityDataGrid extraFilter SQL subquery: SELECT ID FROM CRM.vwProducts WHERE Category=''{selectedCategory}'' OR Name=''{selectedProduct}''"},{"name":"Invoice Line Items","description":"Line item records shown in EntityDataGrid for selected category or product. Primary drill-down entity for sales detail.","displayFields":["InvoiceDate","ProductName","Quantity","UnitPrice","Total","AccountName"],"filterFields":["ProductID","InvoiceDate"],"sortFields":["InvoiceDate","Total"],"usageContext":"Loaded by EntityDataGrid using SQL filter: ProductID IN (SELECT ID FROM CRM.vwProducts WHERE Category = ''{selectedCategory}'' OR Name=''{selectedProduct}'') AND InvoiceDate >= ''{startDate}'' AND InvoiceDate <= ''{endDate}''"}]},"properties":[{"name":"category","type":"string","required":false,"description":"Optional filter by specific product category (e.g., ''Software'', ''Hardware''). If provided, shows only that category.","default":null},{"name":"startDate","type":"string","required":false,"description":"Optional start date filter (ISO format: ''2024-01-01''). Returns line items with InvoiceDate >= startDate. If null, user can set via date filter UI.","default":null},{"name":"endDate","type":"string","required":false,"description":"Optional end date filter (ISO format: ''2024-12-31''). Returns line items with InvoiceDate <= endDate. If null, user can set via date filter UI.","default":null},{"name":"topN","type":"number","required":false,"description":"Number of top products to show in drill-down (e.g., 5, 10). Controls how many top products are displayed when a category is selected.","default":5},{"name":"title","type":"string","required":false,"description":"Custom chart title. If not provided, uses default title.","default":"Product Category Analysis"}],"events":[{"name":"onCategoryClick","description":"Fired when user clicks a category bar in the chart","payload":{"category":"string - The category name that was clicked (e.g., ''Software'', ''Hardware'')","value":"number - Total revenue for this category","recordCount":"number - Number of records in the clicked segment"},"example":"{ category: ''Software'', value: 125000.50, recordCount: 15 }"},{"name":"onProductClick","description":"Fired when user clicks a product in the top products list","payload":{"productName":"string - Name of the clicked product","category":"string - Category the product belongs to","totalRevenue":"number - Total revenue for this product","totalQuantity":"number - Total quantity sold"},"example":"{ productName: ''Premium License'', category: ''Software'', totalRevenue: 45000.00, totalQuantity: 150 }"},{"name":"onRecordClick","description":"Fired when user clicks a row in the EntityDataGrid (line items)","payload":{"lineItemId":"string - The ID of the clicked line item record","invoiceDate":"string - Invoice date (ISO format)","productName":"string - Name of the product","quantity":"number - Quantity sold","unitPrice":"number - Unit price","total":"number - Line item total","accountName":"string - Name of the account"},"example":"{ lineItemId: ''abc-123'', invoiceDate: ''2024-03-15'', productName: ''Premium License'', quantity: 5, unitPrice: 199.99, total: 999.95, accountName: ''Acme Corp'' }"}],"dependencies":[{"name":"SimpleChart","location":"registry","namespace":"Generic/UI/Chart","version":"^1.0.0"},{"name":"EntityDataGrid","location":"registry","namespace":"Generic/UI/Table","version":"^1.0.0"}],"location":"embedded","technicalDesign":"## Component Architecture\n\n### Data Flow\n1. **Initial Load**: RunQuery executes ''Category Totals'' with optional filters (category, startDate, endDate)\n2. **Chart Rendering**: SimpleChart displays aggregated category revenue data\n3. **Primary Drill-Down**: User clicks category → RunQuery loads ''Category Top Products'' (conditional)\n4. **Dual View**: Display both top products list AND EntityDataGrid with line items\n5. **Secondary Drill-Down**: User clicks product → EntityDataGrid filters to that specific product\n6. **Date Consistency**: Date filters applied to all queries and EntityDataGrid extraFilter\n\n### State Management\n- `categoryData`: Array of category totals from initial query\n- `productData`: Array of top products from conditional query (null until category clicked)\n- `loading`: Boolean for initial data load\n- `loadingProducts`: Boolean for conditional product query\n- `error`: String for error messages\n- `selectedSegment`: Object with label/value/records from clicked category (null = overview)\n- `selectedProduct`: String for clicked product name (null = all products in category)\n- `internalStartDate/EndDate`: User-controlled date filters (only when props are null)\n\n### Conditional UI Controls\n**Date Filter Panel**: Only rendered when both `startDate` and `endDate` props are null. Allows user to set date range filters with:\n- Start Date input (HTML date picker)\n- End Date input (HTML date picker)\n- Apply Filters button (requires both dates)\n- Clear Dates button (shown when filters applied)\n\n### Filter Coordination\n**effectiveStartDate/endDate**: Computed values that prioritize props over internal state\n- Used in RunQuery Parameters for both queries\n- Used in EntityDataGrid extraFilter for consistency\n\n### Multi-Level Drill-Down\n**Level 1 - Category Selection**:\n1. User clicks category bar in chart\n2. Sets `selectedSegment` state with clickData from SimpleChart\n3. Triggers conditional query for top products\n4. Shows two panels: top products list + EntityDataGrid with all line items in category\n5. Chart remains visible above drill-down\n\n**Level 2 - Product Selection**:\n1. User clicks product in top products list\n2. Sets `selectedProduct` state\n3. EntityDataGrid filter updates to show only that product''s line items\n4. Top products list remains visible with selection highlighted\n\n### EntityDataGrid Integration\n**extraFilter Construction**:\n1. Product filter (dynamic based on selection level):\n   - Level 1: `ProductID IN (SELECT ID FROM CRM.vwProducts WHERE Category=''{selectedSegment.label}'')`\n   - Level 2: `ProductID IN (SELECT ID FROM CRM.vwProducts WHERE Name=''{selectedProduct}'')`\n2. Date filters (when provided):\n   - Start: `InvoiceDate >= ''{effectiveStartDate}''`\n   - End: `InvoiceDate <= ''{effectiveEndDate}''`\n3. Filters combined with AND operator\n\n### Event System\n**onCategoryClick**: Fires when category bar clicked, provides:\n- category, value, recordCount\n\n**onProductClick**: Fires when product in list clicked, provides:\n- productName, category, totalRevenue, totalQuantity\n\n**onRecordClick**: Fires when EntityDataGrid row clicked, provides:\n- lineItemId, invoiceDate, productName, quantity, unitPrice, total, accountName\n\n### Educational Value\nDemonstrates:\n1. **Multi-Level Drill-Down**: Category → Products → Line Items with state management\n2. **Conditional Queries**: Second query only executes when category selected\n3. **Dual Panels**: Side-by-side reference list + detail grid\n4. **SQL Filter Construction**: Subquery pattern for related entity filtering\n5. **Filter Consistency**: Same date filters applied across all data loads\n6. **Chart Persistence**: Chart stays visible during drill-down for context","code":"function ProductCategoryAnalysis({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  category = null,\n  startDate = null,\n  endDate = null,\n  topN = 5,\n  title = ''Product Category Analysis'',\n  onCategoryClick = null,\n  onProductClick = null,\n  onRecordClick = null\n}) {\n  // State management\n  const [categoryData, setCategoryData] = useState(null);\n  const [productData, setProductData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [loadingProducts, setLoadingProducts] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedSegment, setSelectedSegment] = useState(null);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n\n  // Internal filter state (only used when external props are null)\n  const [pendingStartDate, setPendingStartDate] = useState(null);\n  const [pendingEndDate, setPendingEndDate] = useState(null);\n  const [appliedStartDate, setAppliedStartDate] = useState(null);\n  const [appliedEndDate, setAppliedEndDate] = useState(null);\n\n  // Determine effective filter values\n  const effectiveStartDate = startDate || appliedStartDate;\n  const effectiveEndDate = endDate || appliedEndDate;\n  const showDateFilters = startDate === null && endDate === null;\n\n  // Get components from registry\n  const { SimpleChart, EntityDataGrid } = components;\n\n  // Apply date filters\n  const handleApplyFilters = () => {\n    setAppliedStartDate(pendingStartDate);\n    setAppliedEndDate(pendingEndDate);\n  };\n\n  // Clear date filters\n  const handleClearDates = () => {\n    setPendingStartDate(null);\n    setPendingEndDate(null);\n    setAppliedStartDate(null);\n    setAppliedEndDate(null);\n  };\n\n  // Load category data on mount or when parameters change\n  useEffect(() => {\n    const loadCategoryData = async () => {\n      setLoading(true);\n      setError(null);\n      setSelectedSegment(null);\n      setProductData(null);\n\n      try {\n        // Execute the category totals query (using effective dates)\n        const result = await utilities.rq.RunQuery({\n          QueryName: ''Category Totals'',\n          CategoryPath: ''Demo'',\n          Parameters: {\n            Category: category,\n            StartDate: effectiveStartDate,\n            EndDate: effectiveEndDate\n          }\n        });\n\n        if (result && result.Success && result.Results) {\n          setCategoryData(result.Results);\n        } else {\n          setError(result?.ErrorMessage || ''Failed to load category data'');\n        }\n      } catch (err) {\n        console.error(''Error loading category data:'', err);\n        setError(err.message || ''An unexpected error occurred'');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadCategoryData();\n  }, [category, effectiveStartDate, effectiveEndDate, utilities]);\n\n  // Load top products when category is selected\n  const handleCategoryClick = async (clickData) => {\n    console.log(''Category clicked:'', clickData);\n\n    // Set selected segment (using the full clickData structure from SimpleChart)\n    setSelectedSegment(clickData);\n    setSelectedProduct(null);\n    setLoadingProducts(true);\n\n    try {\n      // Execute the category top products query (conditional) - using effective dates\n      const result = await utilities.rq.RunQuery({\n        QueryName: ''Category Top Products'',\n        CategoryPath: ''Demo'',\n        Parameters: {\n          TopN: topN,\n          Category: clickData.label,\n          StartDate: effectiveStartDate,\n          EndDate: effectiveEndDate\n        }\n      });\n\n      if (result && result.Success && result.Results) {\n        setProductData(result.Results);\n      } else {\n        console.error(''Failed to load product data:'', result?.ErrorMessage);\n        setProductData([]);\n      }\n    } catch (err) {\n      console.error(''Error loading product data:'', err);\n      setProductData([]);\n    } finally {\n      setLoadingProducts(false);\n    }\n\n    // Fire external event if provided\n    if (onCategoryClick) {\n      onCategoryClick({\n        category: clickData.label,\n        value: clickData.value,\n        recordCount: clickData.records?.length || 0\n      });\n    }\n  };\n\n  // Handle product selection for secondary drill-down\n  const handleProductClick = (product) => {\n    setSelectedProduct(product.ProductName);\n\n    // Fire external event if provided\n    if (onProductClick) {\n      onProductClick({\n        productName: product.ProductName,\n        category: selectedSegment?.label,\n        totalRevenue: product.TotalRevenue,\n        totalQuantity: product.TotalQuantity\n      });\n    }\n  };\n\n  // Handle EntityDataGrid row click\n  const handleRecordClick = (event) => {\n    if (onRecordClick) {\n      onRecordClick({\n        lineItemId: event.record?.ID,\n        product: event.record?.Product,\n        quantity: event.record?.Quantity,\n        unitPrice: event.record?.UnitPrice,\n        totalPrice: event.record?.TotalPrice,\n        description: event.record?.Description\n      });\n    }\n  };\n\n  // Clear selection\n  const handleClearSelection = () => {\n    setSelectedSegment(null);\n    setSelectedProduct(null);\n    setProductData(null);\n  };\n\n  // Build EntityDataGrid extraFilter with date filters\n  const buildEntityFilter = () => {\n    const filters = [];\n\n    // Filter by selected category or product\n    if (selectedProduct) {\n      filters.push(`ProductID IN (SELECT ID FROM CRM.vwProducts WHERE Name=''$' + '{selectedProduct}'')`);\n    } else if (selectedSegment) {\n      filters.push(`ProductID IN (SELECT ID FROM CRM.vwProducts WHERE Category=''$' + '{selectedSegment.label}'')`);\n    }\n\n    // Note: InvoiceDate doesn''t exist in vwInvoiceLineItems\n    // Date filtering would require joining to vwInvoices, which EntityDataGrid doesn''t support\n    // The line items are already filtered by product selection\n\n    return filters.length > 0 ? filters.join('' AND '') : undefined;\n  };\n\n  // Render component - keep filters visible at all times\n  return (\n    <div style={{ padding: ''16px'', width: ''100%'', minWidth: ''800px'', boxSizing: ''border-box'' }}>\n      {/* Date filter controls (only shown when dates not provided externally) - ALWAYS VISIBLE */}\n      {showDateFilters && (\n        <div style={{\n          marginBottom: ''16px'',\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          display: ''flex'',\n          gap: ''16px'',\n          alignItems: ''center'',\n          flexWrap: ''wrap'',\n          width: ''100%'',\n          boxSizing: ''border-box''\n        }}>\n          <div style={{ fontWeight: ''bold'' }}>Date Filters:</div>\n          <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n            <label style={{ fontSize: ''14px'' }}>Start Date:</label>\n            <input\n              type=\"date\"\n              value={pendingStartDate || ''''}\n              onChange={(e) => setPendingStartDate(e.target.value || null)}\n              style={{\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n          <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n            <label style={{ fontSize: ''14px'' }}>End Date:</label>\n            <input\n              type=\"date\"\n              value={pendingEndDate || ''''}\n              onChange={(e) => setPendingEndDate(e.target.value || null)}\n              style={{\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n          <button\n            onClick={handleApplyFilters}\n            disabled={!pendingStartDate || !pendingEndDate}\n            style={{\n              padding: ''6px 16px'',\n              backgroundColor: (!pendingStartDate || !pendingEndDate) ? ''#d9d9d9'' : ''#1890ff'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''4px'',\n              cursor: (!pendingStartDate || !pendingEndDate) ? ''not-allowed'' : ''pointer'',\n              fontSize: ''14px'',\n              fontWeight: ''bold''\n            }}\n          >\n            Apply Filters\n          </button>\n          {(appliedStartDate || appliedEndDate) && (\n            <button\n              onClick={handleClearDates}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: ''#ff4d4f'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              Clear Dates\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* Loading state */}\n      {loading && (\n        <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n          <div>Loading category data...</div>\n        </div>\n      )}\n\n      {/* Error state */}\n      {!loading && error && (\n        <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n          <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n          <div style={{ marginTop: ''8px'' }}>{error}</div>\n        </div>\n      )}\n\n      {/* Empty state */}\n      {!loading && !error && (!categoryData || categoryData.length === 0) && (\n        <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n          <div style={{ fontSize: ''16px'' }}>No Data Available</div>\n          <div style={{ marginTop: ''8px'' }}>\n            No category data found matching the specified criteria\n          </div>\n        </div>\n      )}\n\n      {/* Category overview - always show when data is loaded */}\n      {!loading && !error && categoryData && categoryData.length > 0 && (\n        <div>\n          <SimpleChart\n            entityName=\"Products\"\n            data={categoryData}\n            chartType=\"bar\"\n            groupBy=\"Category\"\n            valueField=\"TotalRevenue\"\n            aggregateMethod=\"sum\"\n            title={title}\n            showLegend={false}\n            onDataPointClick={handleCategoryClick}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n          />\n\n          {/* Summary Statistics */}\n          <div style={{\n            marginTop: ''24px'',\n            display: ''grid'',\n            gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'',\n            gap: ''16px''\n          }}>\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Total Revenue\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n                $' + '{categoryData.reduce((sum, row) => sum + (row.TotalRevenue || 0), 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n              </div>\n            </div>\n\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Total Products\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n                {categoryData.reduce((sum, row) => sum + (row.ProductCount || 0), 0).toLocaleString()}\n              </div>\n            </div>\n\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Total Quantity\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n                {categoryData.reduce((sum, row) => sum + (row.TotalQuantity || 0), 0).toLocaleString()}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Drill-down section when category is selected - renders BELOW chart */}\n      {selectedSegment && (\n        <div style={{ marginTop: ''32px'' }}>\n          {/* Header with clear selection button */}\n          <div style={{\n            marginBottom: ''16px'',\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            padding: ''12px 16px'',\n            backgroundColor: ''#e6f7ff'',\n            borderRadius: ''4px'',\n            border: ''1px solid #91d5ff''\n          }}>\n            <div style={{ fontSize: ''16px'', fontWeight: ''bold'', color: ''#0050b3'' }}>\n              {selectedProduct ? `Line Items for $' + '{selectedProduct}` : `Products in $' + '{selectedSegment.label}`}\n            </div>\n            <button\n              onClick={handleClearSelection}\n              style={{\n                padding: ''6px 16px'',\n                backgroundColor: ''#1890ff'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px'',\n                fontWeight: ''500''\n              }}\n            >\n              Clear Selection\n            </button>\n          </div>\n\n          {/* Two-column layout: Top products + Line items */}\n          <div style={{\n            display: ''grid'',\n            gridTemplateColumns: ''repeat(auto-fit, minmax(400px, 1fr))'',\n            gap: ''16px''\n          }}>\n            {/* Top products panel */}\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f9f9f9'',\n              borderRadius: ''4px''\n            }}>\n              <h3 style={{ margin: ''0 0 16px 0'' }}>Top {topN} Products</h3>\n              {loadingProducts ? (\n                <div style={{ textAlign: ''center'', padding: ''20px'' }}>Loading products...</div>\n              ) : productData && productData.length > 0 ? (\n                <div>\n                  {productData.map((product, index) => (\n                    <div\n                      key={index}\n                      onClick={() => handleProductClick(product)}\n                      style={{\n                        padding: ''12px'',\n                        marginBottom: ''8px'',\n                        backgroundColor: selectedProduct === product.ProductName ? ''#e6f7ff'' : ''white'',\n                        borderRadius: ''4px'',\n                        cursor: ''pointer'',\n                        border: selectedProduct === product.ProductName ? ''2px solid #1890ff'' : ''1px solid #d9d9d9''\n                      }}\n                    >\n                      <div style={{ fontWeight: ''bold'', marginBottom: ''4px'' }}>{product.ProductName}</div>\n                      <div style={{ fontSize: ''12px'', color: ''#8c8c8c'' }}>\n                        Revenue: $' + '{(product.TotalRevenue || 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })} •\n                        Quantity: {(product.TotalQuantity || 0).toLocaleString()} •\n                        Avg Price: $' + '{(product.AvgPrice || 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div style={{ textAlign: ''center'', padding: ''20px'', color: ''#8c8c8c'' }}>\n                  No products found\n                </div>\n              )}\n            </div>\n\n            {/* Line items panel */}\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f9f9f9'',\n              borderRadius: ''4px''\n            }}>\n              <h3 style={{ margin: ''0 0 16px 0'' }}>Line Item Details</h3>\n              <EntityDataGrid\n                entityName=\"Invoice Line Items\"\n                extraFilter={buildEntityFilter()}\n                fields={[''Product'', ''Quantity'', ''UnitPrice'', ''TotalPrice'', ''Description'']}\n                orderBy=\"ID DESC\"\n                pageSize={20}\n                maxCachedRows={100}\n                enablePageCache={true}\n                showPageSizeChanger={true}\n                enableSorting={true}\n                enableFiltering={true}\n                showRefreshButton={true}\n                onRowClick={handleRecordClick}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage (no filters)\n<ProductCategoryAnalysis\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// With date filters controlled externally\n<ProductCategoryAnalysis\n  startDate=\"2024-01-01\"\n  endDate=\"2024-12-31\"\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// With custom top N and event handlers\n<ProductCategoryAnalysis\n  topN={10}\n  onCategoryClick={(event) => {\n    console.log(`Clicked $' + '{event.category}: $$' + '{event.value}`);\n  }}\n  onProductClick={(event) => {\n    console.log(`Product $' + '{event.productName} selected`);\n  }}\n  onRecordClick={(event) => {\n    console.log(`Line item $' + '{event.lineItemId} clicked`);\n    // Navigate to invoice detail page\n    router.push(`/invoices/$' + '{event.invoiceId}`);\n  }}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// Let user control date filters (no props provided)\n<ProductCategoryAnalysis\n  title=\"Product Category Performance\"\n  topN={5}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>"}'
SET
  @FunctionalRequirements_20576e69 = N'## Business Objectives
- Analyze revenue performance across product categories
- Identify top-performing products within each category
- Enable drill-down to see individual line item sales
- Demonstrate multi-level drill-down with conditional query execution

## Functional Requirements
- **Category Overview**: Bar chart showing total revenue by product category
- **Category Metrics**: Display product count, average revenue, and total revenue per category
- **Primary Drill-Down**: When user clicks category, show two panels side-by-side
- **Top Products Panel**: Run conditional query showing top 5 products in selected category (by revenue)
- **Line Items Panel**: EntityDataGrid showing all invoice line items for products in selected category
- **Secondary Drill-Down**: When user clicks a product in top products list, filter line items grid to that specific product
- **Conditional Query**: Top products query only executes when category is selected (performance optimization)
- **Back Navigation**: Clear selection button returns to category overview
- **Breadcrumb Trail**: Show current selection path (Category → Product)
- **State Management**: Track both category selection and optional product selection
- **Loading States**: Show loading for conditional queries
- **Empty States**: Handle categories with no products or line items'
SET
  @TechnicalDesign_20576e69 = N'## Component Architecture

### Data Flow
1. **Initial Load**: RunQuery executes ''Category Totals'' with optional filters (category, startDate, endDate)
2. **Chart Rendering**: SimpleChart displays aggregated category revenue data
3. **Primary Drill-Down**: User clicks category → RunQuery loads ''Category Top Products'' (conditional)
4. **Dual View**: Display both top products list AND EntityDataGrid with line items
5. **Secondary Drill-Down**: User clicks product → EntityDataGrid filters to that specific product
6. **Date Consistency**: Date filters applied to all queries and EntityDataGrid extraFilter

### State Management
- `categoryData`: Array of category totals from initial query
- `productData`: Array of top products from conditional query (null until category clicked)
- `loading`: Boolean for initial data load
- `loadingProducts`: Boolean for conditional product query
- `error`: String for error messages
- `selectedSegment`: Object with label/value/records from clicked category (null = overview)
- `selectedProduct`: String for clicked product name (null = all products in category)
- `internalStartDate/EndDate`: User-controlled date filters (only when props are null)

### Conditional UI Controls
**Date Filter Panel**: Only rendered when both `startDate` and `endDate` props are null. Allows user to set date range filters with:
- Start Date input (HTML date picker)
- End Date input (HTML date picker)
- Apply Filters button (requires both dates)
- Clear Dates button (shown when filters applied)

### Filter Coordination
**effectiveStartDate/endDate**: Computed values that prioritize props over internal state
- Used in RunQuery Parameters for both queries
- Used in EntityDataGrid extraFilter for consistency

### Multi-Level Drill-Down
**Level 1 - Category Selection**:
1. User clicks category bar in chart
2. Sets `selectedSegment` state with clickData from SimpleChart
3. Triggers conditional query for top products
4. Shows two panels: top products list + EntityDataGrid with all line items in category
5. Chart remains visible above drill-down

**Level 2 - Product Selection**:
1. User clicks product in top products list
2. Sets `selectedProduct` state
3. EntityDataGrid filter updates to show only that product''s line items
4. Top products list remains visible with selection highlighted

### EntityDataGrid Integration
**extraFilter Construction**:
1. Product filter (dynamic based on selection level):
   - Level 1: `ProductID IN (SELECT ID FROM CRM.vwProducts WHERE Category=''{selectedSegment.label}'')`
   - Level 2: `ProductID IN (SELECT ID FROM CRM.vwProducts WHERE Name=''{selectedProduct}'')`
2. Date filters (when provided):
   - Start: `InvoiceDate >= ''{effectiveStartDate}''`
   - End: `InvoiceDate <= ''{effectiveEndDate}''`
3. Filters combined with AND operator

### Event System
**onCategoryClick**: Fires when category bar clicked, provides:
- category, value, recordCount

**onProductClick**: Fires when product in list clicked, provides:
- productName, category, totalRevenue, totalQuantity

**onRecordClick**: Fires when EntityDataGrid row clicked, provides:
- lineItemId, invoiceDate, productName, quantity, unitPrice, total, accountName

### Educational Value
Demonstrates:
1. **Multi-Level Drill-Down**: Category → Products → Line Items with state management
2. **Conditional Queries**: Second query only executes when category selected
3. **Dual Panels**: Side-by-side reference list + detail grid
4. **SQL Filter Construction**: Subquery pattern for related entity filtering
5. **Filter Consistency**: Same date filters applied across all data loads
6. **Chart Persistence**: Chart stays visible during drill-down for context'
SET
  @FunctionalRequirementsVector_20576e69 = N'[0.025917626917362213,0.11239691823720932,-0.044743701815605164,-0.024339884519577026,0.007999768480658531,-0.008219853043556213,0.02632598765194416,0.016816606745123863,-0.030197519809007645,-0.041141659021377563,-0.051266737282276154,0.04950760304927826,0.0017087337328121066,0.07304760068655014,0.020944688469171524,-0.0443461611866951,-0.000225249765207991,0.03507046401500702,-0.028439832851290703,-0.0016300120623782277,0.03191150352358818,0.012563277967274189,-0.012561100535094738,-0.027188749983906746,0.01857469603419304,-0.007730967365205288,-0.030603058636188507,0.052273109555244446,-0.01947581209242344,-0.057533107697963715,0.05748612806200981,0.02225908637046814,-0.01826625131070614,-0.029169462621212006,0.00000259450666817429,-0.037342969328165054,-0.09530864655971527,-0.016745608299970627,0.0023569571785628796,0.03937731683254242,0.008719978854060173,-0.002615486504510045,0.04978462681174278,-0.00426782900467515,0.0072424146346747875,-0.035077523440122604,-0.03521865978837013,0.06477176398038864,-0.01976243034005165,-0.008714632131159306,-0.00441204197704792,-0.05134974792599678,-0.07131648063659668,-0.020431190729141235,0.0038099249359220266,-0.04699272662401199,0.03744395822286606,0.01930272951722145,0.08047863095998764,-0.06510160863399506,-0.03146993741393089,-0.02832058258354664,-0.012425587512552738,-0.04831080138683319,0.053976330906152725,0.04837680608034134,0.07841560244560242,-0.03167244419455528,0.010367191396653652,-0.016032710671424866,0.002875204663723707,-0.016039777547121048,0.031212756410241127,-0.0025972898583859205,-0.03645191714167595,0.008656363934278488,-0.032773856073617935,-0.0016845368081703782,-0.014293770305812359,0.024224260821938515,-0.03818068280816078,0.029654664918780327,-0.035319987684488297,0.031851109117269516,0.008877240121364594,0.005675767548382282,-0.02575911022722721,-0.042344510555267334,0.00419673603028059,-0.00000881271898833802,0.012962269596755505,-0.03680189326405525,0.0019224506104364991,0.0012816510861739516,-0.06941051036119461,-0.012200238183140755,0.03539862483739853,0.05367922782897949,0.05055141821503639,-0.058319997042417526,0.042703308165073395,0.052743375301361084,0.05300392955541611,0.026861872524023056,0.05017124116420746,0.03601108118891716,-0.036243733018636703,-0.05943247303366661,-0.05692281946539879,0.03546583279967308,-0.019852448254823685,-0.0118769071996212,-0.028865540400147438,0.05934051051735878,0.012344500981271267,0.0170805174857378,-0.025898082181811333,-0.028681667521595955,-0.013473211787641048,0.008727354928851128,0.036516789346933365,0.008005469106137753,0.02292846515774727,0.046129509806632996,0.031750988215208054,-0.004825092852115631,-0.06365052610635757,0.018115568906068802,-0.005805170629173517,0.002324070082977414,-0.008396817371249199,0.011462145484983921,0.004748163744807243,0.007854805327951908,0.014991899952292442,0.0016875735018402338,-0.0009989559184759855,0.03264196962118149,-0.12429510056972504,-0.03254524618387222,0.0016468839021399617,-0.012557248584926128,-0.026640458032488823,-0.007758093997836113,0.004259227309376001,-0.034317709505558014,-0.010245783254504204,0.10064910352230072,-0.002766717690974474,0.021254895254969597,0.03836474567651749,-0.020561954006552696,0.013704032637178898,-0.002219785237684846,0.014927935786545277,0.020947139710187912,0.04305046424269676,0.036899104714393616,0.002719644922763109,0.03736642375588417,0.025470219552516937,0.01929733343422413,-0.0009220108040608466,-0.0381043404340744,-0.043678201735019684,-0.013138365931808949,-0.07826700061559677,0.03881616145372391,-0.1171426922082901,-0.050695694983005524,-0.02565351501107216,-0.027204686775803566,-0.021931117400527,0.06159418448805809,0.00494846748188138,-0.005854879971593618,0.07283307611942291,0.016800902783870697,-0.046809788793325424,0.02639741823077202,0.012824849225580692,-0.03353259339928627,0.058635491877794266,0.008625912480056286,0.04255286604166031,-0.05720173940062523,-0.08821190893650055,-0.01760418713092804,-0.015496165491640568,-0.00804922915995121,0.02366902120411396,0.029399503022432327,-0.02741694264113903,0.04258740320801735,-0.017543351277709007,0.04414157196879387,0.014679341576993465,0.014039382338523865,-0.010253120213747025,-0.0071600149385631084,0.003396362066268921,-0.03899017721414566,0.05547064170241356,0.02908449061214924,0.007994197309017181,-0.04260798916220665,-0.024785522371530533,0.021341882646083832,0.00041860254714265466,0.0025519218761473894,0.021614521741867065,-0.02058284915983677,-0.014935913495719433,0.01660221442580223,-0.0032197386026382446,0.015786685049533844,0.06067318841814995,0.024344276636838913,-0.0453096404671669,-0.01797671616077423,-0.02834230847656727,-0.0029158510733395815,0.08096837997436523,-0.0022189985029399395,0.11840703338384628,0.02621004916727543,0.043825071305036545,0.011848736554384232,0.027313780039548874,0.0035610634367913008,-0.0022963490337133408,0.004294698592275381,0.04595630243420601,0.007009283639490604,-0.04319116100668907,-0.006273289676755667,0.06059252470731735,0.062061112374067307,-0.04135956987738609,0.017138641327619553,0.020804746076464653,-0.0485813282430172,-0.011652563698589802,-0.01528050098568201,-0.010560918599367142,-0.04460446909070015,-0.01403909083455801,0.010410004295408726,0.014728980138897896,-0.04661541059613228,-0.023831961676478386,0.005654843524098396,0.05949435010552406,0.02483499050140381,0.005441305227577686,-0.002690840745344758,-0.08216490596532822,-0.00941604282706976,-0.011394524946808815,0.10539931058883667,0.023074060678482056,-0.014515596441924572,0.011591584421694279,-0.04068106412887573,0.02485617622733116,-0.02092588134109974,0.0745687484741211,-0.060529496520757675,0.02702753245830536,0.0231974758207798,0.012418790720403194,0.027025781571865082,0.029432913288474083,-0.006662470288574696,-0.004538304638117552,0.014907240867614746,-0.02391897328197956,0.0032535195350646973,-0.027246324345469475,-0.020838769152760506,0.023097464814782143,-0.05887758731842041,0.01654287800192833,0.011105746030807495,-0.03241870179772377,-0.019451146945357323,0.04855294153094292,-0.057731859385967255,0.02343210019171238,-0.00988192018121481,0.0103794289752841,-0.012026735581457615,-0.004006761591881514,0.03571615368127823,-0.040964365005493164,-0.023006297647953033,-0.010467562824487686,0.0318073108792305,-0.021663816645741463,-0.027384594082832336,0.003114892402663827,-0.031341422349214554,-0.03199858218431473,-0.00926427822560072,0.0026645807083696127,0.06706561148166656,0.035478174686431885,-0.0008771791472099721,0.01238630898296833,0.051372528076171875,0.03954266011714935,0.00465027242898941,0.017072394490242004,-0.02326294407248497,0.01264277845621109,-0.00949019193649292,-0.030108753591775894,-0.018194206058979034,-0.002145390957593918,0.12199634313583374,0.01069075707346201,0.0007250173948705196,0.03189285844564438,0.030879996716976166,-0.05872272700071335,-0.005120067857205868,-0.010053405538201332,-0.041019801050424576,-0.04021700099110603,-0.007425980642437935,-0.0038684827741235495,-0.04085506126284599,-0.026899641379714012,0.02983868308365345,0.0171620175242424,0.0003789369366131723,-0.01350191980600357,0.03297721594572067,-0.02383245900273323,-0.020494084805250168,-0.016240358352661133,-0.022975709289312363,-0.040513575077056885,0.024440119042992592,0.04794435203075409,-0.012543990276753902,0.035141848027706146,0.024866962805390358,-0.03838186338543892,0.03242668882012367,0.012489456683397293,0.047607481479644775,-0.01200390886515379,-0.062290288507938385,0.03205380588769913,0.0010306020267307758,-0.02699502557516098,-0.04256630316376686,-0.07138391584157944,-0.04478439316153526,0.013784201815724373,0.05465001240372658,0.01422859076410532,0.0075583672150969505,0.002658658428117633,0.055600523948669434,0.038165219128131866,-0.005836046766489744,0.02174542471766472,-0.022040963172912598,-0.08194787055253983,-0.008901339024305344,0.024402692914009094,0.042394474148750305,-0.002427874132990837,0.004398082848638296,0.00254639214836061,0.04142291098833084,-0.029054589569568634,0.0035765760112553835,0.05645013600587845,-0.0275564081966877,0.07668846100568771,-0.0008260721806436777,0.10665738582611084,-0.0036254627630114555,-0.0063048964366316795,-0.03343518078327179,-0.03622393682599068,0.028503086417913437,-0.013997266069054604,0.006780383642762899,0.03953307121992111,-0.08259385824203491,-0.011788986623287201,-0.049793630838394165,-0.05145452916622162,0.04665016010403633,0.004665276035666466,-0.017820458859205246,0.020006833598017693,0.014696118421852589,-0.028717368841171265,0.02559087797999382,0.04353850334882736,-0.08046973496675491,0.051681675016880035,0.06946366280317307,0.006193680223077536,0.055592168122529984,0.01328043919056654,-0.04749901592731476,-0.04791110008955002,-0.04583332687616348,0.003157079918310046,-0.018651675432920456,0.03711232170462608,0.011481858789920807,0.011417648755013943,0.04321472719311714,0.06592991948127747,0.008879479952156544,0.004066577646881342,-0.02295188046991825,0.016120413318276405,-0.018782589584589005,-0.0048396955244243145,-0.06612646579742432,-0.013297468423843384,0.01767369732260704,-0.01711285300552845,-0.004285092931240797,0.011066695675253868,-0.02271461859345436,-0.0596441924571991,-0.010691828094422817,0.025945425033569336,-0.006459980271756649,-0.06420230865478516,-0.017571480944752693,-0.024016132578253746,0.0007925510872155428,0.038332756608724594,0.012185088358819485,-0.021733596920967102,-0.014415157027542591,-0.00862125027924776,0.010688462294638157,-0.09067089855670929,0.028525222092866898,0.005384260788559914,-0.012083686888217926,0.02007322572171688,0.01886163279414177,-0.03626735880970955,-0.04058847576379776,-0.06367453932762146,-0.010035781189799309,-0.019060123711824417,-0.007524212822318077,-0.005951100029051304,0.030772296711802483,-0.03071442060172558,-0.022065138444304466,0.005391172599047422,-0.06184142827987671,0.07887684553861618,-0.012342644855380058,-0.03589276224374771,-0.010423555970191956,0.05349181219935417,0.017834670841693878,0.013755889609456062,-0.054187480360269547,0.02530195750296116,-0.04229096695780754,0.0016147588612511754,-0.017582084983587265,-0.04523386061191559,-0.006618874613195658,0.02044689655303955,0.00777123449370265,0.04179053008556366,-0.016268018633127213,0.01841064542531967,0.04840821027755737,-0.03367149084806442,-0.04666340723633766,-0.037565529346466064,-0.00040392906521447003,0.030015666037797928,0.019612308591604233,0.0014886497519910336,0.028954388573765755,0.004922559019178152,-0.02011195197701454,-0.046428173780441284,0.03386424854397774,-0.038044899702072144,-0.014081723988056183,-0.0074685304425656796,0.0008274961728602648,-0.01704428344964981,-0.023739919066429138,0.035122793167829514,0.05232594162225723,-0.006832827813923359,0.04546518251299858,-0.007332796696573496,0.003142015542834997,-0.06866613775491714,-0.013183463364839554,-0.003578328527510166,-0.052056606858968735,0.027411416172981262,0.019450560212135315,-0.05948175862431526,-0.08255837112665176,0.020112916827201843,-0.05171186104416847,-0.0007735989056527615,0.018401354551315308,0.02580290101468563,0.0024616827722638845,0.004017457831650972,-0.02117994613945484,0.035003628581762314,-0.01546078734099865,-0.05187279358506203,0.04717949032783508,0.025145750492811203,-0.06460542976856232,-0.041825588792562485,-0.026291491463780403,-0.05368611961603165,0.010153940878808498,0.05904616788029671,-0.02092265523970127,-0.024690257385373116,-0.013332667760550976,-0.07435284554958344,0.029323356226086617,0.02057821676135063,-0.04225164279341698,0.049161698669195175,-0.012707500718533993,0.019744671881198883,0.03244005888700485,0.030051393434405327,0.010609908029437065,-0.03219522535800934,-0.06422698497772217,-0.03191785886883736,-0.01831381395459175,-0.027548672631382942,-7.353792741724411e-33,-0.016931628808379173,-0.018398234620690346,-0.05198923498392105,0.027635956183075905,0.03415822982788086,-0.03572060540318489,0.011071120388805866,-0.03151203319430351,0.023781483992934227,-0.05640329793095589,-0.012580697424709797,-0.002881742315366864,0.03237839415669441,-0.021096980199217796,0.03338756412267685,-0.018847834318876266,0.02933771163225174,0.013608590699732304,-0.018331173807382584,0.015536687336862087,-0.06194060295820236,0.035475246608257294,-0.012966441921889782,-0.018357262015342712,0.03336026892066002,0.008741944096982479,-0.02865210361778736,0.023104136809706688,-0.0407804511487484,0.026943640783429146,0.02029016800224781,-0.04083022102713585,-0.009946930222213268,-0.001239997916854918,-0.010071536526083946,-0.04309301823377609,-0.06202327832579613,0.006271559279412031,0.04459306597709656,0.03376568481326103,0.035134464502334595,0.05485476925969124,0.0382048636674881,0.01784389838576317,0.008602781221270561,0.003164036897942424,0.03179238736629486,-0.015031100250780582,0.028086019679903984,-0.04805450886487961,0.008405161090195179,-0.0019289760384708643,-0.0001486261753598228,0.043742407113313675,0.018504565581679344,0.11975010484457016,0.0256038848310709,0.06239479407668114,-0.01983528584241867,-0.00026242027524858713,-0.01591503992676735,-0.01341806910932064,-0.009706808254122734,0.03689857944846153,0.03918441757559776,-0.0013683006400242448,0.01171157881617546,-0.004369869828224182,-0.014920242130756378,-0.020376233384013176,0.0023627032060176134,0.030576033517718315,0.014356665313243866,-0.04553593695163727,0.05649417266249657,0.04855668544769287,-0.050239793956279755,0.04704194515943527,-0.004746105521917343,0.010028992779552937,-0.017241796478629112,0.050046466290950775,-0.08934605121612549,-0.02057703770697117,0.06853345781564713,0.004421866033226252,-0.034407440572977066,0.0061851791106164455,0.01916724443435669,0.02883719839155674,-0.06193607673048973,0.01628461293876171,-0.06762702018022537,0.02726025879383087,-0.08904027193784714,-0.03228921443223953,0.03838445991277695,-0.030369341373443604,0.004904883913695812,-0.043913789093494415,0.012266607955098152,0.038883060216903687,-0.013586684130132198,0.0006432518130168319,-0.010716468095779419,-0.014133772812783718,-0.014237388037145138,0.022570360451936722,-0.03742194175720215,0.0166935995221138,0.03839840739965439,-0.03647610917687416,-0.004646795801818371,0.0690959170460701,0.02874011918902397,0.002522098831832409,-0.004728126805275679,0.030212989076972008,0.013484835624694824,-0.033360160887241364,0.00556290103122592,0.027400385588407516,-0.029155412688851357,0.0022518674377352,0.022792726755142212,-0.025398951023817062,0.0063576363027095795,-0.05597712844610214,-0.006082057952880859,-0.04567240923643112,-0.034489210695028305,0.009002968668937683,3.40952738042688e-7,0.06564871966838837,-0.018162759020924568,-0.016555458307266235,0.09845250099897385,-0.00943052489310503,-0.003919727634638548,-0.049213290214538574,-0.003951708786189556,-0.004920532926917076,-0.03029528073966503,0.07724950462579727,-0.010097428224980831,0.03634835407137871,0.07950998097658157,-0.03131028637290001,-0.054717812687158585,0.038905251771211624,-0.04406158626079559,-0.040228694677352905,0.00430794432759285,0.030260885134339333,0.01247212290763855,0.06640389561653137,-0.025579823181033134,0.039353616535663605,-0.043113742023706436,-0.020539283752441406,-0.0022201426327228546,0.04873007908463478,-0.008571790531277657,0.008810927160084248,0.047375112771987915,-0.045951709151268005,0.013640111312270164,-0.0035955437924712896,0.0063907732255756855,-0.026041338220238686,0.04691365361213684,0.03848155960440636,0.04852062091231346,0.042540304362773895,-0.05234334617853165,-0.0077318064868450165,-0.06159048154950142,0.02591767907142639,-0.009399477392435074,0.03160058334469795,0.061677202582359314,-0.016808370128273964,0.013660917989909649,0.011460651643574238,-0.018124636262655258,-0.052231404930353165,-0.03478875756263733,0.005433753132820129,0.004579062573611736,0.00763080595061183,0.07280467450618744,0.030748577788472176,0.04983258619904518,-0.05221579968929291,-0.016257166862487793,0.019466418772935867,0.09030799567699432,-0.024391163140535355,-0.0125998854637146,-0.03297530114650726,3.9851448769458915e-34,0.03713279590010643,0.012505859136581421,0.027542224153876305,-0.006461848504841328,0.014187877997756004,-0.02014678344130516,-0.08229490369558334,-0.01785273477435112,-0.005547334905713797,-0.03399807959794998,-0.05347704142332077]'
SET
  @TechnicalDesignVector_20576e69 = N'[-0.0007027439423836768,0.05600351840257645,-0.04020464047789574,-0.07951398193836212,0.01727037876844406,-0.020012058317661285,0.03336833044886589,0.01035043504089117,-0.012743854895234108,0.008044688031077385,-0.03077041357755661,0.05551996827125549,0.006265144795179367,0.05056723579764366,-0.01787731423974037,-0.01885523647069931,-0.006555322557687759,0.0349636934697628,-0.007960275746881962,-0.022167185321450233,0.034826990216970444,-0.0035258999560028315,0.0010233543580397964,-0.029928121715784073,0.017331711947917938,-0.02416796237230301,-0.047084741294384,0.05256883054971695,0.015047657303512096,-0.11255883425474167,0.032842591404914856,0.037952203303575516,-0.028890712186694145,-0.0003116398293059319,0.000002154085677830153,-0.04130522161722183,-0.06807369738817215,-0.01359422504901886,-0.021785583347082138,0.0011482422705739737,0.014480377547442913,-0.03254709020256996,0.05037481710314751,-0.028759663924574852,0.002079644473269582,-0.05584963038563728,-0.0667487233877182,-0.0031282079871743917,0.036476459354162216,-0.033540692180395126,0.013141345232725143,-0.027790971100330353,-0.01600307784974575,-0.001824327977374196,-0.0033045944292098284,-0.05239688232541084,0.01707671396434307,0.025269774720072746,0.1198548674583435,-0.022278402000665665,-0.03231223672628403,-0.03737904876470566,0.02753165364265442,-0.04539300128817558,0.04739852994680405,0.00983682181686163,0.07496108114719391,-0.039930909872055054,0.02337166666984558,0.01569207012653351,0.08968617022037506,-0.06908570230007172,0.0005748241674154997,-0.029703527688980103,-0.0209156796336174,-0.016373610123991966,-0.01106632687151432,0.005357128102332354,-0.022386638447642326,0.022031551226973534,0.02096656523644924,0.024513857439160347,-0.04796818271279335,0.02433190494775772,-0.02344050258398056,0.003199415048584342,-0.014662832953035831,-0.04197659343481064,0.0053412578999996185,-0.030297959223389626,0.0392836295068264,-0.03484867513179779,-0.0011717542074620724,0.0038328447844833136,-0.0687292143702507,-0.014842656441032887,-0.0031706185545772314,-0.023175206035375595,0.0011455686762928963,-0.02166757360100746,0.015176946297287941,0.05682652071118355,0.06740593910217285,0.03262367099523544,0.062247324734926224,0.057265911251306534,0.009022057987749577,-0.03699278086423874,-0.04309394583106041,-0.04322102665901184,0.010937386192381382,0.024950634688138962,0.005111117381602526,0.03679458051919937,0.010106554254889488,0.0441243052482605,-0.0535958930850029,-0.03087284229695797,-0.021605852991342545,0.0002869228774216026,0.08502042293548584,-0.014850622974336147,-0.00997631810605526,0.0313078947365284,0.018253711983561516,-0.0008702848572283983,-0.02609262615442276,-0.015518859960138798,-0.01602465845644474,-0.003450743155553937,-0.035548191517591476,-0.014388611540198326,0.05796341225504875,-0.01511714980006218,-0.018193809315562248,-0.0021067250054329634,-0.019749542698264122,0.02766752615571022,-0.07472420483827591,-0.03365926817059517,0.015968196094036102,0.00029164209263399243,-0.035595182329416275,0.05120931193232536,-0.009432045742869377,-0.012493245303630829,0.030831007286906242,0.07073486596345901,0.009540020488202572,0.026526525616645813,-0.004423765931278467,-0.007690271828323603,0.02889993228018284,0.025085574015975,-0.04480639472603798,0.016621779650449753,-0.008678355254232883,0.01118677668273449,0.02532545104622841,0.009485545568168163,-0.004105600528419018,0.025469549000263214,-0.005862136371433735,-0.008959219790995121,-0.041072264313697815,-0.00033249639091081917,-0.14593377709388733,-0.0039300513453781605,-0.10104938596487045,-0.038010913878679276,0.0034708830062299967,-0.06018872559070587,-0.019777575507760048,0.05718272551894188,0.03835666552186012,-0.03647485375404358,0.10833101719617844,-0.019852299243211746,-0.06921014934778214,0.02367696538567543,0.020249221473932266,-0.05767768621444702,0.027658512815833092,-0.0019828674849122763,0.06635008007287979,-0.05405263975262642,-0.0736319050192833,-0.008126688189804554,0.01460244134068489,0.035222362726926804,0.009438545443117619,0.036922816187143326,-0.002343128900974989,0.026783188804984093,-0.024014651775360107,-0.005891623441129923,0.010371314361691475,-0.009645405225455761,0.016972718760371208,0.04222433269023895,0.009743009693920612,0.0017000290099531412,0.04073397070169449,-0.007290974259376526,-0.010548163205385208,0.0011960053816437721,-0.03201946243643761,0.014160177670419216,0.009638341143727303,-0.011101721785962582,-0.028027670457959175,-0.027978170663118362,-0.05110872909426689,0.014624468050897121,-0.021484673023223877,0.04558894783258438,0.007682519499212503,-0.0022945513483136892,-0.03424636274576187,0.016748087480664253,-0.05124444514513016,0.042777158319950104,0.045529164373874664,-0.022145915776491165,0.09900733083486557,0.07345906645059586,0.032576531171798706,-0.029710492119193077,0.06282739341259003,-0.028434034436941147,-0.013759256340563297,-0.027313243597745895,0.024559717625379562,0.03398142009973526,0.008104637265205383,0.04052213579416275,0.005885162856429815,0.0038200123235583305,-0.001459697843529284,0.026696573942899704,0.022762233391404152,-0.018209027126431465,-0.023360170423984528,-0.029149126261472702,-0.022296682000160217,-0.014406966045498848,-0.08613786846399307,0.008264916948974133,-0.010721135884523392,-0.03153819963335991,0.009050993248820305,0.00543805630877614,0.06124892830848694,-0.028040722012519836,-0.002607265952974558,-0.005199579056352377,-0.00808486994355917,-0.002207574900239706,-0.005009312182664871,0.12022055685520172,0.07295746356248856,0.02493077516555786,-0.028369657695293427,-0.01688842847943306,0.04470669478178024,-0.04220375418663025,0.04569718614220619,-0.04382465034723282,-0.003097773063927889,0.0033451274503022432,-0.0010893585858866572,0.046257078647613525,-0.00989669281989336,0.0005478398525156081,-0.011622894555330276,0.027349654585123062,0.006222945172339678,0.033444687724113464,-0.003850746201351285,-0.03805952146649361,-0.014725487679243088,-0.00503920204937458,0.0479792021214962,0.02479715086519718,-0.029213862493634224,-0.0033478839322924614,0.036828916519880295,-0.048499565571546555,0.04048967361450195,-0.07839753478765488,0.022196346893906593,-0.009916077367961407,0.02935979887843132,0.002048893366008997,-0.01975228264927864,0.014880867674946785,0.01020528469234705,0.08471960574388504,-0.017407165840268135,0.012150762602686882,-0.01638839580118656,-0.015755269676446915,-0.023874744772911072,0.011146552860736847,0.009465259499847889,0.06550601869821548,-0.0039838762022554874,0.022863682359457016,-0.028669944033026695,0.10226961225271225,0.02825659140944481,0.01819109544157982,0.023160798475146294,0.01173413172364235,-0.024306533858180046,-0.015077602118253708,0.009455461986362934,-0.02558881789445877,-0.03724629431962967,0.09858810901641846,-0.02333071641623974,-0.005563749466091394,0.015309639275074005,0.040205370634794235,-0.07154493778944016,-0.0014252465916797519,-0.03436668962240219,-0.042539145797491074,-0.05526420846581459,0.009978175163269043,0.004792738705873489,-0.08841308206319809,-0.01585550792515278,-0.018411455675959587,0.033756766468286514,-0.0071332454681396484,-0.022163910791277885,-0.02713157795369625,-0.037516262382268906,-0.0032025757245719433,0.0018100024899467826,-0.010539504699409008,-0.039163704961538315,0.023621691390872,0.022298485040664673,-0.0027841473929584026,0.006274557672441006,-0.002439439296722412,-0.046866096556186676,-0.00784775335341692,0.00487093348056078,0.03527326509356499,0.002430901164188981,-0.01955534890294075,0.007795694749802351,0.046387434005737305,-0.0009610261768102646,0.036809004843235016,-0.04982352256774902,-0.007139555644243956,0.03841113671660423,0.05020204186439514,0.05876898393034935,0.0074434177950024605,0.010468542575836182,0.054461520165205,0.04021591693162918,0.009377547539770603,0.05120746046304703,-0.050383079797029495,-0.056826766580343246,0.011535448022186756,0.03681579604744911,0.02954838052392006,-0.026752058416604996,-0.031174233183264732,0.00910822581499815,0.0394904725253582,-0.027167772874236107,0.005920825991779566,0.018489887937903404,-0.009859660640358925,0.052917033433914185,0.014466342516243458,0.06374678760766983,-0.023399507626891136,-0.007859698496758938,-0.026083704084157944,-0.034064725041389465,0.00996321253478527,0.015548153780400753,-0.00915516261011362,0.05009493976831436,-0.0013886846136301756,-0.025305654853582382,0.012130539864301682,-0.03126784786581993,0.007427246309816837,0.05512583628296852,-0.004124732688069344,-0.02534290961921215,0.06182356923818588,-0.022583650425076485,0.08144012093544006,0.0698588490486145,-0.0852443128824234,-0.004444264341145754,0.06388558447360992,0.012889886274933815,0.058719977736473083,0.06366893649101257,-0.0816446840763092,-0.0483834482729435,-0.04162384197115898,-0.09824497997760773,0.005185986403375864,0.0014016010100021958,-0.028929082676768303,0.02513313852250576,0.060967229306697845,0.020605240017175674,-0.03320326656103134,0.022994186729192734,0.021985750645399094,0.0406714528799057,-0.020597994327545166,-0.01118119340389967,-0.061581410467624664,-0.01751578040421009,0.025141902267932892,-0.011709933169186115,0.022586651146411896,0.025461478158831596,-0.022371012717485428,-0.045145343989133835,-0.027758600190281868,0.05951107665896416,0.0005309472908265889,-0.03918328508734703,-0.013976626098155975,-0.023723725229501724,0.004751335829496384,0.037938885390758514,-0.021084904670715332,0.0018600572366267443,0.010435107164084911,-0.025060607120394707,0.05691298469901085,-0.015417516231536865,-0.004639047663658857,-0.0014825433026999235,-0.0012618566397577524,-0.013137513771653175,0.008247839286923409,-0.047161638736724854,-0.06246703118085861,0.013866722583770752,0.007166385650634766,-0.032931841909885406,0.01879226416349411,-0.057445377111434937,0.018843552097678185,0.01707020215690136,-0.029075371101498604,-0.0035284124314785004,-0.009517116472125053,0.05196695402264595,-0.03581220284104347,-0.0009460709406994283,-0.0263641569763422,0.054001905024051666,-0.010422530584037304,0.006830491591244936,-0.023449279367923737,0.053423184901475906,-0.0020105810835957527,0.005462495144456625,-0.014819643460214138,-0.03630470484495163,0.001698710024356842,0.04694344475865364,0.024983536452054977,0.040097009390592575,-0.07453392446041107,0.03422277793288231,0.03155048191547394,-0.021979739889502525,-0.043443117290735245,-0.041009481996297836,-0.003251119749620557,0.00905145425349474,-0.003731159958988428,-0.03415173292160034,0.02720390446484089,0.05374180153012276,0.020415278151631355,-0.029184363782405853,0.042528726160526276,-0.03484390676021576,0.00586841581389308,-0.02444358915090561,-0.005603569094091654,0.0015978210140019655,-0.021116120740771294,0.005930482409894466,0.02675716206431389,-0.00737759517505765,0.06307429075241089,-0.03153131157159805,0.017417538911104202,-0.014916944317519665,-0.022895419970154762,-0.05764758586883545,0.023514514788985252,0.037125591188669205,-0.018518375232815742,-0.03201963007450104,-0.012785977683961391,0.054470282047986984,0.005001007113605738,-0.0032390733249485493,-0.00002198022775701247,0.016195768490433693,-0.015172598883509636,0.04582909494638443,0.005776196718215942,0.00551840104162693,-0.010424710810184479,0.00923259649425745,0.0291999913752079,0.07452517747879028,-0.036869458854198456,-0.013986368663609028,-0.004595283884555101,-0.01974429562687874,-0.005181163549423218,0.00684719393029809,-0.02273642271757126,0.00910005159676075,-0.0011598201235756278,-0.0840042307972908,0.041119534522295,0.03705965727567673,-0.04704887047410011,0.04480147734284401,-0.03452451899647713,-0.009540620259940624,-0.008843387477099895,0.016951628029346466,0.030443577095866203,-0.015468830242753029,-0.04386283457279205,0.006868408992886543,-0.03211585804820061,-0.021144524216651917,-7.059781768116587e-33,0.0013416304718703032,0.014565919525921345,-0.04923491179943085,-0.03778833895921707,0.00046804503654129803,-0.034540366381406784,0.013456414453685284,-0.0643029734492302,-0.0029110205359756947,-0.03850608691573143,-0.029708225280046463,-0.0012886233162134886,0.010349555872380733,-0.040408309549093246,0.014482829719781876,-0.024445747956633568,0.01885576732456684,-0.008236211724579334,0.0012485819170251489,0.047256484627723694,-0.029629701748490334,0.05399784818291664,-0.0096169114112854,-0.007491308730095625,-0.016149042174220085,0.03252657875418663,0.006076467223465443,0.02583390474319458,-0.06682925671339035,0.01499616913497448,0.016738373786211014,-0.049984171986579895,-0.015102292411029339,-0.02380792610347271,-0.0368526391685009,-0.09119348227977753,-0.07260528951883316,-0.024815013632178307,-0.013492247089743614,0.02748127095401287,0.032009296119213104,0.03176798298954964,0.0263183806091547,0.017382586374878883,0.0009526005014777184,-0.020265568047761917,-0.016116656363010406,0.005314032547175884,-0.027483019977808,-0.05919474735856056,0.03826204314827919,0.02411404252052307,0.021932976320385933,0.04291712865233421,-0.004311067517846823,0.05536385625600815,0.0498606376349926,0.14148275554180145,-0.04889708384871483,0.0006846220348961651,-0.08163674175739288,-0.0514654815196991,0.004691309295594692,0.02334262803196907,0.05485540255904198,-0.011108568869531155,0.001080791000276804,0.011186250485479832,-0.021587226539850235,0.021246828138828278,-0.00488873990252614,-0.007838152348995209,-0.006057795137166977,-0.05707255005836487,0.08955281227827072,0.003917358815670013,-0.0538073405623436,-0.003353369887918234,-0.055172502994537354,0.046727415174245834,-0.029789749532938004,0.02007097750902176,-0.019222579896450043,0.01028243638575077,0.029392767697572708,0.013686171732842922,-0.01343628577888012,0.03528973087668419,-0.0009962449548766017,0.031467255204916,-0.05418450012803078,0.027930669486522675,-0.057002369314432144,0.05468768626451492,-0.06636451929807663,-0.02934320457279682,0.028504380956292152,0.003397964406758547,0.008268513716757298,0.005399547051638365,0.02098192647099495,0.022153036668896675,-0.014236857183277607,-0.0250170286744833,0.008831936866044998,0.008238786831498146,0.0019618114456534386,0.033201538026332855,-0.04057195782661438,0.00880152266472578,0.024836409837007523,-0.02449681982398033,-0.04627569392323494,0.022875627502799034,0.03147066384553909,0.01740005798637867,-0.005654702428728342,-0.0017250962555408478,0.054418932646512985,0.03942734748125076,0.022387444972991943,-0.019357888028025627,-0.009812192991375923,0.06088986247777939,0.053071100264787674,-0.006096788682043552,-0.03606126457452774,-0.04199131578207016,-0.008160648867487907,-0.001401258516125381,0.0010038047330453992,0.010176431387662888,3.1356955787487095e-7,-0.0063054380007088184,-0.026763584464788437,-0.048673152923583984,0.09094201028347015,0.018443694338202477,-0.01127653755247593,-0.060669124126434326,-0.015082643367350101,-0.03812645003199577,-0.04745618626475334,0.017300114035606384,0.014402385801076889,0.028932444751262665,0.04392525181174278,-0.01627258025109768,-0.02369639277458191,0.027145305648446083,-0.03975442796945572,-0.054197218269109726,0.011756454594433308,0.07182885706424713,0.029959987848997116,0.05398178845643997,-0.0071465321816504,0.011386120691895485,-0.04762827232480049,0.017142044380307198,0.01512414775788784,0.008835324086248875,-0.027010558173060417,0.06931044906377792,-0.008703455328941345,-0.049252115190029144,0.03513636812567711,0.007375579327344894,0.04471758380532265,-0.034047529101371765,-0.013796369545161724,0.010897532105445862,0.0697583556175232,0.07253661751747131,0.007272237446159124,-0.03479072451591492,-0.004398529417812824,0.05101015046238899,-0.05720113590359688,-0.014656711369752884,0.06455317884683609,0.006822675466537476,0.05058296024799347,0.0017260327003896236,-0.004116756375879049,-0.04238687828183174,-0.033896706998348236,0.02353530004620552,0.0037319629918783903,0.015561513602733612,0.016722919419407845,0.01869099773466587,-0.01656811125576496,-0.021342219784855843,-0.0625285655260086,0.017828118056058884,0.11299417167901993,0.017058750614523888,-0.015132091008126736,-0.02604726515710354,4.418634591928015e-34,0.049071937799453735,-0.020271901041269302,0.01790100894868374,0.0021371350158005953,0.04375550523400307,-0.026484578847885132,-0.04179826378822327,0.0033556711860001087,0.024141667410731316,-0.05925389751791954,-0.02699020877480507]'
SET
  @HasCustomProps_20576e69 = 1
SET
  @HasCustomEvents_20576e69 = 1
SET
  @RequiresData_20576e69 = 1
SET
  @DependencyCount_20576e69 = 2
SET
  @TechnicalDesignVectorEmbeddingModelID_20576e69 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_20576e69 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_20576e69 = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_20576e69,
  @Namespace = @Namespace_20576e69,
  @Name = @Name_20576e69,
  @Version = @Version_20576e69,
  @VersionSequence = @VersionSequence_20576e69,
  @Title = @Title_20576e69,
  @Description = @Description_20576e69,
  @Type = @Type_20576e69,
  @Status = @Status_20576e69,
  @DeveloperName = @DeveloperName_20576e69,
  @DeveloperEmail = @DeveloperEmail_20576e69,
  @DeveloperOrganization = @DeveloperOrganization_20576e69,
  @SourceRegistryID = @SourceRegistryID_20576e69,
  @ReplicatedAt = @ReplicatedAt_20576e69,
  @LastSyncedAt = @LastSyncedAt_20576e69,
  @Specification = @Specification_20576e69,
  @FunctionalRequirements = @FunctionalRequirements_20576e69,
  @TechnicalDesign = @TechnicalDesign_20576e69,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_20576e69,
  @TechnicalDesignVector = @TechnicalDesignVector_20576e69,
  @HasCustomProps = @HasCustomProps_20576e69,
  @HasCustomEvents = @HasCustomEvents_20576e69,
  @RequiresData = @RequiresData_20576e69,
  @DependencyCount = @DependencyCount_20576e69,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_20576e69,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_20576e69,
  @HasRequiredCustomProps = @HasRequiredCustomProps_20576e69;

-- Save MJ: Components (core SP call only)
DECLARE @ID_bafbb7f9 UNIQUEIDENTIFIER,
@Namespace_bafbb7f9 NVARCHAR(MAX),
@Name_bafbb7f9 NVARCHAR(500),
@Version_bafbb7f9 NVARCHAR(50),
@VersionSequence_bafbb7f9 INT,
@Title_bafbb7f9 NVARCHAR(1000),
@Description_bafbb7f9 NVARCHAR(MAX),
@Type_bafbb7f9 NVARCHAR(255),
@Status_bafbb7f9 NVARCHAR(50),
@DeveloperName_bafbb7f9 NVARCHAR(255),
@DeveloperEmail_bafbb7f9 NVARCHAR(255),
@DeveloperOrganization_bafbb7f9 NVARCHAR(255),
@SourceRegistryID_bafbb7f9 UNIQUEIDENTIFIER,
@ReplicatedAt_bafbb7f9 DATETIMEOFFSET,
@LastSyncedAt_bafbb7f9 DATETIMEOFFSET,
@Specification_bafbb7f9 NVARCHAR(MAX),
@FunctionalRequirements_bafbb7f9 NVARCHAR(MAX),
@TechnicalDesign_bafbb7f9 NVARCHAR(MAX),
@FunctionalRequirementsVector_bafbb7f9 NVARCHAR(MAX),
@TechnicalDesignVector_bafbb7f9 NVARCHAR(MAX),
@HasCustomProps_bafbb7f9 BIT,
@HasCustomEvents_bafbb7f9 BIT,
@RequiresData_bafbb7f9 BIT,
@DependencyCount_bafbb7f9 INT,
@TechnicalDesignVectorEmbeddingModelID_bafbb7f9 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_bafbb7f9 NVARCHAR(MAX),
@HasRequiredCustomProps_bafbb7f9 BIT
SET
  @ID_bafbb7f9 = '23408A2B-3295-49A8-B273-1D1091F97833'
SET
  @Namespace_bafbb7f9 = N'Events/Reports'
SET
  @Name_bafbb7f9 = N'SubmissionReviewDashboard'
SET
  @Version_bafbb7f9 = N'1.0.0'
SET
  @VersionSequence_bafbb7f9 = 1
SET
  @Title_bafbb7f9 = N'Submission Review Dashboard'
SET
  @Description_bafbb7f9 = N'Event submission review dashboard showing status distribution, review timeline, and reviewer activity with drill-down to submission details.'
SET
  @Type_bafbb7f9 = N'Dashboard'
SET
  @Status_bafbb7f9 = N'Published'
SET
  @Specification_bafbb7f9 = N'{"name":"SubmissionReviewDashboard","title":"Submission Review Dashboard","type":"dashboard","userExplanation":"Comprehensive submission review dashboard showing status distribution charts, review timeline, and top reviewers list. Demonstrates complex hybrid pattern: uses multiple queries for charts, direct RunView for reviewer stats, and EntityDataGrid for drilling into submissions by status.","functionalRequirements":"## Business Objectives\n- Monitor event submission review process across all statuses\n- Track review activity and timeline trends\n- Identify top-performing reviewers by volume and quality\n- Enable drill-down into submissions by status for detailed review\n- Demonstrate mixing multiple data loading patterns in one component\n\n## Functional Requirements\n- **Status Summary Chart**: Stacked bar or pie chart showing submission counts by status (Pending, Under Review, Accepted, Rejected, etc.)\n- **Review Timeline Chart**: Line chart showing review activity over time (daily or weekly counts)\n- **Top Reviewers Panel**: Display top 10 reviewers with submission count, average score, and review count\n- **KPI Cards**: Show total submissions, average score, unique speakers, and pending count\n- **Click-to-Drill-Down**: When user clicks status segment, show EntityDataGrid with submissions in that status\n- **Multi-Query Coordination**: Load status summary and timeline queries in parallel\n- **RunView for Reference Data**: Load reviewer records via RunView, aggregate client-side for top reviewers list\n- **Mixed Data Sources**: Demonstrate using RunQuery for charts, RunView for aggregation, EntityDataGrid for drill-down\n- **State Management**: Track selected status and coordinate updates across all panels\n- **Conditional Loading**: Only load drill-down grid when status is selected\n- **Clear Selection**: Return to overview when clearing status filter\n- **Loading States**: Show loading indicators for each panel independently\n- **Empty States**: Handle cases with no submissions or no reviews","description":"Event submission review dashboard showing status distribution, review timeline, and reviewer activity with drill-down to submission details.","dataRequirements":{"mode":"hybrid","description":"Uses multiple RunQuery calls for status summary and timeline charts, RunView for top reviewers reference data, and EntityDataGrid for drill-down into submissions by status","queries":[{"name":"Submission Status Summary","categoryPath":"Demo","description":"Status distribution: COUNT(*), COUNT(DISTINCT SpeakerID), AVG(ReviewScore) grouped by SubmissionStatus. Returns 5-8 status categories for stacked bar chart. **Result Order: CASE Status (Accepted→Under Review→Passed Initial→Waitlisted→Rejected→Failed Initial→Analyzing→New)** - Workflow progression order for status comparison.","entityNames":["Submissions","Submission Speakers","Submission Reviews"],"fields":[{"name":"Status","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Submission status (Accepted, Under Review, Rejected, etc.)"},{"name":"SubmissionCount","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of submissions with this status"},{"name":"UniqueSpeakers","sequence":3,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of distinct speakers with submissions in this status"},{"name":"AvgAIScore","sequence":4,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average AI evaluation score for submissions in this status"},{"name":"ReviewCount","sequence":5,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Total number of reviews for submissions in this status"},{"name":"AvgReviewScore","sequence":6,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average overall review score for this status"}],"parameters":[{"name":"EventID","isRequired":false,"type":"string","sampleValue":"12345","description":"Optional filter by specific event ID (UNIQUEIDENTIFIER as string)"},{"name":"Status","isRequired":false,"type":"string","sampleValue":"Under Review","description":"Optional filter by submission status"}]},{"name":"Submission Review Timeline","categoryPath":"Demo","description":"Conditional review activity timeline (executes when status clicked): COUNT(*), AVG(Score) grouped by CAST(ReviewDate AS DATE) for selected status. Returns daily review counts for line chart. **Result Order: Date DESC** - Most recent review activity first for timeline analysis.","entityNames":["Submission Reviews","Submissions"],"fields":[{"name":"Date","sequence":1,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date of review activity"},{"name":"ReviewCount","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of reviews on this date"},{"name":"AvgOverallScore","sequence":3,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average overall score given on this date"},{"name":"AvgRelevanceScore","sequence":4,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average relevance score"},{"name":"AvgQualityScore","sequence":5,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average quality score"},{"name":"AvgExperienceScore","sequence":6,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average speaker experience score"},{"name":"UniqueReviewers","sequence":7,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of distinct reviewers active on this date"}],"parameters":[{"name":"EventID","isRequired":false,"type":"string","sampleValue":"12345","description":"Optional filter by specific event ID (UNIQUEIDENTIFIER as string)"},{"name":"Status","isRequired":false,"type":"string","sampleValue":"Under Review","description":"Optional filter by submission status"},{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"}]}],"entities":[{"name":"Submissions","description":"Event submissions shown in EntityDataGrid when drilling down from status chart","displayFields":["SubmissionTitle","SubmittedAt","Status","EventName","AIEvaluationScore","FinalDecision"],"filterFields":["Status","EventID"],"sortFields":["SubmittedAt","AIEvaluationScore"],"usageContext":"Loaded by EntityDataGrid when user clicks on a status segment in the status summary chart"},{"name":"Submission Reviews","description":"Review records loaded via RunView to calculate top reviewers","displayFields":["ReviewerName","ReviewDate","Rating","SubmissionTitle"],"filterFields":["ReviewDate"],"sortFields":["ReviewDate"],"usageContext":"Loaded via RunView to aggregate reviewer statistics and display top reviewers list"}]},"properties":[{"name":"eventID","type":"string","required":false,"description":"Optional event ID filter (UNIQUEIDENTIFIER as string). If provided, shows only submissions for that specific event.","default":null},{"name":"status","type":"string","required":false,"description":"Optional submission status filter (e.g., ''Pending'', ''Under Review'', ''Accepted'', ''Rejected''). If provided, shows only submissions with that status.","default":null},{"name":"startDate","type":"string","required":false,"description":"Optional start date filter for review timeline (ISO format: ''2024-01-01''). Returns reviews with ReviewDate >= startDate. If null, user can set via date filter UI.","default":null},{"name":"endDate","type":"string","required":false,"description":"Optional end date filter for review timeline (ISO format: ''2024-12-31''). Returns reviews with ReviewDate <= endDate. If null, user can set via date filter UI.","default":null},{"name":"title","type":"string","required":false,"description":"Custom dashboard title. If not provided, uses default title.","default":"Submission Review Dashboard"}],"events":[{"name":"onSegmentClick","description":"Fired when user clicks a status segment in the chart or table row","payload":{"status":"string - The submission status that was clicked (e.g., ''Pending'', ''Under Review'', ''Accepted'')","value":"number - Number of submissions with this status","recordCount":"number - Number of records in the clicked segment"},"example":"{ status: ''Under Review'', value: 42, recordCount: 42 }"},{"name":"onRecordClick","description":"Fired when user clicks a row in the EntityDataGrid (submissions)","payload":{"submissionId":"string - The ID of the clicked submission record","submissionTitle":"string - Title of the submission","submittedAt":"string - Submission date (ISO format)","status":"string - Current submission status","eventName":"string - Name of the event","aiScore":"number - AI evaluation score","finalDecision":"string - Final decision on submission"},"example":"{ submissionId: ''abc-123'', submissionTitle: ''AI in Healthcare'', submittedAt: ''2024-03-15T10:30:00Z'', status: ''Under Review'', eventName: ''TechConf 2024'', aiScore: 8.5, finalDecision: ''Pending'' }"}],"dependencies":[{"name":"SimpleChart","location":"registry","namespace":"Generic/UI/Chart","version":"^1.0.0"},{"name":"EntityDataGrid","location":"registry","namespace":"Generic/UI/Table","version":"^1.0.0"}],"location":"embedded","technicalDesign":"## Component Architecture\n\n### Data Flow\n1. **Initial Load**: Executes two RunQuery calls in parallel\n   - ''Submission Status Summary'' for status distribution\n   - ''Submission Review Timeline'' for timeline chart\n2. **Chart Rendering**: Displays two SimpleCharts (status doughnut + timeline line)\n3. **User Interaction**: User clicks status chart segment OR table row\n4. **Drill-Down**: Component sets selectedSegment state and triggers EntityDataGrid\n5. **Grid Filtering**: EntityDataGrid loads Submissions filtered by status and eventID\n6. **Date Consistency**: Date filters applied to timeline query\n\n### State Management\n- `statusData`: Array of status summary results (SubmissionCount, AvgScore, etc.)\n- `timelineData`: Array of timeline results (Date, ReviewCount, etc.)\n- `loading`: Boolean for async operation status\n- `error`: String for error messages\n- `selectedSegment`: Object with label/value/records from clicked status (null = dashboard view)\n- `internalStartDate/EndDate`: User-controlled date filters (only when props are null)\n\n### Conditional UI Controls\n**Date Filter Panel**: Only rendered when both `startDate` and `endDate` props are null. Allows user to set date range filters with:\n- Start Date input (HTML date picker)\n- End Date input (HTML date picker)\n- Apply Filters button (requires both dates)\n- Clear Dates button (shown when filters applied)\n\n### Filter Coordination\n**effectiveStartDate/endDate**: Computed values that prioritize props over internal state\n- Used in RunQuery Parameters for timeline query\n- Only affects timeline chart, not status summary\n\n### Multi-Chart Dashboard\n**Overview Mode** (no selection):\n1. KPI Cards: Total submissions, avg score, unique speakers, pending count\n2. Status Doughnut Chart: Clickable status segments\n3. Timeline Line Chart: Review activity over time\n4. Status Breakdown Table: Clickable rows for drill-down\n5. Dashboard stays visible during drill-down\n\n**Drill-Down Mode** (status selected):\n1. Dashboard remains visible above\n2. EntityDataGrid renders BELOW with submissions filtered by status\n3. Clear Selection button returns to overview focus\n\n### EntityDataGrid Integration\n**extraFilter Construction**:\n1. Status filter: `Status=''{selectedSegment.label}''`\n2. Event filter (when provided): `EventID=''{eventID}''`\n3. Filters combined with AND operator\n\n### Event System\n**onSegmentClick**: Fires when status chart/table clicked, provides:\n- status, value, recordCount\n\n**onRecordClick**: Fires when EntityDataGrid row clicked, provides:\n- submissionId, submissionTitle, submittedAt, status, eventName, aiScore, finalDecision\n\n### Educational Value\nDemonstrates:\n1. **Multiple Charts**: Status distribution + timeline in single dashboard\n2. **Parallel Queries**: Load multiple datasets concurrently\n3. **KPI Calculations**: Client-side aggregation from status data\n4. **Multiple Interaction Points**: Chart click, table row click\n5. **Dashboard Persistence**: Charts stay visible during drill-down\n6. **Mixed Visualizations**: Doughnut chart + line chart + table + grid","code":"function SubmissionReviewDashboard({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  eventID = null,\n  status = null,\n  startDate = null,\n  endDate = null,\n  title = ''Submission Review Dashboard'',\n  onSegmentClick = null,\n  onRecordClick = null\n}) {\n  // State management\n  const [rawSubmissions, setRawSubmissions] = useState(null); // Raw submission records from query\n  const [statusData, setStatusData] = useState(null); // Aggregated by status for chart\n  const [timelineData, setTimelineData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedSegment, setSelectedSegment] = useState(null);\n\n  // Internal filter state (only used when external props are null)\n  const [pendingStartDate, setPendingStartDate] = useState(null);\n  const [pendingEndDate, setPendingEndDate] = useState(null);\n  const [appliedStartDate, setAppliedStartDate] = useState(null);\n  const [appliedEndDate, setAppliedEndDate] = useState(null);\n\n  // Determine effective filter values\n  const effectiveStartDate = startDate || appliedStartDate;\n  const effectiveEndDate = endDate || appliedEndDate;\n  const showDateFilters = startDate === null && endDate === null;\n\n  // Get components from registry\n  const { SimpleChart, EntityDataGrid } = components;\n\n  // Apply date filters\n  const handleApplyFilters = () => {\n    setAppliedStartDate(pendingStartDate);\n    setAppliedEndDate(pendingEndDate);\n  };\n\n  // Clear date filters\n  const handleClearDates = () => {\n    setPendingStartDate(null);\n    setPendingEndDate(null);\n    setAppliedStartDate(null);\n    setAppliedEndDate(null);\n  };\n\n  // Aggregate raw submission records by status (client-side)\n  // Follows industry best practice: SQL returns raw data, JavaScript aggregates\n  const aggregateSubmissionsByStatus = useCallback((rawSubmissions) => {\n    const statusGroups = {};\n\n    rawSubmissions.forEach(submission => {\n      const status = submission.Status || ''Unknown'';\n\n      // Initialize status group if not exists\n      if (!statusGroups[status]) {\n        statusGroups[status] = {\n          Status: status,\n          submissions: [],\n          totalSpeakerCount: 0,\n          totalReviewCount: 0,\n          reviewScores: []\n        };\n      }\n\n      // Add submission to group\n      statusGroups[status].submissions.push(submission);\n\n      // Sum speaker counts (each submission contributes its speaker count)\n      statusGroups[status].totalSpeakerCount += submission.SpeakerCount || 0;\n\n      // Track review metrics\n      statusGroups[status].totalReviewCount += submission.ReviewCount || 0;\n      if (submission.AvgReviewScore != null) {\n        // Weight by review count for accurate averaging\n        for (let i = 0; i < (submission.ReviewCount || 0); i++) {\n          statusGroups[status].reviewScores.push(submission.AvgReviewScore);\n        }\n      }\n    });\n\n    // Convert to array format expected by chart\n    const aggregated = Object.values(statusGroups).map(group => ({\n      Status: group.Status,\n      SubmissionCount: group.submissions.length,\n      UniqueSpeakersPerStatus: group.totalSpeakerCount,\n      ReviewCount: group.totalReviewCount,\n      AvgReviewScore: group.reviewScores.length > 0\n        ? group.reviewScores.reduce((sum, score) => sum + score, 0) / group.reviewScores.length\n        : null\n    }));\n\n    // Sort by status workflow order\n    const statusOrder = {\n      ''Accepted'': 1,\n      ''Under Review'': 2,\n      ''Passed Initial'': 3,\n      ''Waitlisted'': 4,\n      ''Rejected'': 5,\n      ''Failed Initial'': 6,\n      ''Analyzing'': 7,\n      ''New'': 8\n    };\n\n    return aggregated.sort((a, b) => {\n      const orderA = statusOrder[a.Status] || 9;\n      const orderB = statusOrder[b.Status] || 9;\n      return orderA - orderB;\n    });\n  }, []);\n\n  // Load data on mount or when parameters change\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      setError(null);\n      setSelectedSegment(null);\n\n      try {\n        // Execute both queries concurrently (using effective dates)\n        const [statusResult, timelineResult] = await Promise.all([\n          utilities.rq.RunQuery({\n            QueryName: ''Submission Status Summary'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              EventID: eventID,\n              Status: status\n            }\n          }),\n          utilities.rq.RunQuery({\n            QueryName: ''Submission Review Timeline'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              EventID: eventID,\n              Status: status,\n              StartDate: effectiveStartDate,\n              EndDate: effectiveEndDate\n            }\n          })\n        ]);\n\n        if (statusResult && statusResult.Success && statusResult.Results) {\n          // Query now returns raw submission records - aggregate client-side by status\n          const submissions = statusResult.Results;\n          setRawSubmissions(submissions); // Store raw data for KPI calculations\n          const aggregatedByStatus = aggregateSubmissionsByStatus(submissions);\n          setStatusData(aggregatedByStatus);\n        } else {\n          console.error(''Failed to load status data:'', statusResult?.ErrorMessage);\n        }\n\n        if (timelineResult && timelineResult.Success && timelineResult.Results) {\n          setTimelineData(timelineResult.Results);\n        } else {\n          console.error(''Failed to load timeline data:'', timelineResult?.ErrorMessage);\n        }\n\n        // Set error only if both queries failed\n        if (!statusResult?.Success && !timelineResult?.Success) {\n          setError(''Failed to load dashboard data'');\n        }\n      } catch (err) {\n        console.error(''Error loading dashboard data:'', err);\n        setError(err.message || ''An unexpected error occurred'');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [eventID, status, effectiveStartDate, effectiveEndDate, utilities]);\n\n  // Handle status segment click - SimpleChart passes clickData with label, value, records array\n  const handleStatusClick = useCallback((clickData) => {\n    console.log(''Status segment clicked:'', clickData);\n\n    // Set selected segment (using the full clickData structure from SimpleChart)\n    setSelectedSegment(clickData);\n\n    // Fire external event if provided\n    if (onSegmentClick) {\n      onSegmentClick({\n        status: clickData.label,\n        value: clickData.value,\n        recordCount: clickData.records?.length || 0\n      });\n    }\n  }, [onSegmentClick]);\n\n  // Handle EntityDataGrid row click\n  const handleRecordClick = useCallback((event) => {\n    if (onRecordClick) {\n      onRecordClick({\n        submissionId: event.record?.ID,\n        submissionTitle: event.record?.SubmissionTitle,\n        submittedAt: event.record?.SubmittedAt,\n        status: event.record?.Status,\n        eventName: event.record?.EventName,\n        aiScore: event.record?.AIEvaluationScore,\n        finalDecision: event.record?.FinalDecision\n      });\n    }\n  }, [onRecordClick]);\n\n  // Clear selection\n  const handleClearSelection = useCallback(() => {\n    setSelectedSegment(null);\n  }, []);\n\n  // Build EntityDataGrid extraFilter - memoized to prevent re-renders\n  const buildEntityFilter = useCallback(() => {\n    const filters = [];\n\n    // Filter by selected status\n    if (selectedSegment) {\n      filters.push(`Status=''$' + '{selectedSegment.label}''`);\n    }\n\n    // Add event filter if provided\n    if (eventID) {\n      filters.push(`EventID=''$' + '{eventID}''`);\n    }\n\n    return filters.length > 0 ? filters.join('' AND '') : undefined;\n  }, [selectedSegment, eventID]);\n\n  // Calculate KPIs from raw and aggregated data - memoized to prevent render loops\n  const kpis = useMemo(() => {\n    if (!rawSubmissions || rawSubmissions.length === 0 || !statusData || statusData.length === 0) {\n      return {\n        totalSubmissions: 0,\n        avgScore: 0,\n        uniqueSpeakers: 0,\n        pendingCount: 0\n      };\n    }\n\n    // Calculate from raw submissions (count of records)\n    const totalSubmissions = rawSubmissions.length;\n\n    // Calculate total unique speakers by summing SpeakerCount\n    // Note: This is an approximation - it assumes each submission has unique speakers\n    // A more accurate count would require speaker IDs, but for 6 submissions this is acceptable\n    const uniqueSpeakers = rawSubmissions.reduce((sum, sub) => sum + (sub.SpeakerCount || 0), 0);\n\n    // Use aggregated data for review metrics (already weighted properly)\n    const totalReviews = statusData.reduce((sum, row) => sum + (row.ReviewCount || 0), 0);\n    const totalScore = statusData.reduce((sum, row) => sum + ((row.AvgReviewScore || 0) * (row.ReviewCount || 0)), 0);\n    const avgScore = totalReviews > 0 ? totalScore / totalReviews : 0;\n\n    const pendingCount = statusData.find(row => row.Status === ''Pending'')?.SubmissionCount || 0;\n\n    return {\n      totalSubmissions,\n      avgScore,\n      uniqueSpeakers,\n      pendingCount\n    };\n  }, [rawSubmissions, statusData]);\n\n  // Render component - keep filters visible at all times\n  return (\n    <div style={{ padding: ''16px'', width: ''100%'', minWidth: ''800px'', boxSizing: ''border-box'' }}>\n      {/* Date filter controls (only shown when dates not provided externally) - ALWAYS VISIBLE */}\n      {showDateFilters && (\n        <div style={{\n          marginBottom: ''16px'',\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          display: ''flex'',\n          gap: ''16px'',\n          alignItems: ''center'',\n          flexWrap: ''wrap'',\n          width: ''100%'',\n          boxSizing: ''border-box''\n        }}>\n          <div style={{ fontWeight: ''bold'' }}>Date Filters:</div>\n          <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n            <label style={{ fontSize: ''14px'' }}>Start Date:</label>\n            <input\n              type=\"date\"\n              value={pendingStartDate || ''''}\n              onChange={(e) => setPendingStartDate(e.target.value || null)}\n              style={{\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n          <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n            <label style={{ fontSize: ''14px'' }}>End Date:</label>\n            <input\n              type=\"date\"\n              value={pendingEndDate || ''''}\n              onChange={(e) => setPendingEndDate(e.target.value || null)}\n              style={{\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n          <button\n            onClick={handleApplyFilters}\n            disabled={!pendingStartDate || !pendingEndDate}\n            style={{\n              padding: ''6px 16px'',\n              backgroundColor: (!pendingStartDate || !pendingEndDate) ? ''#d9d9d9'' : ''#1890ff'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''4px'',\n              cursor: (!pendingStartDate || !pendingEndDate) ? ''not-allowed'' : ''pointer'',\n              fontSize: ''14px'',\n              fontWeight: ''bold''\n            }}\n          >\n            Apply Filters\n          </button>\n          {(appliedStartDate || appliedEndDate) && (\n            <button\n              onClick={handleClearDates}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: ''#ff4d4f'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              Clear Dates\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* Loading state */}\n      {loading && (\n        <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n          <div>Loading dashboard data...</div>\n        </div>\n      )}\n\n      {/* Error state */}\n      {!loading && error && (\n        <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n          <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n          <div style={{ marginTop: ''8px'' }}>{error}</div>\n        </div>\n      )}\n\n      {/* Empty state */}\n      {!loading && !error && (!statusData || statusData.length === 0) && (!timelineData || timelineData.length === 0) && (\n        <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n          <div style={{ fontSize: ''16px'' }}>No Data Available</div>\n          <div style={{ marginTop: ''8px'' }}>\n            No submission data found matching the specified criteria\n          </div>\n        </div>\n      )}\n\n      {/* Dashboard overview - always show when data is loaded */}\n      {!loading && !error && ((statusData && statusData.length > 0) || (timelineData && timelineData.length > 0)) && (\n        <div>\n          {/* KPI Cards */}\n          <div style={{\n            display: ''grid'',\n            gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'',\n            gap: ''16px'',\n            marginBottom: ''24px''\n          }}>\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Total Submissions\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n                {kpis.totalSubmissions.toLocaleString()}\n              </div>\n            </div>\n\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Average Score\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n                {kpis.avgScore.toFixed(2)}\n              </div>\n            </div>\n\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Unique Speakers\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n                {kpis.uniqueSpeakers.toLocaleString()}\n              </div>\n            </div>\n\n            <div style={{\n              padding: ''16px'',\n              backgroundColor: ''#f5f5f5'',\n              borderRadius: ''4px'',\n              textAlign: ''center''\n            }}>\n              <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n                Pending Review\n              </div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#722ed1'' }}>\n                {kpis.pendingCount.toLocaleString()}\n              </div>\n            </div>\n          </div>\n\n          {/* Charts Grid */}\n          <div style={{\n            display: ''grid'',\n            gridTemplateColumns: ''1fr 1fr'',\n            gap: ''16px''\n          }}>\n            {/* Status summary chart */}\n            {statusData && statusData.length > 0 && (\n              <div style={{\n                padding: ''16px'',\n                backgroundColor: ''#f9f9f9'',\n                borderRadius: ''4px'',\n                minHeight: ''400px''\n              }}>\n                <SimpleChart\n                  entityName=\"Submissions\"\n                  data={statusData}\n                  chartType=\"doughnut\"\n                  groupBy=\"Status\"\n                  valueField=\"SubmissionCount\"\n                  aggregateMethod=\"sum\"\n                  title=\"Submissions by Status\"\n                  showLegend={true}\n                  onDataPointClick={handleStatusClick}\n                  utilities={utilities}\n                  styles={styles}\n                  components={components}\n                />\n              </div>\n            )}\n\n            {/* Review timeline chart */}\n            {timelineData && timelineData.length > 0 && (\n              <div style={{\n                padding: ''16px'',\n                backgroundColor: ''#f9f9f9'',\n                borderRadius: ''4px'',\n                minHeight: ''400px''\n              }}>\n                <SimpleChart\n                  entityName=\"Submission Reviews\"\n                  data={timelineData}\n                  chartType=\"line\"\n                  groupBy=\"Date\"\n                  valueField=\"ReviewCount\"\n                  aggregateMethod=\"sum\"\n                  sortBy={undefined}\n                  title=\"Review Activity Over Time\"\n                  showLegend={false}\n                  utilities={utilities}\n                  styles={styles}\n                  components={components}\n                />\n              </div>\n            )}\n          </div>\n\n          {/* Status breakdown table */}\n          {statusData && statusData.length > 0 && (\n            <div style={{\n              marginTop: ''24px'',\n              padding: ''16px'',\n              backgroundColor: ''#f9f9f9'',\n              borderRadius: ''4px''\n            }}>\n              <h3 style={{ margin: ''0 0 16px 0'' }}>Status Breakdown</h3>\n              <table style={{\n                width: ''100%'',\n                borderCollapse: ''collapse''\n              }}>\n                <thead>\n                  <tr style={{ backgroundColor: ''#e6e6e6'' }}>\n                    <th style={{ padding: ''12px'', textAlign: ''left'', borderBottom: ''2px solid #d9d9d9'' }}>Status</th>\n                    <th style={{ padding: ''12px'', textAlign: ''right'', borderBottom: ''2px solid #d9d9d9'' }}>Submissions</th>\n                    <th style={{ padding: ''12px'', textAlign: ''right'', borderBottom: ''2px solid #d9d9d9'' }}>Speakers</th>\n                    <th style={{ padding: ''12px'', textAlign: ''right'', borderBottom: ''2px solid #d9d9d9'' }}>Reviews</th>\n                    <th style={{ padding: ''12px'', textAlign: ''right'', borderBottom: ''2px solid #d9d9d9'' }}>Avg Score</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {statusData.map((row, index) => {\n                    const isEven = index % 2 === 0;\n\n                    return (\n                      <tr\n                        key={row.Status}\n                        onClick={() => handleStatusClick({ label: row.Status, value: row.SubmissionCount, records: [] })}\n                        style={{\n                          cursor: ''pointer'',\n                          backgroundColor: isEven ? ''white'' : ''#f9f9f9''\n                        }}\n                        onMouseEnter={(e) => { e.currentTarget.style.backgroundColor = ''#e6f7ff''; }}\n                        onMouseLeave={(e) => { e.currentTarget.style.backgroundColor = isEven ? ''white'' : ''#f9f9f9''; }}\n                      >\n                        <td style={{ padding: ''12px'', borderBottom: ''1px solid #d9d9d9'' }}>{row.Status}</td>\n                        <td style={{ padding: ''12px'', textAlign: ''right'', borderBottom: ''1px solid #d9d9d9'' }}>{(row.SubmissionCount || 0).toLocaleString()}</td>\n                        <td style={{ padding: ''12px'', textAlign: ''right'', borderBottom: ''1px solid #d9d9d9'' }}>{(row.UniqueSpeakersPerStatus || 0).toLocaleString()}</td>\n                        <td style={{ padding: ''12px'', textAlign: ''right'', borderBottom: ''1px solid #d9d9d9'' }}>{(row.ReviewCount || 0).toLocaleString()}</td>\n                        <td style={{ padding: ''12px'', textAlign: ''right'', borderBottom: ''1px solid #d9d9d9'' }}>{(row.AvgReviewScore || 0).toFixed(2)}</td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Drill-down section when status is selected - renders BELOW dashboard */}\n      {selectedSegment && (\n        <div style={{ marginTop: ''32px'' }}>\n          {/* Header with clear selection button */}\n          <div style={{\n            marginBottom: ''16px'',\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            padding: ''12px 16px'',\n            backgroundColor: ''#e6f7ff'',\n            borderRadius: ''4px'',\n            border: ''1px solid #91d5ff''\n          }}>\n            <div style={{ fontSize: ''16px'', fontWeight: ''bold'', color: ''#0050b3'' }}>\n              Submissions with Status: {selectedSegment.label}\n            </div>\n            <button\n              onClick={handleClearSelection}\n              style={{\n                padding: ''6px 16px'',\n                backgroundColor: ''#1890ff'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px'',\n                fontWeight: ''500''\n              }}\n            >\n              Clear Selection\n            </button>\n          </div>\n\n          {/* EntityDataGrid */}\n          <EntityDataGrid\n            entityName=\"Submissions\"\n            extraFilter={buildEntityFilter()}\n            fields={[''SubmissionTitle'', ''SubmittedAt'', ''Status'', ''EventName'', ''AIEvaluationScore'', ''FinalDecision'']}\n            orderBy=\"SubmittedAt DESC\"\n            pageSize={20}\n            maxCachedRows={100}\n            enablePageCache={true}\n            showPageSizeChanger={true}\n            enableSorting={true}\n            enableFiltering={true}\n            showRefreshButton={true}\n            onRowClick={handleRecordClick}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage (no filters)\n<SubmissionReviewDashboard\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// Filtered by specific event\n<SubmissionReviewDashboard\n  eventID=\"12345-abcde-67890\"\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// With date filters for timeline\n<SubmissionReviewDashboard\n  startDate=\"2024-01-01\"\n  endDate=\"2024-12-31\"\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// With event handlers and custom title\n<SubmissionReviewDashboard\n  title=\"Conference Submission Dashboard\"\n  eventID=\"12345-abcde-67890\"\n  onSegmentClick={(event) => {\n    console.log(`Status $' + '{event.status} clicked: $' + '{event.value} submissions`);\n  }}\n  onRecordClick={(event) => {\n    console.log(`Submission $' + '{event.submissionTitle} clicked`);\n    // Navigate to submission detail page\n    router.push(`/submissions/$' + '{event.submissionId}`);\n  }}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// Let user control date filters (no date props provided)\n<SubmissionReviewDashboard\n  title=\"Submission Review Analytics\"\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>"}'
SET
  @FunctionalRequirements_bafbb7f9 = N'## Business Objectives
- Monitor event submission review process across all statuses
- Track review activity and timeline trends
- Identify top-performing reviewers by volume and quality
- Enable drill-down into submissions by status for detailed review
- Demonstrate mixing multiple data loading patterns in one component

## Functional Requirements
- **Status Summary Chart**: Stacked bar or pie chart showing submission counts by status (Pending, Under Review, Accepted, Rejected, etc.)
- **Review Timeline Chart**: Line chart showing review activity over time (daily or weekly counts)
- **Top Reviewers Panel**: Display top 10 reviewers with submission count, average score, and review count
- **KPI Cards**: Show total submissions, average score, unique speakers, and pending count
- **Click-to-Drill-Down**: When user clicks status segment, show EntityDataGrid with submissions in that status
- **Multi-Query Coordination**: Load status summary and timeline queries in parallel
- **RunView for Reference Data**: Load reviewer records via RunView, aggregate client-side for top reviewers list
- **Mixed Data Sources**: Demonstrate using RunQuery for charts, RunView for aggregation, EntityDataGrid for drill-down
- **State Management**: Track selected status and coordinate updates across all panels
- **Conditional Loading**: Only load drill-down grid when status is selected
- **Clear Selection**: Return to overview when clearing status filter
- **Loading States**: Show loading indicators for each panel independently
- **Empty States**: Handle cases with no submissions or no reviews'
SET
  @TechnicalDesign_bafbb7f9 = N'## Component Architecture

### Data Flow
1. **Initial Load**: Executes two RunQuery calls in parallel
   - ''Submission Status Summary'' for status distribution
   - ''Submission Review Timeline'' for timeline chart
2. **Chart Rendering**: Displays two SimpleCharts (status doughnut + timeline line)
3. **User Interaction**: User clicks status chart segment OR table row
4. **Drill-Down**: Component sets selectedSegment state and triggers EntityDataGrid
5. **Grid Filtering**: EntityDataGrid loads Submissions filtered by status and eventID
6. **Date Consistency**: Date filters applied to timeline query

### State Management
- `statusData`: Array of status summary results (SubmissionCount, AvgScore, etc.)
- `timelineData`: Array of timeline results (Date, ReviewCount, etc.)
- `loading`: Boolean for async operation status
- `error`: String for error messages
- `selectedSegment`: Object with label/value/records from clicked status (null = dashboard view)
- `internalStartDate/EndDate`: User-controlled date filters (only when props are null)

### Conditional UI Controls
**Date Filter Panel**: Only rendered when both `startDate` and `endDate` props are null. Allows user to set date range filters with:
- Start Date input (HTML date picker)
- End Date input (HTML date picker)
- Apply Filters button (requires both dates)
- Clear Dates button (shown when filters applied)

### Filter Coordination
**effectiveStartDate/endDate**: Computed values that prioritize props over internal state
- Used in RunQuery Parameters for timeline query
- Only affects timeline chart, not status summary

### Multi-Chart Dashboard
**Overview Mode** (no selection):
1. KPI Cards: Total submissions, avg score, unique speakers, pending count
2. Status Doughnut Chart: Clickable status segments
3. Timeline Line Chart: Review activity over time
4. Status Breakdown Table: Clickable rows for drill-down
5. Dashboard stays visible during drill-down

**Drill-Down Mode** (status selected):
1. Dashboard remains visible above
2. EntityDataGrid renders BELOW with submissions filtered by status
3. Clear Selection button returns to overview focus

### EntityDataGrid Integration
**extraFilter Construction**:
1. Status filter: `Status=''{selectedSegment.label}''`
2. Event filter (when provided): `EventID=''{eventID}''`
3. Filters combined with AND operator

### Event System
**onSegmentClick**: Fires when status chart/table clicked, provides:
- status, value, recordCount

**onRecordClick**: Fires when EntityDataGrid row clicked, provides:
- submissionId, submissionTitle, submittedAt, status, eventName, aiScore, finalDecision

### Educational Value
Demonstrates:
1. **Multiple Charts**: Status distribution + timeline in single dashboard
2. **Parallel Queries**: Load multiple datasets concurrently
3. **KPI Calculations**: Client-side aggregation from status data
4. **Multiple Interaction Points**: Chart click, table row click
5. **Dashboard Persistence**: Charts stay visible during drill-down
6. **Mixed Visualizations**: Doughnut chart + line chart + table + grid'
SET
  @FunctionalRequirementsVector_bafbb7f9 = N'[0.003283001482486725,0.009206763468682766,-0.033050715923309326,-0.0785890445113182,0.002271804492920637,-0.009092837572097778,-0.012617846950888634,0.041333362460136414,-0.06791417300701141,0.011111005209386349,-0.05713890865445137,-0.0042479694820940495,0.032162927091121674,0.09810978919267654,-0.03866593539714813,-0.030648477375507355,-0.0322260744869709,0.018138254061341286,0.03017134591937065,0.0314498208463192,0.025182684883475304,-0.011519055813550949,0.003839102340862155,-0.0037900321185588837,-0.0049987598322331905,-0.004972672089934349,-0.04790711775422096,0.025399217382073402,0.01718655414879322,-0.10582324117422104,-0.01716475933790207,0.056037917733192444,-0.042095281183719635,0.007361359894275665,0.0000021649145764968125,0.0014106954913586378,-0.015572571195662022,0.017137812450528145,-0.002681910526007414,0.03116847574710846,0.07617826759815216,-0.10638130456209183,0.03094315528869629,-0.0020249115768820047,0.022873641923069954,-0.11284199357032776,-0.06762077659368515,0.04260881245136261,0.021087419241666794,-0.05744462087750435,0.0013290896313264966,0.03141072764992714,-0.05675306171178818,-0.03961911052465439,-0.037540748715400696,-0.02398053929209709,-0.008219926618039608,0.039578571915626526,0.10360646992921829,-0.041743531823158264,-0.03165647014975548,-0.042076222598552704,0.01442483440041542,-0.06829145550727844,0.007804406341165304,-0.005950029473751783,0.06888363510370255,-0.00378767610527575,-0.0060086301527917385,0.031105969101190567,0.12076903879642487,-0.015653271228075027,-0.011400701478123665,-0.01862509734928608,-0.01029063668102026,-0.008354656398296356,-0.021470503881573677,0.020647671073675156,0.005474048666656017,0.02391551062464714,-0.036682914942502975,0.04539711773395538,-0.038670968264341354,-0.05037333816289902,0.02558702416718006,-0.06623223423957825,0.012023343704640865,-0.040002427995204926,-0.009451141580939293,0.0438210628926754,0.13123203814029694,-0.022118184715509415,0.02551201917231083,-0.021952055394649506,-0.08461833000183105,-0.018292095512151718,0.03879925236105919,-0.046038784086704254,0.0421224869787693,-0.005494208540767431,0.055257417261600494,0.010523867793381214,0.06491267681121826,0.06392993032932281,0.08158668875694275,-0.004944969434291124,0.031665101647377014,-0.04374012351036072,-0.05362263694405556,-0.010373908095061779,-0.03482465445995331,0.02377905137836933,0.04125770553946495,0.018509387969970703,-0.03683832287788391,0.00791217666119337,-0.054965320974588394,0.0027031246572732925,-0.03361146152019501,0.012583826668560505,0.13207145035266876,0.012979376129806042,-0.022376464679837227,0.08484218269586563,0.021775323897600174,0.0612194798886776,0.0015122578479349613,-0.0317145474255085,-0.027485255151987076,0.017456555739045143,-0.03121762163937092,-0.025182809680700302,0.022244425490498543,0.0005389859434217215,-0.011065173894166946,-0.053673893213272095,0.05864480137825012,0.02421804890036583,-0.005575463641434908,-0.009985517710447311,-0.022849945351481438,-0.017567025497555733,-0.06962230056524277,0.029541516676545143,0.018685180693864822,-0.031026780605316162,-0.000916553835850209,0.04480242356657982,-0.008590796031057835,0.008854732848703861,0.018997184932231903,-0.002054571872577071,-0.014253929257392883,0.028800198808312416,-0.047160252928733826,0.014299251139163971,0.002090990077704191,0.0278890710324049,0.0028460787143558264,0.02262069843709469,-0.01569555327296257,-0.00505102938041091,0.03538607805967331,-0.018122736364603043,-0.03222726657986641,0.04345925152301788,-0.08768558502197266,-0.006797880865633488,-0.048176005482673645,-0.06047049164772034,0.00450896518304944,-0.046294063329696655,0.0063245645724236965,0.05753280222415924,0.05296679958701134,-0.03456166759133339,0.07380206137895584,-0.05154310166835785,-0.03889843076467514,-0.011811326257884502,-0.007624494377523661,-0.049052733927965164,0.02051025815308094,0.03130020946264267,0.06430603563785553,-0.02496652491390705,-0.012522408738732338,-0.020768441259860992,0.0016716954996809363,0.0020659761503338814,-0.011631101369857788,0.04231598600745201,-0.030701272189617157,0.013567028567194939,0.01164596900343895,0.02459457702934742,-0.007267809472978115,-0.06576894223690033,0.06253688037395477,0.015824774280190468,0.009766976349055767,-0.0121939517557621,-0.02425691857933998,0.068055659532547,0.01390741765499115,0.003958818502724171,-0.017270678654313087,0.030188821256160736,-0.028404004871845245,-0.010097863152623177,0.03612175211310387,-0.004862775094807148,-0.04525994881987572,0.04862617701292038,-0.043736912310123444,0.06150512397289276,0.02865413762629032,-0.0076944888569414616,-0.05712196230888367,0.04709243401885033,-0.054158639162778854,0.0049054366536438465,-0.074127696454525,-0.0038529220037162304,0.1379076987504959,0.05060248076915741,0.051777809858322144,-0.025012563914060593,0.08169741183519363,0.02761709876358509,-0.03979771211743355,-0.005813916213810444,0.06621334701776505,0.04948752745985985,0.00981153268367052,0.05190122500061989,0.04253493249416351,0.03719756379723549,-0.02611648663878441,0.07359986007213593,0.017568692564964294,-0.037915896624326706,-0.01389909628778696,-0.03947991505265236,0.002629038179293275,0.012273965403437614,-0.027452033013105392,0.011659023351967335,-0.018645405769348145,0.004812773782759905,-0.006971031427383423,0.03277389332652092,0.002119310898706317,0.006253038067370653,0.011084305122494698,-0.0039008769672363997,-0.07836355268955231,-0.047183163464069366,-0.010771493427455425,0.025640759617090225,0.004648901522159576,-0.0033524842001497746,-0.01786104403436184,-0.03372151404619217,0.032021645456552505,-0.022840701043605804,0.04151519015431404,-0.07545112073421478,-0.005252928007394075,0.012385598383843899,0.008232980035245419,0.04850897565484047,0.002131002489477396,-0.006264744326472282,-0.012815939262509346,0.047482360154390335,-0.08972052484750748,0.04763338714838028,-0.015308767557144165,-0.054815586656332016,0.008894350379705429,-0.003704673610627651,0.00007261451537488028,0.02212453819811344,-0.028487101197242737,0.006102154031395912,0.050805024802684784,-0.057627227157354355,0.012023281306028366,-0.02224220335483551,0.021256430074572563,-0.014663523994386196,0.016193624585866928,-0.028944339603185654,-0.012022679671645164,0.03418911248445511,0.021404171362519264,0.03029199130833149,-0.04311521351337433,0.04328979551792145,-0.005908512976020575,-0.038574427366256714,-0.001509269350208342,0.02371218055486679,0.014767893590033054,0.06245569884777069,0.029665132984519005,-0.0046565779484808445,0.021102560684084892,0.027166809886693954,0.030069923028349876,0.005970711819827557,0.010027680546045303,-0.027372008189558983,-0.022287633270025253,0.004726780578494072,0.031401168555021286,-0.043365586549043655,-0.017295295372605324,0.05775533616542816,0.01301119476556778,0.02715388499200344,0.008137787692248821,0.004629227798432112,-0.03154539689421654,-0.03755609691143036,-0.024939386174082756,-0.029982343316078186,0.01192029844969511,-0.021330146118998528,0.0035303751938045025,-0.06589560210704803,0.0339333675801754,0.04491215944290161,-0.008422113955020905,0.0006752069457434118,-0.03851954638957977,-0.041050516068935394,-0.0270074475556612,-0.023082980886101723,-0.009620915167033672,-0.015646135434508324,0.0076307072304189205,0.07980827987194061,0.0086562754586339,-0.013480685651302338,-0.0029620479326695204,0.020388998091220856,-0.03088226355612278,0.07506342977285385,0.011877908371388912,0.04266880080103874,0.015606607310473919,-0.01940029300749302,0.03540094569325447,-0.009828010573983192,-0.0387517586350441,-0.0030885140877217054,-0.018160801380872726,-0.05748496204614639,0.016212012618780136,0.05191626399755478,0.04126305505633354,0.031020577996969223,0.020354032516479492,-0.006605633534491062,0.023823117837309837,-0.010237989947199821,0.01514375675469637,-0.0394267663359642,0.00031532280263490975,-0.03024619072675705,0.05336761474609375,0.03578248620033264,-0.012104729190468788,-0.109270378947258,0.0014605780597776175,0.032756224274635315,-0.02133079059422016,-0.0064958855509757996,0.03894612938165665,-0.009849841706454754,0.07335349917411804,0.010721742175519466,0.05612250789999962,-0.0072748358361423016,-0.0067672585137188435,-0.01831689290702343,0.0017691337270662189,0.0474771149456501,-0.022414933890104294,-0.005204816814512014,0.004389264155179262,-0.030414482578635216,-0.007262677885591984,-0.004465819802135229,-0.03646598383784294,0.007579649332910776,0.02287357486784458,0.019441990181803703,-0.033265370875597,-0.012417231686413288,-0.009697026573121548,0.031256288290023804,0.026876820251345634,-0.009114897809922695,0.01344260573387146,0.018993772566318512,-0.00409237714484334,0.050045207142829895,0.006736240815371275,-0.04887126013636589,-0.04022940620779991,-0.04888097569346428,-0.03867607191205025,0.01628734916448593,-0.009690913371741772,-0.054873932152986526,0.0055123185738921165,0.024956349283456802,0.034055206924676895,0.015140918083488941,0.04491399973630905,-0.004127939697355032,0.014333024621009827,-0.021530183032155037,0.02098371461033821,-0.025624487549066544,-0.0034181196242570877,0.02079121395945549,-0.050254806876182556,-0.006030337885022163,0.021591242402791977,0.022085528820753098,-0.05106526240706444,-0.005985671654343605,0.019155526533722878,-0.016626136377453804,-0.047431230545043945,-0.0280460175126791,-0.021646302193403244,0.04500221833586693,0.08111319690942764,0.010580137372016907,0.05091681703925133,0.058660198003053665,-0.03605693206191063,0.03854905441403389,0.004786025267094374,0.002325841225683689,-0.011562444269657135,-0.01331351138651371,-0.04730973392724991,0.009921835735440254,0.045661378651857376,-0.02900082990527153,-0.011282369494438171,0.005574696231633425,0.0029317934531718493,-0.014244896359741688,0.017549173906445503,0.016103480011224747,-0.053392358124256134,-0.011550329625606537,0.04844406619668007,-0.053168997168540955,-0.061027154326438904,-0.07100244611501694,-0.03821375221014023,-0.05241848900914192,-0.004213396925479174,-0.02223408780992031,-0.0269496850669384,-0.0248431246727705,0.06417378783226013,0.02131677232682705,0.004840129520744085,0.0416426844894886,-0.018889015540480614,-0.004856645129621029,0.04201291501522064,-0.003625829005613923,0.03140843287110329,-0.09509807080030441,0.02478376217186451,0.029066191986203194,-0.0729161724448204,-0.006820442620664835,-0.03151893988251686,0.0025503218639642,-0.006677606143057346,-0.015560660511255264,-0.030973460525274277,0.08952482789754868,0.038940880447626114,0.03262229263782501,-0.09949906915426254,0.04982827231287956,-0.010655022226274014,-0.030849836766719818,-0.01573401317000389,-0.023625025525689125,0.0011838730424642563,-0.0111277149990201,0.00407236535102129,0.011077831499278545,-0.002300787949934602,-0.0002997195115312934,-0.020029325038194656,0.03237234055995941,0.01515822671353817,0.018427129834890366,-0.04377637803554535,0.05489997938275337,0.023423830047249794,0.010757486335933208,-0.013996774330735207,0.07089915126562119,0.014797871001064777,-0.010496273636817932,0.009373553097248077,-0.01272981520742178,0.0033308998681604862,-0.01856103725731373,0.08457827568054199,-0.0280612800270319,0.036381062120199203,-0.003853866830468178,0.015543753281235695,0.06285230070352554,-0.020307578146457672,-0.033597033470869064,0.011829512193799019,-0.02710641734302044,-0.04500143602490425,-0.005151974502950907,-0.012160437181591988,0.018003659322857857,-0.0037089246325194836,-0.009552554227411747,-0.07495797425508499,-0.005422031506896019,0.07299994677305222,-0.00504514342173934,-0.013944454491138458,-0.03890688717365265,-0.0013569947332143784,-0.02222413942217827,0.03664572536945343,0.02482396550476551,-0.0059699732810258865,-0.04760494455695152,0.014317822642624378,0.0047253938391804695,-0.010814106091856956,-6.702147897454475e-33,-0.026043735444545746,-0.030784981325268745,-0.021041855216026306,-0.006935301702469587,-0.01203722320497036,-0.020548785105347633,0.01884196698665619,-0.06757007539272308,0.02992234006524086,0.0171678364276886,-0.05634341016411781,-0.007819611579179764,0.009310183115303516,-0.02123747579753399,0.03071228414773941,0.02239318937063217,0.06010953336954117,-0.011327918618917465,0.0013044711668044329,0.040730055421590805,-0.043620213866233826,0.010267707519233227,-0.008545907214283943,-0.013701198622584343,0.013751750811934471,0.041702937334775925,0.002759033814072609,-0.02729182317852974,-0.044971782714128494,0.033060722053050995,0.0004596491635311395,-0.03634945675730705,0.004725553561002016,-0.03037770837545395,-0.029339320957660675,-0.044990040361881256,-0.0540265217423439,0.00772091606631875,-0.0027313230093568563,-0.004498064983636141,0.06971855461597443,0.05005234479904175,0.045742444694042206,0.0003039469593204558,-0.030996082350611687,0.0247300136834383,-0.011204300448298454,0.014978231862187386,-0.016690880060195923,-0.04439569637179375,0.02777811512351036,0.016739169135689735,-0.0003413683152757585,0.05260312184691429,-0.038060128688812256,0.03506284952163696,0.013258002698421478,0.03976106643676758,-0.09957248717546463,-0.008543183095753193,-0.03542320430278778,0.005975661333650351,0.016707507893443108,0.021649571135640144,0.04609939828515053,-0.02079259604215622,-0.05773112550377846,0.03405825048685074,-0.03387819603085518,-0.04285347834229469,0.01680050604045391,-0.010914193466305733,-0.0023825110401958227,-0.04210617020726204,0.00017329520778730512,-0.018600337207317352,-0.034954119473695755,0.008747234009206295,0.02567083016037941,0.05947708711028099,0.03439025953412056,-0.013307745568454266,-0.016558822244405746,0.01697082817554474,0.01869935356080532,-0.0013240862172096968,0.005909719038754702,-0.004759248346090317,-0.005609645042568445,0.05888225510716438,-0.006863946095108986,-0.007786802481859922,-0.048819802701473236,0.01671895757317543,-0.05759806931018829,-0.010600808076560497,0.03509998321533203,0.03876583278179169,0.004510358441621065,-0.01739552430808544,0.029247639700770378,0.04207489266991615,-0.004758482798933983,0.029681628569960594,-0.008743181824684143,-0.023175550624728203,0.02528662234544754,-0.007058651652187109,-0.04402019456028938,0.03523283079266548,0.03353750705718994,0.051200952380895615,-0.01856984943151474,0.05298422649502754,0.03530007228255272,0.0036152913235127926,0.016829686239361763,-0.020030856132507324,0.033539656549692154,0.038735367357730865,0.010275276377797127,-0.0008618024294264615,-0.006493862718343735,0.002173367887735367,0.026776378974318504,-0.02602759376168251,-0.001462007174268365,-0.040130648761987686,-0.015140772797167301,0.03223866969347,-0.0033116659615188837,0.04390581324696541,3.033690632037178e-7,0.04415774345397949,0.015629513189196587,-0.04637729376554489,0.01629600115120411,0.025927657261490822,-0.036690134555101395,-0.05332605540752411,-0.00984907802194357,0.0035347682423889637,-0.0005682691116817296,0.003910765517503023,0.017241429537534714,-0.009465769864618778,0.07310273498296738,-0.06340055167675018,-0.04549943283200264,-0.04327693581581116,-0.013654199428856373,-0.06366445124149323,-0.013890000060200691,0.03619227558374405,0.027076618745923042,0.00620751827955246,0.023982709273695946,0.006375188939273357,0.002075336640700698,-0.015708034858107567,-0.007440227549523115,-0.022017786279320717,-0.017241502180695534,0.06313544511795044,-0.04425741359591484,-0.04026911035180092,0.005439181346446276,-0.030834386125206947,0.009660588577389717,-0.07581336051225662,0.01774124801158905,0.011307496577501297,0.03573975712060928,0.04818866401910782,-0.03189051151275635,-0.017044564709067345,0.01136093121021986,0.04349386692047119,-0.014514239504933357,-0.009233460761606693,0.007023161742836237,-0.002676666947081685,0.007565611507743597,0.033267710357904434,0.035854972898960114,-0.035212770104408264,-0.010701602324843407,0.020614875480532646,-0.0015608685789629817,-0.017629073932766914,0.0276031494140625,0.027885498479008675,-0.003518081270158291,0.025372512638568878,-0.04655957967042923,0.01574072428047657,-0.010239682160317898,0.003480438841506839,-0.01171958353370428,-0.022024378180503845,3.8929613242574615e-34,0.06018834188580513,-0.027943812310695648,0.0392497293651104,-0.030964989215135574,0.03599618747830391,-0.02959638275206089,-0.09867874532938004,-0.02813747152686119,0.0031277546659111977,-0.09242184460163116,-0.004677931312471628]'
SET
  @TechnicalDesignVector_bafbb7f9 = N'[-0.024877237156033516,0.02287411130964756,-0.031063802540302277,-0.07360676676034927,-0.010861845687031746,-0.01695455051958561,0.0036675208248198032,0.04125901684165001,-0.06207798793911934,0.040788426995277405,-0.0038667740300297737,0.05362676829099655,0.04317306727170944,0.08789427578449249,-0.04393951594829559,-0.04745035991072655,-0.02275780402123928,0.052606191486120224,0.026060031726956367,-0.008750713430345058,0.018607763573527336,-0.006196434143930674,0.0025431043468415737,-0.0038828381802886724,0.005613395944237709,-0.028092799708247185,-0.03490373492240906,0.03841151297092438,0.02407345548272133,-0.10844417661428452,-0.018413273617625237,0.05340200662612915,-0.029741957783699036,0.008757906034588814,0.0000020689396933448734,-0.03204849362373352,-0.03864693269133568,-0.010216621682047844,-0.0033914365340024233,0.019372202455997467,0.020936062559485435,-0.07243835180997849,0.04860808700323105,-0.018899554386734962,0.0028121694922447205,-0.052995096892118454,-0.08263473957777023,0.013572278432548046,0.033628590404987335,-0.06208144128322601,0.006028509698808193,0.014319910667836666,-0.031871289014816284,-0.010140997357666492,-0.038369644433259964,-0.020656077191233635,-0.017055213451385498,-0.004902335349470377,0.13257598876953125,-0.03726182132959366,-0.016244271770119667,0.013934534043073654,0.022415924817323685,-0.04475811496376991,0.0012277966598048806,-0.007650987710803747,0.11285772919654846,-0.026163581758737564,0.030083803460001945,-0.0009422134608030319,0.09682277590036392,-0.04597721993923187,0.002172526204958558,-0.018449299037456512,-0.017061356455087662,-0.028613947331905365,-0.02825278602540493,-0.0029983907006680965,-0.006280382629483938,0.012597767636179924,0.014204087667167187,0.0423896498978138,-0.044565122574567795,-0.022858882322907448,-0.008782918564975262,-0.004369372967630625,-0.00045567340566776693,-0.029626628383994102,-0.02924467623233795,-0.014421840198338032,0.08793080598115921,-0.029925530776381493,0.02494780719280243,0.0018200100166723132,-0.06270845979452133,-0.03358215093612671,0.017583124339580536,-0.04216822236776352,0.027107566595077515,0.0037010738160461187,-0.013770620338618755,0.03820708021521568,0.08057105541229248,0.03299185633659363,0.09706317633390427,0.06266053020954132,0.041408102959394455,-0.04874245822429657,-0.04212455824017525,-0.015078464522957802,-0.013497983105480671,0.033508531749248505,0.04552404209971428,0.03455762937664986,0.0028447420336306095,0.008997641503810883,-0.048288118094205856,-0.017252426594495773,-0.021458802744746208,0.019722068682312965,0.09490938484668732,-0.005782739259302616,-0.03249180689454079,0.056726809591054916,0.020060358569025993,0.040734484791755676,-0.0040086545050144196,-0.060675594955682755,-0.03944731131196022,0.003369562327861786,-0.04782034084200859,-0.015368243679404259,0.0636783018708229,0.0040220096707344055,-0.024230346083641052,-0.03077286295592785,0.007869027554988861,0.023926636204123497,0.0014973292127251625,-0.04399298503994942,0.002028736285865307,-0.008356119506061077,-0.04515869915485382,0.06075337901711464,0.01256564725190401,0.003446756163612008,0.034979768097400665,0.05273435264825821,0.005116340704262257,0.027352916076779366,0.0172254741191864,-0.000823118956759572,0.05141713097691536,0.04032732918858528,-0.033633578568696976,0.02874344401061535,0.016427405178546906,0.025919906795024872,0.04554498940706253,-0.010897942818701267,0.0022190113086253405,0.03078978694975376,0.027492664754390717,0.00504087470471859,-0.045063283294439316,0.033951304852962494,-0.10175357758998871,-0.01815212331712246,-0.03472477197647095,-0.030510395765304565,-0.011224350892007351,-0.04348307102918625,-0.02103736624121666,0.06132987514138222,0.036058198660612106,-0.051459748297929764,0.08779003471136093,-0.08396987617015839,-0.03175824508070946,0.00001520888508821372,-0.015765011310577393,-0.04285813495516777,0.00042130774818360806,0.01607394590973854,0.07545728236436844,-0.034654416143894196,-0.018911609426140785,0.01176651194691658,-0.005086310673505068,0.016576163470745087,0.0015965516213327646,0.0578913539648056,-0.03762318566441536,-0.013128192164003849,0.006258271634578705,-0.0014940141700208187,-0.03472238779067993,-0.052376143634319305,0.028280148282647133,0.046920906752347946,0.03504087030887604,-0.007095088716596365,0.033402156084775925,0.014962584711611271,0.006164457183331251,-0.00250835670158267,-0.04119032248854637,0.0007095301989465952,-0.02733801119029522,-0.014404348097741604,-0.0025834226980805397,-0.03603089973330498,-0.042358674108982086,0.019603651016950607,-0.02820418030023575,0.055625781416893005,0.008756101131439209,-0.011826834641397,-0.02393035963177681,0.03687986731529236,-0.04944850131869316,-0.0013123142998665571,-0.006228213664144278,-0.006876873783767223,0.12992553412914276,0.06237097457051277,0.018426967784762383,-0.027968017384409904,0.07310385257005692,-0.005319004412740469,-0.009060723707079887,-0.019327525049448013,0.033445436507463455,0.03462158516049385,0.03748173639178276,0.05769135802984238,-0.012831378728151321,-0.010296305641531944,0.00010622436093399301,0.04362267255783081,0.03201373666524887,-0.012616829946637154,-0.019756965339183807,-0.04556422680616379,0.0007378175505436957,0.011351737193763256,-0.07879696786403656,0.011728767305612564,-0.024046774953603745,-0.0042734295129776,0.024478157982230186,0.023838523775339127,0.014111083000898361,-0.03387468308210373,-0.02393253706395626,-0.024485968053340912,-0.019220788031816483,-0.03430292755365372,-0.01849801279604435,0.06775136291980743,0.038442932069301605,0.011700261384248734,-0.03103855438530445,-0.04112744703888893,0.02011534944176674,-0.024277905002236366,0.03443709760904312,-0.0834181010723114,-0.009948174469172955,0.011882366612553596,-0.009876430965960026,0.05336696282029152,-0.010678745806217194,0.007854210212826729,-0.004136764910072088,0.05456165969371796,-0.04693383723497391,0.05525162070989609,0.0018315606284886599,-0.039225321263074875,0.006670845206826925,0.01119322795420885,0.03265763074159622,0.028088856488466263,-0.02990858256816864,0.003060275688767433,0.05397629365324974,-0.07121079415082932,0.03213003650307655,-0.07360700517892838,0.023948149755597115,-0.014618529938161373,0.03766385465860367,-0.02285752072930336,-0.010046536102890968,0.03985343128442764,0.02769865281879902,0.07200977206230164,-0.03323237597942352,0.04289744049310684,-0.014924037270247936,-0.03265984356403351,-0.00873508770018816,0.012772172689437866,-0.010720981284976006,0.10074961185455322,0.01348820049315691,0.01758120208978653,-0.009635460563004017,0.027810731902718544,0.024781199172139168,0.03703746199607849,0.0015348239103332162,-0.0070440457202494144,-0.028752511367201805,0.03421863168478012,0.04989517480134964,-0.013002775609493256,-0.02100621722638607,0.04584885388612747,-0.0070162927731871605,0.003405091119930148,-0.009624332189559937,0.008927612565457821,-0.04717664420604706,-0.002009026240557432,-0.042871687561273575,0.0005903350538574159,-0.012785712257027626,0.004513201303780079,0.00778822461143136,-0.07660596817731857,0.009440317749977112,-0.013582399114966393,0.01753752864897251,-0.008649677969515324,-0.03220561146736145,-0.01753634214401245,-0.029808752238750458,-0.02178194187581539,0.0041282689198851585,-0.0014588771155104041,-0.014981773681938648,0.039282649755477905,0.008712154813110828,0.0046959929168224335,-0.019081048667430878,0.007203731220215559,-0.037469152361154556,0.009367404505610466,-0.009315170347690582,0.0727527067065239,-0.0069805169478058815,0.01278648804873228,0.012871908023953438,0.007078178226947784,-0.030010052025318146,0.03388392925262451,-0.02934865467250347,-0.038306739181280136,0.05591150373220444,0.03720962628722191,0.08117904514074326,0.027470611035823822,0.026027921587228775,0.0048937490209937096,0.02965942583978176,-0.013793868012726307,0.007321505807340145,-0.03972068056464195,-0.03532181307673454,0.004253579769283533,0.028315596282482147,0.016734309494495392,-0.02508539892733097,-0.06697654724121094,0.020612303167581558,0.05470224469900131,0.001570802996866405,0.015861211344599724,0.01765548624098301,0.02889280579984188,0.07744009792804718,0.022344224154949188,0.07825908809900284,-0.051073040813207626,0.024389369413256645,-0.02373029664158821,0.009228984825313091,0.023033389821648598,-0.006855118088424206,-0.038146261125802994,0.03629797697067261,-0.02763351798057556,-0.017731189727783203,0.02479998953640461,-0.017011795192956924,0.026959937065839767,0.048514556139707565,0.010380512103438377,-0.03998887166380882,0.0016858146991580725,-0.05449346452951431,0.04637005925178528,0.08256226032972336,-0.05470433831214905,-0.003223216161131859,0.05655530095100403,-0.0023060988169163465,0.05309605225920677,0.023964012041687965,-0.03964478522539139,-0.03637876361608505,-0.07486378401517868,-0.05567547678947449,-0.0033165940549224615,-0.01727057248353958,-0.05493421480059624,0.033190347254276276,0.07250741124153137,-0.0007879546610638499,0.0091226976364851,0.03358248993754387,0.005612928885966539,0.03647108003497124,-0.006093977019190788,0.00870687235146761,-0.010504231788218021,-0.03452622517943382,0.03451501950621605,-0.01983589306473732,-0.008806117810308933,0.03585558384656906,0.00034430224332027137,-0.08973949402570724,-0.0029741988983005285,-0.016064917668700218,0.012647541239857674,-0.021248316392302513,-0.01628687232732773,-0.007472110912203789,0.007814150303602219,0.08102592825889587,0.0019186083227396011,0.043953943997621536,0.008409651927649975,-0.027648771181702614,0.03800375387072563,-0.01323041319847107,0.0064487517811357975,-0.009759645909070969,-0.0037036065477877855,-0.04066316410899162,-0.03522304445505142,0.010546049103140831,-0.0447525680065155,0.02740958333015442,0.024358559399843216,-0.010490519925951958,0.01745222695171833,-0.010592835023999214,0.02361920475959778,-0.0030747391283512115,-0.026440884917974472,0.03260677307844162,0.0034896943252533674,0.0020590315107256174,-0.01257102657109499,-0.01798889972269535,-0.036081839352846146,0.04132052883505821,-0.029386674985289574,-0.006645163521170616,-0.002040116349235177,0.023569034412503242,0.008485636673867702,0.01810912974178791,-0.0075191170908510685,-0.006225541699677706,-0.03611573576927185,0.049088772386312485,0.028828419744968414,0.015393486246466637,-0.11822700500488281,0.048254501074552536,0.0007980783702805638,-0.05848444253206253,-0.038705747574567795,-0.011949174106121063,0.005353246349841356,-0.018650611862540245,-0.01889006420969963,-0.04941887781023979,0.038697499781847,0.05485920608043671,0.011373520828783512,-0.0702999085187912,0.03476172313094139,-0.041083529591560364,-0.029258664697408676,-0.019474200904369354,-0.017109792679548264,0.010157533921301365,0.0005972577491775155,0.023608341813087463,-0.015007066540420055,-0.018476245924830437,0.01632668636739254,-0.025315862149000168,0.020234111696481705,0.006457099691033363,-0.014168468303978443,-0.06844881176948547,0.06043606624007225,0.034511297941207886,-0.01912827044725418,-0.0024395424406975508,0.012426926754415035,0.03167237713932991,0.013054044917225838,0.008184129372239113,-0.0009829921182245016,-0.010915989056229591,-0.00020751637930516154,0.06644957512617111,0.011293989606201649,-0.001058157766237855,-0.0019800506997853518,0.039591580629348755,0.03835561126470566,-0.016030900180339813,-0.024351194500923157,0.013717141933739185,0.0003730661701411009,-0.04091070592403412,0.007223519496619701,-0.03851979225873947,-0.0010106205008924007,-0.00023843640519771725,-0.00837844517081976,-0.08803638070821762,0.020278140902519226,0.10329779237508774,-0.03234279900789261,0.0020891940221190453,-0.050557442009449005,0.003878012765198946,-0.05266154184937477,0.034754808992147446,0.030248180031776428,-0.0021396547090262175,-0.04331540688872337,0.020717982202768326,-0.02667452022433281,0.015061091631650925,-7.07968141810807e-33,-0.017336495220661163,-0.005628904327750206,-0.030568910762667656,-0.07697954028844833,-0.021399596706032753,-0.043490972369909286,0.012635390274226665,-0.07401694357395172,0.006411073729395866,-0.019295357167720795,-0.03597116842865944,-0.007985961623489857,0.0039270054548978806,-0.027123209089040756,0.0065454444848001,0.004596014507114887,0.03579810634255409,-0.013145283795893192,-0.023067981004714966,0.03623557090759277,-0.006551151163876057,0.018808990716934204,-0.03745301440358162,-0.0006269588484428823,-0.025049127638339996,0.030475476756691933,0.012262343429028988,0.015003272332251072,-0.08698560297489166,0.013980229385197163,-0.014201540499925613,-0.04336271062493324,-0.006179892923682928,-0.02959499880671501,-0.012793966569006443,-0.03572913259267807,-0.02450607717037201,-0.024427145719528198,-0.0023990413174033165,-0.008031566627323627,0.08080682903528214,0.0033759712241590023,0.031836170703172684,0.01450454629957676,-0.00592597434297204,-0.02877466194331646,-0.027422752231359482,0.038391873240470886,-0.014908313751220703,0.0035399761982262135,0.01685616560280323,0.0269399955868721,-0.0024434973020106554,0.053608525544404984,-0.023684699088335037,0.027881184592843056,0.056570883840322495,0.08197858929634094,-0.09143006801605225,0.0019688105676323175,-0.11399749666452408,-0.02202678471803665,0.020663069561123848,0.038735490292310715,0.060189470648765564,-0.002550792181864381,-0.048659320920705795,0.03219233825802803,-0.06692466139793396,0.001885082689113915,0.013048442080616951,-0.031306419521570206,0.0032980984542518854,-0.07865623384714127,-0.014880642294883728,-0.03699614852666855,-0.052506592124700546,-0.03187217935919762,-0.046999242156744,0.05767583101987839,-0.003905437421053648,-0.0037938228342682123,-0.013273932971060276,0.01549740880727768,0.0047595445066690445,-0.03623519465327263,0.011059127748012543,0.03929425776004791,-0.011779551394283772,0.03546430543065071,-0.00027118183788843453,0.032694295048713684,-0.06942494958639145,0.0583990104496479,-0.062417272478342056,-0.01874033361673355,0.028920158743858337,0.03005627728998661,0.0076836454682052135,0.007268988061696291,0.032757170498371124,0.00846349447965622,-0.022709200158715248,0.014324967749416828,0.004104358609765768,-0.005464024841785431,0.0052018677815794945,0.031591955572366714,-0.04389612004160881,0.0035721866879612207,0.0281947311013937,0.003998743835836649,-0.031201664358377457,-0.01646534726023674,0.03185531869530678,0.027114400640130043,0.008023678325116634,-0.0580589734017849,0.06222367286682129,0.047884751111269,0.02346866764128208,-0.04449576511979103,-0.019696462899446487,0.04027596116065979,0.03882322832942009,-0.0078650563955307,-0.013684370554983616,-0.006707121152430773,-0.040835559368133545,0.020953433588147163,0.0053110551089048386,0.026021258905529976,3.0358552294273977e-7,0.0014402889646589756,-0.0021052872762084007,-0.05749755725264549,-0.0047737304121255875,0.008340563625097275,-0.03780944645404816,-0.06598010659217834,-0.03780016675591469,-0.044122401624917984,0.0022061362396925688,0.008599207736551762,0.03596034646034241,0.00884531531482935,0.04923663288354874,-0.005985878873616457,-0.030914194881916046,0.04318566620349884,-0.005787293426692486,-0.06678686290979385,0.00430632708594203,0.0868622437119484,-0.007037999574095011,0.07250644266605377,0.026070943102240562,-0.002857897663488984,0.014010434970259666,-0.014074982143938541,0.011808322742581367,-0.015082837082445621,-0.03722619637846947,0.01644063927233219,-0.02625916339457035,-0.031003059819340706,0.031915728002786636,-0.004595919977873564,0.040581848472356796,-0.04107379540801048,0.004359478130936623,0.0011041720863431692,0.045517031103372574,0.048163753002882004,0.003120471490547061,-0.020855987444519997,-0.014800664968788624,0.047913894057273865,-0.028529684990644455,-0.037595003843307495,0.052265457808971405,-0.014608536846935749,0.054575368762016296,0.0016257785027846694,0.04852111265063286,-0.043042559176683426,-0.01514899916946888,0.02596224844455719,0.012233920395374298,-0.005107110366225243,0.014413755387067795,0.04562556371092796,-0.0034389167558401823,-0.009687348268926144,-0.06642165780067444,0.03191009908914566,0.06820865720510483,-0.001693250611424446,-0.003190013114362955,-0.036227211356163025,4.540450244984263e-34,0.038832105696201324,-0.027861032634973526,0.03629211336374283,-0.04019026458263397,0.04353505000472069,-0.03324953094124794,-0.019207650795578957,-0.007024502381682396,0.05274904519319534,-0.07987874746322632,-0.014987506903707981]'
SET
  @HasCustomProps_bafbb7f9 = 1
SET
  @HasCustomEvents_bafbb7f9 = 1
SET
  @RequiresData_bafbb7f9 = 1
SET
  @DependencyCount_bafbb7f9 = 2
SET
  @TechnicalDesignVectorEmbeddingModelID_bafbb7f9 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_bafbb7f9 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_bafbb7f9 = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_bafbb7f9,
  @Namespace = @Namespace_bafbb7f9,
  @Name = @Name_bafbb7f9,
  @Version = @Version_bafbb7f9,
  @VersionSequence = @VersionSequence_bafbb7f9,
  @Title = @Title_bafbb7f9,
  @Description = @Description_bafbb7f9,
  @Type = @Type_bafbb7f9,
  @Status = @Status_bafbb7f9,
  @DeveloperName = @DeveloperName_bafbb7f9,
  @DeveloperEmail = @DeveloperEmail_bafbb7f9,
  @DeveloperOrganization = @DeveloperOrganization_bafbb7f9,
  @SourceRegistryID = @SourceRegistryID_bafbb7f9,
  @ReplicatedAt = @ReplicatedAt_bafbb7f9,
  @LastSyncedAt = @LastSyncedAt_bafbb7f9,
  @Specification = @Specification_bafbb7f9,
  @FunctionalRequirements = @FunctionalRequirements_bafbb7f9,
  @TechnicalDesign = @TechnicalDesign_bafbb7f9,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_bafbb7f9,
  @TechnicalDesignVector = @TechnicalDesignVector_bafbb7f9,
  @HasCustomProps = @HasCustomProps_bafbb7f9,
  @HasCustomEvents = @HasCustomEvents_bafbb7f9,
  @RequiresData = @RequiresData_bafbb7f9,
  @DependencyCount = @DependencyCount_bafbb7f9,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_bafbb7f9,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_bafbb7f9,
  @HasRequiredCustomProps = @HasRequiredCustomProps_bafbb7f9;

-- Save MJ: Components (core SP call only)
DECLARE @ID_3320222c UNIQUEIDENTIFIER,
@Namespace_3320222c NVARCHAR(MAX),
@Name_3320222c NVARCHAR(500),
@Version_3320222c NVARCHAR(50),
@VersionSequence_3320222c INT,
@Title_3320222c NVARCHAR(1000),
@Description_3320222c NVARCHAR(MAX),
@Type_3320222c NVARCHAR(255),
@Status_3320222c NVARCHAR(50),
@DeveloperName_3320222c NVARCHAR(255),
@DeveloperEmail_3320222c NVARCHAR(255),
@DeveloperOrganization_3320222c NVARCHAR(255),
@SourceRegistryID_3320222c UNIQUEIDENTIFIER,
@ReplicatedAt_3320222c DATETIMEOFFSET,
@LastSyncedAt_3320222c DATETIMEOFFSET,
@Specification_3320222c NVARCHAR(MAX),
@FunctionalRequirements_3320222c NVARCHAR(MAX),
@TechnicalDesign_3320222c NVARCHAR(MAX),
@FunctionalRequirementsVector_3320222c NVARCHAR(MAX),
@TechnicalDesignVector_3320222c NVARCHAR(MAX),
@HasCustomProps_3320222c BIT,
@HasCustomEvents_3320222c BIT,
@RequiresData_3320222c BIT,
@DependencyCount_3320222c INT,
@TechnicalDesignVectorEmbeddingModelID_3320222c NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_3320222c NVARCHAR(MAX),
@HasRequiredCustomProps_3320222c BIT
SET
  @ID_3320222c = 'ADE1DF36-7E8A-490E-B602-454D7F009CF7'
SET
  @Namespace_3320222c = N'CRM/Sales'
SET
  @Name_3320222c = N'DealPipelineVisualization'
SET
  @Version_3320222c = N'1.0.0'
SET
  @VersionSequence_3320222c = 1
SET
  @Title_3320222c = N'Deal Pipeline Visualization'
SET
  @Description_3320222c = N'Interactive deal pipeline showing stage distribution, velocity analysis, and stage transition trends with predictive insights.'
SET
  @Type_3320222c = N'Dashboard'
SET
  @Status_3320222c = N'Published'
SET
  @Specification_3320222c = N'{"name":"DealPipelineVisualization","title":"Deal Pipeline Visualization","type":"dashboard","userExplanation":"Expert-level sales pipeline dashboard with funnel visualization, velocity heatmap, and stage-specific metrics. Click any pipeline stage to see detailed deal information, value trends, and product breakdowns. Demonstrates complex multi-query coordination with conditional execution and calculated fields.","functionalRequirements":"## Business Objectives\n- Visualize current sales pipeline across all stages (Prospecting, Qualification, Proposal, Negotiation, Closed Won/Lost)\n- Analyze stage transition velocity to identify bottlenecks\n- Track deal values, probability, and days in stage for each pipeline stage\n- Enable drill-down to individual deals and their products\n- Support pipeline health monitoring with time-based trends\n\n## Functional Requirements\n- **Funnel Chart**: Display pipeline stages with deal count and total value (width proportional to deal count)\n- **Velocity Heatmap**: Show average days to transition between stages (color-coded: green=fast, red=slow)\n- **Stage-Specific Metrics**: When stage selected, show KPI cards (total value, deal count, avg days in stage, win rate)\n- **Trend Analysis**: Conditional line chart showing deals entering selected stage over last 90 days\n- **Deal Details Grid**: EntityDataGrid with deals in selected stage, including calculated DaysInStage column\n- **Product Drill-Down**: Click deal row to show EntityDataGrid of deal products\n- **Conditional Queries**: Trend query only executes when stage is selected\n- **Calculated Fields**: Display custom DaysInStage field using SQL DATEDIFF in EntityDataGrid\n- **Multi-Level State**: Track stage selection and optional deal selection\n- **Clear Navigation**: Breadcrumb or back button to return to pipeline overview\n- **Stage Highlighting**: Visual feedback for selected stage in funnel\n- **Loading States**: Independent loading for each query and grid\n- **Empty States**: Handle stages with no deals","description":"Interactive deal pipeline showing stage distribution, velocity analysis, and stage transition trends with predictive insights.","dataRequirements":{"mode":"hybrid","queries":[{"name":"Deal Pipeline Distribution","categoryPath":"Demo","description":"Aggregates active deals by stage with comprehensive metrics: deal count, total value, average deal size, expected revenue, probability, and days in stage. Groups by Stage with optional filtering (Stage, AccountType, MinAmount, date range). Excludes ''Closed Won''/''Closed Lost'' by default unless Stage parameter specified. Query pair with deal-pipeline-details.sql for drilldown. Stage ordering handled client-side for flexibility. **Result Order: Stage** - Alphabetical, client sorts by pipeline sequence.","entityNames":["Deals","Accounts"],"fields":[{"name":"Stage","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Deal pipeline stage (Prospecting, Qualification, Proposal, Negotiation, etc.)"},{"name":"DealCount","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of deals in this stage"},{"name":"TotalValue","sequence":3,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Sum of deal amounts in this stage"},{"name":"AvgDealSize","sequence":4,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average deal size in this stage"},{"name":"TotalExpectedRevenue","sequence":5,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Sum of expected revenue (Amount * Probability)"},{"name":"AvgProbability","sequence":6,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average win probability for deals in this stage"},{"name":"AvgDaysInStage","sequence":7,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Average number of days deals have been in this stage"}],"parameters":[{"name":"Stage","isRequired":false,"type":"string","sampleValue":"Proposal","description":"Optional filter by specific stage"},{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by account type"},{"name":"MinAmount","isRequired":false,"type":"number","sampleValue":"10000","description":"Optional filter by minimum deal amount"},{"name":"StartDate","isRequired":false,"type":"date","sampleValue":"2024-01-01","description":"Optional filter by open date start"},{"name":"EndDate","isRequired":false,"type":"date","sampleValue":"2024-12-31","description":"Optional filter by open date end"}]},{"name":"Deal Velocity Analysis","categoryPath":"Demo","description":"Stage transition velocity: AVG(DATEDIFF(day, TransitionDate, PreviousDate)), COUNT(*) grouped by FromStage, ToStage. Returns stage-to-stage transition times for heatmap. **Result Order: AvgDaysInPipeline DESC** - Slowest moving stages first to identify bottlenecks.","entityNames":["Deals","Accounts"],"fields":[{"name":"Stage","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Deal pipeline stage"},{"name":"DealCount","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of deals analyzed"},{"name":"AvgDaysToClose","sequence":3,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Average days from creation to close"},{"name":"AvgDaysInPipeline","sequence":4,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Average days currently in pipeline"},{"name":"WonCount","sequence":5,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of deals won"},{"name":"LostCount","sequence":6,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of deals lost"},{"name":"WinRate","sequence":7,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Win rate percentage (0-100)"}],"parameters":[{"name":"MonthsBack","isRequired":false,"type":"number","sampleValue":"6","description":"Number of months to look back (default: 6)"},{"name":"Stage","isRequired":false,"type":"string","sampleValue":"Proposal","description":"Optional filter by specific stage"},{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by account type"},{"name":"StartDate","isRequired":false,"type":"date","sampleValue":"2024-01-01","description":"Optional filter by open date start"},{"name":"EndDate","isRequired":false,"type":"date","sampleValue":"2024-12-31","description":"Optional filter by open date end"}]},{"name":"Deal Stage Trends","categoryPath":"Demo","description":"Conditional trend analysis (executes when stage selected): COUNT(*), SUM(Value) grouped by CAST(CreatedDate AS DATE) for last 90 days where Stage=@Stage. Returns daily deal entry trends for line chart. **Result Order: Date ASC** - Chronological order for time-series trend visualization.","entityNames":["Deals","Accounts"],"fields":[{"name":"Date","sequence":1,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date deals were created"},{"name":"DealsEntered","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of deals that entered the stage on this date"},{"name":"ValueEntered","sequence":3,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total value of deals entering on this date"},{"name":"AvgDealSize","sequence":4,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average deal size for this date"},{"name":"AvgProbability","sequence":5,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average win probability"}],"parameters":[{"name":"Stage","isRequired":false,"type":"string","sampleValue":"Proposal","description":"Optional filter by specific stage"},{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by account type"},{"name":"MinAmount","isRequired":false,"type":"number","sampleValue":"10000","description":"Optional filter by minimum deal amount"},{"name":"StartDate","isRequired":false,"type":"date","sampleValue":"2024-01-01","description":"Optional filter by open date start"},{"name":"EndDate","isRequired":false,"type":"date","sampleValue":"2024-12-31","description":"Optional filter by open date end"}]},{"name":"Deal Pipeline Details","categoryPath":"Demo","description":"Returns raw deal records for drilldown from pipeline distribution charts. Query pair with deal-pipeline-distribution.sql (aggregation + detail pattern). Eliminates need for complex buildEntityFilter() logic in components. Supports same filtering parameters as distribution query for consistency.","entityNames":["Deals","Accounts"],"fields":[{"name":"ID","sequence":1,"defaultInView":true,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":true,"description":"Unique identifier for the deal"},{"name":"DealName","sequence":2,"defaultInView":true,"type":"nvarchar(255)","allowsNull":false,"isPrimaryKey":false,"description":"Name of the deal"},{"name":"Stage","sequence":3,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Current pipeline stage"},{"name":"Amount","sequence":4,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Deal amount"},{"name":"ExpectedRevenue","sequence":5,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Expected revenue (Amount * Probability)"},{"name":"Probability","sequence":6,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Win probability percentage"},{"name":"OpenDate","sequence":7,"defaultInView":true,"type":"date","allowsNull":true,"isPrimaryKey":false,"description":"Date deal was opened"},{"name":"ExpectedCloseDate","sequence":8,"defaultInView":true,"type":"date","allowsNull":true,"isPrimaryKey":false,"description":"Expected close date"},{"name":"ActualCloseDate","sequence":9,"defaultInView":true,"type":"date","allowsNull":true,"isPrimaryKey":false,"description":"Actual close date"},{"name":"AccountID","sequence":10,"defaultInView":true,"type":"uniqueidentifier","allowsNull":true,"isPrimaryKey":false,"description":"Associated account ID"},{"name":"Account","sequence":11,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Account name"},{"name":"AccountType","sequence":12,"defaultInView":true,"type":"nvarchar(100)","allowsNull":true,"isPrimaryKey":false,"description":"Account type (Enterprise, Mid-Market, etc.)"},{"name":"OwnerID","sequence":13,"defaultInView":true,"type":"uniqueidentifier","allowsNull":true,"isPrimaryKey":false,"description":"Deal owner user ID"},{"name":"Owner","sequence":14,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Deal owner name"},{"name":"DaysInStage","sequence":15,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Days deal has been in current stage"},{"name":"DaysToClose","sequence":16,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Days from open to close (null if not closed)"}],"parameters":[{"name":"Stage","isRequired":false,"type":"string","sampleValue":"Proposal","description":"Optional filter by specific stage"},{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by account type"},{"name":"MinAmount","isRequired":false,"type":"number","sampleValue":"10000","description":"Optional filter by minimum deal amount"},{"name":"StartDate","isRequired":false,"type":"date","sampleValue":"2024-01-01","description":"Optional filter by open date start"},{"name":"EndDate","isRequired":false,"type":"date","sampleValue":"2024-12-31","description":"Optional filter by open date end"}]}],"entities":[{"name":"Deals","description":"Deal records shown in DataGrid when drilling down from pipeline stage. Loaded via Deal Pipeline Details query.","displayFields":["DealName","Stage","Amount","Probability","ExpectedCloseDate","Account","Owner"],"filterFields":["Stage","AccountType","Amount"],"sortFields":["Amount","Probability","DealName"],"usageContext":"Loaded by Deal Pipeline Details query with parameters: Stage, AccountType, MinAmount, StartDate, EndDate"}]},"properties":[{"name":"onStageClick","type":"function","required":false,"description":"Callback fired when user clicks a pipeline stage in the chart","default":null},{"name":"onDealClick","type":"function","required":false,"description":"Callback fired when user clicks a deal row in the EntityDataGrid","default":null}],"events":[{"name":"onStageClick","description":"Fired when user clicks a pipeline stage (bar/slice)","payload":{"stage":"string - The stage that was clicked (e.g., ''Prospecting'', ''Qualification'')","dealCount":"number - Number of deals in this stage","totalValue":"number - Total value of deals in this stage"},"example":"{ stage: ''Proposal'', dealCount: 12, totalValue: 450000.00 }"},{"name":"onDealClick","description":"Fired when user clicks a deal row in the EntityDataGrid drill-down","payload":{"dealId":"string - The ID of the clicked deal record","dealName":"string - Name of the deal","stage":"string - Current stage of the deal","value":"number - Deal value/amount","probability":"number - Win probability percentage"},"example":"{ dealId: ''abc-123'', dealName: ''Enterprise Platform Deal'', stage: ''Proposal'', value: 75000.00, probability: 60 }"}],"dependencies":[{"name":"SimpleChart","location":"registry","namespace":"Generic/UI/Chart","version":"^1.0.0"},{"name":"DataGrid","location":"registry","namespace":"Generic/UI/Table","version":"^1.0.0"}],"location":"embedded","technicalDesign":"## Component Architecture\n\n### Data Flow\n1. **Initial Load**: Three concurrent RunQuery calls execute for pipeline distribution, velocity analysis, and stage trends\n2. **Chart Rendering**: Three SimpleChart instances display data independently\n3. **User Interaction**: User clicks stage bar in Pipeline Distribution chart\n4. **Drill-Down**: Component sets selectedSegment state and triggers Deal Pipeline Details query\n5. **Grid Rendering**: DataGrid displays query results with OpenEntityRecord enabled\n6. **Record Navigation**: Row click opens deal record via callbacks.OpenEntityRecord\n\n### State Management\n- `pipelineData`: Pipeline distribution query results\n- `velocityData`: Velocity analysis query results\n- `trendsData`: Stage trends query results\n- `dealsData`: Deal Pipeline Details query results (for drilldown)\n- `selectedSegment`: Currently selected pipeline stage (null = chart view, object = grid view)\n- `loading`: Boolean for async operation status\n- `dealsLoading`: Boolean for deals query loading\n- `errors`: Object with error messages per query/operation\n- Configuration state: `stage`, `accountType`, `minAmount`, `monthsBack`, `daysBack`, `chartType`\n\n### Query Coordination\n**Three Base Queries**: Execute in parallel on mount/parameter change\n1. Deal Pipeline Distribution - Current pipeline by stage\n2. Deal Velocity Analysis - Historical velocity metrics by stage\n3. Deal Stage Trends - Daily deal entry trends\n\n**Conditional Detail Query**: Executes when stage selected\n4. Deal Pipeline Details - Raw deal records for drilldown grid\n\n### Drill-Down Pattern (Query Pair)\n**Click Pipeline Chart → Deal Pipeline Details Query → DataGrid**:\n- Only Pipeline Distribution chart has click handler\n- Sets `selectedSegment` with clickData structure\n- Executes Deal Pipeline Details query with Stage parameter\n- DataGrid appears BELOW all three charts with query results\n- Blue header shows selected stage name\n- Clear Selection button resets to chart-only view\n- DataGrid has OpenEntityRecord enabled for direct record access\n\n### DataGrid Integration\n**Query Pair Pattern**:\n- Aggregation query (Deal Pipeline Distribution) for charts\n- Detail query (Deal Pipeline Details) for drilldown grid\n- No SQL filter construction needed - query handles all filtering\n- Parameters passed directly to query: Stage, AccountType, MinAmount, StartDate, EndDate\n\n**OpenEntityRecord Feature**:\n- Enabled by passing `entityName=\"Deals\"` and `entityPrimaryKeys={[''ID'']}`\n- Requires `callbacks` prop for OpenEntityRecord function\n- Row click automatically opens deal record in entity viewer\n- No custom onRowClick handler needed\n\n### Event System\n**onStageClick**: Fires when pipeline stage clicked, provides:\n- stage, dealCount, totalValue\n\n### Educational Value\nDemonstrates:\n1. **Multi-Query Coordination**: Four queries (3 base + 1 conditional) with independent error handling\n2. **Query Pair Pattern**: Aggregation + detail queries for dashboard with drilldown\n3. **DataGrid with OpenEntityRecord**: Direct entity record navigation without custom handlers\n4. **Selective Drill-Down**: Only one chart has interactive drill-down\n5. **Error Resilience**: Queries can fail independently without blocking others\n6. **Parameterized Queries**: Clean query parameter passing without SQL filter construction\n7. **Event Exposure**: External consumers can listen to user interactions","code":"function DealPipelineVisualization({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings,\n  onStageClick = null,\n  onDealClick = null\n}) {\n  // Configuration state (internal, not props)\n  const [stage, setStage] = useState(null);\n  const [accountType, setAccountType] = useState(null);\n  const [minAmount, setMinAmount] = useState(null);\n  const [monthsBack, setMonthsBack] = useState(6);\n  const [chartType, setChartType] = useState(''bar'');\n\n  // Date filter state (pending/applied pattern)\n  const [pendingStartDate, setPendingStartDate] = useState(null);\n  const [pendingEndDate, setPendingEndDate] = useState(null);\n  const [appliedStartDate, setAppliedStartDate] = useState(null);\n  const [appliedEndDate, setAppliedEndDate] = useState(null);\n\n  // State management\n  const [pipelineData, setPipelineData] = useState([]);\n  const [velocityData, setVelocityData] = useState([]);\n  const [trendsData, setTrendsData] = useState([]);\n  const [dealsData, setDealsData] = useState([]);\n  const [selectedSegment, setSelectedSegment] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [dealsLoading, setDealsLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  // Get components from registry\n  const { SimpleChart, DataGrid } = components;\n\n  // Helper function: Sort pipeline stages by natural progression order\n  // SQL now returns alphabetical order, JavaScript handles business logic sorting\n  const sortPipelineStages = useCallback((stages) => {\n    const stageOrder = {\n      ''Prospecting'': 1,\n      ''Qualification'': 2,\n      ''Proposal'': 3,\n      ''Negotiation'': 4,\n      ''Closed Won'': 5,\n      ''Closed Lost'': 6\n    };\n\n    return [...stages].sort((a, b) => {\n      const orderA = stageOrder[a.Stage] || 999;\n      const orderB = stageOrder[b.Stage] || 999;\n      return orderA - orderB;\n    });\n  }, []);\n\n  // Load pipeline and velocity queries on mount or parameter change\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      setErrors({});\n\n      try {\n        // Execute pipeline and velocity queries in parallel\n        const [pipelineResult, velocityResult] = await Promise.all([\n          utilities.rq.RunQuery({\n            QueryName: ''Deal Pipeline Distribution'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              Stage: stage,\n              AccountType: accountType,\n              MinAmount: minAmount,\n              StartDate: appliedStartDate,\n              EndDate: appliedEndDate\n            }\n          }),\n          utilities.rq.RunQuery({\n            QueryName: ''Deal Velocity Analysis'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              MonthsBack: monthsBack,\n              Stage: stage,\n              AccountType: accountType,\n              StartDate: appliedStartDate,\n              EndDate: appliedEndDate\n            }\n          })\n        ]);\n\n        // Process pipeline distribution result\n        if (pipelineResult && pipelineResult.Success && pipelineResult.Results) {\n          // Sort stages by pipeline progression (Prospecting → Qualification → ... → Closed Won/Lost)\n          const sortedStages = sortPipelineStages(pipelineResult.Results);\n          setPipelineData(sortedStages);\n        } else {\n          setErrors(prev => ({ ...prev, pipeline: pipelineResult?.ErrorMessage || ''Failed to load pipeline data'' }));\n        }\n\n        // Process velocity analysis result\n        if (velocityResult && velocityResult.Success && velocityResult.Results) {\n          setVelocityData(velocityResult.Results);\n        } else {\n          setErrors(prev => ({ ...prev, velocity: velocityResult?.ErrorMessage || ''Failed to load velocity data'' }));\n        }\n\n      } catch (err) {\n        console.error(''Error loading deal pipeline data:'', err);\n        setErrors({ general: err.message || ''An unexpected error occurred'' });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [stage, accountType, minAmount, monthsBack, appliedStartDate, appliedEndDate, utilities]);\n\n  // Load trends query only when a segment is clicked (conditional query)\n  useEffect(() => {\n    if (!selectedSegment) {\n      setTrendsData([]);\n      return;\n    }\n\n    const loadTrends = async () => {\n      try {\n        const trendsResult = await utilities.rq.RunQuery({\n          QueryName: ''Deal Stage Trends'',\n          CategoryPath: ''Demo'',\n          Parameters: {\n            Stage: selectedSegment.label,\n            AccountType: accountType,\n            MinAmount: minAmount,\n            StartDate: appliedStartDate,\n            EndDate: appliedEndDate\n          }\n        });\n\n        if (trendsResult && trendsResult.Success && trendsResult.Results) {\n          setTrendsData(trendsResult.Results);\n        } else {\n          setErrors(prev => ({ ...prev, trends: trendsResult?.ErrorMessage || ''Failed to load trends data'' }));\n        }\n      } catch (err) {\n        console.error(''Error loading deal stage trends:'', err);\n        setErrors(prev => ({ ...prev, trends: err.message || ''Failed to load trends data'' }));\n      }\n    };\n\n    loadTrends();\n  }, [selectedSegment, accountType, minAmount, appliedStartDate, appliedEndDate, utilities]);\n\n  // Load deal details when a segment is selected (query pair pattern)\n  useEffect(() => {\n    if (!selectedSegment) {\n      setDealsData([]);\n      return;\n    }\n\n    const loadDeals = async () => {\n      setDealsLoading(true);\n      try {\n        const dealsResult = await utilities.rq.RunQuery({\n          QueryName: ''Deal Pipeline Details'',\n          CategoryPath: ''Demo'',\n          Parameters: {\n            Stage: selectedSegment.label,\n            AccountType: accountType,\n            MinAmount: minAmount,\n            StartDate: appliedStartDate,\n            EndDate: appliedEndDate\n          }\n        });\n\n        if (dealsResult && dealsResult.Success && dealsResult.Results) {\n          setDealsData(dealsResult.Results);\n        } else {\n          setErrors(prev => ({ ...prev, deals: dealsResult?.ErrorMessage || ''Failed to load deal details'' }));\n        }\n      } catch (err) {\n        console.error(''Error loading deal details:'', err);\n        setErrors(prev => ({ ...prev, deals: err.message || ''Failed to load deal details'' }));\n      } finally {\n        setDealsLoading(false);\n      }\n    };\n\n    loadDeals();\n  }, [selectedSegment, accountType, minAmount, appliedStartDate, appliedEndDate, utilities]);\n\n  // Apply date filters\n  const handleApplyFilters = () => {\n    setAppliedStartDate(pendingStartDate);\n    setAppliedEndDate(pendingEndDate);\n  };\n\n  // Clear date filters\n  const handleClearDates = () => {\n    setPendingStartDate(null);\n    setPendingEndDate(null);\n    setAppliedStartDate(null);\n    setAppliedEndDate(null);\n  };\n\n  // Handle stage click - drill down to deals in that stage\n  const handleStageClick = (clickData) => {\n    console.log(''Stage clicked:'', clickData);\n\n    // Set selected segment\n    setSelectedSegment(clickData);\n\n    // Fire external event if provided\n    if (onStageClick) {\n      onStageClick({\n        stage: clickData.label,\n        dealCount: clickData.records?.length || 0,\n        totalValue: clickData.value\n      });\n    }\n  };\n\n  // Clear selection\n  const handleClearSelection = () => {\n    setSelectedSegment(null);\n    setDealsData([]);\n  };\n\n  // Loading state\n  if (loading) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n        <div>Loading deal pipeline data...</div>\n      </div>\n    );\n  }\n\n  // General error state\n  if (errors.general) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>{errors.general}</div>\n      </div>\n    );\n  }\n\n  // Check if all queries failed\n  const allFailed = errors.pipeline && errors.velocity && errors.trends;\n  if (allFailed) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>All data queries failed to load</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: ''16px'', width: ''100%'', minWidth: ''800px'', boxSizing: ''border-box'' }}>\n      <h2 style={{ marginBottom: ''24px'', fontSize: ''20px'', fontWeight: ''bold'' }}>\n        Deal Pipeline Visualization\n      </h2>\n\n      {/* Date Filters */}\n      <div style={{\n        display: ''flex'',\n        gap: ''16px'',\n        alignItems: ''center'',\n        padding: ''16px'',\n        backgroundColor: ''#f5f5f5'',\n        borderRadius: ''8px'',\n        marginBottom: ''24px''\n      }}>\n        <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n          <label style={{ fontSize: ''14px'' }}>Start Date:</label>\n          <input\n            type=\"date\"\n            value={pendingStartDate || ''''}\n            onChange={(e) => setPendingStartDate(e.target.value || null)}\n            style={{\n              padding: ''6px 12px'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              fontSize: ''14px''\n            }}\n          />\n        </div>\n        <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n          <label style={{ fontSize: ''14px'' }}>End Date:</label>\n          <input\n            type=\"date\"\n            value={pendingEndDate || ''''}\n            onChange={(e) => setPendingEndDate(e.target.value || null)}\n            style={{\n              padding: ''6px 12px'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              fontSize: ''14px''\n            }}\n          />\n        </div>\n        <button\n          onClick={handleApplyFilters}\n          disabled={!pendingStartDate || !pendingEndDate}\n          style={{\n            padding: ''6px 16px'',\n            backgroundColor: (!pendingStartDate || !pendingEndDate) ? ''#d9d9d9'' : ''#1890ff'',\n            color: ''white'',\n            border: ''none'',\n            borderRadius: ''4px'',\n            cursor: (!pendingStartDate || !pendingEndDate) ? ''not-allowed'' : ''pointer'',\n            fontSize: ''14px'',\n            fontWeight: ''bold''\n          }}\n        >\n          Apply Filters\n        </button>\n        {(appliedStartDate || appliedEndDate) && (\n          <button\n            onClick={handleClearDates}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: ''#ff4d4f'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''14px''\n            }}\n          >\n            Clear Dates\n          </button>\n        )}\n      </div>\n\n      {/* Pipeline Distribution Chart */}\n      {!errors.pipeline && pipelineData.length > 0 && (\n        <div style={{ marginBottom: ''32px'' }}>\n          <h3 style={{ marginBottom: ''16px'', fontSize: ''16px'', fontWeight: ''bold'' }}>\n            Pipeline Distribution by Stage\n          </h3>\n          <SimpleChart\n            entityName=\"Deals\"\n            data={pipelineData}\n            chartType={chartType}\n            groupBy=\"Stage\"\n            valueField=\"TotalValue\"\n            aggregateMethod=\"sum\"\n            onDataPointClick={handleStageClick}\n            title=\"\"\n            showLegend={false}\n            height=\"300px\"\n            utilities={utilities}\n            styles={styles}\n            components={components}\n          />\n        </div>\n      )}\n      {errors.pipeline && (\n        <div style={{\n          marginBottom: ''32px'',\n          padding: ''16px'',\n          backgroundColor: ''#fff2e8'',\n          border: ''1px solid #ffbb96'',\n          borderRadius: ''4px'',\n          color: ''#d4380d''\n        }}>\n          Pipeline Distribution Error: {errors.pipeline}\n        </div>\n      )}\n\n      {/* Deal Velocity Chart */}\n      {!errors.velocity && velocityData.length > 0 && (\n        <div style={{ marginBottom: ''32px'' }}>\n          <h3 style={{ marginBottom: ''16px'', fontSize: ''16px'', fontWeight: ''bold'' }}>\n            Deal Velocity by Stage\n          </h3>\n          <SimpleChart\n            entityName=\"Deals\"\n            data={velocityData}\n            chartType={chartType}\n            groupBy=\"Stage\"\n            valueField=\"AvgDaysToClose\"\n            aggregateMethod=\"sum\"\n            title=\"\"\n            showLegend={false}\n            height=\"300px\"\n            utilities={utilities}\n            styles={styles}\n            components={components}\n          />\n        </div>\n      )}\n      {errors.velocity && (\n        <div style={{\n          marginBottom: ''32px'',\n          padding: ''16px'',\n          backgroundColor: ''#fff2e8'',\n          border: ''1px solid #ffbb96'',\n          borderRadius: ''4px'',\n          color: ''#d4380d''\n        }}>\n          Velocity Analysis Error: {errors.velocity}\n        </div>\n      )}\n\n      {/* Deal Entry Trends Chart - Only shown when segment is clicked */}\n      {selectedSegment && !errors.trends && trendsData.length > 0 && (\n        <div style={{ marginBottom: ''32px'' }}>\n          <h3 style={{ marginBottom: ''16px'', fontSize: ''16px'', fontWeight: ''bold'' }}>\n            {selectedSegment.label} Stage - Deal Open Date Distribution (Weekly)\n          </h3>\n          <SimpleChart\n            entityName=\"Deals\"\n            data={trendsData}\n            chartType=\"line\"\n            groupBy=\"Date\"\n            valueField=\"DealsEntered\"\n            aggregateMethod=\"sum\"\n            sortBy={undefined}\n            title=\"\"\n            showLegend={false}\n            height=\"300px\"\n            utilities={utilities}\n            styles={styles}\n            components={components}\n          />\n        </div>\n      )}\n      {selectedSegment && errors.trends && (\n        <div style={{\n          marginBottom: ''32px'',\n          padding: ''16px'',\n          backgroundColor: ''#fff2e8'',\n          border: ''1px solid #ffbb96'',\n          borderRadius: ''4px'',\n          color: ''#d4380d''\n        }}>\n          Trends Analysis Error: {errors.trends}\n        </div>\n      )}\n\n      {/* Stage Details Section - Drill-down */}\n      {selectedSegment && (\n        <div style={{ marginTop: ''32px'' }}>\n          {/* Header with clear selection button */}\n          <div style={{\n            marginBottom: ''16px'',\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            padding: ''12px 16px'',\n            backgroundColor: ''#e6f7ff'',\n            borderRadius: ''4px'',\n            border: ''1px solid #91d5ff''\n          }}>\n            <div style={{ fontSize: ''16px'', fontWeight: ''bold'', color: ''#0050b3'' }}>\n              Deals in {selectedSegment.label} Stage\n            </div>\n            <button\n              onClick={handleClearSelection}\n              style={{\n                padding: ''6px 16px'',\n                backgroundColor: ''#1890ff'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px'',\n                fontWeight: ''500''\n              }}\n            >\n              Clear Selection\n            </button>\n          </div>\n\n          {/* Deals Loading State */}\n          {dealsLoading && (\n            <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n              <div>Loading deal details...</div>\n            </div>\n          )}\n\n          {/* Deals Error State */}\n          {errors.deals && !dealsLoading && (\n            <div style={{\n              marginBottom: ''16px'',\n              padding: ''16px'',\n              backgroundColor: ''#fff2e8'',\n              border: ''1px solid #ffbb96'',\n              borderRadius: ''4px'',\n              color: ''#d4380d''\n            }}>\n              Deal Details Error: {errors.deals}\n            </div>\n          )}\n\n          {/* DataGrid */}\n          {!dealsLoading && !errors.deals && dealsData && dealsData.length > 0 && (\n            <DataGrid\n              entityName=\"Deals\"\n              entityPrimaryKeys={[''ID'']}\n              data={dealsData}\n              columns={[\n                { field: ''DealName'', header: ''Deal Name'', sortable: true },\n                { field: ''Stage'', header: ''Stage'', sortable: true },\n                {\n                  field: ''Amount'',\n                  header: ''Amount'',\n                  sortable: true,\n                  render: (value) => {\n                    return value != null ? `$$' + '{Number(value).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : ''$0.00'';\n                  }\n                },\n                {\n                  field: ''Probability'',\n                  header: ''Probability'',\n                  sortable: true,\n                  render: (value) => {\n                    return value != null ? `$' + '{Number(value).toFixed(0)}%` : ''0%'';\n                  }\n                },\n                { field: ''ExpectedCloseDate'', header: ''Expected Close'', sortable: true },\n                { field: ''Account'', header: ''Account'', sortable: true },\n                { field: ''Owner'', header: ''Owner'', sortable: true },\n                {\n                  field: ''DaysInStage'',\n                  header: ''Days in Stage'',\n                  sortable: true,\n                  render: (value) => {\n                    return value != null ? Number(value).toLocaleString() : ''0'';\n                  }\n                }\n              ]}\n              sorting={true}\n              paging={true}\n              pageSize={20}\n              showPageSizeChanger={true}\n              filtering={true}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n            />\n          )}\n\n          {/* Empty State */}\n          {!dealsLoading && !errors.deals && (!dealsData || dealsData.length === 0) && (\n            <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n              <div style={{ fontSize: ''14px'' }}>No deals found in {selectedSegment.label} stage</div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage (no filters)\n<DealPipelineVisualization\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>\n\n// With event handlers\n<DealPipelineVisualization\n  onStageClick={(event) => {\n    console.log(`Stage $' + '{event.stage}: $' + '{event.dealCount} deals, $$' + '{event.totalValue}`);\n  }}\n  onDealClick={(event) => {\n    console.log(`Deal $' + '{event.dealName} clicked`);\n    // Navigate to deal detail page\n    router.push(`/deals/$' + '{event.dealId}`);\n  }}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>\n\n// With custom configuration via savedUserSettings\n<DealPipelineVisualization\n  savedUserSettings={{\n    stage: ''Proposal'',\n    accountType: ''Enterprise'',\n    minAmount: 50000,\n    monthsBack: 12,\n    daysBack: 180,\n    chartType: ''doughnut''\n  }}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  onSaveUserSettings={onSaveUserSettings}\n/>"}'
SET
  @FunctionalRequirements_3320222c = N'## Business Objectives
- Visualize current sales pipeline across all stages (Prospecting, Qualification, Proposal, Negotiation, Closed Won/Lost)
- Analyze stage transition velocity to identify bottlenecks
- Track deal values, probability, and days in stage for each pipeline stage
- Enable drill-down to individual deals and their products
- Support pipeline health monitoring with time-based trends

## Functional Requirements
- **Funnel Chart**: Display pipeline stages with deal count and total value (width proportional to deal count)
- **Velocity Heatmap**: Show average days to transition between stages (color-coded: green=fast, red=slow)
- **Stage-Specific Metrics**: When stage selected, show KPI cards (total value, deal count, avg days in stage, win rate)
- **Trend Analysis**: Conditional line chart showing deals entering selected stage over last 90 days
- **Deal Details Grid**: EntityDataGrid with deals in selected stage, including calculated DaysInStage column
- **Product Drill-Down**: Click deal row to show EntityDataGrid of deal products
- **Conditional Queries**: Trend query only executes when stage is selected
- **Calculated Fields**: Display custom DaysInStage field using SQL DATEDIFF in EntityDataGrid
- **Multi-Level State**: Track stage selection and optional deal selection
- **Clear Navigation**: Breadcrumb or back button to return to pipeline overview
- **Stage Highlighting**: Visual feedback for selected stage in funnel
- **Loading States**: Independent loading for each query and grid
- **Empty States**: Handle stages with no deals'
SET
  @TechnicalDesign_3320222c = N'## Component Architecture

### Data Flow
1. **Initial Load**: Three concurrent RunQuery calls execute for pipeline distribution, velocity analysis, and stage trends
2. **Chart Rendering**: Three SimpleChart instances display data independently
3. **User Interaction**: User clicks stage bar in Pipeline Distribution chart
4. **Drill-Down**: Component sets selectedSegment state and triggers Deal Pipeline Details query
5. **Grid Rendering**: DataGrid displays query results with OpenEntityRecord enabled
6. **Record Navigation**: Row click opens deal record via callbacks.OpenEntityRecord

### State Management
- `pipelineData`: Pipeline distribution query results
- `velocityData`: Velocity analysis query results
- `trendsData`: Stage trends query results
- `dealsData`: Deal Pipeline Details query results (for drilldown)
- `selectedSegment`: Currently selected pipeline stage (null = chart view, object = grid view)
- `loading`: Boolean for async operation status
- `dealsLoading`: Boolean for deals query loading
- `errors`: Object with error messages per query/operation
- Configuration state: `stage`, `accountType`, `minAmount`, `monthsBack`, `daysBack`, `chartType`

### Query Coordination
**Three Base Queries**: Execute in parallel on mount/parameter change
1. Deal Pipeline Distribution - Current pipeline by stage
2. Deal Velocity Analysis - Historical velocity metrics by stage
3. Deal Stage Trends - Daily deal entry trends

**Conditional Detail Query**: Executes when stage selected
4. Deal Pipeline Details - Raw deal records for drilldown grid

### Drill-Down Pattern (Query Pair)
**Click Pipeline Chart → Deal Pipeline Details Query → DataGrid**:
- Only Pipeline Distribution chart has click handler
- Sets `selectedSegment` with clickData structure
- Executes Deal Pipeline Details query with Stage parameter
- DataGrid appears BELOW all three charts with query results
- Blue header shows selected stage name
- Clear Selection button resets to chart-only view
- DataGrid has OpenEntityRecord enabled for direct record access

### DataGrid Integration
**Query Pair Pattern**:
- Aggregation query (Deal Pipeline Distribution) for charts
- Detail query (Deal Pipeline Details) for drilldown grid
- No SQL filter construction needed - query handles all filtering
- Parameters passed directly to query: Stage, AccountType, MinAmount, StartDate, EndDate

**OpenEntityRecord Feature**:
- Enabled by passing `entityName="Deals"` and `entityPrimaryKeys={[''ID'']}`
- Requires `callbacks` prop for OpenEntityRecord function
- Row click automatically opens deal record in entity viewer
- No custom onRowClick handler needed

### Event System
**onStageClick**: Fires when pipeline stage clicked, provides:
- stage, dealCount, totalValue

### Educational Value
Demonstrates:
1. **Multi-Query Coordination**: Four queries (3 base + 1 conditional) with independent error handling
2. **Query Pair Pattern**: Aggregation + detail queries for dashboard with drilldown
3. **DataGrid with OpenEntityRecord**: Direct entity record navigation without custom handlers
4. **Selective Drill-Down**: Only one chart has interactive drill-down
5. **Error Resilience**: Queries can fail independently without blocking others
6. **Parameterized Queries**: Clean query parameter passing without SQL filter construction
7. **Event Exposure**: External consumers can listen to user interactions'
SET
  @FunctionalRequirementsVector_3320222c = N'[-0.0011597188422456384,0.05912545323371887,-0.053367454558610916,-0.06315158307552338,-0.006989467889070511,-0.04501666873693466,0.0018643926596269011,-0.006574265193194151,-0.04427461326122284,-0.0005347660626284778,-0.0247237216681242,0.025713473558425903,0.016637304797768593,0.19694828987121582,-0.013453409075737,-0.06730588525533676,-0.006477441638708115,0.009381912648677826,-0.019567836076021194,0.037894394248723984,0.03243713825941086,-0.007527676876634359,-0.023570938035845757,0.022212522104382515,-0.016805578023195267,-0.02411777526140213,-0.03844381868839264,0.018354611471295357,0.010685469023883343,-0.12770900130271912,0.01257549598813057,0.014823959209024906,-0.012835182249546051,-0.0206205602735281,0.000002683413867998752,-0.04787120595574379,-0.06413622200489044,-0.019754650071263313,-0.040110088884830475,0.07522048056125641,0.05737067013978958,-0.017500611022114754,0.01854938641190529,0.020020553842186928,-0.018687237054109573,-0.05987747013568878,-0.04220794513821602,0.06544671952724457,-0.0027480709832161665,-0.013865690678358078,-0.008051023818552494,0.0028334795497357845,-0.05331353470683098,-0.01998068206012249,-0.04157501086592674,-0.05565989390015602,-0.014961082488298416,-0.06452944129705429,0.0554598830640316,-0.06855980306863785,-0.015368727967143059,0.016623036935925484,-0.023402029648423195,-0.051743630319833755,0.08394289761781693,0.05826467648148537,0.06060810014605522,-0.03113825060427189,-0.025882797315716743,0.0051253121346235275,0.021039333194494247,0.004280087538063526,-0.005205288529396057,-0.01514662429690361,-0.02682548202574253,-0.06390250474214554,-0.04005094990134239,0.010714687407016754,0.010597048327326775,0.017242131754755974,-0.050878625363111496,0.03722713887691498,-0.031570546329021454,-0.00945709366351366,0.021310055628418922,0.009730887599289417,-0.008298883214592934,-0.010058365762233734,-0.044246576726436615,-0.007380107883363962,0.060108061879873276,-0.05550844594836235,0.024234427139163017,-0.028531545773148537,-0.059309422969818115,-0.011449400335550308,0.06243637949228287,0.06529375910758972,0.020680567249655724,-0.04688785597681999,0.016414815559983253,0.01878306083381176,0.060633111745119095,0.03728129342198372,0.04522084817290306,-0.021187035366892815,-0.010381210595369339,-0.07254961878061295,-0.043686069548130035,0.06732577830553055,-0.00980472844094038,0.013657673262059689,-0.03784291446208954,0.011556638404726982,-0.017514662817120552,-0.003451620228588581,-0.06113085895776749,-0.0070002577267587185,-0.024452561512589455,0.04510701820254326,0.05877590924501419,0.018533693626523018,0.03880336880683899,0.027460385113954544,-0.014099903404712677,0.02772260457277298,-0.07677426189184189,-0.002937743440270424,0.0017293381970375776,0.00814947858452797,-0.014978497289121151,0.006012012250721455,-0.00396407674998045,0.0024773103650659323,-0.019643466919660568,0.011141186580061913,0.027810320258140564,0.010327106341719627,-0.11152996867895126,-0.009625140577554703,0.0023064562119543552,-0.006655703764408827,-0.06404435634613037,0.008018465712666512,-0.019781112670898438,-0.024450423195958138,-0.03505657613277435,0.07903251051902771,-0.010648793540894985,-0.010218646377325058,0.0373140424489975,-0.021778853610157967,0.015330552123486996,0.023506630212068558,0.006865877658128738,0.011089240200817585,0.014221906661987305,-0.0007291558431461453,0.04027109593153,0.0452406071126461,0.026266183704137802,-0.030245011672377586,-0.005953141953796148,-0.0003016226110048592,-0.05589555576443672,0.029407810419797897,0.03429729864001274,0.01112407073378563,-0.041692014783620834,-0.05797179043292999,-0.019015969708561897,-0.06316082179546356,-0.024123094975948334,0.06411316990852356,0.04369211196899414,-0.045249875634908676,0.08602401614189148,-0.047090187668800354,0.02885754033923149,0.05081921070814133,-0.007424023933708668,-0.1037566214799881,0.0066968840546905994,0.01770094968378544,0.039834730327129364,-0.012790784239768982,-0.05626390874385834,0.035503678023815155,-0.014453865587711334,0.000687062565702945,0.037309080362319946,0.03988629952073097,-0.03644585236907005,0.02523762360215187,-0.018819250166416168,0.016575124114751816,-0.008329270407557487,-0.02466459944844246,-0.00810405146330595,0.043300189077854156,-0.015580524690449238,0.004827887285500765,-0.0282183475792408,0.021039167419075966,0.006497426889836788,-0.03311332315206528,-0.015698770061135292,-0.016421278938651085,-0.09113756567239761,0.021141348406672478,0.08192158490419388,0.019262181594967842,-0.047058168798685074,0.03260580822825432,-0.013427268713712692,-0.01707749255001545,0.02614477649331093,0.003816987620666623,-0.03564869239926338,-0.00311708590015769,-0.03942989557981491,0.013342048972845078,0.06137552857398987,-0.004179228562861681,0.09438294917345047,0.03646797314286232,0.029559776186943054,0.00223635695874691,0.04408735781908035,0.029367445036768913,0.01625557616353035,0.010604958981275558,0.04707072302699089,0.01854165643453598,0.0029865619726479053,0.06571381539106369,0.08397559076547623,0.08976151049137115,-0.026740912348031998,0.043902695178985596,-0.012907266616821289,-0.07029907405376434,-0.015891529619693756,-0.010545401833951473,0.04937979206442833,-0.00568322092294693,-0.007374510634690523,0.02322750724852085,0.026500433683395386,0.003234350821003318,-0.0010530008003115654,0.0036549062933772802,0.04069286957383156,0.03955216705799103,0.002688314765691757,-0.016624365001916885,-0.10122032463550568,0.0009501808672212064,0.004295201972126961,0.06730841845273972,0.021750200539827347,-0.04368751496076584,-0.05873653665184975,-0.027802977710962296,0.009722419083118439,-0.05283413082361221,0.08163274824619293,-0.0294779222458601,-0.008524573408067226,0.028418926522135735,0.018000060692429543,0.03954414650797844,-0.001277842209674418,-0.022056955844163895,-0.010139542631804943,0.03360924869775772,-0.024346912279725075,0.014910069294273853,-0.05589941889047623,-0.014852135442197323,0.03562138229608536,-0.060720570385456085,-0.01895379088819027,0.019894467666745186,-0.0246829055249691,-0.001461759558878839,0.024048998951911926,-0.04681016877293587,-0.04863961786031723,0.008193005807697773,0.03103269822895527,-0.026839187368750572,-0.002692529233172536,0.021868539974093437,-0.053353216499090195,0.02354033663868904,-0.0012047463096678257,-0.060180388391017914,-0.016762685030698776,0.0010081555228680372,-0.00016262748977169394,-0.053603798151016235,-0.03145754709839821,-0.00031474026036448777,-0.027089787647128105,0.08808767050504684,0.020143214613199234,0.011893085204064846,0.02198093570768833,-0.012649164535105228,0.04116303473711014,0.002549016149714589,0.020161060616374016,-0.040450483560562134,0.01650693640112877,-0.0015031718648970127,0.017697660252451897,-0.003869543317705393,0.001299614435993135,0.0546637624502182,0.009488600306212902,-0.012092582881450653,-0.004961736965924501,-0.0046230037696659565,-0.03895386680960655,-0.004035305697470903,-0.036763668060302734,-0.047967661172151566,-0.0377759151160717,-0.02522280625998974,-0.017821582034230232,-0.021112048998475075,-0.02373599074780941,0.007220998872071505,0.010452373884618282,-0.002360811922699213,-0.017929429188370705,0.025223519653081894,-0.0068788365460932255,-0.03897800296545029,-0.03177260234951973,0.0008904138812795281,-0.056567829102277756,0.03354239463806152,0.059972308576107025,-0.021705588325858116,0.08121338486671448,0.027629133313894272,-0.05765610933303833,0.05267797410488129,0.003914583474397659,0.05335691198706627,0.022743120789527893,-0.0595889650285244,0.04193253442645073,-0.011985891498625278,-0.04268060252070427,-0.03064766153693199,0.030503708869218826,-0.04704907909035683,0.04933219030499458,0.025062166154384613,0.03893514350056648,0.015720820054411888,-0.018717056140303612,0.031096119433641434,0.005493945442140102,-0.036386068910360336,0.019784539937973022,0.014552219770848751,-0.016838977113366127,0.012225466780364513,0.0382361114025116,0.003554654773324728,0.0022980417124927044,0.013307572342455387,0.03929154947400093,0.04188459739089012,0.02456868626177311,0.013973007909953594,0.035895634442567825,-0.04981648921966553,0.116070955991745,-0.020522087812423706,0.07818334549665451,-0.003365360200405121,-0.013363548554480076,-0.05450786277651787,-0.04131262004375458,0.03333420306444168,-0.005060019437223673,-0.004020783584564924,0.03861244022846222,-0.04326627030968666,-0.006145141553133726,0.0003785545122809708,-0.03680969774723053,0.04168534651398659,-0.015199177898466587,-0.018626229837536812,-0.0008708862005732954,-0.04507029429078102,-0.005625652149319649,0.023514294996857643,0.027812601998448372,-0.05002414807677269,-0.007807629182934761,0.008362220600247383,0.02917003631591797,0.05545549467206001,-0.033165667206048965,-0.019049331545829773,-0.0024950853548943996,-0.016017144545912743,0.034759603440761566,-0.0082103805616498,0.0066419485956430435,0.00022248461027629673,0.019949261099100113,0.00852870475500822,0.025862034410238266,0.050668053328990936,0.017540331929922104,-0.024414462968707085,-0.03219497948884964,-0.024210767820477486,0.005612326320260763,-0.03787202388048172,0.002355690347030759,-0.0075572398491203785,-0.040337491780519485,0.0010769142536446452,0.014846035279333591,0.025779355317354202,-0.05161476135253906,-0.02305738814175129,0.03428306430578232,0.03332260996103287,0.013625710271298885,0.005304921418428421,-0.014353453181684017,0.0217108316719532,0.026870083063840866,0.0173669271171093,0.05850030481815338,-0.005855516530573368,-0.0019492106512188911,0.014104516245424747,-0.01832488924264908,0.016545075923204422,0.013347258791327477,-0.046777334064245224,0.009478296153247356,-0.034066926687955856,-0.01043612603098154,-0.011050775647163391,-0.020557543262839317,-0.04951968044042587,0.017412930727005005,-0.021922843530774117,0.018649742007255554,0.029911503195762634,-0.0650678351521492,0.016622532159090042,0.04565942659974098,-0.07082671672105789,-0.026964524760842323,-0.027007494121789932,-0.06684029847383499,-0.038157131522893906,0.07032262533903122,-0.03222866356372833,-0.0367172472178936,0.03366033732891083,0.050306204706430435,0.01219973899424076,0.033770106732845306,0.05875678360462189,0.03483421355485916,0.014680638909339905,-0.008566386066377163,0.017672382295131683,0.025038456544280052,-0.060329340398311615,0.0033531764056533575,0.030957041308283806,-0.009464270435273647,-0.006187017075717449,-0.008533820509910583,-0.013672098517417908,0.01518376637250185,-0.0016974058235064149,0.011646157130599022,0.021397531032562256,0.001463447930291295,-0.010360447689890862,-0.03743087872862816,0.029162468388676643,0.014028745703399181,-0.018848422914743423,0.003515492659062147,-0.002557795960456133,0.03355882689356804,-0.01921427808701992,0.0012722191167995334,0.01722782664000988,0.014414019882678986,0.01987881027162075,-0.020644335076212883,-0.004653087351471186,0.00012518942821770906,-0.02703210897743702,0.024023981764912605,-0.03959760442376137,0.036271821707487106,0.02096373587846756,-0.020093971863389015,-0.015881745144724846,0.011584477499127388,-0.04585634917020798,0.019604042172431946,-0.007215541787445545,-0.02556687407195568,0.011512916535139084,0.0028616762720048428,-0.06126316264271736,0.02647917903959751,-0.015595951117575169,-0.015885289758443832,0.019648239016532898,-0.010922913439571857,-0.01343133021146059,-0.060452841222286224,0.017298230901360512,-0.03814315423369408,0.005181431770324707,0.008622907102108002,0.04573806747794151,-0.02963295951485634,0.02274634875357151,-0.1228359192609787,0.027683237567543983,0.008840351365506649,-0.0613611564040184,-0.004764782264828682,0.007992453873157501,0.0031572156585752964,-0.05003274977207184,-0.016661616042256355,-0.012588400393724442,0.0014943307032808661,-0.04808201268315315,0.02281750738620758,-0.012667898088693619,-0.05329547077417374,-7.604968701188271e-33,-0.00036351775634102523,-0.027523305267095566,0.003363771131262183,-0.007133448962122202,0.00007548034773208201,-0.026516743004322052,0.005939044989645481,-0.025592418387532234,-0.011022407561540604,-0.014076713472604752,-0.021222149953246117,-0.04328107833862305,0.025025149807333946,0.0009318599477410316,0.03715124353766441,0.02419315092265606,0.04095044359564781,-0.009130355902016163,-0.050037723034620285,0.0007497421465814114,-0.035066429525613785,0.029162608087062836,0.02831214852631092,0.029455753043293953,0.004873219877481461,0.024362893775105476,-0.04581272229552269,0.015499123372137547,0.023863157257437706,0.006591628771275282,0.017446646466851234,-0.019990235567092896,-0.006498392671346664,-0.0895533487200737,-0.012746000662446022,-0.04696433246135712,-0.04507073387503624,0.009114665910601616,0.010548649355769157,-0.015875907614827156,0.03135449066758156,0.046348948031663895,0.031226739287376404,-0.0037595194298774004,-0.00016953825252130628,0.01843435689806938,0.022159608080983162,-0.0021346602588891983,0.0388805978000164,-0.02318713441491127,-0.003003456862643361,0.007719162851572037,-0.029109107330441475,0.09177673608064651,0.01354460883885622,0.07982977479696274,0.02867642603814602,-0.048279810696840286,-0.09521917998790741,0.01831197366118431,-0.0615324042737484,-0.00929123442620039,0.011808491311967373,-0.0033397916704416275,0.03470372408628464,0.007770422846078873,-0.00317205348983407,0.035800397396087646,0.025975026190280914,-0.011303494684398174,0.012583083473145962,0.043594345450401306,-0.017930179834365845,-0.07367836683988571,-0.02388795092701912,0.009476125240325928,-0.004266960080713034,0.03964425250887871,0.012981640174984932,0.044261012226343155,-0.00885459128767252,0.014256115071475506,-0.02882659249007702,0.024784503504633904,0.04158937186002731,-0.0027107105124741793,-0.007753131445497274,0.014157055877149105,0.03393115475773811,0.02765854261815548,-0.014977640472352505,0.029929131269454956,-0.0499240905046463,0.03253576532006264,-0.07718051970005035,0.014282625168561935,0.050776030868291855,0.04428628087043762,0.014304159209132195,-0.04524442180991173,0.04721435159444809,0.016515102237462997,0.03179708123207092,-0.020492807030677795,0.012720602564513683,-0.008798938244581223,-0.02341344952583313,-0.00885037612169981,-0.03929277881979942,0.01720517873764038,0.03633734583854675,0.009942437522113323,-0.014614241197705269,-0.0035849830601364374,0.007737666834145784,-0.038070227950811386,-0.009841673076152802,-0.013765189796686172,0.024038100615143776,0.031737856566905975,0.008653787896037102,0.06805453449487686,-0.007542296778410673,0.00594260124489665,0.026566414162516594,-0.0012953574769198895,0.00784048531204462,-0.06490465998649597,0.023536913096904755,-0.02345970645546913,-0.0059662931598722935,0.0050161899998784065,3.5258472053101286e-7,0.039135660976171494,0.03484124317765236,-0.019637146964669228,0.08605556190013885,-0.011773606762290001,0.01083474513143301,-0.04717189073562622,-0.023389426991343498,-0.004564383998513222,-0.026961900293827057,0.05457130819559097,-0.009227867238223553,-0.026376286521553993,0.06469082087278366,-0.012210490182042122,-0.12255217880010605,0.07918530702590942,-0.03006303682923317,-0.0716966986656189,-0.03366418182849884,0.05273745208978653,0.031213130801916122,0.10132693499326706,0.008644216693937778,0.04020128399133682,0.04496962949633598,-0.04860803484916687,-0.039927203208208084,0.02500835433602333,0.054880157113075256,0.0023911541793495417,-0.046083319932222366,-0.05956082418560982,0.012470735237002373,-0.033027805387973785,0.012160939164459705,-0.05354013293981552,0.0032550476025789976,0.05346368998289108,0.008834674023091793,-0.006491017993539572,-0.05329795554280281,-0.005426643881946802,-0.08317636698484421,0.0036609971430152655,-0.042695630341768265,-0.01414279080927372,-0.0030958931893110275,-0.03332032635807991,0.007186622824519873,0.03941426798701286,0.05305485054850578,-0.023090403527021408,0.004829999525099993,0.013470085337758064,0.003233260940760374,0.009919132106006145,0.02162274345755577,0.026562150567770004,0.07417771965265274,-0.026389198377728462,0.03981759026646614,-0.004306938964873552,0.05570875480771065,0.0014604672323912382,0.000792961276602,0.0071097505278885365,3.923060408123243e-34,0.020062768831849098,-0.006080014631152153,0.022708332166075706,-0.03709955886006355,0.030140947550535202,-0.030989162623882294,0.017649171873927116,-0.029528561979532242,0.016928881406784058,-0.0436108224093914,-0.03408540040254593]'
SET
  @TechnicalDesignVector_3320222c = N'[-0.019155610352754593,0.08577952533960342,-0.023239001631736755,-0.06944797188043594,0.000881691521499306,0.010523136705160141,0.013708901591598988,-0.0034521857742220163,-0.047508057206869125,0.03422560170292854,-0.03216199204325676,0.038427069783210754,0.013582429848611355,0.09282391518354416,-0.011129663325846195,-0.022472506389021873,-0.011833622120320797,0.030655015259981155,-0.01082551945000887,-0.02586423046886921,0.01668938621878624,-0.022575218230485916,-0.01241205632686615,-0.011388595215976238,-0.008441735990345478,-0.030575865879654884,-0.04971576854586601,0.028803687542676926,0.023707540705800056,-0.08983171731233597,0.01455050427466631,0.04358679801225662,0.00901471171528101,0.029697110876441002,0.0000019787335077126045,-0.03694259375333786,-0.01353776827454567,0.0032828906551003456,-0.005082257091999054,0.02465212345123291,0.024207906797528267,-0.07798561453819275,0.04077877104282379,-0.011800084263086319,0.001468549482524395,-0.08387062698602676,-0.048455290496349335,0.00924529880285263,0.0286993570625782,-0.041973505169153214,0.012088023126125336,0.0363730750977993,-0.018234796822071075,0.0003867743944283575,-0.0360880084335804,-0.0365515872836113,0.0005951017374172807,0.0018984101479873061,0.09659679979085922,-0.036422066390514374,-0.03051610477268696,0.006153599824756384,0.0008137867553159595,-0.04976113513112068,0.027180301025509834,-0.000630713882856071,0.0818714052438736,-0.012862099334597588,0.000007983913747011684,-0.006027996074408293,0.08202467858791351,-0.02672305703163147,0.0013876359444111586,-0.028848500922322273,-0.06656043231487274,-0.04002531245350838,-0.030931107699871063,-0.00825554970651865,-0.010738310404121876,0.006347849499434233,-0.030812134966254234,0.03506796061992645,-0.028657348826527596,-0.0014330806443467736,-0.01921813003718853,0.0251750648021698,0.0016707241302356124,0.011645185761153698,-0.023075437173247337,-0.005804966203868389,0.08194072544574738,-0.00761897349730134,-0.007014193572103977,0.005027607548981905,-0.12974683940410614,-0.01754886656999588,0.031960099935531616,-0.06911782175302505,0.042877040803432465,0.044761233031749725,0.010634406469762325,0.02458392269909382,0.09642931818962097,-0.008420005440711975,0.11134937405586243,0.03449539840221405,-0.01669505052268505,-0.01852898672223091,-0.04438392445445061,-0.016287323087453842,-0.0004044410597998649,0.02951887622475624,-0.00653169397264719,0.02433527261018753,-0.012970096431672573,-0.005669663660228252,-0.0249733068048954,-0.0016091052675619721,0.0038289062213152647,0.02260059304535389,0.06184152141213417,-0.013249250128865242,-0.006097456440329552,0.06135286018252373,0.05158240720629692,0.015907229855656624,-0.0187502671033144,-0.04428541660308838,-0.03195583447813988,-0.018886350095272064,-0.05987374857068062,-0.00024523705360479653,0.02574041113257408,-0.005494787357747555,-0.02374766767024994,0.026106655597686768,0.015157551504671574,0.040745191276073456,-0.06229958310723305,-0.042242132127285004,0.02486710622906685,-0.017066629603505135,-0.016904566437005997,0.05100168287754059,0.02441379427909851,0.004028796683996916,0.025965645909309387,0.07757395505905151,0.0018934505060315132,0.041553985327482224,0.012181863188743591,-0.0214997585862875,0.05204395204782486,0.017762813717126846,-0.024558518081903458,0.008317314088344574,0.0227667149156332,0.0324375256896019,0.03023940697312355,0.005057229660451412,0.008434375748038292,0.028194474056363106,0.0439334511756897,0.005072903819382191,-0.0030843752902001143,0.06618500500917435,-0.020375503227114677,0.013523411937057972,0.0008760207565501332,-0.012083753012120724,0.04155147820711136,-0.03936745226383209,-0.023467661812901497,0.02382432110607624,0.02429402619600296,-0.01034629624336958,0.07008080184459686,-0.08578173071146011,-0.03677782788872719,0.019426697865128517,-0.041697509586811066,-0.04178229719400406,0.0201098695397377,-0.015548442490398884,0.1382465660572052,-0.041122402995824814,-0.02718852087855339,0.04060908406972885,-0.0032813334837555885,0.02030421793460846,0.023711472749710083,0.0487973727285862,-0.0904872864484787,0.003204920794814825,-0.018858758732676506,0.015156087465584278,-0.01755593903362751,-0.05971982702612877,0.03491385653614998,0.04829098656773567,-0.013470386154949665,0.014505162835121155,-0.020308220759034157,-0.03643658757209778,-0.00038745850906707346,0.017581116408109665,-0.06717818975448608,0.007556108292192221,-0.049225181341171265,-0.04405738413333893,0.001786374836228788,-0.008404544554650784,-0.050556786358356476,0.012962879613041878,-0.009771493263542652,0.03123391792178154,0.023001188412308693,0.0024552347604185343,-0.020546093583106995,-0.008599919266998768,-0.07067491859197617,0.026811696588993073,0.027006810531020164,-0.002913098782300949,0.09248338639736176,0.06346078217029572,0.06244503706693649,-0.05751998722553253,0.05581034719944,-0.03715100884437561,-0.01546411868184805,-0.033479951322078705,0.020902520045638084,0.05126431956887245,0.004440040793269873,0.07456216216087341,-0.017527202144265175,0.02289285510778427,-0.057018328458070755,0.05325860530138016,0.03492726385593414,-0.07899819314479828,-0.047250330448150635,-0.008505960926413536,-0.002312841359525919,-0.033106058835983276,-0.1296524852514267,0.01812717132270336,0.0013455060543492436,-0.010708478279411793,0.023327603936195374,0.0067648193798959255,0.0018564178608357906,-0.005348109174519777,-0.00921125803142786,-0.021839682012796402,0.007880100980401039,-0.0021106088533997536,-0.0317634642124176,0.08280311524868011,0.04927608370780945,-0.006581679917871952,-0.004625359084457159,-0.06777486205101013,-0.00437536183744669,-0.022494696080684662,0.0636083260178566,0.023206321522593498,0.028267022222280502,0.02272055670619011,0.020701805129647255,0.019831275567412376,0.017858929932117462,-0.0028959501069039106,-0.009406671859323978,0.022010404616594315,0.015846824273467064,0.07226498425006866,-0.026404719799757004,-0.05536219850182533,-0.013024350628256798,-0.015319539234042168,0.0453212670981884,0.020856238901615143,-0.014518900774419308,0.027171680703759193,0.03963594511151314,-0.03439398854970932,-0.017270568758249283,-0.09198213368654251,0.03498280048370361,-0.025369416922330856,0.014803593046963215,-0.016010548919439316,-0.030054178088903427,0.042023029178380966,0.010026969015598297,0.025364788249135017,-0.04252371937036514,0.001905526383779943,-0.019736452028155327,-0.03314739093184471,-0.02050459198653698,0.008208336308598518,-0.028226712718605995,0.031931355595588684,0.03781690075993538,0.03468158096075058,0.03512593358755112,0.01333654671907425,0.047658082097768784,0.014682323671877384,0.05362905189394951,-0.018522605299949646,0.003907514736056328,0.02643987163901329,0.03982904180884361,-0.00010135712363990024,-0.016159603372216225,0.019948774948716164,0.005132292862981558,-0.03969902545213699,0.008508306927978992,0.003607746446505189,-0.05999978259205818,-0.029119882732629776,-0.05946902185678482,-0.04147228226065636,-0.04003859683871269,0.015895260497927666,0.029619915410876274,-0.07086623460054398,-0.040790051221847534,0.0013562137028202415,0.03781864419579506,-0.03612276539206505,-0.02639102004468441,0.012055601924657822,-0.00873555801808834,-0.033360473811626434,0.015510807745158672,0.008415679447352886,-0.06084341183304787,0.06047194078564644,0.01625407300889492,0.009548828937113285,0.09232717752456665,-0.03739425912499428,-0.02571619488298893,-0.0038352522533386946,-0.010874626226723194,0.051055099815130234,-0.017589086666703224,-0.02200283668935299,-0.006736950948834419,0.021804407238960266,-0.03221523016691208,0.029276810586452484,-0.03003738448023796,-0.0007122464594431221,0.04072263836860657,0.08334489911794662,0.041869282722473145,0.015425379388034344,0.014482497237622738,0.026392869651317596,0.02371099777519703,-0.021503295749425888,0.014418680220842361,-0.05437581613659859,-0.03560750558972359,-0.00595823721960187,0.004735150840133429,-0.01855623908340931,-0.015047197230160236,-0.04508528485894203,0.025624848902225494,0.05454236641526222,0.06031293049454689,0.0032562275882810354,0.026866579428315163,-0.03962847962975502,0.10423709452152252,0.016516396775841713,0.09489795565605164,-0.017343174666166306,0.030906694009900093,-0.05136945843696594,-0.04334281384944916,0.061111144721508026,0.012538537383079529,0.01592681184411049,0.04134261608123779,-0.06355518102645874,-0.004978763405233622,0.02416657656431198,-0.012953415513038635,0.05067988112568855,0.0522448904812336,0.0005787150585092604,-0.0324937142431736,0.10456181317567825,-0.00545060308650136,0.01082796324044466,0.02687586098909378,-0.05659451708197594,-0.02626928873360157,0.01886763796210289,0.031212911009788513,0.024327239021658897,-0.030257074162364006,-0.07332707196474075,-0.04384680464863777,-0.06784145534038544,0.016302771866321564,0.01265508309006691,-0.0034041274338960648,-0.048257019370794296,0.029000097885727882,-0.006935271434485912,-0.006602758076041937,-0.0012342543341219425,0.026297226548194885,-0.011654406785964966,0.015588934533298016,-0.05190534517168999,0.00559542141854763,-0.022476861253380775,-0.022623460739850998,0.006891478318721056,0.0054616667330265045,-0.004887265153229237,0.028493881225585938,0.008256732486188412,-0.030944427475333214,-0.0031795352697372437,0.07715126127004623,0.01728709228336811,-0.04847472161054611,0.0175675917416811,0.005866973195225,0.017176274210214615,0.09933320432901382,0.017638174816966057,0.0321018323302269,0.004125251434743404,-0.04442631080746651,0.04330330714583397,-0.047494303435087204,-0.003822555998340249,0.009423976764082909,-0.029758963733911514,-0.00519658112898469,-0.003850318491458893,0.0024750824086368084,-0.04736755043268204,-0.03142530843615532,-0.05670813471078873,-0.04102756455540657,-0.006707474123686552,-0.03175784647464752,0.021714305505156517,-0.010381603613495827,-0.01857735589146614,0.03246813267469406,-0.07826098799705505,0.003101689973846078,-0.01697990670800209,-0.00633752066642046,-0.031915225088596344,0.02864176407456398,-0.01393106859177351,-0.028036145493388176,0.01725303940474987,0.03697717562317848,0.010896246880292892,0.008024000562727451,-0.02214958146214485,-0.01130345743149519,-0.023375513032078743,0.041034355759620667,0.004750304855406284,0.029565727338194847,-0.10526669025421143,0.01735568419098854,0.029564261436462402,-0.0017581512220203876,-0.010515023022890091,-0.021364964544773102,0.006976432632654905,-0.024186981841921806,-0.016375653445720673,-0.05181034281849861,0.007817648351192474,0.045639291405677795,-0.0027422751300036907,-0.05455726012587547,-0.026971427723765373,0.024818163365125656,-0.05016860365867615,-0.013949907384812832,-0.019053475931286812,0.01231340505182743,-0.005428806412965059,0.013374493457376957,0.011201784946024418,0.019542720168828964,0.011169563047587872,-0.0028411357197910547,-0.006168060470372438,0.013617650605738163,-0.06239264830946922,-0.05871698632836342,-0.02323502115905285,0.04756772890686989,-0.03040178492665291,-0.02923545241355896,0.016302429139614105,0.015085970982909203,0.010880613699555397,0.00026814223383553326,0.009986435063183308,-0.02655380591750145,-0.018495189025998116,0.0521603524684906,-0.004320924635976553,0.009584271349012852,-0.0022011680994182825,0.03037693351507187,0.03331596776843071,0.002892570337280631,-0.003501607570797205,0.002944579813629389,-0.009037218056619167,-0.018732232972979546,0.0340307392179966,0.012919963337481022,-0.0004182445409242064,0.03973861411213875,-0.0057012299075722694,-0.03595525771379471,0.026336362585425377,0.027577729895710945,-0.025665391236543655,0.006185849662870169,-0.04544688016176224,0.010790218599140644,-0.05007123947143555,0.01677539199590683,0.007515904493629932,0.02170572616159916,-0.041507989168167114,0.007839631289243698,-0.045302391052246094,-0.02551485225558281,-6.926222834660127e-33,0.011389079503715038,-0.04275557026267052,-0.03251524269580841,-0.009688039310276508,-0.019058723002672195,-0.05276274308562279,0.04441753774881363,-0.0634433925151825,-0.007166880648583174,-0.01888609491288662,-0.012006446719169617,-0.002063593128696084,0.014218010939657688,-0.006983425468206406,0.0013675213558599353,0.004146538209170103,0.033500123769044876,-0.029903629794716835,-0.020768238231539726,0.05712403357028961,0.00027783523546531796,0.0391978845000267,-0.007633828558027744,0.0021999578457325697,-0.015279719606041908,-0.012958507984876633,-0.01615440472960472,0.032666463404893875,-0.07565798610448837,0.00257822684943676,0.005090828984975815,-0.031405311077833176,-0.025812817737460136,-0.05132908746600151,-0.046807046979665756,-0.04084443300962448,-0.05300034582614899,-0.023803265765309334,-0.01710432954132557,0.026557261124253273,0.052704695612192154,0.02655344270169735,0.051068540662527084,0.002049726666882634,-0.003873778972774744,-0.03385201469063759,-0.021657319739460945,0.03960137441754341,-0.020950188860297203,-0.08200357109308243,0.018963133916258812,-0.003172832541167736,0.017402328550815582,0.04446845501661301,0.004983682185411453,0.012326650321483612,0.04506229609251022,0.07968912273645401,-0.10625805705785751,0.015225675888359547,-0.02699815295636654,-0.033326175063848495,0.026507796719670296,0.04706462100148201,0.06096676364541054,-0.030624905601143837,0.005523413885384798,-0.02132096141576767,-0.0016193320043385029,0.03691743686795235,-0.0075805578380823135,-0.01370906550437212,-0.04155387356877327,-0.06680276244878769,0.015201565809547901,0.0024294049944728613,-0.03930571302771568,-0.023580165579915047,-0.07029453665018082,0.032973695546388626,-0.014085594564676285,0.002338132355362177,-0.0010736857075244188,0.011501692235469818,-0.004425658378750086,-0.036375343799591064,0.006508427672088146,0.029322883114218712,-0.004224394913762808,0.012484151870012283,0.01067405752837658,0.025989726185798645,-0.05005941167473793,0.04327762871980667,-0.09583715349435806,0.037920139729976654,0.03757013753056526,0.008983478881418705,-0.006159009411931038,0.003609812119975686,0.03048017993569374,0.0444948635995388,-0.0038941523525863886,-0.009193390607833862,0.004343298729509115,0.030244000256061554,0.02756432443857193,0.012100794352591038,-0.04817349091172218,0.0014911734033375978,0.015622938983142376,0.02708088606595993,-0.01669948920607567,-0.006618209648877382,0.017626622691750526,0.002403808059170842,-0.008704711683094501,0.0029362414497882128,0.06202318146824837,0.04905146732926369,-0.0017212642123922706,0.06296355277299881,-0.02576628513634205,0.02484612911939621,0.042646486312150955,0.02227751351892948,0.011826605536043644,-0.04587570205330849,-0.002759769558906555,-0.01887737773358822,0.010605440475046635,0.042203836143016815,2.9437967441481305e-7,-0.012232177890837193,-0.0019575655460357666,-0.0690591111779213,0.07595144957304001,0.011641397140920162,-0.004370040260255337,-0.04575391486287117,-0.026064669713377953,0.007429581135511398,-0.06601942330598831,0.01371989119797945,-0.00986513216048479,0.002613488584756851,0.05037662014365196,-0.030407752841711044,-0.029259203001856804,0.04448673129081726,0.012355570681393147,-0.05394310876727104,-0.04424009099602699,0.04763297736644745,0.02531994879245758,0.054573290050029755,0.007598677184432745,0.022934794425964355,0.039165738970041275,-0.027860477566719055,0.010242268443107605,-0.00756590673699975,0.01863599196076393,0.06113559752702713,-0.053768306970596313,-0.00987368542701006,0.052641771733760834,0.005934299901127815,0.04700016230344772,-0.05858743563294411,-0.032747916877269745,0.0195145346224308,0.018701594322919846,0.02403700351715088,-0.018304094672203064,-0.003966431133449078,-0.015508685261011124,0.011140760965645313,-0.057890117168426514,-0.013243663124740124,0.06939781457185745,-0.0011902700643986464,0.020561927929520607,0.03133499622344971,0.035128314048051834,-0.012079224921762943,-0.005918002221733332,0.020072296261787415,0.01746131293475628,0.017632056027650833,0.03530867025256157,0.0261622816324234,0.027566540986299515,-0.00339924986474216,-0.03642866015434265,0.032237764447927475,0.022513119503855705,-0.015957849100232124,-0.004390768241137266,-0.03094080649316311,4.391139962733274e-34,0.04609043896198273,-0.042345840483903885,0.05238662660121918,0.011265636421740055,0.03768012672662735,-0.04133448749780655,0.04474359005689621,0.001730400021187961,0.041462741792201996,-0.09929388016462326,-0.03324936330318451]'
SET
  @HasCustomProps_3320222c = 1
SET
  @HasCustomEvents_3320222c = 1
SET
  @RequiresData_3320222c = 1
SET
  @DependencyCount_3320222c = 2
SET
  @TechnicalDesignVectorEmbeddingModelID_3320222c = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_3320222c = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_3320222c = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_3320222c,
  @Namespace = @Namespace_3320222c,
  @Name = @Name_3320222c,
  @Version = @Version_3320222c,
  @VersionSequence = @VersionSequence_3320222c,
  @Title = @Title_3320222c,
  @Description = @Description_3320222c,
  @Type = @Type_3320222c,
  @Status = @Status_3320222c,
  @DeveloperName = @DeveloperName_3320222c,
  @DeveloperEmail = @DeveloperEmail_3320222c,
  @DeveloperOrganization = @DeveloperOrganization_3320222c,
  @SourceRegistryID = @SourceRegistryID_3320222c,
  @ReplicatedAt = @ReplicatedAt_3320222c,
  @LastSyncedAt = @LastSyncedAt_3320222c,
  @Specification = @Specification_3320222c,
  @FunctionalRequirements = @FunctionalRequirements_3320222c,
  @TechnicalDesign = @TechnicalDesign_3320222c,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_3320222c,
  @TechnicalDesignVector = @TechnicalDesignVector_3320222c,
  @HasCustomProps = @HasCustomProps_3320222c,
  @HasCustomEvents = @HasCustomEvents_3320222c,
  @RequiresData = @RequiresData_3320222c,
  @DependencyCount = @DependencyCount_3320222c,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_3320222c,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_3320222c,
  @HasRequiredCustomProps = @HasRequiredCustomProps_3320222c;

-- Save MJ: Components (core SP call only)
DECLARE @ID_b2d662d2 UNIQUEIDENTIFIER,
@Namespace_b2d662d2 NVARCHAR(MAX),
@Name_b2d662d2 NVARCHAR(500),
@Version_b2d662d2 NVARCHAR(50),
@VersionSequence_b2d662d2 INT,
@Title_b2d662d2 NVARCHAR(1000),
@Description_b2d662d2 NVARCHAR(MAX),
@Type_b2d662d2 NVARCHAR(255),
@Status_b2d662d2 NVARCHAR(50),
@DeveloperName_b2d662d2 NVARCHAR(255),
@DeveloperEmail_b2d662d2 NVARCHAR(255),
@DeveloperOrganization_b2d662d2 NVARCHAR(255),
@SourceRegistryID_b2d662d2 UNIQUEIDENTIFIER,
@ReplicatedAt_b2d662d2 DATETIMEOFFSET,
@LastSyncedAt_b2d662d2 DATETIMEOFFSET,
@Specification_b2d662d2 NVARCHAR(MAX),
@FunctionalRequirements_b2d662d2 NVARCHAR(MAX),
@TechnicalDesign_b2d662d2 NVARCHAR(MAX),
@FunctionalRequirementsVector_b2d662d2 NVARCHAR(MAX),
@TechnicalDesignVector_b2d662d2 NVARCHAR(MAX),
@HasCustomProps_b2d662d2 BIT,
@HasCustomEvents_b2d662d2 BIT,
@RequiresData_b2d662d2 BIT,
@DependencyCount_b2d662d2 INT,
@TechnicalDesignVectorEmbeddingModelID_b2d662d2 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_b2d662d2 NVARCHAR(MAX),
@HasRequiredCustomProps_b2d662d2 BIT
SET
  @ID_b2d662d2 = '10D09796-10E6-4850-924A-57BCE90FAB8E'
SET
  @Namespace_b2d662d2 = N'CRM/Finance'
SET
  @Name_b2d662d2 = N'InvoiceAgingAnalysis'
SET
  @Version_b2d662d2 = N'1.0.0'
SET
  @VersionSequence_b2d662d2 = 1
SET
  @Title_b2d662d2 = N'Invoice Aging Analysis'
SET
  @Description_b2d662d2 = N'Accounts receivable aging analysis showing overdue invoices by aging buckets, payment trends, and top accounts by outstanding balance.'
SET
  @Type_b2d662d2 = N'Dashboard'
SET
  @Status_b2d662d2 = N'Published'
SET
  @Specification_b2d662d2 = N'{"name":"InvoiceAgingAnalysis","title":"Invoice Aging Analysis","type":"dashboard","userExplanation":"Master-level accounts receivable dashboard with aging buckets, payment trends, and interactive filters. Shows outstanding balances by aging period (0-30, 30-60, 60-90, 90+ days), top accounts with overdue invoices, and payment history. Demonstrates the most complex hybrid pattern with 4+ queries, multi-level drill-downs, and filter panel affecting all queries.","functionalRequirements":"## Business Objectives\n- Monitor accounts receivable aging across different time periods\n- Identify high-risk accounts with significant overdue balances\n- Track payment trends and average days to payment\n- Enable drill-down from aging buckets to specific invoices and payments\n- Support filtering by date range, account type, and minimum outstanding amount\n\n## Functional Requirements\n- **Interactive Filter Panel**: Date range selector, account type dropdown, minimum outstanding amount input\n- **Aging Buckets Chart**: Stacked bar chart showing outstanding amounts by aging period (0-30, 30-60, 60-90, 90+ days)\n- **Payment Trends Chart**: Dual-axis chart showing monthly payment totals and average days to payment (last 12 months)\n- **Click Aging Bucket**: When user clicks bucket, show three panels: top accounts, KPI cards, and invoice grid\n- **Top Accounts Panel**: Conditional query showing top 10 accounts with most outstanding in selected bucket\n- **KPI Cards**: Total outstanding, invoice count, average days overdue for selected bucket\n- **Invoice Grid**: EntityDataGrid with invoices in selected aging bucket, color-coded by overdue status (green/yellow/red)\n- **Account Selection**: Click account in top accounts list to show account payment history (conditional query 4)\n- **Payment Drill-Down**: Click invoice row to show EntityDataGrid of payments for that invoice\n- **Filter Coordination**: All queries re-execute when filters change\n- **Query Result Caching**: Cache query results for configured duration (default 5 minutes) to reduce database load\n- **State Cleanup**: Clear conditional queries when selections change\n- **Custom Column Rendering**: Color-code DaysOverdue column based on thresholds\n- **Multi-Level State**: Track filter values, selected bucket, selected account, and selected invoice\n- **Loading States**: Independent loading for each query and grid\n- **Empty States**: Handle buckets with no invoices or accounts with no history","description":"Accounts receivable aging analysis showing overdue invoices by aging buckets, payment trends, and top accounts by outstanding balance.","dataRequirements":{"mode":"hybrid","queries":[{"name":"Outstanding Invoices","categoryPath":"Demo","description":"Returns raw outstanding invoice records with calculated DaysOverdue field. NO GROUP BY - returns individual invoices for flexible client-side aggregation. Joins vwInvoices with vwAccounts to include AccountType. General-purpose query for aging analysis, payment tracking, AR dashboards. Client-side code can: group into aging buckets, aggregate by account, filter by overdue threshold, calculate totals. Query pair source for top-accounts-by-outstanding.sql. **Result Order: DueDate ASC, BalanceDue DESC** - Oldest invoices with highest balances first for priority review.","entityNames":["Invoices","Accounts"],"fields":[{"name":"ID","sequence":1,"defaultInView":true,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":true,"description":"Invoice unique identifier"},{"name":"InvoiceNumber","sequence":2,"defaultInView":true,"type":"nvarchar(100)","allowsNull":false,"isPrimaryKey":false,"description":"Invoice number"},{"name":"AccountID","sequence":3,"defaultInView":true,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":false,"description":"Foreign key to Account"},{"name":"Account","sequence":4,"defaultInView":true,"type":"nvarchar(255)","allowsNull":false,"isPrimaryKey":false,"description":"Account name (denormalized from view)"},{"name":"AccountType","sequence":5,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Account type from joined vwAccounts table"},{"name":"InvoiceDate","sequence":6,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date invoice was created"},{"name":"DueDate","sequence":7,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date payment is due"},{"name":"Status","sequence":8,"defaultInView":true,"type":"nvarchar(50)","allowsNull":false,"isPrimaryKey":false,"description":"Invoice status"},{"name":"TotalAmount","sequence":9,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"Total invoice amount"},{"name":"AmountPaid","sequence":10,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Amount paid to date"},{"name":"BalanceDue","sequence":11,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"Remaining balance due (TotalAmount - AmountPaid)"},{"name":"DaysOverdue","sequence":12,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Days overdue calculated as DATEDIFF(day, DueDate, GETDATE()). Negative values indicate not yet due."}],"parameters":[{"name":"MinOutstanding","isRequired":false,"type":"number","sampleValue":"1000","description":"Optional filter by minimum outstanding balance"},{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by account type"}]},{"name":"Payment Trends","categoryPath":"Demo","description":"Monthly payment trends: SUM(Amount), COUNT(*), AVG(DATEDIFF(day, InvoiceDate, PaymentDate)) grouped by YEAR/MONTH for last 12 months. Returns dual-axis chart data. **Result Order: Year ASC, Month ASC** - Chronological order for time-series payment trend visualization.","entityNames":["Payments","Invoices","Accounts"],"fields":[{"name":"Year","sequence":1,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Year of payment"},{"name":"Month","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Month number (1-12)"},{"name":"MonthName","sequence":3,"defaultInView":true,"type":"nvarchar(50)","allowsNull":false,"isPrimaryKey":false,"description":"Month name (January, February, etc.)"},{"name":"PaymentCount","sequence":4,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of payments received in this month"},{"name":"TotalPaid","sequence":5,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total amount paid in this month"},{"name":"AvgPayment","sequence":6,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average payment amount"},{"name":"AvgDaysToPayment","sequence":7,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Average days from invoice date to payment"},{"name":"UniqueAccounts","sequence":8,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of distinct accounts that made payments"}],"parameters":[{"name":"MonthsBack","isRequired":false,"type":"number","sampleValue":"12","description":"Number of months to look back (default: 12)"},{"name":"PaymentMethod","isRequired":false,"type":"string","sampleValue":"Credit Card","description":"Optional filter by payment method"},{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by account type"}]},{"name":"Top Accounts by Outstanding","categoryPath":"Demo","description":"Aggregates outstanding invoices by account, returning TOP N accounts with highest balances. Groups by AccountName and AccountType with metrics: invoice count, total outstanding, average outstanding, average days overdue, max days overdue. General-purpose account-level aggregation query. Aging bucket filtering should be handled client-side using outstanding-invoices.sql. Query pair with outstanding-invoices.sql (aggregation + raw data pattern). **Result Order: TotalOutstanding DESC** - Highest outstanding balances first for priority focus.","entityNames":["Accounts","Invoices"],"fields":[{"name":"AccountName","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":false,"isPrimaryKey":false,"description":"Name of the account"},{"name":"AccountType","sequence":2,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Account type"},{"name":"InvoiceCount","sequence":3,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of outstanding invoices"},{"name":"TotalOutstanding","sequence":4,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total balance due for this account"},{"name":"AvgOutstanding","sequence":5,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average outstanding balance per invoice"},{"name":"AvgDaysOverdue","sequence":6,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Average days overdue across all invoices"},{"name":"MaxDaysOverdue","sequence":7,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Maximum days overdue for any invoice"}],"parameters":[{"name":"TopN","isRequired":false,"type":"number","sampleValue":"10","description":"Number of top accounts to return (default: 10)"},{"name":"MinOutstanding","isRequired":false,"type":"number","sampleValue":"1000","description":"Optional filter by minimum outstanding balance"},{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by account type"}]},{"name":"Account Payment History","categoryPath":"Demo","description":"Returns raw payment transaction records for account detail view. LEFT JOIN invoices with payments to show both paid and unpaid invoices. Includes calculated DaysToPayment field. PaymentStatus bucketing (On Time/Late/Overdue/Pending) handled client-side for flexibility. General-purpose query for account payment analysis, payment tracking, and invoice history. Supports filtering by AccountID, AccountName, and date range. **Result Order: InvoiceDate DESC, PaymentDate DESC** - Most recent invoices and payments first for account review.","entityNames":["Invoices","Payments","Accounts"],"fields":[{"name":"InvoiceNumber","sequence":1,"defaultInView":true,"type":"nvarchar(100)","allowsNull":false,"isPrimaryKey":false,"description":"Invoice number"},{"name":"InvoiceDate","sequence":2,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date invoice was created"},{"name":"DueDate","sequence":3,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date payment is due"},{"name":"TotalAmount","sequence":4,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"Total invoice amount"},{"name":"AmountPaid","sequence":5,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Amount paid to date"},{"name":"BalanceDue","sequence":6,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"Remaining balance due"},{"name":"Status","sequence":7,"defaultInView":true,"type":"nvarchar(50)","allowsNull":false,"isPrimaryKey":false,"description":"Invoice status (Paid, Pending, Overdue, etc.)"},{"name":"PaymentDate","sequence":8,"defaultInView":true,"type":"date","allowsNull":true,"isPrimaryKey":false,"description":"Date payment was received (null if unpaid)"},{"name":"PaymentAmount","sequence":9,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Amount of this payment (null if unpaid)"},{"name":"PaymentMethod","sequence":10,"defaultInView":true,"type":"nvarchar(100)","allowsNull":true,"isPrimaryKey":false,"description":"Payment method used"},{"name":"ReferenceNumber","sequence":11,"defaultInView":true,"type":"nvarchar(100)","allowsNull":true,"isPrimaryKey":false,"description":"Payment reference number"},{"name":"DaysToPayment","sequence":12,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Days from invoice date to payment date"}],"parameters":[{"name":"AccountID","isRequired":false,"type":"number","sampleValue":"12345","description":"Optional filter by account ID (UNIQUEIDENTIFIER)"},{"name":"AccountName","isRequired":false,"type":"string","sampleValue":"Acme Corporation","description":"Optional filter by account name"},{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"}]}],"entities":[{"name":"Invoices","description":"Invoice records shown in EntityDataGrid for both aging bucket drill-down and account payment history.","displayFields":["InvoiceNumber","InvoiceDate","DueDate","AccountName","TotalAmount","AmountPaid","BalanceDue","Status"],"filterFields":["DaysOverdue","AccountID","BalanceDue","AccountName"],"sortFields":["DaysOverdue","BalanceDue","InvoiceDate"],"usageContext":"Loaded by EntityDataGrid with two different filter patterns: (1) Aging bucket drill-down: DaysOverdue BETWEEN x AND y AND AccountID IN (subquery) AND BalanceDue >= {minOutstanding}. (2) Account payment history: AccountName = ''{accountName}''"},{"name":"Accounts","description":"Account records shown in EntityDataGrid for top accounts list and referenced in SQL filters.","displayFields":["Name","AccountType","Status"],"filterFields":["ID","AccountType","Status"],"sortFields":["Name"],"usageContext":"Loaded by EntityDataGrid for top accounts with optional filter: AccountType = ''{appliedAccountType}''. Also referenced in invoice filter SQL subquery: SELECT ID FROM CRM.vwAccounts WHERE AccountType = ''{accountType}''"}]},"properties":[{"name":"onBucketClick","type":"function","required":false,"description":"Callback fired when user clicks an aging bucket in the chart","default":null},{"name":"onAccountClick","type":"function","required":false,"description":"Callback fired when user clicks an account row in the top accounts grid","default":null},{"name":"onInvoiceClick","type":"function","required":false,"description":"Callback fired when user clicks an invoice row in any EntityDataGrid","default":null}],"events":[{"name":"onBucketClick","description":"Fired when user clicks an aging bucket (bar segment)","payload":{"bucket":"string - The aging bucket that was clicked (e.g., ''0-30 days'', ''30-60 days'')","invoiceCount":"number - Number of invoices in this bucket","totalOutstanding":"number - Total outstanding balance in this bucket"},"example":"{ bucket: ''30-60 days'', invoiceCount: 45, totalOutstanding: 125000.00 }"},{"name":"onAccountClick","description":"Fired when user clicks an account row in the top accounts grid","payload":{"accountName":"string - Name of the account","accountType":"string - Type of account","invoiceCount":"number - Number of outstanding invoices","totalOutstanding":"number - Total outstanding balance","avgDaysOverdue":"number - Average days overdue"},"example":"{ accountName: ''Acme Corp'', accountType: ''Customer'', invoiceCount: 8, totalOutstanding: 35000.00, avgDaysOverdue: 45 }"},{"name":"onInvoiceClick","description":"Fired when user clicks an invoice row in the EntityDataGrid drill-down","payload":{"invoiceId":"string - The ID of the clicked invoice record","invoiceNumber":"string - Invoice number","totalAmount":"number - Total invoice amount","balanceDue":"number - Outstanding balance","status":"string - Invoice status"},"example":"{ invoiceId: ''abc-123'', invoiceNumber: ''INV-001'', totalAmount: 5000.00, balanceDue: 2500.00, status: ''Overdue'' }"}],"dependencies":[{"name":"SimpleChart","location":"registry","namespace":"Generic/UI/Chart","version":"^1.0.0"},{"name":"EntityDataGrid","location":"registry","namespace":"Generic/UI/Table","version":"^1.0.0"}],"location":"embedded","technicalDesign":"## Component Architecture\n\n### Modern SQL + JavaScript Pattern\nThis component follows MemberJunction''s best practice: **SQL returns raw data, JavaScript aggregates**.\n\n**Benefits of client-side aggregation:**\n- **Simpler SQL**: Query just returns invoice records with DaysOverdue calculated\n- **Flexibility**: Easy to change bucket ranges or add new aggregations without SQL changes\n- **Reusability**: Raw invoice data can be used for multiple visualizations\n- **Performance**: SQL does one simple query, JavaScript groups data in memory\n- **Maintainability**: Business logic stays in JavaScript where it''s easier to modify and test\n\n### Data Flow\n1. **Initial Load**: Three concurrent RunQuery calls execute for outstanding invoices, payment trends, and top accounts\n2. **Raw Data Loading**: ''Outstanding Invoices'' query returns all invoice records with DaysOverdue field\n3. **Client-Side Aggregation**: JavaScript function groups raw invoices into aging buckets (Not Yet Due, 0-30, 30-60, 60-90, 90+ days)\n4. **Filter Panel**: User adjusts filters (pending state) and clicks Apply Filters button\n5. **Data Reload**: Applied filter state triggers useEffect to reload all 3 queries\n6. **Chart Rendering**: SimpleChart displays aggregated aging bucket data\n7. **Bucket Drill-Down**: User clicks aging bucket → selectedSegment set → raw invoices filtered for that bucket shown in EntityDataGrid\n8. **Account Selection**: User clicks account row → selectedAccount set → EntityDataGrid shows payment history\n9. **Filter Consistency**: All EntityDataGrid filters use applied filter values for consistency\n\n### State Management\n**Pending Filter State** (user input):\n- `pendingMinOutstanding`, `pendingAccountType`, `pendingMonthsBack`, `pendingPaymentMethod`, `pendingTopN`\n\n**Applied Filter State** (active filters):\n- `appliedMinOutstanding`, `appliedAccountType`, `appliedMonthsBack`, `appliedPaymentMethod`, `appliedTopN`\n\n**Data State**:\n- `rawInvoices`: Raw invoice records from ''Outstanding Invoices'' query\n- `agingData`: Aggregated aging bucket data (computed from rawInvoices)\n- `paymentTrendsData`: Payment trends query results\n- `topAccountsData`: Top accounts query results\n\n**Selection State**:\n- `selectedSegment`: Currently selected aging bucket (null = no drill-down, object = bucket drill-down)\n- `selectedAccount`: Currently selected account (null = no account view, object = payment history view)\n\n**UI State**:\n- `loading`: Boolean for async operation status\n- `errors`: Object with error messages per query/operation\n\n### Filter Panel Pattern\n**Split Pending/Applied State**:\n- User changes inputs → updates pending state only\n- Apply Filters button → copies pending to applied state\n- Applied state triggers data reload via useEffect\n- Prevents reload on every keystroke\n- Always visible (no toggle)\n- Clear Filters button resets all to defaults\n\n### Query Coordination\n**Three Concurrent Queries**: All execute in parallel on mount/applied filter change\n1. Outstanding Invoices - Raw invoice records with DaysOverdue (aggregated client-side into aging buckets)\n2. Payment Trends - Monthly payment patterns\n3. Top Accounts by Outstanding - Accounts with highest overdue\n\n### Client-Side Aggregation Function\nThe `aggregateIntoAgingBuckets()` function:\n1. Groups raw invoices by aging period based on DaysOverdue\n2. Calculates totals and averages per bucket\n3. Returns array of bucket objects sorted by aging progression\n4. Enables flexible bucket definition changes without SQL modifications\n\n### Multi-Level Drill-Down\n**Level 1 - Aging Bucket Click**:\n- User clicks aging bucket chart segment\n- Sets `selectedSegment` with clickData\n- EntityDataGrid shows invoices filtered by DaysOverdue range\n- Maps bucket name to SQL filter (e.g., ''30-60 days'' → DaysOverdue BETWEEN 31 AND 60)\n- Includes applied account type and min outstanding filters\n\n**Level 2 - Account Selection**:\n- User clicks account in top accounts EntityDataGrid\n- Sets `selectedAccount` with record data\n- Shows KPI summary cards (total outstanding, invoice count, etc.)\n- EntityDataGrid shows all invoices for selected account\n- Filter uses AccountName for simplicity\n\n### EntityDataGrid Integration\n**Invoice Drill-Down Filter** (from aging bucket):\n1. Aging bucket filter: Maps bucket to DaysOverdue range\n2. Account type filter (optional): `AccountID IN (SELECT ID FROM CRM.vwAccounts WHERE AccountType=''{appliedAccountType}'')`\n3. Minimum outstanding filter (optional): `BalanceDue >= {appliedMinOutstanding}`\n4. Filters combined with AND operator\n\n**Payment History Filter** (from account selection):\n- Simple filter: `AccountName=''{selectedAccount.AccountName}''`\n- Shows all invoices for the account regardless of status\n\n### Event System\n**onBucketClick**: Fires when aging bucket clicked, provides:\n- bucket, invoiceCount, totalOutstanding\n\n**onAccountClick**: Fires when account row clicked, provides:\n- accountName, accountType, invoiceCount, totalOutstanding, avgDaysOverdue\n\n**onInvoiceClick**: Fires when invoice row clicked, provides:\n- invoiceId, invoiceNumber, totalAmount, balanceDue, status\n\n### Educational Value\nDemonstrates:\n1. **Advanced Filter Pattern**: Pending/applied state split prevents premature data loads\n2. **Multi-Query Dashboard**: Three concurrent queries with independent error handling\n3. **Multi-Level Drill-Down**: Bucket → Invoices, Account → Payment History\n4. **Filter Coordination**: Consistent filter application across queries and grids\n5. **Complex SQL Filters**: Aging bucket mapping, subqueries, range filters\n6. **Always-Visible Filters**: User control without UI disruption\n7. **Event Exposure**: External consumers can listen to all user interactions\n8. **Master Complexity**: Most complex hybrid pattern with 4 queries and 2 drill-down paths","code":"function InvoiceAgingAnalysis({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings,\n  onBucketClick = null,\n  onAccountClick = null,\n  onInvoiceClick = null\n}) {\n  // Pending filter state (user input)\n  const [pendingMinOutstanding, setPendingMinOutstanding] = useState(0);\n  const [pendingAccountType, setPendingAccountType] = useState(null);\n  const [pendingMonthsBack, setPendingMonthsBack] = useState(12);\n  const [pendingPaymentMethod, setPendingPaymentMethod] = useState(null);\n  const [pendingTopN, setPendingTopN] = useState(10);\n\n  // Applied filter state (active filters)\n  const [appliedMinOutstanding, setAppliedMinOutstanding] = useState(0);\n  const [appliedAccountType, setAppliedAccountType] = useState(null);\n  const [appliedMonthsBack, setAppliedMonthsBack] = useState(12);\n  const [appliedPaymentMethod, setAppliedPaymentMethod] = useState(null);\n  const [appliedTopN, setAppliedTopN] = useState(10);\n\n  // Data state\n  const [rawInvoices, setRawInvoices] = useState([]);\n  const [agingData, setAgingData] = useState([]);\n  const [paymentTrendsData, setPaymentTrendsData] = useState([]);\n  const [topAccountsData, setTopAccountsData] = useState([]);\n\n  // Selection state\n  const [selectedSegment, setSelectedSegment] = useState(null);\n\n  // UI state\n  const [loading, setLoading] = useState(true);\n  const [errors, setErrors] = useState({});\n\n  // Get components from registry\n  const { SimpleChart, EntityDataGrid } = components;\n\n  /**\n   * Fill in missing months with zero values and format labels with month + year\n   * Ensures chart always shows all months in the requested range, even if no data exists\n   */\n  const fillMissingMonths = (data, monthsBack) => {\n    const result = [];\n    const today = new Date();\n    const monthNames = [''Jan'', ''Feb'', ''Mar'', ''Apr'', ''May'', ''Jun'', ''Jul'', ''Aug'', ''Sep'', ''Oct'', ''Nov'', ''Dec''];\n\n    // Create map of existing data by year-month\n    const dataMap = new Map();\n    data.forEach(item => {\n      // Query returns Year and Month fields (e.g., Year=2025, Month=1)\n      const key = `$' + '{item.Year}-$' + '{item.Month}`;\n      dataMap.set(key, item);\n    });\n\n    // Generate all months in range\n    for (let i = monthsBack - 1; i >= 0; i--) {\n      const date = new Date(today.getFullYear(), today.getMonth() - i, 1);\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1; // JavaScript months are 0-indexed, query returns 1-indexed\n      const key = `$' + '{year}-$' + '{month}`;\n      const monthLabel = `$' + '{monthNames[date.getMonth()]} $' + '{year}`;\n\n      if (dataMap.has(key)) {\n        // Use existing data but update label to include year\n        const existing = dataMap.get(key);\n        result.push({\n          ...existing,\n          MonthName: monthLabel\n        });\n      } else {\n        // Fill missing month with zeros\n        result.push({\n          Year: year,\n          Month: month,\n          MonthName: monthLabel,\n          PaymentCount: 0,\n          TotalPaid: 0,\n          AvgPayment: 0,\n          AvgDaysToPayment: 0,\n          UniqueAccounts: 0\n        });\n      }\n    }\n\n    return result;\n  };\n\n  /**\n   * ARCHITECTURAL DECISION: Client-Side Aggregation\n   *\n   * This component follows MemberJunction''s best practice pattern:\n   * - SQL returns raw data (invoices with DaysOverdue calculated)\n   * - JavaScript aggregates into aging buckets\n   *\n   * Benefits:\n   * - Simpler SQL queries that are easier to maintain\n   * - Flexible bucket definitions that can change without SQL updates\n   * - Raw data available for multiple visualizations\n   * - Better performance through in-memory aggregation\n   * - Business logic stays in JavaScript where it''s more testable\n   */\n  const aggregateIntoAgingBuckets = (invoices) => {\n    const buckets = {};\n\n    // Group invoices by aging period\n    invoices.forEach(inv => {\n      const bucket =\n        inv.DaysOverdue < 0 ? ''Not Yet Due'' :\n        inv.DaysOverdue < 30 ? ''0-30 days'' :\n        inv.DaysOverdue < 60 ? ''30-60 days'' :\n        inv.DaysOverdue < 90 ? ''60-90 days'' : ''90+ days'';\n\n      if (!buckets[bucket]) {\n        buckets[bucket] = { invoices: [], totalOutstanding: 0, totalDaysOverdue: 0 };\n      }\n      buckets[bucket].invoices.push(inv);\n      buckets[bucket].totalOutstanding += inv.BalanceDue;\n      buckets[bucket].totalDaysOverdue += inv.DaysOverdue;\n    });\n\n    // Convert to array format for chart\n    return Object.entries(buckets).map(([bucket, data]) => ({\n      AgeBucket: bucket,\n      InvoiceCount: data.invoices.length,\n      TotalOutstanding: data.totalOutstanding,\n      AvgDaysOverdue: Math.round(data.totalDaysOverdue / data.invoices.length),\n      AvgOutstanding: data.totalOutstanding / data.invoices.length\n    })).sort((a, b) => {\n      // Sort by aging progression (Not Yet Due → 0-30 → 30-60 → 60-90 → 90+)\n      const order = {''Not Yet Due'': 0, ''0-30 days'': 1, ''30-60 days'': 2, ''60-90 days'': 3, ''90+ days'': 4};\n      return order[a.AgeBucket] - order[b.AgeBucket];\n    });\n  };\n\n  // Load initial 3 queries when applied filters change\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      setErrors({});\n\n      // Clear selections when filters change\n      setSelectedSegment(null);\n\n      try {\n        // Execute first 3 queries in parallel\n        const [invoicesResult, trendsResult, topAccountsResult] = await Promise.all([\n          utilities.rq.RunQuery({\n            QueryName: ''Outstanding Invoices'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              MinOutstanding: appliedMinOutstanding,\n              AccountType: appliedAccountType\n            }\n          }),\n          utilities.rq.RunQuery({\n            QueryName: ''Payment Trends'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              MonthsBack: appliedMonthsBack,\n              PaymentMethod: appliedPaymentMethod,\n              AccountType: appliedAccountType\n            }\n          }),\n          utilities.rq.RunQuery({\n            QueryName: ''Top Accounts by Outstanding'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              TopN: appliedTopN,\n              MinOutstanding: appliedMinOutstanding,\n              AccountType: appliedAccountType\n            }\n          })\n        ]);\n\n        // Process outstanding invoices result and aggregate into aging buckets\n        if (invoicesResult && invoicesResult.Success && invoicesResult.Results) {\n          const rawData = invoicesResult.Results;\n          setRawInvoices(rawData);\n\n          // Aggregate raw invoices into aging buckets client-side\n          const aggregatedData = aggregateIntoAgingBuckets(rawData);\n          setAgingData(aggregatedData);\n        } else {\n          setErrors(prev => ({ ...prev, aging: invoicesResult?.ErrorMessage || ''Failed to load invoice data'' }));\n        }\n\n        // Process payment trends result\n        if (trendsResult && trendsResult.Success && trendsResult.Results) {\n          // Fill in missing months and add year to labels\n          const filledData = fillMissingMonths(trendsResult.Results, appliedMonthsBack);\n          setPaymentTrendsData(filledData);\n        } else {\n          setErrors(prev => ({ ...prev, trends: trendsResult?.ErrorMessage || ''Failed to load payment trends'' }));\n        }\n\n        // Process top accounts result\n        if (topAccountsResult && topAccountsResult.Success && topAccountsResult.Results) {\n          setTopAccountsData(topAccountsResult.Results);\n        } else {\n          setErrors(prev => ({ ...prev, topAccounts: topAccountsResult?.ErrorMessage || ''Failed to load top accounts'' }));\n        }\n      } catch (err) {\n        console.error(''Error loading invoice aging data:'', err);\n        setErrors({ general: err.message || ''An unexpected error occurred'' });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [appliedMinOutstanding, appliedAccountType, appliedMonthsBack, appliedPaymentMethod, appliedTopN, utilities]);\n\n  // Apply filters\n  const handleApplyFilters = () => {\n    setAppliedMinOutstanding(pendingMinOutstanding);\n    setAppliedAccountType(pendingAccountType);\n    setAppliedMonthsBack(pendingMonthsBack);\n    setAppliedPaymentMethod(pendingPaymentMethod);\n    setAppliedTopN(pendingTopN);\n  };\n\n  // Clear filters\n  const handleClearFilters = () => {\n    setPendingMinOutstanding(0);\n    setPendingAccountType(null);\n    setPendingMonthsBack(12);\n    setPendingPaymentMethod(null);\n    setPendingTopN(10);\n    setAppliedMinOutstanding(0);\n    setAppliedAccountType(null);\n    setAppliedMonthsBack(12);\n    setAppliedPaymentMethod(null);\n    setAppliedTopN(10);\n  };\n\n  // Handle aging bucket click\n  const handleBucketClick = (clickData) => {\n    console.log(''Bucket clicked:'', clickData);\n\n    // Set selected segment\n    setSelectedSegment(clickData);\n\n    // Fire external event if provided\n    if (onBucketClick) {\n      onBucketClick({\n        bucket: clickData.label,\n        invoiceCount: clickData.records?.length || 0,\n        totalOutstanding: clickData.value\n      });\n    }\n  };\n\n  // Account row click removed - EntityDataGrid default behavior opens account detail page\n\n  // Handle invoice row click in payment history grid\n  const handleInvoiceClick = (event) => {\n    if (onInvoiceClick) {\n      onInvoiceClick({\n        invoiceId: event.record?.ID,\n        invoiceNumber: event.record?.InvoiceNumber,\n        totalAmount: event.record?.TotalAmount,\n        balanceDue: event.record?.BalanceDue,\n        status: event.record?.Status\n      });\n    }\n  };\n\n  // Clear all selections\n  const handleClearSelection = () => {\n    setSelectedSegment(null);\n  };\n\n  // Build filter for invoices in selected bucket\n  // NOTE: DaysOverdue is calculated in the query but not stored in the view\n  // So we convert aging bucket ranges to date-based filters using DueDate\n  const buildInvoiceFilter = () => {\n    const filters = [];\n\n    // Add aging bucket filter based on selected segment\n    if (selectedSegment) {\n      const bucket = selectedSegment.label;\n      // Map bucket name to date-based filters (DaysOverdue = DATEDIFF(day, DueDate, GETDATE()))\n      if (bucket === ''Not Yet Due'') {\n        filters.push(`DueDate > GETDATE()`);\n      } else if (bucket === ''0-30 days'') {\n        filters.push(`DueDate BETWEEN DATEADD(day, -30, GETDATE()) AND GETDATE()`);\n      } else if (bucket === ''30-60 days'') {\n        filters.push(`DueDate BETWEEN DATEADD(day, -60, GETDATE()) AND DATEADD(day, -30, GETDATE())`);\n      } else if (bucket === ''60-90 days'') {\n        filters.push(`DueDate BETWEEN DATEADD(day, -90, GETDATE()) AND DATEADD(day, -60, GETDATE())`);\n      } else if (bucket === ''90+ days'') {\n        filters.push(`DueDate < DATEADD(day, -90, GETDATE())`);\n      }\n    }\n\n    // Add outstanding invoice base filter\n    filters.push(`Status NOT IN (''Paid'', ''Cancelled'')`);\n    filters.push(`BalanceDue > 0`);\n\n    // Add account type filter for consistency\n    if (appliedAccountType) {\n      filters.push(`AccountID IN (SELECT ID FROM CRM.vwAccounts WHERE AccountType=''$' + '{appliedAccountType}'')`);\n    }\n\n    // Add minimum outstanding filter\n    if (appliedMinOutstanding > 0) {\n      filters.push(`BalanceDue >= $' + '{appliedMinOutstanding}`);\n    }\n\n    return filters.length > 0 ? filters.join('' AND '') : undefined;\n  };\n\n  // Payment history filter removed - no longer using account drill-down\n\n  // Loading state\n  if (loading) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n        <div>Loading invoice aging data...</div>\n      </div>\n    );\n  }\n\n  // General error state\n  if (errors.general) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>{errors.general}</div>\n      </div>\n    );\n  }\n\n  // Check if all queries failed\n  const allFailed = errors.aging && errors.trends && errors.topAccounts;\n  if (allFailed) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>All data queries failed to load</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: ''16px'', width: ''100%'', minWidth: ''800px'', boxSizing: ''border-box'' }}>\n      <h2 style={{ marginBottom: ''24px'', fontSize: ''20px'', fontWeight: ''bold'' }}>\n        Invoice Aging Analysis\n      </h2>\n\n      {/* Filter Panel - ALWAYS VISIBLE */}\n      <div style={{\n        marginBottom: ''16px'',\n        padding: ''16px'',\n        backgroundColor: ''#f5f5f5'',\n        borderRadius: ''4px'',\n        width: ''100%'',\n        boxSizing: ''border-box''\n      }}>\n        <div style={{ fontWeight: ''bold'', marginBottom: ''16px'' }}>Filters:</div>\n        <div style={{\n          display: ''grid'',\n          gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'',\n          gap: ''16px'',\n          marginBottom: ''16px''\n        }}>\n          <div>\n            <label style={{ display: ''block'', marginBottom: ''8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n              Min Outstanding\n            </label>\n            <input\n              type=\"number\"\n              value={pendingMinOutstanding}\n              onChange={(e) => setPendingMinOutstanding(Number(e.target.value))}\n              style={{\n                width: ''100%'',\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: ''block'', marginBottom: ''8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n              Account Type\n            </label>\n            <select\n              value={pendingAccountType || ''''}\n              onChange={(e) => setPendingAccountType(e.target.value || null)}\n              style={{\n                width: ''100%'',\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            >\n              <option value=\"\">All Types</option>\n              <option value=\"Customer\">Customer</option>\n              <option value=\"Prospect\">Prospect</option>\n              <option value=\"Partner\">Partner</option>\n            </select>\n          </div>\n\n          <div>\n            <label style={{ display: ''block'', marginBottom: ''8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n              Months Back (Trends)\n            </label>\n            <input\n              type=\"number\"\n              value={pendingMonthsBack}\n              onChange={(e) => setPendingMonthsBack(Number(e.target.value))}\n              style={{\n                width: ''100%'',\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: ''block'', marginBottom: ''8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n              Payment Method\n            </label>\n            <select\n              value={pendingPaymentMethod || ''''}\n              onChange={(e) => setPendingPaymentMethod(e.target.value || null)}\n              style={{\n                width: ''100%'',\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            >\n              <option value=\"\">All Methods</option>\n              <option value=\"Credit Card\">Credit Card</option>\n              <option value=\"Check\">Check</option>\n              <option value=\"Wire Transfer\">Wire Transfer</option>\n              <option value=\"ACH\">ACH</option>\n            </select>\n          </div>\n\n          <div>\n            <label style={{ display: ''block'', marginBottom: ''8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n              Top N Accounts\n            </label>\n            <input\n              type=\"number\"\n              value={pendingTopN}\n              onChange={(e) => setPendingTopN(Number(e.target.value))}\n              style={{\n                width: ''100%'',\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n        </div>\n\n        {/* Filter buttons */}\n        <div style={{ display: ''flex'', gap: ''8px'' }}>\n          <button\n            onClick={handleApplyFilters}\n            style={{\n              padding: ''6px 16px'',\n              backgroundColor: ''#1890ff'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''14px'',\n              fontWeight: ''bold''\n            }}\n          >\n            Apply Filters\n          </button>\n          {(appliedMinOutstanding > 0 || appliedAccountType || appliedMonthsBack !== 12 || appliedPaymentMethod || appliedTopN !== 10) && (\n            <button\n              onClick={handleClearFilters}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: ''#ff4d4f'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              Clear Filters\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Aging Buckets Chart */}\n      {!errors.aging && agingData.length > 0 && (\n        <div style={{ marginBottom: ''32px'' }}>\n          <h3 style={{ marginBottom: ''16px'', fontSize: ''16px'', fontWeight: ''bold'' }}>\n            Invoice Aging by Period\n          </h3>\n          <SimpleChart\n            entityName=\"Invoices\"\n            data={agingData}\n            chartType=\"bar\"\n            groupBy=\"AgeBucket\"\n            valueField=\"TotalOutstanding\"\n            aggregateMethod=\"sum\"\n            onDataPointClick={handleBucketClick}\n            title=\"\"\n            showLegend={false}\n            height=\"300px\"\n            utilities={utilities}\n            styles={styles}\n            components={components}\n          />\n        </div>\n      )}\n      {errors.aging && (\n        <div style={{\n          marginBottom: ''32px'',\n          padding: ''16px'',\n          backgroundColor: ''#fff2e8'',\n          border: ''1px solid #ffbb96'',\n          borderRadius: ''4px'',\n          color: ''#d4380d''\n        }}>\n          Aging Analysis Error: {errors.aging}\n        </div>\n      )}\n\n      {/* Payment Trends Chart */}\n      {!errors.trends && paymentTrendsData.length > 0 && (\n        <div style={{ marginBottom: ''32px'' }}>\n          <h3 style={{ marginBottom: ''16px'', fontSize: ''16px'', fontWeight: ''bold'' }}>\n            Payment Trends (Last {appliedMonthsBack} Months)\n          </h3>\n          <SimpleChart\n            entityName=\"Payments\"\n            data={paymentTrendsData}\n            chartType=\"line\"\n            groupBy=\"MonthName\"\n            valueField=\"TotalPaid\"\n            aggregateMethod=\"sum\"\n            sortBy={undefined}\n            title=\"\"\n            showLegend={false}\n            height=\"300px\"\n            utilities={utilities}\n            styles={styles}\n            components={components}\n          />\n        </div>\n      )}\n      {errors.trends && (\n        <div style={{\n          marginBottom: ''32px'',\n          padding: ''16px'',\n          backgroundColor: ''#fff2e8'',\n          border: ''1px solid #ffbb96'',\n          borderRadius: ''4px'',\n          color: ''#d4380d''\n        }}>\n          Payment Trends Error: {errors.trends}\n        </div>\n      )}\n\n      {/* Top Accounts Grid */}\n      {!errors.topAccounts && topAccountsData.length > 0 && (\n        <div style={{ marginBottom: ''32px'' }}>\n          <h3 style={{ marginBottom: ''16px'', fontSize: ''16px'', fontWeight: ''bold'' }}>\n            Top {appliedTopN} Accounts by Outstanding Balance\n          </h3>\n          <EntityDataGrid\n            entityName=\"Accounts\"\n            extraFilter={appliedAccountType ? `AccountType=''$' + '{appliedAccountType}''` : undefined}\n            fields={[''Name'', ''AccountType'', ''Status'']}\n            orderBy=\"Name ASC\"\n            pageSize={appliedTopN}\n            maxCachedRows={appliedTopN * 2}\n            enablePageCache={true}\n            showPageSizeChanger={true}\n            enableSorting={true}\n            enableFiltering={true}\n            showRefreshButton={true}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n          />\n        </div>\n      )}\n      {errors.topAccounts && (\n        <div style={{\n          marginBottom: ''32px'',\n          padding: ''16px'',\n          backgroundColor: ''#fff2e8'',\n          border: ''1px solid #ffbb96'',\n          borderRadius: ''4px'',\n          color: ''#d4380d''\n        }}>\n          Top Accounts Error: {errors.topAccounts}\n        </div>\n      )}\n\n      {/* Invoice Drill-Down Section - Shows invoices in selected aging bucket */}\n      {selectedSegment && (\n        <div style={{ marginTop: ''32px'' }}>\n          {/* Header with clear selection button */}\n          <div style={{\n            marginBottom: ''16px'',\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            padding: ''12px 16px'',\n            backgroundColor: ''#e6f7ff'',\n            borderRadius: ''4px'',\n            border: ''1px solid #91d5ff''\n          }}>\n            <div style={{ fontSize: ''16px'', fontWeight: ''bold'', color: ''#0050b3'' }}>\n              Invoices in {selectedSegment.label} Bucket\n            </div>\n            <button\n              onClick={handleClearSelection}\n              style={{\n                padding: ''6px 16px'',\n                backgroundColor: ''#1890ff'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px'',\n                fontWeight: ''500''\n              }}\n            >\n              Clear Selection\n            </button>\n          </div>\n\n          {/* EntityDataGrid for invoices */}\n          <EntityDataGrid\n            entityName=\"Invoices\"\n            extraFilter={buildInvoiceFilter()}\n            fields={[''InvoiceNumber'', ''InvoiceDate'', ''DueDate'', ''Account'', ''TotalAmount'', ''AmountPaid'', ''BalanceDue'', ''Status'']}\n            orderBy=\"DueDate ASC\"\n            pageSize={20}\n            maxCachedRows={100}\n            enablePageCache={true}\n            showPageSizeChanger={true}\n            enableSorting={true}\n            enableFiltering={true}\n            showRefreshButton={true}\n            onRowClick={handleInvoiceClick}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n          />\n        </div>\n      )}\n\n      {/* NOTE: Payment History drill-down removed because EntityDataGrid''s default row click\n          behavior opens the entity record detail page, causing navigation conflicts.\n          Users can click accounts in the Top Accounts grid to view account details directly. */}\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage\n<InvoiceAgingAnalysis\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>\n\n// With event handlers\n<InvoiceAgingAnalysis\n  onBucketClick={(event) => {\n    console.log(`Bucket $' + '{event.bucket}: $' + '{event.invoiceCount} invoices, $$' + '{event.totalOutstanding}`);\n  }}\n  onAccountClick={(event) => {\n    console.log(`Account $' + '{event.accountName}: $' + '{event.invoiceCount} invoices overdue`);\n  }}\n  onInvoiceClick={(event) => {\n    console.log(`Invoice $' + '{event.invoiceNumber} clicked`);\n    // Navigate to invoice detail page\n    router.push(`/invoices/$' + '{event.invoiceId}`);\n  }}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>\n\n// With pre-configured filters via savedUserSettings\n<InvoiceAgingAnalysis\n  savedUserSettings={{\n    appliedMinOutstanding: 5000,\n    appliedAccountType: ''Customer'',\n    appliedMonthsBack: 6,\n    appliedPaymentMethod: ''Credit Card'',\n    appliedTopN: 20\n  }}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  onSaveUserSettings={onSaveUserSettings}\n/>"}'
SET
  @FunctionalRequirements_b2d662d2 = N'## Business Objectives
- Monitor accounts receivable aging across different time periods
- Identify high-risk accounts with significant overdue balances
- Track payment trends and average days to payment
- Enable drill-down from aging buckets to specific invoices and payments
- Support filtering by date range, account type, and minimum outstanding amount

## Functional Requirements
- **Interactive Filter Panel**: Date range selector, account type dropdown, minimum outstanding amount input
- **Aging Buckets Chart**: Stacked bar chart showing outstanding amounts by aging period (0-30, 30-60, 60-90, 90+ days)
- **Payment Trends Chart**: Dual-axis chart showing monthly payment totals and average days to payment (last 12 months)
- **Click Aging Bucket**: When user clicks bucket, show three panels: top accounts, KPI cards, and invoice grid
- **Top Accounts Panel**: Conditional query showing top 10 accounts with most outstanding in selected bucket
- **KPI Cards**: Total outstanding, invoice count, average days overdue for selected bucket
- **Invoice Grid**: EntityDataGrid with invoices in selected aging bucket, color-coded by overdue status (green/yellow/red)
- **Account Selection**: Click account in top accounts list to show account payment history (conditional query 4)
- **Payment Drill-Down**: Click invoice row to show EntityDataGrid of payments for that invoice
- **Filter Coordination**: All queries re-execute when filters change
- **Query Result Caching**: Cache query results for configured duration (default 5 minutes) to reduce database load
- **State Cleanup**: Clear conditional queries when selections change
- **Custom Column Rendering**: Color-code DaysOverdue column based on thresholds
- **Multi-Level State**: Track filter values, selected bucket, selected account, and selected invoice
- **Loading States**: Independent loading for each query and grid
- **Empty States**: Handle buckets with no invoices or accounts with no history'
SET
  @TechnicalDesign_b2d662d2 = N'## Component Architecture

### Modern SQL + JavaScript Pattern
This component follows MemberJunction''s best practice: **SQL returns raw data, JavaScript aggregates**.

**Benefits of client-side aggregation:**
- **Simpler SQL**: Query just returns invoice records with DaysOverdue calculated
- **Flexibility**: Easy to change bucket ranges or add new aggregations without SQL changes
- **Reusability**: Raw invoice data can be used for multiple visualizations
- **Performance**: SQL does one simple query, JavaScript groups data in memory
- **Maintainability**: Business logic stays in JavaScript where it''s easier to modify and test

### Data Flow
1. **Initial Load**: Three concurrent RunQuery calls execute for outstanding invoices, payment trends, and top accounts
2. **Raw Data Loading**: ''Outstanding Invoices'' query returns all invoice records with DaysOverdue field
3. **Client-Side Aggregation**: JavaScript function groups raw invoices into aging buckets (Not Yet Due, 0-30, 30-60, 60-90, 90+ days)
4. **Filter Panel**: User adjusts filters (pending state) and clicks Apply Filters button
5. **Data Reload**: Applied filter state triggers useEffect to reload all 3 queries
6. **Chart Rendering**: SimpleChart displays aggregated aging bucket data
7. **Bucket Drill-Down**: User clicks aging bucket → selectedSegment set → raw invoices filtered for that bucket shown in EntityDataGrid
8. **Account Selection**: User clicks account row → selectedAccount set → EntityDataGrid shows payment history
9. **Filter Consistency**: All EntityDataGrid filters use applied filter values for consistency

### State Management
**Pending Filter State** (user input):
- `pendingMinOutstanding`, `pendingAccountType`, `pendingMonthsBack`, `pendingPaymentMethod`, `pendingTopN`

**Applied Filter State** (active filters):
- `appliedMinOutstanding`, `appliedAccountType`, `appliedMonthsBack`, `appliedPaymentMethod`, `appliedTopN`

**Data State**:
- `rawInvoices`: Raw invoice records from ''Outstanding Invoices'' query
- `agingData`: Aggregated aging bucket data (computed from rawInvoices)
- `paymentTrendsData`: Payment trends query results
- `topAccountsData`: Top accounts query results

**Selection State**:
- `selectedSegment`: Currently selected aging bucket (null = no drill-down, object = bucket drill-down)
- `selectedAccount`: Currently selected account (null = no account view, object = payment history view)

**UI State**:
- `loading`: Boolean for async operation status
- `errors`: Object with error messages per query/operation

### Filter Panel Pattern
**Split Pending/Applied State**:
- User changes inputs → updates pending state only
- Apply Filters button → copies pending to applied state
- Applied state triggers data reload via useEffect
- Prevents reload on every keystroke
- Always visible (no toggle)
- Clear Filters button resets all to defaults

### Query Coordination
**Three Concurrent Queries**: All execute in parallel on mount/applied filter change
1. Outstanding Invoices - Raw invoice records with DaysOverdue (aggregated client-side into aging buckets)
2. Payment Trends - Monthly payment patterns
3. Top Accounts by Outstanding - Accounts with highest overdue

### Client-Side Aggregation Function
The `aggregateIntoAgingBuckets()` function:
1. Groups raw invoices by aging period based on DaysOverdue
2. Calculates totals and averages per bucket
3. Returns array of bucket objects sorted by aging progression
4. Enables flexible bucket definition changes without SQL modifications

### Multi-Level Drill-Down
**Level 1 - Aging Bucket Click**:
- User clicks aging bucket chart segment
- Sets `selectedSegment` with clickData
- EntityDataGrid shows invoices filtered by DaysOverdue range
- Maps bucket name to SQL filter (e.g., ''30-60 days'' → DaysOverdue BETWEEN 31 AND 60)
- Includes applied account type and min outstanding filters

**Level 2 - Account Selection**:
- User clicks account in top accounts EntityDataGrid
- Sets `selectedAccount` with record data
- Shows KPI summary cards (total outstanding, invoice count, etc.)
- EntityDataGrid shows all invoices for selected account
- Filter uses AccountName for simplicity

### EntityDataGrid Integration
**Invoice Drill-Down Filter** (from aging bucket):
1. Aging bucket filter: Maps bucket to DaysOverdue range
2. Account type filter (optional): `AccountID IN (SELECT ID FROM CRM.vwAccounts WHERE AccountType=''{appliedAccountType}'')`
3. Minimum outstanding filter (optional): `BalanceDue >= {appliedMinOutstanding}`
4. Filters combined with AND operator

**Payment History Filter** (from account selection):
- Simple filter: `AccountName=''{selectedAccount.AccountName}''`
- Shows all invoices for the account regardless of status

### Event System
**onBucketClick**: Fires when aging bucket clicked, provides:
- bucket, invoiceCount, totalOutstanding

**onAccountClick**: Fires when account row clicked, provides:
- accountName, accountType, invoiceCount, totalOutstanding, avgDaysOverdue

**onInvoiceClick**: Fires when invoice row clicked, provides:
- invoiceId, invoiceNumber, totalAmount, balanceDue, status

### Educational Value
Demonstrates:
1. **Advanced Filter Pattern**: Pending/applied state split prevents premature data loads
2. **Multi-Query Dashboard**: Three concurrent queries with independent error handling
3. **Multi-Level Drill-Down**: Bucket → Invoices, Account → Payment History
4. **Filter Coordination**: Consistent filter application across queries and grids
5. **Complex SQL Filters**: Aging bucket mapping, subqueries, range filters
6. **Always-Visible Filters**: User control without UI disruption
7. **Event Exposure**: External consumers can listen to all user interactions
8. **Master Complexity**: Most complex hybrid pattern with 4 queries and 2 drill-down paths'
SET
  @FunctionalRequirementsVector_b2d662d2 = N'[-0.0037815235555171967,0.08919104188680649,-0.03325061500072479,-0.04266293719410896,0.020327627658843994,0.0209960974752903,0.032098110765218735,0.053986966609954834,0.03592995926737785,0.0393463596701622,-0.02497497759759426,0.03255980461835861,0.010147145949304104,0.10022604465484619,-0.048226308077573776,0.009531187824904919,-0.004486424848437309,0.011486353352665901,0.03122742474079132,-0.007362771779298782,0.00022249425819609314,0.00011227698269067332,-0.014066237956285477,-0.008703667670488358,-0.011750533245503902,0.0012241527438163757,0.010794357396662235,-0.01827387884259224,0.0000967620944720693,-0.09580106288194656,0.029088661074638367,-0.028380699455738068,-0.0367482453584671,-0.007946263998746872,0.0000022958115550864022,-0.03822318837046623,-0.028883660212159157,-0.006720313336700201,-0.04102298617362976,0.049259185791015625,-0.058554574847221375,-0.03431353718042374,0.03578796610236168,0.0020896028727293015,-0.023307589814066887,-0.017453547567129135,-0.04118550196290016,0.03915567323565483,0.0003360689152032137,-0.0671197772026062,-0.009539228864014149,0.006453318055719137,-0.0913943201303482,-0.0220074150711298,0.026370229199528694,-0.07856191694736481,0.027236565947532654,0.0348895825445652,0.04901118576526642,-0.1684185266494751,-0.038527265191078186,0.04739316180348396,0.014176512137055397,-0.04335186257958412,0.08819110691547394,0.04497469589114189,0.08317527920007706,0.021439088508486748,-0.010282233357429504,-0.03808010369539261,0.028267711400985718,-0.008636566810309887,0.0009978259913623333,-0.010307993739843369,-0.05476389080286026,-0.022272607311606407,-0.02502845972776413,-0.008091970346868038,0.005784332286566496,0.023145463317632675,-0.058221522718667984,0.05247822031378746,-0.024482162669301033,0.03320464864373207,-0.013830538839101791,-0.00601077638566494,-0.015728596597909927,-0.03751051053404808,-0.005108113866299391,0.00167649588547647,0.009694851003587246,-0.038688987493515015,0.0849577859044075,0.044353462755680084,-0.017316700890660286,-0.020162522792816162,0.02477511763572693,-0.03453391045331955,0.04892418161034584,0.025198234245181084,0.03870777785778046,0.021981438621878624,0.002867293544113636,0.03537365421652794,0.04648653045296669,0.025167927145957947,-0.02670803852379322,-0.10736983269453049,-0.014600339345633984,0.05844269320368767,-0.0014549215557053685,-0.0030924666207283735,-0.022887298837304115,0.043370138853788376,0.04673337563872337,0.038709044456481934,-0.02778792940080166,-0.035126425325870514,-0.007764696609228849,-0.005359026603400707,0.06046967953443527,0.0406569167971611,0.037083037197589874,0.02923152782022953,-0.012138914316892624,0.041248079389333725,-0.07342276722192764,-0.018560655415058136,-0.014177525416016579,0.007819452323019505,0.008864259347319603,-0.010902203619480133,0.006326624192297459,-0.03564037010073662,0.017663491889834404,-0.007037472445517778,0.032567087560892105,0.016362877562642097,-0.06615041196346283,-0.008174628019332886,0.0044919527135789394,0.008930220268666744,-0.04007181525230408,0.010748784057796001,-0.011292951181530952,-0.0069214822724461555,-0.020798498764634132,0.06031916290521622,-0.002370161935687065,0.0021220382768660784,0.021158365532755852,-0.013484819792211056,0.019900185987353325,0.02319859154522419,0.03228820860385895,-0.03346535190939903,0.03906384855508804,-0.04627836123108864,0.052801791578531265,-0.05995567888021469,-0.0008941307314671576,0.02992919646203518,0.020078623667359352,-0.01971852034330368,-0.021978138014674187,0.040555309504270554,-0.012319856323301792,0.00601200433447957,-0.08821386843919754,-0.03848346695303917,-0.03283776342868805,-0.003148025833070278,0.013610097579658031,-0.000651698384899646,0.033087681978940964,-0.0674692913889885,0.00869679544121027,-0.043386273086071014,-0.0506855733692646,-0.014980018138885498,0.02346166968345642,-0.04980774223804474,0.007425966206938028,0.0582544282078743,0.062472302466630936,-0.039483170956373215,-0.0636027380824089,0.025500737130641937,-0.030544405803084373,-0.044787097722291946,0.014083999209105968,-0.004291314631700516,-0.04388539120554924,0.021643273532390594,-0.00021360984828788787,0.05451911315321922,-0.014875787310302258,-0.03505696728825569,0.025986626744270325,0.015094081871211529,0.012144377455115318,-0.09303011745214462,0.06854555755853653,0.048667773604393005,0.035148657858371735,-0.028603028506040573,-0.01128197368234396,0.009077802300453186,-0.01285172626376152,-0.03784248232841492,-0.01751643605530262,0.023369330912828445,-0.02255823276937008,-0.012683718465268612,-0.02345958538353443,0.05667350813746452,0.02875298261642456,-0.01568850688636303,-0.02283116988837719,0.008453788235783577,-0.019305037334561348,0.003250426845625043,-0.003818448632955551,-0.0027105859480798244,0.07965897768735886,0.050214722752571106,0.041730694472789764,0.024634666740894318,0.029735717922449112,-0.048933763056993484,-0.005454409867525101,0.02011176012456417,0.009539189748466015,-0.011114345863461494,0.011805616319179535,0.0695897564291954,0.00887612160295248,0.08349244296550751,-0.02041741833090782,0.00015298805374186486,0.05696680769324303,-0.05388738214969635,0.002476241672411561,0.014148080721497536,-0.02772538736462593,-0.037435468286275864,-0.019199419766664505,0.007597357966005802,0.020165203139185905,0.0006440369761548936,-0.029497060924768448,-0.009559017606079578,0.046810124069452286,-0.023260416463017464,-0.02431267872452736,-0.0300659891217947,-0.013994329608976841,-0.027397669851779938,0.004415291361510754,0.05665719881653786,-0.0010684705339372158,-0.033460021018981934,-0.04356910660862923,-0.00840483233332634,0.01778939738869667,-0.031761784106492996,0.039443157613277435,0.03415674343705177,-0.027629153802990913,0.026200201362371445,-0.03616557642817497,0.0030476248357445,0.012832832522690296,0.008832176215946674,-0.026536189019680023,0.0012710338924080133,-0.00589711731299758,0.045420389622449875,-0.04229230806231499,0.017966916784644127,0.005733761470764875,-0.03227182850241661,0.010939128696918488,0.043389782309532166,-0.01615750417113304,-0.010511561296880245,0.059653498232364655,-0.11897950619459152,0.03393774479627609,-0.05389627069234848,-0.012101961299777031,-0.024121863767504692,0.017148315906524658,-0.01602056249976158,-0.03359164297580719,0.018559960648417473,0.02409030869603157,0.02875799499452114,-0.01745300553739071,0.02175247296690941,-0.043696291744709015,0.003735338104888797,0.008391445502638817,0.005420070141553879,-0.01569240540266037,0.0384860560297966,0.055302806198596954,0.026266587898135185,0.008003330789506435,0.0075952522456645966,0.007591427769511938,-0.002921503270044923,0.016064045950770378,-0.04879695177078247,0.03268164023756981,0.021011976525187492,0.03424963355064392,0.040548428893089294,-0.005774016957730055,-0.002818753942847252,0.012322405353188515,-0.01460412796586752,0.007883823476731777,0.09515263140201569,-0.032347291707992554,0.016203342005610466,-0.061174292117357254,-0.02477031759917736,-0.04529641941189766,-0.003605940844863653,0.001609130296856165,0.00040447243372909725,0.018425898626446724,0.0029258369468152523,0.0036954039242118597,-0.010348317213356495,-0.006622804794460535,0.051392778754234314,0.011689135804772377,-0.020329682156443596,0.05173444747924805,-0.0032260597217828035,-0.036445703357458115,0.045065950602293015,-0.015347779728472233,0.018386468291282654,-0.008991334587335587,0.018299974501132965,-0.11306077986955643,0.01080955658107996,-0.01141624990850687,0.043768107891082764,-0.01732192188501358,-0.041326943784952164,0.02090054377913475,-0.023550081998109818,-0.03838345780968666,-0.013611392118036747,-0.030474944040179253,-0.03580271452665329,0.06949003785848618,0.014950936660170555,0.046406153589487076,0.0039495439268648624,0.041419077664613724,0.05105981603264809,0.018119139596819878,-0.03446594625711441,0.006814165506511927,-0.005480102729052305,-0.07772298902273178,-0.0033930803183466196,-0.006076019257307053,-0.028423376381397247,0.028065474703907967,-0.007041639182716608,0.022989165037870407,0.00513591431081295,0.011864728294312954,0.039963480085134506,0.02396148443222046,-0.023079009726643562,0.058043498545885086,0.008718478493392467,0.034473009407520294,-0.002957738935947418,-0.022409092634916306,-0.05067994445562363,-0.02630516327917576,0.012171491049230099,-0.007202384993433952,0.11613825708627701,0.029474403709173203,-0.03344934061169624,-0.00229886663146317,-0.006236417219042778,-0.05641760304570198,0.0708702877163887,0.017265697941184044,-0.022146880626678467,-0.00022279635595623404,-0.03378325328230858,0.036630310118198395,0.05096602067351341,-0.013182050548493862,-0.0888691172003746,0.04283436760306358,0.05682745948433876,-0.012167260982096195,-0.0464058481156826,-0.04701882228255272,-0.03487013280391693,-0.01237153634428978,-0.06434034556150436,0.0399651825428009,0.016240635886788368,-0.023412257432937622,-0.04257463291287422,0.04637208208441734,0.030417662113904953,0.01183608453720808,0.019959617406129837,0.002579126739874482,-0.05700749531388283,0.036029960960149765,-0.026193130761384964,-0.008547035045921803,-0.02087876759469509,0.012550686486065388,0.015969308093190193,-0.04448457434773445,-0.007478054147213697,0.01601260155439377,0.0014806478284299374,-0.060782842338085175,0.06749029457569122,0.04103976488113403,0.0058607738465070724,-0.02801709994673729,-0.02826753817498684,0.019651683047413826,-0.021834632381796837,0.010897461324930191,0.019768662750720978,-0.006077047903090715,0.011735787615180016,-0.0065195863135159016,0.025213642045855522,-0.08987465500831604,-0.032191842794418335,0.05582959204912186,-0.06932300329208374,-0.013946445658802986,-0.0005533926305361092,-0.03249838948249817,-0.03549892455339432,-0.00959344394505024,-0.006623025517910719,0.023837856948375702,0.024458203464746475,0.009576443582773209,0.022022942081093788,-0.03615652397274971,0.005925137549638748,0.06051376461982727,-0.012462321668863297,0.02758149243891239,-0.0019532390870153904,-0.06958749145269394,-0.039038803428411484,0.05709615722298622,-0.0010927593102678657,-0.0046184915117919445,-0.0359005406498909,0.04022254794836044,-0.0037850576918572187,0.016456158831715584,-0.017574505880475044,0.04179210960865021,-0.026544909924268723,0.045298218727111816,-0.014253566041588783,0.014639359898865223,-0.07752874493598938,-0.02422467991709709,0.023256661370396614,-0.0008388875285163522,-0.01730935648083687,-0.04182540997862816,-0.010768186300992966,0.04007009416818619,0.044101983308792114,0.02640695683658123,0.0718470960855484,0.014516407623887062,-0.02294769696891308,0.004036181140691042,0.06976355612277985,-0.028594641014933586,-0.013372649438679218,-0.025315558537840843,0.013814050704240799,0.044222392141819,-0.03290066868066788,0.02269722893834114,0.024552518501877785,0.028503011912107468,0.020742010325193405,-0.023975802585482597,0.0033859580289572477,-0.03422253206372261,-0.06679857522249222,-0.02057279646396637,0.034064967185258865,0.04819688946008682,0.00023087130102794617,-0.013150790706276894,-0.07397617399692535,0.02519226260483265,-0.06398043781518936,-0.00951975304633379,0.008179034106433392,0.016448955982923508,0.051206592470407486,0.022386591881513596,-0.047936197370290756,0.023640243336558342,-0.044713687151670456,-0.01012635137885809,0.028078729286789894,-0.021152237430214882,-0.001329787657596171,-0.006335644982755184,-0.013355270028114319,-0.010639365762472153,0.01252136193215847,0.0208272747695446,-0.032689597457647324,0.008647819980978966,-0.006725705228745937,-0.05474880710244179,0.03994184732437134,0.03231944888830185,-0.03116587921977043,-0.017551494762301445,-0.03129567205905914,0.05269220098853111,-0.057600561529397964,-0.01440984196960926,0.050027020275592804,0.00933043286204338,-0.07301373034715652,-0.037994854152202606,-0.00916779600083828,-0.06055416166782379,-7.178844652175499e-33,0.009622008539736271,-0.03611958771944046,-0.05578332394361496,-0.00396699970588088,0.01727978326380253,0.008700376376509666,0.027905963361263275,-0.0635983794927597,-0.024098629131913185,-0.01342705450952053,-0.0331902951002121,-0.00795054156333208,0.021548986434936523,-0.016604207456111908,-0.007183181121945381,0.004913515876978636,0.03563778102397919,-0.001895264140330255,-0.010665284469723701,0.02115524746477604,-0.016928791999816895,0.05819065868854523,0.021223509684205055,-0.02478954568505287,0.010272311046719551,0.050288595259189606,-0.032365813851356506,0.03390275314450264,-0.037581149488687515,0.03453322872519493,0.0062948353588581085,0.01744699291884899,-0.020121419802308083,-0.022656016051769257,0.007314935326576233,-0.024597374722361565,-0.0656188577413559,-0.027520958334207535,0.00910602044314146,0.01371358148753643,0.09964653849601746,0.025307517498731613,0.02705042064189911,0.03269941359758377,-0.04065071418881416,-0.017556708306074142,0.010353031568229198,-0.03372032567858696,0.02316868305206299,-0.04642147943377495,0.04089975729584694,0.022366365417838097,-0.010329976677894592,0.029335323721170425,0.007216623052954674,0.07951336354017258,0.02105875127017498,0.05778783932328224,-0.11346504837274551,-0.03297756239771843,-0.014401176944375038,0.01025589182972908,-0.01010789442807436,0.013955733738839626,0.03663491830229759,-0.0005597281851805747,-0.017141440883278847,-0.002038251608610153,-0.01621491275727749,-0.03494458273053169,0.004501354414969683,0.007776125334203243,0.0038249909412115812,-0.09713201969861984,0.09592914581298828,-0.07644499093294144,-0.05406509339809418,0.030541803687810898,-0.005205709487199783,0.10053368657827377,0.013168543577194214,0.009938931092619896,0.004857184365391731,0.014152716845273972,0.05545730143785477,-0.04218904674053192,-0.019954290241003036,0.018935635685920715,0.012280047871172428,0.02102045901119709,0.019616227596998215,0.015497279353439808,-0.07417139410972595,0.029964527115225792,-0.08931323885917664,0.001763658132404089,0.05172526091337204,-0.003081764793023467,0.025800244882702827,-0.03226686269044876,0.055100217461586,0.015750806778669357,-0.04225357249379158,0.010284917429089546,-0.010848790407180786,-0.012044500559568405,0.09614574909210205,-0.007021068129688501,-0.03570503741502762,0.010149378329515457,0.029806751757860184,0.004439524840563536,-0.006088700611144304,0.05909225717186928,-0.01867675967514515,0.02750983275473118,-0.02462487481534481,-0.01887582428753376,0.026970474049448967,-0.017868705093860626,0.034520894289016724,-0.011260000057518482,-0.0254929531365633,0.052022166550159454,0.023524172604084015,-0.012498474679887295,-0.04739714786410332,-0.0282862838357687,0.02278868481516838,-0.0034381423611193895,0.0007069057319313288,0.05780818313360214,3.1503932973464543e-7,0.013974891044199467,-0.006161022465676069,-0.006707195658236742,0.008260887116193771,0.005667154211550951,-0.023736124858260155,-0.08025305718183517,-0.06909490376710892,-0.017751602455973625,-0.0008776845643296838,0.026370104402303696,0.017815744504332542,0.037189386785030365,0.021618347615003586,-0.007211302872747183,-0.0710352435708046,-0.019567493349313736,-0.025956042110919952,-0.0490306131541729,0.03975512832403183,0.03286203742027283,0.022189393639564514,0.07545299828052521,-0.00871403981000185,0.04391664266586304,-0.014443298801779747,-0.0382261723279953,-0.035719674080610275,0.0560058057308197,-0.03001049906015396,0.014541408978402615,-0.01701209880411625,0.010588131844997406,0.009951888583600521,-0.009576662443578243,-0.011683618649840355,-0.028972573578357697,-0.0007122447714209557,0.025553306564688683,0.03336181119084358,0.043195273727178574,0.028624344617128372,0.0032103871926665306,-0.00353551865555346,0.005001684185117483,-0.037121787667274475,-0.01980828121304512,0.028501536697149277,-0.015317841432988644,0.05280930548906326,0.04238849878311157,0.016353296115994453,-0.07416575402021408,-0.027768997475504875,0.02029295265674591,0.006919515319168568,-0.024887332692742348,0.05323699116706848,0.006556300446391106,0.026909496635198593,-0.03866370767354965,0.005906949285417795,-0.027212638407945633,0.027274152263998985,-0.035182785242795944,0.007232709787786007,0.0212732944637537,3.229774732583634e-34,0.022658120840787888,-0.02994728833436966,0.031203730031847954,0.001051712897606194,0.031846970319747925,-0.03584544360637665,-0.01887124590575695,0.05251891165971756,0.02434556558728218,-0.030139552429318428,-0.04383477941155434]'
SET
  @TechnicalDesignVector_b2d662d2 = N'[-0.00697624497115612,0.07106827944517136,-0.02009967342019081,-0.05586704984307289,-0.00840094592422247,0.009633979760110378,0.008470514789223671,0.06846070289611816,0.0065459818579256535,0.03468068689107895,-0.01372308749705553,0.032601289451122284,0.05905488505959511,0.08742295205593109,-0.016951115801930428,0.02062365412712097,-0.027578765526413918,0.03144805505871773,0.027384508401155472,-0.025346146896481514,0.027578823268413544,-0.01866610161960125,-0.002345544984564185,-0.00521076237782836,0.01853937655687332,-0.022266268730163574,-0.01532334741204977,0.01075340062379837,0.01938903145492077,-0.08362343907356262,0.012576323933899403,0.005619169678539038,-0.044928982853889465,-0.015641409903764725,0.000002201462393713882,-0.021104440093040466,-0.015068946406245232,0.014887339435517788,-0.05886710807681084,0.03547896072268486,-0.025009730830788612,-0.04245110601186752,0.027512788772583008,-0.001994103193283081,-0.0011253710836172104,-0.015691062435507774,-0.0698561742901802,-0.030924547463655472,0.031034786254167557,-0.05269419774413109,-0.0006320495740510523,0.008692080155014992,-0.06265702843666077,0.0023270142264664173,-0.007599696516990662,-0.03630119934678078,0.01691889762878418,0.0049774679355323315,0.061049073934555054,-0.11714277416467667,-0.03547181934118271,-0.009904526174068451,0.018825165927410126,-0.05150666460394859,0.09925492107868195,0.008055472746491432,0.06386098265647888,0.0032415753230452538,-0.007767298724502325,-0.02930550090968609,0.09455778449773788,-0.0077410293743014336,-0.007281473372131586,-0.018160656094551086,-0.051054541021585464,-0.009441052563488483,-0.03270265460014343,-0.0128870764747262,0.0051752254366874695,0.01931528002023697,-0.028556441888213158,0.04758600518107414,-0.01656109094619751,0.030901998281478882,-0.024051228538155556,-0.0047792717814445496,-0.005207546520978212,-0.008839545771479607,-0.012486383318901062,-0.029882386326789856,0.02428799495100975,-0.018672337755560875,0.0505266897380352,0.04779205843806267,-0.035450439900159836,-0.0125030018389225,0.042748987674713135,-0.045486222952604294,0.05900542065501213,0.007449520751833916,0.04616842418909073,0.04511366784572601,0.04217670485377312,0.0327046737074852,0.06868577748537064,0.0058302078396081924,0.006526951678097248,-0.05710801109671593,-0.012400904670357704,-0.0030867576133459806,0.0018273245077580214,0.006876856088638306,0.029872693121433258,0.043557118624448776,0.01517329178750515,0.02923552319407463,-0.04868174344301224,-0.017694981768727303,-0.03876333683729172,0.010536501184105873,0.07213752716779709,0.014598239213228226,0.01506804395467043,0.02854090742766857,-0.0003156077873427421,0.00312440050765872,-0.011865196749567986,-0.055686105042696,-0.01737472228705883,-0.03291238844394684,-0.005881174001842737,-0.028535105288028717,0.014991894364356995,-0.0027771913446485996,0.01051680464297533,-0.018200671300292015,-0.011771876364946365,0.03744940087199211,-0.030499352142214775,-0.007192447781562805,0.033395491540431976,-0.005295442882925272,-0.019941339269280434,0.03060009330511093,0.0028001645114272833,-0.01010135468095541,-0.016943128779530525,0.04417456313967705,-0.003142166882753372,0.039408426731824875,0.041294317692518234,-0.010746938176453114,0.01851803809404373,0.02750420570373535,-0.0008790537831373513,0.007323031779378653,0.0481179840862751,0.01013295166194439,0.06454133242368698,-0.06488599628210068,-0.00975807849317789,0.03580738231539726,0.016512805595993996,-0.0027046571485698223,0.00003280076271039434,0.07437753677368164,-0.11502938717603683,0.014810054562985897,-0.06432969123125076,-0.0420895479619503,-0.05349697172641754,-0.02037624455988407,-0.011851105839014053,0.045105915516614914,0.03046945482492447,-0.09123766422271729,0.006717090029269457,-0.07652953267097473,-0.09447303414344788,-0.004277518484741449,0.04389096796512604,-0.0710618793964386,0.029033401980996132,0.01551644504070282,0.09801133722066879,-0.040414128452539444,-0.041890282183885574,0.021337540820240974,-0.017079152166843414,-0.002120648743584752,-0.008503480814397335,0.028706679120659828,-0.021980589255690575,0.02537272870540619,0.011200561188161373,0.03921005502343178,-0.01114644855260849,-0.06001630425453186,0.04371168091893196,0.046444524079561234,-0.00317167560569942,-0.0521952360868454,0.0032926341518759727,0.0363030806183815,0.0348467081785202,0.01422087848186493,-0.05402684584259987,0.018297739326953888,-0.021267225965857506,-0.033637646585702896,-0.04983855038881302,-0.015951592475175858,-0.03880149498581886,-0.0006989123648963869,-0.006695483345538378,0.07720005512237549,0.02384510263800621,0.004990729968994856,-0.01125147845596075,-0.02529575675725937,-0.030287165194749832,0.011431857012212276,0.02776441164314747,-0.000261536828475073,0.054296594113111496,0.04950302094221115,0.044316865503787994,-0.010276217944920063,0.06312156468629837,-0.04919784516096115,-0.008636275306344032,-0.013732228428125381,0.02127440832555294,0.028792506083846092,0.03175606206059456,0.048406779766082764,-0.008776268921792507,0.09527739137411118,-0.005883145611733198,0.05857078731060028,0.04137310013175011,-0.07484589517116547,-0.008890833705663681,0.005744150374084711,-0.04988511651754379,-0.03298462927341461,-0.07982932776212692,-0.009907599538564682,0.0014219358563423157,-0.01921176351606846,-0.011197934858500957,0.015408298000693321,0.004332979675382376,-0.027389856055378914,-0.036635641008615494,-0.004969683475792408,-0.013565478846430779,-0.014191314578056335,0.019343774765729904,0.07364022731781006,0.03317698463797569,-0.0037495291326195,-0.02947113662958145,-0.045686088502407074,0.032933738082647324,-0.02707277424633503,0.04170474037528038,0.005927641410380602,-0.0018024415476247668,0.028583835810422897,-0.0160555150359869,0.011286240071058273,0.0028945680242031813,0.01300190482288599,-0.03029770404100418,0.010162129066884518,-0.019205555319786072,0.06118074059486389,0.0007211447809822857,-0.014671209268271923,-0.020158210769295692,-0.03551614657044411,0.04630502313375473,0.026002103462815285,-0.015599052421748638,-0.00007067409751471132,0.014482531696557999,-0.08545747399330139,0.037885308265686035,-0.1008157804608345,0.009056433103978634,0.005332727916538715,0.005373247899115086,-0.030538156628608704,-0.02847166359424591,0.03866177052259445,0.001783276442438364,0.0694131925702095,-0.006797126494348049,0.010713551193475723,-0.0375654473900795,0.0035158267710357904,0.016472823917865753,-0.0011276495642960072,0.0016787465428933501,0.05068780109286308,0.04197174310684204,0.038371022790670395,-0.007346160244196653,0.01907111518085003,-0.0016006618971005082,0.01447207573801279,0.009380055591464043,-0.00026583336875773966,0.0342976413667202,0.004988066386431456,0.029487531632184982,-0.004195403773337603,-0.026184406131505966,0.03380138427019119,-0.011506777256727219,-0.03347838670015335,0.027648337185382843,0.03607596457004547,-0.0627383440732956,0.00257065799087286,-0.044236667454242706,-0.036152131855487823,-0.056387513875961304,0.016363363713026047,0.003746077883988619,-0.03700719773769379,0.0157590564340353,0.0054359957575798035,0.010795657522976398,0.001939052832312882,-0.01929999701678753,0.05003109574317932,0.014305482618510723,-0.03095265105366707,0.03309580311179161,-0.04168257862329483,-0.028369450941681862,0.0502045564353466,0.01013829093426466,0.02158418670296669,-0.02147986926138401,0.023469293490052223,-0.07791683077812195,0.0030211089178919792,0.011341304518282413,0.0637972429394722,-0.03940652310848236,-0.018215686082839966,0.004527886863797903,-0.047911420464515686,-0.038798049092292786,0.02096332423388958,-0.040260862559080124,-0.034590400755405426,0.05853278562426567,0.03335673362016678,0.07332924753427505,-0.01467555109411478,0.017346886917948723,0.027282780036330223,0.031703878194093704,-0.031830303370952606,0.020029373466968536,-0.020629586651921272,-0.07061780989170074,-0.016337260603904724,-0.003940194845199585,-0.019521310925483704,-0.00940791331231594,-0.02805083431303501,0.02755526639521122,0.020057428628206253,0.018919870257377625,0.017924271523952484,0.007623697631061077,-0.027639729902148247,0.07033201307058334,0.025111859664320946,0.0472760871052742,-0.017239101231098175,0.028724363073706627,-0.02678391896188259,-0.041248440742492676,0.03601987659931183,0.0063299681060016155,0.10025918483734131,0.042713042348623276,-0.04351343587040901,0.00039428219315595925,0.0046080006286501884,-0.03198182210326195,0.06862757354974747,0.04224483668804169,-0.013957547955214977,-0.01507004164159298,0.05063915625214577,0.02410779520869255,0.04592719301581383,0.01595534384250641,-0.10413715243339539,0.024756349623203278,0.039426982402801514,0.01575389876961708,-0.017522582784295082,0.0016543554374948144,-0.09216570109128952,-0.04727058857679367,-0.04038800299167633,-0.0015667000552639365,0.0070824637077748775,-0.006914959289133549,-0.034463223069906235,0.03701561689376831,0.02758689783513546,-0.00742291659116745,-0.007796038407832384,0.0082040810957551,-0.04258355498313904,0.09698902070522308,-0.04856938123703003,-0.0118793323636055,-0.05685482546687126,-0.02319713681936264,-0.01564476452767849,-0.030769294127821922,0.01431106124073267,0.039392631500959396,0.025096038356423378,-0.037600431591272354,0.04976093769073486,0.05427359417080879,-0.030917437747120857,-0.029148342087864876,-0.025932803750038147,-0.002285198075696826,-0.04114406928420067,0.06284091621637344,0.010019280016422272,-0.010498130694031715,0.02187288925051689,-0.02296549826860428,0.07238249480724335,-0.07680663466453552,-0.027509620413184166,0.02612706460058689,-0.022338056936860085,-0.025526603683829308,-0.005650490056723356,-0.014727534726262093,-0.06404885649681091,-0.029205208644270897,0.006554868072271347,-0.005436790641397238,0.0331757515668869,-0.012244168668985367,0.024438640102744102,-0.011154532432556152,-0.012827012687921524,0.03462101146578789,0.00218720780685544,0.025833318009972572,-0.031997449696063995,-0.04425624758005142,-0.04504945129156113,0.03712731972336769,-0.012470412068068981,-0.01733986660838127,-0.03758072853088379,0.036035750061273575,0.015603367239236832,-0.012891501188278198,-0.024250105023384094,-0.01153991837054491,-0.028299303725361824,0.06621069461107254,-0.004173333290964365,0.013081653974950314,-0.06093807518482208,0.0293336920440197,0.033335912972688675,-0.008503440767526627,-0.02418893203139305,-0.026097111403942108,-0.01909668743610382,-0.0023700918536633253,-0.0015410735504701734,0.0015681780641898513,0.08979470282793045,0.06325579434633255,0.030160915106534958,0.013257371261715889,0.04546639323234558,-0.05459163710474968,-0.04221133142709732,-0.030844030901789665,0.006818715948611498,0.002543572336435318,-0.015283478423953056,0.003450460499152541,-0.0036827879957854748,0.01963299885392189,0.05870867520570755,-0.005854111164808273,-0.003957308363169432,-0.01835011877119541,-0.03898308426141739,-0.04851573705673218,0.07402946054935455,0.03241964429616928,-0.005435644648969173,-0.0401468351483345,-0.025942273437976837,0.03688342869281769,-0.016741110011935234,-0.0008374823955819011,-0.009417425841093063,-0.003972723614424467,-0.005755673162639141,0.05119484290480614,-0.03091268241405487,0.019585980102419853,-0.01732776127755642,0.015376475639641285,0.04086674749851227,0.006564436014741659,-0.0082034170627594,0.0021538103464990854,-0.026212630793452263,-0.01273827813565731,-0.006943522021174431,0.0127946138381958,-0.020440636202692986,0.04011700674891472,-0.038645148277282715,-0.04130718857049942,0.03198494017124176,0.02080908790230751,-0.031734853982925415,-0.0044841584749519825,-0.07353251427412033,0.04369812086224556,-0.03519991412758827,0.0047411080449819565,0.029481234028935432,-0.008850686252117157,-0.03573306277394295,-0.03513944149017334,0.00011700501636369154,-0.006254937965422869,-6.892598553438825e-33,0.0052667343989014626,-0.005568123422563076,-0.038632795214653015,-0.012753698974847794,0.011136054992675781,-0.051890779286623,0.010595493949949741,-0.07980978488922119,-0.0014759748009964824,-0.02458268217742443,-0.00775805301964283,-0.02140478976070881,0.024298347532749176,0.005571207497268915,0.010609019547700882,-0.007320645730942488,0.030340667814016342,-0.008604459464550018,-0.012443598359823227,0.03167258948087692,-0.01576734334230423,0.03766198456287384,-0.0006975244032219052,-0.007644138298928738,-0.03454141691327095,0.03624344617128372,-0.03634125739336014,0.03972504287958145,-0.10260136425495148,0.02147495001554489,0.017281504347920418,-0.02515474334359169,-0.022340474650263786,-0.006228895392268896,-0.00681843888014555,-0.06337209045886993,-0.06432050466537476,-0.00012726457498501986,-0.016895173117518425,0.03569351136684418,0.09401416033506393,0.025329899042844772,0.045599691569805145,0.0030753600876778364,-0.026835216209292412,-0.0459788478910923,-0.013880855403840542,-0.021164005622267723,-0.003560771932825446,-0.07368926703929901,0.010420934297144413,0.020454566925764084,-0.007914897054433823,0.027107588946819305,-0.004249956924468279,0.06932559609413147,0.025923175737261772,0.07242149859666824,-0.11876505613327026,-0.04943392798304558,-0.03127795085310936,-0.013752703554928303,-0.015952974557876587,0.057183150202035904,0.06069399043917656,-0.026349110528826714,-0.005005295388400555,0.029263345524668694,-0.04690813645720482,-0.014197302050888538,-0.000903140811715275,-0.022711705416440964,0.018531164154410362,-0.06190754100680351,0.10349170118570328,-0.027132926508784294,-0.05071644484996796,0.004639383405447006,-0.05655980110168457,0.0898052230477333,0.005277475342154503,0.037325821816921234,0.015948640182614326,0.024129092693328857,0.026218228042125702,-0.03949012607336044,0.00707963714376092,0.021054299548268318,-0.015467628836631775,0.023586943745613098,0.021232329308986664,0.023639541119337082,-0.05938718095421791,0.0680651143193245,-0.09060348570346832,-0.0062131574377417564,0.02149301953613758,0.022172395139932632,0.012751463800668716,0.008157707750797272,0.005573917645961046,0.030101174488663673,-0.06283396482467651,0.029323341324925423,-0.015115154907107353,0.01677360013127327,0.076603963971138,-0.0028831949457526207,-0.05162714794278145,0.026341920718550682,0.019112810492515564,0.03177925571799278,-0.03195315599441528,0.05883239582180977,0.01158987358212471,0.018166430294513702,0.0027564079500734806,-0.026422616094350815,0.016203615814447403,-0.013460667803883553,0.014823256991803646,-0.008329154923558235,-0.00668003736063838,0.05598093196749687,0.05274273455142975,-0.00042995758121833205,-0.038711752742528915,-0.0472835935652256,0.017597386613488197,0.015405832789838314,0.02195064164698124,0.04543149471282959,3.109274757662206e-7,0.0032612390350550413,-0.0029109821189194918,-0.0326136015355587,0.036690112203359604,0.02217746712267399,0.018609942868351936,-0.037950966507196426,-0.05007326230406761,0.007300495635718107,-0.04637961462140083,-0.0022680910769850016,0.030719337984919548,0.04786190390586853,0.02927066944539547,-0.014034952037036419,-0.06151324138045311,-0.06556911766529083,-0.04011201858520508,-0.028908157721161842,0.030444812029600143,-0.03228473663330078,0.017660893499851227,0.05829763785004616,-0.011096221394836903,0.00847358163446188,0.011264226399362087,-0.0065758684650063515,-0.0312713198363781,0.008437718264758587,-0.0009589013061486185,0.03841347247362137,-0.05031127482652664,0.016398442909121513,0.03796045854687691,-0.004941448103636503,0.004880630876868963,-0.019326226785779,0.000895200006198138,-0.0034936191514134407,0.06996545940637589,0.04892721772193909,-0.028446940705180168,-0.0014199459692463279,0.015548640862107277,0.03492490202188492,-0.018944157287478447,-0.04580234736204147,0.03070218488574028,-0.03895760327577591,0.023525575175881386,0.03234056755900383,0.00009627258987165987,-0.05833849310874939,-0.02856087125837803,0.02183939889073372,0.006758672650903463,-0.015017488040030003,0.06502752006053925,0.015931345522403717,0.024301627650856972,-0.043297018855810165,-0.000783296418376267,-0.0008329119300469756,0.06913530826568604,-0.004846862051635981,-0.032611969858407974,-0.029970107600092888,4.288041761326467e-34,0.020549355074763298,-0.03892295062541962,0.03770389035344124,0.0573614239692688,0.03859338536858559,-0.026778148487210274,-0.02891365997493267,0.016382934525609016,0.01594255305826664,-0.052683938294649124,-0.03196664899587631]'
SET
  @HasCustomProps_b2d662d2 = 1
SET
  @HasCustomEvents_b2d662d2 = 1
SET
  @RequiresData_b2d662d2 = 1
SET
  @DependencyCount_b2d662d2 = 2
SET
  @TechnicalDesignVectorEmbeddingModelID_b2d662d2 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_b2d662d2 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_b2d662d2 = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_b2d662d2,
  @Namespace = @Namespace_b2d662d2,
  @Name = @Name_b2d662d2,
  @Version = @Version_b2d662d2,
  @VersionSequence = @VersionSequence_b2d662d2,
  @Title = @Title_b2d662d2,
  @Description = @Description_b2d662d2,
  @Type = @Type_b2d662d2,
  @Status = @Status_b2d662d2,
  @DeveloperName = @DeveloperName_b2d662d2,
  @DeveloperEmail = @DeveloperEmail_b2d662d2,
  @DeveloperOrganization = @DeveloperOrganization_b2d662d2,
  @SourceRegistryID = @SourceRegistryID_b2d662d2,
  @ReplicatedAt = @ReplicatedAt_b2d662d2,
  @LastSyncedAt = @LastSyncedAt_b2d662d2,
  @Specification = @Specification_b2d662d2,
  @FunctionalRequirements = @FunctionalRequirements_b2d662d2,
  @TechnicalDesign = @TechnicalDesign_b2d662d2,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_b2d662d2,
  @TechnicalDesignVector = @TechnicalDesignVector_b2d662d2,
  @HasCustomProps = @HasCustomProps_b2d662d2,
  @HasCustomEvents = @HasCustomEvents_b2d662d2,
  @RequiresData = @RequiresData_b2d662d2,
  @DependencyCount = @DependencyCount_b2d662d2,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_b2d662d2,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_b2d662d2,
  @HasRequiredCustomProps = @HasRequiredCustomProps_b2d662d2;

-- Save MJ: Components (core SP call only)
DECLARE @ID_2c499d1d UNIQUEIDENTIFIER,
@Namespace_2c499d1d NVARCHAR(MAX),
@Name_2c499d1d NVARCHAR(500),
@Version_2c499d1d NVARCHAR(50),
@VersionSequence_2c499d1d INT,
@Title_2c499d1d NVARCHAR(1000),
@Description_2c499d1d NVARCHAR(MAX),
@Type_2c499d1d NVARCHAR(255),
@Status_2c499d1d NVARCHAR(50),
@DeveloperName_2c499d1d NVARCHAR(255),
@DeveloperEmail_2c499d1d NVARCHAR(255),
@DeveloperOrganization_2c499d1d NVARCHAR(255),
@SourceRegistryID_2c499d1d UNIQUEIDENTIFIER,
@ReplicatedAt_2c499d1d DATETIMEOFFSET,
@LastSyncedAt_2c499d1d DATETIMEOFFSET,
@Specification_2c499d1d NVARCHAR(MAX),
@FunctionalRequirements_2c499d1d NVARCHAR(MAX),
@TechnicalDesign_2c499d1d NVARCHAR(MAX),
@FunctionalRequirementsVector_2c499d1d NVARCHAR(MAX),
@TechnicalDesignVector_2c499d1d NVARCHAR(MAX),
@HasCustomProps_2c499d1d BIT,
@HasCustomEvents_2c499d1d BIT,
@RequiresData_2c499d1d BIT,
@DependencyCount_2c499d1d INT,
@TechnicalDesignVectorEmbeddingModelID_2c499d1d NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_2c499d1d NVARCHAR(MAX),
@HasRequiredCustomProps_2c499d1d BIT
SET
  @ID_2c499d1d = '88E31796-27C7-481D-9621-8D5D4143A976'
SET
  @Namespace_2c499d1d = N'Testing/DataGrid'
SET
  @Name_2c499d1d = N'TestEntityDataGrid'
SET
  @Version_2c499d1d = N'1.0.0'
SET
  @VersionSequence_2c499d1d = 1
SET
  @Title_2c499d1d = N'EntityDataGrid Test Harness'
SET
  @Description_2c499d1d = N'Test harness for EntityDataGrid component using Action Params entity (~1800 rows). Demonstrates both full cache mode (with filter) and partial cache mode (no filter) for testing pagination, sorting, filtering, and cache behavior. NOT a golden example - purely for testing and validation.'
SET
  @Type_2c499d1d = N'Other'
SET
  @Status_2c499d1d = N'Published'
SET
  @Specification_2c499d1d = N'{"name":"TestEntityDataGrid","title":"EntityDataGrid Test Component","description":"Test harness for EntityDataGrid component using Action Params entity (~1800 rows). Demonstrates both full cache mode (with filter) and partial cache mode (no filter) for testing pagination, sorting, filtering, and cache behavior. NOT a golden example - purely for testing and validation.","type":"other","location":"embedded","functionalRequirements":"Test component to validate EntityDataGrid functionality with real MJ data. Two side-by-side grids: LEFT GRID (Partial Cache Mode): Shows ALL Action Params (~1800 rows) with no extraFilter; Enters partial cache mode (maxCachedRows=1000); Tests server-side pagination, sorting, caching; User can toggle through all pages; Shows cache mode indicator and warnings for testing. RIGHT GRID (Full Cache Mode): Shows filtered Action Params (Type=''User Defined''); Should have < 1000 rows, enters full cache mode; Tests client-side instant sort/filter/pagination; Shows cache mode indicator to confirm full cache. TESTING SCENARIOS: Pagination: Click through pages in left grid, verify loading states and cache hits; Sorting: Sort columns in both grids, observe instant (right) vs server-side (left); Filtering: Use text filter in both grids, observe behavior differences; Cache indicators: Verify left shows ''Showing first 1,000 of 1,800'' and right shows ''All X records loaded''; Page size changes: Change page size in both grids, verify reload behavior; Refresh: Test refresh button clears caches and reloads. DEVELOPER CONTROLS: Toggle switches to enable/disable showCacheModeIndicator and warnOnPartialResults; Adjust maxCachedRows to test cache mode transitions; View cache mode change events in console.","technicalDesign":"React component with two EntityDataGrid instances and test controls. State: showIndicators (boolean), showWarnings (boolean), cacheLimit (number). Layout: Top controls panel with toggles and inputs; Two-column layout with EntityDataGrid instances; Console log viewer for events. Left Grid Props: entityName=''Action Params'', no extraFilter, maxCachedRows=cacheLimit, showCacheModeIndicator=showIndicators, warnOnPartialResults=showWarnings, enableSorting=true, enableFiltering=true, showRefreshButton=true, pageSize=20, onCacheModeChanged logs to console, onPageChanged logs cache hits. Right Grid Props: entityName=''Action Params'', extraFilter=\"Type=''User Defined''\", same props as left grid. Controls Panel: Checkbox to toggle showCacheModeIndicator; Checkbox to toggle warnOnPartialResults; Number input for maxCachedRows (default 1000); Info display showing current cache modes. Event Logging: Console.log all cache mode changes and page changes with timestamps; Display summary of actions taken for debugging.","dataRequirements":{"mode":"views","description":"Uses EntityDataGrid which performs RunView internally. No direct data requirements - EntityDataGrid handles all data loading."},"properties":[{"name":"initialCacheLimit","type":"number","description":"Initial maxCachedRows value for testing","required":false,"defaultValue":1000}],"events":[],"dependencies":[{"name":"EntityDataGrid","namespace":"Generic/UI/Table","location":"registry","description":"Component being tested"}],"code":"function TestEntityDataGrid({\n  initialCacheLimit = 1000,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // Get EntityDataGrid component\n  const { EntityDataGrid } = components;\n\n  // Test controls state\n  const [showIndicators, setShowIndicators] = React.useState(true);\n  const [showWarnings, setShowWarnings] = React.useState(true);\n  const [cacheLimit, setCacheLimit] = React.useState(initialCacheLimit);\n  const [leftCacheMode, setLeftCacheMode] = React.useState(''loading'');\n  const [rightCacheMode, setRightCacheMode] = React.useState(''loading'');\n  const [eventLog, setEventLog] = React.useState([]);\n\n  // Log events\n  const logEvent = (message) => {\n    const timestamp = new Date().toLocaleTimeString();\n    const logEntry = `[$' + '{timestamp}] $' + '{message}`;\n    console.log(logEntry);\n    setEventLog(prev => [logEntry, ...prev].slice(0, 20)); // Keep last 20 events\n  };\n\n  // Handle cache mode changes\n  const handleLeftCacheModeChange = (info) => {\n    setLeftCacheMode(info.cacheMode);\n    logEvent(`LEFT GRID: Cache mode changed to ''$' + '{info.cacheMode}'' ($' + '{info.totalRecords} total records, max $' + '{info.maxCachedRows})`);\n  };\n\n  const handleRightCacheModeChange = (info) => {\n    setRightCacheMode(info.cacheMode);\n    logEvent(`RIGHT GRID: Cache mode changed to ''$' + '{info.cacheMode}'' ($' + '{info.totalRecords} total records, max $' + '{info.maxCachedRows})`);\n  };\n\n  // Handle page changes\n  const handleLeftPageChange = (info) => {\n    const hitStatus = info.cacheHit ? ''✓ CACHE HIT'' : ''⚠ SERVER FETCH'';\n    logEvent(`LEFT GRID: Page $' + '{info.pageNumber} loaded - $' + '{hitStatus} ($' + '{info.cacheMode} mode)`);\n  };\n\n  const handleRightPageChange = (info) => {\n    const hitStatus = info.cacheHit ? ''✓ CACHE HIT'' : ''⚠ SERVER FETCH'';\n    logEvent(`RIGHT GRID: Page $' + '{info.pageNumber} loaded - $' + '{hitStatus} ($' + '{info.cacheMode} mode)`);\n  };\n\n  if (!EntityDataGrid) {\n    return (\n      <div style={{\n        padding: ''24px'',\n        border: ''1px solid #ff4d4f'',\n        borderRadius: ''4px'',\n        backgroundColor: ''#fff2f0'',\n        color: ''#cf1322'',\n        textAlign: ''center''\n      }}>\n        Error: EntityDataGrid component not found. Please ensure EntityDataGrid is properly registered.\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ width: ''100%'', padding: ''20px'', backgroundColor: ''#f5f5f5'' }}>\n      {/* Header */}\n      <div style={{\n        marginBottom: ''20px'',\n        padding: ''16px'',\n        backgroundColor: ''#fff'',\n        borderRadius: ''8px'',\n        border: ''1px solid #d9d9d9''\n      }}>\n        <h2 style={{ margin: ''0 0 8px 0'', fontSize: ''20px'', color: ''#262626'' }}>\n          EntityDataGrid Test Harness\n        </h2>\n        <p style={{ margin: 0, fontSize: ''14px'', color: ''#595959'' }}>\n          Testing with Action Params entity (~1800 rows). Left grid: no filter (partial cache). Right grid: filtered (full cache).\n        </p>\n      </div>\n\n      {/* Test Controls */}\n      <div style={{\n        marginBottom: ''20px'',\n        padding: ''16px'',\n        backgroundColor: ''#fff'',\n        borderRadius: ''8px'',\n        border: ''1px solid #d9d9d9''\n      }}>\n        <h3 style={{ margin: ''0 0 12px 0'', fontSize: ''16px'', color: ''#262626'' }}>\n          Test Controls\n        </h3>\n\n        <div style={{ display: ''flex'', gap: ''24px'', flexWrap: ''wrap'', alignItems: ''center'' }}>\n          {/* Show Indicators Toggle */}\n          <label style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'', cursor: ''pointer'' }}>\n            <input\n              type=\"checkbox\"\n              checked={showIndicators}\n              onChange={(e) => setShowIndicators(e.target.checked)}\n              style={{ cursor: ''pointer'' }}\n            />\n            <span style={{ fontSize: ''14px'', color: ''#262626'' }}>Show Cache Mode Indicators</span>\n          </label>\n\n          {/* Show Warnings Toggle */}\n          <label style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'', cursor: ''pointer'' }}>\n            <input\n              type=\"checkbox\"\n              checked={showWarnings}\n              onChange={(e) => setShowWarnings(e.target.checked)}\n              style={{ cursor: ''pointer'' }}\n            />\n            <span style={{ fontSize: ''14px'', color: ''#262626'' }}>Show Partial Result Warnings</span>\n          </label>\n\n          {/* Max Cached Rows Input */}\n          <div style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'' }}>\n            <label style={{ fontSize: ''14px'', color: ''#262626'' }}>Max Cached Rows:</label>\n            <input\n              type=\"number\"\n              value={cacheLimit}\n              onChange={(e) => setCacheLimit(Number(e.target.value))}\n              min={100}\n              max={5000}\n              step={100}\n              style={{\n                padding: ''4px 8px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px'',\n                width: ''100px''\n              }}\n            />\n            <button\n              onClick={() => {\n                logEvent(`Cache limit changed to $' + '{cacheLimit} - grids will reload`);\n                // Force re-render by updating a key would be ideal, but state change will trigger useEffect\n              }}\n              style={{\n                padding: ''4px 12px'',\n                backgroundColor: ''#1890ff'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''13px''\n              }}\n            >\n              Apply\n            </button>\n          </div>\n        </div>\n\n        {/* Cache Mode Status */}\n        <div style={{\n          marginTop: ''16px'',\n          padding: ''12px'',\n          backgroundColor: ''#fafafa'',\n          borderRadius: ''4px'',\n          border: ''1px solid #e8e8e8''\n        }}>\n          <div style={{ display: ''flex'', gap: ''32px'', fontSize: ''13px'' }}>\n            <div>\n              <strong>Left Grid Cache Mode:</strong>{'' ''}\n              <span style={{\n                padding: ''2px 8px'',\n                borderRadius: ''4px'',\n                backgroundColor: leftCacheMode === ''full'' ? ''#f6ffed'' : ''#fff7e6'',\n                color: leftCacheMode === ''full'' ? ''#389e0d'' : ''#d48806'',\n                fontWeight: 600\n              }}>\n                {leftCacheMode.toUpperCase()}\n              </span>\n            </div>\n            <div>\n              <strong>Right Grid Cache Mode:</strong>{'' ''}\n              <span style={{\n                padding: ''2px 8px'',\n                borderRadius: ''4px'',\n                backgroundColor: rightCacheMode === ''full'' ? ''#f6ffed'' : ''#fff7e6'',\n                color: rightCacheMode === ''full'' ? ''#389e0d'' : ''#d48806'',\n                fontWeight: 600\n              }}>\n                {rightCacheMode.toUpperCase()}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Two-Column Grid Layout */}\n      <div style={{\n        display: ''grid'',\n        gridTemplateColumns: ''1fr 1fr'',\n        gap: ''20px'',\n        marginBottom: ''20px''\n      }}>\n        {/* Left Grid - No Filter (Partial Cache Mode) */}\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#fff'',\n          borderRadius: ''8px'',\n          border: ''1px solid #d9d9d9''\n        }}>\n          <h3 style={{\n            margin: ''0 0 12px 0'',\n            fontSize: ''16px'',\n            color: ''#262626'',\n            paddingBottom: ''12px'',\n            borderBottom: ''1px solid #f0f0f0''\n          }}>\n            Test 1: All Action Params (No Filter)\n          </h3>\n          <p style={{\n            margin: ''0 0 16px 0'',\n            fontSize: ''13px'',\n            color: ''#8c8c8c'',\n            fontStyle: ''italic''\n          }}>\n            Expected: ~1800 rows → Partial cache mode (server-side sort/filter, page caching)\n          </p>\n\n          <EntityDataGrid\n            entityName=\"Action Params\"\n            fields={[''InvalidField1'', ''Name'', ''BadColumn'', ''Type'', ''ValueType'', ''FakeProperty'', ''IsRequired'', ''IsArray'', ''DefaultValue'']}\n            orderBy=\"Name ASC\"\n            pageSize={20}\n            maxCachedRows={cacheLimit}\n            enablePageCache={true}\n            showPageSizeChanger={true}\n            enableSorting={true}\n            enableFiltering={true}\n            showRefreshButton={true}\n            showCacheModeIndicator={showIndicators}\n            warnOnPartialResults={showWarnings}\n            onCacheModeChanged={handleLeftCacheModeChange}\n            onPageChanged={handleLeftPageChange}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings}\n            onSaveUserSettings={onSaveUserSettings}\n          />\n        </div>\n\n        {/* Right Grid - Filtered (Full Cache Mode) */}\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#fff'',\n          borderRadius: ''8px'',\n          border: ''1px solid #d9d9d9''\n        }}>\n          <h3 style={{\n            margin: ''0 0 12px 0'',\n            fontSize: ''16px'',\n            color: ''#262626'',\n            paddingBottom: ''12px'',\n            borderBottom: ''1px solid #f0f0f0''\n          }}>\n            Test 2: Custom Column Styling (Filtered)\n          </h3>\n          <p style={{\n            margin: ''0 0 16px 0'',\n            fontSize: ''13px'',\n            color: ''#8c8c8c'',\n            fontStyle: ''italic''\n          }}>\n            Mixed field definitions (strings + ColumnDef objects): Name & Type (simple strings), ValueType (color-coded badges), IsRequired (conditional icons, sortable=false), IsArray (emoji), DefaultValue (null handling, truncation). Tests custom headers, widths, render functions, and per-column sortable override.\n          </p>\n\n          <EntityDataGrid\n            entityName=\"Action Params\"\n            extraFilter=\"IsRequired=1\"\n            fields={[\n              ''Name'',  // Simple string field\n              ''Type'',  // Simple string field\n              {\n                field: ''ValueType'',\n                header: ''📊 Value Type'',\n                width: 120,\n                render: (value) => {\n                  const typeColors = {\n                    ''string'': ''#52c41a'',\n                    ''number'': ''#1890ff'',\n                    ''boolean'': ''#722ed1'',\n                    ''object'': ''#fa8c16'',\n                    ''array'': ''#eb2f96''\n                  };\n                  const color = typeColors[value?.toLowerCase()] || ''#8c8c8c'';\n                  return (\n                    <span style={{\n                      display: ''inline-block'',\n                      padding: ''2px 8px'',\n                      borderRadius: ''4px'',\n                      backgroundColor: `$' + '{color}15`,\n                      color: color,\n                      fontWeight: 600,\n                      fontSize: ''12px'',\n                      border: `1px solid $' + '{color}40`\n                    }}>\n                      {value || ''unknown''}\n                    </span>\n                  );\n                }\n              },\n              {\n                field: ''IsRequired'',\n                header: ''⚡ Required?'',\n                width: 100,\n                sortable: false,  // Test per-column sortable override\n                render: (value) => (\n                  <span style={{ fontSize: ''16px'', textAlign: ''center'', display: ''block'' }}>\n                    {value ? (\n                      <span style={{ color: ''#ff4d4f'' }} title=\"Required\">✓ Yes</span>\n                    ) : (\n                      <span style={{ color: ''#d9d9d9'' }} title=\"Optional\">○ No</span>\n                    )}\n                  </span>\n                )\n              },\n              {\n                field: ''IsArray'',\n                header: ''📦 Array'',\n                width: 80,\n                render: (value) => (\n                  <span style={{ fontSize: ''18px'', display: ''block'', textAlign: ''center'' }}>\n                    {value ? ''📦'' : ''📄''}\n                  </span>\n                )\n              },\n              {\n                field: ''DefaultValue'',\n                header: ''Default Value'',\n                width: 150,\n                render: (value) => {\n                  if (value == null || value === '''') {\n                    return <span style={{ color: ''#bfbfbf'', fontStyle: ''italic'' }}>none</span>;\n                  }\n                  const displayValue = String(value);\n                  if (displayValue.length > 20) {\n                    return (\n                      <span title={displayValue} style={{ cursor: ''help'' }}>\n                        {displayValue.substring(0, 20)}...\n                      </span>\n                    );\n                  }\n                  return <span style={{ fontFamily: ''monospace'', fontSize: ''12px'' }}>{displayValue}</span>;\n                }\n              }\n            ]}\n            orderBy=\"Name ASC\"\n            pageSize={20}\n            maxCachedRows={1000}\n            enablePageCache={true}\n            showPageSizeChanger={true}\n            enableSorting={true}\n            enableFiltering={true}\n            showRefreshButton={true}\n            showCacheModeIndicator={showIndicators}\n            warnOnPartialResults={showWarnings}\n            onCacheModeChanged={handleRightCacheModeChange}\n            onPageChanged={handleRightPageChange}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings}\n            onSaveUserSettings={onSaveUserSettings}\n          />\n        </div>\n      </div>\n\n      {/* Event Log */}\n      <div style={{\n        padding: ''16px'',\n        backgroundColor: ''#fff'',\n        borderRadius: ''8px'',\n        border: ''1px solid #d9d9d9''\n      }}>\n        <div style={{\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center'',\n          marginBottom: ''12px''\n        }}>\n          <h3 style={{ margin: 0, fontSize: ''16px'', color: ''#262626'' }}>\n            Event Log (Last 20 Events)\n          </h3>\n          <button\n            onClick={() => {\n              setEventLog([]);\n              logEvent(''Event log cleared'');\n            }}\n            style={{\n              padding: ''4px 12px'',\n              backgroundColor: ''#fff'',\n              color: ''#595959'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''13px''\n            }}\n          >\n            Clear Log\n          </button>\n        </div>\n\n        <div style={{\n          maxHeight: ''300px'',\n          overflowY: ''auto'',\n          backgroundColor: ''#fafafa'',\n          border: ''1px solid #e8e8e8'',\n          borderRadius: ''4px'',\n          padding: ''12px'',\n          fontFamily: ''monospace'',\n          fontSize: ''12px''\n        }}>\n          {eventLog.length === 0 ? (\n            <div style={{ color: ''#8c8c8c'', fontStyle: ''italic'' }}>\n              No events logged yet. Interact with the grids above to see events.\n            </div>\n          ) : (\n            eventLog.map((log, index) => (\n              <div\n                key={index}\n                style={{\n                  padding: ''4px 0'',\n                  borderBottom: index < eventLog.length - 1 ? ''1px solid #e8e8e8'' : ''none'',\n                  color: ''#262626''\n                }}\n              >\n                {log}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* Testing Instructions */}\n      <div style={{\n        marginTop: ''20px'',\n        padding: ''16px'',\n        backgroundColor: ''#e6f7ff'',\n        borderRadius: ''8px'',\n        border: ''1px solid #91d5ff''\n      }}>\n        <h3 style={{ margin: ''0 0 12px 0'', fontSize: ''16px'', color: ''#0050b3'' }}>\n          📋 Testing Scenarios\n        </h3>\n        <ol style={{ margin: 0, paddingLeft: ''20px'', fontSize: ''14px'', color: ''#096dd9'', lineHeight: ''1.8'' }}>\n          <li><strong>Pagination Test:</strong> Click through multiple pages in left grid. Watch for cache hits vs server fetches in event log.</li>\n          <li><strong>Sorting Test:</strong> Click column headers in both grids. Left should show loading overlay (server-side), right should be instant (client-side).</li>\n          <li><strong>Filtering Test:</strong> Use text search box in both grids. Left grid should show warning about using extraFilter prop (if warnings enabled).</li>\n          <li><strong>Cache Mode Transition:</strong> Change maxCachedRows to 2000 and click Apply. Left grid should switch from partial to full cache mode.</li>\n          <li><strong>Page Size Change:</strong> Change \"Show\" dropdown in left grid. Observe cache clear and reload behavior in event log.</li>\n          <li><strong>Refresh Test:</strong> Click refresh button in either grid. Cache should clear and data reload.</li>\n          <li><strong>Performance Comparison:</strong> With indicators on, compare sort/page speed between full (right) and partial (left) cache modes.</li>\n        </ol>\n      </div>\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage for testing\n<TestEntityDataGrid />\n\n// Custom cache limit for testing mode transitions\n<TestEntityDataGrid initialCacheLimit={500} />\n\n// Testing scenarios:\n// 1. Load component - left grid should show ''partial'', right grid should show ''full''\n// 2. Page through left grid - observe loading states and cache hits\n// 3. Sort columns in both grids - observe instant vs server-side behavior\n// 4. Use text filter - observe warnings in left grid (partial mode)\n// 5. Change maxCachedRows to 2000 - left grid should switch to full cache mode\n// 6. Toggle indicators/warnings on/off to test visibility"}'
SET
  @FunctionalRequirements_2c499d1d = N'Test component to validate EntityDataGrid functionality with real MJ data. Two side-by-side grids: LEFT GRID (Partial Cache Mode): Shows ALL Action Params (~1800 rows) with no extraFilter; Enters partial cache mode (maxCachedRows=1000); Tests server-side pagination, sorting, caching; User can toggle through all pages; Shows cache mode indicator and warnings for testing. RIGHT GRID (Full Cache Mode): Shows filtered Action Params (Type=''User Defined''); Should have < 1000 rows, enters full cache mode; Tests client-side instant sort/filter/pagination; Shows cache mode indicator to confirm full cache. TESTING SCENARIOS: Pagination: Click through pages in left grid, verify loading states and cache hits; Sorting: Sort columns in both grids, observe instant (right) vs server-side (left); Filtering: Use text filter in both grids, observe behavior differences; Cache indicators: Verify left shows ''Showing first 1,000 of 1,800'' and right shows ''All X records loaded''; Page size changes: Change page size in both grids, verify reload behavior; Refresh: Test refresh button clears caches and reloads. DEVELOPER CONTROLS: Toggle switches to enable/disable showCacheModeIndicator and warnOnPartialResults; Adjust maxCachedRows to test cache mode transitions; View cache mode change events in console.'
SET
  @TechnicalDesign_2c499d1d = N'React component with two EntityDataGrid instances and test controls. State: showIndicators (boolean), showWarnings (boolean), cacheLimit (number). Layout: Top controls panel with toggles and inputs; Two-column layout with EntityDataGrid instances; Console log viewer for events. Left Grid Props: entityName=''Action Params'', no extraFilter, maxCachedRows=cacheLimit, showCacheModeIndicator=showIndicators, warnOnPartialResults=showWarnings, enableSorting=true, enableFiltering=true, showRefreshButton=true, pageSize=20, onCacheModeChanged logs to console, onPageChanged logs cache hits. Right Grid Props: entityName=''Action Params'', extraFilter="Type=''User Defined''", same props as left grid. Controls Panel: Checkbox to toggle showCacheModeIndicator; Checkbox to toggle warnOnPartialResults; Number input for maxCachedRows (default 1000); Info display showing current cache modes. Event Logging: Console.log all cache mode changes and page changes with timestamps; Display summary of actions taken for debugging.'
SET
  @FunctionalRequirementsVector_2c499d1d = N'[-0.04211750254034996,0.052957795560359955,-0.007114137522876263,-0.020429253578186035,0.02595156989991665,0.04601522535085678,0.02457515336573124,0.08836108446121216,0.02161342464387417,-0.013229436241090298,-0.008068527095019817,-0.042119044810533524,-0.05368873104453087,0.018495995551347733,0.01834069937467575,0.06555492430925369,0.006017147097736597,0.02346028946340084,-0.01325179822742939,0.0022446869406849146,0.027261441573500633,-0.05185724049806595,0.015511992387473583,0.009964283555746078,-0.04776673763990402,0.00171586440410465,-0.03878464177250862,0.010381906293332577,0.05685342475771904,-0.0760761946439743,0.007134336046874523,0.04419059306383133,-0.02322370931506157,0.0026772378478199244,0.0000023051279640640132,0.006780381314456463,-0.03206287696957588,0.025676921010017395,-0.04464678093791008,0.05232910439372063,0.027464453130960464,0.050014249980449677,0.011226304806768894,-0.011479570530354977,-0.020892677828669548,-0.001761763240210712,-0.027528339996933937,0.011396464891731739,0.01577245630323887,-0.007303489837795496,0.010904388502240181,-0.007601137273013592,-0.056098636239767075,0.013973169960081577,0.033288683742284775,0.0010813315166160464,0.029183287173509598,-0.011023366823792458,0.0825505256652832,-0.04131128638982773,-0.011020518839359283,-0.015612857416272163,0.028506962582468987,-0.011319476179778576,-0.023948069661855698,-0.00574541324749589,-0.004739690106362104,0.015239872969686985,0.06295034289360046,-0.022931387647986412,0.12092024832963943,-0.06600478291511536,0.02249540202319622,-0.06085857003927231,-0.03622737154364586,0.025804374366998672,0.02630111761391163,-0.02755686081945896,-0.018991757184267044,0.010301179252564907,-0.04432050511240959,-0.024207286536693573,-0.002553818514570594,-0.04756343737244606,-0.0809464380145073,0.032880112528800964,0.032803136855363846,-0.05271684750914574,-0.07728954404592514,-0.004294109996408224,0.10230205953121185,-0.0037944780196994543,-0.014079813845455647,0.016270684078335762,-0.03917534649372101,-0.011535871773958206,-0.003924769815057516,-0.05899279564619064,0.08992791920900345,0.027434764429926872,0.036746133118867874,-0.005932153202593327,0.019826309755444527,-0.012803989462554455,0.0026415379252284765,0.07401981949806213,0.0358157642185688,0.0164912398904562,-0.002221390837803483,-0.003615188878029585,-0.026167459785938263,0.026300769299268723,0.04077684506773949,0.02202351577579975,0.06145326793193817,-0.005767162889242172,-0.022911392152309418,-0.027763210237026215,-0.03367210179567337,0.044753339141607285,0.04297645017504692,-0.027816392481327057,0.0023587627802044153,0.029985645785927773,0.00941768940538168,-0.05231105163693428,-0.03926285356283188,-0.07537902146577835,-0.029765428975224495,-0.03846365958452225,-0.03117457963526249,-0.04285028204321861,-0.000989809399470687,0.011929518543183804,0.017625197768211365,0.013652762398123741,0.05751914158463478,0.006267033517360687,-0.02041488140821457,-0.011125218123197556,0.037373438477516174,0.027615336701273918,0.02218586578965187,0.07158489525318146,-0.016190696507692337,-0.01780121587216854,0.005697055719792843,0.02265460230410099,0.0032163953874260187,0.04479764401912689,0.021407730877399445,-0.021378641948103905,0.08791352063417435,-0.012015163898468018,-0.02272362820804119,-0.014742889441549778,0.041242655366659164,0.02221818082034588,0.03215698525309563,-0.04932976886630058,0.015042460523545742,0.033809322863817215,0.06929370760917664,-0.0038133859634399414,0.022175956517457962,0.06507513672113419,-0.03603249788284302,0.013783435337245464,0.04813922196626663,-0.03559115156531334,-0.01816461980342865,-0.029219385236501694,-0.021454427391290665,0.009166432544589043,0.0022979879286140203,-0.060087110847234726,0.04459834843873978,-0.03847179189324379,-0.0346854105591774,0.0027134225238114595,0.02478058822453022,-0.01521876361221075,-0.011891969479620457,-0.020548326894640923,0.0897919237613678,-0.03057238645851612,0.04490862786769867,0.026450715959072113,-0.03718959167599678,0.05337158218026161,-0.020103484392166138,0.01079295389354229,0.04194348305463791,0.003964350093156099,-0.014990130439400673,0.0064013367518782616,-0.02609344758093357,-0.029851410537958145,0.03253079578280449,-0.01071599218994379,-0.027750739827752113,-0.012654123827815056,-0.03735284507274628,0.03229918330907822,0.018551738932728767,-0.02775106020271778,-0.07607745379209518,0.0328005850315094,-0.008821099996566772,-0.004175564739853144,0.009160886518657207,-0.00009768731979420409,-0.07235162705183029,-0.008391084149479866,-0.0057321637868881226,-0.017832588404417038,0.030333958566188812,-0.0029743355698883533,-0.022415267303586006,-0.0003290617314632982,-0.01851048320531845,0.026230324059724808,-0.01891649328172207,0.039664410054683685,0.0499998964369297,-0.0024701706133782864,0.038744453340768814,-0.019621048122644424,0.024881847202777863,-0.06085476279258728,-0.02229386754333973,-0.03491581231355667,-0.002229755511507392,0.043249353766441345,0.030804947018623352,-0.02458682656288147,0.05188243091106415,0.13997313380241394,0.007172862533479929,0.03951253369450569,0.024630699306726456,0.028966160491108894,-0.04198521748185158,-0.009959491901099682,-0.0710182785987854,-0.006151712033897638,-0.11491181701421738,-0.013451982289552689,-0.0077260565012693405,-0.01201073732227087,0.04804644733667374,0.018687935546040535,-0.011454149149358273,0.017307428643107414,-0.016608841717243195,-0.024655211716890335,-0.046893928200006485,-0.003249780973419547,0.0011306745000183582,0.03907681629061699,0.014165906235575676,-0.009447052143514156,0.019283317029476166,-0.020991219207644463,0.04502560943365097,0.0050499942153692245,0.04365639016032219,-0.06389198452234268,0.025655001401901245,0.023724500089883804,0.04471127688884735,0.0376790389418602,-0.02333531528711319,0.00547213526442647,-0.01934434287250042,-0.015825115144252777,-0.02429361827671528,0.038310132920742035,-0.007551271002739668,-0.05302528291940689,-0.03744491562247276,-0.014451885595917702,0.04627295210957527,0.022257855162024498,-0.02148599550127983,0.05896449089050293,-0.006621390115469694,-0.06063664332032204,0.03374587371945381,0.004896977450698614,0.009616716764867306,0.019344210624694824,0.03295772895216942,-0.017879720777273178,0.011380921117961407,0.009480654262006283,-0.07949437201023102,0.0769895613193512,0.01536543294787407,0.002969365334138274,-0.03364456444978714,0.014712871052324772,-0.035644788295030594,0.01294602919369936,0.03167664632201195,0.03817712515592575,-0.007466231472790241,0.02204168401658535,0.06390150636434555,0.022988276556134224,-0.048966046422719955,0.010455871000885963,0.015496443957090378,0.013066618703305721,-0.03398635610938072,0.025173701345920563,0.09356523305177689,0.006475245114415884,-0.05805608257651329,-0.00999167375266552,0.005212996620684862,0.014344066381454468,0.03376397117972374,0.005501751787960529,-0.04309363663196564,-0.0222355667501688,0.03466964513063431,0.0008124166051857173,-0.08787685632705688,0.0005470464820973575,0.0198589526116848,-0.09664051234722137,0.005497909151017666,-0.021164415404200554,-0.009613524191081524,0.017721958458423615,-0.039468470960855484,0.006877551320940256,-0.0266420878469944,-0.001446863985620439,0.0009858434787020087,-0.010468830354511738,-0.06232420355081558,0.03731149807572365,0.03682564198970795,0.0013084269594401121,0.02160898968577385,-0.002364788670092821,-0.002157666487619281,-0.021023204550147057,-0.01296749897301197,0.06324470043182373,-0.019804125651717186,0.005064801312983036,0.007182089611887932,-0.02948540821671486,-0.0592835433781147,-0.003650395665317774,0.009615297429263592,-0.049410734325647354,0.03534562885761261,0.07141587138175964,0.013398973271250725,-0.0014406602131202817,-0.014732075855135918,0.008083395659923553,0.010825518518686295,-0.013616942800581455,0.021766044199466705,-0.018306143581867218,-0.028550146147608757,-0.029025837779045105,-0.039376795291900635,0.002590895164757967,0.003785074921324849,-0.07407126575708389,0.013577325269579887,0.026130415499210358,0.009906509891152382,0.011497965082526207,0.06257601827383041,-0.07449698448181152,0.0493040569126606,0.04131348803639412,0.052140012383461,-0.05252290517091751,-0.0014683472691103816,0.014897831715643406,-0.0402398556470871,0.01744227297604084,0.003783769439905882,0.027094755321741104,0.08815737068653107,-0.021242713555693626,-0.001680969726294279,0.05576104298233986,0.01384035311639309,0.00441540265455842,0.03715590760111809,0.020728634670376778,-0.029674287885427475,0.09698610007762909,-0.0389130562543869,0.04052836075425148,0.024359747767448425,-0.011190999299287796,0.010507526807487011,0.0019943073857575655,0.04729020968079567,0.01662837341427803,0.040779147297143936,-0.042878199368715286,-0.03172307088971138,-0.05770197883248329,-0.026898713782429695,-0.01366641465574503,-0.012456856667995453,-0.005030821543186903,0.02079705521464348,0.017813194543123245,0.0029365525115281343,0.0051648891530931,0.017188113182783127,-0.052573349326848984,0.013385958969593048,-0.009955501183867455,-0.011667191982269287,-0.03516456112265587,-0.0314217284321785,0.04457436501979828,-0.03393281623721123,-0.0254405178129673,0.009149969555437565,-0.013817341066896915,-0.039226509630680084,-0.021431339904665947,-0.0014907604781910777,-0.04570053890347481,0.04145678132772446,-0.0038911679293960333,-0.01881585642695427,-0.007445208728313446,0.06466469168663025,0.015617743134498596,-0.058846209198236465,-0.040594931691884995,-0.021013909950852394,0.037014465779066086,0.00027621592744253576,-0.0541239008307457,0.03752463683485985,0.012413573451340199,-0.023453038185834885,0.02232087403535843,0.005299742333590984,-0.04410897567868233,0.030449993908405304,-0.009649124927818775,-0.07383016496896744,0.004038607701659203,0.003457434941083193,0.02235076017677784,-0.012970667332410812,0.008854656480252743,-0.017931237816810608,-0.11544711887836456,-0.04060222581028938,-0.1343398541212082,0.030373623594641685,0.02847471833229065,-0.029341435059905052,-0.02653108537197113,-0.04515905678272247,-0.044204264879226685,0.04080852493643761,-0.0111243836581707,0.016919080168008804,0.0230124332010746,-0.014625443145632744,-0.004031863529235125,0.01543143205344677,-0.03296346217393875,0.03483706712722778,-0.11205950379371643,0.035054776817560196,0.07762711495161057,-0.026070203632116318,-0.024010468274354935,-0.012157944031059742,0.00311957485973835,-0.020011069253087044,-0.011197968386113644,-0.014070313423871994,0.06323887407779694,0.014975186437368393,0.02942420169711113,-0.001576924347318709,-0.013594386167824268,-0.05393509939312935,-0.04141262546181679,-0.04093678668141365,-0.016505127772688866,-0.0021956597920507193,-0.02210979536175728,0.05599381774663925,0.015622098930180073,0.0034831445664167404,0.0500759482383728,0.011664341203868389,0.015857042744755745,0.025360072031617165,-0.01514104288071394,-0.06480200588703156,0.07408734411001205,0.008665344677865505,-0.0020677796564996243,-0.04392163082957268,0.058941133320331573,0.06656359136104584,-0.015599381178617477,0.020964136347174644,0.00462715607136488,-0.021171705797314644,-0.01891934685409069,0.07544472068548203,-0.018601374700665474,0.022236501798033714,0.015076074749231339,0.04579503834247589,0.036229852586984634,0.018175911158323288,-0.02606024034321308,-0.06632696837186813,0.01864299550652504,-0.03343145176768303,0.01650458760559559,0.025976067408919334,-0.023612359538674355,0.01859121210873127,-0.09385906159877777,-0.056633587926626205,0.0012010748032480478,-0.024186331778764725,0.020082324743270874,-0.045469045639038086,-0.055667173117399216,0.00811051670461893,-0.03457249328494072,0.052035119384527206,0.05934937670826912,0.0012992636766284704,-0.04060797393321991,-0.03463681414723396,0.016785161569714546,-0.021907826885581017,-7.307623731727927e-33,-0.005009163171052933,-0.040635526180267334,-0.0033513072412461042,-0.061667125672101974,0.010945509187877178,-0.07105273753404617,0.0256143007427454,-0.05175955221056938,0.011734126135706902,0.0001236861280631274,-0.014744522981345654,0.024705860763788223,0.022879259660840034,-0.03891335055232048,-0.023118756711483,-0.02835841290652752,0.03218452259898186,-0.023005763068795204,-0.02282531000673771,0.06275223940610886,-0.03170774132013321,-0.003443790366873145,-0.046789225190877914,0.009471072815358639,-0.04091357812285423,-0.01824473962187767,0.017525432631373405,-0.025453848764300346,-0.09297482669353485,0.019723067060112953,-0.003813938470557332,-0.02969491295516491,-0.015638630837202072,-0.029166432097554207,0.004862617235630751,-0.06965484470129013,-0.050110675394535065,0.01968761347234249,-0.03326869010925293,0.01610523648560047,0.10485338419675827,-0.028428634628653526,-0.025816872715950012,-0.005751568358391523,-0.043875861912965775,0.01072489283978939,-0.0033291098661720753,0.016939707100391388,-0.01251993328332901,-0.03833523765206337,0.028019171208143234,0.003987129777669907,-0.005462768021970987,0.014388645067811012,0.02600841596722603,0.1046522855758667,0.05682174861431122,0.030963050201535225,-0.06040705367922783,-0.02165955863893032,0.0067580523900687695,-0.008141767233610153,0.030969731509685516,0.059889521449804306,0.027120349928736687,-0.007162786554545164,0.02799125202000141,0.07178746163845062,0.003122201655060053,-0.019607143476605415,0.046337734907865524,-0.032169606536626816,-0.015104729682207108,-0.0643589198589325,0.0284150131046772,0.06730830669403076,0.02097316086292267,0.01976092718541622,-0.09688763320446014,0.043076690286397934,0.01908135414123535,-0.020624501630663872,-0.024711668491363525,0.005924370605498552,0.009483258239924908,0.06340716779232025,-0.02401016838848591,0.0019428763771429658,0.019057126715779305,0.022628197446465492,-0.04859290271997452,0.023913605138659477,-0.022484824061393738,-0.01790403015911579,-0.029402585700154305,0.027131462469697,0.002211845712736249,-0.02297917939722538,0.0030003408901393414,0.021289678290486336,0.0601109154522419,-0.030935076996684074,0.022401927039027214,0.009242375381290913,0.0021734749898314476,-0.029785219579935074,0.01968422718346119,-0.05120917409658432,-0.04106995090842247,0.023615209385752678,0.006497059017419815,0.002588430419564247,0.00628768652677536,-0.0020628138445317745,0.013132408261299133,0.043311286717653275,0.04009229317307472,0.03151385486125946,0.01063794270157814,-0.030721647664904594,0.02365553192794323,-0.02515443228185177,0.013260009698569775,0.0167213324457407,0.03876851871609688,0.006697362754493952,-0.030602170154452324,0.03742020204663277,-0.02513892948627472,-0.049626197665929794,0.0019474589498713613,0.042401887476444244,3.1383979148813523e-7,0.004869518335908651,0.03964534029364586,-0.01492390688508749,0.00716358982026577,0.011340645141899586,-0.02166084572672844,-0.008801468648016453,-0.04520130157470703,0.016099026426672935,-0.04006696492433548,-0.0177160631865263,0.013365557417273521,0.04066475108265877,0.021222278475761414,0.013568859547376633,-0.06027510017156601,0.02870590053498745,-0.019208384677767754,-0.05526378005743027,-0.022288700565695763,0.03357057645916939,-0.019132116809487343,-0.013881701044738293,0.0032061852980405092,0.02754322811961174,0.00559229264035821,0.016284877434372902,0.024148203432559967,-0.007252985145896673,0.00025971431750804186,0.08473982661962509,-0.055055756121873856,-0.01248368714004755,0.051422618329524994,0.003383092815056443,0.005070142447948456,-0.0558282844722271,-0.011527596972882748,0.023593608289957047,-0.03078511729836464,0.026816580444574356,-0.02899935469031334,-0.028956810012459755,0.01618259772658348,0.058391135185956955,0.014381949789822102,-0.00004241146962158382,0.053454529494047165,-0.02467315085232258,-0.0516522079706192,-0.004318728111684322,-0.004934616852551699,0.012462520971894264,-0.004166013095527887,0.01919485069811344,-0.0038116206414997578,0.0055942111648619175,0.038579538464546204,0.004069341812282801,-0.024528147652745247,-0.04029495641589165,-0.03819458931684494,0.012272319756448269,0.023157687857747078,-0.021335074678063393,-0.03989409655332565,-0.042739029973745346,4.176458419252142e-34,0.006596365012228489,-0.009475190192461014,0.04524093121290207,0.046908244490623474,0.009082469157874584,-0.007344402372837067,0.03096148744225502,0.010136638768017292,0.032762251794338226,-0.0801766887307167,0.011748460121452808]'
SET
  @TechnicalDesignVector_2c499d1d = N'[-0.0478287898004055,0.02486317977309227,-0.02564714476466179,-0.015785491093993187,-0.01002842839807272,0.027028823271393776,0.07462660223245621,0.08791237324476242,0.06449452042579651,-0.020402545109391212,0.006264781579375267,-0.0625544935464859,-0.03719098120927811,0.026904549449682236,0.012039230205118656,0.022533586248755455,0.011155766434967518,0.025993721559643745,-0.04478053003549576,-0.008375626057386398,0.04939762502908707,-0.03197580948472023,-0.008163776248693466,0.014504062943160534,-0.05314842611551285,-0.01007329672574997,-0.04615124687552452,0.01478647906333208,0.06278631836175919,-0.035260528326034546,0.007706101518124342,0.026912333443760872,-0.007044561207294464,0.0070521109737455845,0.0000021758951334049925,0.00012186495587229729,-0.033159732818603516,-0.0032980728428810835,0.0027072892989963293,0.02656812220811844,0.009020241908729076,-0.0020792430732399225,0.0016549485735595226,-0.04739884287118912,-0.011548045091331005,-0.048264652490615845,-0.03200684115290642,0.03652956709265709,0.03595082461833954,0.026667868718504906,0.01668439246714115,0.012101550586521626,-0.03284169360995293,0.029090920463204384,0.016163518652319908,0.008001390844583511,0.01944219134747982,-0.05562562495470047,0.04637376591563225,-0.06770031899213791,-0.013449684716761112,-0.008885861374437809,0.010150043293833733,-0.02011691778898239,-0.011768525466322899,0.03617800399661064,0.02260984480381012,0.01958400383591652,0.03687555342912674,-0.008418883197009563,0.14636771380901337,-0.04474649578332901,0.03588119521737099,-0.04287831112742424,-0.029812263324856758,0.007137532811611891,0.046767134219408035,-0.04391743615269661,-0.026451198384165764,0.03335007652640343,-0.0003182572836522013,-0.05398230627179146,-0.004759857431054115,-0.047133587300777435,-0.05767666548490524,0.06008146330714226,0.04408121854066849,0.013726439327001572,-0.11505746841430664,-0.005572912748903036,0.08767631649971008,-0.015978893265128136,0.004270256496965885,0.02451339364051819,-0.05383925139904022,0.004740201868116856,-0.02181992307305336,-0.11799059063196182,0.03682178258895874,0.005101642105728388,-0.026600634679198265,0.004011375829577446,0.05072704330086708,0.005181518383324146,0.031888917088508606,0.1242275983095169,0.023739265277981758,0.020118845626711845,-0.005502646788954735,0.0037201144732534885,-0.019674578681588173,0.020006213337183,0.00936314556747675,0.028865251690149307,0.015225253067910671,-0.034683600068092346,0.0018641354981809855,-0.03336720168590546,-0.018330803140997887,0.007613233290612698,0.025539880618453026,-0.04863135516643524,0.0004608269955497235,0.007742283400148153,0.01656940206885338,-0.026719441637396812,-0.028153670951724052,-0.08230629563331604,-0.023380497470498085,-0.04029526934027672,-0.038558363914489746,-0.028387462720274925,-0.0018839682452380657,0.03472454473376274,-0.044871799647808075,0.018890975043177605,0.0380060039460659,-0.012769055552780628,-0.04117787629365921,0.06395018845796585,0.025830300524830818,0.02580849640071392,-0.021991459652781487,0.052364904433488846,0.03008253686130047,-0.021115237846970558,0.01204638835042715,-0.10429272800683975,-0.007527007255703211,-0.003464789828285575,0.04446236044168472,-0.040844522416591644,0.033082135021686554,-0.016091762110590935,0.004435435868799686,0.007096611429005861,0.01794414594769478,0.029340172186493874,0.07381661981344223,-0.026578601449728012,0.017738044261932373,0.04721568152308464,0.10078094899654388,0.02044677734375,0.002354837954044342,0.06757704168558121,-0.013791569508612156,-0.012143178842961788,0.029967613518238068,-0.06048563867807388,0.019347837194800377,-0.01581456884741783,-0.023984840139746666,-0.0067845904268324375,-0.0030322647653520107,-0.07604701071977615,0.004781120922416449,-0.05481691658496857,-0.043645747005939484,-0.0058595407754182816,-0.02634354680776596,-0.03629462048411369,0.01063424814492464,-0.006931243930011988,0.10001067817211151,-0.06093832105398178,0.0443732850253582,0.010210242122411728,-0.027006633579730988,0.041991911828517914,-0.020351888611912727,0.006461940240114927,0.011480976827442646,-0.005590586457401514,0.005525826010853052,0.004958234261721373,-0.053205810487270355,-0.005128942430019379,0.013386051170527935,0.017132041975855827,0.007044144906103611,-0.0094371996819973,0.0030079097487032413,0.04872189089655876,-0.00907390657812357,-0.01572498120367527,-0.0653141513466835,0.05072402581572533,0.004517766647040844,0.024110930040478706,0.030098043382167816,0.0100351981818676,-0.03310809284448624,-0.01253973226994276,0.006869759876281023,-0.04934389889240265,0.014373238198459148,0.022172730416059494,-0.06629423797130585,-0.0076871635392308235,-0.04430059716105461,0.06410564482212067,-0.01856813207268715,0.03472868725657463,0.09267117828130722,-0.021598296239972115,0.013942604884505272,-0.020639225840568542,-0.01351057831197977,-0.05558168515563011,-0.03787419945001602,-0.029718831181526184,-0.016574567183852196,0.06333785504102707,-0.0064459266141057014,-0.0187859944999218,0.014036298729479313,0.04546744376420975,0.0209791399538517,0.0647951066493988,0.022113557904958725,-0.02806170843541622,-0.03235010802745819,-0.014670456759631634,-0.028897790238261223,-0.009316668845713139,-0.04949590563774109,0.009862661361694336,-0.023634783923625946,0.01348055899143219,0.048432156443595886,0.023930324241518974,-0.00823501218110323,-0.001639215974137187,-0.0367802269756794,-0.054620999842882156,-0.0069196708500385284,0.020729245617985725,-0.010913248173892498,0.015960916876792908,-0.011434626765549183,0.0010365665657445788,0.005635536275804043,-0.025911593809723854,0.001504560699686408,-0.004663048777729273,0.03710325434803963,-0.020863046869635582,0.06217176839709282,-0.0039163511246442795,0.0693948045372963,0.043862953782081604,-0.03138253092765808,-0.015600016340613365,0.021526040509343147,-0.013008883222937584,-0.044906046241521835,0.018861375749111176,0.0017313725547865033,-0.05300289765000343,0.004486555233597755,-0.0233136136084795,0.03271827474236488,0.022918030619621277,-0.021040400490164757,0.045383524149656296,-0.009741741232573986,-0.06299424171447754,0.009965275414288044,0.005232690833508968,0.03748704120516777,0.01470885705202818,0.0020032324828207493,-0.017257053405046463,-0.006250598933547735,0.005139495711773634,0.012847120873630047,0.05572038143873215,-0.034692078828811646,0.037803858518600464,-0.01915816217660904,-0.0015200141351670027,-0.06631164997816086,0.0069602858275175095,0.008428222499787807,0.036280613392591476,-0.03135541081428528,0.05190408602356911,0.010414480231702328,0.046829693019390106,-0.010483126156032085,0.007473326288163662,-0.0026214413810521364,0.04084331542253494,-0.03433678299188614,0.03669150918722153,0.04715921729803085,-0.04684717208147049,-0.04852711409330368,0.04242842271924019,-0.02159588411450386,-0.018136262893676758,0.027103176340460777,0.01833237148821354,-0.055576007813215256,-0.018964091315865517,0.016321096569299698,-0.006463740020990372,-0.07301481813192368,-0.017405876889824867,-0.016558419913053513,-0.049903422594070435,-0.0032261849846690893,-0.014101231470704079,0.028141669929027557,-0.02016005851328373,-0.02515428327023983,-0.012460937723517418,-0.020779764279723167,0.012279212474822998,0.004464832600206137,-0.03547922149300575,-0.036526940762996674,0.07718387246131897,0.06430783867835999,-0.010702543891966343,-0.019809354096651077,0.01640213094651699,-0.036714475601911545,0.01158623956143856,0.0021416952367872,0.03568783029913902,0.00037160771898925304,0.00685895886272192,-0.004392801318317652,-0.0006118302699178457,-0.04266930744051933,-0.008354876190423965,-0.022384675219655037,-0.056295156478881836,0.04436458274722099,0.04051913321018219,0.06602419167757034,0.030814940109848976,0.0068336245603859425,0.00564005458727479,0.02776620164513588,-0.009046295657753944,-0.005615896545350552,-0.023978568613529205,0.021253090351819992,0.0017552213976159692,-0.01771688461303711,-0.0028909039683640003,-0.0139351487159729,-0.04174477607011795,0.0029416577890515327,0.03438422828912735,0.009198600426316261,0.010959775187075138,0.04208964481949806,-0.04463311284780502,0.07377862185239792,0.029304273426532745,0.04314524680376053,-0.04147108644247055,0.01097091380506754,0.004340710584074259,0.017265409231185913,-0.0516524538397789,-0.006691760383546352,-0.04518554359674454,0.053866252303123474,-0.026838816702365875,-0.0026123318821191788,0.062252771109342575,-0.022003458812832832,-0.0058301836252212524,0.06388229876756668,0.04464995861053467,-0.012748576700687408,0.09012527763843536,-0.012892118655145168,-0.004746627528220415,0.01960929110646248,0.00540578318759799,0.0011441900860518217,-0.015952998772263527,0.044532954692840576,0.03814273327589035,-0.01994978077709675,-0.04562611132860184,-0.01212896965444088,-0.03710681572556496,-0.06620817631483078,-0.02085190638899803,-0.018333064392209053,-0.03605683892965317,0.03852042183279991,0.0248451828956604,-0.008974929340183735,0.02916140668094158,0.027579177170991898,-0.026966014876961708,-0.0164126455783844,-0.009358338080346584,-0.034170690923929214,0.004938235506415367,-0.018399400636553764,0.04252324625849724,-0.0023313125129789114,-0.0018638045294210315,0.0219170693308115,-0.012737407349050045,-0.07310228049755096,0.002200695453211665,-0.009416500106453896,-0.022108877077698708,0.02138061448931694,-0.03110208921134472,-0.015316920354962349,-0.018677756190299988,0.06250172853469849,0.009222257882356644,-0.05541905015707016,-0.09951724112033844,-0.006790094077587128,0.07482936978340149,0.0319940447807312,-0.042508564889431,0.029523836448788643,0.026629285886883736,-0.05313573405146599,-0.00045191909885033965,0.043496765196323395,-0.07170708477497101,0.06790740042924881,0.03194766864180565,-0.09085255116224289,-0.005226569715887308,-0.015408596955239773,0.010890353471040726,-0.028323238715529442,0.031059235334396362,0.024940218776464462,-0.08585535734891891,-0.015152104198932648,-0.07492491602897644,0.030769020318984985,0.00804474949836731,-0.027921611443161964,-0.030707167461514473,-0.025414999574422836,-0.022139932960271835,0.029520900920033455,0.03298518434166908,0.04313025623559952,0.0007804581546224654,-0.019819974899291992,-0.013497809879481792,0.00499055115506053,-0.028858136385679245,-0.01609993539750576,-0.0888642892241478,0.01276185642927885,0.03987976908683777,-0.0023933995980769396,0.0019871913827955723,0.001388749573379755,-0.001437534810975194,-0.038040343672037125,-0.02864847518503666,-0.021940821781754494,0.1264060139656067,0.04378017783164978,0.03795900568366051,0.003792129922658205,-0.015650343149900436,0.014379962347447872,-0.04247954487800598,-0.03439218923449516,0.00494019128382206,0.007999148219823837,0.009128659963607788,0.0653536468744278,-0.01709507405757904,-0.030872296541929245,0.04652265086770058,0.03410034999251366,-0.01732086017727852,0.0274677537381649,-0.05358383432030678,-0.021348973736166954,0.05226996913552284,0.021866953000426292,0.05680876970291138,-0.00984683446586132,0.07839323580265045,0.06049829721450806,-0.018141627311706543,0.020322736352682114,0.002827153541147709,0.0008878602529875934,-0.005545616615563631,0.050128862261772156,0.018099060282111168,0.020151805132627487,0.03797801584005356,0.01686694473028183,0.014197016134858131,0.033145081251859665,0.03301127627491951,-0.02392970398068428,0.024761676788330078,-0.011519086547195911,0.018185514956712723,0.035920266062021255,0.010054975748062134,0.018042806535959244,-0.07135089486837387,-0.10143011063337326,0.046495795249938965,-0.003845273982733488,0.02338901348412037,-0.01364048756659031,-0.048170823603868484,0.028376730158925056,-0.06933487951755524,0.04203414171934128,0.03893435373902321,0.01334560476243496,-0.023393001407384872,-0.055507954210042953,0.024012746289372444,-0.0045568314380943775,-7.143496802362304e-33,-0.008796416223049164,-0.02029665932059288,0.0009195624734275043,-0.032904837280511856,-0.0014486402506008744,-0.06110771372914314,0.006485308520495892,-0.03671760484576225,-0.010297439992427826,0.0005801632069051266,-0.006959026213735342,0.003804075764492154,0.010424496605992317,-0.04605601355433464,-0.04887211695313454,-0.014790029264986515,0.011258020997047424,0.010365610010921955,-0.04843304678797722,0.08759292215108871,0.015754085034132004,0.01632705330848694,-0.007053755223751068,0.018132392317056656,-0.035785455256700516,-0.06034839153289795,0.028876451775431633,-0.02012993022799492,-0.09864240884780884,0.004691565874963999,-0.030512096360325813,0.002671949565410614,-0.023267371580004692,-0.07445123791694641,0.018794776871800423,-0.04161430522799492,-0.02169780805706978,-0.03321165218949318,0.01663787104189396,0.003068443387746811,0.14063972234725952,-0.05892203003168106,-0.029870543628931046,0.009098258800804615,-0.022801565006375313,0.013337301090359688,0.0013958633644506335,0.0560901015996933,0.0058527481742203236,-0.04623005911707878,0.03386836126446724,0.005380365997552872,-0.020677508786320686,0.03581104055047035,-0.004059540573507547,0.018162250518798828,0.06446990370750427,0.021975647658109665,-0.06052115932106972,-0.02509268932044506,0.013988986611366272,-0.007859203964471817,0.036269668489694595,0.02752228081226349,-0.0016423523193225265,0.013372502289712429,-0.03858640417456627,0.06681801378726959,-0.050385575741529465,-0.0017981703858822584,0.04375043883919716,-0.046219807118177414,-0.03305225074291229,-0.02532605081796646,-0.004103470593690872,0.03519313409924507,-0.005291416775435209,0.024129372090101242,-0.03649688512086868,0.038365546613931656,0.009200981818139553,0.02528160996735096,-0.00572740426287055,0.005100850481539965,-0.03332894295454025,0.0912012830376625,0.007548296824097633,-0.009123253636062145,0.01897304505109787,0.016924478113651276,-0.02001660317182541,0.0030376012437045574,-0.021993981674313545,0.009625592269003391,-0.02673865295946598,0.02814101055264473,0.016802381724119186,-0.03213603422045708,0.010804984718561172,0.01860678941011429,0.07893796265125275,-0.025249170139431953,0.016632435843348503,0.03353842347860336,0.0005119148991070688,-0.033315397799015045,-0.013919909484684467,-0.018183633685112,-0.02156025730073452,0.049737464636564255,-0.0070749614387750626,-0.010922921821475029,-0.008404668420553207,-0.012807643972337246,-0.020845821127295494,0.04517223313450813,0.03739667311310768,0.020609049126505852,0.014312081038951874,-0.026632320135831833,0.03807568922638893,0.013361109420657158,0.005806952249258757,0.037987809628248215,0.01866675354540348,0.006068803835660219,-0.06488220393657684,0.061931777745485306,-0.02193506434559822,-0.05970899015665054,0.0026907818391919136,0.04513665661215782,3.015094307556865e-7,0.006319188978523016,0.00691965501755476,-0.018567008897662163,-0.007147275377064943,0.03868448734283447,-0.025353455916047096,-0.02521752566099167,-0.033701341599226,-0.019351596012711525,-0.0596187599003315,-0.0536048449575901,0.016331877559423447,0.012795262038707733,0.005453305318951607,0.005047888029366732,-0.06351998448371887,0.015406661666929722,-0.005374040454626083,-0.06266316771507263,-0.015561207197606564,0.07207994908094406,-0.00950635690242052,0.03520828112959862,0.025325745344161987,0.038291119039058685,0.051242318004369736,0.018062135204672813,0.02718747965991497,0.05243706330657005,0.028491802513599396,0.02283960022032261,-0.005366479512304068,-0.018633438274264336,0.01783575490117073,0.007792943622916937,0.0007732555968686938,-0.05445630103349686,0.007474658079445362,0.015462860465049744,-0.003042182419449091,0.011774673126637936,-0.006629013456404209,-0.07335792481899261,-0.011411703191697598,0.055837251245975494,0.006667772773653269,-0.0005635007400996983,0.062746062874794,-0.06414545327425003,-0.022362984716892242,-0.040480837225914,-0.00020451283489819616,0.02387060597538948,-0.001191925024613738,0.0034084932412952185,0.0012642203364521265,0.026169676333665848,0.026542404666543007,0.026162484660744667,-0.008162357844412327,-0.020828336477279663,-0.040271416306495667,0.0008077776874415576,0.034829068928956985,-0.02380858175456524,-0.05617433413863182,-0.08124513924121857,3.626937309939281e-34,-0.036021869629621506,-0.030243054032325745,0.004377384670078754,0.049379464238882065,0.006931495387107134,-0.01749650575220585,-0.017902366816997528,-0.02779402956366539,0.035159386694431305,-0.05166826397180557,0.006980136502534151]'
SET
  @HasCustomProps_2c499d1d = 1
SET
  @HasCustomEvents_2c499d1d = 0
SET
  @RequiresData_2c499d1d = 1
SET
  @DependencyCount_2c499d1d = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_2c499d1d = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_2c499d1d = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_2c499d1d = 0
EXEC [${flyway:defaultSchema}].spCreateComponent @ID = @ID_2c499d1d,
  @Namespace = @Namespace_2c499d1d,
  @Name = @Name_2c499d1d,
  @Version = @Version_2c499d1d,
  @VersionSequence = @VersionSequence_2c499d1d,
  @Title = @Title_2c499d1d,
  @Description = @Description_2c499d1d,
  @Type = @Type_2c499d1d,
  @Status = @Status_2c499d1d,
  @DeveloperName = @DeveloperName_2c499d1d,
  @DeveloperEmail = @DeveloperEmail_2c499d1d,
  @DeveloperOrganization = @DeveloperOrganization_2c499d1d,
  @SourceRegistryID = @SourceRegistryID_2c499d1d,
  @ReplicatedAt = @ReplicatedAt_2c499d1d,
  @LastSyncedAt = @LastSyncedAt_2c499d1d,
  @Specification = @Specification_2c499d1d,
  @FunctionalRequirements = @FunctionalRequirements_2c499d1d,
  @TechnicalDesign = @TechnicalDesign_2c499d1d,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_2c499d1d,
  @TechnicalDesignVector = @TechnicalDesignVector_2c499d1d,
  @HasCustomProps = @HasCustomProps_2c499d1d,
  @HasCustomEvents = @HasCustomEvents_2c499d1d,
  @RequiresData = @RequiresData_2c499d1d,
  @DependencyCount = @DependencyCount_2c499d1d,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_2c499d1d,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_2c499d1d,
  @HasRequiredCustomProps = @HasRequiredCustomProps_2c499d1d;


-- End of SQL Logging Session
-- Session ID: 7da05406-1df1-4259-9405-6ea1d186b3e2
-- Completed: 2025-12-08T13:25:44.737Z
-- Duration: 58941ms
-- Total Statements: 23
